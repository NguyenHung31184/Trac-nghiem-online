var m8=Object.defineProperty;var g8=(t,e,n)=>e in t?m8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ln=(t,e,n)=>g8(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Vp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function x8(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var b1={exports:{}},Sf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function y8(){if(XE)return Sf;XE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:s}}return Sf.Fragment=e,Sf.jsx=n,Sf.jsxs=n,Sf}var JE;function v8(){return JE||(JE=1,b1.exports=y8()),b1.exports}var b=v8(),w1={exports:{}},mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function _8(){if(QE)return mt;QE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),p=Symbol.iterator;function x(G){return G===null||typeof G!="object"?null:(G=p&&G[p]||G["@@iterator"],typeof G=="function"?G:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function I(G,z,Y){this.props=G,this.context=z,this.refs=C,this.updater=Y||_}I.prototype.isReactComponent={},I.prototype.setState=function(G,z){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,z,"setState")},I.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function P(){}P.prototype=I.prototype;function A(G,z,Y){this.props=G,this.context=z,this.refs=C,this.updater=Y||_}var L=A.prototype=new P;L.constructor=A,w(L,I.prototype),L.isPureReactComponent=!0;var D=Array.isArray;function O(){}var k={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function R(G,z,Y){var ee=Y.ref;return{$$typeof:t,type:G,key:z,ref:ee!==void 0?ee:null,props:Y}}function V(G,z){return R(G.type,z,G.props)}function M(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function F(G){var z={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(Y){return z[Y]})}var q=/\/+/g;function ce(G,z){return typeof G=="object"&&G!==null&&G.key!=null?F(""+G.key):z.toString(36)}function oe(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(O,O):(G.status="pending",G.then(function(z){G.status==="pending"&&(G.status="fulfilled",G.value=z)},function(z){G.status==="pending"&&(G.status="rejected",G.reason=z)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function ae(G,z,Y,ee,re){var me=typeof G;(me==="undefined"||me==="boolean")&&(G=null);var Re=!1;if(G===null)Re=!0;else switch(me){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(G.$$typeof){case t:case e:Re=!0;break;case d:return Re=G._init,ae(Re(G._payload),z,Y,ee,re)}}if(Re)return re=re(G),Re=ee===""?"."+ce(G,0):ee,D(re)?(Y="",Re!=null&&(Y=Re.replace(q,"$&/")+"/"),ae(re,z,Y,"",function(ke){return ke})):re!=null&&(M(re)&&(re=V(re,Y+(re.key==null||G&&G.key===re.key?"":(""+re.key).replace(q,"$&/")+"/")+Re)),z.push(re)),1;Re=0;var Ne=ee===""?".":ee+":";if(D(G))for(var he=0;he<G.length;he++)ee=G[he],me=Ne+ce(ee,he),Re+=ae(ee,z,Y,me,re);else if(he=x(G),typeof he=="function")for(G=he.call(G),he=0;!(ee=G.next()).done;)ee=ee.value,me=Ne+ce(ee,he++),Re+=ae(ee,z,Y,me,re);else if(me==="object"){if(typeof G.then=="function")return ae(oe(G),z,Y,ee,re);throw z=String(G),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Re}function se(G,z,Y){if(G==null)return G;var ee=[],re=0;return ae(G,ee,"","",function(me){return z.call(Y,me,re++)}),ee}function ge(G){if(G._status===-1){var z=G._result;z=z(),z.then(function(Y){(G._status===0||G._status===-1)&&(G._status=1,G._result=Y)},function(Y){(G._status===0||G._status===-1)&&(G._status=2,G._result=Y)}),G._status===-1&&(G._status=0,G._result=z)}if(G._status===1)return G._result.default;throw G._result}var Z=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},Ee={map:se,forEach:function(G,z,Y){se(G,function(){z.apply(this,arguments)},Y)},count:function(G){var z=0;return se(G,function(){z++}),z},toArray:function(G){return se(G,function(z){return z})||[]},only:function(G){if(!M(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return mt.Activity=g,mt.Children=Ee,mt.Component=I,mt.Fragment=n,mt.Profiler=i,mt.PureComponent=A,mt.StrictMode=r,mt.Suspense=f,mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,mt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return k.H.useMemoCache(G)}},mt.cache=function(G){return function(){return G.apply(null,arguments)}},mt.cacheSignal=function(){return null},mt.cloneElement=function(G,z,Y){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var ee=w({},G.props),re=G.key;if(z!=null)for(me in z.key!==void 0&&(re=""+z.key),z)!N.call(z,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&z.ref===void 0||(ee[me]=z[me]);var me=arguments.length-2;if(me===1)ee.children=Y;else if(1<me){for(var Re=Array(me),Ne=0;Ne<me;Ne++)Re[Ne]=arguments[Ne+2];ee.children=Re}return R(G.type,re,ee)},mt.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:s,_context:G},G},mt.createElement=function(G,z,Y){var ee,re={},me=null;if(z!=null)for(ee in z.key!==void 0&&(me=""+z.key),z)N.call(z,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(re[ee]=z[ee]);var Re=arguments.length-2;if(Re===1)re.children=Y;else if(1<Re){for(var Ne=Array(Re),he=0;he<Re;he++)Ne[he]=arguments[he+2];re.children=Ne}if(G&&G.defaultProps)for(ee in Re=G.defaultProps,Re)re[ee]===void 0&&(re[ee]=Re[ee]);return R(G,me,re)},mt.createRef=function(){return{current:null}},mt.forwardRef=function(G){return{$$typeof:l,render:G}},mt.isValidElement=M,mt.lazy=function(G){return{$$typeof:d,_payload:{_status:-1,_result:G},_init:ge}},mt.memo=function(G,z){return{$$typeof:c,type:G,compare:z===void 0?null:z}},mt.startTransition=function(G){var z=k.T,Y={};k.T=Y;try{var ee=G(),re=k.S;re!==null&&re(Y,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(O,Z)}catch(me){Z(me)}finally{z!==null&&Y.types!==null&&(z.types=Y.types),k.T=z}},mt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},mt.use=function(G){return k.H.use(G)},mt.useActionState=function(G,z,Y){return k.H.useActionState(G,z,Y)},mt.useCallback=function(G,z){return k.H.useCallback(G,z)},mt.useContext=function(G){return k.H.useContext(G)},mt.useDebugValue=function(){},mt.useDeferredValue=function(G,z){return k.H.useDeferredValue(G,z)},mt.useEffect=function(G,z){return k.H.useEffect(G,z)},mt.useEffectEvent=function(G){return k.H.useEffectEvent(G)},mt.useId=function(){return k.H.useId()},mt.useImperativeHandle=function(G,z,Y){return k.H.useImperativeHandle(G,z,Y)},mt.useInsertionEffect=function(G,z){return k.H.useInsertionEffect(G,z)},mt.useLayoutEffect=function(G,z){return k.H.useLayoutEffect(G,z)},mt.useMemo=function(G,z){return k.H.useMemo(G,z)},mt.useOptimistic=function(G,z){return k.H.useOptimistic(G,z)},mt.useReducer=function(G,z,Y){return k.H.useReducer(G,z,Y)},mt.useRef=function(G){return k.H.useRef(G)},mt.useState=function(G){return k.H.useState(G)},mt.useSyncExternalStore=function(G,z,Y){return k.H.useSyncExternalStore(G,z,Y)},mt.useTransition=function(){return k.H.useTransition()},mt.version="19.2.0",mt}var ZE;function Oy(){return ZE||(ZE=1,w1.exports=_8()),w1.exports}var le=Oy();const T8=Vp(le);var S1={exports:{}},Af={},A1={exports:{}},C1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb;function E8(){return eb||(eb=1,(function(t){function e(ae,se){var ge=ae.length;ae.push(se);e:for(;0<ge;){var Z=ge-1>>>1,Ee=ae[Z];if(0<i(Ee,se))ae[Z]=se,ae[ge]=Ee,ge=Z;else break e}}function n(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var se=ae[0],ge=ae.pop();if(ge!==se){ae[0]=ge;e:for(var Z=0,Ee=ae.length,G=Ee>>>1;Z<G;){var z=2*(Z+1)-1,Y=ae[z],ee=z+1,re=ae[ee];if(0>i(Y,ge))ee<Ee&&0>i(re,Y)?(ae[Z]=re,ae[ee]=ge,Z=ee):(ae[Z]=Y,ae[z]=ge,Z=z);else if(ee<Ee&&0>i(re,ge))ae[Z]=re,ae[ee]=ge,Z=ee;else break e}}return se}function i(ae,se){var ge=ae.sortIndex-se.sortIndex;return ge!==0?ge:ae.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var f=[],c=[],d=1,g=null,p=3,x=!1,_=!1,w=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function L(ae){for(var se=n(c);se!==null;){if(se.callback===null)r(c);else if(se.startTime<=ae)r(c),se.sortIndex=se.expirationTime,e(f,se);else break;se=n(c)}}function D(ae){if(w=!1,L(ae),!_)if(n(f)!==null)_=!0,O||(O=!0,F());else{var se=n(c);se!==null&&oe(D,se.startTime-ae)}}var O=!1,k=-1,N=5,R=-1;function V(){return C?!0:!(t.unstable_now()-R<N)}function M(){if(C=!1,O){var ae=t.unstable_now();R=ae;var se=!0;try{e:{_=!1,w&&(w=!1,P(k),k=-1),x=!0;var ge=p;try{t:{for(L(ae),g=n(f);g!==null&&!(g.expirationTime>ae&&V());){var Z=g.callback;if(typeof Z=="function"){g.callback=null,p=g.priorityLevel;var Ee=Z(g.expirationTime<=ae);if(ae=t.unstable_now(),typeof Ee=="function"){g.callback=Ee,L(ae),se=!0;break t}g===n(f)&&r(f),L(ae)}else r(f);g=n(f)}if(g!==null)se=!0;else{var G=n(c);G!==null&&oe(D,G.startTime-ae),se=!1}}break e}finally{g=null,p=ge,x=!1}se=void 0}}finally{se?F():O=!1}}}var F;if(typeof A=="function")F=function(){A(M)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ce=q.port2;q.port1.onmessage=M,F=function(){ce.postMessage(null)}}else F=function(){I(M,0)};function oe(ae,se){k=I(function(){ae(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(ae){switch(p){case 1:case 2:case 3:var se=3;break;default:se=p}var ge=p;p=se;try{return ae()}finally{p=ge}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(ae,se){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ge=p;p=ae;try{return se()}finally{p=ge}},t.unstable_scheduleCallback=function(ae,se,ge){var Z=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Z+ge:Z):ge=Z,ae){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ge+Ee,ae={id:d++,callback:se,priorityLevel:ae,startTime:ge,expirationTime:Ee,sortIndex:-1},ge>Z?(ae.sortIndex=ge,e(c,ae),n(f)===null&&ae===n(c)&&(w?(P(k),k=-1):w=!0,oe(D,ge-Z))):(ae.sortIndex=Ee,e(f,ae),_||x||(_=!0,O||(O=!0,F()))),ae},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(ae){var se=p;return function(){var ge=p;p=se;try{return ae.apply(this,arguments)}finally{p=ge}}}})(C1)),C1}var tb;function b8(){return tb||(tb=1,A1.exports=E8()),A1.exports}var I1={exports:{}},gr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nb;function w8(){if(nb)return gr;nb=1;var t=Oy();function e(f){var c="https://react.dev/errors/"+f;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+f+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,c,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:c,implementation:d}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(f,c){if(f==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gr.createPortal=function(f,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return s(f,c,null,d)},gr.flushSync=function(f){var c=o.T,d=r.p;try{if(o.T=null,r.p=2,f)return f()}finally{o.T=c,r.p=d,r.d.f()}},gr.preconnect=function(f,c){typeof f=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(f,c))},gr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},gr.preinit=function(f,c){if(typeof f=="string"&&c&&typeof c.as=="string"){var d=c.as,g=l(d,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,x=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?r.d.S(f,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:g,integrity:p,fetchPriority:x}):d==="script"&&r.d.X(f,{crossOrigin:g,integrity:p,fetchPriority:x,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},gr.preinitModule=function(f,c){if(typeof f=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=l(c.as,c.crossOrigin);r.d.M(f,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(f)},gr.preload=function(f,c){if(typeof f=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,g=l(d,c.crossOrigin);r.d.L(f,d,{crossOrigin:g,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},gr.preloadModule=function(f,c){if(typeof f=="string")if(c){var d=l(c.as,c.crossOrigin);r.d.m(f,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(f)},gr.requestFormReset=function(f){r.d.r(f)},gr.unstable_batchedUpdates=function(f,c){return f(c)},gr.useFormState=function(f,c,d){return o.H.useFormState(f,c,d)},gr.useFormStatus=function(){return o.H.useHostTransitionStatus()},gr.version="19.2.0",gr}var rb;function S8(){if(rb)return I1.exports;rb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),I1.exports=w8(),I1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib;function A8(){if(ib)return Af;ib=1;var t=b8(),e=Oy(),n=S8();function r(a){var u="https://react.dev/errors/"+a;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var u=a,h=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(h=u.return),a=u.return;while(a)}return u.tag===3?h:null}function o(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function l(a){if(a.tag===31){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function c(a){var u=a.alternate;if(!u){if(u=s(a),u===null)throw Error(r(188));return u!==a?null:a}for(var h=a,m=u;;){var T=h.return;if(T===null)break;var S=T.alternate;if(S===null){if(m=T.return,m!==null){h=m;continue}break}if(T.child===S.child){for(S=T.child;S;){if(S===h)return f(T),a;if(S===m)return f(T),u;S=S.sibling}throw Error(r(188))}if(h.return!==m.return)h=T,m=S;else{for(var B=!1,W=T.child;W;){if(W===h){B=!0,h=T,m=S;break}if(W===m){B=!0,m=T,h=S;break}W=W.sibling}if(!B){for(W=S.child;W;){if(W===h){B=!0,h=S,m=T;break}if(W===m){B=!0,m=S,h=T;break}W=W.sibling}if(!B)throw Error(r(189))}}if(h.alternate!==m)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?a:u}function d(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a;for(a=a.child;a!==null;){if(u=d(a),u!==null)return u;a=a.sibling}return null}var g=Object.assign,p=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),A=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function F(a){return a===null||typeof a!="object"?null:(a=M&&a[M]||a["@@iterator"],typeof a=="function"?a:null)}var q=Symbol.for("react.client.reference");function ce(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===q?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case I:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case O:return"SuspenseList";case R:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case _:return"Portal";case A:return a.displayName||"Context";case P:return(a._context.displayName||"Context")+".Consumer";case L:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case k:return u=a.displayName||null,u!==null?u:ce(a.type)||"Memo";case N:u=a._payload,a=a._init;try{return ce(a(u))}catch{}}return null}var oe=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Z=[],Ee=-1;function G(a){return{current:a}}function z(a){0>Ee||(a.current=Z[Ee],Z[Ee]=null,Ee--)}function Y(a,u){Ee++,Z[Ee]=a.current,a.current=u}var ee=G(null),re=G(null),me=G(null),Re=G(null);function Ne(a,u){switch(Y(me,u),Y(re,a),Y(ee,null),u.nodeType){case 9:case 11:a=(a=u.documentElement)&&(a=a.namespaceURI)?vE(a):0;break;default:if(a=u.tagName,u=u.namespaceURI)u=vE(u),a=_E(u,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}z(ee),Y(ee,a)}function he(){z(ee),z(re),z(me)}function ke(a){a.memoizedState!==null&&Y(Re,a);var u=ee.current,h=_E(u,a.type);u!==h&&(Y(re,a),Y(ee,h))}function de(a){re.current===a&&(z(ee),z(re)),Re.current===a&&(z(Re),Tf._currentValue=ge)}var K,Ae;function Fe(a){if(K===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);K=u&&u[1]||"",Ae=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+K+a+Ae}var Ke=!1;function qe(a,u){if(!a||Ke)return"";Ke=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(u){var Oe=function(){throw Error()};if(Object.defineProperty(Oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Oe,[])}catch(Ie){var Se=Ie}Reflect.construct(a,[],Oe)}else{try{Oe.call()}catch(Ie){Se=Ie}a.call(Oe.prototype)}}else{try{throw Error()}catch(Ie){Se=Ie}(Oe=a())&&typeof Oe.catch=="function"&&Oe.catch(function(){})}}catch(Ie){if(Ie&&Se&&typeof Ie.stack=="string")return[Ie.stack,Se.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),B=S[0],W=S[1];if(B&&W){var ue=B.split(`
`),Te=W.split(`
`);for(T=m=0;m<ue.length&&!ue[m].includes("DetermineComponentFrameRoot");)m++;for(;T<Te.length&&!Te[T].includes("DetermineComponentFrameRoot");)T++;if(m===ue.length||T===Te.length)for(m=ue.length-1,T=Te.length-1;1<=m&&0<=T&&ue[m]!==Te[T];)T--;for(;1<=m&&0<=T;m--,T--)if(ue[m]!==Te[T]){if(m!==1||T!==1)do if(m--,T--,0>T||ue[m]!==Te[T]){var Me=`
`+ue[m].replace(" at new "," at ");return a.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",a.displayName)),Me}while(1<=m&&0<=T);break}}}finally{Ke=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?Fe(h):""}function He(a,u){switch(a.tag){case 26:case 27:case 5:return Fe(a.type);case 16:return Fe("Lazy");case 13:return a.child!==u&&u!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return qe(a.type,!1);case 11:return qe(a.type.render,!1);case 1:return qe(a.type,!0);case 31:return Fe("Activity");default:return""}}function nt(a){try{var u="",h=null;do u+=He(a,h),h=a,a=a.return;while(a);return u}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Ge=Object.prototype.hasOwnProperty,We=t.unstable_scheduleCallback,Yt=t.unstable_cancelCallback,ot=t.unstable_shouldYield,ut=t.unstable_requestPaint,st=t.unstable_now,bt=t.unstable_getCurrentPriorityLevel,dt=t.unstable_ImmediatePriority,tn=t.unstable_UserBlockingPriority,wt=t.unstable_NormalPriority,Pn=t.unstable_LowPriority,ht=t.unstable_IdlePriority,Ut=t.log,nn=t.unstable_setDisableYieldValue,St=null,rn=null;function kr(a){if(typeof Ut=="function"&&nn(a),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(St,a)}catch{}}var Tn=Math.clz32?Math.clz32:Go,Ju=Math.log,Us=Math.LN2;function Go(a){return a>>>=0,a===0?32:31-(Ju(a)/Us|0)|0}var Qr=256,Vs=262144,bn=4194304;function Rr(a){var u=a&42;if(u!==0)return u;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function pi(a,u,h){var m=a.pendingLanes;if(m===0)return 0;var T=0,S=a.suspendedLanes,B=a.pingedLanes;a=a.warmLanes;var W=m&134217727;return W!==0?(m=W&~S,m!==0?T=Rr(m):(B&=W,B!==0?T=Rr(B):h||(h=W&~a,h!==0&&(T=Rr(h))))):(W=m&~S,W!==0?T=Rr(W):B!==0?T=Rr(B):h||(h=m&~a,h!==0&&(T=Rr(h)))),T===0?0:u!==0&&u!==T&&(u&S)===0&&(S=T&-T,h=u&-u,S>=h||S===32&&(h&4194048)!==0)?u:T}function Zr(a,u){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&u)===0}function Rc(a,u){switch(a){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qu(){var a=bn;return bn<<=1,(bn&62914560)===0&&(bn=4194304),a}function mi(a){for(var u=[],h=0;31>h;h++)u.push(a);return u}function Bs(a,u){a.pendingLanes|=u,u!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Nc(a,u,h,m,T,S){var B=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var W=a.entanglements,ue=a.expirationTimes,Te=a.hiddenUpdates;for(h=B&~h;0<h;){var Me=31-Tn(h),Oe=1<<Me;W[Me]=0,ue[Me]=-1;var Se=Te[Me];if(Se!==null)for(Te[Me]=null,Me=0;Me<Se.length;Me++){var Ie=Se[Me];Ie!==null&&(Ie.lane&=-536870913)}h&=~Oe}m!==0&&qs(a,m,0),S!==0&&T===0&&a.tag!==0&&(a.suspendedLanes|=S&~(B&~u))}function qs(a,u,h){a.pendingLanes|=u,a.suspendedLanes&=~u;var m=31-Tn(u);a.entangledLanes|=u,a.entanglements[m]=a.entanglements[m]|1073741824|h&261930}function Hs(a,u){var h=a.entangledLanes|=u;for(a=a.entanglements;h;){var m=31-Tn(h),T=1<<m;T&u|a[m]&u&&(a[m]|=u),h&=~T}}function jo(a,u){var h=u&-u;return h=(h&42)!==0?1:zs(h),(h&(a.suspendedLanes|u))!==0?0:h}function zs(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Li(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function j(){var a=se.p;return a!==0?a:(a=window.event,a===void 0?32:zE(a.type))}function ne(a,u){var h=se.p;try{return se.p=a,u()}finally{se.p=h}}var X=Math.random().toString(36).slice(2),Q="__reactFiber$"+X,te="__reactProps$"+X,ie="__reactContainer$"+X,ve="__reactEvents$"+X,De="__reactListeners$"+X,_e="__reactHandles$"+X,we="__reactResources$"+X,be="__reactMarker$"+X;function Be(a){delete a[Q],delete a[te],delete a[ve],delete a[De],delete a[_e]}function ze(a){var u=a[Q];if(u)return u;for(var h=a.parentNode;h;){if(u=h[ie]||h[Q]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(a=CE(a);a!==null;){if(h=a[Q])return h;a=CE(a)}return u}a=h,h=a.parentNode}return null}function Ye(a){if(a=a[Q]||a[ie]){var u=a.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return a}return null}function Ve(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a.stateNode;throw Error(r(33))}function $e(a){var u=a[we];return u||(u=a[we]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Ze(a){a[be]=!0}var Xt=new Set,Jt={};function cn(a,u){pr(a,u),pr(a+"Capture",u)}function pr(a,u){for(Jt[a]=u,a=0;a<u.length;a++)Xt.add(u[a])}var Oi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fi={},ei={};function Ca(a){return Ge.call(ei,a)?!0:Ge.call(Fi,a)?!1:Oi.test(a)?ei[a]=!0:(Fi[a]=!0,!1)}function mr(a,u,h){if(Ca(u))if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(u);return;case"boolean":var m=u.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(u);return}}a.setAttribute(u,""+h)}}function ti(a,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttribute(u,""+h)}}function Ln(a,u,h,m){if(m===null)a.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(u,h,""+m)}}function Qn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ia(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Dc(a,u,h){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,u);if(!a.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var T=m.get,S=m.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return T.call(this)},set:function(B){h=""+B,S.call(this,B)}}),Object.defineProperty(a,u,{enumerable:m.enumerable}),{getValue:function(){return h},setValue:function(B){h=""+B},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Qt(a){if(!a._valueTracker){var u=Ia(a)?"checked":"value";a._valueTracker=Dc(a,u,""+a[u])}}function $o(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var h=u.getValue(),m="";return a&&(m=Ia(a)?a.checked?"true":"false":a.value),a=m,a!==h?(u.setValue(a),!0):!1}function ls(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Wo=/[\n"\\]/g;function Vr(a){return a.replace(Wo,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Zu(a,u,h,m,T,S,B,W){a.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?a.type=B:a.removeAttribute("type"),u!=null?B==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+Qn(u)):a.value!==""+Qn(u)&&(a.value=""+Qn(u)):B!=="submit"&&B!=="reset"||a.removeAttribute("value"),u!=null?Mc(a,B,Qn(u)):h!=null?Mc(a,B,Qn(h)):m!=null&&a.removeAttribute("value"),T==null&&S!=null&&(a.defaultChecked=!!S),T!=null&&(a.checked=T&&typeof T!="function"&&typeof T!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?a.name=""+Qn(W):a.removeAttribute("name")}function X0(a,u,h,m,T,S,B,W){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.type=S),u!=null||h!=null){if(!(S!=="submit"&&S!=="reset"||u!=null)){Qt(a);return}h=h!=null?""+Qn(h):"",u=u!=null?""+Qn(u):h,W||u===a.value||(a.value=u),a.defaultValue=u}m=m??T,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=W?a.checked:!!m,a.defaultChecked=!!m,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(a.name=B),Qt(a)}function Mc(a,u,h){u==="number"&&ls(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function ka(a,u,h,m){if(a=a.options,u){u={};for(var T=0;T<h.length;T++)u["$"+h[T]]=!0;for(h=0;h<a.length;h++)T=u.hasOwnProperty("$"+a[h].value),a[h].selected!==T&&(a[h].selected=T),T&&m&&(a[h].defaultSelected=!0)}else{for(h=""+Qn(h),u=null,T=0;T<a.length;T++){if(a[T].value===h){a[T].selected=!0,m&&(a[T].defaultSelected=!0);return}u!==null||a[T].disabled||(u=a[T])}u!==null&&(u.selected=!0)}}function J0(a,u,h){if(u!=null&&(u=""+Qn(u),u!==a.value&&(a.value=u),h==null)){a.defaultValue!==u&&(a.defaultValue=u);return}a.defaultValue=h!=null?""+Qn(h):""}function Ra(a,u,h,m){if(u==null){if(m!=null){if(h!=null)throw Error(r(92));if(oe(m)){if(1<m.length)throw Error(r(93));m=m[0]}h=m}h==null&&(h=""),u=h}h=Qn(u),a.defaultValue=h,m=a.textContent,m===h&&m!==""&&m!==null&&(a.value=m),Qt(a)}function Br(a,u){if(u){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=u;return}}a.textContent=u}var Q0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pc(a,u,h){var m=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="":m?a.setProperty(u,h):typeof h!="number"||h===0||Q0.has(u)?u==="float"?a.cssFloat=h:a[u]=(""+h).trim():a[u]=h+"px"}function Lc(a,u,h){if(u!=null&&typeof u!="object")throw Error(r(62));if(a=a.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||u!=null&&u.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var T in u)m=u[T],u.hasOwnProperty(T)&&h[T]!==m&&Pc(a,T,m)}else for(var S in u)u.hasOwnProperty(S)&&Pc(a,S,u[S])}function el(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Na=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tl(a){return Na.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ui(){}var Oc=null;function gi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Da=null,cs=null;function Ko(a){var u=Ye(a);if(u&&(a=u.stateNode)){var h=a[te]||null;e:switch(a=u.stateNode,u.type){case"input":if(Zu(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Vr(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var m=h[u];if(m!==a&&m.form===a.form){var T=m[te]||null;if(!T)throw Error(r(90));Zu(m,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(u=0;u<h.length;u++)m=h[u],m.form===a.form&&$o(m)}break e;case"textarea":J0(a,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&ka(a,!!h.multiple,u,!1)}}}var nl=!1;function Ma(a,u,h){if(nl)return a(u,h);nl=!0;try{var m=a(u);return m}finally{if(nl=!1,(Da!==null||cs!==null)&&($h(),Da&&(u=Da,a=cs,cs=Da=null,Ko(u),a)))for(u=0;u<a.length;u++)Ko(a[u])}}function Vi(a,u){var h=a.stateNode;if(h===null)return null;var m=h[te]||null;if(m===null)return null;h=m[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yo=!1;if(xi)try{var sn={};Object.defineProperty(sn,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",sn,sn),window.removeEventListener("test",sn,sn)}catch{Yo=!1}var fs=null,Fc=null,Xo=null;function Uc(){if(Xo)return Xo;var a,u=Fc,h=u.length,m,T="value"in fs?fs.value:fs.textContent,S=T.length;for(a=0;a<h&&u[a]===T[a];a++);var B=h-a;for(m=1;m<=B&&u[h-m]===T[S-m];m++);return Xo=T.slice(a,1<m?1-m:void 0)}function Jo(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function Gs(){return!0}function Bi(){return!1}function rr(a){function u(h,m,T,S,B){this._reactName=h,this._targetInst=T,this.type=m,this.nativeEvent=S,this.target=B,this.currentTarget=null;for(var W in a)a.hasOwnProperty(W)&&(h=a[W],this[W]=h?h(S):S[W]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Gs:Bi,this.isPropagationStopped=Bi,this}return g(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),u}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hs=rr(js),Pa=g({},js,{view:0,detail:0}),Vc=rr(Pa),La,rl,ds,il=g({},Pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ds&&(ds&&a.type==="mousemove"?(La=a.screenX-ds.screenX,rl=a.screenY-ds.screenY):rl=La=0,ds=a),La)},movementY:function(a){return"movementY"in a?a.movementY:rl}}),Bc=rr(il),Qo=g({},il,{dataTransfer:0}),eh=rr(Qo),th=g({},Pa,{relatedTarget:0}),Zo=rr(th),qc=g({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),nh=rr(qc),sl=g({},js,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),rh=rr(sl),ih=g({},js,{data:0}),ps=rr(ih),sh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ah={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uh(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=oh[a])?!!u[a]:!1}function Oa(){return uh}var Nr=g({},Pa,{key:function(a){if(a.key){var u=sh[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Jo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?ah[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(a){return a.type==="keypress"?Jo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Jo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),lh=rr(Nr),ch=g({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$s=rr(ch),v=g({},Pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),U=rr(v),H=g({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),J=rr(H),xe=g({},il,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ce=rr(xe),je=g({},js,{newState:0,oldState:0}),yt=rr(je),kn=[9,13,27,32],Gt=xi&&"CompositionEvent"in window,yn=null;xi&&"documentMode"in document&&(yn=document.documentMode);var yi=xi&&"TextEvent"in window&&!yn,ms=xi&&(!Gt||yn&&8<yn&&11>=yn),qi=" ",Hi=!1;function eu(a,u){switch(a){case"keyup":return kn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function al(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ol=!1;function VR(a,u){switch(a){case"compositionend":return al(u);case"keypress":return u.which!==32?null:(Hi=!0,qi);case"textInput":return a=u.data,a===qi&&Hi?null:a;default:return null}}function BR(a,u){if(ol)return a==="compositionend"||!Gt&&eu(a,u)?(a=Uc(),Xo=Fc=fs=null,ol=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ms&&u.locale!=="ko"?null:u.data;default:return null}}var qR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R_(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!qR[a.type]:u==="textarea"}function N_(a,u,h,m){Da?cs?cs.push(m):cs=[m]:Da=m,u=Zh(u,"onChange"),0<u.length&&(h=new hs("onChange","change",null,h,m),a.push({event:h,listeners:u}))}var Hc=null,zc=null;function HR(a){dE(a,0)}function fh(a){var u=Ve(a);if($o(u))return a}function D_(a,u){if(a==="change")return u}var M_=!1;if(xi){var Rm;if(xi){var Nm="oninput"in document;if(!Nm){var P_=document.createElement("div");P_.setAttribute("oninput","return;"),Nm=typeof P_.oninput=="function"}Rm=Nm}else Rm=!1;M_=Rm&&(!document.documentMode||9<document.documentMode)}function L_(){Hc&&(Hc.detachEvent("onpropertychange",O_),zc=Hc=null)}function O_(a){if(a.propertyName==="value"&&fh(zc)){var u=[];N_(u,zc,a,gi(a)),Ma(HR,u)}}function zR(a,u,h){a==="focusin"?(L_(),Hc=u,zc=h,Hc.attachEvent("onpropertychange",O_)):a==="focusout"&&L_()}function GR(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return fh(zc)}function jR(a,u){if(a==="click")return fh(u)}function $R(a,u){if(a==="input"||a==="change")return fh(u)}function WR(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var ni=typeof Object.is=="function"?Object.is:WR;function Gc(a,u){if(ni(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var h=Object.keys(a),m=Object.keys(u);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var T=h[m];if(!Ge.call(u,T)||!ni(a[T],u[T]))return!1}return!0}function F_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function U_(a,u){var h=F_(a);a=0;for(var m;h;){if(h.nodeType===3){if(m=a+h.textContent.length,a<=u&&m>=u)return{node:h,offset:u-a};a=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=F_(h)}}function V_(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?V_(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function B_(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var u=ls(a.document);u instanceof a.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)a=u.contentWindow;else break;u=ls(a.document)}return u}function Dm(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}var KR=xi&&"documentMode"in document&&11>=document.documentMode,ul=null,Mm=null,jc=null,Pm=!1;function q_(a,u,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Pm||ul==null||ul!==ls(m)||(m=ul,"selectionStart"in m&&Dm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),jc&&Gc(jc,m)||(jc=m,m=Zh(Mm,"onSelect"),0<m.length&&(u=new hs("onSelect","select",null,u,h),a.push({event:u,listeners:m}),u.target=ul)))}function tu(a,u){var h={};return h[a.toLowerCase()]=u.toLowerCase(),h["Webkit"+a]="webkit"+u,h["Moz"+a]="moz"+u,h}var ll={animationend:tu("Animation","AnimationEnd"),animationiteration:tu("Animation","AnimationIteration"),animationstart:tu("Animation","AnimationStart"),transitionrun:tu("Transition","TransitionRun"),transitionstart:tu("Transition","TransitionStart"),transitioncancel:tu("Transition","TransitionCancel"),transitionend:tu("Transition","TransitionEnd")},Lm={},H_={};xi&&(H_=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function nu(a){if(Lm[a])return Lm[a];if(!ll[a])return a;var u=ll[a],h;for(h in u)if(u.hasOwnProperty(h)&&h in H_)return Lm[a]=u[h];return a}var z_=nu("animationend"),G_=nu("animationiteration"),j_=nu("animationstart"),YR=nu("transitionrun"),XR=nu("transitionstart"),JR=nu("transitioncancel"),$_=nu("transitionend"),W_=new Map,Om="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Om.push("scrollEnd");function zi(a,u){W_.set(a,u),cn(u,[a])}var hh=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},vi=[],cl=0,Fm=0;function dh(){for(var a=cl,u=Fm=cl=0;u<a;){var h=vi[u];vi[u++]=null;var m=vi[u];vi[u++]=null;var T=vi[u];vi[u++]=null;var S=vi[u];if(vi[u++]=null,m!==null&&T!==null){var B=m.pending;B===null?T.next=T:(T.next=B.next,B.next=T),m.pending=T}S!==0&&K_(h,T,S)}}function ph(a,u,h,m){vi[cl++]=a,vi[cl++]=u,vi[cl++]=h,vi[cl++]=m,Fm|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Um(a,u,h,m){return ph(a,u,h,m),mh(a)}function ru(a,u){return ph(a,null,null,u),mh(a)}function K_(a,u,h){a.lanes|=h;var m=a.alternate;m!==null&&(m.lanes|=h);for(var T=!1,S=a.return;S!==null;)S.childLanes|=h,m=S.alternate,m!==null&&(m.childLanes|=h),S.tag===22&&(a=S.stateNode,a===null||a._visibility&1||(T=!0)),a=S,S=S.return;return a.tag===3?(S=a.stateNode,T&&u!==null&&(T=31-Tn(h),a=S.hiddenUpdates,m=a[T],m===null?a[T]=[u]:m.push(u),u.lane=h|536870912),S):null}function mh(a){if(50<pf)throw pf=0,Wg=null,Error(r(185));for(var u=a.return;u!==null;)a=u,u=a.return;return a.tag===3?a.stateNode:null}var fl={};function QR(a,u,h,m){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(a,u,h,m){return new QR(a,u,h,m)}function Vm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ws(a,u){var h=a.alternate;return h===null?(h=ri(a.tag,u,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=u,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,u=a.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function Y_(a,u){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=u,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,u=h.dependencies,a.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),a}function gh(a,u,h,m,T,S){var B=0;if(m=a,typeof a=="function")Vm(a)&&(B=1);else if(typeof a=="string")B=r8(a,h,ee.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case R:return a=ri(31,h,u,T),a.elementType=R,a.lanes=S,a;case w:return iu(h.children,T,S,u);case C:B=8,T|=24;break;case I:return a=ri(12,h,u,T|2),a.elementType=I,a.lanes=S,a;case D:return a=ri(13,h,u,T),a.elementType=D,a.lanes=S,a;case O:return a=ri(19,h,u,T),a.elementType=O,a.lanes=S,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:B=10;break e;case P:B=9;break e;case L:B=11;break e;case k:B=14;break e;case N:B=16,m=null;break e}B=29,h=Error(r(130,a===null?"null":typeof a,"")),m=null}return u=ri(B,h,u,T),u.elementType=a,u.type=m,u.lanes=S,u}function iu(a,u,h,m){return a=ri(7,a,m,u),a.lanes=h,a}function Bm(a,u,h){return a=ri(6,a,null,u),a.lanes=h,a}function X_(a){var u=ri(18,null,null,0);return u.stateNode=a,u}function qm(a,u,h){return u=ri(4,a.children!==null?a.children:[],a.key,u),u.lanes=h,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}var J_=new WeakMap;function _i(a,u){if(typeof a=="object"&&a!==null){var h=J_.get(a);return h!==void 0?h:(u={value:a,source:u,stack:nt(u)},J_.set(a,u),u)}return{value:a,source:u,stack:nt(u)}}var hl=[],dl=0,xh=null,$c=0,Ti=[],Ei=0,Fa=null,gs=1,xs="";function Ks(a,u){hl[dl++]=$c,hl[dl++]=xh,xh=a,$c=u}function Q_(a,u,h){Ti[Ei++]=gs,Ti[Ei++]=xs,Ti[Ei++]=Fa,Fa=a;var m=gs;a=xs;var T=32-Tn(m)-1;m&=~(1<<T),h+=1;var S=32-Tn(u)+T;if(30<S){var B=T-T%5;S=(m&(1<<B)-1).toString(32),m>>=B,T-=B,gs=1<<32-Tn(u)+T|h<<T|m,xs=S+a}else gs=1<<S|h<<T|m,xs=a}function Hm(a){a.return!==null&&(Ks(a,1),Q_(a,1,0))}function zm(a){for(;a===xh;)xh=hl[--dl],hl[dl]=null,$c=hl[--dl],hl[dl]=null;for(;a===Fa;)Fa=Ti[--Ei],Ti[Ei]=null,xs=Ti[--Ei],Ti[Ei]=null,gs=Ti[--Ei],Ti[Ei]=null}function Z_(a,u){Ti[Ei++]=gs,Ti[Ei++]=xs,Ti[Ei++]=Fa,gs=u.id,xs=u.overflow,Fa=a}var ir=null,pn=null,Mt=!1,Ua=null,bi=!1,Gm=Error(r(519));function Va(a){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wc(_i(u,a)),Gm}function e2(a){var u=a.stateNode,h=a.type,m=a.memoizedProps;switch(u[Q]=a,u[te]=m,h){case"dialog":Ct("cancel",u),Ct("close",u);break;case"iframe":case"object":case"embed":Ct("load",u);break;case"video":case"audio":for(h=0;h<gf.length;h++)Ct(gf[h],u);break;case"source":Ct("error",u);break;case"img":case"image":case"link":Ct("error",u),Ct("load",u);break;case"details":Ct("toggle",u);break;case"input":Ct("invalid",u),X0(u,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Ct("invalid",u);break;case"textarea":Ct("invalid",u),Ra(u,m.value,m.defaultValue,m.children)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||m.suppressHydrationWarning===!0||xE(u.textContent,h)?(m.popover!=null&&(Ct("beforetoggle",u),Ct("toggle",u)),m.onScroll!=null&&Ct("scroll",u),m.onScrollEnd!=null&&Ct("scrollend",u),m.onClick!=null&&(u.onclick=Ui),u=!0):u=!1,u||Va(a,!0)}function t2(a){for(ir=a.return;ir;)switch(ir.tag){case 5:case 31:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:ir=ir.return}}function pl(a){if(a!==ir)return!1;if(!Mt)return t2(a),Mt=!0,!1;var u=a.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||u1(a.type,a.memoizedProps)),h=!h),h&&pn&&Va(a),t2(a),u===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));pn=AE(a)}else if(u===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));pn=AE(a)}else u===27?(u=pn,Za(a.type)?(a=d1,d1=null,pn=a):pn=u):pn=ir?Si(a.stateNode.nextSibling):null;return!0}function su(){pn=ir=null,Mt=!1}function jm(){var a=Ua;return a!==null&&(Gr===null?Gr=a:Gr.push.apply(Gr,a),Ua=null),a}function Wc(a){Ua===null?Ua=[a]:Ua.push(a)}var $m=G(null),au=null,Ys=null;function Ba(a,u,h){Y($m,u._currentValue),u._currentValue=h}function Xs(a){a._currentValue=$m.current,z($m)}function Wm(a,u,h){for(;a!==null;){var m=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,m!==null&&(m.childLanes|=u)):m!==null&&(m.childLanes&u)!==u&&(m.childLanes|=u),a===h)break;a=a.return}}function Km(a,u,h,m){var T=a.child;for(T!==null&&(T.return=a);T!==null;){var S=T.dependencies;if(S!==null){var B=T.child;S=S.firstContext;e:for(;S!==null;){var W=S;S=T;for(var ue=0;ue<u.length;ue++)if(W.context===u[ue]){S.lanes|=h,W=S.alternate,W!==null&&(W.lanes|=h),Wm(S.return,h,a),m||(B=null);break e}S=W.next}}else if(T.tag===18){if(B=T.return,B===null)throw Error(r(341));B.lanes|=h,S=B.alternate,S!==null&&(S.lanes|=h),Wm(B,h,a),B=null}else B=T.child;if(B!==null)B.return=T;else for(B=T;B!==null;){if(B===a){B=null;break}if(T=B.sibling,T!==null){T.return=B.return,B=T;break}B=B.return}T=B}}function ml(a,u,h,m){a=null;for(var T=u,S=!1;T!==null;){if(!S){if((T.flags&524288)!==0)S=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var B=T.alternate;if(B===null)throw Error(r(387));if(B=B.memoizedProps,B!==null){var W=T.type;ni(T.pendingProps.value,B.value)||(a!==null?a.push(W):a=[W])}}else if(T===Re.current){if(B=T.alternate,B===null)throw Error(r(387));B.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(a!==null?a.push(Tf):a=[Tf])}T=T.return}a!==null&&Km(u,a,h,m),u.flags|=262144}function yh(a){for(a=a.firstContext;a!==null;){if(!ni(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ou(a){au=a,Ys=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function sr(a){return n2(au,a)}function vh(a,u){return au===null&&ou(a),n2(a,u)}function n2(a,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},Ys===null){if(a===null)throw Error(r(308));Ys=u,a.dependencies={lanes:0,firstContext:u},a.flags|=524288}else Ys=Ys.next=u;return h}var ZR=typeof AbortController<"u"?AbortController:function(){var a=[],u=this.signal={aborted:!1,addEventListener:function(h,m){a.push(m)}};this.abort=function(){u.aborted=!0,a.forEach(function(h){return h()})}},eN=t.unstable_scheduleCallback,tN=t.unstable_NormalPriority,On={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ym(){return{controller:new ZR,data:new Map,refCount:0}}function Kc(a){a.refCount--,a.refCount===0&&eN(tN,function(){a.controller.abort()})}var Yc=null,Xm=0,gl=0,xl=null;function nN(a,u){if(Yc===null){var h=Yc=[];Xm=0,gl=Zg(),xl={status:"pending",value:void 0,then:function(m){h.push(m)}}}return Xm++,u.then(r2,r2),u}function r2(){if(--Xm===0&&Yc!==null){xl!==null&&(xl.status="fulfilled");var a=Yc;Yc=null,gl=0,xl=null;for(var u=0;u<a.length;u++)(0,a[u])()}}function rN(a,u){var h=[],m={status:"pending",value:null,reason:null,then:function(T){h.push(T)}};return a.then(function(){m.status="fulfilled",m.value=u;for(var T=0;T<h.length;T++)(0,h[T])(u)},function(T){for(m.status="rejected",m.reason=T,T=0;T<h.length;T++)(0,h[T])(void 0)}),m}var i2=ae.S;ae.S=function(a,u){qT=st(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&nN(a,u),i2!==null&&i2(a,u)};var uu=G(null);function Jm(){var a=uu.current;return a!==null?a:fn.pooledCache}function _h(a,u){u===null?Y(uu,uu.current):Y(uu,u.pool)}function s2(){var a=Jm();return a===null?null:{parent:On._currentValue,pool:a}}var yl=Error(r(460)),Qm=Error(r(474)),Th=Error(r(542)),Eh={then:function(){}};function a2(a){return a=a.status,a==="fulfilled"||a==="rejected"}function o2(a,u,h){switch(h=a[h],h===void 0?a.push(u):h!==u&&(u.then(Ui,Ui),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,l2(a),a;default:if(typeof u.status=="string")u.then(Ui,Ui);else{if(a=fn,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=u,a.status="pending",a.then(function(m){if(u.status==="pending"){var T=u;T.status="fulfilled",T.value=m}},function(m){if(u.status==="pending"){var T=u;T.status="rejected",T.reason=m}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,l2(a),a}throw cu=u,yl}}function lu(a){try{var u=a._init;return u(a._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(cu=h,yl):h}}var cu=null;function u2(){if(cu===null)throw Error(r(459));var a=cu;return cu=null,a}function l2(a){if(a===yl||a===Th)throw Error(r(483))}var vl=null,Xc=0;function bh(a){var u=Xc;return Xc+=1,vl===null&&(vl=[]),o2(vl,a,u)}function Jc(a,u){u=u.props.ref,a.ref=u!==void 0?u:null}function wh(a,u){throw u.$$typeof===p?Error(r(525)):(a=Object.prototype.toString.call(u),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a)))}function c2(a){function u(pe,fe){if(a){var ye=pe.deletions;ye===null?(pe.deletions=[fe],pe.flags|=16):ye.push(fe)}}function h(pe,fe){if(!a)return null;for(;fe!==null;)u(pe,fe),fe=fe.sibling;return null}function m(pe){for(var fe=new Map;pe!==null;)pe.key!==null?fe.set(pe.key,pe):fe.set(pe.index,pe),pe=pe.sibling;return fe}function T(pe,fe){return pe=Ws(pe,fe),pe.index=0,pe.sibling=null,pe}function S(pe,fe,ye){return pe.index=ye,a?(ye=pe.alternate,ye!==null?(ye=ye.index,ye<fe?(pe.flags|=67108866,fe):ye):(pe.flags|=67108866,fe)):(pe.flags|=1048576,fe)}function B(pe){return a&&pe.alternate===null&&(pe.flags|=67108866),pe}function W(pe,fe,ye,Pe){return fe===null||fe.tag!==6?(fe=Bm(ye,pe.mode,Pe),fe.return=pe,fe):(fe=T(fe,ye),fe.return=pe,fe)}function ue(pe,fe,ye,Pe){var rt=ye.type;return rt===w?Me(pe,fe,ye.props.children,Pe,ye.key):fe!==null&&(fe.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===N&&lu(rt)===fe.type)?(fe=T(fe,ye.props),Jc(fe,ye),fe.return=pe,fe):(fe=gh(ye.type,ye.key,ye.props,null,pe.mode,Pe),Jc(fe,ye),fe.return=pe,fe)}function Te(pe,fe,ye,Pe){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==ye.containerInfo||fe.stateNode.implementation!==ye.implementation?(fe=qm(ye,pe.mode,Pe),fe.return=pe,fe):(fe=T(fe,ye.children||[]),fe.return=pe,fe)}function Me(pe,fe,ye,Pe,rt){return fe===null||fe.tag!==7?(fe=iu(ye,pe.mode,Pe,rt),fe.return=pe,fe):(fe=T(fe,ye),fe.return=pe,fe)}function Oe(pe,fe,ye){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=Bm(""+fe,pe.mode,ye),fe.return=pe,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case x:return ye=gh(fe.type,fe.key,fe.props,null,pe.mode,ye),Jc(ye,fe),ye.return=pe,ye;case _:return fe=qm(fe,pe.mode,ye),fe.return=pe,fe;case N:return fe=lu(fe),Oe(pe,fe,ye)}if(oe(fe)||F(fe))return fe=iu(fe,pe.mode,ye,null),fe.return=pe,fe;if(typeof fe.then=="function")return Oe(pe,bh(fe),ye);if(fe.$$typeof===A)return Oe(pe,vh(pe,fe),ye);wh(pe,fe)}return null}function Se(pe,fe,ye,Pe){var rt=fe!==null?fe.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return rt!==null?null:W(pe,fe,""+ye,Pe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case x:return ye.key===rt?ue(pe,fe,ye,Pe):null;case _:return ye.key===rt?Te(pe,fe,ye,Pe):null;case N:return ye=lu(ye),Se(pe,fe,ye,Pe)}if(oe(ye)||F(ye))return rt!==null?null:Me(pe,fe,ye,Pe,null);if(typeof ye.then=="function")return Se(pe,fe,bh(ye),Pe);if(ye.$$typeof===A)return Se(pe,fe,vh(pe,ye),Pe);wh(pe,ye)}return null}function Ie(pe,fe,ye,Pe,rt){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return pe=pe.get(ye)||null,W(fe,pe,""+Pe,rt);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case x:return pe=pe.get(Pe.key===null?ye:Pe.key)||null,ue(fe,pe,Pe,rt);case _:return pe=pe.get(Pe.key===null?ye:Pe.key)||null,Te(fe,pe,Pe,rt);case N:return Pe=lu(Pe),Ie(pe,fe,ye,Pe,rt)}if(oe(Pe)||F(Pe))return pe=pe.get(ye)||null,Me(fe,pe,Pe,rt,null);if(typeof Pe.then=="function")return Ie(pe,fe,ye,bh(Pe),rt);if(Pe.$$typeof===A)return Ie(pe,fe,ye,vh(fe,Pe),rt);wh(fe,Pe)}return null}function Qe(pe,fe,ye,Pe){for(var rt=null,Bt=null,tt=fe,Tt=fe=0,kt=null;tt!==null&&Tt<ye.length;Tt++){tt.index>Tt?(kt=tt,tt=null):kt=tt.sibling;var qt=Se(pe,tt,ye[Tt],Pe);if(qt===null){tt===null&&(tt=kt);break}a&&tt&&qt.alternate===null&&u(pe,tt),fe=S(qt,fe,Tt),Bt===null?rt=qt:Bt.sibling=qt,Bt=qt,tt=kt}if(Tt===ye.length)return h(pe,tt),Mt&&Ks(pe,Tt),rt;if(tt===null){for(;Tt<ye.length;Tt++)tt=Oe(pe,ye[Tt],Pe),tt!==null&&(fe=S(tt,fe,Tt),Bt===null?rt=tt:Bt.sibling=tt,Bt=tt);return Mt&&Ks(pe,Tt),rt}for(tt=m(tt);Tt<ye.length;Tt++)kt=Ie(tt,pe,Tt,ye[Tt],Pe),kt!==null&&(a&&kt.alternate!==null&&tt.delete(kt.key===null?Tt:kt.key),fe=S(kt,fe,Tt),Bt===null?rt=kt:Bt.sibling=kt,Bt=kt);return a&&tt.forEach(function(io){return u(pe,io)}),Mt&&Ks(pe,Tt),rt}function at(pe,fe,ye,Pe){if(ye==null)throw Error(r(151));for(var rt=null,Bt=null,tt=fe,Tt=fe=0,kt=null,qt=ye.next();tt!==null&&!qt.done;Tt++,qt=ye.next()){tt.index>Tt?(kt=tt,tt=null):kt=tt.sibling;var io=Se(pe,tt,qt.value,Pe);if(io===null){tt===null&&(tt=kt);break}a&&tt&&io.alternate===null&&u(pe,tt),fe=S(io,fe,Tt),Bt===null?rt=io:Bt.sibling=io,Bt=io,tt=kt}if(qt.done)return h(pe,tt),Mt&&Ks(pe,Tt),rt;if(tt===null){for(;!qt.done;Tt++,qt=ye.next())qt=Oe(pe,qt.value,Pe),qt!==null&&(fe=S(qt,fe,Tt),Bt===null?rt=qt:Bt.sibling=qt,Bt=qt);return Mt&&Ks(pe,Tt),rt}for(tt=m(tt);!qt.done;Tt++,qt=ye.next())qt=Ie(tt,pe,Tt,qt.value,Pe),qt!==null&&(a&&qt.alternate!==null&&tt.delete(qt.key===null?Tt:qt.key),fe=S(qt,fe,Tt),Bt===null?rt=qt:Bt.sibling=qt,Bt=qt);return a&&tt.forEach(function(p8){return u(pe,p8)}),Mt&&Ks(pe,Tt),rt}function un(pe,fe,ye,Pe){if(typeof ye=="object"&&ye!==null&&ye.type===w&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case x:e:{for(var rt=ye.key;fe!==null;){if(fe.key===rt){if(rt=ye.type,rt===w){if(fe.tag===7){h(pe,fe.sibling),Pe=T(fe,ye.props.children),Pe.return=pe,pe=Pe;break e}}else if(fe.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===N&&lu(rt)===fe.type){h(pe,fe.sibling),Pe=T(fe,ye.props),Jc(Pe,ye),Pe.return=pe,pe=Pe;break e}h(pe,fe);break}else u(pe,fe);fe=fe.sibling}ye.type===w?(Pe=iu(ye.props.children,pe.mode,Pe,ye.key),Pe.return=pe,pe=Pe):(Pe=gh(ye.type,ye.key,ye.props,null,pe.mode,Pe),Jc(Pe,ye),Pe.return=pe,pe=Pe)}return B(pe);case _:e:{for(rt=ye.key;fe!==null;){if(fe.key===rt)if(fe.tag===4&&fe.stateNode.containerInfo===ye.containerInfo&&fe.stateNode.implementation===ye.implementation){h(pe,fe.sibling),Pe=T(fe,ye.children||[]),Pe.return=pe,pe=Pe;break e}else{h(pe,fe);break}else u(pe,fe);fe=fe.sibling}Pe=qm(ye,pe.mode,Pe),Pe.return=pe,pe=Pe}return B(pe);case N:return ye=lu(ye),un(pe,fe,ye,Pe)}if(oe(ye))return Qe(pe,fe,ye,Pe);if(F(ye)){if(rt=F(ye),typeof rt!="function")throw Error(r(150));return ye=rt.call(ye),at(pe,fe,ye,Pe)}if(typeof ye.then=="function")return un(pe,fe,bh(ye),Pe);if(ye.$$typeof===A)return un(pe,fe,vh(pe,ye),Pe);wh(pe,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,fe!==null&&fe.tag===6?(h(pe,fe.sibling),Pe=T(fe,ye),Pe.return=pe,pe=Pe):(h(pe,fe),Pe=Bm(ye,pe.mode,Pe),Pe.return=pe,pe=Pe),B(pe)):h(pe,fe)}return function(pe,fe,ye,Pe){try{Xc=0;var rt=un(pe,fe,ye,Pe);return vl=null,rt}catch(tt){if(tt===yl||tt===Th)throw tt;var Bt=ri(29,tt,null,pe.mode);return Bt.lanes=Pe,Bt.return=pe,Bt}finally{}}}var fu=c2(!0),f2=c2(!1),qa=!1;function Zm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eg(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ha(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function za(a,u,h){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(jt&2)!==0){var T=m.pending;return T===null?u.next=u:(u.next=T.next,T.next=u),m.pending=u,u=mh(a),K_(a,null,h),u}return ph(a,m,u,h),mh(a)}function Qc(a,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var m=u.lanes;m&=a.pendingLanes,h|=m,u.lanes=h,Hs(a,h)}}function tg(a,u){var h=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var T=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var B={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};S===null?T=S=B:S=S.next=B,h=h.next}while(h!==null);S===null?T=S=u:S=S.next=u}else T=S=u;h={baseState:m.baseState,firstBaseUpdate:T,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=u}var ng=!1;function Zc(){if(ng){var a=xl;if(a!==null)throw a}}function ef(a,u,h,m){ng=!1;var T=a.updateQueue;qa=!1;var S=T.firstBaseUpdate,B=T.lastBaseUpdate,W=T.shared.pending;if(W!==null){T.shared.pending=null;var ue=W,Te=ue.next;ue.next=null,B===null?S=Te:B.next=Te,B=ue;var Me=a.alternate;Me!==null&&(Me=Me.updateQueue,W=Me.lastBaseUpdate,W!==B&&(W===null?Me.firstBaseUpdate=Te:W.next=Te,Me.lastBaseUpdate=ue))}if(S!==null){var Oe=T.baseState;B=0,Me=Te=ue=null,W=S;do{var Se=W.lane&-536870913,Ie=Se!==W.lane;if(Ie?(It&Se)===Se:(m&Se)===Se){Se!==0&&Se===gl&&(ng=!0),Me!==null&&(Me=Me.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var Qe=a,at=W;Se=u;var un=h;switch(at.tag){case 1:if(Qe=at.payload,typeof Qe=="function"){Oe=Qe.call(un,Oe,Se);break e}Oe=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=at.payload,Se=typeof Qe=="function"?Qe.call(un,Oe,Se):Qe,Se==null)break e;Oe=g({},Oe,Se);break e;case 2:qa=!0}}Se=W.callback,Se!==null&&(a.flags|=64,Ie&&(a.flags|=8192),Ie=T.callbacks,Ie===null?T.callbacks=[Se]:Ie.push(Se))}else Ie={lane:Se,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Me===null?(Te=Me=Ie,ue=Oe):Me=Me.next=Ie,B|=Se;if(W=W.next,W===null){if(W=T.shared.pending,W===null)break;Ie=W,W=Ie.next,Ie.next=null,T.lastBaseUpdate=Ie,T.shared.pending=null}}while(!0);Me===null&&(ue=Oe),T.baseState=ue,T.firstBaseUpdate=Te,T.lastBaseUpdate=Me,S===null&&(T.shared.lanes=0),Ka|=B,a.lanes=B,a.memoizedState=Oe}}function h2(a,u){if(typeof a!="function")throw Error(r(191,a));a.call(u)}function d2(a,u){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)h2(h[a],u)}var _l=G(null),Sh=G(0);function p2(a,u){a=sa,Y(Sh,a),Y(_l,u),sa=a|u.baseLanes}function rg(){Y(Sh,sa),Y(_l,_l.current)}function ig(){sa=Sh.current,z(_l),z(Sh)}var ii=G(null),wi=null;function Ga(a){var u=a.alternate;Y(Rn,Rn.current&1),Y(ii,a),wi===null&&(u===null||_l.current!==null||u.memoizedState!==null)&&(wi=a)}function sg(a){Y(Rn,Rn.current),Y(ii,a),wi===null&&(wi=a)}function m2(a){a.tag===22?(Y(Rn,Rn.current),Y(ii,a),wi===null&&(wi=a)):ja()}function ja(){Y(Rn,Rn.current),Y(ii,ii.current)}function si(a){z(ii),wi===a&&(wi=null),z(Rn)}var Rn=G(0);function Ah(a){for(var u=a;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||f1(h)||h1(h)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Js=0,vt=null,an=null,Fn=null,Ch=!1,Tl=!1,hu=!1,Ih=0,tf=0,El=null,iN=0;function wn(){throw Error(r(321))}function ag(a,u){if(u===null)return!1;for(var h=0;h<u.length&&h<a.length;h++)if(!ni(a[h],u[h]))return!1;return!0}function og(a,u,h,m,T,S){return Js=S,vt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,ae.H=a===null||a.memoizedState===null?Q2:Eg,hu=!1,S=h(m,T),hu=!1,Tl&&(S=x2(u,h,m,T)),g2(a),S}function g2(a){ae.H=sf;var u=an!==null&&an.next!==null;if(Js=0,Fn=an=vt=null,Ch=!1,tf=0,El=null,u)throw Error(r(300));a===null||Un||(a=a.dependencies,a!==null&&yh(a)&&(Un=!0))}function x2(a,u,h,m){vt=a;var T=0;do{if(Tl&&(El=null),tf=0,Tl=!1,25<=T)throw Error(r(301));if(T+=1,Fn=an=null,a.updateQueue!=null){var S=a.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}ae.H=Z2,S=u(h,m)}while(Tl);return S}function sN(){var a=ae.H,u=a.useState()[0];return u=typeof u.then=="function"?nf(u):u,a=a.useState()[0],(an!==null?an.memoizedState:null)!==a&&(vt.flags|=1024),u}function ug(){var a=Ih!==0;return Ih=0,a}function lg(a,u,h){u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~h}function cg(a){if(Ch){for(a=a.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}Ch=!1}Js=0,Fn=an=vt=null,Tl=!1,tf=Ih=0,El=null}function Dr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?vt.memoizedState=Fn=a:Fn=Fn.next=a,Fn}function Nn(){if(an===null){var a=vt.alternate;a=a!==null?a.memoizedState:null}else a=an.next;var u=Fn===null?vt.memoizedState:Fn.next;if(u!==null)Fn=u,an=a;else{if(a===null)throw vt.alternate===null?Error(r(467)):Error(r(310));an=a,a={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},Fn===null?vt.memoizedState=Fn=a:Fn=Fn.next=a}return Fn}function kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nf(a){var u=tf;return tf+=1,El===null&&(El=[]),a=o2(El,a,u),u=vt,(Fn===null?u.memoizedState:Fn.next)===null&&(u=u.alternate,ae.H=u===null||u.memoizedState===null?Q2:Eg),a}function Rh(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return nf(a);if(a.$$typeof===A)return sr(a)}throw Error(r(438,String(a)))}function fg(a){var u=null,h=vt.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var m=vt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(u={data:m.data.map(function(T){return T.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=kh(),vt.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(a),m=0;m<a;m++)h[m]=V;return u.index++,h}function Qs(a,u){return typeof u=="function"?u(a):u}function Nh(a){var u=Nn();return hg(u,an,a)}function hg(a,u,h){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=h;var T=a.baseQueue,S=m.pending;if(S!==null){if(T!==null){var B=T.next;T.next=S.next,S.next=B}u.baseQueue=T=S,m.pending=null}if(S=a.baseState,T===null)a.memoizedState=S;else{u=T.next;var W=B=null,ue=null,Te=u,Me=!1;do{var Oe=Te.lane&-536870913;if(Oe!==Te.lane?(It&Oe)===Oe:(Js&Oe)===Oe){var Se=Te.revertLane;if(Se===0)ue!==null&&(ue=ue.next={lane:0,revertLane:0,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),Oe===gl&&(Me=!0);else if((Js&Se)===Se){Te=Te.next,Se===gl&&(Me=!0);continue}else Oe={lane:0,revertLane:Te.revertLane,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},ue===null?(W=ue=Oe,B=S):ue=ue.next=Oe,vt.lanes|=Se,Ka|=Se;Oe=Te.action,hu&&h(S,Oe),S=Te.hasEagerState?Te.eagerState:h(S,Oe)}else Se={lane:Oe,revertLane:Te.revertLane,gesture:Te.gesture,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},ue===null?(W=ue=Se,B=S):ue=ue.next=Se,vt.lanes|=Oe,Ka|=Oe;Te=Te.next}while(Te!==null&&Te!==u);if(ue===null?B=S:ue.next=W,!ni(S,a.memoizedState)&&(Un=!0,Me&&(h=xl,h!==null)))throw h;a.memoizedState=S,a.baseState=B,a.baseQueue=ue,m.lastRenderedState=S}return T===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function dg(a){var u=Nn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=a;var m=h.dispatch,T=h.pending,S=u.memoizedState;if(T!==null){h.pending=null;var B=T=T.next;do S=a(S,B.action),B=B.next;while(B!==T);ni(S,u.memoizedState)||(Un=!0),u.memoizedState=S,u.baseQueue===null&&(u.baseState=S),h.lastRenderedState=S}return[S,m]}function y2(a,u,h){var m=vt,T=Nn(),S=Mt;if(S){if(h===void 0)throw Error(r(407));h=h()}else h=u();var B=!ni((an||T).memoizedState,h);if(B&&(T.memoizedState=h,Un=!0),T=T.queue,gg(T2.bind(null,m,T,a),[a]),T.getSnapshot!==u||B||Fn!==null&&Fn.memoizedState.tag&1){if(m.flags|=2048,bl(9,{destroy:void 0},_2.bind(null,m,T,h,u),null),fn===null)throw Error(r(349));S||(Js&127)!==0||v2(m,u,h)}return h}function v2(a,u,h){a.flags|=16384,a={getSnapshot:u,value:h},u=vt.updateQueue,u===null?(u=kh(),vt.updateQueue=u,u.stores=[a]):(h=u.stores,h===null?u.stores=[a]:h.push(a))}function _2(a,u,h,m){u.value=h,u.getSnapshot=m,E2(u)&&b2(a)}function T2(a,u,h){return h(function(){E2(u)&&b2(a)})}function E2(a){var u=a.getSnapshot;a=a.value;try{var h=u();return!ni(a,h)}catch{return!0}}function b2(a){var u=ru(a,2);u!==null&&jr(u,a,2)}function pg(a){var u=Dr();if(typeof a=="function"){var h=a;if(a=h(),hu){kr(!0);try{h()}finally{kr(!1)}}}return u.memoizedState=u.baseState=a,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:a},u}function w2(a,u,h,m){return a.baseState=h,hg(a,an,typeof m=="function"?m:Qs)}function aN(a,u,h,m,T){if(Ph(a))throw Error(r(485));if(a=u.action,a!==null){var S={payload:T,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){S.listeners.push(B)}};ae.T!==null?h(!0):S.isTransition=!1,m(S),h=u.pending,h===null?(S.next=u.pending=S,S2(u,S)):(S.next=h.next,u.pending=h.next=S)}}function S2(a,u){var h=u.action,m=u.payload,T=a.state;if(u.isTransition){var S=ae.T,B={};ae.T=B;try{var W=h(T,m),ue=ae.S;ue!==null&&ue(B,W),A2(a,u,W)}catch(Te){mg(a,u,Te)}finally{S!==null&&B.types!==null&&(S.types=B.types),ae.T=S}}else try{S=h(T,m),A2(a,u,S)}catch(Te){mg(a,u,Te)}}function A2(a,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){C2(a,u,m)},function(m){return mg(a,u,m)}):C2(a,u,h)}function C2(a,u,h){u.status="fulfilled",u.value=h,I2(u),a.state=h,u=a.pending,u!==null&&(h=u.next,h===u?a.pending=null:(h=h.next,u.next=h,S2(a,h)))}function mg(a,u,h){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do u.status="rejected",u.reason=h,I2(u),u=u.next;while(u!==m)}a.action=null}function I2(a){a=a.listeners;for(var u=0;u<a.length;u++)(0,a[u])()}function k2(a,u){return u}function R2(a,u){if(Mt){var h=fn.formState;if(h!==null){e:{var m=vt;if(Mt){if(pn){t:{for(var T=pn,S=bi;T.nodeType!==8;){if(!S){T=null;break t}if(T=Si(T.nextSibling),T===null){T=null;break t}}S=T.data,T=S==="F!"||S==="F"?T:null}if(T){pn=Si(T.nextSibling),m=T.data==="F!";break e}}Va(m)}m=!1}m&&(u=h[0])}}return h=Dr(),h.memoizedState=h.baseState=u,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:k2,lastRenderedState:u},h.queue=m,h=Y2.bind(null,vt,m),m.dispatch=h,m=pg(!1),S=Tg.bind(null,vt,!1,m.queue),m=Dr(),T={state:u,dispatch:null,action:a,pending:null},m.queue=T,h=aN.bind(null,vt,T,S,h),T.dispatch=h,m.memoizedState=a,[u,h,!1]}function N2(a){var u=Nn();return D2(u,an,a)}function D2(a,u,h){if(u=hg(a,u,k2)[0],a=Nh(Qs)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var m=nf(u)}catch(B){throw B===yl?Th:B}else m=u;u=Nn();var T=u.queue,S=T.dispatch;return h!==u.memoizedState&&(vt.flags|=2048,bl(9,{destroy:void 0},oN.bind(null,T,h),null)),[m,S,a]}function oN(a,u){a.action=u}function M2(a){var u=Nn(),h=an;if(h!==null)return D2(u,h,a);Nn(),u=u.memoizedState,h=Nn();var m=h.queue.dispatch;return h.memoizedState=a,[u,m,!1]}function bl(a,u,h,m){return a={tag:a,create:h,deps:m,inst:u,next:null},u=vt.updateQueue,u===null&&(u=kh(),vt.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=a.next=a:(m=h.next,h.next=a,a.next=m,u.lastEffect=a),a}function P2(){return Nn().memoizedState}function Dh(a,u,h,m){var T=Dr();vt.flags|=a,T.memoizedState=bl(1|u,{destroy:void 0},h,m===void 0?null:m)}function Mh(a,u,h,m){var T=Nn();m=m===void 0?null:m;var S=T.memoizedState.inst;an!==null&&m!==null&&ag(m,an.memoizedState.deps)?T.memoizedState=bl(u,S,h,m):(vt.flags|=a,T.memoizedState=bl(1|u,S,h,m))}function L2(a,u){Dh(8390656,8,a,u)}function gg(a,u){Mh(2048,8,a,u)}function uN(a){vt.flags|=4;var u=vt.updateQueue;if(u===null)u=kh(),vt.updateQueue=u,u.events=[a];else{var h=u.events;h===null?u.events=[a]:h.push(a)}}function O2(a){var u=Nn().memoizedState;return uN({ref:u,nextImpl:a}),function(){if((jt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function F2(a,u){return Mh(4,2,a,u)}function U2(a,u){return Mh(4,4,a,u)}function V2(a,u){if(typeof u=="function"){a=a();var h=u(a);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function B2(a,u,h){h=h!=null?h.concat([a]):null,Mh(4,4,V2.bind(null,u,a),h)}function xg(){}function q2(a,u){var h=Nn();u=u===void 0?null:u;var m=h.memoizedState;return u!==null&&ag(u,m[1])?m[0]:(h.memoizedState=[a,u],a)}function H2(a,u){var h=Nn();u=u===void 0?null:u;var m=h.memoizedState;if(u!==null&&ag(u,m[1]))return m[0];if(m=a(),hu){kr(!0);try{a()}finally{kr(!1)}}return h.memoizedState=[m,u],m}function yg(a,u,h){return h===void 0||(Js&1073741824)!==0&&(It&261930)===0?a.memoizedState=u:(a.memoizedState=h,a=zT(),vt.lanes|=a,Ka|=a,h)}function z2(a,u,h,m){return ni(h,u)?h:_l.current!==null?(a=yg(a,h,m),ni(a,u)||(Un=!0),a):(Js&42)===0||(Js&1073741824)!==0&&(It&261930)===0?(Un=!0,a.memoizedState=h):(a=zT(),vt.lanes|=a,Ka|=a,u)}function G2(a,u,h,m,T){var S=se.p;se.p=S!==0&&8>S?S:8;var B=ae.T,W={};ae.T=W,Tg(a,!1,u,h);try{var ue=T(),Te=ae.S;if(Te!==null&&Te(W,ue),ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Me=rN(ue,m);rf(a,u,Me,ui(a))}else rf(a,u,m,ui(a))}catch(Oe){rf(a,u,{then:function(){},status:"rejected",reason:Oe},ui())}finally{se.p=S,B!==null&&W.types!==null&&(B.types=W.types),ae.T=B}}function lN(){}function vg(a,u,h,m){if(a.tag!==5)throw Error(r(476));var T=j2(a).queue;G2(a,T,u,ge,h===null?lN:function(){return $2(a),h(m)})}function j2(a){var u=a.memoizedState;if(u!==null)return u;u={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:ge},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:h},next:null},a.memoizedState=u,a=a.alternate,a!==null&&(a.memoizedState=u),u}function $2(a){var u=j2(a);u.next===null&&(u=a.alternate.memoizedState),rf(a,u.next.queue,{},ui())}function _g(){return sr(Tf)}function W2(){return Nn().memoizedState}function K2(){return Nn().memoizedState}function cN(a){for(var u=a.return;u!==null;){switch(u.tag){case 24:case 3:var h=ui();a=Ha(h);var m=za(u,a,h);m!==null&&(jr(m,u,h),Qc(m,u,h)),u={cache:Ym()},a.payload=u;return}u=u.return}}function fN(a,u,h){var m=ui();h={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Ph(a)?X2(u,h):(h=Um(a,u,h,m),h!==null&&(jr(h,a,m),J2(h,u,m)))}function Y2(a,u,h){var m=ui();rf(a,u,h,m)}function rf(a,u,h,m){var T={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Ph(a))X2(u,T);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=u.lastRenderedReducer,S!==null))try{var B=u.lastRenderedState,W=S(B,h);if(T.hasEagerState=!0,T.eagerState=W,ni(W,B))return ph(a,u,T,0),fn===null&&dh(),!1}catch{}finally{}if(h=Um(a,u,T,m),h!==null)return jr(h,a,m),J2(h,u,m),!0}return!1}function Tg(a,u,h,m){if(m={lane:2,revertLane:Zg(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Ph(a)){if(u)throw Error(r(479))}else u=Um(a,h,m,2),u!==null&&jr(u,a,2)}function Ph(a){var u=a.alternate;return a===vt||u!==null&&u===vt}function X2(a,u){Tl=Ch=!0;var h=a.pending;h===null?u.next=u:(u.next=h.next,h.next=u),a.pending=u}function J2(a,u,h){if((h&4194048)!==0){var m=u.lanes;m&=a.pendingLanes,h|=m,u.lanes=h,Hs(a,h)}}var sf={readContext:sr,use:Rh,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useLayoutEffect:wn,useInsertionEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useSyncExternalStore:wn,useId:wn,useHostTransitionStatus:wn,useFormState:wn,useActionState:wn,useOptimistic:wn,useMemoCache:wn,useCacheRefresh:wn};sf.useEffectEvent=wn;var Q2={readContext:sr,use:Rh,useCallback:function(a,u){return Dr().memoizedState=[a,u===void 0?null:u],a},useContext:sr,useEffect:L2,useImperativeHandle:function(a,u,h){h=h!=null?h.concat([a]):null,Dh(4194308,4,V2.bind(null,u,a),h)},useLayoutEffect:function(a,u){return Dh(4194308,4,a,u)},useInsertionEffect:function(a,u){Dh(4,2,a,u)},useMemo:function(a,u){var h=Dr();u=u===void 0?null:u;var m=a();if(hu){kr(!0);try{a()}finally{kr(!1)}}return h.memoizedState=[m,u],m},useReducer:function(a,u,h){var m=Dr();if(h!==void 0){var T=h(u);if(hu){kr(!0);try{h(u)}finally{kr(!1)}}}else T=u;return m.memoizedState=m.baseState=T,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:T},m.queue=a,a=a.dispatch=fN.bind(null,vt,a),[m.memoizedState,a]},useRef:function(a){var u=Dr();return a={current:a},u.memoizedState=a},useState:function(a){a=pg(a);var u=a.queue,h=Y2.bind(null,vt,u);return u.dispatch=h,[a.memoizedState,h]},useDebugValue:xg,useDeferredValue:function(a,u){var h=Dr();return yg(h,a,u)},useTransition:function(){var a=pg(!1);return a=G2.bind(null,vt,a.queue,!0,!1),Dr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,u,h){var m=vt,T=Dr();if(Mt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),fn===null)throw Error(r(349));(It&127)!==0||v2(m,u,h)}T.memoizedState=h;var S={value:h,getSnapshot:u};return T.queue=S,L2(T2.bind(null,m,S,a),[a]),m.flags|=2048,bl(9,{destroy:void 0},_2.bind(null,m,S,h,u),null),h},useId:function(){var a=Dr(),u=fn.identifierPrefix;if(Mt){var h=xs,m=gs;h=(m&~(1<<32-Tn(m)-1)).toString(32)+h,u="_"+u+"R_"+h,h=Ih++,0<h&&(u+="H"+h.toString(32)),u+="_"}else h=iN++,u="_"+u+"r_"+h.toString(32)+"_";return a.memoizedState=u},useHostTransitionStatus:_g,useFormState:R2,useActionState:R2,useOptimistic:function(a){var u=Dr();u.memoizedState=u.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=Tg.bind(null,vt,!0,h),h.dispatch=u,[a,u]},useMemoCache:fg,useCacheRefresh:function(){return Dr().memoizedState=cN.bind(null,vt)},useEffectEvent:function(a){var u=Dr(),h={impl:a};return u.memoizedState=h,function(){if((jt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},Eg={readContext:sr,use:Rh,useCallback:q2,useContext:sr,useEffect:gg,useImperativeHandle:B2,useInsertionEffect:F2,useLayoutEffect:U2,useMemo:H2,useReducer:Nh,useRef:P2,useState:function(){return Nh(Qs)},useDebugValue:xg,useDeferredValue:function(a,u){var h=Nn();return z2(h,an.memoizedState,a,u)},useTransition:function(){var a=Nh(Qs)[0],u=Nn().memoizedState;return[typeof a=="boolean"?a:nf(a),u]},useSyncExternalStore:y2,useId:W2,useHostTransitionStatus:_g,useFormState:N2,useActionState:N2,useOptimistic:function(a,u){var h=Nn();return w2(h,an,a,u)},useMemoCache:fg,useCacheRefresh:K2};Eg.useEffectEvent=O2;var Z2={readContext:sr,use:Rh,useCallback:q2,useContext:sr,useEffect:gg,useImperativeHandle:B2,useInsertionEffect:F2,useLayoutEffect:U2,useMemo:H2,useReducer:dg,useRef:P2,useState:function(){return dg(Qs)},useDebugValue:xg,useDeferredValue:function(a,u){var h=Nn();return an===null?yg(h,a,u):z2(h,an.memoizedState,a,u)},useTransition:function(){var a=dg(Qs)[0],u=Nn().memoizedState;return[typeof a=="boolean"?a:nf(a),u]},useSyncExternalStore:y2,useId:W2,useHostTransitionStatus:_g,useFormState:M2,useActionState:M2,useOptimistic:function(a,u){var h=Nn();return an!==null?w2(h,an,a,u):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:fg,useCacheRefresh:K2};Z2.useEffectEvent=O2;function bg(a,u,h,m){u=a.memoizedState,h=h(m,u),h=h==null?u:g({},u,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var wg={enqueueSetState:function(a,u,h){a=a._reactInternals;var m=ui(),T=Ha(m);T.payload=u,h!=null&&(T.callback=h),u=za(a,T,m),u!==null&&(jr(u,a,m),Qc(u,a,m))},enqueueReplaceState:function(a,u,h){a=a._reactInternals;var m=ui(),T=Ha(m);T.tag=1,T.payload=u,h!=null&&(T.callback=h),u=za(a,T,m),u!==null&&(jr(u,a,m),Qc(u,a,m))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var h=ui(),m=Ha(h);m.tag=2,u!=null&&(m.callback=u),u=za(a,m,h),u!==null&&(jr(u,a,h),Qc(u,a,h))}};function eT(a,u,h,m,T,S,B){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,S,B):u.prototype&&u.prototype.isPureReactComponent?!Gc(h,m)||!Gc(T,S):!0}function tT(a,u,h,m){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,m),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,m),u.state!==a&&wg.enqueueReplaceState(u,u.state,null)}function du(a,u){var h=u;if("ref"in u){h={};for(var m in u)m!=="ref"&&(h[m]=u[m])}if(a=a.defaultProps){h===u&&(h=g({},h));for(var T in a)h[T]===void 0&&(h[T]=a[T])}return h}function nT(a){hh(a)}function rT(a){console.error(a)}function iT(a){hh(a)}function Lh(a,u){try{var h=a.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(m){setTimeout(function(){throw m})}}function sT(a,u,h){try{var m=a.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Sg(a,u,h){return h=Ha(h),h.tag=3,h.payload={element:null},h.callback=function(){Lh(a,u)},h}function aT(a){return a=Ha(a),a.tag=3,a}function oT(a,u,h,m){var T=h.type.getDerivedStateFromError;if(typeof T=="function"){var S=m.value;a.payload=function(){return T(S)},a.callback=function(){sT(u,h,m)}}var B=h.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(a.callback=function(){sT(u,h,m),typeof T!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var W=m.stack;this.componentDidCatch(m.value,{componentStack:W!==null?W:""})})}function hN(a,u,h,m,T){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(u=h.alternate,u!==null&&ml(u,h,T,!0),h=ii.current,h!==null){switch(h.tag){case 31:case 13:return wi===null?Wh():h.alternate===null&&Sn===0&&(Sn=3),h.flags&=-257,h.flags|=65536,h.lanes=T,m===Eh?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([m]):u.add(m),Xg(a,m,T)),!1;case 22:return h.flags|=65536,m===Eh?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([m]):h.add(m)),Xg(a,m,T)),!1}throw Error(r(435,h.tag))}return Xg(a,m,T),Wh(),!1}if(Mt)return u=ii.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=T,m!==Gm&&(a=Error(r(422),{cause:m}),Wc(_i(a,h)))):(m!==Gm&&(u=Error(r(423),{cause:m}),Wc(_i(u,h))),a=a.current.alternate,a.flags|=65536,T&=-T,a.lanes|=T,m=_i(m,h),T=Sg(a.stateNode,m,T),tg(a,T),Sn!==4&&(Sn=2)),!1;var S=Error(r(520),{cause:m});if(S=_i(S,h),df===null?df=[S]:df.push(S),Sn!==4&&(Sn=2),u===null)return!0;m=_i(m,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,a=T&-T,h.lanes|=a,a=Sg(h.stateNode,m,a),tg(h,a),!1;case 1:if(u=h.type,S=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ya===null||!Ya.has(S))))return h.flags|=65536,T&=-T,h.lanes|=T,T=aT(T),oT(T,a,h,m),tg(h,T),!1}h=h.return}while(h!==null);return!1}var Ag=Error(r(461)),Un=!1;function ar(a,u,h,m){u.child=a===null?f2(u,null,h,m):fu(u,a.child,h,m)}function uT(a,u,h,m,T){h=h.render;var S=u.ref;if("ref"in m){var B={};for(var W in m)W!=="ref"&&(B[W]=m[W])}else B=m;return ou(u),m=og(a,u,h,B,S,T),W=ug(),a!==null&&!Un?(lg(a,u,T),Zs(a,u,T)):(Mt&&W&&Hm(u),u.flags|=1,ar(a,u,m,T),u.child)}function lT(a,u,h,m,T){if(a===null){var S=h.type;return typeof S=="function"&&!Vm(S)&&S.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=S,cT(a,u,S,m,T)):(a=gh(h.type,null,m,u,u.mode,T),a.ref=u.ref,a.return=u,u.child=a)}if(S=a.child,!Pg(a,T)){var B=S.memoizedProps;if(h=h.compare,h=h!==null?h:Gc,h(B,m)&&a.ref===u.ref)return Zs(a,u,T)}return u.flags|=1,a=Ws(S,m),a.ref=u.ref,a.return=u,u.child=a}function cT(a,u,h,m,T){if(a!==null){var S=a.memoizedProps;if(Gc(S,m)&&a.ref===u.ref)if(Un=!1,u.pendingProps=m=S,Pg(a,T))(a.flags&131072)!==0&&(Un=!0);else return u.lanes=a.lanes,Zs(a,u,T)}return Cg(a,u,h,m,T)}function fT(a,u,h,m){var T=m.children,S=a!==null?a.memoizedState:null;if(a===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((u.flags&128)!==0){if(S=S!==null?S.baseLanes|h:h,a!==null){for(m=u.child=a.child,T=0;m!==null;)T=T|m.lanes|m.childLanes,m=m.sibling;m=T&~S}else m=0,u.child=null;return hT(a,u,S,h,m)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},a!==null&&_h(u,S!==null?S.cachePool:null),S!==null?p2(u,S):rg(),m2(u);else return m=u.lanes=536870912,hT(a,u,S!==null?S.baseLanes|h:h,h,m)}else S!==null?(_h(u,S.cachePool),p2(u,S),ja(),u.memoizedState=null):(a!==null&&_h(u,null),rg(),ja());return ar(a,u,T,h),u.child}function af(a,u){return a!==null&&a.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function hT(a,u,h,m,T){var S=Jm();return S=S===null?null:{parent:On._currentValue,pool:S},u.memoizedState={baseLanes:h,cachePool:S},a!==null&&_h(u,null),rg(),m2(u),a!==null&&ml(a,u,m,!0),u.childLanes=T,null}function Oh(a,u){return u=Uh({mode:u.mode,children:u.children},a.mode),u.ref=a.ref,a.child=u,u.return=a,u}function dT(a,u,h){return fu(u,a.child,null,h),a=Oh(u,u.pendingProps),a.flags|=2,si(u),u.memoizedState=null,a}function dN(a,u,h){var m=u.pendingProps,T=(u.flags&128)!==0;if(u.flags&=-129,a===null){if(Mt){if(m.mode==="hidden")return a=Oh(u,m),u.lanes=536870912,af(null,a);if(sg(u),(a=pn)?(a=SE(a,bi),a=a!==null&&a.data==="&"?a:null,a!==null&&(u.memoizedState={dehydrated:a,treeContext:Fa!==null?{id:gs,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},h=X_(a),h.return=u,u.child=h,ir=u,pn=null)):a=null,a===null)throw Va(u);return u.lanes=536870912,null}return Oh(u,m)}var S=a.memoizedState;if(S!==null){var B=S.dehydrated;if(sg(u),T)if(u.flags&256)u.flags&=-257,u=dT(a,u,h);else if(u.memoizedState!==null)u.child=a.child,u.flags|=128,u=null;else throw Error(r(558));else if(Un||ml(a,u,h,!1),T=(h&a.childLanes)!==0,Un||T){if(m=fn,m!==null&&(B=jo(m,h),B!==0&&B!==S.retryLane))throw S.retryLane=B,ru(a,B),jr(m,a,B),Ag;Wh(),u=dT(a,u,h)}else a=S.treeContext,pn=Si(B.nextSibling),ir=u,Mt=!0,Ua=null,bi=!1,a!==null&&Z_(u,a),u=Oh(u,m),u.flags|=4096;return u}return a=Ws(a.child,{mode:m.mode,children:m.children}),a.ref=u.ref,u.child=a,a.return=u,a}function Fh(a,u){var h=u.ref;if(h===null)a!==null&&a.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(a===null||a.ref!==h)&&(u.flags|=4194816)}}function Cg(a,u,h,m,T){return ou(u),h=og(a,u,h,m,void 0,T),m=ug(),a!==null&&!Un?(lg(a,u,T),Zs(a,u,T)):(Mt&&m&&Hm(u),u.flags|=1,ar(a,u,h,T),u.child)}function pT(a,u,h,m,T,S){return ou(u),u.updateQueue=null,h=x2(u,m,h,T),g2(a),m=ug(),a!==null&&!Un?(lg(a,u,S),Zs(a,u,S)):(Mt&&m&&Hm(u),u.flags|=1,ar(a,u,h,S),u.child)}function mT(a,u,h,m,T){if(ou(u),u.stateNode===null){var S=fl,B=h.contextType;typeof B=="object"&&B!==null&&(S=sr(B)),S=new h(m,S),u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=wg,u.stateNode=S,S._reactInternals=u,S=u.stateNode,S.props=m,S.state=u.memoizedState,S.refs={},Zm(u),B=h.contextType,S.context=typeof B=="object"&&B!==null?sr(B):fl,S.state=u.memoizedState,B=h.getDerivedStateFromProps,typeof B=="function"&&(bg(u,h,B,m),S.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(B=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),B!==S.state&&wg.enqueueReplaceState(S,S.state,null),ef(u,m,S,T),Zc(),S.state=u.memoizedState),typeof S.componentDidMount=="function"&&(u.flags|=4194308),m=!0}else if(a===null){S=u.stateNode;var W=u.memoizedProps,ue=du(h,W);S.props=ue;var Te=S.context,Me=h.contextType;B=fl,typeof Me=="object"&&Me!==null&&(B=sr(Me));var Oe=h.getDerivedStateFromProps;Me=typeof Oe=="function"||typeof S.getSnapshotBeforeUpdate=="function",W=u.pendingProps!==W,Me||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(W||Te!==B)&&tT(u,S,m,B),qa=!1;var Se=u.memoizedState;S.state=Se,ef(u,m,S,T),Zc(),Te=u.memoizedState,W||Se!==Te||qa?(typeof Oe=="function"&&(bg(u,h,Oe,m),Te=u.memoizedState),(ue=qa||eT(u,h,ue,m,Se,Te,B))?(Me||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(u.flags|=4194308)):(typeof S.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=m,u.memoizedState=Te),S.props=m,S.state=Te,S.context=B,m=ue):(typeof S.componentDidMount=="function"&&(u.flags|=4194308),m=!1)}else{S=u.stateNode,eg(a,u),B=u.memoizedProps,Me=du(h,B),S.props=Me,Oe=u.pendingProps,Se=S.context,Te=h.contextType,ue=fl,typeof Te=="object"&&Te!==null&&(ue=sr(Te)),W=h.getDerivedStateFromProps,(Te=typeof W=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(B!==Oe||Se!==ue)&&tT(u,S,m,ue),qa=!1,Se=u.memoizedState,S.state=Se,ef(u,m,S,T),Zc();var Ie=u.memoizedState;B!==Oe||Se!==Ie||qa||a!==null&&a.dependencies!==null&&yh(a.dependencies)?(typeof W=="function"&&(bg(u,h,W,m),Ie=u.memoizedState),(Me=qa||eT(u,h,Me,m,Se,Ie,ue)||a!==null&&a.dependencies!==null&&yh(a.dependencies))?(Te||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,Ie,ue),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,Ie,ue)),typeof S.componentDidUpdate=="function"&&(u.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof S.componentDidUpdate!="function"||B===a.memoizedProps&&Se===a.memoizedState||(u.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&Se===a.memoizedState||(u.flags|=1024),u.memoizedProps=m,u.memoizedState=Ie),S.props=m,S.state=Ie,S.context=ue,m=Me):(typeof S.componentDidUpdate!="function"||B===a.memoizedProps&&Se===a.memoizedState||(u.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&Se===a.memoizedState||(u.flags|=1024),m=!1)}return S=m,Fh(a,u),m=(u.flags&128)!==0,S||m?(S=u.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:S.render(),u.flags|=1,a!==null&&m?(u.child=fu(u,a.child,null,T),u.child=fu(u,null,h,T)):ar(a,u,h,T),u.memoizedState=S.state,a=u.child):a=Zs(a,u,T),a}function gT(a,u,h,m){return su(),u.flags|=256,ar(a,u,h,m),u.child}var Ig={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kg(a){return{baseLanes:a,cachePool:s2()}}function Rg(a,u,h){return a=a!==null?a.childLanes&~h:0,u&&(a|=oi),a}function xT(a,u,h){var m=u.pendingProps,T=!1,S=(u.flags&128)!==0,B;if((B=S)||(B=a!==null&&a.memoizedState===null?!1:(Rn.current&2)!==0),B&&(T=!0,u.flags&=-129),B=(u.flags&32)!==0,u.flags&=-33,a===null){if(Mt){if(T?Ga(u):ja(),(a=pn)?(a=SE(a,bi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(u.memoizedState={dehydrated:a,treeContext:Fa!==null?{id:gs,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},h=X_(a),h.return=u,u.child=h,ir=u,pn=null)):a=null,a===null)throw Va(u);return h1(a)?u.lanes=32:u.lanes=536870912,null}var W=m.children;return m=m.fallback,T?(ja(),T=u.mode,W=Uh({mode:"hidden",children:W},T),m=iu(m,T,h,null),W.return=u,m.return=u,W.sibling=m,u.child=W,m=u.child,m.memoizedState=kg(h),m.childLanes=Rg(a,B,h),u.memoizedState=Ig,af(null,m)):(Ga(u),Ng(u,W))}var ue=a.memoizedState;if(ue!==null&&(W=ue.dehydrated,W!==null)){if(S)u.flags&256?(Ga(u),u.flags&=-257,u=Dg(a,u,h)):u.memoizedState!==null?(ja(),u.child=a.child,u.flags|=128,u=null):(ja(),W=m.fallback,T=u.mode,m=Uh({mode:"visible",children:m.children},T),W=iu(W,T,h,null),W.flags|=2,m.return=u,W.return=u,m.sibling=W,u.child=m,fu(u,a.child,null,h),m=u.child,m.memoizedState=kg(h),m.childLanes=Rg(a,B,h),u.memoizedState=Ig,u=af(null,m));else if(Ga(u),h1(W)){if(B=W.nextSibling&&W.nextSibling.dataset,B)var Te=B.dgst;B=Te,m=Error(r(419)),m.stack="",m.digest=B,Wc({value:m,source:null,stack:null}),u=Dg(a,u,h)}else if(Un||ml(a,u,h,!1),B=(h&a.childLanes)!==0,Un||B){if(B=fn,B!==null&&(m=jo(B,h),m!==0&&m!==ue.retryLane))throw ue.retryLane=m,ru(a,m),jr(B,a,m),Ag;f1(W)||Wh(),u=Dg(a,u,h)}else f1(W)?(u.flags|=192,u.child=a.child,u=null):(a=ue.treeContext,pn=Si(W.nextSibling),ir=u,Mt=!0,Ua=null,bi=!1,a!==null&&Z_(u,a),u=Ng(u,m.children),u.flags|=4096);return u}return T?(ja(),W=m.fallback,T=u.mode,ue=a.child,Te=ue.sibling,m=Ws(ue,{mode:"hidden",children:m.children}),m.subtreeFlags=ue.subtreeFlags&65011712,Te!==null?W=Ws(Te,W):(W=iu(W,T,h,null),W.flags|=2),W.return=u,m.return=u,m.sibling=W,u.child=m,af(null,m),m=u.child,W=a.child.memoizedState,W===null?W=kg(h):(T=W.cachePool,T!==null?(ue=On._currentValue,T=T.parent!==ue?{parent:ue,pool:ue}:T):T=s2(),W={baseLanes:W.baseLanes|h,cachePool:T}),m.memoizedState=W,m.childLanes=Rg(a,B,h),u.memoizedState=Ig,af(a.child,m)):(Ga(u),h=a.child,a=h.sibling,h=Ws(h,{mode:"visible",children:m.children}),h.return=u,h.sibling=null,a!==null&&(B=u.deletions,B===null?(u.deletions=[a],u.flags|=16):B.push(a)),u.child=h,u.memoizedState=null,h)}function Ng(a,u){return u=Uh({mode:"visible",children:u},a.mode),u.return=a,a.child=u}function Uh(a,u){return a=ri(22,a,null,u),a.lanes=0,a}function Dg(a,u,h){return fu(u,a.child,null,h),a=Ng(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function yT(a,u,h){a.lanes|=u;var m=a.alternate;m!==null&&(m.lanes|=u),Wm(a.return,u,h)}function Mg(a,u,h,m,T,S){var B=a.memoizedState;B===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:T,treeForkCount:S}:(B.isBackwards=u,B.rendering=null,B.renderingStartTime=0,B.last=m,B.tail=h,B.tailMode=T,B.treeForkCount=S)}function vT(a,u,h){var m=u.pendingProps,T=m.revealOrder,S=m.tail;m=m.children;var B=Rn.current,W=(B&2)!==0;if(W?(B=B&1|2,u.flags|=128):B&=1,Y(Rn,B),ar(a,u,m,h),m=Mt?$c:0,!W&&a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&yT(a,h,u);else if(a.tag===19)yT(a,h,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(T){case"forwards":for(h=u.child,T=null;h!==null;)a=h.alternate,a!==null&&Ah(a)===null&&(T=h),h=h.sibling;h=T,h===null?(T=u.child,u.child=null):(T=h.sibling,h.sibling=null),Mg(u,!1,T,h,S,m);break;case"backwards":case"unstable_legacy-backwards":for(h=null,T=u.child,u.child=null;T!==null;){if(a=T.alternate,a!==null&&Ah(a)===null){u.child=T;break}a=T.sibling,T.sibling=h,h=T,T=a}Mg(u,!0,h,null,S,m);break;case"together":Mg(u,!1,null,null,void 0,m);break;default:u.memoizedState=null}return u.child}function Zs(a,u,h){if(a!==null&&(u.dependencies=a.dependencies),Ka|=u.lanes,(h&u.childLanes)===0)if(a!==null){if(ml(a,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(a!==null&&u.child!==a.child)throw Error(r(153));if(u.child!==null){for(a=u.child,h=Ws(a,a.pendingProps),u.child=h,h.return=u;a.sibling!==null;)a=a.sibling,h=h.sibling=Ws(a,a.pendingProps),h.return=u;h.sibling=null}return u.child}function Pg(a,u){return(a.lanes&u)!==0?!0:(a=a.dependencies,!!(a!==null&&yh(a)))}function pN(a,u,h){switch(u.tag){case 3:Ne(u,u.stateNode.containerInfo),Ba(u,On,a.memoizedState.cache),su();break;case 27:case 5:ke(u);break;case 4:Ne(u,u.stateNode.containerInfo);break;case 10:Ba(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,sg(u),null;break;case 13:var m=u.memoizedState;if(m!==null)return m.dehydrated!==null?(Ga(u),u.flags|=128,null):(h&u.child.childLanes)!==0?xT(a,u,h):(Ga(u),a=Zs(a,u,h),a!==null?a.sibling:null);Ga(u);break;case 19:var T=(a.flags&128)!==0;if(m=(h&u.childLanes)!==0,m||(ml(a,u,h,!1),m=(h&u.childLanes)!==0),T){if(m)return vT(a,u,h);u.flags|=128}if(T=u.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Y(Rn,Rn.current),m)break;return null;case 22:return u.lanes=0,fT(a,u,h,u.pendingProps);case 24:Ba(u,On,a.memoizedState.cache)}return Zs(a,u,h)}function _T(a,u,h){if(a!==null)if(a.memoizedProps!==u.pendingProps)Un=!0;else{if(!Pg(a,h)&&(u.flags&128)===0)return Un=!1,pN(a,u,h);Un=(a.flags&131072)!==0}else Un=!1,Mt&&(u.flags&1048576)!==0&&Q_(u,$c,u.index);switch(u.lanes=0,u.tag){case 16:e:{var m=u.pendingProps;if(a=lu(u.elementType),u.type=a,typeof a=="function")Vm(a)?(m=du(a,m),u.tag=1,u=mT(null,u,a,m,h)):(u.tag=0,u=Cg(null,u,a,m,h));else{if(a!=null){var T=a.$$typeof;if(T===L){u.tag=11,u=uT(null,u,a,m,h);break e}else if(T===k){u.tag=14,u=lT(null,u,a,m,h);break e}}throw u=ce(a)||a,Error(r(306,u,""))}}return u;case 0:return Cg(a,u,u.type,u.pendingProps,h);case 1:return m=u.type,T=du(m,u.pendingProps),mT(a,u,m,T,h);case 3:e:{if(Ne(u,u.stateNode.containerInfo),a===null)throw Error(r(387));m=u.pendingProps;var S=u.memoizedState;T=S.element,eg(a,u),ef(u,m,null,h);var B=u.memoizedState;if(m=B.cache,Ba(u,On,m),m!==S.cache&&Km(u,[On],h,!0),Zc(),m=B.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:B.cache},u.updateQueue.baseState=S,u.memoizedState=S,u.flags&256){u=gT(a,u,m,h);break e}else if(m!==T){T=_i(Error(r(424)),u),Wc(T),u=gT(a,u,m,h);break e}else{switch(a=u.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(pn=Si(a.firstChild),ir=u,Mt=!0,Ua=null,bi=!0,h=f2(u,null,m,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(su(),m===T){u=Zs(a,u,h);break e}ar(a,u,m,h)}u=u.child}return u;case 26:return Fh(a,u),a===null?(h=NE(u.type,null,u.pendingProps,null))?u.memoizedState=h:Mt||(h=u.type,a=u.pendingProps,m=ed(me.current).createElement(h),m[Q]=u,m[te]=a,or(m,h,a),Ze(m),u.stateNode=m):u.memoizedState=NE(u.type,a.memoizedProps,u.pendingProps,a.memoizedState),null;case 27:return ke(u),a===null&&Mt&&(m=u.stateNode=IE(u.type,u.pendingProps,me.current),ir=u,bi=!0,T=pn,Za(u.type)?(d1=T,pn=Si(m.firstChild)):pn=T),ar(a,u,u.pendingProps.children,h),Fh(a,u),a===null&&(u.flags|=4194304),u.child;case 5:return a===null&&Mt&&((T=m=pn)&&(m=GN(m,u.type,u.pendingProps,bi),m!==null?(u.stateNode=m,ir=u,pn=Si(m.firstChild),bi=!1,T=!0):T=!1),T||Va(u)),ke(u),T=u.type,S=u.pendingProps,B=a!==null?a.memoizedProps:null,m=S.children,u1(T,S)?m=null:B!==null&&u1(T,B)&&(u.flags|=32),u.memoizedState!==null&&(T=og(a,u,sN,null,null,h),Tf._currentValue=T),Fh(a,u),ar(a,u,m,h),u.child;case 6:return a===null&&Mt&&((a=h=pn)&&(h=jN(h,u.pendingProps,bi),h!==null?(u.stateNode=h,ir=u,pn=null,a=!0):a=!1),a||Va(u)),null;case 13:return xT(a,u,h);case 4:return Ne(u,u.stateNode.containerInfo),m=u.pendingProps,a===null?u.child=fu(u,null,m,h):ar(a,u,m,h),u.child;case 11:return uT(a,u,u.type,u.pendingProps,h);case 7:return ar(a,u,u.pendingProps,h),u.child;case 8:return ar(a,u,u.pendingProps.children,h),u.child;case 12:return ar(a,u,u.pendingProps.children,h),u.child;case 10:return m=u.pendingProps,Ba(u,u.type,m.value),ar(a,u,m.children,h),u.child;case 9:return T=u.type._context,m=u.pendingProps.children,ou(u),T=sr(T),m=m(T),u.flags|=1,ar(a,u,m,h),u.child;case 14:return lT(a,u,u.type,u.pendingProps,h);case 15:return cT(a,u,u.type,u.pendingProps,h);case 19:return vT(a,u,h);case 31:return dN(a,u,h);case 22:return fT(a,u,h,u.pendingProps);case 24:return ou(u),m=sr(On),a===null?(T=Jm(),T===null&&(T=fn,S=Ym(),T.pooledCache=S,S.refCount++,S!==null&&(T.pooledCacheLanes|=h),T=S),u.memoizedState={parent:m,cache:T},Zm(u),Ba(u,On,T)):((a.lanes&h)!==0&&(eg(a,u),ef(u,null,null,h),Zc()),T=a.memoizedState,S=u.memoizedState,T.parent!==m?(T={parent:m,cache:m},u.memoizedState=T,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=T),Ba(u,On,m)):(m=S.cache,Ba(u,On,m),m!==T.cache&&Km(u,[On],h,!0))),ar(a,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function ea(a){a.flags|=4}function Lg(a,u,h,m,T){if((u=(a.mode&32)!==0)&&(u=!1),u){if(a.flags|=16777216,(T&335544128)===T)if(a.stateNode.complete)a.flags|=8192;else if(WT())a.flags|=8192;else throw cu=Eh,Qm}else a.flags&=-16777217}function TT(a,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!OE(u))if(WT())a.flags|=8192;else throw cu=Eh,Qm}function Vh(a,u){u!==null&&(a.flags|=4),a.flags&16384&&(u=a.tag!==22?Qu():536870912,a.lanes|=u,Cl|=u)}function of(a,u){if(!Mt)switch(a.tailMode){case"hidden":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function mn(a){var u=a.alternate!==null&&a.alternate.child===a.child,h=0,m=0;if(u)for(var T=a.child;T!==null;)h|=T.lanes|T.childLanes,m|=T.subtreeFlags&65011712,m|=T.flags&65011712,T.return=a,T=T.sibling;else for(T=a.child;T!==null;)h|=T.lanes|T.childLanes,m|=T.subtreeFlags,m|=T.flags,T.return=a,T=T.sibling;return a.subtreeFlags|=m,a.childLanes=h,u}function mN(a,u,h){var m=u.pendingProps;switch(zm(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(u),null;case 1:return mn(u),null;case 3:return h=u.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),Xs(On),he(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(pl(u)?ea(u):a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,jm())),mn(u),null;case 26:var T=u.type,S=u.memoizedState;return a===null?(ea(u),S!==null?(mn(u),TT(u,S)):(mn(u),Lg(u,T,null,m,h))):S?S!==a.memoizedState?(ea(u),mn(u),TT(u,S)):(mn(u),u.flags&=-16777217):(a=a.memoizedProps,a!==m&&ea(u),mn(u),Lg(u,T,a,m,h)),null;case 27:if(de(u),h=me.current,T=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==m&&ea(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return mn(u),null}a=ee.current,pl(u)?e2(u):(a=IE(T,m,h),u.stateNode=a,ea(u))}return mn(u),null;case 5:if(de(u),T=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==m&&ea(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return mn(u),null}if(S=ee.current,pl(u))e2(u);else{var B=ed(me.current);switch(S){case 1:S=B.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:S=B.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":S=B.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":S=B.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":S=B.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof m.is=="string"?B.createElement("select",{is:m.is}):B.createElement("select"),m.multiple?S.multiple=!0:m.size&&(S.size=m.size);break;default:S=typeof m.is=="string"?B.createElement(T,{is:m.is}):B.createElement(T)}}S[Q]=u,S[te]=m;e:for(B=u.child;B!==null;){if(B.tag===5||B.tag===6)S.appendChild(B.stateNode);else if(B.tag!==4&&B.tag!==27&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===u)break e;for(;B.sibling===null;){if(B.return===null||B.return===u)break e;B=B.return}B.sibling.return=B.return,B=B.sibling}u.stateNode=S;e:switch(or(S,T,m),T){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ea(u)}}return mn(u),Lg(u,u.type,a===null?null:a.memoizedProps,u.pendingProps,h),null;case 6:if(a&&u.stateNode!=null)a.memoizedProps!==m&&ea(u);else{if(typeof m!="string"&&u.stateNode===null)throw Error(r(166));if(a=me.current,pl(u)){if(a=u.stateNode,h=u.memoizedProps,m=null,T=ir,T!==null)switch(T.tag){case 27:case 5:m=T.memoizedProps}a[Q]=u,a=!!(a.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||xE(a.nodeValue,h)),a||Va(u,!0)}else a=ed(a).createTextNode(m),a[Q]=u,u.stateNode=a}return mn(u),null;case 31:if(h=u.memoizedState,a===null||a.memoizedState!==null){if(m=pl(u),h!==null){if(a===null){if(!m)throw Error(r(318));if(a=u.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Q]=u}else su(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;mn(u),a=!1}else h=jm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=h),a=!0;if(!a)return u.flags&256?(si(u),u):(si(u),null);if((u.flags&128)!==0)throw Error(r(558))}return mn(u),null;case 13:if(m=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(T=pl(u),m!==null&&m.dehydrated!==null){if(a===null){if(!T)throw Error(r(318));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[Q]=u}else su(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;mn(u),T=!1}else T=jm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=T),T=!0;if(!T)return u.flags&256?(si(u),u):(si(u),null)}return si(u),(u.flags&128)!==0?(u.lanes=h,u):(h=m!==null,a=a!==null&&a.memoizedState!==null,h&&(m=u.child,T=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(T=m.alternate.memoizedState.cachePool.pool),S=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==T&&(m.flags|=2048)),h!==a&&h&&(u.child.flags|=8192),Vh(u,u.updateQueue),mn(u),null);case 4:return he(),a===null&&r1(u.stateNode.containerInfo),mn(u),null;case 10:return Xs(u.type),mn(u),null;case 19:if(z(Rn),m=u.memoizedState,m===null)return mn(u),null;if(T=(u.flags&128)!==0,S=m.rendering,S===null)if(T)of(m,!1);else{if(Sn!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(S=Ah(a),S!==null){for(u.flags|=128,of(m,!1),a=S.updateQueue,u.updateQueue=a,Vh(u,a),u.subtreeFlags=0,a=h,h=u.child;h!==null;)Y_(h,a),h=h.sibling;return Y(Rn,Rn.current&1|2),Mt&&Ks(u,m.treeForkCount),u.child}a=a.sibling}m.tail!==null&&st()>Gh&&(u.flags|=128,T=!0,of(m,!1),u.lanes=4194304)}else{if(!T)if(a=Ah(S),a!==null){if(u.flags|=128,T=!0,a=a.updateQueue,u.updateQueue=a,Vh(u,a),of(m,!0),m.tail===null&&m.tailMode==="hidden"&&!S.alternate&&!Mt)return mn(u),null}else 2*st()-m.renderingStartTime>Gh&&h!==536870912&&(u.flags|=128,T=!0,of(m,!1),u.lanes=4194304);m.isBackwards?(S.sibling=u.child,u.child=S):(a=m.last,a!==null?a.sibling=S:u.child=S,m.last=S)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=st(),a.sibling=null,h=Rn.current,Y(Rn,T?h&1|2:h&1),Mt&&Ks(u,m.treeForkCount),a):(mn(u),null);case 22:case 23:return si(u),ig(),m=u.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(u.flags|=8192):m&&(u.flags|=8192),m?(h&536870912)!==0&&(u.flags&128)===0&&(mn(u),u.subtreeFlags&6&&(u.flags|=8192)):mn(u),h=u.updateQueue,h!==null&&Vh(u,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048),a!==null&&z(uu),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),Xs(On),mn(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function gN(a,u){switch(zm(u),u.tag){case 1:return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return Xs(On),he(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 26:case 27:case 5:return de(u),null;case 31:if(u.memoizedState!==null){if(si(u),u.alternate===null)throw Error(r(340));su()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 13:if(si(u),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(r(340));su()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return z(Rn),null;case 4:return he(),null;case 10:return Xs(u.type),null;case 22:case 23:return si(u),ig(),a!==null&&z(uu),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 24:return Xs(On),null;case 25:return null;default:return null}}function ET(a,u){switch(zm(u),u.tag){case 3:Xs(On),he();break;case 26:case 27:case 5:de(u);break;case 4:he();break;case 31:u.memoizedState!==null&&si(u);break;case 13:si(u);break;case 19:z(Rn);break;case 10:Xs(u.type);break;case 22:case 23:si(u),ig(),a!==null&&z(uu);break;case 24:Xs(On)}}function uf(a,u){try{var h=u.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var T=m.next;h=T;do{if((h.tag&a)===a){m=void 0;var S=h.create,B=h.inst;m=S(),B.destroy=m}h=h.next}while(h!==T)}}catch(W){en(u,u.return,W)}}function $a(a,u,h){try{var m=u.updateQueue,T=m!==null?m.lastEffect:null;if(T!==null){var S=T.next;m=S;do{if((m.tag&a)===a){var B=m.inst,W=B.destroy;if(W!==void 0){B.destroy=void 0,T=u;var ue=h,Te=W;try{Te()}catch(Me){en(T,ue,Me)}}}m=m.next}while(m!==S)}}catch(Me){en(u,u.return,Me)}}function bT(a){var u=a.updateQueue;if(u!==null){var h=a.stateNode;try{d2(u,h)}catch(m){en(a,a.return,m)}}}function wT(a,u,h){h.props=du(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(m){en(a,u,m)}}function lf(a,u){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof h=="function"?a.refCleanup=h(m):h.current=m}}catch(T){en(a,u,T)}}function ys(a,u){var h=a.ref,m=a.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(T){en(a,u,T)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(T){en(a,u,T)}else h.current=null}function ST(a){var u=a.type,h=a.memoizedProps,m=a.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break e;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(T){en(a,a.return,T)}}function Og(a,u,h){try{var m=a.stateNode;UN(m,a.type,h,u),m[te]=u}catch(T){en(a,a.return,T)}}function AT(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Za(a.type)||a.tag===4}function Fg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||AT(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Za(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Ug(a,u,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(a),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Ui));else if(m!==4&&(m===27&&Za(a.type)&&(h=a.stateNode,u=null),a=a.child,a!==null))for(Ug(a,u,h),a=a.sibling;a!==null;)Ug(a,u,h),a=a.sibling}function Bh(a,u,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,u?h.insertBefore(a,u):h.appendChild(a);else if(m!==4&&(m===27&&Za(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(Bh(a,u,h),a=a.sibling;a!==null;)Bh(a,u,h),a=a.sibling}function CT(a){var u=a.stateNode,h=a.memoizedProps;try{for(var m=a.type,T=u.attributes;T.length;)u.removeAttributeNode(T[0]);or(u,m,h),u[Q]=a,u[te]=h}catch(S){en(a,a.return,S)}}var ta=!1,Vn=!1,Vg=!1,IT=typeof WeakSet=="function"?WeakSet:Set,Zn=null;function xN(a,u){if(a=a.containerInfo,a1=od,a=B_(a),Dm(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var T=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var B=0,W=-1,ue=-1,Te=0,Me=0,Oe=a,Se=null;t:for(;;){for(var Ie;Oe!==h||T!==0&&Oe.nodeType!==3||(W=B+T),Oe!==S||m!==0&&Oe.nodeType!==3||(ue=B+m),Oe.nodeType===3&&(B+=Oe.nodeValue.length),(Ie=Oe.firstChild)!==null;)Se=Oe,Oe=Ie;for(;;){if(Oe===a)break t;if(Se===h&&++Te===T&&(W=B),Se===S&&++Me===m&&(ue=B),(Ie=Oe.nextSibling)!==null)break;Oe=Se,Se=Oe.parentNode}Oe=Ie}h=W===-1||ue===-1?null:{start:W,end:ue}}else h=null}h=h||{start:0,end:0}}else h=null;for(o1={focusedElem:a,selectionRange:h},od=!1,Zn=u;Zn!==null;)if(u=Zn,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Zn=a;else for(;Zn!==null;){switch(u=Zn,S=u.alternate,a=u.flags,u.tag){case 0:if((a&4)!==0&&(a=u.updateQueue,a=a!==null?a.events:null,a!==null))for(h=0;h<a.length;h++)T=a[h],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&S!==null){a=void 0,h=u,T=S.memoizedProps,S=S.memoizedState,m=h.stateNode;try{var Qe=du(h.type,T);a=m.getSnapshotBeforeUpdate(Qe,S),m.__reactInternalSnapshotBeforeUpdate=a}catch(at){en(h,h.return,at)}}break;case 3:if((a&1024)!==0){if(a=u.stateNode.containerInfo,h=a.nodeType,h===9)c1(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":c1(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=u.sibling,a!==null){a.return=u.return,Zn=a;break}Zn=u.return}}function kT(a,u,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:ra(a,h),m&4&&uf(5,h);break;case 1:if(ra(a,h),m&4)if(a=h.stateNode,u===null)try{a.componentDidMount()}catch(B){en(h,h.return,B)}else{var T=du(h.type,u.memoizedProps);u=u.memoizedState;try{a.componentDidUpdate(T,u,a.__reactInternalSnapshotBeforeUpdate)}catch(B){en(h,h.return,B)}}m&64&&bT(h),m&512&&lf(h,h.return);break;case 3:if(ra(a,h),m&64&&(a=h.updateQueue,a!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{d2(a,u)}catch(B){en(h,h.return,B)}}break;case 27:u===null&&m&4&&CT(h);case 26:case 5:ra(a,h),u===null&&m&4&&ST(h),m&512&&lf(h,h.return);break;case 12:ra(a,h);break;case 31:ra(a,h),m&4&&DT(a,h);break;case 13:ra(a,h),m&4&&MT(a,h),m&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=AN.bind(null,h),$N(a,h))));break;case 22:if(m=h.memoizedState!==null||ta,!m){u=u!==null&&u.memoizedState!==null||Vn,T=ta;var S=Vn;ta=m,(Vn=u)&&!S?ia(a,h,(h.subtreeFlags&8772)!==0):ra(a,h),ta=T,Vn=S}break;case 30:break;default:ra(a,h)}}function RT(a){var u=a.alternate;u!==null&&(a.alternate=null,RT(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&Be(u)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var vn=null,qr=!1;function na(a,u,h){for(h=h.child;h!==null;)NT(a,u,h),h=h.sibling}function NT(a,u,h){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(St,h)}catch{}switch(h.tag){case 26:Vn||ys(h,u),na(a,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Vn||ys(h,u);var m=vn,T=qr;Za(h.type)&&(vn=h.stateNode,qr=!1),na(a,u,h),yf(h.stateNode),vn=m,qr=T;break;case 5:Vn||ys(h,u);case 6:if(m=vn,T=qr,vn=null,na(a,u,h),vn=m,qr=T,vn!==null)if(qr)try{(vn.nodeType===9?vn.body:vn.nodeName==="HTML"?vn.ownerDocument.body:vn).removeChild(h.stateNode)}catch(S){en(h,u,S)}else try{vn.removeChild(h.stateNode)}catch(S){en(h,u,S)}break;case 18:vn!==null&&(qr?(a=vn,bE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),Ll(a)):bE(vn,h.stateNode));break;case 4:m=vn,T=qr,vn=h.stateNode.containerInfo,qr=!0,na(a,u,h),vn=m,qr=T;break;case 0:case 11:case 14:case 15:$a(2,h,u),Vn||$a(4,h,u),na(a,u,h);break;case 1:Vn||(ys(h,u),m=h.stateNode,typeof m.componentWillUnmount=="function"&&wT(h,u,m)),na(a,u,h);break;case 21:na(a,u,h);break;case 22:Vn=(m=Vn)||h.memoizedState!==null,na(a,u,h),Vn=m;break;default:na(a,u,h)}}function DT(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Ll(a)}catch(h){en(u,u.return,h)}}}function MT(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Ll(a)}catch(h){en(u,u.return,h)}}function yN(a){switch(a.tag){case 31:case 13:case 19:var u=a.stateNode;return u===null&&(u=a.stateNode=new IT),u;case 22:return a=a.stateNode,u=a._retryCache,u===null&&(u=a._retryCache=new IT),u;default:throw Error(r(435,a.tag))}}function qh(a,u){var h=yN(a);u.forEach(function(m){if(!h.has(m)){h.add(m);var T=CN.bind(null,a,m);m.then(T,T)}})}function Hr(a,u){var h=u.deletions;if(h!==null)for(var m=0;m<h.length;m++){var T=h[m],S=a,B=u,W=B;e:for(;W!==null;){switch(W.tag){case 27:if(Za(W.type)){vn=W.stateNode,qr=!1;break e}break;case 5:vn=W.stateNode,qr=!1;break e;case 3:case 4:vn=W.stateNode.containerInfo,qr=!0;break e}W=W.return}if(vn===null)throw Error(r(160));NT(S,B,T),vn=null,qr=!1,S=T.alternate,S!==null&&(S.return=null),T.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)PT(u,a),u=u.sibling}var Gi=null;function PT(a,u){var h=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Hr(u,a),zr(a),m&4&&($a(3,a,a.return),uf(3,a),$a(5,a,a.return));break;case 1:Hr(u,a),zr(a),m&512&&(Vn||h===null||ys(h,h.return)),m&64&&ta&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var T=Gi;if(Hr(u,a),zr(a),m&512&&(Vn||h===null||ys(h,h.return)),m&4){var S=h!==null?h.memoizedState:null;if(m=a.memoizedState,h===null)if(m===null)if(a.stateNode===null){e:{m=a.type,h=a.memoizedProps,T=T.ownerDocument||T;t:switch(m){case"title":S=T.getElementsByTagName("title")[0],(!S||S[be]||S[Q]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=T.createElement(m),T.head.insertBefore(S,T.querySelector("head > title"))),or(S,m,h),S[Q]=a,Ze(S),m=S;break e;case"link":var B=PE("link","href",T).get(m+(h.href||""));if(B){for(var W=0;W<B.length;W++)if(S=B[W],S.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&S.getAttribute("rel")===(h.rel==null?null:h.rel)&&S.getAttribute("title")===(h.title==null?null:h.title)&&S.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){B.splice(W,1);break t}}S=T.createElement(m),or(S,m,h),T.head.appendChild(S);break;case"meta":if(B=PE("meta","content",T).get(m+(h.content||""))){for(W=0;W<B.length;W++)if(S=B[W],S.getAttribute("content")===(h.content==null?null:""+h.content)&&S.getAttribute("name")===(h.name==null?null:h.name)&&S.getAttribute("property")===(h.property==null?null:h.property)&&S.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&S.getAttribute("charset")===(h.charSet==null?null:h.charSet)){B.splice(W,1);break t}}S=T.createElement(m),or(S,m,h),T.head.appendChild(S);break;default:throw Error(r(468,m))}S[Q]=a,Ze(S),m=S}a.stateNode=m}else LE(T,a.type,a.stateNode);else a.stateNode=ME(T,m,a.memoizedProps);else S!==m?(S===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):S.count--,m===null?LE(T,a.type,a.stateNode):ME(T,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Og(a,a.memoizedProps,h.memoizedProps)}break;case 27:Hr(u,a),zr(a),m&512&&(Vn||h===null||ys(h,h.return)),h!==null&&m&4&&Og(a,a.memoizedProps,h.memoizedProps);break;case 5:if(Hr(u,a),zr(a),m&512&&(Vn||h===null||ys(h,h.return)),a.flags&32){T=a.stateNode;try{Br(T,"")}catch(Qe){en(a,a.return,Qe)}}m&4&&a.stateNode!=null&&(T=a.memoizedProps,Og(a,T,h!==null?h.memoizedProps:T)),m&1024&&(Vg=!0);break;case 6:if(Hr(u,a),zr(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,h=a.stateNode;try{h.nodeValue=m}catch(Qe){en(a,a.return,Qe)}}break;case 3:if(rd=null,T=Gi,Gi=td(u.containerInfo),Hr(u,a),Gi=T,zr(a),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Ll(u.containerInfo)}catch(Qe){en(a,a.return,Qe)}Vg&&(Vg=!1,LT(a));break;case 4:m=Gi,Gi=td(a.stateNode.containerInfo),Hr(u,a),zr(a),Gi=m;break;case 12:Hr(u,a),zr(a);break;case 31:Hr(u,a),zr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,qh(a,m)));break;case 13:Hr(u,a),zr(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(zh=st()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,qh(a,m)));break;case 22:T=a.memoizedState!==null;var ue=h!==null&&h.memoizedState!==null,Te=ta,Me=Vn;if(ta=Te||T,Vn=Me||ue,Hr(u,a),Vn=Me,ta=Te,zr(a),m&8192)e:for(u=a.stateNode,u._visibility=T?u._visibility&-2:u._visibility|1,T&&(h===null||ue||ta||Vn||pu(a)),h=null,u=a;;){if(u.tag===5||u.tag===26){if(h===null){ue=h=u;try{if(S=ue.stateNode,T)B=S.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{W=ue.stateNode;var Oe=ue.memoizedProps.style,Se=Oe!=null&&Oe.hasOwnProperty("display")?Oe.display:null;W.style.display=Se==null||typeof Se=="boolean"?"":(""+Se).trim()}}catch(Qe){en(ue,ue.return,Qe)}}}else if(u.tag===6){if(h===null){ue=u;try{ue.stateNode.nodeValue=T?"":ue.memoizedProps}catch(Qe){en(ue,ue.return,Qe)}}}else if(u.tag===18){if(h===null){ue=u;try{var Ie=ue.stateNode;T?wE(Ie,!0):wE(ue.stateNode,!1)}catch(Qe){en(ue,ue.return,Qe)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}m&4&&(m=a.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,qh(a,h))));break;case 19:Hr(u,a),zr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,qh(a,m)));break;case 30:break;case 21:break;default:Hr(u,a),zr(a)}}function zr(a){var u=a.flags;if(u&2){try{for(var h,m=a.return;m!==null;){if(AT(m)){h=m;break}m=m.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var T=h.stateNode,S=Fg(a);Bh(a,S,T);break;case 5:var B=h.stateNode;h.flags&32&&(Br(B,""),h.flags&=-33);var W=Fg(a);Bh(a,W,B);break;case 3:case 4:var ue=h.stateNode.containerInfo,Te=Fg(a);Ug(a,Te,ue);break;default:throw Error(r(161))}}catch(Me){en(a,a.return,Me)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function LT(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var u=a;LT(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),a=a.sibling}}function ra(a,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)kT(a,u.alternate,u),u=u.sibling}function pu(a){for(a=a.child;a!==null;){var u=a;switch(u.tag){case 0:case 11:case 14:case 15:$a(4,u,u.return),pu(u);break;case 1:ys(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&wT(u,u.return,h),pu(u);break;case 27:yf(u.stateNode);case 26:case 5:ys(u,u.return),pu(u);break;case 22:u.memoizedState===null&&pu(u);break;case 30:pu(u);break;default:pu(u)}a=a.sibling}}function ia(a,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var m=u.alternate,T=a,S=u,B=S.flags;switch(S.tag){case 0:case 11:case 15:ia(T,S,h),uf(4,S);break;case 1:if(ia(T,S,h),m=S,T=m.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Te){en(m,m.return,Te)}if(m=S,T=m.updateQueue,T!==null){var W=m.stateNode;try{var ue=T.shared.hiddenCallbacks;if(ue!==null)for(T.shared.hiddenCallbacks=null,T=0;T<ue.length;T++)h2(ue[T],W)}catch(Te){en(m,m.return,Te)}}h&&B&64&&bT(S),lf(S,S.return);break;case 27:CT(S);case 26:case 5:ia(T,S,h),h&&m===null&&B&4&&ST(S),lf(S,S.return);break;case 12:ia(T,S,h);break;case 31:ia(T,S,h),h&&B&4&&DT(T,S);break;case 13:ia(T,S,h),h&&B&4&&MT(T,S);break;case 22:S.memoizedState===null&&ia(T,S,h),lf(S,S.return);break;case 30:break;default:ia(T,S,h)}u=u.sibling}}function Bg(a,u){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(a=u.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&Kc(h))}function qg(a,u){a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&Kc(a))}function ji(a,u,h,m){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)OT(a,u,h,m),u=u.sibling}function OT(a,u,h,m){var T=u.flags;switch(u.tag){case 0:case 11:case 15:ji(a,u,h,m),T&2048&&uf(9,u);break;case 1:ji(a,u,h,m);break;case 3:ji(a,u,h,m),T&2048&&(a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&Kc(a)));break;case 12:if(T&2048){ji(a,u,h,m),a=u.stateNode;try{var S=u.memoizedProps,B=S.id,W=S.onPostCommit;typeof W=="function"&&W(B,u.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ue){en(u,u.return,ue)}}else ji(a,u,h,m);break;case 31:ji(a,u,h,m);break;case 13:ji(a,u,h,m);break;case 23:break;case 22:S=u.stateNode,B=u.alternate,u.memoizedState!==null?S._visibility&2?ji(a,u,h,m):cf(a,u):S._visibility&2?ji(a,u,h,m):(S._visibility|=2,wl(a,u,h,m,(u.subtreeFlags&10256)!==0||!1)),T&2048&&Bg(B,u);break;case 24:ji(a,u,h,m),T&2048&&qg(u.alternate,u);break;default:ji(a,u,h,m)}}function wl(a,u,h,m,T){for(T=T&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var S=a,B=u,W=h,ue=m,Te=B.flags;switch(B.tag){case 0:case 11:case 15:wl(S,B,W,ue,T),uf(8,B);break;case 23:break;case 22:var Me=B.stateNode;B.memoizedState!==null?Me._visibility&2?wl(S,B,W,ue,T):cf(S,B):(Me._visibility|=2,wl(S,B,W,ue,T)),T&&Te&2048&&Bg(B.alternate,B);break;case 24:wl(S,B,W,ue,T),T&&Te&2048&&qg(B.alternate,B);break;default:wl(S,B,W,ue,T)}u=u.sibling}}function cf(a,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=a,m=u,T=m.flags;switch(m.tag){case 22:cf(h,m),T&2048&&Bg(m.alternate,m);break;case 24:cf(h,m),T&2048&&qg(m.alternate,m);break;default:cf(h,m)}u=u.sibling}}var ff=8192;function Sl(a,u,h){if(a.subtreeFlags&ff)for(a=a.child;a!==null;)FT(a,u,h),a=a.sibling}function FT(a,u,h){switch(a.tag){case 26:Sl(a,u,h),a.flags&ff&&a.memoizedState!==null&&i8(h,Gi,a.memoizedState,a.memoizedProps);break;case 5:Sl(a,u,h);break;case 3:case 4:var m=Gi;Gi=td(a.stateNode.containerInfo),Sl(a,u,h),Gi=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=ff,ff=16777216,Sl(a,u,h),ff=m):Sl(a,u,h));break;default:Sl(a,u,h)}}function UT(a){var u=a.alternate;if(u!==null&&(a=u.child,a!==null)){u.child=null;do u=a.sibling,a.sibling=null,a=u;while(a!==null)}}function hf(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];Zn=m,BT(m,a)}UT(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)VT(a),a=a.sibling}function VT(a){switch(a.tag){case 0:case 11:case 15:hf(a),a.flags&2048&&$a(9,a,a.return);break;case 3:hf(a);break;case 12:hf(a);break;case 22:var u=a.stateNode;a.memoizedState!==null&&u._visibility&2&&(a.return===null||a.return.tag!==13)?(u._visibility&=-3,Hh(a)):hf(a);break;default:hf(a)}}function Hh(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];Zn=m,BT(m,a)}UT(a)}for(a=a.child;a!==null;){switch(u=a,u.tag){case 0:case 11:case 15:$a(8,u,u.return),Hh(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,Hh(u));break;default:Hh(u)}a=a.sibling}}function BT(a,u){for(;Zn!==null;){var h=Zn;switch(h.tag){case 0:case 11:case 15:$a(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Kc(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,Zn=m;else e:for(h=a;Zn!==null;){m=Zn;var T=m.sibling,S=m.return;if(RT(m),m===h){Zn=null;break e}if(T!==null){T.return=S,Zn=T;break e}Zn=S}}}var vN={getCacheForType:function(a){var u=sr(On),h=u.data.get(a);return h===void 0&&(h=a(),u.data.set(a,h)),h},cacheSignal:function(){return sr(On).controller.signal}},_N=typeof WeakMap=="function"?WeakMap:Map,jt=0,fn=null,At=null,It=0,Zt=0,ai=null,Wa=!1,Al=!1,Hg=!1,sa=0,Sn=0,Ka=0,mu=0,zg=0,oi=0,Cl=0,df=null,Gr=null,Gg=!1,zh=0,qT=0,Gh=1/0,jh=null,Ya=null,$n=0,Xa=null,Il=null,aa=0,jg=0,$g=null,HT=null,pf=0,Wg=null;function ui(){return(jt&2)!==0&&It!==0?It&-It:ae.T!==null?Zg():j()}function zT(){if(oi===0)if((It&536870912)===0||Mt){var a=Vs;Vs<<=1,(Vs&3932160)===0&&(Vs=262144),oi=a}else oi=536870912;return a=ii.current,a!==null&&(a.flags|=32),oi}function jr(a,u,h){(a===fn&&(Zt===2||Zt===9)||a.cancelPendingCommit!==null)&&(kl(a,0),Ja(a,It,oi,!1)),Bs(a,h),((jt&2)===0||a!==fn)&&(a===fn&&((jt&2)===0&&(mu|=h),Sn===4&&Ja(a,It,oi,!1)),vs(a))}function GT(a,u,h){if((jt&6)!==0)throw Error(r(327));var m=!h&&(u&127)===0&&(u&a.expiredLanes)===0||Zr(a,u),T=m?bN(a,u):Yg(a,u,!0),S=m;do{if(T===0){Al&&!m&&Ja(a,u,0,!1);break}else{if(h=a.current.alternate,S&&!TN(h)){T=Yg(a,u,!1),S=!1;continue}if(T===2){if(S=u,a.errorRecoveryDisabledLanes&S)var B=0;else B=a.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){u=B;e:{var W=a;T=df;var ue=W.current.memoizedState.isDehydrated;if(ue&&(kl(W,B).flags|=256),B=Yg(W,B,!1),B!==2){if(Hg&&!ue){W.errorRecoveryDisabledLanes|=S,mu|=S,T=4;break e}S=Gr,Gr=T,S!==null&&(Gr===null?Gr=S:Gr.push.apply(Gr,S))}T=B}if(S=!1,T!==2)continue}}if(T===1){kl(a,0),Ja(a,u,0,!0);break}e:{switch(m=a,S=T,S){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Ja(m,u,oi,!Wa);break e;case 2:Gr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(T=zh+300-st(),10<T)){if(Ja(m,u,oi,!Wa),pi(m,0,!0)!==0)break e;aa=u,m.timeoutHandle=TE(jT.bind(null,m,h,Gr,jh,Gg,u,oi,mu,Cl,Wa,S,"Throttled",-0,0),T);break e}jT(m,h,Gr,jh,Gg,u,oi,mu,Cl,Wa,S,null,-0,0)}}break}while(!0);vs(a)}function jT(a,u,h,m,T,S,B,W,ue,Te,Me,Oe,Se,Ie){if(a.timeoutHandle=-1,Oe=u.subtreeFlags,Oe&8192||(Oe&16785408)===16785408){Oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ui},FT(u,S,Oe);var Qe=(S&62914560)===S?zh-st():(S&4194048)===S?qT-st():0;if(Qe=s8(Oe,Qe),Qe!==null){aa=S,a.cancelPendingCommit=Qe(ZT.bind(null,a,u,S,h,m,T,B,W,ue,Me,Oe,null,Se,Ie)),Ja(a,S,B,!Te);return}}ZT(a,u,S,h,m,T,B,W,ue)}function TN(a){for(var u=a;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var T=h[m],S=T.getSnapshot;T=T.value;try{if(!ni(S(),T))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ja(a,u,h,m){u&=~zg,u&=~mu,a.suspendedLanes|=u,a.pingedLanes&=~u,m&&(a.warmLanes|=u),m=a.expirationTimes;for(var T=u;0<T;){var S=31-Tn(T),B=1<<S;m[S]=-1,T&=~B}h!==0&&qs(a,h,u)}function $h(){return(jt&6)===0?(mf(0),!1):!0}function Kg(){if(At!==null){if(Zt===0)var a=At.return;else a=At,Ys=au=null,cg(a),vl=null,Xc=0,a=At;for(;a!==null;)ET(a.alternate,a),a=a.return;At=null}}function kl(a,u){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,qN(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),aa=0,Kg(),fn=a,At=h=Ws(a.current,null),It=u,Zt=0,ai=null,Wa=!1,Al=Zr(a,u),Hg=!1,Cl=oi=zg=mu=Ka=Sn=0,Gr=df=null,Gg=!1,(u&8)!==0&&(u|=u&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=u;0<m;){var T=31-Tn(m),S=1<<T;u|=a[T],m&=~S}return sa=u,dh(),h}function $T(a,u){vt=null,ae.H=sf,u===yl||u===Th?(u=u2(),Zt=3):u===Qm?(u=u2(),Zt=4):Zt=u===Ag?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ai=u,At===null&&(Sn=1,Lh(a,_i(u,a.current)))}function WT(){var a=ii.current;return a===null?!0:(It&4194048)===It?wi===null:(It&62914560)===It||(It&536870912)!==0?a===wi:!1}function KT(){var a=ae.H;return ae.H=sf,a===null?sf:a}function YT(){var a=ae.A;return ae.A=vN,a}function Wh(){Sn=4,Wa||(It&4194048)!==It&&ii.current!==null||(Al=!0),(Ka&134217727)===0&&(mu&134217727)===0||fn===null||Ja(fn,It,oi,!1)}function Yg(a,u,h){var m=jt;jt|=2;var T=KT(),S=YT();(fn!==a||It!==u)&&(jh=null,kl(a,u)),u=!1;var B=Sn;e:do try{if(Zt!==0&&At!==null){var W=At,ue=ai;switch(Zt){case 8:Kg(),B=6;break e;case 3:case 2:case 9:case 6:ii.current===null&&(u=!0);var Te=Zt;if(Zt=0,ai=null,Rl(a,W,ue,Te),h&&Al){B=0;break e}break;default:Te=Zt,Zt=0,ai=null,Rl(a,W,ue,Te)}}EN(),B=Sn;break}catch(Me){$T(a,Me)}while(!0);return u&&a.shellSuspendCounter++,Ys=au=null,jt=m,ae.H=T,ae.A=S,At===null&&(fn=null,It=0,dh()),B}function EN(){for(;At!==null;)XT(At)}function bN(a,u){var h=jt;jt|=2;var m=KT(),T=YT();fn!==a||It!==u?(jh=null,Gh=st()+500,kl(a,u)):Al=Zr(a,u);e:do try{if(Zt!==0&&At!==null){u=At;var S=ai;t:switch(Zt){case 1:Zt=0,ai=null,Rl(a,u,S,1);break;case 2:case 9:if(a2(S)){Zt=0,ai=null,JT(u);break}u=function(){Zt!==2&&Zt!==9||fn!==a||(Zt=7),vs(a)},S.then(u,u);break e;case 3:Zt=7;break e;case 4:Zt=5;break e;case 7:a2(S)?(Zt=0,ai=null,JT(u)):(Zt=0,ai=null,Rl(a,u,S,7));break;case 5:var B=null;switch(At.tag){case 26:B=At.memoizedState;case 5:case 27:var W=At;if(B?OE(B):W.stateNode.complete){Zt=0,ai=null;var ue=W.sibling;if(ue!==null)At=ue;else{var Te=W.return;Te!==null?(At=Te,Kh(Te)):At=null}break t}}Zt=0,ai=null,Rl(a,u,S,5);break;case 6:Zt=0,ai=null,Rl(a,u,S,6);break;case 8:Kg(),Sn=6;break e;default:throw Error(r(462))}}wN();break}catch(Me){$T(a,Me)}while(!0);return Ys=au=null,ae.H=m,ae.A=T,jt=h,At!==null?0:(fn=null,It=0,dh(),Sn)}function wN(){for(;At!==null&&!ot();)XT(At)}function XT(a){var u=_T(a.alternate,a,sa);a.memoizedProps=a.pendingProps,u===null?Kh(a):At=u}function JT(a){var u=a,h=u.alternate;switch(u.tag){case 15:case 0:u=pT(h,u,u.pendingProps,u.type,void 0,It);break;case 11:u=pT(h,u,u.pendingProps,u.type.render,u.ref,It);break;case 5:cg(u);default:ET(h,u),u=At=Y_(u,sa),u=_T(h,u,sa)}a.memoizedProps=a.pendingProps,u===null?Kh(a):At=u}function Rl(a,u,h,m){Ys=au=null,cg(u),vl=null,Xc=0;var T=u.return;try{if(hN(a,T,u,h,It)){Sn=1,Lh(a,_i(h,a.current)),At=null;return}}catch(S){if(T!==null)throw At=T,S;Sn=1,Lh(a,_i(h,a.current)),At=null;return}u.flags&32768?(Mt||m===1?a=!0:Al||(It&536870912)!==0?a=!1:(Wa=a=!0,(m===2||m===9||m===3||m===6)&&(m=ii.current,m!==null&&m.tag===13&&(m.flags|=16384))),QT(u,a)):Kh(u)}function Kh(a){var u=a;do{if((u.flags&32768)!==0){QT(u,Wa);return}a=u.return;var h=mN(u.alternate,u,sa);if(h!==null){At=h;return}if(u=u.sibling,u!==null){At=u;return}At=u=a}while(u!==null);Sn===0&&(Sn=5)}function QT(a,u){do{var h=gN(a.alternate,a);if(h!==null){h.flags&=32767,At=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(a=a.sibling,a!==null)){At=a;return}At=a=h}while(a!==null);Sn=6,At=null}function ZT(a,u,h,m,T,S,B,W,ue){a.cancelPendingCommit=null;do Yh();while($n!==0);if((jt&6)!==0)throw Error(r(327));if(u!==null){if(u===a.current)throw Error(r(177));if(S=u.lanes|u.childLanes,S|=Fm,Nc(a,h,S,B,W,ue),a===fn&&(At=fn=null,It=0),Il=u,Xa=a,aa=h,jg=S,$g=T,HT=m,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,IN(wt,function(){return iE(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||m){m=ae.T,ae.T=null,T=se.p,se.p=2,B=jt,jt|=4;try{xN(a,u,h)}finally{jt=B,se.p=T,ae.T=m}}$n=1,eE(),tE(),nE()}}function eE(){if($n===1){$n=0;var a=Xa,u=Il,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=ae.T,ae.T=null;var m=se.p;se.p=2;var T=jt;jt|=4;try{PT(u,a);var S=o1,B=B_(a.containerInfo),W=S.focusedElem,ue=S.selectionRange;if(B!==W&&W&&W.ownerDocument&&V_(W.ownerDocument.documentElement,W)){if(ue!==null&&Dm(W)){var Te=ue.start,Me=ue.end;if(Me===void 0&&(Me=Te),"selectionStart"in W)W.selectionStart=Te,W.selectionEnd=Math.min(Me,W.value.length);else{var Oe=W.ownerDocument||document,Se=Oe&&Oe.defaultView||window;if(Se.getSelection){var Ie=Se.getSelection(),Qe=W.textContent.length,at=Math.min(ue.start,Qe),un=ue.end===void 0?at:Math.min(ue.end,Qe);!Ie.extend&&at>un&&(B=un,un=at,at=B);var pe=U_(W,at),fe=U_(W,un);if(pe&&fe&&(Ie.rangeCount!==1||Ie.anchorNode!==pe.node||Ie.anchorOffset!==pe.offset||Ie.focusNode!==fe.node||Ie.focusOffset!==fe.offset)){var ye=Oe.createRange();ye.setStart(pe.node,pe.offset),Ie.removeAllRanges(),at>un?(Ie.addRange(ye),Ie.extend(fe.node,fe.offset)):(ye.setEnd(fe.node,fe.offset),Ie.addRange(ye))}}}}for(Oe=[],Ie=W;Ie=Ie.parentNode;)Ie.nodeType===1&&Oe.push({element:Ie,left:Ie.scrollLeft,top:Ie.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Oe.length;W++){var Pe=Oe[W];Pe.element.scrollLeft=Pe.left,Pe.element.scrollTop=Pe.top}}od=!!a1,o1=a1=null}finally{jt=T,se.p=m,ae.T=h}}a.current=u,$n=2}}function tE(){if($n===2){$n=0;var a=Xa,u=Il,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=ae.T,ae.T=null;var m=se.p;se.p=2;var T=jt;jt|=4;try{kT(a,u.alternate,u)}finally{jt=T,se.p=m,ae.T=h}}$n=3}}function nE(){if($n===4||$n===3){$n=0,ut();var a=Xa,u=Il,h=aa,m=HT;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?$n=5:($n=0,Il=Xa=null,rE(a,a.pendingLanes));var T=a.pendingLanes;if(T===0&&(Ya=null),Li(h),u=u.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(St,u,void 0,(u.current.flags&128)===128)}catch{}if(m!==null){u=ae.T,T=se.p,se.p=2,ae.T=null;try{for(var S=a.onRecoverableError,B=0;B<m.length;B++){var W=m[B];S(W.value,{componentStack:W.stack})}}finally{ae.T=u,se.p=T}}(aa&3)!==0&&Yh(),vs(a),T=a.pendingLanes,(h&261930)!==0&&(T&42)!==0?a===Wg?pf++:(pf=0,Wg=a):pf=0,mf(0)}}function rE(a,u){(a.pooledCacheLanes&=u)===0&&(u=a.pooledCache,u!=null&&(a.pooledCache=null,Kc(u)))}function Yh(){return eE(),tE(),nE(),iE()}function iE(){if($n!==5)return!1;var a=Xa,u=jg;jg=0;var h=Li(aa),m=ae.T,T=se.p;try{se.p=32>h?32:h,ae.T=null,h=$g,$g=null;var S=Xa,B=aa;if($n=0,Il=Xa=null,aa=0,(jt&6)!==0)throw Error(r(331));var W=jt;if(jt|=4,VT(S.current),OT(S,S.current,B,h),jt=W,mf(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(St,S)}catch{}return!0}finally{se.p=T,ae.T=m,rE(a,u)}}function sE(a,u,h){u=_i(h,u),u=Sg(a.stateNode,u,2),a=za(a,u,2),a!==null&&(Bs(a,2),vs(a))}function en(a,u,h){if(a.tag===3)sE(a,a,h);else for(;u!==null;){if(u.tag===3){sE(u,a,h);break}else if(u.tag===1){var m=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ya===null||!Ya.has(m))){a=_i(h,a),h=aT(2),m=za(u,h,2),m!==null&&(oT(h,m,u,a),Bs(m,2),vs(m));break}}u=u.return}}function Xg(a,u,h){var m=a.pingCache;if(m===null){m=a.pingCache=new _N;var T=new Set;m.set(u,T)}else T=m.get(u),T===void 0&&(T=new Set,m.set(u,T));T.has(h)||(Hg=!0,T.add(h),a=SN.bind(null,a,u,h),u.then(a,a))}function SN(a,u,h){var m=a.pingCache;m!==null&&m.delete(u),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,fn===a&&(It&h)===h&&(Sn===4||Sn===3&&(It&62914560)===It&&300>st()-zh?(jt&2)===0&&kl(a,0):zg|=h,Cl===It&&(Cl=0)),vs(a)}function aE(a,u){u===0&&(u=Qu()),a=ru(a,u),a!==null&&(Bs(a,u),vs(a))}function AN(a){var u=a.memoizedState,h=0;u!==null&&(h=u.retryLane),aE(a,h)}function CN(a,u){var h=0;switch(a.tag){case 31:case 13:var m=a.stateNode,T=a.memoizedState;T!==null&&(h=T.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(u),aE(a,h)}function IN(a,u){return We(a,u)}var Xh=null,Nl=null,Jg=!1,Jh=!1,Qg=!1,Qa=0;function vs(a){a!==Nl&&a.next===null&&(Nl===null?Xh=Nl=a:Nl=Nl.next=a),Jh=!0,Jg||(Jg=!0,RN())}function mf(a,u){if(!Qg&&Jh){Qg=!0;do for(var h=!1,m=Xh;m!==null;){if(a!==0){var T=m.pendingLanes;if(T===0)var S=0;else{var B=m.suspendedLanes,W=m.pingedLanes;S=(1<<31-Tn(42|a)+1)-1,S&=T&~(B&~W),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(h=!0,cE(m,S))}else S=It,S=pi(m,m===fn?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||Zr(m,S)||(h=!0,cE(m,S));m=m.next}while(h);Qg=!1}}function kN(){oE()}function oE(){Jh=Jg=!1;var a=0;Qa!==0&&BN()&&(a=Qa);for(var u=st(),h=null,m=Xh;m!==null;){var T=m.next,S=uE(m,u);S===0?(m.next=null,h===null?Xh=T:h.next=T,T===null&&(Nl=h)):(h=m,(a!==0||(S&3)!==0)&&(Jh=!0)),m=T}$n!==0&&$n!==5||mf(a),Qa!==0&&(Qa=0)}function uE(a,u){for(var h=a.suspendedLanes,m=a.pingedLanes,T=a.expirationTimes,S=a.pendingLanes&-62914561;0<S;){var B=31-Tn(S),W=1<<B,ue=T[B];ue===-1?((W&h)===0||(W&m)!==0)&&(T[B]=Rc(W,u)):ue<=u&&(a.expiredLanes|=W),S&=~W}if(u=fn,h=It,h=pi(a,a===u?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,h===0||a===u&&(Zt===2||Zt===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Yt(m),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||Zr(a,h)){if(u=h&-h,u===a.callbackPriority)return u;switch(m!==null&&Yt(m),Li(h)){case 2:case 8:h=tn;break;case 32:h=wt;break;case 268435456:h=ht;break;default:h=wt}return m=lE.bind(null,a),h=We(h,m),a.callbackPriority=u,a.callbackNode=h,u}return m!==null&&m!==null&&Yt(m),a.callbackPriority=2,a.callbackNode=null,2}function lE(a,u){if($n!==0&&$n!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(Yh()&&a.callbackNode!==h)return null;var m=It;return m=pi(a,a===fn?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(GT(a,m,u),uE(a,st()),a.callbackNode!=null&&a.callbackNode===h?lE.bind(null,a):null)}function cE(a,u){if(Yh())return null;GT(a,u,!0)}function RN(){HN(function(){(jt&6)!==0?We(dt,kN):oE()})}function Zg(){if(Qa===0){var a=gl;a===0&&(a=Qr,Qr<<=1,(Qr&261888)===0&&(Qr=256)),Qa=a}return Qa}function fE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:tl(""+a)}function hE(a,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,a.id&&h.setAttribute("form",a.id),u.parentNode.insertBefore(h,u),a=new FormData(a),h.parentNode.removeChild(h),a}function NN(a,u,h,m,T){if(u==="submit"&&h&&h.stateNode===T){var S=fE((T[te]||null).action),B=m.submitter;B&&(u=(u=B[te]||null)?fE(u.formAction):B.getAttribute("formAction"),u!==null&&(S=u,B=null));var W=new hs("action","action",null,m,T);a.push({event:W,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Qa!==0){var ue=B?hE(T,B):new FormData(T);vg(h,{pending:!0,data:ue,method:T.method,action:S},null,ue)}}else typeof S=="function"&&(W.preventDefault(),ue=B?hE(T,B):new FormData(T),vg(h,{pending:!0,data:ue,method:T.method,action:S},S,ue))},currentTarget:T}]})}}for(var e1=0;e1<Om.length;e1++){var t1=Om[e1],DN=t1.toLowerCase(),MN=t1[0].toUpperCase()+t1.slice(1);zi(DN,"on"+MN)}zi(z_,"onAnimationEnd"),zi(G_,"onAnimationIteration"),zi(j_,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(YR,"onTransitionRun"),zi(XR,"onTransitionStart"),zi(JR,"onTransitionCancel"),zi($_,"onTransitionEnd"),pr("onMouseEnter",["mouseout","mouseover"]),pr("onMouseLeave",["mouseout","mouseover"]),pr("onPointerEnter",["pointerout","pointerover"]),pr("onPointerLeave",["pointerout","pointerover"]),cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gf));function dE(a,u){u=(u&4)!==0;for(var h=0;h<a.length;h++){var m=a[h],T=m.event;m=m.listeners;e:{var S=void 0;if(u)for(var B=m.length-1;0<=B;B--){var W=m[B],ue=W.instance,Te=W.currentTarget;if(W=W.listener,ue!==S&&T.isPropagationStopped())break e;S=W,T.currentTarget=Te;try{S(T)}catch(Me){hh(Me)}T.currentTarget=null,S=ue}else for(B=0;B<m.length;B++){if(W=m[B],ue=W.instance,Te=W.currentTarget,W=W.listener,ue!==S&&T.isPropagationStopped())break e;S=W,T.currentTarget=Te;try{S(T)}catch(Me){hh(Me)}T.currentTarget=null,S=ue}}}}function Ct(a,u){var h=u[ve];h===void 0&&(h=u[ve]=new Set);var m=a+"__bubble";h.has(m)||(pE(u,a,2,!1),h.add(m))}function n1(a,u,h){var m=0;u&&(m|=4),pE(h,a,m,u)}var Qh="_reactListening"+Math.random().toString(36).slice(2);function r1(a){if(!a[Qh]){a[Qh]=!0,Xt.forEach(function(h){h!=="selectionchange"&&(PN.has(h)||n1(h,!1,a),n1(h,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[Qh]||(u[Qh]=!0,n1("selectionchange",!1,u))}}function pE(a,u,h,m){switch(zE(u)){case 2:var T=u8;break;case 8:T=l8;break;default:T=y1}h=T.bind(null,u,h,a),T=void 0,!Yo||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(T=!0),m?T!==void 0?a.addEventListener(u,h,{capture:!0,passive:T}):a.addEventListener(u,h,!0):T!==void 0?a.addEventListener(u,h,{passive:T}):a.addEventListener(u,h,!1)}function i1(a,u,h,m,T){var S=m;if((u&1)===0&&(u&2)===0&&m!==null)e:for(;;){if(m===null)return;var B=m.tag;if(B===3||B===4){var W=m.stateNode.containerInfo;if(W===T)break;if(B===4)for(B=m.return;B!==null;){var ue=B.tag;if((ue===3||ue===4)&&B.stateNode.containerInfo===T)return;B=B.return}for(;W!==null;){if(B=ze(W),B===null)return;if(ue=B.tag,ue===5||ue===6||ue===26||ue===27){m=S=B;continue e}W=W.parentNode}}m=m.return}Ma(function(){var Te=S,Me=gi(h),Oe=[];e:{var Se=W_.get(a);if(Se!==void 0){var Ie=hs,Qe=a;switch(a){case"keypress":if(Jo(h)===0)break e;case"keydown":case"keyup":Ie=lh;break;case"focusin":Qe="focus",Ie=Zo;break;case"focusout":Qe="blur",Ie=Zo;break;case"beforeblur":case"afterblur":Ie=Zo;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=Bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=U;break;case z_:case G_:case j_:Ie=nh;break;case $_:Ie=J;break;case"scroll":case"scrollend":Ie=Vc;break;case"wheel":Ie=Ce;break;case"copy":case"cut":case"paste":Ie=rh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=$s;break;case"toggle":case"beforetoggle":Ie=yt}var at=(u&4)!==0,un=!at&&(a==="scroll"||a==="scrollend"),pe=at?Se!==null?Se+"Capture":null:Se;at=[];for(var fe=Te,ye;fe!==null;){var Pe=fe;if(ye=Pe.stateNode,Pe=Pe.tag,Pe!==5&&Pe!==26&&Pe!==27||ye===null||pe===null||(Pe=Vi(fe,pe),Pe!=null&&at.push(xf(fe,Pe,ye))),un)break;fe=fe.return}0<at.length&&(Se=new Ie(Se,Qe,null,h,Me),Oe.push({event:Se,listeners:at}))}}if((u&7)===0){e:{if(Se=a==="mouseover"||a==="pointerover",Ie=a==="mouseout"||a==="pointerout",Se&&h!==Oc&&(Qe=h.relatedTarget||h.fromElement)&&(ze(Qe)||Qe[ie]))break e;if((Ie||Se)&&(Se=Me.window===Me?Me:(Se=Me.ownerDocument)?Se.defaultView||Se.parentWindow:window,Ie?(Qe=h.relatedTarget||h.toElement,Ie=Te,Qe=Qe?ze(Qe):null,Qe!==null&&(un=s(Qe),at=Qe.tag,Qe!==un||at!==5&&at!==27&&at!==6)&&(Qe=null)):(Ie=null,Qe=Te),Ie!==Qe)){if(at=Bc,Pe="onMouseLeave",pe="onMouseEnter",fe="mouse",(a==="pointerout"||a==="pointerover")&&(at=$s,Pe="onPointerLeave",pe="onPointerEnter",fe="pointer"),un=Ie==null?Se:Ve(Ie),ye=Qe==null?Se:Ve(Qe),Se=new at(Pe,fe+"leave",Ie,h,Me),Se.target=un,Se.relatedTarget=ye,Pe=null,ze(Me)===Te&&(at=new at(pe,fe+"enter",Qe,h,Me),at.target=ye,at.relatedTarget=un,Pe=at),un=Pe,Ie&&Qe)t:{for(at=LN,pe=Ie,fe=Qe,ye=0,Pe=pe;Pe;Pe=at(Pe))ye++;Pe=0;for(var rt=fe;rt;rt=at(rt))Pe++;for(;0<ye-Pe;)pe=at(pe),ye--;for(;0<Pe-ye;)fe=at(fe),Pe--;for(;ye--;){if(pe===fe||fe!==null&&pe===fe.alternate){at=pe;break t}pe=at(pe),fe=at(fe)}at=null}else at=null;Ie!==null&&mE(Oe,Se,Ie,at,!1),Qe!==null&&un!==null&&mE(Oe,un,Qe,at,!0)}}e:{if(Se=Te?Ve(Te):window,Ie=Se.nodeName&&Se.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&Se.type==="file")var Bt=D_;else if(R_(Se))if(M_)Bt=$R;else{Bt=GR;var tt=zR}else Ie=Se.nodeName,!Ie||Ie.toLowerCase()!=="input"||Se.type!=="checkbox"&&Se.type!=="radio"?Te&&el(Te.elementType)&&(Bt=D_):Bt=jR;if(Bt&&(Bt=Bt(a,Te))){N_(Oe,Bt,h,Me);break e}tt&&tt(a,Se,Te),a==="focusout"&&Te&&Se.type==="number"&&Te.memoizedProps.value!=null&&Mc(Se,"number",Se.value)}switch(tt=Te?Ve(Te):window,a){case"focusin":(R_(tt)||tt.contentEditable==="true")&&(ul=tt,Mm=Te,jc=null);break;case"focusout":jc=Mm=ul=null;break;case"mousedown":Pm=!0;break;case"contextmenu":case"mouseup":case"dragend":Pm=!1,q_(Oe,h,Me);break;case"selectionchange":if(KR)break;case"keydown":case"keyup":q_(Oe,h,Me)}var Tt;if(Gt)e:{switch(a){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else ol?eu(a,h)&&(kt="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(kt="onCompositionStart");kt&&(ms&&h.locale!=="ko"&&(ol||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&ol&&(Tt=Uc()):(fs=Me,Fc="value"in fs?fs.value:fs.textContent,ol=!0)),tt=Zh(Te,kt),0<tt.length&&(kt=new ps(kt,a,null,h,Me),Oe.push({event:kt,listeners:tt}),Tt?kt.data=Tt:(Tt=al(h),Tt!==null&&(kt.data=Tt)))),(Tt=yi?VR(a,h):BR(a,h))&&(kt=Zh(Te,"onBeforeInput"),0<kt.length&&(tt=new ps("onBeforeInput","beforeinput",null,h,Me),Oe.push({event:tt,listeners:kt}),tt.data=Tt)),NN(Oe,a,Te,h,Me)}dE(Oe,u)})}function xf(a,u,h){return{instance:a,listener:u,currentTarget:h}}function Zh(a,u){for(var h=u+"Capture",m=[];a!==null;){var T=a,S=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||S===null||(T=Vi(a,h),T!=null&&m.unshift(xf(a,T,S)),T=Vi(a,u),T!=null&&m.push(xf(a,T,S))),a.tag===3)return m;a=a.return}return[]}function LN(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function mE(a,u,h,m,T){for(var S=u._reactName,B=[];h!==null&&h!==m;){var W=h,ue=W.alternate,Te=W.stateNode;if(W=W.tag,ue!==null&&ue===m)break;W!==5&&W!==26&&W!==27||Te===null||(ue=Te,T?(Te=Vi(h,S),Te!=null&&B.unshift(xf(h,Te,ue))):T||(Te=Vi(h,S),Te!=null&&B.push(xf(h,Te,ue)))),h=h.return}B.length!==0&&a.push({event:u,listeners:B})}var ON=/\r\n?/g,FN=/\u0000|\uFFFD/g;function gE(a){return(typeof a=="string"?a:""+a).replace(ON,`
`).replace(FN,"")}function xE(a,u){return u=gE(u),gE(a)===u}function on(a,u,h,m,T,S){switch(h){case"children":typeof m=="string"?u==="body"||u==="textarea"&&m===""||Br(a,m):(typeof m=="number"||typeof m=="bigint")&&u!=="body"&&Br(a,""+m);break;case"className":ti(a,"class",m);break;case"tabIndex":ti(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(a,h,m);break;case"style":Lc(a,m,S);break;case"data":if(u!=="object"){ti(a,"data",m);break}case"src":case"href":if(m===""&&(u!=="a"||h!=="href")){a.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(h);break}m=tl(""+m),a.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(h==="formAction"?(u!=="input"&&on(a,u,"name",T.name,T,null),on(a,u,"formEncType",T.formEncType,T,null),on(a,u,"formMethod",T.formMethod,T,null),on(a,u,"formTarget",T.formTarget,T,null)):(on(a,u,"encType",T.encType,T,null),on(a,u,"method",T.method,T,null),on(a,u,"target",T.target,T,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(h);break}m=tl(""+m),a.setAttribute(h,m);break;case"onClick":m!=null&&(a.onclick=Ui);break;case"onScroll":m!=null&&Ct("scroll",a);break;case"onScrollEnd":m!=null&&Ct("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(T.children!=null)throw Error(r(60));a.innerHTML=h}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}h=tl(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(h,""+m):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":m===!0?a.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(h,m):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(h,m):a.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(h):a.setAttribute(h,m);break;case"popover":Ct("beforetoggle",a),Ct("toggle",a),mr(a,"popover",m);break;case"xlinkActuate":Ln(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ln(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ln(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ln(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ln(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ln(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ln(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ln(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ln(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":mr(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Z0.get(h)||h,mr(a,h,m))}}function s1(a,u,h,m,T,S){switch(h){case"style":Lc(a,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(T.children!=null)throw Error(r(60));a.innerHTML=h}}break;case"children":typeof m=="string"?Br(a,m):(typeof m=="number"||typeof m=="bigint")&&Br(a,""+m);break;case"onScroll":m!=null&&Ct("scroll",a);break;case"onScrollEnd":m!=null&&Ct("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jt.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(T=h.endsWith("Capture"),u=h.slice(2,T?h.length-7:void 0),S=a[te]||null,S=S!=null?S[h]:null,typeof S=="function"&&a.removeEventListener(u,S,T),typeof m=="function")){typeof S!="function"&&S!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(u,m,T);break e}h in a?a[h]=m:m===!0?a.setAttribute(h,""):mr(a,h,m)}}}function or(a,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",a),Ct("load",a);var m=!1,T=!1,S;for(S in h)if(h.hasOwnProperty(S)){var B=h[S];if(B!=null)switch(S){case"src":m=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:on(a,u,S,B,h,null)}}T&&on(a,u,"srcSet",h.srcSet,h,null),m&&on(a,u,"src",h.src,h,null);return;case"input":Ct("invalid",a);var W=S=B=T=null,ue=null,Te=null;for(m in h)if(h.hasOwnProperty(m)){var Me=h[m];if(Me!=null)switch(m){case"name":T=Me;break;case"type":B=Me;break;case"checked":ue=Me;break;case"defaultChecked":Te=Me;break;case"value":S=Me;break;case"defaultValue":W=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,u));break;default:on(a,u,m,Me,h,null)}}X0(a,S,W,ue,Te,B,T,!1);return;case"select":Ct("invalid",a),m=B=S=null;for(T in h)if(h.hasOwnProperty(T)&&(W=h[T],W!=null))switch(T){case"value":S=W;break;case"defaultValue":B=W;break;case"multiple":m=W;default:on(a,u,T,W,h,null)}u=S,h=B,a.multiple=!!m,u!=null?ka(a,!!m,u,!1):h!=null&&ka(a,!!m,h,!0);return;case"textarea":Ct("invalid",a),S=T=m=null;for(B in h)if(h.hasOwnProperty(B)&&(W=h[B],W!=null))switch(B){case"value":m=W;break;case"defaultValue":T=W;break;case"children":S=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(91));break;default:on(a,u,B,W,h,null)}Ra(a,m,T,S);return;case"option":for(ue in h)if(h.hasOwnProperty(ue)&&(m=h[ue],m!=null))switch(ue){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:on(a,u,ue,m,h,null)}return;case"dialog":Ct("beforetoggle",a),Ct("toggle",a),Ct("cancel",a),Ct("close",a);break;case"iframe":case"object":Ct("load",a);break;case"video":case"audio":for(m=0;m<gf.length;m++)Ct(gf[m],a);break;case"image":Ct("error",a),Ct("load",a);break;case"details":Ct("toggle",a);break;case"embed":case"source":case"link":Ct("error",a),Ct("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Te in h)if(h.hasOwnProperty(Te)&&(m=h[Te],m!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:on(a,u,Te,m,h,null)}return;default:if(el(u)){for(Me in h)h.hasOwnProperty(Me)&&(m=h[Me],m!==void 0&&s1(a,u,Me,m,h,void 0));return}}for(W in h)h.hasOwnProperty(W)&&(m=h[W],m!=null&&on(a,u,W,m,h,null))}function UN(a,u,h,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,S=null,B=null,W=null,ue=null,Te=null,Me=null;for(Ie in h){var Oe=h[Ie];if(h.hasOwnProperty(Ie)&&Oe!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":ue=Oe;default:m.hasOwnProperty(Ie)||on(a,u,Ie,null,m,Oe)}}for(var Se in m){var Ie=m[Se];if(Oe=h[Se],m.hasOwnProperty(Se)&&(Ie!=null||Oe!=null))switch(Se){case"type":S=Ie;break;case"name":T=Ie;break;case"checked":Te=Ie;break;case"defaultChecked":Me=Ie;break;case"value":B=Ie;break;case"defaultValue":W=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(r(137,u));break;default:Ie!==Oe&&on(a,u,Se,Ie,m,Oe)}}Zu(a,B,W,ue,Te,Me,S,T);return;case"select":Ie=B=W=Se=null;for(S in h)if(ue=h[S],h.hasOwnProperty(S)&&ue!=null)switch(S){case"value":break;case"multiple":Ie=ue;default:m.hasOwnProperty(S)||on(a,u,S,null,m,ue)}for(T in m)if(S=m[T],ue=h[T],m.hasOwnProperty(T)&&(S!=null||ue!=null))switch(T){case"value":Se=S;break;case"defaultValue":W=S;break;case"multiple":B=S;default:S!==ue&&on(a,u,T,S,m,ue)}u=W,h=B,m=Ie,Se!=null?ka(a,!!h,Se,!1):!!m!=!!h&&(u!=null?ka(a,!!h,u,!0):ka(a,!!h,h?[]:"",!1));return;case"textarea":Ie=Se=null;for(W in h)if(T=h[W],h.hasOwnProperty(W)&&T!=null&&!m.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:on(a,u,W,null,m,T)}for(B in m)if(T=m[B],S=h[B],m.hasOwnProperty(B)&&(T!=null||S!=null))switch(B){case"value":Se=T;break;case"defaultValue":Ie=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==S&&on(a,u,B,T,m,S)}J0(a,Se,Ie);return;case"option":for(var Qe in h)if(Se=h[Qe],h.hasOwnProperty(Qe)&&Se!=null&&!m.hasOwnProperty(Qe))switch(Qe){case"selected":a.selected=!1;break;default:on(a,u,Qe,null,m,Se)}for(ue in m)if(Se=m[ue],Ie=h[ue],m.hasOwnProperty(ue)&&Se!==Ie&&(Se!=null||Ie!=null))switch(ue){case"selected":a.selected=Se&&typeof Se!="function"&&typeof Se!="symbol";break;default:on(a,u,ue,Se,m,Ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in h)Se=h[at],h.hasOwnProperty(at)&&Se!=null&&!m.hasOwnProperty(at)&&on(a,u,at,null,m,Se);for(Te in m)if(Se=m[Te],Ie=h[Te],m.hasOwnProperty(Te)&&Se!==Ie&&(Se!=null||Ie!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,u));break;default:on(a,u,Te,Se,m,Ie)}return;default:if(el(u)){for(var un in h)Se=h[un],h.hasOwnProperty(un)&&Se!==void 0&&!m.hasOwnProperty(un)&&s1(a,u,un,void 0,m,Se);for(Me in m)Se=m[Me],Ie=h[Me],!m.hasOwnProperty(Me)||Se===Ie||Se===void 0&&Ie===void 0||s1(a,u,Me,Se,m,Ie);return}}for(var pe in h)Se=h[pe],h.hasOwnProperty(pe)&&Se!=null&&!m.hasOwnProperty(pe)&&on(a,u,pe,null,m,Se);for(Oe in m)Se=m[Oe],Ie=h[Oe],!m.hasOwnProperty(Oe)||Se===Ie||Se==null&&Ie==null||on(a,u,Oe,Se,m,Ie)}function yE(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function VN(){if(typeof performance.getEntriesByType=="function"){for(var a=0,u=0,h=performance.getEntriesByType("resource"),m=0;m<h.length;m++){var T=h[m],S=T.transferSize,B=T.initiatorType,W=T.duration;if(S&&W&&yE(B)){for(B=0,W=T.responseEnd,m+=1;m<h.length;m++){var ue=h[m],Te=ue.startTime;if(Te>W)break;var Me=ue.transferSize,Oe=ue.initiatorType;Me&&yE(Oe)&&(ue=ue.responseEnd,B+=Me*(ue<W?1:(W-Te)/(ue-Te)))}if(--m,u+=8*(S+B)/(T.duration/1e3),a++,10<a)break}}if(0<a)return u/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var a1=null,o1=null;function ed(a){return a.nodeType===9?a:a.ownerDocument}function vE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _E(a,u){if(a===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&u==="foreignObject"?0:a}function u1(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var l1=null;function BN(){var a=window.event;return a&&a.type==="popstate"?a===l1?!1:(l1=a,!0):(l1=null,!1)}var TE=typeof setTimeout=="function"?setTimeout:void 0,qN=typeof clearTimeout=="function"?clearTimeout:void 0,EE=typeof Promise=="function"?Promise:void 0,HN=typeof queueMicrotask=="function"?queueMicrotask:typeof EE<"u"?function(a){return EE.resolve(null).then(a).catch(zN)}:TE;function zN(a){setTimeout(function(){throw a})}function Za(a){return a==="head"}function bE(a,u){var h=u,m=0;do{var T=h.nextSibling;if(a.removeChild(h),T&&T.nodeType===8)if(h=T.data,h==="/$"||h==="/&"){if(m===0){a.removeChild(T),Ll(u);return}m--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")m++;else if(h==="html")yf(a.ownerDocument.documentElement);else if(h==="head"){h=a.ownerDocument.head,yf(h);for(var S=h.firstChild;S;){var B=S.nextSibling,W=S.nodeName;S[be]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&S.rel.toLowerCase()==="stylesheet"||h.removeChild(S),S=B}}else h==="body"&&yf(a.ownerDocument.body);h=T}while(h);Ll(u)}function wE(a,u){var h=a;a=0;do{var m=h.nextSibling;if(h.nodeType===1?u?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(u?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),m&&m.nodeType===8)if(h=m.data,h==="/$"){if(a===0)break;a--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||a++;h=m}while(h)}function c1(a){var u=a.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":c1(h),Be(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function GN(a,u,h,m){for(;a.nodeType===1;){var T=h;if(a.nodeName.toLowerCase()!==u.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[be])switch(u){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(S=a.getAttribute("rel"),S==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(S!==T.rel||a.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||a.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||a.getAttribute("title")!==(T.title==null?null:T.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(S=a.getAttribute("src"),(S!==(T.src==null?null:T.src)||a.getAttribute("type")!==(T.type==null?null:T.type)||a.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&S&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(u==="input"&&a.type==="hidden"){var S=T.name==null?null:""+T.name;if(T.type==="hidden"&&a.getAttribute("name")===S)return a}else return a;if(a=Si(a.nextSibling),a===null)break}return null}function jN(a,u,h){if(u==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=Si(a.nextSibling),a===null))return null;return a}function SE(a,u){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Si(a.nextSibling),a===null))return null;return a}function f1(a){return a.data==="$?"||a.data==="$~"}function h1(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function $N(a,u){var h=a.ownerDocument;if(a.data==="$~")a._reactRetry=u;else if(a.data!=="$?"||h.readyState!=="loading")u();else{var m=function(){u(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Si(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return a}var d1=null;function AE(a){a=a.nextSibling;for(var u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"||h==="/&"){if(u===0)return Si(a.nextSibling);u--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||u++}a=a.nextSibling}return null}function CE(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(u===0)return a;u--}else h!=="/$"&&h!=="/&"||u++}a=a.previousSibling}return null}function IE(a,u,h){switch(u=ed(h),a){case"html":if(a=u.documentElement,!a)throw Error(r(452));return a;case"head":if(a=u.head,!a)throw Error(r(453));return a;case"body":if(a=u.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function yf(a){for(var u=a.attributes;u.length;)a.removeAttributeNode(u[0]);Be(a)}var Ai=new Map,kE=new Set;function td(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var oa=se.d;se.d={f:WN,r:KN,D:YN,C:XN,L:JN,m:QN,X:e8,S:ZN,M:t8};function WN(){var a=oa.f(),u=$h();return a||u}function KN(a){var u=Ye(a);u!==null&&u.tag===5&&u.type==="form"?$2(u):oa.r(a)}var Dl=typeof document>"u"?null:document;function RE(a,u,h){var m=Dl;if(m&&typeof u=="string"&&u){var T=Vr(u);T='link[rel="'+a+'"][href="'+T+'"]',typeof h=="string"&&(T+='[crossorigin="'+h+'"]'),kE.has(T)||(kE.add(T),a={rel:a,crossOrigin:h,href:u},m.querySelector(T)===null&&(u=m.createElement("link"),or(u,"link",a),Ze(u),m.head.appendChild(u)))}}function YN(a){oa.D(a),RE("dns-prefetch",a,null)}function XN(a,u){oa.C(a,u),RE("preconnect",a,u)}function JN(a,u,h){oa.L(a,u,h);var m=Dl;if(m&&a&&u){var T='link[rel="preload"][as="'+Vr(u)+'"]';u==="image"&&h&&h.imageSrcSet?(T+='[imagesrcset="'+Vr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(T+='[imagesizes="'+Vr(h.imageSizes)+'"]')):T+='[href="'+Vr(a)+'"]';var S=T;switch(u){case"style":S=Ml(a);break;case"script":S=Pl(a)}Ai.has(S)||(a=g({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:a,as:u},h),Ai.set(S,a),m.querySelector(T)!==null||u==="style"&&m.querySelector(vf(S))||u==="script"&&m.querySelector(_f(S))||(u=m.createElement("link"),or(u,"link",a),Ze(u),m.head.appendChild(u)))}}function QN(a,u){oa.m(a,u);var h=Dl;if(h&&a){var m=u&&typeof u.as=="string"?u.as:"script",T='link[rel="modulepreload"][as="'+Vr(m)+'"][href="'+Vr(a)+'"]',S=T;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Pl(a)}if(!Ai.has(S)&&(a=g({rel:"modulepreload",href:a},u),Ai.set(S,a),h.querySelector(T)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(_f(S)))return}m=h.createElement("link"),or(m,"link",a),Ze(m),h.head.appendChild(m)}}}function ZN(a,u,h){oa.S(a,u,h);var m=Dl;if(m&&a){var T=$e(m).hoistableStyles,S=Ml(a);u=u||"default";var B=T.get(S);if(!B){var W={loading:0,preload:null};if(B=m.querySelector(vf(S)))W.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":u},h),(h=Ai.get(S))&&p1(a,h);var ue=B=m.createElement("link");Ze(ue),or(ue,"link",a),ue._p=new Promise(function(Te,Me){ue.onload=Te,ue.onerror=Me}),ue.addEventListener("load",function(){W.loading|=1}),ue.addEventListener("error",function(){W.loading|=2}),W.loading|=4,nd(B,u,m)}B={type:"stylesheet",instance:B,count:1,state:W},T.set(S,B)}}}function e8(a,u){oa.X(a,u);var h=Dl;if(h&&a){var m=$e(h).hoistableScripts,T=Pl(a),S=m.get(T);S||(S=h.querySelector(_f(T)),S||(a=g({src:a,async:!0},u),(u=Ai.get(T))&&m1(a,u),S=h.createElement("script"),Ze(S),or(S,"link",a),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(T,S))}}function t8(a,u){oa.M(a,u);var h=Dl;if(h&&a){var m=$e(h).hoistableScripts,T=Pl(a),S=m.get(T);S||(S=h.querySelector(_f(T)),S||(a=g({src:a,async:!0,type:"module"},u),(u=Ai.get(T))&&m1(a,u),S=h.createElement("script"),Ze(S),or(S,"link",a),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(T,S))}}function NE(a,u,h,m){var T=(T=me.current)?td(T):null;if(!T)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=Ml(h.href),h=$e(T).hoistableStyles,m=h.get(u),m||(m={type:"style",instance:null,count:0,state:null},h.set(u,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=Ml(h.href);var S=$e(T).hoistableStyles,B=S.get(a);if(B||(T=T.ownerDocument||T,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(a,B),(S=T.querySelector(vf(a)))&&!S._p&&(B.instance=S,B.state.loading=5),Ai.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ai.set(a,h),S||n8(T,a,h,B.state))),u&&m===null)throw Error(r(528,""));return B}if(u&&m!==null)throw Error(r(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Pl(h),h=$e(T).hoistableScripts,m=h.get(u),m||(m={type:"script",instance:null,count:0,state:null},h.set(u,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Ml(a){return'href="'+Vr(a)+'"'}function vf(a){return'link[rel="stylesheet"]['+a+"]"}function DE(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function n8(a,u,h,m){a.querySelector('link[rel="preload"][as="style"]['+u+"]")?m.loading=1:(u=a.createElement("link"),m.preload=u,u.addEventListener("load",function(){return m.loading|=1}),u.addEventListener("error",function(){return m.loading|=2}),or(u,"link",h),Ze(u),a.head.appendChild(u))}function Pl(a){return'[src="'+Vr(a)+'"]'}function _f(a){return"script[async]"+a}function ME(a,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var m=a.querySelector('style[data-href~="'+Vr(h.href)+'"]');if(m)return u.instance=m,Ze(m),m;var T=g({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Ze(m),or(m,"style",T),nd(m,h.precedence,a),u.instance=m;case"stylesheet":T=Ml(h.href);var S=a.querySelector(vf(T));if(S)return u.state.loading|=4,u.instance=S,Ze(S),S;m=DE(h),(T=Ai.get(T))&&p1(m,T),S=(a.ownerDocument||a).createElement("link"),Ze(S);var B=S;return B._p=new Promise(function(W,ue){B.onload=W,B.onerror=ue}),or(S,"link",m),u.state.loading|=4,nd(S,h.precedence,a),u.instance=S;case"script":return S=Pl(h.src),(T=a.querySelector(_f(S)))?(u.instance=T,Ze(T),T):(m=h,(T=Ai.get(S))&&(m=g({},h),m1(m,T)),a=a.ownerDocument||a,T=a.createElement("script"),Ze(T),or(T,"link",m),a.head.appendChild(T),u.instance=T);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(m=u.instance,u.state.loading|=4,nd(m,h.precedence,a));return u.instance}function nd(a,u,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=m.length?m[m.length-1]:null,S=T,B=0;B<m.length;B++){var W=m[B];if(W.dataset.precedence===u)S=W;else if(S!==T)break}S?S.parentNode.insertBefore(a,S.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(a,u.firstChild))}function p1(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.title==null&&(a.title=u.title)}function m1(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.integrity==null&&(a.integrity=u.integrity)}var rd=null;function PE(a,u,h){if(rd===null){var m=new Map,T=rd=new Map;T.set(h,m)}else T=rd,m=T.get(h),m||(m=new Map,T.set(h,m));if(m.has(a))return m;for(m.set(a,null),h=h.getElementsByTagName(a),T=0;T<h.length;T++){var S=h[T];if(!(S[be]||S[Q]||a==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var B=S.getAttribute(u)||"";B=a+B;var W=m.get(B);W?W.push(S):m.set(B,[S])}}return m}function LE(a,u,h){a=a.ownerDocument||a,a.head.insertBefore(h,u==="title"?a.querySelector("head > title"):null)}function r8(a,u,h){if(h===1||u.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return a=u.disabled,typeof u.precedence=="string"&&a==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function OE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function i8(a,u,h,m){if(h.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var T=Ml(m.href),S=u.querySelector(vf(T));if(S){u=S._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(a.count++,a=id.bind(a),u.then(a,a)),h.state.loading|=4,h.instance=S,Ze(S);return}S=u.ownerDocument||u,m=DE(m),(T=Ai.get(T))&&p1(m,T),S=S.createElement("link"),Ze(S);var B=S;B._p=new Promise(function(W,ue){B.onload=W,B.onerror=ue}),or(S,"link",m),h.instance=S}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(a.count++,h=id.bind(a),u.addEventListener("load",h),u.addEventListener("error",h))}}var g1=0;function s8(a,u){return a.stylesheets&&a.count===0&&ad(a,a.stylesheets),0<a.count||0<a.imgCount?function(h){var m=setTimeout(function(){if(a.stylesheets&&ad(a,a.stylesheets),a.unsuspend){var S=a.unsuspend;a.unsuspend=null,S()}},6e4+u);0<a.imgBytes&&g1===0&&(g1=62500*VN());var T=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&ad(a,a.stylesheets),a.unsuspend)){var S=a.unsuspend;a.unsuspend=null,S()}},(a.imgBytes>g1?50:800)+u);return a.unsuspend=h,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(T)}}:null}function id(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ad(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var sd=null;function ad(a,u){a.stylesheets=null,a.unsuspend!==null&&(a.count++,sd=new Map,u.forEach(a8,a),sd=null,id.call(a))}function a8(a,u){if(!(u.state.loading&4)){var h=sd.get(a);if(h)var m=h.get(null);else{h=new Map,sd.set(a,h);for(var T=a.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<T.length;S++){var B=T[S];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(h.set(B.dataset.precedence,B),m=B)}m&&h.set(null,m)}T=u.instance,B=T.getAttribute("data-precedence"),S=h.get(B)||m,S===m&&h.set(null,T),h.set(B,T),this.count++,m=id.bind(this),T.addEventListener("load",m),T.addEventListener("error",m),S?S.parentNode.insertBefore(T,S.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(T,a.firstChild)),u.state.loading|=4}}var Tf={$$typeof:A,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function o8(a,u,h,m,T,S,B,W,ue){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=m,this.onUncaughtError=T,this.onCaughtError=S,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function FE(a,u,h,m,T,S,B,W,ue,Te,Me,Oe){return a=new o8(a,u,h,B,ue,Te,Me,Oe,W),u=1,S===!0&&(u|=24),S=ri(3,null,null,u),a.current=S,S.stateNode=a,u=Ym(),u.refCount++,a.pooledCache=u,u.refCount++,S.memoizedState={element:m,isDehydrated:h,cache:u},Zm(S),a}function UE(a){return a?(a=fl,a):fl}function VE(a,u,h,m,T,S){T=UE(T),m.context===null?m.context=T:m.pendingContext=T,m=Ha(u),m.payload={element:h},S=S===void 0?null:S,S!==null&&(m.callback=S),h=za(a,m,u),h!==null&&(jr(h,a,u),Qc(h,a,u))}function BE(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<u?h:u}}function x1(a,u){BE(a,u),(a=a.alternate)&&BE(a,u)}function qE(a){if(a.tag===13||a.tag===31){var u=ru(a,67108864);u!==null&&jr(u,a,67108864),x1(a,67108864)}}function HE(a){if(a.tag===13||a.tag===31){var u=ui();u=zs(u);var h=ru(a,u);h!==null&&jr(h,a,u),x1(a,u)}}var od=!0;function u8(a,u,h,m){var T=ae.T;ae.T=null;var S=se.p;try{se.p=2,y1(a,u,h,m)}finally{se.p=S,ae.T=T}}function l8(a,u,h,m){var T=ae.T;ae.T=null;var S=se.p;try{se.p=8,y1(a,u,h,m)}finally{se.p=S,ae.T=T}}function y1(a,u,h,m){if(od){var T=v1(m);if(T===null)i1(a,u,m,ud,h),GE(a,m);else if(f8(T,a,u,h,m))m.stopPropagation();else if(GE(a,m),u&4&&-1<c8.indexOf(a)){for(;T!==null;){var S=Ye(T);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var B=Rr(S.pendingLanes);if(B!==0){var W=S;for(W.pendingLanes|=2,W.entangledLanes|=2;B;){var ue=1<<31-Tn(B);W.entanglements[1]|=ue,B&=~ue}vs(S),(jt&6)===0&&(Gh=st()+500,mf(0))}}break;case 31:case 13:W=ru(S,2),W!==null&&jr(W,S,2),$h(),x1(S,2)}if(S=v1(m),S===null&&i1(a,u,m,ud,h),S===T)break;T=S}T!==null&&m.stopPropagation()}else i1(a,u,m,null,h)}}function v1(a){return a=gi(a),_1(a)}var ud=null;function _1(a){if(ud=null,a=ze(a),a!==null){var u=s(a);if(u===null)a=null;else{var h=u.tag;if(h===13){if(a=o(u),a!==null)return a;a=null}else if(h===31){if(a=l(u),a!==null)return a;a=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null)}}return ud=a,null}function zE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case dt:return 2;case tn:return 8;case wt:case Pn:return 32;case ht:return 268435456;default:return 32}default:return 32}}var T1=!1,eo=null,to=null,no=null,Ef=new Map,bf=new Map,ro=[],c8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function GE(a,u){switch(a){case"focusin":case"focusout":eo=null;break;case"dragenter":case"dragleave":to=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":Ef.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":bf.delete(u.pointerId)}}function wf(a,u,h,m,T,S){return a===null||a.nativeEvent!==S?(a={blockedOn:u,domEventName:h,eventSystemFlags:m,nativeEvent:S,targetContainers:[T]},u!==null&&(u=Ye(u),u!==null&&qE(u)),a):(a.eventSystemFlags|=m,u=a.targetContainers,T!==null&&u.indexOf(T)===-1&&u.push(T),a)}function f8(a,u,h,m,T){switch(u){case"focusin":return eo=wf(eo,a,u,h,m,T),!0;case"dragenter":return to=wf(to,a,u,h,m,T),!0;case"mouseover":return no=wf(no,a,u,h,m,T),!0;case"pointerover":var S=T.pointerId;return Ef.set(S,wf(Ef.get(S)||null,a,u,h,m,T)),!0;case"gotpointercapture":return S=T.pointerId,bf.set(S,wf(bf.get(S)||null,a,u,h,m,T)),!0}return!1}function jE(a){var u=ze(a.target);if(u!==null){var h=s(u);if(h!==null){if(u=h.tag,u===13){if(u=o(h),u!==null){a.blockedOn=u,ne(a.priority,function(){HE(h)});return}}else if(u===31){if(u=l(h),u!==null){a.blockedOn=u,ne(a.priority,function(){HE(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ld(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var h=v1(a.nativeEvent);if(h===null){h=a.nativeEvent;var m=new h.constructor(h.type,h);Oc=m,h.target.dispatchEvent(m),Oc=null}else return u=Ye(h),u!==null&&qE(u),a.blockedOn=h,!1;u.shift()}return!0}function $E(a,u,h){ld(a)&&h.delete(u)}function h8(){T1=!1,eo!==null&&ld(eo)&&(eo=null),to!==null&&ld(to)&&(to=null),no!==null&&ld(no)&&(no=null),Ef.forEach($E),bf.forEach($E)}function cd(a,u){a.blockedOn===u&&(a.blockedOn=null,T1||(T1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,h8)))}var fd=null;function WE(a){fd!==a&&(fd=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){fd===a&&(fd=null);for(var u=0;u<a.length;u+=3){var h=a[u],m=a[u+1],T=a[u+2];if(typeof m!="function"){if(_1(m||h)===null)continue;break}var S=Ye(h);S!==null&&(a.splice(u,3),u-=3,vg(S,{pending:!0,data:T,method:h.method,action:m},m,T))}}))}function Ll(a){function u(ue){return cd(ue,a)}eo!==null&&cd(eo,a),to!==null&&cd(to,a),no!==null&&cd(no,a),Ef.forEach(u),bf.forEach(u);for(var h=0;h<ro.length;h++){var m=ro[h];m.blockedOn===a&&(m.blockedOn=null)}for(;0<ro.length&&(h=ro[0],h.blockedOn===null);)jE(h),h.blockedOn===null&&ro.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var T=h[m],S=h[m+1],B=T[te]||null;if(typeof S=="function")B||WE(h);else if(B){var W=null;if(S&&S.hasAttribute("formAction")){if(T=S,B=S[te]||null)W=B.formAction;else if(_1(T)!==null)continue}else W=B.action;typeof W=="function"?h[m+1]=W:(h.splice(m,3),m-=3),WE(h)}}}function KE(){function a(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(B){return T=B})},focusReset:"manual",scroll:"manual"})}function u(){T!==null&&(T(),T=null),m||setTimeout(h,20)}function h(){if(!m&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,T=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(h,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),T!==null&&(T(),T=null)}}}function E1(a){this._internalRoot=a}hd.prototype.render=E1.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(r(409));var h=u.current,m=ui();VE(h,m,a,u,null,null)},hd.prototype.unmount=E1.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;VE(a.current,2,null,a,null,null),$h(),u[ie]=null}};function hd(a){this._internalRoot=a}hd.prototype.unstable_scheduleHydration=function(a){if(a){var u=j();a={blockedOn:null,target:a,priority:u};for(var h=0;h<ro.length&&u!==0&&u<ro[h].priority;h++);ro.splice(h,0,a),h===0&&jE(a)}};var YE=e.version;if(YE!=="19.2.0")throw Error(r(527,YE,"19.2.0"));se.findDOMNode=function(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=c(u),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var d8={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{St=dd.inject(d8),rn=dd}catch{}}return Af.createRoot=function(a,u){if(!i(a))throw Error(r(299));var h=!1,m="",T=nT,S=rT,B=iT;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(T=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(B=u.onRecoverableError)),u=FE(a,1,!1,null,null,h,m,null,T,S,B,KE),a[ie]=u.current,r1(a),new E1(u)},Af.hydrateRoot=function(a,u,h){if(!i(a))throw Error(r(299));var m=!1,T="",S=nT,B=rT,W=iT,ue=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(T=h.identifierPrefix),h.onUncaughtError!==void 0&&(S=h.onUncaughtError),h.onCaughtError!==void 0&&(B=h.onCaughtError),h.onRecoverableError!==void 0&&(W=h.onRecoverableError),h.formState!==void 0&&(ue=h.formState)),u=FE(a,1,!0,u,h??null,m,T,ue,S,B,W,KE),u.context=UE(null),h=u.current,m=ui(),m=zs(m),T=Ha(m),T.callback=null,za(h,T,m),h=m,u.current.lanes=h,Bs(u,h),vs(u),a[ie]=u.current,r1(a),new hd(u)},Af.version="19.2.0",Af}var sb;function C8(){if(sb)return S1.exports;sb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),S1.exports=A8(),S1.exports}var I8=C8();const k8=Vp(I8),$t=()=>b.jsxs("svg",{className:"animate-spin h-5 w-5 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[b.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),b.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),R8=()=>{};var ab={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},N8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],f=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},RC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,f=i+2<t.length,c=f?t[i+2]:0,d=s>>2,g=(s&3)<<4|l>>4;let p=(l&15)<<2|c>>6,x=c&63;f||(x=64,o||(p=64)),r.push(n[d],n[g],n[p],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):N8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||g==null)throw new D8;const p=s<<2|l>>4;if(r.push(p),c!==64){const x=l<<4&240|c>>2;if(r.push(x),g!==64){const _=c<<6&192|g;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class D8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M8=function(t){const e=kC(t);return RC.encodeByteArray(e,!0)},Zd=function(t){return M8(t).replace(/\./g,"")},NC=function(t){try{return RC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=()=>P8().__FIREBASE_DEFAULTS__,O8=()=>{if(typeof process>"u"||typeof ab>"u")return;const t=ab.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},F8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&NC(t[1]);return e&&JSON.parse(e)},Bp=()=>{try{return R8()||L8()||O8()||F8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DC=t=>{var e,n;return(n=(e=Bp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},MC=t=>{const e=DC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},PC=()=>{var t;return(t=Bp())==null?void 0:t.config},LC=t=>{var e;return(e=Bp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Zd(JSON.stringify(n)),Zd(JSON.stringify(o)),""].join(".")}const Bf={};function B8(){const t={prod:[],emulator:[]};for(const e of Object.keys(Bf))Bf[e]?t.emulator.push(e):t.prod.push(e);return t}function q8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ob=!1;function Uy(t,e){if(typeof window>"u"||typeof document>"u"||!Fo(window.location.host)||Bf[t]===e||Bf[t]||ob)return;Bf[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=B8().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function f(p,x){p.setAttribute("width","24"),p.setAttribute("id",x),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{ob=!0,o()},p}function d(p,x){p.setAttribute("id",x),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function g(){const p=q8(r),x=n("text"),_=document.getElementById(x)||document.createElement("span"),w=n("learnmore"),C=document.getElementById(w)||document.createElement("a"),I=n("preprendIcon"),P=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const A=p.element;l(A),d(C,w);const L=c();f(P,I),A.append(P,_,C,L),document.body.appendChild(A)}s?(_.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ar())}function z8(){var e;const t=(e=Bp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function G8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function W8(){const t=Ar();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function K8(){return!z8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y8(){try{return typeof indexedDB=="object"}catch{return!1}}function X8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8="FirebaseError";class Ps extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=J8,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A0.prototype.create)}}class A0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Q8(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ps(i,l,r)}}function Q8(t,e){return t.replace(Z8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Z8=/\{\$([^}]+)}/g;function e5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Au(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ub(s)&&ub(o)){if(!Au(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ub(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Nf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function t5(t,e){const n=new n5(t,e);return n.subscribe.bind(n)}class n5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");r5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=k1),i.error===void 0&&(i.error=k1),i.complete===void 0&&(i.complete=k1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function k1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t){return t&&t._delegate?t._delegate:t}class Ao{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new U8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a5(e))try{this.getOrInitializeService({instanceIdentifier:vu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=vu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vu){return this.instances.has(e)}getOptions(e=vu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:s5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vu){return this.component?this.component.multipleInstances?e:vu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function s5(t){return t===vu?void 0:t}function a5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new i5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Rt||(Rt={}));const u5={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},l5=Rt.INFO,c5={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},f5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=c5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vy{constructor(e){this.name=e,this._logLevel=l5,this._logHandler=f5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const h5=(t,e)=>e.some(n=>t instanceof n);let lb,cb;function d5(){return lb||(lb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p5(){return cb||(cb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OC=new WeakMap,Ux=new WeakMap,FC=new WeakMap,R1=new WeakMap,By=new WeakMap;function m5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(yo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&OC.set(n,t)}).catch(()=>{}),By.set(e,t),e}function g5(t){if(Ux.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ux.set(t,e)}let Vx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ux.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function x5(t){Vx=t(Vx)}function y5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(N1(this),e,...n);return FC.set(r,e.sort?e.sort():[e]),yo(r)}:p5().includes(t)?function(...e){return t.apply(N1(this),e),yo(OC.get(this))}:function(...e){return yo(t.apply(N1(this),e))}}function v5(t){return typeof t=="function"?y5(t):(t instanceof IDBTransaction&&g5(t),h5(t,d5())?new Proxy(t,Vx):t)}function yo(t){if(t instanceof IDBRequest)return m5(t);if(R1.has(t))return R1.get(t);const e=v5(t);return e!==t&&(R1.set(t,e),By.set(e,t)),e}const N1=t=>By.get(t);function _5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=yo(o);return r&&o.addEventListener("upgradeneeded",f=>{r(yo(o.result),f.oldVersion,f.newVersion,yo(o.transaction),f)}),n&&o.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),l.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const T5=["get","getKey","getAll","getAllKeys","count"],E5=["put","add","delete","clear"],D1=new Map;function fb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(D1.get(e))return D1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=E5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||T5.includes(n)))return;const s=async function(o,...l){const f=this.transaction(o,i?"readwrite":"readonly");let c=f.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&f.done]))[0]};return D1.set(e,s),s}x5(t=>({...t,get:(e,n,r)=>fb(e,n)||t.get(e,n,r),has:(e,n)=>!!fb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function w5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bx="@firebase/app",hb="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new Vy("@firebase/app"),S5="@firebase/app-compat",A5="@firebase/analytics-compat",C5="@firebase/analytics",I5="@firebase/app-check-compat",k5="@firebase/app-check",R5="@firebase/auth",N5="@firebase/auth-compat",D5="@firebase/database",M5="@firebase/data-connect",P5="@firebase/database-compat",L5="@firebase/functions",O5="@firebase/functions-compat",F5="@firebase/installations",U5="@firebase/installations-compat",V5="@firebase/messaging",B5="@firebase/messaging-compat",q5="@firebase/performance",H5="@firebase/performance-compat",z5="@firebase/remote-config",G5="@firebase/remote-config-compat",j5="@firebase/storage",$5="@firebase/storage-compat",W5="@firebase/firestore",K5="@firebase/ai",Y5="@firebase/firestore-compat",X5="firebase",J5="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="[DEFAULT]",Q5={[Bx]:"fire-core",[S5]:"fire-core-compat",[C5]:"fire-analytics",[A5]:"fire-analytics-compat",[k5]:"fire-app-check",[I5]:"fire-app-check-compat",[R5]:"fire-auth",[N5]:"fire-auth-compat",[D5]:"fire-rtdb",[M5]:"fire-data-connect",[P5]:"fire-rtdb-compat",[L5]:"fire-fn",[O5]:"fire-fn-compat",[F5]:"fire-iid",[U5]:"fire-iid-compat",[V5]:"fire-fcm",[B5]:"fire-fcm-compat",[q5]:"fire-perf",[H5]:"fire-perf-compat",[z5]:"fire-rc",[G5]:"fire-rc-compat",[j5]:"fire-gcs",[$5]:"fire-gcs-compat",[W5]:"fire-fst",[Y5]:"fire-fst-compat",[K5]:"fire-vertex","fire-js":"fire-js",[X5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=new Map,Z5=new Map,Hx=new Map;function db(t,e){try{t.container.addComponent(e)}catch(n){ya.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cu(t){const e=t.name;if(Hx.has(e))return ya.debug(`There were multiple attempts to register component ${e}.`),!1;Hx.set(e,t);for(const n of ep.values())db(n,t);for(const n of Z5.values())db(n,t);return!0}function qp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ci(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vo=new A0("app","Firebase",eD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=J5;function UC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:qx,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw vo.create("bad-app-name",{appName:String(i)});if(n||(n=PC()),!n)throw vo.create("no-options");const s=ep.get(i);if(s){if(Au(n,s.options)&&Au(r,s.config))return s;throw vo.create("duplicate-app",{appName:i})}const o=new o5(i);for(const f of Hx.values())o.addComponent(f);const l=new tD(n,r,o);return ep.set(i,l),l}function qy(t=qx){const e=ep.get(t);if(!e&&t===qx&&PC())return UC();if(!e)throw vo.create("no-app",{appName:t});return e}function Ss(t,e,n){let r=Q5[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ya.warn(o.join(" "));return}Cu(new Ao(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="firebase-heartbeat-database",rD=1,i0="firebase-heartbeat-store";let M1=null;function VC(){return M1||(M1=_5(nD,rD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(i0)}catch(n){console.warn(n)}}}}).catch(t=>{throw vo.create("idb-open",{originalErrorMessage:t.message})})),M1}async function iD(t){try{const n=(await VC()).transaction(i0),r=await n.objectStore(i0).get(BC(t));return await n.done,r}catch(e){if(e instanceof Ps)ya.warn(e.message);else{const n=vo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ya.warn(n.message)}}}async function pb(t,e){try{const r=(await VC()).transaction(i0,"readwrite");await r.objectStore(i0).put(e,BC(t)),await r.done}catch(n){if(n instanceof Ps)ya.warn(n.message);else{const r=vo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ya.warn(r.message)}}}function BC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=1024,aD=30;class oD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=mb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>aD){const o=cD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ya.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=mb(),{heartbeatsToSend:r,unsentEntries:i}=uD(this._heartbeatsCache.heartbeats),s=Zd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ya.warn(n),""}}}function mb(){return new Date().toISOString().substring(0,10)}function uD(t,e=sD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),gb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y8()?X8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return pb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function gb(t){return Zd(JSON.stringify({version:2,heartbeats:t})).length}function cD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t){Cu(new Ao("platform-logger",e=>new b5(e),"PRIVATE")),Cu(new Ao("heartbeat",e=>new oD(e),"PRIVATE")),Ss(Bx,hb,t),Ss(Bx,hb,"esm2020"),Ss("fire-js","")}fD("");var hD="firebase",dD="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ss(hD,dD,"app");function qC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pD=qC,HC=new A0("auth","Firebase",qC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=new Vy("@firebase/auth");function mD(t,...e){tp.logLevel<=Rt.WARN&&tp.warn(`Auth (${mc}): ${t}`,...e)}function Vd(t,...e){tp.logLevel<=Rt.ERROR&&tp.error(`Auth (${mc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t,...e){throw zy(t,...e)}function ss(t,...e){return zy(t,...e)}function Hy(t,e,n){const r={...pD(),[e]:n};return new A0("auth","Firebase",r).create(e,{appName:t.name})}function _o(t){return Hy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gD(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Di(t,"argument-error"),Hy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HC.create(t,...e)}function lt(t,e,...n){if(!t)throw zy(e,...n)}function da(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vd(e),new Error(e)}function va(t,e){t||da(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function xD(){return xb()==="http:"||xb()==="https:"}function xb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xD()||j8()||"connection"in navigator)?navigator.onLine:!0}function vD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n){this.shortDelay=e,this.longDelay=n,va(n>e,"Short delay should be less than long delay!"),this.isMobile=H8()||$8()}get(){return yD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t,e){va(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;da("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;da("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;da("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ED=new I0(3e4,6e4);function Ou(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Uo(t,e,n,r,i={}){return GC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=C0({key:t.config.apiKey,...o}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:f,...s};return G8()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Fo(t.emulatorConfig.host)&&(c.credentials="include"),zC.fetch()(await jC(t,t.config.apiHost,n,l),c)})}async function GC(t,e,n){t._canInitEmulator=!1;const r={..._D,...e};try{const i=new wD(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw pd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[f,c]=l.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw pd(t,"credential-already-in-use",o);if(f==="EMAIL_EXISTS")throw pd(t,"email-already-in-use",o);if(f==="USER_DISABLED")throw pd(t,"user-disabled",o);const d=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Hy(t,d,c);Di(t,d)}}catch(i){if(i instanceof Ps)throw i;Di(t,"network-request-failed",{message:String(i)})}}async function Hp(t,e,n,r,i={}){const s=await Uo(t,e,n,r,i);return"mfaPendingCredential"in s&&Di(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function jC(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Gy(t.config,i):`${t.config.apiScheme}://${i}`;return TD.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function bD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ss(this.auth,"network-request-failed")),ED.get())})}}function pd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ss(t,e,r);return i.customData._tokenResponse=n,i}function yb(t){return t!==void 0&&t.enterprise!==void 0}class SD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AD(t,e){return Uo(t,"GET","/v2/recaptchaConfig",Ou(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(t,e){return Uo(t,"POST","/v1/accounts:delete",e)}async function np(t,e){return Uo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ID(t,e=!1){const n=Cn(t),r=await n.getIdToken(e),i=jy(r);lt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:qf(P1(i.auth_time)),issuedAtTime:qf(P1(i.iat)),expirationTime:qf(P1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function P1(t){return Number(t)*1e3}function jy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const i=NC(n);return i?JSON.parse(i):(Vd("Failed to decode base64 JWT payload"),null)}catch(i){return Vd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function vb(t){const e=jy(t);return lt(e,"internal-error"),lt(typeof e.exp<"u","internal-error"),lt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s0(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ps&&kD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function kD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qf(this.lastLoginAt),this.creationTime=qf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rp(t){var g;const e=t.auth,n=await t.getIdToken(),r=await s0(t,np(e,{idToken:n}));lt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(g=i.providerUserInfo)!=null&&g.length?$C(i.providerUserInfo):[],o=DD(t.providerData,s),l=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=l?f:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Gx(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function ND(t){const e=Cn(t);await rp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $C(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(t,e){const n=await GC(t,{},async()=>{const r=C0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await jC(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:l,body:r};return t.emulatorConfig&&Fo(t.emulatorConfig.host)&&(f.credentials="include"),zC.fetch()(o,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PD(t,e){return Uo(t,"POST","/v2/accounts:revokeToken",Ou(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lt(e.idToken,"internal-error"),lt(typeof e.idToken<"u","internal-error"),lt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){lt(e.length!==0,"internal-error");const n=vb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(lt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await MD(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new $l;return r&&(lt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(lt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(lt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $l,this.toJSON())}_performRefresh(){return da("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t,e){lt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ts{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new RD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Gx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await s0(this,this.stsTokenManager.getToken(this.auth,e));return lt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ID(this,e)}reload(){return ND(this)}_assign(e){this!==e&&(lt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ts({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await rp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(_o(this.auth));const e=await this.getIdToken();return await s0(this,CD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,f=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:g,emailVerified:p,isAnonymous:x,providerData:_,stsTokenManager:w}=n;lt(g&&w,e,"internal-error");const C=$l.fromJSON(this.name,w);lt(typeof g=="string",e,"internal-error"),so(r,e.name),so(i,e.name),lt(typeof p=="boolean",e,"internal-error"),lt(typeof x=="boolean",e,"internal-error"),so(s,e.name),so(o,e.name),so(l,e.name),so(f,e.name),so(c,e.name),so(d,e.name);const I=new ts({uid:g,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:x,photoURL:o,phoneNumber:s,tenantId:l,stsTokenManager:C,createdAt:c,lastLoginAt:d});return _&&Array.isArray(_)&&(I.providerData=_.map(P=>({...P}))),f&&(I._redirectEventId=f),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new $l;i.updateFromServerResponse(n);const s=new ts({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await rp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];lt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?$C(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new $l;l.updateFromIdToken(r);const f=new ts({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Gx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,c),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=new Map;function pa(t){va(t instanceof Function,"Expected a class definition");let e=_b.get(t);return e?(va(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_b.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WC.type="NONE";const Tb=WC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t,e,n){return`firebase:${t}:${e}:${n}`}class Wl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Bd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Bd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await np(this.auth,{idToken:e}).catch(()=>{});return n?ts._fromGetAccountInfoResponse(this.auth,n,e):null}return ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Wl(pa(Tb),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||pa(Tb);const o=Bd(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const d=await c._get(o);if(d){let g;if(typeof d=="string"){const p=await np(e,{idToken:d}).catch(()=>{});if(!p)break;g=await ts._fromGetAccountInfoResponse(e,p,d)}else g=ts._fromJSON(e,d);c!==s&&(l=g),s=c;break}}catch{}const f=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new Wl(s,e,r):(s=f[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Wl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZC(e))return"Blackberry";if(e4(e))return"Webos";if(YC(e))return"Safari";if((e.includes("chrome/")||XC(e))&&!e.includes("edge/"))return"Chrome";if(QC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function KC(t=Ar()){return/firefox\//i.test(t)}function YC(t=Ar()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XC(t=Ar()){return/crios\//i.test(t)}function JC(t=Ar()){return/iemobile/i.test(t)}function QC(t=Ar()){return/android/i.test(t)}function ZC(t=Ar()){return/blackberry/i.test(t)}function e4(t=Ar()){return/webos/i.test(t)}function $y(t=Ar()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function LD(t=Ar()){var e;return $y(t)&&!!((e=window.navigator)!=null&&e.standalone)}function OD(){return W8()&&document.documentMode===10}function t4(t=Ar()){return $y(t)||QC(t)||e4(t)||ZC(t)||/windows phone/i.test(t)||JC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t,e=[]){let n;switch(t){case"Browser":n=Eb(Ar());break;case"Worker":n=`${Eb(Ar())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const f=e(s);o(f)}catch(f){l(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(t,e={}){return Uo(t,"GET","/v2/passwordPolicy",Ou(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=6;class BD{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??VD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bb(this),this.idTokenSubscription=new bb(this),this.beforeStateQueue=new FD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pa(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Wl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await np(this,{idToken:e}),r=await ts._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(ci(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!o||o===l)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ci(this.app))return Promise.reject(_o(this));const n=e?Cn(e):null;return n&&lt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&lt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(_o(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ci(this.app)?Promise.reject(_o(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UD(this),n=new BD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new A0("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await PD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pa(e)||this._popupRedirectResolver;lt(n,this,"argument-error"),this.redirectPersistenceManager=await Wl.create(this,[pa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(lt(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{o=!0,f()}}else{const f=e.addObserver(n);return()=>{o=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&mD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Fu(t){return Cn(t)}class bb{constructor(e){this.auth=e,this.observer=null,this.addObserver=t5(n=>this.observer=n)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HD(t){zp=t}function r4(t){return zp.loadJS(t)}function zD(){return zp.recaptchaEnterpriseScript}function GD(){return zp.gapiScript}function jD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class $D{constructor(){this.enterprise=new WD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class WD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const KD="recaptcha-enterprise",i4="NO_RECAPTCHA";class YD{constructor(e){this.type=KD,this.auth=Fu(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{AD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new SD(f);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(f=>{l(f)})})}function i(s,o,l){const f=window.grecaptcha;yb(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(i4)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $D().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&yb(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let f=zD();f.length!==0&&(f+=l),r4(f).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function wb(t,e,n,r=!1,i=!1){const s=new YD(t);let o;if(i)o=i4;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const f=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const f=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Sb(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await wb(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await wb(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t,e){const n=qp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Au(s,e??{}))return i;Di(i,"already-initialized")}return n.initialize({options:e})}function JD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function QD(t,e,n){const r=Fu(t);lt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=s4(e),{host:o,port:l}=ZD(e),f=l===null?"":`:${l}`,c={url:`${s}//${o}${f}/`},d=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){lt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),lt(Au(c,r.config.emulator)&&Au(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Fo(o)?(Fy(`${s}//${o}${f}`),Uy("Auth",!0)):eM()}function s4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ZD(t){const e=s4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Ab(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Ab(o)}}}function Ab(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return da("not implemented")}_getIdTokenResponse(e){return da("not implemented")}_linkToIdToken(e,n){return da("not implemented")}_getReauthenticationResolver(e){return da("not implemented")}}async function tM(t,e){return Uo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(t,e){return Hp(t,"POST","/v1/accounts:signInWithPassword",Ou(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(t,e){return Hp(t,"POST","/v1/accounts:signInWithEmailLink",Ou(t,e))}async function iM(t,e){return Hp(t,"POST","/v1/accounts:signInWithEmailLink",Ou(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0 extends Wy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new a0(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new a0(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sb(e,n,"signInWithPassword",nM);case"emailLink":return rM(e,{email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sb(e,r,"signUpPassword",tM);case"emailLink":return iM(e,{idToken:n,email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kl(t,e){return Hp(t,"POST","/v1/accounts:signInWithIdp",Ou(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="http://localhost";class Iu extends Wy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Iu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Iu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Kl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Kl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Kl(e,n)}buildRequest(){const e={requestUri:sM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=C0(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oM(t){const e=Rf(Nf(t)).link,n=e?Rf(Nf(e)).deep_link_id:null,r=Rf(Nf(t)).deep_link_id;return(r?Rf(Nf(r)).link:null)||r||n||e||t}class Ky{constructor(e){const n=Rf(Nf(e)),r=n.apiKey??null,i=n.oobCode??null,s=aM(n.mode??null);lt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=oM(e);try{return new Ky(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(){this.providerId=gc.PROVIDER_ID}static credential(e,n){return a0._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ky.parseLink(n);return lt(r,"argument-error"),a0._fromEmailAndCode(e,r.code,r.tenantId)}}gc.PROVIDER_ID="password";gc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0 extends Yy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends k0{constructor(){super("facebook.com")}static credential(e){return Iu._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lo.credential(e.oauthAccessToken)}catch{return null}}}lo.FACEBOOK_SIGN_IN_METHOD="facebook.com";lo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha extends k0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Iu._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ha.credential(n,r)}catch{return null}}}ha.GOOGLE_SIGN_IN_METHOD="google.com";ha.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends k0{constructor(){super("github.com")}static credential(e){return Iu._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.GITHUB_SIGN_IN_METHOD="github.com";co.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends k0{constructor(){super("twitter.com")}static credential(e,n){return Iu._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fo.credential(n,r)}catch{return null}}}fo.TWITTER_SIGN_IN_METHOD="twitter.com";fo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ts._fromIdTokenResponse(e,r,i),o=Cb(r);return new ic({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Cb(r);return new ic({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Cb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip extends Ps{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ip.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ip(e,n,r,i)}}function a4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ip._fromErrorAndOperation(t,s,e,r):s})}async function uM(t,e,n=!1){const r=await s0(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ic._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lM(t,e,n=!1){const{auth:r}=t;if(ci(r.app))return Promise.reject(_o(r));const i="reauthenticate";try{const s=await s0(t,a4(r,i,e,t),n);lt(s.idToken,r,"internal-error");const o=jy(s.idToken);lt(o,r,"internal-error");const{sub:l}=o;return lt(t.uid===l,r,"user-mismatch"),ic._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Di(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(t,e,n=!1){if(ci(t.app))return Promise.reject(_o(t));const r="signIn",i=await a4(t,r,e),s=await ic._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function cM(t,e){return o4(Fu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(t){const e=Fu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function hM(t,e,n){return ci(t.app)?Promise.reject(_o(t)):cM(Cn(t),gc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fM(t),r})}function dM(t,e,n,r){return Cn(t).onIdTokenChanged(e,n,r)}function pM(t,e,n){return Cn(t).beforeAuthStateChanged(e,n)}function mM(t,e,n,r){return Cn(t).onAuthStateChanged(e,n,r)}const sp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sp,"1"),this.storage.removeItem(sp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=1e3,xM=10;class l4 extends u4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,f)=>{this.notifyListeners(o,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);OD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,xM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}l4.type="LOCAL";const yM=l4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4 extends u4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}c4.type="SESSION";const f4=c4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Gp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),f=await vM(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,f)=>{const c=Xy("",20);i.port1.start();const d=setTimeout(()=>{f(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const p=g;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(d),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(){return window}function TM(t){As().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(){return typeof As().WorkerGlobalScope<"u"&&typeof As().importScripts=="function"}async function EM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function wM(){return h4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="firebaseLocalStorageDb",SM=1,ap="firebaseLocalStorage",p4="fbase_key";class R0{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jp(t,e){return t.transaction([ap],e?"readwrite":"readonly").objectStore(ap)}function AM(){const t=indexedDB.deleteDatabase(d4);return new R0(t).toPromise()}function jx(){const t=indexedDB.open(d4,SM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ap,{keyPath:p4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ap)?e(r):(r.close(),await AM(),e(await jx()))})})}async function Ib(t,e,n){const r=jp(t,!0).put({[p4]:e,value:n});return new R0(r).toPromise()}async function CM(t,e){const n=jp(t,!1).get(e),r=await new R0(n).toPromise();return r===void 0?null:r.value}function kb(t,e){const n=jp(t,!0).delete(e);return new R0(n).toPromise()}const IM=800,kM=3;class m4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return h4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gp._getInstance(wM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await EM(),!this.activeServiceWorker)return;this.sender=new _M(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jx();return await Ib(e,sp,"1"),await kb(e,sp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ib(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>CM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=jp(i,!1).getAll();return new R0(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}m4.type="LOCAL";const RM=m4;new I0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t,e){return e?pa(e):(lt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy extends Wy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Kl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Kl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NM(t){return o4(t.auth,new Jy(t),t.bypassAuthState)}function DM(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),lM(n,new Jy(t),t.bypassAuthState)}async function MM(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),uM(n,new Jy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(f))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NM;case"linkViaPopup":case"linkViaRedirect":return MM;case"reauthViaPopup":case"reauthViaRedirect":return DM;default:Di(this.auth,"internal-error")}}resolve(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=new I0(2e3,1e4);async function LM(t,e,n){if(ci(t.app))return Promise.reject(ss(t,"operation-not-supported-in-this-environment"));const r=Fu(t);gD(t,e,Yy);const i=g4(r,n);return new Tu(r,"signInViaPopup",e,i).executeNotNull()}class Tu extends x4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Tu.currentPopupAction&&Tu.currentPopupAction.cancel(),Tu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return lt(e,this.auth,"internal-error"),e}async onExecution(){va(this.filter.length===1,"Popup operations only handle one event");const e=Xy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ss(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ss(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ss(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PM.get())};e()}}Tu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="pendingRedirect",qd=new Map;class FM extends x4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qd.get(this.auth._key());if(!e){try{const r=await UM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qd.set(this.auth._key(),e)}return this.bypassAuthState||qd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UM(t,e){const n=qM(e),r=BM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function VM(t,e){qd.set(t._key(),e)}function BM(t){return pa(t._redirectPersistence)}function qM(t){return Bd(OM,t.config.apiKey,t.name)}async function HM(t,e,n=!1){if(ci(t.app))return Promise.reject(_o(t));const r=Fu(t),i=g4(r,e),o=await new FM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=600*1e3;class GM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!y4(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ss(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rb(e))}saveEventToCache(e){this.cachedEventUids.add(Rb(e)),this.lastProcessedEventTime=Date.now()}}function Rb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function y4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return y4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(t,e={}){return Uo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KM=/^https?/;async function YM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $M(t);for(const n of e)try{if(XM(n))return}catch{}Di(t,"unauthorized-domain")}function XM(t){const e=zx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!KM.test(n))return!1;if(WM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=new I0(3e4,6e4);function Nb(){const t=As().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QM(t){return new Promise((e,n)=>{var i,s,o;function r(){Nb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Nb(),n(ss(t,"network-request-failed"))},timeout:JM.get()})}if((s=(i=As().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=As().gapi)!=null&&o.load)r();else{const l=jD("iframefcb");return As()[l]=()=>{gapi.load?r():n(ss(t,"network-request-failed"))},r4(`${GD()}?onload=${l}`).catch(f=>n(f))}}).catch(e=>{throw Hd=null,e})}let Hd=null;function ZM(t){return Hd=Hd||QM(t),Hd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new I0(5e3,15e3),tP="__/auth/iframe",nP="emulator/auth/iframe",rP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sP(t){const e=t.config;lt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gy(e,nP):`https://${t.config.authDomain}/${tP}`,r={apiKey:e.apiKey,appName:t.name,v:mc},i=iP.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${C0(r).slice(1)}`}async function aP(t){const e=await ZM(t),n=As().gapi;return lt(n,t,"internal-error"),e.open({where:document.body,url:sP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rP,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ss(t,"network-request-failed"),l=As().setTimeout(()=>{s(o)},eP.get());function f(){As().clearTimeout(l),i(r)}r.ping(f).then(f,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uP=500,lP=600,cP="_blank",fP="http://localhost";class Db{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hP(t,e,n,r=uP,i=lP){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const f={...oP,width:r.toString(),height:i.toString(),top:s,left:o},c=Ar().toLowerCase();n&&(l=XC(c)?cP:n),KC(c)&&(e=e||fP,f.scrollbars="yes");const d=Object.entries(f).reduce((p,[x,_])=>`${p}${x}=${_},`,"");if(LD(c)&&l!=="_self")return dP(e||"",l),new Db(null);const g=window.open(e||"",l,d);lt(g,t,"popup-blocked");try{g.focus()}catch{}return new Db(g)}function dP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="__/auth/handler",mP="emulator/auth/handler",gP=encodeURIComponent("fac");async function Mb(t,e,n,r,i,s){lt(t.config.authDomain,t,"auth-domain-config-required"),lt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mc,eventId:i};if(e instanceof Yy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",e5(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,g]of Object.entries({}))o[d]=g}if(e instanceof k0){const d=e.getScopes().filter(g=>g!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const f=await t._getAppCheckToken(),c=f?`#${gP}=${encodeURIComponent(f)}`:"";return`${xP(t)}?${C0(l).slice(1)}${c}`}function xP({config:t}){return t.emulator?Gy(t,mP):`https://${t.authDomain}/${pP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="webStorageSupport";class yP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f4,this._completeRedirectFn=HM,this._overrideRedirectResult=VM}async _openPopup(e,n,r,i){var o;va((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Mb(e,n,r,zx(),i);return hP(e,s,Xy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Mb(e,n,r,zx(),i);return TM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(va(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await aP(e),r=new GM(e);return n.register("authEvent",i=>(lt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(L1,{type:L1},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[L1];s!==void 0&&n(!!s),Di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return t4()||YC()||$y()}}const vP=yP;var Pb="@firebase/auth",Lb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EP(t){Cu(new Ao("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;lt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n4(t)},c=new qD(r,i,s,f);return JD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cu(new Ao("auth-internal",e=>{const n=Fu(e.getProvider("auth").getImmediate());return(r=>new _P(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(Pb,Lb,TP(t)),Ss(Pb,Lb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=300,wP=LC("authIdTokenMaxAge")||bP;let Ob=null;const SP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wP)return;const i=n==null?void 0:n.token;Ob!==i&&(Ob=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function AP(t=qy()){const e=qp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=XD(t,{popupRedirectResolver:vP,persistence:[RM,yM,f4]}),r=LC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=SP(s.toString());pM(n,o,()=>o(n.currentUser)),dM(n,l=>o(l))}}const i=DC("auth");return i&&QD(n,`http://${i}`),n}function CP(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}HD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ss("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",CP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EP("Browser");var Fb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var To,v4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,N){function R(){}R.prototype=N.prototype,k.F=N.prototype,k.prototype=new R,k.prototype.constructor=k,k.D=function(V,M,F){for(var q=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)q[ce-2]=arguments[ce];return N.prototype[M].apply(V,q)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,N,R){R||(R=0);const V=Array(16);if(typeof N=="string")for(var M=0;M<16;++M)V[M]=N.charCodeAt(R++)|N.charCodeAt(R++)<<8|N.charCodeAt(R++)<<16|N.charCodeAt(R++)<<24;else for(M=0;M<16;++M)V[M]=N[R++]|N[R++]<<8|N[R++]<<16|N[R++]<<24;N=k.g[0],R=k.g[1],M=k.g[2];let F=k.g[3],q;q=N+(F^R&(M^F))+V[0]+3614090360&4294967295,N=R+(q<<7&4294967295|q>>>25),q=F+(M^N&(R^M))+V[1]+3905402710&4294967295,F=N+(q<<12&4294967295|q>>>20),q=M+(R^F&(N^R))+V[2]+606105819&4294967295,M=F+(q<<17&4294967295|q>>>15),q=R+(N^M&(F^N))+V[3]+3250441966&4294967295,R=M+(q<<22&4294967295|q>>>10),q=N+(F^R&(M^F))+V[4]+4118548399&4294967295,N=R+(q<<7&4294967295|q>>>25),q=F+(M^N&(R^M))+V[5]+1200080426&4294967295,F=N+(q<<12&4294967295|q>>>20),q=M+(R^F&(N^R))+V[6]+2821735955&4294967295,M=F+(q<<17&4294967295|q>>>15),q=R+(N^M&(F^N))+V[7]+4249261313&4294967295,R=M+(q<<22&4294967295|q>>>10),q=N+(F^R&(M^F))+V[8]+1770035416&4294967295,N=R+(q<<7&4294967295|q>>>25),q=F+(M^N&(R^M))+V[9]+2336552879&4294967295,F=N+(q<<12&4294967295|q>>>20),q=M+(R^F&(N^R))+V[10]+4294925233&4294967295,M=F+(q<<17&4294967295|q>>>15),q=R+(N^M&(F^N))+V[11]+2304563134&4294967295,R=M+(q<<22&4294967295|q>>>10),q=N+(F^R&(M^F))+V[12]+1804603682&4294967295,N=R+(q<<7&4294967295|q>>>25),q=F+(M^N&(R^M))+V[13]+4254626195&4294967295,F=N+(q<<12&4294967295|q>>>20),q=M+(R^F&(N^R))+V[14]+2792965006&4294967295,M=F+(q<<17&4294967295|q>>>15),q=R+(N^M&(F^N))+V[15]+1236535329&4294967295,R=M+(q<<22&4294967295|q>>>10),q=N+(M^F&(R^M))+V[1]+4129170786&4294967295,N=R+(q<<5&4294967295|q>>>27),q=F+(R^M&(N^R))+V[6]+3225465664&4294967295,F=N+(q<<9&4294967295|q>>>23),q=M+(N^R&(F^N))+V[11]+643717713&4294967295,M=F+(q<<14&4294967295|q>>>18),q=R+(F^N&(M^F))+V[0]+3921069994&4294967295,R=M+(q<<20&4294967295|q>>>12),q=N+(M^F&(R^M))+V[5]+3593408605&4294967295,N=R+(q<<5&4294967295|q>>>27),q=F+(R^M&(N^R))+V[10]+38016083&4294967295,F=N+(q<<9&4294967295|q>>>23),q=M+(N^R&(F^N))+V[15]+3634488961&4294967295,M=F+(q<<14&4294967295|q>>>18),q=R+(F^N&(M^F))+V[4]+3889429448&4294967295,R=M+(q<<20&4294967295|q>>>12),q=N+(M^F&(R^M))+V[9]+568446438&4294967295,N=R+(q<<5&4294967295|q>>>27),q=F+(R^M&(N^R))+V[14]+3275163606&4294967295,F=N+(q<<9&4294967295|q>>>23),q=M+(N^R&(F^N))+V[3]+4107603335&4294967295,M=F+(q<<14&4294967295|q>>>18),q=R+(F^N&(M^F))+V[8]+1163531501&4294967295,R=M+(q<<20&4294967295|q>>>12),q=N+(M^F&(R^M))+V[13]+2850285829&4294967295,N=R+(q<<5&4294967295|q>>>27),q=F+(R^M&(N^R))+V[2]+4243563512&4294967295,F=N+(q<<9&4294967295|q>>>23),q=M+(N^R&(F^N))+V[7]+1735328473&4294967295,M=F+(q<<14&4294967295|q>>>18),q=R+(F^N&(M^F))+V[12]+2368359562&4294967295,R=M+(q<<20&4294967295|q>>>12),q=N+(R^M^F)+V[5]+4294588738&4294967295,N=R+(q<<4&4294967295|q>>>28),q=F+(N^R^M)+V[8]+2272392833&4294967295,F=N+(q<<11&4294967295|q>>>21),q=M+(F^N^R)+V[11]+1839030562&4294967295,M=F+(q<<16&4294967295|q>>>16),q=R+(M^F^N)+V[14]+4259657740&4294967295,R=M+(q<<23&4294967295|q>>>9),q=N+(R^M^F)+V[1]+2763975236&4294967295,N=R+(q<<4&4294967295|q>>>28),q=F+(N^R^M)+V[4]+1272893353&4294967295,F=N+(q<<11&4294967295|q>>>21),q=M+(F^N^R)+V[7]+4139469664&4294967295,M=F+(q<<16&4294967295|q>>>16),q=R+(M^F^N)+V[10]+3200236656&4294967295,R=M+(q<<23&4294967295|q>>>9),q=N+(R^M^F)+V[13]+681279174&4294967295,N=R+(q<<4&4294967295|q>>>28),q=F+(N^R^M)+V[0]+3936430074&4294967295,F=N+(q<<11&4294967295|q>>>21),q=M+(F^N^R)+V[3]+3572445317&4294967295,M=F+(q<<16&4294967295|q>>>16),q=R+(M^F^N)+V[6]+76029189&4294967295,R=M+(q<<23&4294967295|q>>>9),q=N+(R^M^F)+V[9]+3654602809&4294967295,N=R+(q<<4&4294967295|q>>>28),q=F+(N^R^M)+V[12]+3873151461&4294967295,F=N+(q<<11&4294967295|q>>>21),q=M+(F^N^R)+V[15]+530742520&4294967295,M=F+(q<<16&4294967295|q>>>16),q=R+(M^F^N)+V[2]+3299628645&4294967295,R=M+(q<<23&4294967295|q>>>9),q=N+(M^(R|~F))+V[0]+4096336452&4294967295,N=R+(q<<6&4294967295|q>>>26),q=F+(R^(N|~M))+V[7]+1126891415&4294967295,F=N+(q<<10&4294967295|q>>>22),q=M+(N^(F|~R))+V[14]+2878612391&4294967295,M=F+(q<<15&4294967295|q>>>17),q=R+(F^(M|~N))+V[5]+4237533241&4294967295,R=M+(q<<21&4294967295|q>>>11),q=N+(M^(R|~F))+V[12]+1700485571&4294967295,N=R+(q<<6&4294967295|q>>>26),q=F+(R^(N|~M))+V[3]+2399980690&4294967295,F=N+(q<<10&4294967295|q>>>22),q=M+(N^(F|~R))+V[10]+4293915773&4294967295,M=F+(q<<15&4294967295|q>>>17),q=R+(F^(M|~N))+V[1]+2240044497&4294967295,R=M+(q<<21&4294967295|q>>>11),q=N+(M^(R|~F))+V[8]+1873313359&4294967295,N=R+(q<<6&4294967295|q>>>26),q=F+(R^(N|~M))+V[15]+4264355552&4294967295,F=N+(q<<10&4294967295|q>>>22),q=M+(N^(F|~R))+V[6]+2734768916&4294967295,M=F+(q<<15&4294967295|q>>>17),q=R+(F^(M|~N))+V[13]+1309151649&4294967295,R=M+(q<<21&4294967295|q>>>11),q=N+(M^(R|~F))+V[4]+4149444226&4294967295,N=R+(q<<6&4294967295|q>>>26),q=F+(R^(N|~M))+V[11]+3174756917&4294967295,F=N+(q<<10&4294967295|q>>>22),q=M+(N^(F|~R))+V[2]+718787259&4294967295,M=F+(q<<15&4294967295|q>>>17),q=R+(F^(M|~N))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+N&4294967295,k.g[1]=k.g[1]+(M+(q<<21&4294967295|q>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+F&4294967295}r.prototype.v=function(k,N){N===void 0&&(N=k.length);const R=N-this.blockSize,V=this.C;let M=this.h,F=0;for(;F<N;){if(M==0)for(;F<=R;)i(this,k,F),F+=this.blockSize;if(typeof k=="string"){for(;F<N;)if(V[M++]=k.charCodeAt(F++),M==this.blockSize){i(this,V),M=0;break}}else for(;F<N;)if(V[M++]=k[F++],M==this.blockSize){i(this,V),M=0;break}}this.h=M,this.o+=N},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var N=1;N<k.length-8;++N)k[N]=0;N=this.o*8;for(var R=k.length-8;R<k.length;++R)k[R]=N&255,N/=256;for(this.v(k),k=Array(16),N=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)k[N++]=this.g[R]>>>V&255;return k};function s(k,N){var R=l;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=N(k)}function o(k,N){this.h=N;const R=[];let V=!0;for(let M=k.length-1;M>=0;M--){const F=k[M]|0;V&&F==N||(R[M]=F,V=!1)}this.g=R}var l={};function f(k){return-128<=k&&k<128?s(k,function(N){return new o([N|0],N<0?-1:0)}):new o([k|0],k<0?-1:0)}function c(k){if(isNaN(k)||!isFinite(k))return g;if(k<0)return C(c(-k));const N=[];let R=1;for(let V=0;k>=R;V++)N[V]=k/R|0,R*=4294967296;return new o(N,0)}function d(k,N){if(k.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(k.charAt(0)=="-")return C(d(k.substring(1),N));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=c(Math.pow(N,8));let V=g;for(let F=0;F<k.length;F+=8){var M=Math.min(8,k.length-F);const q=parseInt(k.substring(F,F+M),N);M<8?(M=c(Math.pow(N,M)),V=V.j(M).add(c(q))):(V=V.j(R),V=V.add(c(q)))}return V}var g=f(0),p=f(1),x=f(16777216);t=o.prototype,t.m=function(){if(w(this))return-C(this).m();let k=0,N=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);k+=(V>=0?V:4294967296+V)*N,N*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(_(this))return"0";if(w(this))return"-"+C(this).toString(k);const N=c(Math.pow(k,6));var R=this;let V="";for(;;){const M=L(R,N).g;R=I(R,M.j(N));let F=((R.g.length>0?R.g[0]:R.h)>>>0).toString(k);if(R=M,_(R))return F+V;for(;F.length<6;)F="0"+F;V=F+V}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function _(k){if(k.h!=0)return!1;for(let N=0;N<k.g.length;N++)if(k.g[N]!=0)return!1;return!0}function w(k){return k.h==-1}t.l=function(k){return k=I(this,k),w(k)?-1:_(k)?0:1};function C(k){const N=k.g.length,R=[];for(let V=0;V<N;V++)R[V]=~k.g[V];return new o(R,~k.h).add(p)}t.abs=function(){return w(this)?C(this):this},t.add=function(k){const N=Math.max(this.g.length,k.g.length),R=[];let V=0;for(let M=0;M<=N;M++){let F=V+(this.i(M)&65535)+(k.i(M)&65535),q=(F>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);V=q>>>16,F&=65535,q&=65535,R[M]=q<<16|F}return new o(R,R[R.length-1]&-2147483648?-1:0)};function I(k,N){return k.add(C(N))}t.j=function(k){if(_(this)||_(k))return g;if(w(this))return w(k)?C(this).j(C(k)):C(C(this).j(k));if(w(k))return C(this.j(C(k)));if(this.l(x)<0&&k.l(x)<0)return c(this.m()*k.m());const N=this.g.length+k.g.length,R=[];for(var V=0;V<2*N;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<k.g.length;M++){const F=this.i(V)>>>16,q=this.i(V)&65535,ce=k.i(M)>>>16,oe=k.i(M)&65535;R[2*V+2*M]+=q*oe,P(R,2*V+2*M),R[2*V+2*M+1]+=F*oe,P(R,2*V+2*M+1),R[2*V+2*M+1]+=q*ce,P(R,2*V+2*M+1),R[2*V+2*M+2]+=F*ce,P(R,2*V+2*M+2)}for(k=0;k<N;k++)R[k]=R[2*k+1]<<16|R[2*k];for(k=N;k<2*N;k++)R[k]=0;return new o(R,0)};function P(k,N){for(;(k[N]&65535)!=k[N];)k[N+1]+=k[N]>>>16,k[N]&=65535,N++}function A(k,N){this.g=k,this.h=N}function L(k,N){if(_(N))throw Error("division by zero");if(_(k))return new A(g,g);if(w(k))return N=L(C(k),N),new A(C(N.g),C(N.h));if(w(N))return N=L(k,C(N)),new A(C(N.g),N.h);if(k.g.length>30){if(w(k)||w(N))throw Error("slowDivide_ only works with positive integers.");for(var R=p,V=N;V.l(k)<=0;)R=D(R),V=D(V);var M=O(R,1),F=O(V,1);for(V=O(V,2),R=O(R,2);!_(V);){var q=F.add(V);q.l(k)<=0&&(M=M.add(R),F=q),V=O(V,1),R=O(R,1)}return N=I(k,M.j(N)),new A(M,N)}for(M=g;k.l(N)>=0;){for(R=Math.max(1,Math.floor(k.m()/N.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),F=c(R),q=F.j(N);w(q)||q.l(k)>0;)R-=V,F=c(R),q=F.j(N);_(F)&&(F=p),M=M.add(F),k=I(k,q)}return new A(M,k)}t.B=function(k){return L(this,k).h},t.and=function(k){const N=Math.max(this.g.length,k.g.length),R=[];for(let V=0;V<N;V++)R[V]=this.i(V)&k.i(V);return new o(R,this.h&k.h)},t.or=function(k){const N=Math.max(this.g.length,k.g.length),R=[];for(let V=0;V<N;V++)R[V]=this.i(V)|k.i(V);return new o(R,this.h|k.h)},t.xor=function(k){const N=Math.max(this.g.length,k.g.length),R=[];for(let V=0;V<N;V++)R[V]=this.i(V)^k.i(V);return new o(R,this.h^k.h)};function D(k){const N=k.g.length+1,R=[];for(let V=0;V<N;V++)R[V]=k.i(V)<<1|k.i(V-1)>>>31;return new o(R,k.h)}function O(k,N){const R=N>>5;N%=32;const V=k.g.length-R,M=[];for(let F=0;F<V;F++)M[F]=N>0?k.i(F+R)>>>N|k.i(F+R+1)<<32-N:k.i(F+R);return new o(M,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,v4=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,To=o}).apply(typeof Fb<"u"?Fb:typeof self<"u"?self:typeof window<"u"?window:{});var md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _4,Df,T4,zd,$x,E4,b4,w4;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof md=="object"&&md];for(var U=0;U<v.length;++U){var H=v[U];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}var r=n(this);function i(v,U){if(U)e:{var H=r;v=v.split(".");for(var J=0;J<v.length-1;J++){var xe=v[J];if(!(xe in H))break e;H=H[xe]}v=v[v.length-1],J=H[v],U=U(J),U!=J&&U!=null&&e(H,v,{configurable:!0,writable:!0,value:U})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(U){var H=[],J;for(J in U)Object.prototype.hasOwnProperty.call(U,J)&&H.push([J,U[J]]);return H}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(v){var U=typeof v;return U=="object"&&v!=null||U=="function"}function f(v,U,H){return v.call.apply(v.bind,arguments)}function c(v,U,H){return c=f,c.apply(null,arguments)}function d(v,U){var H=Array.prototype.slice.call(arguments,1);return function(){var J=H.slice();return J.push.apply(J,arguments),v.apply(this,J)}}function g(v,U){function H(){}H.prototype=U.prototype,v.Z=U.prototype,v.prototype=new H,v.prototype.constructor=v,v.Ob=function(J,xe,Ce){for(var je=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)je[yt-2]=arguments[yt];return U.prototype[xe].apply(J,je)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function x(v){const U=v.length;if(U>0){const H=Array(U);for(let J=0;J<U;J++)H[J]=v[J];return H}return[]}function _(v,U){for(let J=1;J<arguments.length;J++){const xe=arguments[J];var H=typeof xe;if(H=H!="object"?H:xe?Array.isArray(xe)?"array":H:"null",H=="array"||H=="object"&&typeof xe.length=="number"){H=v.length||0;const Ce=xe.length||0;v.length=H+Ce;for(let je=0;je<Ce;je++)v[H+je]=xe[je]}else v.push(xe)}}class w{constructor(U,H){this.i=U,this.j=H,this.h=0,this.g=null}get(){let U;return this.h>0?(this.h--,U=this.g,this.g=U.next,U.next=null):U=this.i(),U}}function C(v){o.setTimeout(()=>{throw v},0)}function I(){var v=k;let U=null;return v.g&&(U=v.g,v.g=v.g.next,v.g||(v.h=null),U.next=null),U}class P{constructor(){this.h=this.g=null}add(U,H){const J=A.get();J.set(U,H),this.h?this.h.next=J:this.g=J,this.h=J}}var A=new w(()=>new L,v=>v.reset());class L{constructor(){this.next=this.g=this.h=null}set(U,H){this.h=U,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let D,O=!1,k=new P,N=()=>{const v=Promise.resolve(void 0);D=()=>{v.then(R)}};function R(){for(var v;v=I();){try{v.h.call(v.g)}catch(H){C(H)}var U=A;U.j(v),U.h<100&&(U.h++,v.next=U.g,U.g=v)}O=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(v,U){this.type=v,this.g=this.target=U,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var v=!1,U=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const H=()=>{};o.addEventListener("test",H,U),o.removeEventListener("test",H,U)}catch{}return v})();function q(v){return/^[\s\xa0]*$/.test(v)}function ce(v,U){M.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,U)}g(ce,M),ce.prototype.init=function(v,U){const H=this.type=v.type,J=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=U,U=v.relatedTarget,U||(H=="mouseover"?U=v.fromElement:H=="mouseout"&&(U=v.toElement)),this.relatedTarget=U,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&ce.Z.h.call(this)},ce.prototype.h=function(){ce.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),ae=0;function se(v,U,H,J,xe){this.listener=v,this.proxy=null,this.src=U,this.type=H,this.capture=!!J,this.ha=xe,this.key=++ae,this.da=this.fa=!1}function ge(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Z(v,U,H){for(const J in v)U.call(H,v[J],J,v)}function Ee(v,U){for(const H in v)U.call(void 0,v[H],H,v)}function G(v){const U={};for(const H in v)U[H]=v[H];return U}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(v,U){let H,J;for(let xe=1;xe<arguments.length;xe++){J=arguments[xe];for(H in J)v[H]=J[H];for(let Ce=0;Ce<z.length;Ce++)H=z[Ce],Object.prototype.hasOwnProperty.call(J,H)&&(v[H]=J[H])}}function ee(v){this.src=v,this.g={},this.h=0}ee.prototype.add=function(v,U,H,J,xe){const Ce=v.toString();v=this.g[Ce],v||(v=this.g[Ce]=[],this.h++);const je=me(v,U,J,xe);return je>-1?(U=v[je],H||(U.fa=!1)):(U=new se(U,this.src,Ce,!!J,xe),U.fa=H,v.push(U)),U};function re(v,U){const H=U.type;if(H in v.g){var J=v.g[H],xe=Array.prototype.indexOf.call(J,U,void 0),Ce;(Ce=xe>=0)&&Array.prototype.splice.call(J,xe,1),Ce&&(ge(U),v.g[H].length==0&&(delete v.g[H],v.h--))}}function me(v,U,H,J){for(let xe=0;xe<v.length;++xe){const Ce=v[xe];if(!Ce.da&&Ce.listener==U&&Ce.capture==!!H&&Ce.ha==J)return xe}return-1}var Re="closure_lm_"+(Math.random()*1e6|0),Ne={};function he(v,U,H,J,xe){if(Array.isArray(U)){for(let Ce=0;Ce<U.length;Ce++)he(v,U[Ce],H,J,xe);return null}return H=nt(H),v&&v[oe]?v.J(U,H,l(J)?!!J.capture:!1,xe):ke(v,U,H,!1,J,xe)}function ke(v,U,H,J,xe,Ce){if(!U)throw Error("Invalid event type");const je=l(xe)?!!xe.capture:!!xe;let yt=qe(v);if(yt||(v[Re]=yt=new ee(v)),H=yt.add(U,H,J,je,Ce),H.proxy)return H;if(J=de(),H.proxy=J,J.src=v,J.listener=H,v.addEventListener)F||(xe=je),xe===void 0&&(xe=!1),v.addEventListener(U.toString(),J,xe);else if(v.attachEvent)v.attachEvent(Fe(U.toString()),J);else if(v.addListener&&v.removeListener)v.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return H}function de(){function v(H){return U.call(v.src,v.listener,H)}const U=Ke;return v}function K(v,U,H,J,xe){if(Array.isArray(U))for(var Ce=0;Ce<U.length;Ce++)K(v,U[Ce],H,J,xe);else J=l(J)?!!J.capture:!!J,H=nt(H),v&&v[oe]?(v=v.i,Ce=String(U).toString(),Ce in v.g&&(U=v.g[Ce],H=me(U,H,J,xe),H>-1&&(ge(U[H]),Array.prototype.splice.call(U,H,1),U.length==0&&(delete v.g[Ce],v.h--)))):v&&(v=qe(v))&&(U=v.g[U.toString()],v=-1,U&&(v=me(U,H,J,xe)),(H=v>-1?U[v]:null)&&Ae(H))}function Ae(v){if(typeof v!="number"&&v&&!v.da){var U=v.src;if(U&&U[oe])re(U.i,v);else{var H=v.type,J=v.proxy;U.removeEventListener?U.removeEventListener(H,J,v.capture):U.detachEvent?U.detachEvent(Fe(H),J):U.addListener&&U.removeListener&&U.removeListener(J),(H=qe(U))?(re(H,v),H.h==0&&(H.src=null,U[Re]=null)):ge(v)}}}function Fe(v){return v in Ne?Ne[v]:Ne[v]="on"+v}function Ke(v,U){if(v.da)v=!0;else{U=new ce(U,this);const H=v.listener,J=v.ha||v.src;v.fa&&Ae(v),v=H.call(J,U)}return v}function qe(v){return v=v[Re],v instanceof ee?v:null}var He="__closure_events_fn_"+(Math.random()*1e9>>>0);function nt(v){return typeof v=="function"?v:(v[He]||(v[He]=function(U){return v.handleEvent(U)}),v[He])}function Ge(){V.call(this),this.i=new ee(this),this.M=this,this.G=null}g(Ge,V),Ge.prototype[oe]=!0,Ge.prototype.removeEventListener=function(v,U,H,J){K(this,v,U,H,J)};function We(v,U){var H,J=v.G;if(J)for(H=[];J;J=J.G)H.push(J);if(v=v.M,J=U.type||U,typeof U=="string")U=new M(U,v);else if(U instanceof M)U.target=U.target||v;else{var xe=U;U=new M(J,v),Y(U,xe)}xe=!0;let Ce,je;if(H)for(je=H.length-1;je>=0;je--)Ce=U.g=H[je],xe=Yt(Ce,J,!0,U)&&xe;if(Ce=U.g=v,xe=Yt(Ce,J,!0,U)&&xe,xe=Yt(Ce,J,!1,U)&&xe,H)for(je=0;je<H.length;je++)Ce=U.g=H[je],xe=Yt(Ce,J,!1,U)&&xe}Ge.prototype.N=function(){if(Ge.Z.N.call(this),this.i){var v=this.i;for(const U in v.g){const H=v.g[U];for(let J=0;J<H.length;J++)ge(H[J]);delete v.g[U],v.h--}}this.G=null},Ge.prototype.J=function(v,U,H,J){return this.i.add(String(v),U,!1,H,J)},Ge.prototype.K=function(v,U,H,J){return this.i.add(String(v),U,!0,H,J)};function Yt(v,U,H,J){if(U=v.i.g[String(U)],!U)return!0;U=U.concat();let xe=!0;for(let Ce=0;Ce<U.length;++Ce){const je=U[Ce];if(je&&!je.da&&je.capture==H){const yt=je.listener,kn=je.ha||je.src;je.fa&&re(v.i,je),xe=yt.call(kn,J)!==!1&&xe}}return xe&&!J.defaultPrevented}function ot(v,U){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=c(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(U)>2147483647?-1:o.setTimeout(v,U||0)}function ut(v){v.g=ot(()=>{v.g=null,v.i&&(v.i=!1,ut(v))},v.l);const U=v.h;v.h=null,v.m.apply(null,U)}class st extends V{constructor(U,H){super(),this.m=U,this.l=H,this.h=null,this.i=!1,this.g=null}j(U){this.h=arguments,this.g?this.i=!0:ut(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bt(v){V.call(this),this.h=v,this.g={}}g(bt,V);var dt=[];function tn(v){Z(v.g,function(U,H){this.g.hasOwnProperty(H)&&Ae(U)},v),v.g={}}bt.prototype.N=function(){bt.Z.N.call(this),tn(this)},bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wt=o.JSON.stringify,Pn=o.JSON.parse,ht=class{stringify(v){return o.JSON.stringify(v,void 0)}parse(v){return o.JSON.parse(v,void 0)}};function Ut(){}function nn(){}var St={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rn(){M.call(this,"d")}g(rn,M);function kr(){M.call(this,"c")}g(kr,M);var Tn={},Ju=null;function Us(){return Ju=Ju||new Ge}Tn.Ia="serverreachability";function Go(v){M.call(this,Tn.Ia,v)}g(Go,M);function Qr(v){const U=Us();We(U,new Go(U))}Tn.STAT_EVENT="statevent";function Vs(v,U){M.call(this,Tn.STAT_EVENT,v),this.stat=U}g(Vs,M);function bn(v){const U=Us();We(U,new Vs(U,v))}Tn.Ja="timingevent";function Rr(v,U){M.call(this,Tn.Ja,v),this.size=U}g(Rr,M);function pi(v,U){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){v()},U)}function Zr(){this.g=!0}Zr.prototype.ua=function(){this.g=!1};function Rc(v,U,H,J,xe,Ce){v.info(function(){if(v.g)if(Ce){var je="",yt=Ce.split("&");for(let Gt=0;Gt<yt.length;Gt++){var kn=yt[Gt].split("=");if(kn.length>1){const yn=kn[0];kn=kn[1];const yi=yn.split("_");je=yi.length>=2&&yi[1]=="type"?je+(yn+"="+kn+"&"):je+(yn+"=redacted&")}}}else je=null;else je=Ce;return"XMLHTTP REQ ("+J+") [attempt "+xe+"]: "+U+`
`+H+`
`+je})}function Qu(v,U,H,J,xe,Ce,je){v.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+xe+"]: "+U+`
`+H+`
`+Ce+" "+je})}function mi(v,U,H,J){v.info(function(){return"XMLHTTP TEXT ("+U+"): "+Nc(v,H)+(J?" "+J:"")})}function Bs(v,U){v.info(function(){return"TIMEOUT: "+U})}Zr.prototype.info=function(){};function Nc(v,U){if(!v.g)return U;if(!U)return null;try{const Ce=JSON.parse(U);if(Ce){for(v=0;v<Ce.length;v++)if(Array.isArray(Ce[v])){var H=Ce[v];if(!(H.length<2)){var J=H[1];if(Array.isArray(J)&&!(J.length<1)){var xe=J[0];if(xe!="noop"&&xe!="stop"&&xe!="close")for(let je=1;je<J.length;je++)J[je]=""}}}}return wt(Ce)}catch{return U}}var qs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jo;function zs(){}g(zs,Ut),zs.prototype.g=function(){return new XMLHttpRequest},jo=new zs;function Li(v){return encodeURIComponent(String(v))}function j(v){var U=1;v=v.split(":");const H=[];for(;U>0&&v.length;)H.push(v.shift()),U--;return v.length&&H.push(v.join(":")),H}function ne(v,U,H,J){this.j=v,this.i=U,this.l=H,this.S=J||1,this.V=new bt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new X}function X(){this.i=null,this.g="",this.h=!1}var Q={},te={};function ie(v,U,H){v.M=1,v.A=$o(Ln(U)),v.u=H,v.R=!0,ve(v,null)}function ve(v,U){v.F=Date.now(),be(v),v.B=Ln(v.A);var H=v.B,J=v.S;Array.isArray(J)||(J=[String(J)]),el(H.i,"t",J),v.C=0,H=v.j.L,v.h=new X,v.g=oh(v.j,H?U:null,!v.u),v.P>0&&(v.O=new st(c(v.Y,v,v.g),v.P)),U=v.V,H=v.g,J=v.ba;var xe="readystatechange";Array.isArray(xe)||(xe&&(dt[0]=xe.toString()),xe=dt);for(let Ce=0;Ce<xe.length;Ce++){const je=he(H,xe[Ce],J||U.handleEvent,!1,U.h||U);if(!je)break;U.g[je.key]=je}U=v.J?G(v.J):{},v.u?(v.v||(v.v="POST"),U["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,U)):(v.v="GET",v.g.ea(v.B,v.v,null,U)),Qr(),Rc(v.i,v.v,v.B,v.l,v.S,v.u)}ne.prototype.ba=function(v){v=v.target;const U=this.O;U&&Bi(v)==3?U.j():this.Y(v)},ne.prototype.Y=function(v){try{if(v==this.g)e:{const yt=Bi(this.g),kn=this.g.ya(),Gt=this.g.ca();if(!(yt<3)&&(yt!=3||this.g&&(this.h.h||this.g.la()||rr(this.g)))){this.K||yt!=4||kn==7||(kn==8||Gt<=0?Qr(3):Qr(2)),ze(this);var U=this.g.ca();this.X=U;var H=De(this);if(this.o=U==200,Qu(this.i,this.v,this.B,this.l,this.S,yt,U),this.o){if(this.U&&!this.L){t:{if(this.g){var J,xe=this.g;if((J=xe.g?xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(J)){var Ce=J;break t}}Ce=null}if(v=Ce)mi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$e(this,v);else{this.o=!1,this.m=3,bn(12),Ve(this),Ye(this);break e}}if(this.R){v=!0;let yn;for(;!this.K&&this.C<H.length;)if(yn=we(this,H),yn==te){yt==4&&(this.m=4,bn(14),v=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==Q){this.m=4,bn(15),mi(this.i,this.l,H,"[Invalid Chunk]"),v=!1;break}else mi(this.i,this.l,yn,null),$e(this,yn);if(_e(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||H.length!=0||this.h.h||(this.m=1,bn(16),v=!1),this.o=this.o&&v,!v)mi(this.i,this.l,H,"[Invalid Chunked Response]"),Ve(this),Ye(this);else if(H.length>0&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.aa&&!je.P&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),qc(je),je.P=!0,bn(11))}}else mi(this.i,this.l,H,null),$e(this,H);yt==4&&Ve(this),this.o&&!this.K&&(yt==4?rh(this.j,this):(this.o=!1,be(this)))}else js(this.g),U==400&&H.indexOf("Unknown SID")>0?(this.m=3,bn(12)):(this.m=0,bn(13)),Ve(this),Ye(this)}}}catch{}finally{}};function De(v){if(!_e(v))return v.g.la();const U=rr(v.g);if(U==="")return"";let H="";const J=U.length,xe=Bi(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return Ve(v),Ye(v),"";v.h.i=new o.TextDecoder}for(let Ce=0;Ce<J;Ce++)v.h.h=!0,H+=v.h.i.decode(U[Ce],{stream:!(xe&&Ce==J-1)});return U.length=0,v.h.g+=H,v.C=0,v.h.g}function _e(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function we(v,U){var H=v.C,J=U.indexOf(`
`,H);return J==-1?te:(H=Number(U.substring(H,J)),isNaN(H)?Q:(J+=1,J+H>U.length?te:(U=U.slice(J,J+H),v.C=J+H,U)))}ne.prototype.cancel=function(){this.K=!0,Ve(this)};function be(v){v.T=Date.now()+v.H,Be(v,v.H)}function Be(v,U){if(v.D!=null)throw Error("WatchDog timer not null");v.D=pi(c(v.aa,v),U)}function ze(v){v.D&&(o.clearTimeout(v.D),v.D=null)}ne.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Bs(this.i,this.B),this.M!=2&&(Qr(),bn(17)),Ve(this),this.m=2,Ye(this)):Be(this,this.T-v)};function Ye(v){v.j.I==0||v.K||rh(v.j,v)}function Ve(v){ze(v);var U=v.O;U&&typeof U.dispose=="function"&&U.dispose(),v.O=null,tn(v.V),v.g&&(U=v.g,v.g=null,U.abort(),U.dispose())}function $e(v,U){try{var H=v.j;if(H.I!=0&&(H.g==v||pr(H.h,v))){if(!v.L&&pr(H.h,v)&&H.I==3){try{var J=H.Ba.g.parse(U)}catch{J=null}if(Array.isArray(J)&&J.length==3){var xe=J;if(xe[0]==0){e:if(!H.v){if(H.g)if(H.g.F+3e3<v.F)sl(H),La(H);else break e;Zo(H),bn(18)}}else H.xa=xe[1],0<H.xa-H.K&&xe[2]<37500&&H.F&&H.A==0&&!H.C&&(H.C=pi(c(H.Va,H),6e3));cn(H.h)<=1&&H.ta&&(H.ta=void 0)}else ps(H,11)}else if((v.L||H.g==v)&&sl(H),!q(U))for(xe=H.Ba.g.parse(U),U=0;U<xe.length;U++){let Gt=xe[U];const yn=Gt[0];if(!(yn<=H.K))if(H.K=yn,Gt=Gt[1],H.I==2)if(Gt[0]=="c"){H.M=Gt[1],H.ba=Gt[2];const yi=Gt[3];yi!=null&&(H.ka=yi,H.j.info("VER="+H.ka));const ms=Gt[4];ms!=null&&(H.za=ms,H.j.info("SVER="+H.za));const qi=Gt[5];qi!=null&&typeof qi=="number"&&qi>0&&(J=1.5*qi,H.O=J,H.j.info("backChannelRequestTimeoutMs_="+J)),J=H;const Hi=v.g;if(Hi){const eu=Hi.g?Hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(eu){var Ce=J.h;Ce.g||eu.indexOf("spdy")==-1&&eu.indexOf("quic")==-1&&eu.indexOf("h2")==-1||(Ce.j=Ce.l,Ce.g=new Set,Ce.h&&(Oi(Ce,Ce.h),Ce.h=null))}if(J.G){const al=Hi.g?Hi.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(J.wa=al,Qt(J.J,J.G,al))}}H.I=3,H.l&&H.l.ra(),H.aa&&(H.T=Date.now()-v.F,H.j.info("Handshake RTT: "+H.T+"ms")),J=H;var je=v;if(J.na=ah(J,J.L?J.ba:null,J.W),je.L){Fi(J.h,je);var yt=je,kn=J.O;kn&&(yt.H=kn),yt.D&&(ze(yt),be(yt)),J.g=je}else th(J);H.i.length>0&&ds(H)}else Gt[0]!="stop"&&Gt[0]!="close"||ps(H,7);else H.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?ps(H,7):Vc(H):Gt[0]!="noop"&&H.l&&H.l.qa(Gt),H.A=0)}}Qr(4)}catch{}}var Ze=class{constructor(v,U){this.g=v,this.map=U}};function Xt(v){this.l=v||10,o.PerformanceNavigationTiming?(v=o.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jt(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function cn(v){return v.h?1:v.g?v.g.size:0}function pr(v,U){return v.h?v.h==U:v.g?v.g.has(U):!1}function Oi(v,U){v.g?v.g.add(U):v.h=U}function Fi(v,U){v.h&&v.h==U?v.h=null:v.g&&v.g.has(U)&&v.g.delete(U)}Xt.prototype.cancel=function(){if(this.i=ei(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function ei(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let U=v.i;for(const H of v.g.values())U=U.concat(H.G);return U}return x(v.i)}var Ca=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mr(v,U){if(v){v=v.split("&");for(let H=0;H<v.length;H++){const J=v[H].indexOf("=");let xe,Ce=null;J>=0?(xe=v[H].substring(0,J),Ce=v[H].substring(J+1)):xe=v[H],U(xe,Ce?decodeURIComponent(Ce.replace(/\+/g," ")):"")}}}function ti(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let U;v instanceof ti?(this.l=v.l,Qn(this,v.j),this.o=v.o,this.g=v.g,Ia(this,v.u),this.h=v.h,Dc(this,Z0(v.i)),this.m=v.m):v&&(U=String(v).match(Ca))?(this.l=!1,Qn(this,U[1]||"",!0),this.o=ls(U[2]||""),this.g=ls(U[3]||"",!0),Ia(this,U[4]),this.h=ls(U[5]||"",!0),Dc(this,U[6]||"",!0),this.m=ls(U[7]||"")):(this.l=!1,this.i=new Ra(null,this.l))}ti.prototype.toString=function(){const v=[];var U=this.j;U&&v.push(Wo(U,Zu,!0),":");var H=this.g;return(H||U=="file")&&(v.push("//"),(U=this.o)&&v.push(Wo(U,Zu,!0),"@"),v.push(Li(H).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H=this.u,H!=null&&v.push(":",String(H))),(H=this.h)&&(this.g&&H.charAt(0)!="/"&&v.push("/"),v.push(Wo(H,H.charAt(0)=="/"?Mc:X0,!0))),(H=this.i.toString())&&v.push("?",H),(H=this.m)&&v.push("#",Wo(H,J0)),v.join("")},ti.prototype.resolve=function(v){const U=Ln(this);let H=!!v.j;H?Qn(U,v.j):H=!!v.o,H?U.o=v.o:H=!!v.g,H?U.g=v.g:H=v.u!=null;var J=v.h;if(H)Ia(U,v.u);else if(H=!!v.h){if(J.charAt(0)!="/")if(this.g&&!this.h)J="/"+J;else{var xe=U.h.lastIndexOf("/");xe!=-1&&(J=U.h.slice(0,xe+1)+J)}if(xe=J,xe==".."||xe==".")J="";else if(xe.indexOf("./")!=-1||xe.indexOf("/.")!=-1){J=xe.lastIndexOf("/",0)==0,xe=xe.split("/");const Ce=[];for(let je=0;je<xe.length;){const yt=xe[je++];yt=="."?J&&je==xe.length&&Ce.push(""):yt==".."?((Ce.length>1||Ce.length==1&&Ce[0]!="")&&Ce.pop(),J&&je==xe.length&&Ce.push("")):(Ce.push(yt),J=!0)}J=Ce.join("/")}else J=xe}return H?U.h=J:H=v.i.toString()!=="",H?Dc(U,Z0(v.i)):H=!!v.m,H&&(U.m=v.m),U};function Ln(v){return new ti(v)}function Qn(v,U,H){v.j=H?ls(U,!0):U,v.j&&(v.j=v.j.replace(/:$/,""))}function Ia(v,U){if(U){if(U=Number(U),isNaN(U)||U<0)throw Error("Bad port number "+U);v.u=U}else v.u=null}function Dc(v,U,H){U instanceof Ra?(v.i=U,tl(v.i,v.l)):(H||(U=Wo(U,ka)),v.i=new Ra(U,v.l))}function Qt(v,U,H){v.i.set(U,H)}function $o(v){return Qt(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function ls(v,U){return v?U?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Wo(v,U,H){return typeof v=="string"?(v=encodeURI(v).replace(U,Vr),H&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Vr(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Zu=/[#\/\?@]/g,X0=/[#\?:]/g,Mc=/[#\?]/g,ka=/[#\?@]/g,J0=/#/g;function Ra(v,U){this.h=this.g=null,this.i=v||null,this.j=!!U}function Br(v){v.g||(v.g=new Map,v.h=0,v.i&&mr(v.i,function(U,H){v.add(decodeURIComponent(U.replace(/\+/g," ")),H)}))}t=Ra.prototype,t.add=function(v,U){Br(this),this.i=null,v=Na(this,v);let H=this.g.get(v);return H||this.g.set(v,H=[]),H.push(U),this.h+=1,this};function Q0(v,U){Br(v),U=Na(v,U),v.g.has(U)&&(v.i=null,v.h-=v.g.get(U).length,v.g.delete(U))}function Pc(v,U){return Br(v),U=Na(v,U),v.g.has(U)}t.forEach=function(v,U){Br(this),this.g.forEach(function(H,J){H.forEach(function(xe){v.call(U,xe,J,this)},this)},this)};function Lc(v,U){Br(v);let H=[];if(typeof U=="string")Pc(v,U)&&(H=H.concat(v.g.get(Na(v,U))));else for(v=Array.from(v.g.values()),U=0;U<v.length;U++)H=H.concat(v[U]);return H}t.set=function(v,U){return Br(this),this.i=null,v=Na(this,v),Pc(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[U]),this.h+=1,this},t.get=function(v,U){return v?(v=Lc(this,v),v.length>0?String(v[0]):U):U};function el(v,U,H){Q0(v,U),H.length>0&&(v.i=null,v.g.set(Na(v,U),x(H)),v.h+=H.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],U=Array.from(this.g.keys());for(let J=0;J<U.length;J++){var H=U[J];const xe=Li(H);H=Lc(this,H);for(let Ce=0;Ce<H.length;Ce++){let je=xe;H[Ce]!==""&&(je+="="+Li(H[Ce])),v.push(je)}}return this.i=v.join("&")};function Z0(v){const U=new Ra;return U.i=v.i,v.g&&(U.g=new Map(v.g),U.h=v.h),U}function Na(v,U){return U=String(U),v.j&&(U=U.toLowerCase()),U}function tl(v,U){U&&!v.j&&(Br(v),v.i=null,v.g.forEach(function(H,J){const xe=J.toLowerCase();J!=xe&&(Q0(this,J),el(this,xe,H))},v)),v.j=U}function Ui(v,U){const H=new Zr;if(o.Image){const J=new Image;J.onload=d(gi,H,"TestLoadImage: loaded",!0,U,J),J.onerror=d(gi,H,"TestLoadImage: error",!1,U,J),J.onabort=d(gi,H,"TestLoadImage: abort",!1,U,J),J.ontimeout=d(gi,H,"TestLoadImage: timeout",!1,U,J),o.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=v}else U(!1)}function Oc(v,U){const H=new Zr,J=new AbortController,xe=setTimeout(()=>{J.abort(),gi(H,"TestPingServer: timeout",!1,U)},1e4);fetch(v,{signal:J.signal}).then(Ce=>{clearTimeout(xe),Ce.ok?gi(H,"TestPingServer: ok",!0,U):gi(H,"TestPingServer: server error",!1,U)}).catch(()=>{clearTimeout(xe),gi(H,"TestPingServer: error",!1,U)})}function gi(v,U,H,J,xe){try{xe&&(xe.onload=null,xe.onerror=null,xe.onabort=null,xe.ontimeout=null),J(H)}catch{}}function Da(){this.g=new ht}function cs(v){this.i=v.Sb||null,this.h=v.ab||!1}g(cs,Ut),cs.prototype.g=function(){return new Ko(this.i,this.h)};function Ko(v,U){Ge.call(this),this.H=v,this.o=U,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Ko,Ge),t=Ko.prototype,t.open=function(v,U){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=U,this.readyState=1,Vi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const U={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(U.body=v),(this.H||o).fetch(new Request(this.D,U)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ma(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;nl(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function nl(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var U=v.value?v.value:new Uint8Array(0);(U=this.B.decode(U,{stream:!v.done}))&&(this.response=this.responseText+=U)}v.done?Ma(this):Vi(this),this.readyState==3&&nl(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,Ma(this))},t.Na=function(v){this.g&&(this.response=v,Ma(this))},t.ga=function(){this.g&&Ma(this)};function Ma(v){v.readyState=4,v.l=null,v.j=null,v.B=null,Vi(v)}t.setRequestHeader=function(v,U){this.A.append(v,U)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],U=this.h.entries();for(var H=U.next();!H.done;)H=H.value,v.push(H[0]+": "+H[1]),H=U.next();return v.join(`\r
`)};function Vi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Ko.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function xi(v){let U="";return Z(v,function(H,J){U+=J,U+=":",U+=H,U+=`\r
`}),U}function Yo(v,U,H){e:{for(J in H){var J=!1;break e}J=!0}J||(H=xi(H),typeof v=="string"?H!=null&&Li(H):Qt(v,U,H))}function sn(v){Ge.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(sn,Ge);var fs=/^https?$/i,Fc=["POST","PUT"];t=sn.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,U,H,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);U=U?U.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jo.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(U,String(v),!0),this.B=!1}catch(Ce){Xo(this,Ce);return}if(v=H||"",H=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var xe in J)H.set(xe,J[xe]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const Ce of J.keys())H.set(Ce,J.get(Ce));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(H.keys()).find(Ce=>Ce.toLowerCase()=="content-type"),xe=o.FormData&&v instanceof o.FormData,!(Array.prototype.indexOf.call(Fc,U,void 0)>=0)||J||xe||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ce,je]of H)this.g.setRequestHeader(Ce,je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(Ce){Xo(this,Ce)}};function Xo(v,U){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=U,v.o=5,Uc(v),Gs(v)}function Uc(v){v.A||(v.A=!0,We(v,"complete"),We(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,We(this,"complete"),We(this,"abort"),Gs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gs(this,!0)),sn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Jo(this):this.Xa())},t.Xa=function(){Jo(this)};function Jo(v){if(v.h&&typeof s<"u"){if(v.v&&Bi(v)==4)setTimeout(v.Ca.bind(v),0);else if(We(v,"readystatechange"),Bi(v)==4){v.h=!1;try{const Ce=v.ca();e:switch(Ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var U=!0;break e;default:U=!1}var H;if(!(H=U)){var J;if(J=Ce===0){let je=String(v.D).match(Ca)[1]||null;!je&&o.self&&o.self.location&&(je=o.self.location.protocol.slice(0,-1)),J=!fs.test(je?je.toLowerCase():"")}H=J}if(H)We(v,"complete"),We(v,"success");else{v.o=6;try{var xe=Bi(v)>2?v.g.statusText:""}catch{xe=""}v.l=xe+" ["+v.ca()+"]",Uc(v)}}finally{Gs(v)}}}}function Gs(v,U){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const H=v.g;v.g=null,U||We(v,"ready");try{H.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Bi(v){return v.g?v.g.readyState:0}t.ca=function(){try{return Bi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var U=this.g.responseText;return v&&U.indexOf(v)==0&&(U=U.substring(v.length)),Pn(U)}};function rr(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function js(v){const U={};v=(v.g&&Bi(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<v.length;J++){if(q(v[J]))continue;var H=j(v[J]);const xe=H[0];if(H=H[1],typeof H!="string")continue;H=H.trim();const Ce=U[xe]||[];U[xe]=Ce,Ce.push(H)}Ee(U,function(J){return J.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hs(v,U,H){return H&&H.internalChannelParams&&H.internalChannelParams[v]||U}function Pa(v){this.za=0,this.i=[],this.j=new Zr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hs("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hs("baseRetryDelayMs",5e3,v),this.Za=hs("retryDelaySeedMs",1e4,v),this.Ta=hs("forwardChannelMaxRetries",2,v),this.va=hs("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new Xt(v&&v.concurrentRequestLimit),this.Ba=new Da,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Pa.prototype,t.ka=8,t.I=1,t.connect=function(v,U,H,J){bn(0),this.W=v,this.H=U||{},H&&J!==void 0&&(this.H.OSID=H,this.H.OAID=J),this.F=this.X,this.J=ah(this,null,this.W),ds(this)};function Vc(v){if(rl(v),v.I==3){var U=v.V++,H=Ln(v.J);if(Qt(H,"SID",v.M),Qt(H,"RID",U),Qt(H,"TYPE","terminate"),Qo(v,H),U=new ne(v,v.j,U),U.M=2,U.A=$o(Ln(H)),H=!1,o.navigator&&o.navigator.sendBeacon)try{H=o.navigator.sendBeacon(U.A.toString(),"")}catch{}!H&&o.Image&&(new Image().src=U.A,H=!0),H||(U.g=oh(U.j,null),U.g.ea(U.A)),U.F=Date.now(),be(U)}sh(v)}function La(v){v.g&&(qc(v),v.g.cancel(),v.g=null)}function rl(v){La(v),v.v&&(o.clearTimeout(v.v),v.v=null),sl(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&o.clearTimeout(v.m),v.m=null)}function ds(v){if(!Jt(v.h)&&!v.m){v.m=!0;var U=v.Ea;D||N(),O||(D(),O=!0),k.add(U,v),v.D=0}}function il(v,U){return cn(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=U.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=pi(c(v.Ea,v,U),ih(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const xe=new ne(this,this.j,v);let Ce=this.o;if(this.U&&(Ce?(Ce=G(Ce),Y(Ce,this.U)):Ce=this.U),this.u!==null||this.R||(xe.J=Ce,Ce=null),this.S)e:{for(var U=0,H=0;H<this.i.length;H++){t:{var J=this.i[H];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(U+=J,U>4096){U=H;break e}if(U===4096||H===this.i.length-1){U=H+1;break e}}U=1e3}else U=1e3;U=eh(this,xe,U),H=Ln(this.J),Qt(H,"RID",v),Qt(H,"CVER",22),this.G&&Qt(H,"X-HTTP-Session-Id",this.G),Qo(this,H),Ce&&(this.R?U="headers="+Li(xi(Ce))+"&"+U:this.u&&Yo(H,this.u,Ce)),Oi(this.h,xe),this.Ra&&Qt(H,"TYPE","init"),this.S?(Qt(H,"$req",U),Qt(H,"SID","null"),xe.U=!0,ie(xe,H,null)):ie(xe,H,U),this.I=2}}else this.I==3&&(v?Bc(this,v):this.i.length==0||Jt(this.h)||Bc(this))};function Bc(v,U){var H;U?H=U.l:H=v.V++;const J=Ln(v.J);Qt(J,"SID",v.M),Qt(J,"RID",H),Qt(J,"AID",v.K),Qo(v,J),v.u&&v.o&&Yo(J,v.u,v.o),H=new ne(v,v.j,H,v.D+1),v.u===null&&(H.J=v.o),U&&(v.i=U.G.concat(v.i)),U=eh(v,H,1e3),H.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),Oi(v.h,H),ie(H,J,U)}function Qo(v,U){v.H&&Z(v.H,function(H,J){Qt(U,J,H)}),v.l&&Z({},function(H,J){Qt(U,J,H)})}function eh(v,U,H){H=Math.min(v.i.length,H);const J=v.l?c(v.l.Ka,v.l,v):null;e:{var xe=v.i;let yt=-1;for(;;){const kn=["count="+H];yt==-1?H>0?(yt=xe[0].g,kn.push("ofs="+yt)):yt=0:kn.push("ofs="+yt);let Gt=!0;for(let yn=0;yn<H;yn++){var Ce=xe[yn].g;const yi=xe[yn].map;if(Ce-=yt,Ce<0)yt=Math.max(0,xe[yn].g-100),Gt=!1;else try{Ce="req"+Ce+"_"||"";try{var je=yi instanceof Map?yi:Object.entries(yi);for(const[ms,qi]of je){let Hi=qi;l(qi)&&(Hi=wt(qi)),kn.push(Ce+ms+"="+encodeURIComponent(Hi))}}catch(ms){throw kn.push(Ce+"type="+encodeURIComponent("_badmap")),ms}}catch{J&&J(yi)}}if(Gt){je=kn.join("&");break e}}je=void 0}return v=v.i.splice(0,H),U.G=v,je}function th(v){if(!v.g&&!v.v){v.Y=1;var U=v.Da;D||N(),O||(D(),O=!0),k.add(U,v),v.A=0}}function Zo(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=pi(c(v.Da,v),ih(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,nh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=pi(c(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bn(10),La(this),nh(this))};function qc(v){v.B!=null&&(o.clearTimeout(v.B),v.B=null)}function nh(v){v.g=new ne(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var U=Ln(v.na);Qt(U,"RID","rpc"),Qt(U,"SID",v.M),Qt(U,"AID",v.K),Qt(U,"CI",v.F?"0":"1"),!v.F&&v.ia&&Qt(U,"TO",v.ia),Qt(U,"TYPE","xmlhttp"),Qo(v,U),v.u&&v.o&&Yo(U,v.u,v.o),v.O&&(v.g.H=v.O);var H=v.g;v=v.ba,H.M=1,H.A=$o(Ln(U)),H.u=null,H.R=!0,ve(H,v)}t.Va=function(){this.C!=null&&(this.C=null,La(this),Zo(this),bn(19))};function sl(v){v.C!=null&&(o.clearTimeout(v.C),v.C=null)}function rh(v,U){var H=null;if(v.g==U){sl(v),qc(v),v.g=null;var J=2}else if(pr(v.h,U))H=U.G,Fi(v.h,U),J=1;else return;if(v.I!=0){if(U.o)if(J==1){H=U.u?U.u.length:0,U=Date.now()-U.F;var xe=v.D;J=Us(),We(J,new Rr(J,H)),ds(v)}else th(v);else if(xe=U.m,xe==3||xe==0&&U.X>0||!(J==1&&il(v,U)||J==2&&Zo(v)))switch(H&&H.length>0&&(U=v.h,U.i=U.i.concat(H)),xe){case 1:ps(v,5);break;case 4:ps(v,10);break;case 3:ps(v,6);break;default:ps(v,2)}}}function ih(v,U){let H=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(H*=2),H*U}function ps(v,U){if(v.j.info("Error code "+U),U==2){var H=c(v.bb,v),J=v.Ua;const xe=!J;J=new ti(J||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Qn(J,"https"),$o(J),xe?Ui(J.toString(),H):Oc(J.toString(),H)}else bn(2);v.I=0,v.l&&v.l.pa(U),sh(v),rl(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),bn(2)):(this.j.info("Failed to ping google.com"),bn(1))};function sh(v){if(v.I=0,v.ja=[],v.l){const U=ei(v.h);(U.length!=0||v.i.length!=0)&&(_(v.ja,U),_(v.ja,v.i),v.h.i.length=0,x(v.i),v.i.length=0),v.l.oa()}}function ah(v,U,H){var J=H instanceof ti?Ln(H):new ti(H);if(J.g!="")U&&(J.g=U+"."+J.g),Ia(J,J.u);else{var xe=o.location;J=xe.protocol,U=U?U+"."+xe.hostname:xe.hostname,xe=+xe.port;const Ce=new ti(null);J&&Qn(Ce,J),U&&(Ce.g=U),xe&&Ia(Ce,xe),H&&(Ce.h=H),J=Ce}return H=v.G,U=v.wa,H&&U&&Qt(J,H,U),Qt(J,"VER",v.ka),Qo(v,J),J}function oh(v,U,H){if(U&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return U=v.Aa&&!v.ma?new sn(new cs({ab:H})):new sn(v.ma),U.Fa(v.L),U}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function uh(){}t=uh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Oa(){}Oa.prototype.g=function(v,U){return new Nr(v,U)};function Nr(v,U){Ge.call(this),this.g=new Pa(U),this.l=v,this.h=U&&U.messageUrlParams||null,v=U&&U.messageHeaders||null,U&&U.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=U&&U.initMessageHeaders||null,U&&U.messageContentType&&(v?v["X-WebChannel-Content-Type"]=U.messageContentType:v={"X-WebChannel-Content-Type":U.messageContentType}),U&&U.sa&&(v?v["X-WebChannel-Client-Profile"]=U.sa:v={"X-WebChannel-Client-Profile":U.sa}),this.g.U=v,(v=U&&U.Qb)&&!q(v)&&(this.g.u=v),this.A=U&&U.supportsCrossDomainXhr||!1,this.v=U&&U.sendRawJson||!1,(U=U&&U.httpSessionIdParam)&&!q(U)&&(this.g.G=U,v=this.h,v!==null&&U in v&&(v=this.h,U in v&&delete v[U])),this.j=new $s(this)}g(Nr,Ge),Nr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nr.prototype.close=function(){Vc(this.g)},Nr.prototype.o=function(v){var U=this.g;if(typeof v=="string"){var H={};H.__data__=v,v=H}else this.v&&(H={},H.__data__=wt(v),v=H);U.i.push(new Ze(U.Ya++,v)),U.I==3&&ds(U)},Nr.prototype.N=function(){this.g.l=null,delete this.j,Vc(this.g),delete this.g,Nr.Z.N.call(this)};function lh(v){rn.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var U=v.__sm__;if(U){e:{for(const H in U){v=H;break e}v=void 0}(this.i=v)&&(v=this.i,U=U!==null&&v in U?U[v]:void 0),this.data=U}else this.data=v}g(lh,rn);function ch(){kr.call(this),this.status=1}g(ch,kr);function $s(v){this.g=v}g($s,uh),$s.prototype.ra=function(){We(this.g,"a")},$s.prototype.qa=function(v){We(this.g,new lh(v))},$s.prototype.pa=function(v){We(this.g,new ch)},$s.prototype.oa=function(){We(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,Nr.prototype.send=Nr.prototype.o,Nr.prototype.open=Nr.prototype.m,Nr.prototype.close=Nr.prototype.close,w4=function(){return new Oa},b4=function(){return Us()},E4=Tn,$x={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qs.NO_ERROR=0,qs.TIMEOUT=8,qs.HTTP_ERROR=6,zd=qs,Hs.COMPLETE="complete",T4=Hs,nn.EventType=St,St.OPEN="a",St.CLOSE="b",St.ERROR="c",St.MESSAGE="d",Ge.prototype.listen=Ge.prototype.J,Df=nn,sn.prototype.listenOnce=sn.prototype.K,sn.prototype.getLastError=sn.prototype.Ha,sn.prototype.getLastErrorCode=sn.prototype.ya,sn.prototype.getStatus=sn.prototype.ca,sn.prototype.getResponseJson=sn.prototype.La,sn.prototype.getResponseText=sn.prototype.la,sn.prototype.send=sn.prototype.ea,sn.prototype.setWithCredentials=sn.prototype.Fa,_4=sn}).apply(typeof md<"u"?md:typeof self<"u"?self:typeof window<"u"?window:{});const Ub="@firebase/firestore",Vb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vr.UNAUTHENTICATED=new vr(null),vr.GOOGLE_CREDENTIALS=new vr("google-credentials-uid"),vr.FIRST_PARTY=new vr("first-party-uid"),vr.MOCK_USER=new vr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=new Vy("@firebase/firestore");function Ul(){return ku.logLevel}function Je(t,...e){if(ku.logLevel<=Rt.DEBUG){const n=e.map(Qy);ku.debug(`Firestore (${xc}): ${t}`,...n)}}function _a(t,...e){if(ku.logLevel<=Rt.ERROR){const n=e.map(Qy);ku.error(`Firestore (${xc}): ${t}`,...n)}}function sc(t,...e){if(ku.logLevel<=Rt.WARN){const n=e.map(Qy);ku.warn(`Firestore (${xc}): ${t}`,...n)}}function Qy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,S4(t,r,n)}function S4(t,e,n){let r=`FIRESTORE (${xc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw _a(r),new Error(r)}function Kt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||S4(e,i,r)}function xt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xe extends Ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(vr.UNAUTHENTICATED)))}shutdown(){}}class kP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class RP{constructor(e){this.t=e,this.currentUser=vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Kt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new Eo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Eo,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},l=f=>{Je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((f=>l(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?l(f):(Je("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Eo)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Kt(typeof r.accessToken=="string",31837,{l:r}),new A4(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kt(e===null||typeof e=="string",2055,{h:e}),new vr(e)}}class NP{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=vr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DP{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new NP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(vr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Bb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Kt(this.o===void 0,3512);const r=s=>{s.error!=null&&Je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Je("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Bb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Bb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=PP(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Nt(t,e){return t<e?-1:t>e?1:0}function Wx(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return O1(i)===O1(s)?Nt(i,s):O1(i)?1:-1}return Nt(t.length,e.length)}const LP=55296,OP=57343;function O1(t){const e=t.charCodeAt(0);return e>=LP&&e<=OP}function ac(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="__name__";class ws{constructor(e,n,r){n===void 0?n=0:n>e.length&&ct(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ct(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ws.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ws?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ws.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Nt(e.length,n.length)}static compareSegments(e,n){const r=ws.isNumericId(e),i=ws.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ws.extractNumericId(e).compare(ws.extractNumericId(n)):Wx(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return To.fromString(e.substring(4,e.length-2))}}class hn extends ws{construct(e,n,r){return new hn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Xe(Le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new hn(n)}static emptyPath(){return new hn([])}}const FP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cr extends ws{construct(e,n,r){return new cr(e,n,r)}static isValidIdentifier(e){return FP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qb}static keyField(){return new cr([qb])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Xe(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Xe(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Xe(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new Xe(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cr(n)}static emptyPath(){return new cr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.path=e}static fromPath(e){return new it(hn.fromString(e))}static fromName(e){return new it(hn.fromString(e).popFirst(5))}static empty(){return new it(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&hn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return hn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new it(new hn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t,e,n){if(!n)throw new Xe(Le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UP(t,e,n,r){if(e===!0&&r===!0)throw new Xe(Le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Hb(t){if(!it.isDocumentKey(t))throw new Xe(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zb(t){if(it.isDocumentKey(t))throw new Xe(Le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function I4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $p(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ct(12329,{type:typeof t})}function Co(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Xe(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$p(t);throw new Xe(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t,e){const n={typeString:t};return e&&(n.value=e),n}function N0(t,e){if(!I4(t))throw new Xe(Le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Xe(Le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=-62135596800,jb=1e6;class xn{static now(){return xn.fromMillis(Date.now())}static fromDate(e){return xn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*jb);return new xn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Xe(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Xe(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Gb)throw new Xe(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Xe(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jb}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(N0(e,xn._jsonSchema))return new xn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xn._jsonSchemaVersion="firestore/timestamp/1.0",xn._jsonSchema={type:jn("string",xn._jsonSchemaVersion),seconds:jn("number"),nanoseconds:jn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new xn(0,0))}static max(){return new pt(new xn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=-1;function VP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pt.fromTimestamp(r===1e9?new xn(n+1,0):new xn(n,r));return new Io(i,it.empty(),e)}function BP(t){return new Io(t.readTime,t.key,o0)}class Io{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Io(pt.min(),it.empty(),o0)}static max(){return new Io(pt.max(),it.empty(),o0)}}function qP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=it.comparator(t.documentKey,e.documentKey),n!==0?n:Nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(t){if(t.code!==Le.FAILED_PRECONDITION||t.message!==HP)throw t;Je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ue(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ue?n:Ue.resolve(n)}catch(n){return Ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ue.reject(n)}static resolve(e){return new Ue(((n,r)=>{n(e)}))}static reject(e){return new Ue(((n,r)=>{r(e)}))}static waitFor(e){return new Ue(((n,r)=>{let i=0,s=0,o=!1;e.forEach((l=>{++i,l.next((()=>{++s,o&&s===i&&n()}),(f=>r(f)))})),o=!0,s===i&&n()}))}static or(e){let n=Ue.resolve(!1);for(const r of e)n=n.next((i=>i?Ue.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Ue(((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let f=0;f<s;f++){const c=f;n(e[c]).next((d=>{o[c]=d,++l,l===s&&r(o)}),(d=>i(d)))}}))}static doWhile(e,n){return new Ue(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function GP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=-1;function Kp(t){return t==null}function op(t){return t===0&&1/t==-1/0}function jP(t){return typeof t=="number"&&Number.isInteger(t)&&!op(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4="";function $P(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$b(e)),e=WP(t.get(n),e);return $b(e)}function WP(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case k4:n+="";break;default:n+=s}}return n}function $b(t){return t+k4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function R4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.comparator=e,this.root=n||ur.EMPTY}insert(e,n){return new En(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ur.BLACK,null,null))}remove(e){return new En(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ur.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gd(this.root,e,this.comparator,!1)}getReverseIterator(){return new gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gd(this.root,e,this.comparator,!0)}}class gd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ur{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ur.RED,this.left=i??ur.EMPTY,this.right=s??ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ur(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ur.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ct(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ct(27949);return e+(this.isRed()?0:1)}}ur.EMPTY=null,ur.RED=!0,ur.BLACK=!1;ur.EMPTY=new class{constructor(){this.size=0}get key(){throw ct(57766)}get value(){throw ct(16141)}get color(){throw ct(16727)}get left(){throw ct(29726)}get right(){throw ct(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ur(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.comparator=e,this.data=new En(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kb(this.data.getIterator())}getIteratorFrom(e){return new Kb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Xn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xn(this.comparator);return n.data=e,n}}class Kb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.fields=e,e.sort(cr.comparator)}static empty(){return new hi([])}unionWith(e){let n=new Xn(cr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ac(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new N4("Invalid base64 string: "+s):s}})(e);return new dr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new dr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dr.EMPTY_BYTE_STRING=new dr("");const KP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ko(t){if(Kt(!!t,39018),typeof t=="string"){let e=0;const n=KP.exec(t);if(Kt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mn(t.seconds),nanos:Mn(t.nanos)}}function Mn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ro(t){return typeof t=="string"?dr.fromBase64String(t):dr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="server_timestamp",M4="__type__",P4="__previous_value__",L4="__local_write_time__";function tv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[M4])==null?void 0:r.stringValue)===D4}function Yp(t){const e=t.mapValue.fields[P4];return tv(e)?Yp(e):e}function u0(t){const e=ko(t.mapValue.fields[L4].timestampValue);return new xn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,n,r,i,s,o,l,f,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=f,this.useFetchStreams=c,this.isUsingEmulator=d}}const up="(default)";class l0{constructor(e,n){this.projectId=e,this.database=n||up}static empty(){return new l0("","")}get isDefaultDatabase(){return this.database===up}isEqual(e){return e instanceof l0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="__type__",XP="__max__",xd={mapValue:{}},F4="__vector__",lp="value";function No(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tv(t)?4:QP(t)?9007199254740991:JP(t)?10:11:ct(28295,{value:t})}function Ns(t,e){if(t===e)return!0;const n=No(t);if(n!==No(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return u0(t).isEqual(u0(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ko(i.timestampValue),l=ko(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Ro(i.bytesValue).isEqual(Ro(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Mn(i.geoPointValue.latitude)===Mn(s.geoPointValue.latitude)&&Mn(i.geoPointValue.longitude)===Mn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Mn(i.integerValue)===Mn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Mn(i.doubleValue),l=Mn(s.doubleValue);return o===l?op(o)===op(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return ac(t.arrayValue.values||[],e.arrayValue.values||[],Ns);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Wb(o)!==Wb(l))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(l[f]===void 0||!Ns(o[f],l[f])))return!1;return!0})(t,e);default:return ct(52216,{left:t})}}function c0(t,e){return(t.values||[]).find((n=>Ns(n,e)))!==void 0}function oc(t,e){if(t===e)return 0;const n=No(t),r=No(e);if(n!==r)return Nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(t.booleanValue,e.booleanValue);case 2:return(function(s,o){const l=Mn(s.integerValue||s.doubleValue),f=Mn(o.integerValue||o.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1})(t,e);case 3:return Yb(t.timestampValue,e.timestampValue);case 4:return Yb(u0(t),u0(e));case 5:return Wx(t.stringValue,e.stringValue);case 6:return(function(s,o){const l=Ro(s),f=Ro(o);return l.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,o){const l=s.split("/"),f=o.split("/");for(let c=0;c<l.length&&c<f.length;c++){const d=Nt(l[c],f[c]);if(d!==0)return d}return Nt(l.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,o){const l=Nt(Mn(s.latitude),Mn(o.latitude));return l!==0?l:Nt(Mn(s.longitude),Mn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Xb(t.arrayValue,e.arrayValue);case 10:return(function(s,o){var p,x,_,w;const l=s.fields||{},f=o.fields||{},c=(p=l[lp])==null?void 0:p.arrayValue,d=(x=f[lp])==null?void 0:x.arrayValue,g=Nt(((_=c==null?void 0:c.values)==null?void 0:_.length)||0,((w=d==null?void 0:d.values)==null?void 0:w.length)||0);return g!==0?g:Xb(c,d)})(t.mapValue,e.mapValue);case 11:return(function(s,o){if(s===xd.mapValue&&o===xd.mapValue)return 0;if(s===xd.mapValue)return 1;if(o===xd.mapValue)return-1;const l=s.fields||{},f=Object.keys(l),c=o.fields||{},d=Object.keys(c);f.sort(),d.sort();for(let g=0;g<f.length&&g<d.length;++g){const p=Wx(f[g],d[g]);if(p!==0)return p;const x=oc(l[f[g]],c[d[g]]);if(x!==0)return x}return Nt(f.length,d.length)})(t.mapValue,e.mapValue);default:throw ct(23264,{he:n})}}function Yb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Nt(t,e);const n=ko(t),r=ko(e),i=Nt(n.seconds,r.seconds);return i!==0?i:Nt(n.nanos,r.nanos)}function Xb(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=oc(n[i],r[i]);if(s)return s}return Nt(n.length,r.length)}function uc(t){return Kx(t)}function Kx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ko(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ro(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return it.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Kx(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Kx(n.fields[o])}`;return i+"}"})(t.mapValue):ct(61005,{value:t})}function Gd(t){switch(No(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yp(t);return e?16+Gd(e):16;case 5:return 2*t.stringValue.length;case 6:return Ro(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Gd(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Vo(r.fields,((s,o)=>{i+=s.length+Gd(o)})),i})(t.mapValue);default:throw ct(13486,{value:t})}}function Jb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Yx(t){return!!t&&"integerValue"in t}function nv(t){return!!t&&"arrayValue"in t}function Qb(t){return!!t&&"nullValue"in t}function Zb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jd(t){return!!t&&"mapValue"in t}function JP(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[O4])==null?void 0:r.stringValue)===F4}function Hf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Vo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Hf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hf(t.arrayValue.values[n]);return e}return{...t}}function QP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===XP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.value=e}static empty(){return new Yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hf(n)}setAll(e){let n=cr.emptyPath(),r={},i=[];e.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Hf(o):i.push(l.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());jd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vo(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Yr(Hf(this.value))}}function U4(t){const e=[];return Vo(t.fields,((n,r)=>{const i=new cr([n]);if(jd(r)){const s=U4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new hi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Tr(e,0,pt.min(),pt.min(),pt.min(),Yr.empty(),0)}static newFoundDocument(e,n,r,i){return new Tr(e,1,n,pt.min(),r,i,0)}static newNoDocument(e,n){return new Tr(e,2,n,pt.min(),pt.min(),Yr.empty(),0)}static newUnknownDocument(e,n){return new Tr(e,3,n,pt.min(),pt.min(),Yr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n){this.position=e,this.inclusive=n}}function ew(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=it.comparator(it.fromName(o.referenceValue),n.key):r=oc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function tw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ns(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{}class Gn extends V4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new t9(e,n,r):n==="array-contains"?new i9(e,r):n==="in"?new s9(e,r):n==="not-in"?new a9(e,r):n==="array-contains-any"?new o9(e,r):new Gn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new n9(e,r):new r9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oc(n,this.value)):n!==null&&No(this.value)===No(n)&&this.matchesComparison(oc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class os extends V4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new os(e,n)}matches(e){return B4(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function B4(t){return t.op==="and"}function q4(t){return e9(t)&&B4(t)}function e9(t){for(const e of t.filters)if(e instanceof os)return!1;return!0}function Xx(t){if(t instanceof Gn)return t.field.canonicalString()+t.op.toString()+uc(t.value);if(q4(t))return t.filters.map((e=>Xx(e))).join(",");{const e=t.filters.map((n=>Xx(n))).join(",");return`${t.op}(${e})`}}function H4(t,e){return t instanceof Gn?(function(r,i){return i instanceof Gn&&r.op===i.op&&r.field.isEqual(i.field)&&Ns(r.value,i.value)})(t,e):t instanceof os?(function(r,i){return i instanceof os&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,o,l)=>s&&H4(o,i.filters[l])),!0):!1})(t,e):void ct(19439)}function z4(t){return t instanceof Gn?(function(n){return`${n.field.canonicalString()} ${n.op} ${uc(n.value)}`})(t):t instanceof os?(function(n){return n.op.toString()+" {"+n.getFilters().map(z4).join(" ,")+"}"})(t):"Filter"}class t9 extends Gn{constructor(e,n,r){super(e,n,r),this.key=it.fromName(r.referenceValue)}matches(e){const n=it.comparator(e.key,this.key);return this.matchesComparison(n)}}class n9 extends Gn{constructor(e,n){super(e,"in",n),this.keys=G4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class r9 extends Gn{constructor(e,n){super(e,"not-in",n),this.keys=G4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function G4(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>it.fromName(r.referenceValue)))}class i9 extends Gn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nv(n)&&c0(n.arrayValue,this.value)}}class s9 extends Gn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&c0(this.value.arrayValue,n)}}class a9 extends Gn{constructor(e,n){super(e,"not-in",n)}matches(e){if(c0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!c0(this.value.arrayValue,n)}}class o9 extends Gn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>c0(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function nw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new u9(t,e,n,r,i,s,o)}function rv(t){const e=xt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Xx(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Kp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>uc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>uc(r))).join(",")),e.Te=n}return e.Te}function iv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ZP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!H4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tw(t.startAt,e.startAt)&&tw(t.endAt,e.endAt)}function Jx(t){return it.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function l9(t,e,n,r,i,s,o,l){return new _c(t,e,n,r,i,s,o,l)}function j4(t){return new _c(t)}function rw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $4(t){return t.collectionGroup!==null}function zf(t){const e=xt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Xn(cr.comparator);return o.filters.forEach((f=>{f.getFlattenedFilters().forEach((c=>{c.isInequality()&&(l=l.add(c.field))}))})),l})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new f0(s,r))})),n.has(cr.keyField().canonicalString())||e.Ie.push(new f0(cr.keyField(),r))}return e.Ie}function Cs(t){const e=xt(t);return e.Ee||(e.Ee=c9(e,zf(t))),e.Ee}function c9(t,e){if(t.limitType==="F")return nw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new f0(i.field,s)}));const n=t.endAt?new cp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new cp(t.startAt.position,t.startAt.inclusive):null;return nw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Qx(t,e){const n=t.filters.concat([e]);return new _c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zx(t,e,n){return new _c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xp(t,e){return iv(Cs(t),Cs(e))&&t.limitType===e.limitType}function W4(t){return`${rv(Cs(t))}|lt:${t.limitType}`}function Vl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>z4(i))).join(", ")}]`),Kp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>uc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>uc(i))).join(",")),`Target(${r})`})(Cs(t))}; limitType=${t.limitType})`}function Jp(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):it.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of zf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,l,f){const c=ew(o,l,f);return o.inclusive?c<=0:c<0})(r.startAt,zf(r),i)||r.endAt&&!(function(o,l,f){const c=ew(o,l,f);return o.inclusive?c>=0:c>0})(r.endAt,zf(r),i))})(t,e)}function f9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function K4(t){return(e,n)=>{let r=!1;for(const i of zf(t)){const s=h9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function h9(t,e,n){const r=t.field.isKeyField()?it.comparator(e.key,n.key):(function(s,o,l){const f=o.data.field(s),c=l.data.field(s);return f!==null&&c!==null?oc(f,c):ct(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ct(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return R4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9=new En(it.comparator);function Ta(){return d9}const Y4=new En(it.comparator);function Mf(...t){let e=Y4;for(const n of t)e=e.insert(n.key,n);return e}function X4(t){let e=Y4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Eu(){return Gf()}function J4(){return Gf()}function Gf(){return new Uu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const p9=new En(it.comparator),m9=new Xn(it.comparator);function Dt(...t){let e=m9;for(const n of t)e=e.add(n);return e}const g9=new Xn(Nt);function x9(){return g9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:op(e)?"-0":e}}function Q4(t){return{integerValue:""+t}}function y9(t,e){return jP(e)?Q4(e):sv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this._=void 0}}function v9(t,e,n){return t instanceof h0?(function(i,s){const o={fields:{[M4]:{stringValue:D4},[L4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&tv(s)&&(s=Yp(s)),s&&(o.fields[P4]=s),{mapValue:o}})(n,e):t instanceof d0?eI(t,e):t instanceof p0?tI(t,e):(function(i,s){const o=Z4(i,s),l=iw(o)+iw(i.Ae);return Yx(o)&&Yx(i.Ae)?Q4(l):sv(i.serializer,l)})(t,e)}function _9(t,e,n){return t instanceof d0?eI(t,e):t instanceof p0?tI(t,e):n}function Z4(t,e){return t instanceof fp?(function(r){return Yx(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class h0 extends Qp{}class d0 extends Qp{constructor(e){super(),this.elements=e}}function eI(t,e){const n=nI(e);for(const r of t.elements)n.some((i=>Ns(i,r)))||n.push(r);return{arrayValue:{values:n}}}class p0 extends Qp{constructor(e){super(),this.elements=e}}function tI(t,e){let n=nI(e);for(const r of t.elements)n=n.filter((i=>!Ns(i,r)));return{arrayValue:{values:n}}}class fp extends Qp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function iw(t){return Mn(t.integerValue||t.doubleValue)}function nI(t){return nv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,n){this.field=e,this.transform=n}}function E9(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof d0&&i instanceof d0||r instanceof p0&&i instanceof p0?ac(r.elements,i.elements,Ns):r instanceof fp&&i instanceof fp?Ns(r.Ae,i.Ae):r instanceof h0&&i instanceof h0})(t.transform,e.transform)}class b9{constructor(e,n){this.version=e,this.transformResults=n}}class Jr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jr}static exists(e){return new Jr(void 0,e)}static updateTime(e){return new Jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $d(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zp{}function rI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new em(t.key,Jr.none()):new D0(t.key,t.data,Jr.none());{const n=t.data,r=Yr.empty();let i=new Xn(cr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Bo(t.key,r,new hi(i.toArray()),Jr.none())}}function w9(t,e,n){t instanceof D0?(function(i,s,o){const l=i.value.clone(),f=aw(i.fieldTransforms,s,o.transformResults);l.setAll(f),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Bo?(function(i,s,o){if(!$d(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=aw(i.fieldTransforms,s,o.transformResults),f=s.data;f.setAll(iI(i)),f.setAll(l),s.convertToFoundDocument(o.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function jf(t,e,n,r){return t instanceof D0?(function(s,o,l,f){if(!$d(s.precondition,o))return l;const c=s.value.clone(),d=ow(s.fieldTransforms,f,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof Bo?(function(s,o,l,f){if(!$d(s.precondition,o))return l;const c=ow(s.fieldTransforms,f,o),d=o.data;return d.setAll(iI(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,o,l){return $d(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,n)}function S9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Z4(r.transform,i||null);s!=null&&(n===null&&(n=Yr.empty()),n.set(r.field,s))}return n||null}function sw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ac(r,i,((s,o)=>E9(s,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class D0 extends Zp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bo extends Zp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function iI(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function aw(t,e,n){const r=new Map;Kt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,_9(o,l,n[i]))}return r}function ow(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,v9(s,o,e))}return r}class em extends Zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class A9 extends Zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&w9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=jf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=jf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=J4();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const f=rI(o,l);f!==null&&r.set(i.key,f),o.isValidDocument()||o.convertToNoDocument(pt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Dt())}isEqual(e){return this.batchId===e.batchId&&ac(this.mutations,e.mutations,((n,r)=>sw(n,r)))&&ac(this.baseMutations,e.baseMutations,((n,r)=>sw(n,r)))}}class av{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Kt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return p9})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new av(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qn,Lt;function R9(t){switch(t){case Le.OK:return ct(64938);case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0;default:return ct(15467,{code:t})}}function sI(t){if(t===void 0)return _a("GRPC error has no .code"),Le.UNKNOWN;switch(t){case qn.OK:return Le.OK;case qn.CANCELLED:return Le.CANCELLED;case qn.UNKNOWN:return Le.UNKNOWN;case qn.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case qn.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case qn.INTERNAL:return Le.INTERNAL;case qn.UNAVAILABLE:return Le.UNAVAILABLE;case qn.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case qn.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case qn.NOT_FOUND:return Le.NOT_FOUND;case qn.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case qn.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case qn.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case qn.ABORTED:return Le.ABORTED;case qn.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case qn.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case qn.DATA_LOSS:return Le.DATA_LOSS;default:return ct(39323,{code:t})}}(Lt=qn||(qn={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=new To([4294967295,4294967295],0);function uw(t){const e=N9().encode(t),n=new v4;return n.update(e),new Uint8Array(n.digest())}function lw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new To([n,r],0),new To([i,s],0)]}class ov{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pf(`Invalid padding: ${n}`);if(r<0)throw new Pf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=To.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(To.fromNumber(r)));return i.compare(D9)===1&&(i=new To([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=uw(e),[r,i]=lw(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ov(s,i,n);return r.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const n=uw(e),[r,i]=lw(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Pf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,M0.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new tm(pt.min(),i,new En(Nt),Ta(),Dt())}}class M0{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new M0(r,n,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class aI{constructor(e,n){this.targetId=e,this.Ce=n}}class oI{constructor(e,n,r=dr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class cw{constructor(){this.ve=0,this.Fe=fw(),this.Me=dr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Dt(),n=Dt(),r=Dt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ct(38017,{changeType:s})}})),new M0(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=fw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class M9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ta(),this.Je=yd(),this.He=yd(),this.Ye=new En(Nt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ct(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Jx(s))if(r===0){const o=new it(s.path);this.et(n,o,Tr.newNoDocument(o,pt.min()))}else Kt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),f=l?this.ct(l,e,o):1;if(f!==0){this.it(n);const c=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Ro(r).toUint8Array()}catch(f){if(f instanceof N4)return sc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{l=new ov(o,i,s)}catch(f){return sc(f instanceof Pf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,o)=>{const l=this.ot(o);if(l){if(s.current&&Jx(l.target)){const f=new it(l.target.path);this.It(f).has(o)||this.Et(o,f)||this.et(o,f,Tr.newNoDocument(f,e))}s.Be&&(n.set(o,s.ke()),s.qe())}}));let r=Dt();this.He.forEach(((s,o)=>{let l=!0;o.forEachWhile((f=>{const c=this.ot(f);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new tm(e,n,this.Ye,this.je,r);return this.je=Ta(),this.Je=yd(),this.He=yd(),this.Ye=new En(Nt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new cw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Xn(Nt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Xn(Nt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Je("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function yd(){return new En(it.comparator)}function fw(){return new En(it.comparator)}const P9={asc:"ASCENDING",desc:"DESCENDING"},L9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},O9={and:"AND",or:"OR"};class F9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ey(t,e){return t.useProto3Json||Kp(e)?e:{value:e}}function hp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function U9(t,e){return hp(t,e.toTimestamp())}function Is(t){return Kt(!!t,49232),pt.fromTimestamp((function(n){const r=ko(n);return new xn(r.seconds,r.nanos)})(t))}function uv(t,e){return ty(t,e).canonicalString()}function ty(t,e){const n=(function(i){return new hn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function lI(t){const e=hn.fromString(t);return Kt(pI(e),10190,{key:e.toString()}),e}function ny(t,e){return uv(t.databaseId,e.path)}function F1(t,e){const n=lI(e);if(n.get(1)!==t.databaseId.projectId)throw new Xe(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Xe(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new it(fI(n))}function cI(t,e){return uv(t.databaseId,e)}function V9(t){const e=lI(t);return e.length===4?hn.emptyPath():fI(e)}function ry(t){return new hn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fI(t){return Kt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function hw(t,e,n){return{name:ny(t,e),fields:n.value.mapValue.fields}}function B9(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ct(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(c,d){return c.useProto3Json?(Kt(d===void 0||typeof d=="string",58123),dr.fromBase64String(d||"")):(Kt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),dr.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(c){const d=c.code===void 0?Le.UNKNOWN:sI(c.code);return new Xe(d,c.message||"")})(o);n=new oI(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=F1(t,r.document.name),s=Is(r.document.updateTime),o=r.document.createTime?Is(r.document.createTime):pt.min(),l=new Yr({mapValue:{fields:r.document.fields}}),f=Tr.newFoundDocument(i,s,o,l),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Wd(c,d,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=F1(t,r.document),s=r.readTime?Is(r.readTime):pt.min(),o=Tr.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Wd([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=F1(t,r.document),s=r.removedTargetIds||[];n=new Wd([],s,i,null)}else{if(!("filter"in e))return ct(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new k9(i,s),l=r.targetId;n=new aI(l,o)}}return n}function q9(t,e){let n;if(e instanceof D0)n={update:hw(t,e.key,e.value)};else if(e instanceof em)n={delete:ny(t,e.key)};else if(e instanceof Bo)n={update:hw(t,e.key,e.data),updateMask:X9(e.fieldMask)};else{if(!(e instanceof A9))return ct(16599,{Vt:e.type});n={verify:ny(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,o){const l=o.transform;if(l instanceof h0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof d0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof p0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof fp)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw ct(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:U9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ct(27497)})(t,e.precondition)),n}function H9(t,e){return t&&t.length>0?(Kt(e!==void 0,14353),t.map((n=>(function(i,s){let o=i.updateTime?Is(i.updateTime):Is(s);return o.isEqual(pt.min())&&(o=Is(s)),new b9(o,i.transformResults||[])})(n,e)))):[]}function z9(t,e){return{documents:[cI(t,e.path)]}}function G9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cI(t,i);const s=(function(c){if(c.length!==0)return dI(os.create(c,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const o=(function(c){if(c.length!==0)return c.map((d=>(function(p){return{field:Bl(p.field),direction:W9(p.dir)}})(d)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=ey(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:i}}function j9(t){let e=V9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Kt(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=(function(g){const p=hI(g);return p instanceof os&&q4(p)?p.getFilters():[p]})(n.where));let o=[];n.orderBy&&(o=(function(g){return g.map((p=>(function(_){return new f0(ql(_.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(p)))})(n.orderBy));let l=null;n.limit&&(l=(function(g){let p;return p=typeof g=="object"?g.value:g,Kp(p)?null:p})(n.limit));let f=null;n.startAt&&(f=(function(g){const p=!!g.before,x=g.values||[];return new cp(x,p)})(n.startAt));let c=null;return n.endAt&&(c=(function(g){const p=!g.before,x=g.values||[];return new cp(x,p)})(n.endAt)),l9(e,i,o,s,l,"F",f,c)}function $9(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ql(n.unaryFilter.field);return Gn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ql(n.unaryFilter.field);return Gn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ql(n.unaryFilter.field);return Gn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ql(n.unaryFilter.field);return Gn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ct(61313);default:return ct(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Gn.create(ql(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ct(58110);default:return ct(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return os.create(n.compositeFilter.filters.map((r=>hI(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ct(1026)}})(n.compositeFilter.op))})(t):ct(30097,{filter:t})}function W9(t){return P9[t]}function K9(t){return L9[t]}function Y9(t){return O9[t]}function Bl(t){return{fieldPath:t.canonicalString()}}function ql(t){return cr.fromServerFormat(t.fieldPath)}function dI(t){return t instanceof Gn?(function(n){if(n.op==="=="){if(Zb(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NAN"}};if(Qb(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zb(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NOT_NAN"}};if(Qb(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bl(n.field),op:K9(n.op),value:n.value}}})(t):t instanceof os?(function(n){const r=n.getFilters().map((i=>dI(i)));return r.length===1?r[0]:{compositeFilter:{op:Y9(n.op),filters:r}}})(t):ct(54877,{filter:t})}function X9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function pI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r,i,s=pt.min(),o=pt.min(),l=dr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=f}withSequenceNumber(e){return new po(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e){this.yt=e}}function Q9(t){const e=j9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(){this.Cn=new eL}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ue.resolve()}getCollectionParents(e,n){return Ue.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ue.resolve()}deleteFieldIndex(e,n){return Ue.resolve()}deleteAllFieldIndexes(e){return Ue.resolve()}createTargetIndexes(e,n){return Ue.resolve()}getDocumentsMatchingTarget(e,n){return Ue.resolve(null)}getIndexType(e,n){return Ue.resolve(0)}getFieldIndexes(e,n){return Ue.resolve([])}getNextCollectionGroupToUpdate(e){return Ue.resolve(null)}getMinOffset(e,n){return Ue.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,n){return Ue.resolve(Io.min())}updateCollectionGroup(e,n,r){return Ue.resolve()}updateIndexEntries(e,n){return Ue.resolve()}}class eL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xn(hn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xn(hn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mI=41943040;class Kr{static withCacheSize(e){return new Kr(e,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr.DEFAULT_COLLECTION_PERCENTILE=10,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kr.DEFAULT=new Kr(mI,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kr.DISABLED=new Kr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new lc(0)}static cr(){return new lc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw="LruGarbageCollector",tL=1048576;function mw([t,e],[n,r]){const i=Nt(t,n);return i===0?Nt(e,r):i}class nL{constructor(e){this.Ir=e,this.buffer=new Xn(mw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();mw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Je(pw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vc(n)?Je(pw,"Ignoring IndexedDB error during garbage collection: ",n):await yc(n)}await this.Vr(3e5)}))}}class iL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ue.resolve(Wp.ce);const r=new nL(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Je("LruGarbageCollector","Garbage collection skipped; disabled"),Ue.resolve(dw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Je("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,l,f,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,l=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(c=Date.now(),Ul()<=Rt.DEBUG&&Je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(f-l)+`ms
	Removed ${g} documents in `+(c-f)+`ms
Total Duration: ${c-d}ms`),Ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function sL(t,e){return new iL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.changes=new Uu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ue.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&jf(r.mutation,i,hi.empty(),xn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Dt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Dt()){const i=Eu();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let o=Mf();return s.forEach(((l,f)=>{o=o.insert(l,f.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Eu();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Dt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(e,n,r,i){let s=Ta();const o=Gf(),l=(function(){return Gf()})();return n.forEach(((f,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Bo)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),jf(d.mutation,c,d.mutation.getFieldMask(),xn.now())):o.set(c.key,hi.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((c,d)=>o.set(c,d))),n.forEach(((c,d)=>l.set(c,new oL(d,o.get(c)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=Gf();let i=new En(((o,l)=>o-l)),s=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const l of o)l.keys().forEach((f=>{const c=n.get(f);if(c===null)return;let d=r.get(f)||hi.empty();d=l.applyToLocalView(c,d),r.set(f,d);const g=(i.get(l.batchId)||Dt()).add(f);i=i.insert(l.batchId,g)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const f=l.getNext(),c=f.key,d=f.value,g=J4();d.forEach((p=>{if(!s.has(p)){const x=rI(n.get(p),r.get(p));x!==null&&g.set(p,x),s=s.add(p)}})),o.push(this.documentOverlayCache.saveOverlays(e,c,g))}return Ue.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return it.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ue.resolve(Eu());let l=o0,f=s;return o.next((c=>Ue.forEach(c,((d,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(d)?Ue.resolve():this.remoteDocumentCache.getEntry(e,d).next((p=>{f=f.insert(d,p)}))))).next((()=>this.populateOverlays(e,c,s))).next((()=>this.computeViews(e,f,c,Dt()))).next((d=>({batchId:l,changes:X4(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new it(n)).next((r=>{let i=Mf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Mf();return this.indexManager.getCollectionParents(e,s).next((l=>Ue.forEach(l,(f=>{const c=(function(g,p){return new _c(p,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next((d=>{d.forEach(((g,p)=>{o=o.insert(g,p)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((o=>{s.forEach(((f,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Tr.newInvalidDocument(d)))}));let l=Mf();return o.forEach(((f,c)=>{const d=s.get(f);d!==void 0&&jf(d.mutation,c,hi.empty(),xn.now()),Jp(n,c)&&(l=l.insert(f,c))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ue.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Is(i.createTime)}})(n)),Ue.resolve()}getNamedQuery(e,n){return Ue.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:Q9(i.bundledQuery),readTime:Is(i.readTime)}})(n)),Ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(){this.overlays=new En(it.comparator),this.qr=new Map}getOverlay(e,n){return Ue.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Eu();return Ue.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),Ue.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Ue.resolve()}getOverlaysForCollection(e,n,r){const i=Eu(),s=n.length+1,o=new it(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const f=l.getNext().value,c=f.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Ue.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new En(((c,d)=>c-d));const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Eu(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=Eu(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((c,d)=>l.set(c,d))),!(l.size()>=i)););return Ue.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new I9(n,r));let s=this.qr.get(n);s===void 0&&(s=Dt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this.sessionToken=dr.EMPTY_BYTE_STRING}getSessionToken(e){return Ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.Qr=new Xn(er.$r),this.Ur=new Xn(er.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new er(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new er(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new it(new hn([])),r=new er(n,e),i=new er(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new it(new hn([])),r=new er(n,e),i=new er(n,e+1);let s=Dt();return this.Ur.forEachInRange([r,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const n=new er(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class er{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return it.comparator(e.key,n.key)||Nt(e.Yr,n.Yr)}static Kr(e,n){return Nt(e.Yr,n.Yr)||it.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xn(er.$r)}checkEmpty(e){return Ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new C9(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new er(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Ue.resolve(o)}lookupMutationBatch(e,n){return Ue.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Ue.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ue.resolve(this.mutationQueue.length===0?ev:this.tr-1)}getAllMutationBatches(e){return Ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new er(n,0),i=new er(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(o=>{const l=this.Xr(o.Yr);s.push(l)})),Ue.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xn(Nt);return n.forEach((i=>{const s=new er(i,0),o=new er(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(l=>{r=r.add(l.Yr)}))})),Ue.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;it.isDocumentKey(s)||(s=s.child(""));const o=new er(new it(s),0);let l=new Xn(Nt);return this.Zr.forEachWhile((f=>{const c=f.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(f.Yr)),!0)}),o),Ue.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ue.forEach(n.mutations,(i=>{const s=new er(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new er(n,0),i=this.Zr.firstAfterOrEqual(r);return Ue.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ue.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.ri=e,this.docs=(function(){return new En(it.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ue.resolve(r?r.document.mutableCopy():Tr.newInvalidDocument(n))}getEntries(e,n){let r=Ta();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tr.newInvalidDocument(i))})),Ue.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ta();const o=n.path,l=new it(o.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(l);for(;f.hasNext();){const{key:c,value:{document:d}}=f.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||qP(BP(d),r)<=0||(i.has(d.key)||Jp(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Ue.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ct(9500)}ii(e,n){return Ue.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new pL(this)}getSize(e){return Ue.resolve(this.size)}}class pL extends aL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Ue.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e){this.persistence=e,this.si=new Uu((n=>rv(n)),iv),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.oi=0,this._i=new lv,this.targetCount=0,this.ai=lc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Ue.resolve()}getLastRemoteSnapshotVersion(e){return Ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ue.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new lc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ue.resolve()}updateTargetData(e,n){return this.Pr(n),Ue.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ue.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),Ue.waitFor(s).next((()=>i))}getTargetCount(e){return Ue.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ue.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ue.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),Ue.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ue.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ue.resolve(r)}containsKey(e,n){return Ue.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n){this.ui={},this.overlays={},this.ci=new Wp(0),this.li=!1,this.li=!0,this.hi=new fL,this.referenceDelegate=e(this),this.Pi=new mL(this),this.indexManager=new Z9,this.remoteDocumentCache=(function(i){return new dL(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new J9(n),this.Ii=new lL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new hL(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Je("MemoryPersistence","Starting transaction:",e);const i=new gL(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return Ue.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class gL extends zP{constructor(e){super(),this.currentSequenceNumber=e}}class cv{constructor(e){this.persistence=e,this.Ri=new lv,this.Vi=null}static mi(e){return new cv(e)}get fi(){if(this.Vi)return this.Vi;throw ct(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ue.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ue.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ue.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ue.forEach(this.fi,(r=>{const i=it.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,pt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ue.or([()=>Ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class dp{constructor(e,n){this.persistence=e,this.pi=new Uu((r=>$P(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=sL(this,n)}static mi(e,n){return new dp(e,n)}Ei(){}di(e){return Ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ue.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Ue.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((l=>{l||(r++,s.removeEntry(o,pt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ue.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ue.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ue.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ue.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gd(e.data.value)),n}br(e,n,r){return Ue.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Ue.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Dt(),i=Dt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new fv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return K8()?8:GP(Ar())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new xL;return this.Ss(e,n,o).next((l=>{if(s.result=l,this.Vs)return this.bs(e,n,o,l.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ul()<=Rt.DEBUG&&Je("QueryEngine","SDK will not create cache indexes for query:",Vl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ue.resolve()):(Ul()<=Rt.DEBUG&&Je("QueryEngine","Query:",Vl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ul()<=Rt.DEBUG&&Je("QueryEngine","The SDK decides to create cache indexes for query:",Vl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cs(n))):Ue.resolve())}ys(e,n){if(rw(n))return Ue.resolve(null);let r=Cs(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Zx(n,null,"F"),r=Cs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const o=Dt(...s);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,r).next((f=>{const c=this.Ds(n,l);return this.Cs(n,c,o,f.readTime)?this.ys(e,Zx(n,null,"F")):this.vs(e,c,n,f)}))))})))))}ws(e,n,r,i){return rw(n)||i.isEqual(pt.min())?Ue.resolve(null):this.ps.getDocuments(e,r).next((s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?Ue.resolve(null):(Ul()<=Rt.DEBUG&&Je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vl(n)),this.vs(e,o,n,VP(i,o0)).next((l=>l)))}))}Ds(e,n){let r=new Xn(K4(e));return n.forEach(((i,s)=>{Jp(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Ul()<=Rt.DEBUG&&Je("QueryEngine","Using full collection scan to execute query:",Vl(n)),this.ps.getDocumentsMatchingQuery(e,n,Io.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="LocalStore",vL=3e8;class _L{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new En(Nt),this.xs=new Uu((s=>rv(s)),iv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function TL(t,e,n,r){return new _L(t,e,n,r)}async function xI(t,e){const n=xt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const o=[],l=[];let f=Dt();for(const c of i){o.push(c.batchId);for(const d of c.mutations)f=f.add(d.key)}for(const c of s){l.push(c.batchId);for(const d of c.mutations)f=f.add(d.key)}return n.localDocuments.getDocuments(r,f).next((c=>({Ls:c,removedBatchIds:o,addedBatchIds:l})))}))}))}function EL(t,e){const n=xt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,f,c,d){const g=c.batch,p=g.keys();let x=Ue.resolve();return p.forEach((_=>{x=x.next((()=>d.getEntry(f,_))).next((w=>{const C=c.docVersions.get(_);Kt(C!==null,48541),w.version.compareTo(C)<0&&(g.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))}))})),x.next((()=>l.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let f=Dt();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(f=f.add(l.batch.mutations[c].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function yI(t){const e=xt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function bL(t,e){const n=xt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((d,g)=>{const p=i.get(g);if(!p)return;l.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,d.addedDocuments,g))));let x=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?x=x.withResumeToken(dr.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):d.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(d.resumeToken,r)),i=i.insert(g,x),(function(w,C,I){return w.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=vL?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(p,x,d)&&l.push(n.Pi.updateTargetData(s,x))}));let f=Ta(),c=Dt();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))})),l.push(wL(s,o,e.documentUpdates).next((d=>{f=d.ks,c=d.qs}))),!r.isEqual(pt.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));l.push(d)}return Ue.waitFor(l).next((()=>o.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,c))).next((()=>f))})).then((s=>(n.Ms=i,s)))}function wL(t,e,n){let r=Dt(),i=Dt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let o=Ta();return n.forEach(((l,f)=>{const c=s.get(l);f.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),f.isNoDocument()&&f.version.isEqual(pt.min())?(e.removeEntry(l,f.readTime),o=o.insert(l,f)):!c.isValidDocument()||f.version.compareTo(c.version)>0||f.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(f),o=o.insert(l,f)):Je(hv,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",f.version)})),{ks:o,qs:i}}))}function SL(t,e){const n=xt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ev),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function AL(t,e){const n=xt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,Ue.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new po(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function iy(t,e,n){const r=xt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!vc(o))throw o;Je(hv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function gw(t,e,n){const r=xt(t);let i=pt.min(),s=Dt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(f,c,d){const g=xt(f),p=g.xs.get(d);return p!==void 0?Ue.resolve(g.Ms.get(p)):g.Pi.getTargetData(c,d)})(r,o,Cs(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:pt.min(),n?s:Dt()))).next((l=>(CL(r,f9(e),l),{documents:l,Qs:s})))))}function CL(t,e,n){let r=t.Os.get(e)||pt.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class xw{constructor(){this.activeTargetIds=x9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IL{constructor(){this.Mo=new xw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="ConnectivityMonitor";class vw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Je(yw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Je(yw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd=null;function sy(){return vd===null?vd=(function(){return 268435456+Math.round(2147483648*Math.random())})():vd++,"0x"+vd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="RestConnection",RL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===up?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=sy(),l=this.zo(e,n.toUriEncodedString());Je(U1,`Sending RPC '${e}' ${o}:`,l,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,s);const{host:c}=new URL(l),d=Fo(c);return this.Jo(e,l,f,r,d).then((g=>(Je(U1,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw sc(U1,`RPC '${e}' ${o} failed with error: `,g,"url: ",l,"request:",r),g}))}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=RL[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="WebChannelConnection";class ML extends NL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=sy();return new Promise(((l,f)=>{const c=new _4;c.setWithCredentials(!0),c.listenOnce(T4.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case zd.NO_ERROR:const g=c.getResponseJson();Je(xr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case zd.TIMEOUT:Je(xr,`RPC '${e}' ${o} timed out`),f(new Xe(Le.DEADLINE_EXCEEDED,"Request time out"));break;case zd.HTTP_ERROR:const p=c.getStatus();if(Je(xr,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let x=c.getResponseJson();Array.isArray(x)&&(x=x[0]);const _=x==null?void 0:x.error;if(_&&_.status&&_.message){const w=(function(I){const P=I.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(P)>=0?P:Le.UNKNOWN})(_.status);f(new Xe(w,_.message))}else f(new Xe(Le.UNKNOWN,"Server responded with status "+c.getStatus()))}else f(new Xe(Le.UNAVAILABLE,"Connection failed."));break;default:ct(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Je(xr,`RPC '${e}' ${o} completed.`)}}));const d=JSON.stringify(i);Je(xr,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)}))}T_(e,n,r){const i=sy(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=w4(),l=b4(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(f.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const d=s.join("");Je(xr,`Creating RPC '${e}' stream ${i}: ${d}`,f);const g=o.createWebChannel(d,f);this.I_(g);let p=!1,x=!1;const _=new DL({Yo:C=>{x?Je(xr,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(p||(Je(xr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),p=!0),Je(xr,`RPC '${e}' stream ${i} sending:`,C),g.send(C))},Zo:()=>g.close()}),w=(C,I,P)=>{C.listen(I,(A=>{try{P(A)}catch(L){setTimeout((()=>{throw L}),0)}}))};return w(g,Df.EventType.OPEN,(()=>{x||(Je(xr,`RPC '${e}' stream ${i} transport opened.`),_.o_())})),w(g,Df.EventType.CLOSE,(()=>{x||(x=!0,Je(xr,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(g))})),w(g,Df.EventType.ERROR,(C=>{x||(x=!0,sc(xr,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),_.a_(new Xe(Le.UNAVAILABLE,"The operation could not be completed")))})),w(g,Df.EventType.MESSAGE,(C=>{var I;if(!x){const P=C.data[0];Kt(!!P,16349);const A=P,L=(A==null?void 0:A.error)||((I=A[0])==null?void 0:I.error);if(L){Je(xr,`RPC '${e}' stream ${i} received error:`,L);const D=L.status;let O=(function(R){const V=qn[R];if(V!==void 0)return sI(V)})(D),k=L.message;O===void 0&&(O=Le.INTERNAL,k="Unknown error status: "+D+" with message "+L.message),x=!0,_.a_(new Xe(O,k)),g.close()}else Je(xr,`RPC '${e}' stream ${i} received:`,P),_.u_(P)}})),w(l,E4.STAT_EVENT,(C=>{C.stat===$x.PROXY?Je(xr,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===$x.NOPROXY&&Je(xr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function V1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t){return new F9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="PersistentStream";class _I{constructor(e,n,r,i,s,o,l,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Le.RESOURCE_EXHAUSTED?(_a(n.toString()),_a("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Xe(Le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Je(_w,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Je(_w,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PL extends _I{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=B9(this.serializer,e),r=(function(s){if(!("targetChange"in s))return pt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?pt.min():o.readTime?Is(o.readTime):pt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ry(this.serializer),n.addTarget=(function(s,o){let l;const f=o.target;if(l=Jx(f)?{documents:z9(s,f)}:{query:G9(s,f).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=uI(s,o.resumeToken);const c=ey(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(pt.min())>0){l.readTime=hp(s,o.snapshotVersion.toTimestamp());const c=ey(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l})(this.serializer,e);const r=$9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ry(this.serializer),n.removeTarget=e,this.q_(n)}}class LL extends _I{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=H9(e.writeResults,e.commitTime),r=Is(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ry(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>q9(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{}class FL extends OL{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Xe(Le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,ty(n,r),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Xe(Le.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,ty(n,r),i,o,l,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Xe(Le.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class UL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_a(n),this.aa=!1):Je("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru="RemoteStore";class VL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Vu(this)&&(Je(Ru,"Restarting streams for network reachability change."),await(async function(f){const c=xt(f);c.Ea.add(4),await P0(c),c.Ra.set("Unknown"),c.Ea.delete(4),await rm(c)})(this))}))})),this.Ra=new UL(r,i)}}async function rm(t){if(Vu(t))for(const e of t.da)await e(!0)}async function P0(t){for(const e of t.da)await e(!1)}function TI(t,e){const n=xt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),gv(n)?mv(n):Tc(n).O_()&&pv(n,e))}function dv(t,e){const n=xt(t),r=Tc(n);n.Ia.delete(e),r.O_()&&EI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Vu(n)&&n.Ra.set("Unknown"))}function pv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tc(t).Y_(e)}function EI(t,e){t.Va.Ue(e),Tc(t).Z_(e)}function mv(t){t.Va=new M9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Tc(t).start(),t.Ra.ua()}function gv(t){return Vu(t)&&!Tc(t).x_()&&t.Ia.size>0}function Vu(t){return xt(t).Ea.size===0}function bI(t){t.Va=void 0}async function BL(t){t.Ra.set("Online")}async function qL(t){t.Ia.forEach(((e,n)=>{pv(t,e)}))}async function HL(t,e){bI(t),gv(t)?(t.Ra.ha(e),mv(t)):t.Ra.set("Unknown")}async function zL(t,e,n){if(t.Ra.set("Online"),e instanceof oI&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){Je(Ru,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pp(t,r)}else if(e instanceof Wd?t.Va.Ze(e):e instanceof aI?t.Va.st(e):t.Va.tt(e),!n.isEqual(pt.min()))try{const r=await yI(t.localStore);n.compareTo(r)>=0&&await(function(s,o){const l=s.Va.Tt(o);return l.targetChanges.forEach(((f,c)=>{if(f.resumeToken.approximateByteSize()>0){const d=s.Ia.get(c);d&&s.Ia.set(c,d.withResumeToken(f.resumeToken,o))}})),l.targetMismatches.forEach(((f,c)=>{const d=s.Ia.get(f);if(!d)return;s.Ia.set(f,d.withResumeToken(dr.EMPTY_BYTE_STRING,d.snapshotVersion)),EI(s,f);const g=new po(d.target,f,c,d.sequenceNumber);pv(s,g)})),s.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Je(Ru,"Failed to raise snapshot:",r),await pp(t,r)}}async function pp(t,e,n){if(!vc(e))throw e;t.Ea.add(1),await P0(t),t.Ra.set("Offline"),n||(n=()=>yI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Je(Ru,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await rm(t)}))}function wI(t,e){return e().catch((n=>pp(t,n,e)))}async function im(t){const e=xt(t),n=Do(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ev;for(;GL(e);)try{const i=await SL(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,jL(e,i)}catch(i){await pp(e,i)}SI(e)&&AI(e)}function GL(t){return Vu(t)&&t.Ta.length<10}function jL(t,e){t.Ta.push(e);const n=Do(t);n.O_()&&n.X_&&n.ea(e.mutations)}function SI(t){return Vu(t)&&!Do(t).x_()&&t.Ta.length>0}function AI(t){Do(t).start()}async function $L(t){Do(t).ra()}async function WL(t){const e=Do(t);for(const n of t.Ta)e.ea(n.mutations)}async function KL(t,e,n){const r=t.Ta.shift(),i=av.from(r,e,n);await wI(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await im(t)}async function YL(t,e){e&&Do(t).X_&&await(async function(r,i){if((function(o){return R9(o)&&o!==Le.ABORTED})(i.code)){const s=r.Ta.shift();Do(r).B_(),await wI(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await im(r)}})(t,e),SI(t)&&AI(t)}async function Tw(t,e){const n=xt(t);n.asyncQueue.verifyOperationInProgress(),Je(Ru,"RemoteStore received new credentials");const r=Vu(n);n.Ea.add(3),await P0(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rm(n)}async function XL(t,e){const n=xt(t);e?(n.Ea.delete(2),await rm(n)):e||(n.Ea.add(2),await P0(n),n.Ra.set("Unknown"))}function Tc(t){return t.ma||(t.ma=(function(n,r,i){const s=xt(n);return s.sa(),new PL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:BL.bind(null,t),t_:qL.bind(null,t),r_:HL.bind(null,t),H_:zL.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),gv(t)?mv(t):t.Ra.set("Unknown")):(await t.ma.stop(),bI(t))}))),t.ma}function Do(t){return t.fa||(t.fa=(function(n,r,i){const s=xt(n);return s.sa(),new LL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:$L.bind(null,t),r_:YL.bind(null,t),ta:WL.bind(null,t),na:KL.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await im(t)):(await t.fa.stop(),t.Ta.length>0&&(Je(Ru,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new xv(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Xe(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yv(t,e){if(_a("AsyncQueue",`${e}: ${t}`),vc(t))return new Xe(Le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{static emptySet(e){return new Yl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||it.comparator(n.key,r.key):(n,r)=>it.comparator(n.key,r.key),this.keyedMap=Mf(),this.sortedSet=new En(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Yl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.ga=new En(it.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ct(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class cc{constructor(e,n,r,i,s,o,l,f,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=f,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new cc(e,n,Yl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class QL{constructor(){this.queries=bw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=xt(n),s=i.queries;i.queries=bw(),s.forEach(((o,l)=>{for(const f of l.Sa)f.onError(r)}))})(this,new Xe(Le.ABORTED,"Firestore shutting down"))}}function bw(){return new Uu((t=>W4(t)),Xp)}async function ZL(t,e){const n=xt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new JL,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=yv(o,`Initialization of query '${Vl(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&vv(n)}async function eO(t,e){const n=xt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tO(t,e){const n=xt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&vv(n)}function nO(t,e,n){const r=xt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function vv(t){t.Ca.forEach((e=>{e.next()}))}var ay,ww;(ww=ay||(ay={})).Ma="default",ww.Cache="cache";class rO{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new cc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ay.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.key=e}}class II{constructor(e){this.key=e}}class iO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Dt(),this.mutatedKeys=Dt(),this.eu=K4(e),this.tu=new Yl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Ew,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,g)=>{const p=i.get(d),x=Jp(this.query,g)?g:null,_=!!p&&this.mutatedKeys.has(p.key),w=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let C=!1;p&&x?p.data.isEqual(x.data)?_!==w&&(r.track({type:3,doc:x}),C=!0):this.su(p,x)||(r.track({type:2,doc:x}),C=!0,(f&&this.eu(x,f)>0||c&&this.eu(x,c)<0)&&(l=!0)):!p&&x?(r.track({type:0,doc:x}),C=!0):p&&!x&&(r.track({type:1,doc:p}),C=!0,(f||c)&&(l=!0)),C&&(x?(o=o.add(x),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((d,g)=>(function(x,_){const w=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct(20277,{Rt:C})}};return w(x)-w(_)})(d.type,g.type)||this.eu(d.doc,g.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,c=f!==this.Za;return this.Za=f,o.length!==0||c?{snapshot:new cc(this.query,e.tu,s,o,e.mutatedKeys,f===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ew,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Dt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new II(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new CI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Dt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return cc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _v="SyncEngine";class sO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class aO{constructor(e){this.key=e,this.hu=!1}}class oO{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Uu((l=>W4(l)),Xp),this.Iu=new Map,this.Eu=new Set,this.du=new En(it.comparator),this.Au=new Map,this.Ru=new lv,this.Vu={},this.mu=new Map,this.fu=lc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uO(t,e,n=!0){const r=PI(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await kI(r,e,n,!0),i}async function lO(t,e){const n=PI(t);await kI(n,e,!0,!1)}async function kI(t,e,n,r){const i=await AL(t.localStore,Cs(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await cO(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&TI(t.remoteStore,i),l}async function cO(t,e,n,r,i){t.pu=(g,p,x)=>(async function(w,C,I,P){let A=C.view.ru(I);A.Cs&&(A=await gw(w.localStore,C.query,!1).then((({documents:k})=>C.view.ru(k,A))));const L=P&&P.targetChanges.get(C.targetId),D=P&&P.targetMismatches.get(C.targetId)!=null,O=C.view.applyChanges(A,w.isPrimaryClient,L,D);return Aw(w,C.targetId,O.au),O.snapshot})(t,g,p,x);const s=await gw(t.localStore,e,!0),o=new iO(e,s.Qs),l=o.ru(s.documents),f=M0.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,f);Aw(t,n,c.au);const d=new sO(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function fO(t,e,n){const r=xt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((o=>!Xp(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await iy(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&dv(r.remoteStore,i.targetId),oy(r,i.targetId)})).catch(yc)):(oy(r,i.targetId),await iy(r.localStore,i.targetId,!0))}async function hO(t,e){const n=xt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dv(n.remoteStore,r.targetId))}async function dO(t,e,n){const r=_O(t);try{const i=await(function(o,l){const f=xt(o),c=xn.now(),d=l.reduce(((x,_)=>x.add(_.key)),Dt());let g,p;return f.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let _=Ta(),w=Dt();return f.Ns.getEntries(x,d).next((C=>{_=C,_.forEach(((I,P)=>{P.isValidDocument()||(w=w.add(I))}))})).next((()=>f.localDocuments.getOverlayedDocuments(x,_))).next((C=>{g=C;const I=[];for(const P of l){const A=S9(P,g.get(P.key).overlayedDocument);A!=null&&I.push(new Bo(P.key,A,U4(A.value.mapValue),Jr.exists(!0)))}return f.mutationQueue.addMutationBatch(x,c,I,l)})).next((C=>{p=C;const I=C.applyToLocalDocumentSet(g,w);return f.documentOverlayCache.saveOverlays(x,C.batchId,I)}))})).then((()=>({batchId:p.batchId,changes:X4(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,l,f){let c=o.Vu[o.currentUser.toKey()];c||(c=new En(Nt)),c=c.insert(l,f),o.Vu[o.currentUser.toKey()]=c})(r,i.batchId,n),await L0(r,i.changes),await im(r.remoteStore)}catch(i){const s=yv(i,"Failed to persist write");n.reject(s)}}async function RI(t,e){const n=xt(t);try{const r=await bL(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=n.Au.get(s);o&&(Kt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Kt(o.hu,14607):i.removedDocuments.size>0&&(Kt(o.hu,42227),o.hu=!1))})),await L0(n,r,e)}catch(r){await yc(r)}}function Sw(t,e,n){const r=xt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const f=xt(o);f.onlineState=l;let c=!1;f.queries.forEach(((d,g)=>{for(const p of g.Sa)p.va(l)&&(c=!0)})),c&&vv(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pO(t,e,n){const r=xt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new En(it.comparator);o=o.insert(s,Tr.newNoDocument(s,pt.min()));const l=Dt().add(s),f=new tm(pt.min(),new Map,new En(Nt),o,l);await RI(r,f),r.du=r.du.remove(s),r.Au.delete(e),Tv(r)}else await iy(r.localStore,e,!1).then((()=>oy(r,e,n))).catch(yc)}async function mO(t,e){const n=xt(t),r=e.batch.batchId;try{const i=await EL(n.localStore,e);DI(n,r,null),NI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await L0(n,i)}catch(i){await yc(i)}}async function gO(t,e,n){const r=xt(t);try{const i=await(function(o,l){const f=xt(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let d;return f.mutationQueue.lookupMutationBatch(c,l).next((g=>(Kt(g!==null,37113),d=g.keys(),f.mutationQueue.removeMutationBatch(c,g)))).next((()=>f.mutationQueue.performConsistencyCheck(c))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(c,d,l))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d))).next((()=>f.localDocuments.getDocuments(c,d)))}))})(r.localStore,e);DI(r,e,n),NI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await L0(r,i)}catch(i){await yc(i)}}function NI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function DI(t,e,n){const r=xt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function oy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||MI(t,r)}))}function MI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(dv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Tv(t))}function Aw(t,e,n){for(const r of n)r instanceof CI?(t.Ru.addReference(r.key,e),xO(t,r)):r instanceof II?(Je(_v,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||MI(t,r.key)):ct(19791,{wu:r})}function xO(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Je(_v,"New document in limbo: "+n),t.Eu.add(r),Tv(t))}function Tv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new it(hn.fromString(e)),r=t.fu.next();t.Au.set(r,new aO(n)),t.du=t.du.insert(n,r),TI(t.remoteStore,new po(Cs(j4(n.path)),r,"TargetPurposeLimboResolution",Wp.ce))}}async function L0(t,e,n){const r=xt(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,f)=>{o.push(r.pu(f,e,n).then((c=>{var d;if((c||n)&&r.isPrimaryClient){const g=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(c){i.push(c);const g=fv.As(f.targetId,c);s.push(g)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(f,c){const d=xt(f);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Ue.forEach(c,(p=>Ue.forEach(p.Es,(x=>d.persistence.referenceDelegate.addReference(g,p.targetId,x))).next((()=>Ue.forEach(p.ds,(x=>d.persistence.referenceDelegate.removeReference(g,p.targetId,x)))))))))}catch(g){if(!vc(g))throw g;Je(hv,"Failed to update sequence numbers: "+g)}for(const g of c){const p=g.targetId;if(!g.fromCache){const x=d.Ms.get(p),_=x.snapshotVersion,w=x.withLastLimboFreeSnapshotVersion(_);d.Ms=d.Ms.insert(p,w)}}})(r.localStore,s))}async function yO(t,e){const n=xt(t);if(!n.currentUser.isEqual(e)){Je(_v,"User change. New user:",e.toKey());const r=await xI(n.localStore,e);n.currentUser=e,(function(s,o){s.mu.forEach((l=>{l.forEach((f=>{f.reject(new Xe(Le.CANCELLED,o))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await L0(n,r.Ls)}}function vO(t,e){const n=xt(t),r=n.Au.get(e);if(r&&r.hu)return Dt().add(r.key);{let i=Dt();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function PI(t){const e=xt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pO.bind(null,e),e.Pu.H_=tO.bind(null,e.eventManager),e.Pu.yu=nO.bind(null,e.eventManager),e}function _O(t){const e=xt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gO.bind(null,e),e}class mp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TL(this.persistence,new yL,e.initialUser,this.serializer)}Cu(e){return new gI(cv.mi,this.serializer)}Du(e){return new IL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mp.provider={build:()=>new mp};class TO extends mp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Kt(this.persistence.referenceDelegate instanceof dp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rL(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Kr.withCacheSize(this.cacheSizeBytes):Kr.DEFAULT;return new gI((r=>dp.mi(r,n)),this.serializer)}}class uy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Sw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yO.bind(null,this.syncEngine),await XL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new QL})()}createDatastore(e){const n=nm(e.databaseInfo.databaseId),r=(function(s){return new ML(s)})(e.databaseInfo);return(function(s,o,l,f){return new FL(s,o,l,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,o,l){return new VL(r,i,s,o,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>Sw(this.syncEngine,n,0)),(function(){return vw.v()?new vw:new kL})())}createSyncEngine(e,n){return(function(i,s,o,l,f,c,d){const g=new oO(i,s,o,l,f,c);return d&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=xt(i);Je(Ru,"RemoteStore shutting down."),s.Ea.add(5),await P0(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}uy.provider={build:()=>new uy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_a("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="FirestoreClient";class bO{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vr.UNAUTHENTICATED,this.clientId=Zy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async o=>{Je(Mo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Je(Mo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function B1(t,e){t.asyncQueue.verifyOperationInProgress(),Je(Mo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await xI(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Cw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await wO(t);Je(Mo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Tw(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>Tw(e.remoteStore,i))),t._onlineComponents=e}async function wO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Je(Mo,"Using user provided OfflineComponentProvider");try{await B1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Le.FAILED_PRECONDITION||i.code===Le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;sc("Error using user provided cache. Falling back to memory cache: "+n),await B1(t,new mp)}}else Je(Mo,"Using default OfflineComponentProvider"),await B1(t,new TO(void 0));return t._offlineComponents}async function LI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Je(Mo,"Using user provided OnlineComponentProvider"),await Cw(t,t._uninitializedComponentsProvider._online)):(Je(Mo,"Using default OnlineComponentProvider"),await Cw(t,new uy))),t._onlineComponents}function SO(t){return LI(t).then((e=>e.syncEngine))}async function AO(t){const e=await LI(t),n=e.eventManager;return n.onListen=uO.bind(null,e.syncEngine),n.onUnlisten=fO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=hO.bind(null,e.syncEngine),n}function CO(t,e,n={}){const r=new Eo;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,l,f,c){const d=new EO({next:p=>{d.Nu(),o.enqueueAndForget((()=>eO(s,g))),p.fromCache&&f.source==="server"?c.reject(new Xe(Le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),g=new rO(l,d,{includeMetadataChanges:!0,qa:!0});return ZL(s,g)})(await AO(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="firestore.googleapis.com",kw=!0;class Rw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Xe(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FI,this.ssl=kw}else this.host=e.host,this.ssl=e.ssl??kw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tL)throw new Xe(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Xe(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Xe(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Xe(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Xe(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Xe(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new IP;switch(r.type){case"firstParty":return new DP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Xe(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Iw.get(n);r&&(Je("ComponentProvider","Removing Datastore"),Iw.delete(n),r.terminate())})(this),Promise.resolve()}}function IO(t,e,n,r={}){var c;t=Co(t,sm);const i=Fo(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(Fy(`https://${l}`),Uy("Firestore",!0)),s.host!==FI&&s.host!==l&&sc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:l,ssl:i,emulatorOptions:r};if(!Au(f,o)&&(t._setSettings(f),r.mockUserToken)){let d,g;if(typeof r.mockUserToken=="string")d=r.mockUserToken,g=vr.MOCK_USER;else{d=V8(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Xe(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new vr(p)}t._authCredentials=new kP(new A4(d,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bu(this.firestore,e,this._query)}}class Kn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kn(this.firestore,e,this._key)}toJSON(){return{type:Kn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(N0(n,Kn._jsonSchema))return new Kn(e,r||null,new it(hn.fromString(n.referencePath)))}}Kn._jsonSchemaVersion="firestore/documentReference/1.0",Kn._jsonSchema={type:jn("string",Kn._jsonSchemaVersion),referencePath:jn("string")};class bo extends Bu{constructor(e,n,r){super(e,n,j4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kn(this.firestore,null,new it(e))}withConverter(e){return new bo(this.firestore,e,this._path)}}function ba(t,e,...n){if(t=Cn(t),C4("collection","path",e),t instanceof sm){const r=hn.fromString(e,...n);return zb(r),new bo(t,null,r)}{if(!(t instanceof Kn||t instanceof bo))throw new Xe(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(hn.fromString(e,...n));return zb(r),new bo(t.firestore,null,r)}}function qo(t,e,...n){if(t=Cn(t),arguments.length===1&&(e=Zy.newId()),C4("doc","path",e),t instanceof sm){const r=hn.fromString(e,...n);return Hb(r),new Kn(t,null,new it(r))}{if(!(t instanceof Kn||t instanceof bo))throw new Xe(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(hn.fromString(e,...n));return Hb(r),new Kn(t.firestore,t instanceof bo?t.converter:null,new it(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="AsyncQueue";class Dw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vI(this,"async_queue_retry"),this._c=()=>{const r=V1();r&&Je(Nw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=V1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=V1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Eo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!vc(e))throw e;Je(Nw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,_a("INTERNAL UNHANDLED ERROR: ",Mw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=xv.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&ct(47125,{Pc:Mw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Mw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ec extends sm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Dw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Dw(e),this._firestoreClient=void 0,await e}}}function Ds(t,e){const n=typeof t=="object"?t:qy(),r=typeof t=="string"?t:up,i=qp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=MC("firestore");s&&IO(i,...s)}return i}function Ev(t){if(t._terminated)throw new Xe(Le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||kO(t),t._firestoreClient}function kO(t){var r,i,s;const e=t._freezeSettings(),n=(function(l,f,c,d){return new YP(l,f,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,OI(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new bO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(l){const f=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ri(dr.fromBase64String(e))}catch(n){throw new Xe(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ri(dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(N0(e,Ri._jsonSchema))return Ri.fromBase64String(e.bytes)}}Ri._jsonSchemaVersion="firestore/bytes/1.0",Ri._jsonSchema={type:jn("string",Ri._jsonSchemaVersion),bytes:jn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Xe(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Xe(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Xe(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ks._jsonSchemaVersion}}static fromJSON(e){if(N0(e,ks._jsonSchema))return new ks(e.latitude,e.longitude)}}ks._jsonSchemaVersion="firestore/geoPoint/1.0",ks._jsonSchema={type:jn("string",ks._jsonSchemaVersion),latitude:jn("number"),longitude:jn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Rs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(N0(e,Rs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Rs(e.vectorValues);throw new Xe(Le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rs._jsonSchemaVersion="firestore/vectorValue/1.0",Rs._jsonSchema={type:jn("string",Rs._jsonSchemaVersion),vectorValues:jn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=/^__.*__$/;class NO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bo(e,this.data,this.fieldMask,n,this.fieldTransforms):new D0(e,this.data,n,this.fieldTransforms)}}class UI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Bo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct(40011,{Ac:t})}}class bv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(VI(this.Ac)&&RO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||nm(e)}Cc(e,n,r,i=!1){return new bv({Ac:e,methodName:n,Dc:r,path:cr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function om(t){const e=t._freezeSettings(),n=nm(t._databaseId);return new DO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function BI(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);Sv("Data must be an object, but it was:",o,r);const l=zI(r,o);let f,c;if(s.merge)f=new hi(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const p=ly(e,g,n);if(!o.contains(p))throw new Xe(Le.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);jI(d,p)||d.push(p)}f=new hi(d),c=o.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,c=o.fieldTransforms;return new NO(new Yr(l),f,c)}class um extends am{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof um}}class wv extends am{_toFieldTransform(e){return new T9(e.path,new h0)}isEqual(e){return e instanceof wv}}function qI(t,e,n,r){const i=t.Cc(1,e,n);Sv("Data must be an object, but it was:",i,r);const s=[],o=Yr.empty();Vo(r,((f,c)=>{const d=Av(e,f,n);c=Cn(c);const g=i.yc(d);if(c instanceof um)s.push(d);else{const p=F0(c,g);p!=null&&(s.push(d),o.set(d,p))}}));const l=new hi(s);return new UI(o,l,i.fieldTransforms)}function HI(t,e,n,r,i,s){const o=t.Cc(1,e,n),l=[ly(e,r,n)],f=[i];if(s.length%2!=0)throw new Xe(Le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)l.push(ly(e,s[p])),f.push(s[p+1]);const c=[],d=Yr.empty();for(let p=l.length-1;p>=0;--p)if(!jI(c,l[p])){const x=l[p];let _=f[p];_=Cn(_);const w=o.yc(x);if(_ instanceof um)c.push(x);else{const C=F0(_,w);C!=null&&(c.push(x),d.set(x,C))}}const g=new hi(c);return new UI(d,g,o.fieldTransforms)}function MO(t,e,n,r=!1){return F0(n,t.Cc(r?4:3,e))}function F0(t,e){if(GI(t=Cn(t)))return Sv("Unsupported field value:",e,t),zI(t,e);if(t instanceof am)return(function(r,i){if(!VI(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let o=0;for(const l of r){let f=F0(l,i.wc(o));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),o++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return y9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=xn.fromDate(r);return{timestampValue:hp(i.serializer,s)}}if(r instanceof xn){const s=new xn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hp(i.serializer,s)}}if(r instanceof ks)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ri)return{bytesValue:uI(i.serializer,r._byteString)};if(r instanceof Kn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:uv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Rs)return(function(o,l){return{mapValue:{fields:{[O4]:{stringValue:F4},[lp]:{arrayValue:{values:o.toArray().map((c=>{if(typeof c!="number")throw l.Sc("VectorValues must only contain numeric values.");return sv(l.serializer,c)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${$p(r)}`)})(t,e)}function zI(t,e){const n={};return R4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(t,((r,i)=>{const s=F0(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function GI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xn||t instanceof ks||t instanceof Ri||t instanceof Kn||t instanceof am||t instanceof Rs)}function Sv(t,e,n){if(!GI(n)||!I4(n)){const r=$p(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ly(t,e,n){if((e=Cn(e))instanceof O0)return e._internalPath;if(typeof e=="string")return Av(t,e);throw gp("Field path arguments must be of type string or ",t,!1,void 0,n)}const PO=new RegExp("[~\\*/\\[\\]]");function Av(t,e,n){if(e.search(PO)>=0)throw gp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new O0(...e.split("."))._internalPath}catch{throw gp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let f="";return(s||o)&&(f+=" (found",s&&(f+=` in field ${r}`),o&&(f+=` in document ${i}`),f+=")"),new Xe(Le.INVALID_ARGUMENT,l+t+f)}function jI(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LO extends $I{data(){return super.data()}}function lm(t,e){return typeof e=="string"?Av(t,e):e instanceof O0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Xe(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cv{}class WI extends Cv{}function cm(t,e,...n){let r=[];e instanceof Cv&&r.push(e),r=r.concat(n),(function(s){const o=s.filter((f=>f instanceof Iv)).length,l=s.filter((f=>f instanceof fm)).length;if(o>1||o>0&&l>0)throw new Xe(Le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class fm extends WI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new fm(e,n,r)}_apply(e){const n=this._parse(e);return XI(e._query,n),new Bu(e.firestore,e.converter,Qx(e._query,n))}_parse(e){const n=om(e.firestore);return(function(s,o,l,f,c,d,g){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Xe(Le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Lw(g,d);const _=[];for(const w of g)_.push(Pw(f,s,w));p={arrayValue:{values:_}}}else p=Pw(f,s,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Lw(g,d),p=MO(l,o,g,d==="in"||d==="not-in");return Gn.create(c,d,p)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function KI(t,e,n){const r=e,i=lm("where",t);return fm._create(i,r,n)}class Iv extends Cv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Iv(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:os.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let o=i;const l=s.getFlattenedFilters();for(const f of l)XI(o,f),o=Qx(o,f)})(e._query,n),new Bu(e.firestore,e.converter,Qx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kv extends WI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new kv(e,n)}_apply(e){const n=(function(i,s,o){if(i.startAt!==null)throw new Xe(Le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Xe(Le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new f0(s,o)})(e._query,this._field,this._direction);return new Bu(e.firestore,e.converter,(function(i,s){const o=i.explicitOrderBy.concat([s]);return new _c(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function YI(t,e="asc"){const n=e,r=lm("orderBy",t);return kv._create(r,n)}function Pw(t,e,n){if(typeof(n=Cn(n))=="string"){if(n==="")throw new Xe(Le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$4(e)&&n.indexOf("/")!==-1)throw new Xe(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(hn.fromString(n));if(!it.isDocumentKey(r))throw new Xe(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jb(t,new it(r))}if(n instanceof Kn)return Jb(t,n._key);throw new Xe(Le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$p(n)}.`)}function Lw(t,e){if(!Array.isArray(t)||t.length===0)throw new Xe(Le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XI(t,e){const n=(function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Xe(Le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Xe(Le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class FO{convertValue(e,n="none"){switch(No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ct(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vo(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[lp].arrayValue)==null?void 0:i.values)==null?void 0:s.map((o=>Mn(o.doubleValue)));return new Rs(n)}convertGeoPoint(e){return new ks(Mn(e.latitude),Mn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(u0(e));default:return null}}convertTimestamp(e){const n=ko(e);return new xn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=hn.fromString(e);Kt(pI(r),9688,{name:e});const i=new l0(r.get(1),r.get(3)),s=new it(r.popFirst(5));return i.isEqual(n)||_a(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class _d{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xl extends $I{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Xe(Le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xl._jsonSchema={type:jn("string",Xl._jsonSchemaVersion),bundleSource:jn("string","DocumentSnapshot"),bundleName:jn("string"),bundle:jn("string")};class Kd extends Xl{data(e={}){return super.data(e)}}class Jl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new _d(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Kd(this._firestore,this._userDataWriter,r.key,r,new _d(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Xe(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const f=new Kd(i._firestore,i._userDataWriter,l.doc.key,l.doc,new _d(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:f,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>s||l.type!==3)).map((l=>{const f=new Kd(i._firestore,i._userDataWriter,l.doc.key,l.doc,new _d(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:UO(l.type),doc:f,oldIndex:c,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Xe(Le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct(61501,{type:t})}}Jl._jsonSchemaVersion="firestore/querySnapshot/1.0",Jl._jsonSchema={type:jn("string",Jl._jsonSchemaVersion),bundleSource:jn("string","QuerySnapshot"),bundleName:jn("string"),bundle:jn("string")};class VO extends FO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kn(this.firestore,null,n)}}function qu(t){t=Co(t,Bu);const e=Co(t.firestore,Ec),n=Ev(e),r=new VO(e);return OO(t._query),CO(n,t._query).then((i=>new Jl(e,r,t,i)))}function hm(t,e,n,...r){t=Co(t,Kn);const i=Co(t.firestore,Ec),s=om(i);let o;return o=typeof(e=Cn(e))=="string"||e instanceof O0?HI(s,"updateDoc",t._key,e,n,r):qI(s,"updateDoc",t._key,e),dm(i,[o.toMutation(t._key,Jr.exists(!0))])}function BO(t){return dm(Co(t.firestore,Ec),[new em(t._key,Jr.none())])}function QI(t,e){const n=Co(t.firestore,Ec),r=qo(t),i=JI(t.converter,e);return dm(n,[BI(om(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Jr.exists(!1))]).then((()=>r))}function dm(t,e){return(function(r,i){const s=new Eo;return r.asyncQueue.enqueueAndForget((async()=>dO(await SO(r),i,s))),s.promise})(Ev(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=om(e)}set(e,n,r){this._verifyNotCommitted();const i=q1(e,this._firestore),s=JI(i.converter,n,r),o=BI(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Jr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=q1(e,this._firestore);let o;return o=typeof(n=Cn(n))=="string"||n instanceof O0?HI(this._dataReader,"WriteBatch.update",s._key,n,r,i):qI(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Jr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=q1(e,this._firestore);return this._mutations=this._mutations.concat(new em(n._key,Jr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Xe(Le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function q1(t,e){if((t=Cn(t)).firestore!==e)throw new Xe(Le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function ZI(){return new wv("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(t){return Ev(t=Co(t,Ec)),new qO(t,(e=>dm(t,e)))}(function(e,n=!0){(function(i){xc=i})(mc),Cu(new Ao("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Ec(new RP(r.getProvider("auth-internal")),new MP(o,r.getProvider("app-check-internal")),(function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Xe(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new l0(c.options.projectId,d)})(o,i),o);return s={useFetchStreams:n,...s},l._setSettings(s),l}),"PUBLIC").setMultipleInstances(!0)),Ss(Ub,Vb,e),Ss(Ub,Vb,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="type.googleapis.com/google.protobuf.Int64Value",zO="type.googleapis.com/google.protobuf.UInt64Value";function t6(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function xp(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>xp(e));if(typeof t=="function"||typeof t=="object")return t6(t,e=>xp(e));throw new Error("Data cannot be encoded in JSON: "+t)}function fc(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case HO:case zO:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>fc(e)):typeof t=="function"||typeof t=="object"?t6(t,e=>fc(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xr extends Ps{constructor(e,n,r){super(`${Rv}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Xr.prototype)}}function GO(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function yp(t,e){let n=GO(t),r=n,i;try{const s=e&&e.error;if(s){const o=s.status;if(typeof o=="string"){if(!Ow[o])return new Xr("internal","internal");n=Ow[o],r=o}const l=s.message;typeof l=="string"&&(r=l),i=s.details,i!==void 0&&(i=fc(i))}}catch{}return n==="ok"?null:new Xr(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,ci(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy="us-central1",$O=/^data: (.*?)(?:\n|$)/;function WO(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Xr("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class KO{constructor(e,n,r,i,s=cy,o=(...l)=>fetch(...l)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new jO(e,n,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(s);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=cy}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function YO(t,e,n){const r=Fo(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Fy(t.emulatorOrigin+"/backends"),Uy("Functions",!0))}function XO(t,e,n){const r=i=>QO(t,e,i,{});return r.stream=(i,s)=>eF(t,e,i,s),r}function n6(t){return t.emulatorOrigin&&Fo(t.emulatorOrigin)?"include":void 0}async function JO(t,e,n,r,i){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:n6(i)})}catch{return{status:0,json:null}}let o=null;try{o=await s.json()}catch{}return{status:s.status,json:o}}async function r6(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function QO(t,e,n,r){const i=t._url(e);return ZO(t,i,n,r)}async function ZO(t,e,n,r){n=xp(n);const i={data:n},s=await r6(t,r),o=r.timeout||7e4,l=WO(o),f=await Promise.race([JO(e,i,s,t.fetchImpl,t),l.promise,t.cancelAllRequests]);if(l.cancel(),!f)throw new Xr("cancelled","Firebase Functions instance was deleted.");const c=yp(f.status,f.json);if(c)throw c;if(!f.json)throw new Xr("internal","Response is not valid JSON object.");let d=f.json.data;if(typeof d>"u"&&(d=f.json.result),typeof d>"u")throw new Xr("internal","Response is missing data field.");return{data:fc(d)}}function eF(t,e,n,r){const i=t._url(e);return tF(t,i,n,r||{})}async function tF(t,e,n,r){var p;n=xp(n);const i={data:n},s=await r6(t,r);s["Content-Type"]="application/json",s.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:s,signal:r==null?void 0:r.signal,credentials:n6(t)})}catch(x){if(x instanceof Error&&x.name==="AbortError"){const w=new Xr("cancelled","Request was cancelled.");return{data:Promise.reject(w),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(w)}}}}}}const _=yp(0,null);return{data:Promise.reject(_),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(_)}}}}}}let l,f;const c=new Promise((x,_)=>{l=x,f=_});(p=r==null?void 0:r.signal)==null||p.addEventListener("abort",()=>{const x=new Xr("cancelled","Request was cancelled.");f(x)});const d=o.body.getReader(),g=nF(d,l,f,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const x=g.getReader();return{async next(){const{value:_,done:w}=await x.read();return{value:_,done:w}},async return(){return await x.cancel(),{done:!0,value:void 0}}}}},data:c}}function nF(t,e,n,r){const i=(o,l)=>{const f=o.match($O);if(!f)return;const c=f[1];try{const d=JSON.parse(c);if("result"in d){e(fc(d.result));return}if("message"in d){l.enqueue(fc(d.message));return}if("error"in d){const g=yp(0,d);l.error(g),n(g);return}}catch(d){if(d instanceof Xr){l.error(d),n(d);return}}},s=new TextDecoder;return new ReadableStream({start(o){let l="";return f();async function f(){if(r!=null&&r.aborted){const c=new Xr("cancelled","Request was cancelled");return o.error(c),n(c),Promise.resolve()}try{const{value:c,done:d}=await t.read();if(d){l.trim()&&i(l.trim(),o),o.close();return}if(r!=null&&r.aborted){const p=new Xr("cancelled","Request was cancelled");o.error(p),n(p),await t.cancel();return}l+=s.decode(c,{stream:!0});const g=l.split(`
`);l=g.pop()||"";for(const p of g)p.trim()&&i(p.trim(),o);return f()}catch(c){const d=c instanceof Xr?c:yp(0,null);o.error(d),n(d)}}},cancel(){return t.cancel()}})}const Fw="@firebase/functions",Uw="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF="auth-internal",iF="app-check-internal",sF="messaging-internal";function aF(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),s=n.getProvider(rF),o=n.getProvider(sF),l=n.getProvider(iF);return new KO(i,s,o,l,r)};Cu(new Ao(Rv,e,"PUBLIC").setMultipleInstances(!0)),Ss(Fw,Uw,t),Ss(Fw,Uw,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t=qy(),e=cy){const r=qp(Cn(t),Rv).getImmediate({identifier:e}),i=MC("functions");return i&&oF(r,...i),r}function oF(t,e,n){YO(Cn(t),e,n)}function uF(t,e,n){return XO(Cn(t),e)}aF();const lF={apiKey:"AIzaSyBsgvePGLlADEQoPpQU4Vj54AJFzCniY3s",authDomain:"trac-nghiem-oline.firebaseapp.com",projectId:"trac-nghiem-oline",storageBucket:"trac-nghiem-oline.firebasestorage.app",messagingSenderId:"1045919082825",appId:"1:1045919082825:web:5544f4d9f08429c6f5d298"},pm=UC(lF),Vw=pm,$f=AP(pm),bc=Ds(pm);fy(pm);const Bw=()=>{const[t,e]=le.useState(""),[n,r]=le.useState(""),[i,s]=le.useState(!1),[o,l]=le.useState(""),f=async d=>{d.preventDefault(),s(!0),l("");try{await hM($f,t,n)}catch(g){g.code==="auth/invalid-credential"?l("Email hoặc mật khẩu không hợp lệ. Vui lòng kiểm tra lại."):l("Đã xảy ra lỗi khi đăng nhập. Vui lòng thử lại."),console.error("Firebase login error:",g)}finally{s(!1)}},c=async()=>{s(!0),l("");const d=new ha;try{await LM($f,d)}catch(g){l("Không thể đăng nhập bằng Google. Vui lòng thử lại."),console.error("Google SSO error:",g)}finally{s(!1)}};return b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 p-4",children:b.jsxs("div",{className:"w-full max-w-md bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl shadow-indigo-100/50 border-t border-gray-200 p-10 sm:p-12 space-y-8",children:[b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:"text-4xl font-bold tracking-tight text-gray-900",children:"Chào mừng"}),b.jsx("p",{className:"mt-2 text-gray-500",children:"Đăng nhập vào Nền tảng Thi trực tuyến"})]}),o&&b.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 text-red-800 p-4 rounded-lg",role:"alert",children:[b.jsx("p",{className:"font-bold",children:"Lỗi"}),b.jsx("p",{children:o})]}),b.jsxs("form",{onSubmit:f,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Địa chỉ Email"}),b.jsx("input",{id:"email",type:"email",value:t,onChange:d=>e(d.target.value),required:!0,className:"transition block w-full px-4 py-3 bg-white border border-gray-200 rounded-xl shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500",placeholder:"email@cuaban.com"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mật khẩu"}),b.jsx("input",{id:"password",type:"password",value:n,onChange:d=>r(d.target.value),required:!0,className:"transition block w-full px-4 py-3 bg-white border border-gray-200 rounded-xl shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500",placeholder:"Mật khẩu của bạn"})]}),b.jsx("button",{type:"submit",disabled:i,className:"transition-transform duration-300 hover:scale-105 w-full flex justify-center py-3.5 px-4 border border-transparent rounded-xl shadow-sm text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus-visible:outline-indigo-600 disabled:bg-indigo-500/80 disabled:cursor-not-allowed",children:i?b.jsx($t,{}):"Đăng nhập"})]}),b.jsxs("div",{className:"relative flex py-1 items-center",children:[b.jsx("div",{className:"flex-grow border-t border-gray-300/50"}),b.jsx("span",{className:"flex-shrink mx-4 text-xs text-gray-400 uppercase font-semibold",children:"Hoặc"}),b.jsx("div",{className:"flex-grow border-t border-gray-300/50"})]}),b.jsx("button",{onClick:c,disabled:i,className:"transition-all duration-300 hover:shadow-md hover:scale-105 w-full flex justify-center items-center py-3.5 px-4 border border-gray-200 rounded-xl shadow-sm text-base font-semibold text-gray-800 bg-white hover:bg-indigo-50/50 focus:outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",children:i?b.jsx($t,{}):b.jsxs(b.Fragment,{children:[b.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 48 48",children:[b.jsx("path",{fill:"#4285F4",d:"M24 9.5c3.2 0 6.1 1.1 8.4 3.2l6.3-6.3C34.9 2.5 29.8 0 24 0 14.9 0 7.3 5.4 3 13l7.8 6C12.2 13.4 17.7 9.5 24 9.5z"}),b.jsx("path",{fill:"#34A853",d:"M46.5 24c0-1.6-.1-3.2-.4-4.7H24v9h12.7c-.5 2.9-2.2 5.4-4.7 7.1l7.5 5.8c4.4-4.1 7-10 7-17.2z"}),b.jsx("path",{fill:"#FBBC05",d:"M10.8 28.2c-.3-.9-.5-1.9-.5-2.9s.2-2 .5-2.9l-7.8-6C1.2 19.4 0 21.6 0 24s1.2 4.6 3 6.8l7.8-5.6z"}),b.jsx("path",{fill:"#EA4335",d:"M24 48c5.8 0 10.9-1.9 14.5-5.2l-7.5-5.8c-1.9 1.3-4.4 2-7 2-6.3 0-11.8-3.9-13.8-9.2L3 31c4.3 7.6 11.9 12.8 21 12.8z"}),b.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]}),"Đăng nhập với Google"]})}),b.jsxs("div",{className:"text-center text-sm text-gray-600 pt-6 mt-6 border-t border-slate-200 bg-slate-50 p-5 rounded-xl space-y-2",children:[b.jsx("p",{className:"font-bold text-slate-700",children:"Để kiểm thử:"}),b.jsx("p",{className:"text-slate-600",children:"Tạo tài khoản học viên và quản trị viên trong Firebase Authentication."}),b.jsxs("p",{className:"text-slate-600",children:["Email quản trị viên: ",b.jsx("code",{className:"bg-slate-200 text-slate-700 font-mono px-1.5 py-0.5 rounded-md",children:"admin@example.com"})]})]})]})})},qw="https://script.google.com/macros/s/AKfycbyx2bI-f1PuEyqH__5PVkHgfFWcT-jPBc9eVtHHrLP2SirC_oYep1K2xIie1IFXqOsTOA/exec";async function wa(t,e="GET",n={}){if(qw.includes("PASTE_YOUR_GOOGLE_APPS_SCRIPT_DEPLOYMENT_URL_HERE")){const s="LỖI CẤU HÌNH: Vui lòng dán URL triển khai Google Apps Script của bạn vào biến SCRIPT_URL trong file services/examService.ts.";throw new Error(s)}const r=new URL(qw);r.searchParams.append("action",t);const i={method:e,headers:{},mode:"cors"};if(e==="GET")for(const[s,o]of Object.entries(n))o!=null&&r.searchParams.append(s,String(o));else e==="POST"&&(i.body=JSON.stringify(n),i.headers={"Content-Type":"text/plain;charset=utf-8"});try{const o=await(await fetch(r.toString(),i)).text();try{const l=JSON.parse(o);if(!l.ok)throw new Error(l.error||"Lỗi không xác định từ Google Apps Script");return l.data}catch{throw console.error("Failed to parse JSON response:",o),new Error("Phản hồi không hợp lệ từ máy chủ quản trị. Có thể triển khai GAS đã gặp lỗi.")}}catch(s){throw console.error(`[GAS API] Lỗi hành động "${t}":`,s),s}}const cF=async(t,e)=>{const n=qo(bc,"attempts",t);await hm(n,{answers:e})},fF=async t=>{const e=qo(bc,"attempts",t.id),n={...t,status:"completed",completed_at:Date.now()};return await hm(e,{status:"completed",completed_at:ZI(),answers:t.answers,score:t.score,questions:t.questions||[]}),n},hF=async t=>{const e=ba(bc,`attempts/${t.attemptId}/audit_logs`),n={...t,timestamp:ZI()};n.metadata===void 0&&delete n.metadata,await QI(e,n)},dF=async t=>{const e=qo(bc,"attempts",t);await hm(e,{reviewRequested:!0})},pF=t=>wa("getUserProfileByEmail","GET",{email:t}),mF=t=>wa("getAvailableWindowsForUser","GET",{email:t.email}),U0=()=>wa("getAdminDashboardData","GET"),gF=(t,e)=>wa("addClass","POST",{className:t,classCode:e}),xF=t=>wa("updateClass","POST",{classData:t}),yF=t=>wa("addWindow","POST",{windowData:t}),vF=(t,e)=>wa("addQuestion","POST",{examId:t,question:e}),_F=t=>wa("updateQuestion","POST",{question:t}),TF=t=>wa("getExamAnalytics","GET",{examId:t}),EF=async()=>{const t=ba(bc,"attempts"),e=cm(t,YI("started_at","desc")),n=await qu(e),r=[];return n.forEach(i=>{var o,l;const s=i.data();r.push({...s,id:i.id,started_at:((o=s.started_at)==null?void 0:o.toMillis())||0,completed_at:((l=s.completed_at)==null?void 0:l.toMillis())||null})}),r},bF=async t=>{const e=ba(bc,`attempts/${t}/audit_logs`),n=cm(e,YI("timestamp","asc")),r=await qu(n),i=[];return r.forEach(s=>{var l;const o=s.data();i.push({...o,id:s.id,timestamp:((l=o.timestamp)==null?void 0:l.toMillis())||0})}),i},Ls=({d:t,...e})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",...e,children:b.jsx("path",{d:t})}),wF=t=>b.jsx(Ls,{d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",...t}),i6=t=>b.jsx(Ls,{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",...t}),s6=t=>b.jsx(Ls,{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",...t}),Nv=t=>b.jsx(Ls,{d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0011.667 0l3.181-3.183m-4.991-2.691V5.006h4.992a8.25 8.25 0 01-11.667 0L2.985 9.348z",...t}),SF=({user:t,onStartExam:e,globalError:n,clearGlobalError:r})=>{const[i,s]=le.useState([]),[o,l]=le.useState(!0),[f,c]=le.useState(null),[d,g]=le.useState({}),[p,x]=le.useState({}),[_,w]=le.useState(""),C=le.useCallback(async()=>{l(!0),w(""),r();try{if(t){const A=await mF(t);s(A)}}catch(A){console.error("Lỗi khi tải các kỳ thi:",A),w("Không thể tải danh sách kỳ thi. Vui lòng thử lại.")}finally{l(!1)}},[t,r]);le.useEffect(()=>{C()},[C]);const I=(A,L)=>{const D=Date.now();return D<A?{state:"upcoming",message:`Sắp diễn ra lúc ${new Date(A).toLocaleTimeString()}`}:D>L?{state:"expired",message:"Đã kết thúc"}:{state:"active",message:""}},P=async A=>{if(r(),x(D=>({...D,[A.id]:""})),(d[A.id]||"").trim()!==(A.accessCode||"").trim()){x(D=>({...D,[A.id]:"Mã truy cập không hợp lệ."}));return}const L=I(A.start_at,A.end_at);if(L.state!=="active"){x(D=>({...D,[A.id]:L.message}));return}c(A.id);try{const D={id:`local_atm_${Date.now()}`,userId:t.id,examId:A.examId,windowId:A.id,status:"in-progress",answers:{},score:null,started_at:Date.now(),completed_at:null,reviewRequested:!1};e(A.exam,A,D)}catch(D){console.error("Failed to create attempt:",D),alert("Không thể bắt đầu bài thi. Vui lòng thử lại."),c(null)}};return o&&i.length===0?b.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-center",children:[b.jsx($t,{}),b.jsx("p",{className:"mt-4 text-lg font-medium text-gray-600",children:"Đang tải các kỳ thi..."})]}):b.jsxs("div",{className:"space-y-10",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-y-4",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"text-4xl font-bold tracking-tight text-gray-900",children:["Chào mừng, ",t.name,"!"]}),b.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Các kỳ thi của bạn được liệt kê bên dưới."})]}),b.jsxs("button",{onClick:C,disabled:o,className:"transition-all duration-300 flex items-center justify-center gap-2 text-sm font-semibold bg-white border border-gray-200 shadow-sm px-5 py-2.5 rounded-xl hover:shadow-md hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Làm mới danh sách kỳ thi",children:[b.jsx(Nv,{className:`h-4 w-4 ${o?"animate-spin":""}`}),"Làm mới"]})]}),n&&b.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 text-red-800 p-4 rounded-lg flex justify-between items-start",role:"alert",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-bold",children:"Đã xảy ra lỗi"}),b.jsx("p",{children:n})]}),b.jsx("button",{onClick:r,className:"font-bold text-2xl -mt-2 -mr-1",children:"×"})]}),_&&b.jsxs("div",{className:"text-center bg-red-50 border border-red-200 text-red-800 p-6 rounded-2xl shadow-lg",children:[b.jsx("p",{className:"text-xl font-bold",children:"Lỗi"}),b.jsx("p",{className:"mt-2",children:_})]}),i.length===0&&!o&&!_?b.jsxs("div",{className:"text-center bg-white p-12 rounded-3xl shadow-lg border border-gray-200",children:[b.jsx("p",{className:"text-2xl font-semibold text-gray-700",children:"Tuyệt vời!"}),b.jsx("p",{className:"mt-2 text-lg text-gray-500",children:"Hiện tại không có kỳ thi nào dành cho bạn."})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map(A=>{const L=I(A.start_at,A.end_at);return b.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl border border-gray-200/80 overflow-hidden flex flex-col transition-all duration-300 ease-in-out hover:-translate-y-1",children:[b.jsxs("div",{className:"p-6 flex-grow",children:[b.jsx("h3",{className:"text-xl font-bold text-indigo-700",children:A.exam.title}),b.jsx("p",{className:"mt-3 text-gray-600 flex-grow text-sm",children:A.exam.description}),b.jsx("div",{className:"mt-4 text-xs text-gray-500 space-y-1.5",children:b.jsxs("p",{children:[b.jsx("strong",{children:"Hạn chót:"})," ",new Date(A.end_at).toLocaleString("vi-VN")]})})]}),b.jsxs("div",{className:"px-6 py-5 bg-gray-50/70 border-t border-gray-200/80",children:[b.jsxs("div",{className:"grid grid-cols-3 gap-x-4 mb-6 text-center",children:[b.jsxs("div",{className:"flex flex-col items-center text-gray-700",children:[b.jsx(wF,{className:"h-5 w-5 mb-1"}),b.jsxs("span",{className:"text-sm font-medium",children:[A.exam.totalQuestions," câu"]})]}),b.jsxs("div",{className:"flex flex-col items-center text-gray-700",children:[b.jsx(i6,{className:"h-5 w-5 mb-1"}),b.jsxs("span",{className:"text-sm font-medium",children:[A.exam.duration," phút"]})]}),b.jsxs("div",{className:"flex flex-col items-center text-gray-700",children:[b.jsx(s6,{className:"h-5 w-5 mb-1"}),b.jsxs("span",{className:"text-sm font-medium",children:["Đạt ",A.exam.pass_threshold*100,"%"]})]})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("input",{type:"text",placeholder:"Mã truy cập",className:"transition w-full px-4 py-2.5 border bg-white border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/50 text-sm",value:d[A.id]||"",onChange:D=>g(O=>({...O,[A.id]:D.target.value}))}),p[A.id]&&b.jsx("p",{className:"text-red-600 text-sm font-medium px-1",children:p[A.id]})]}),L.state==="upcoming"&&b.jsx("div",{className:"w-full text-center bg-sky-100 text-sky-800 font-semibold py-3 px-4 rounded-lg mt-4 text-sm",children:L.message}),L.state==="expired"&&b.jsx("div",{className:"w-full text-center bg-gray-200 text-gray-600 font-semibold py-3 px-4 rounded-lg mt-4 text-sm",children:L.message}),L.state==="active"&&b.jsx("button",{onClick:()=>P(A),disabled:!!f||o,className:"w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-300 ease-in-out hover:scale-105 active:scale-95 disabled:bg-indigo-400 disabled:cursor-not-allowed flex justify-center items-center mt-4",children:f===A.id?b.jsx($t,{}):"Bắt đầu thi"})]})]},A.id)})})]})},V0=t=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),zl=t=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.536L16.732 3.732z"})}),m0=t=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),AF=({isOpen:t,onClose:e,onSave:n,initialClass:r})=>{const[i,s]=le.useState(""),[o,l]=le.useState(""),[f,c]=le.useState(!1),[d,g]=le.useState("");le.useEffect(()=>{r?(s(r.name),l(r.code??"")):(s(""),l("")),g("")},[r,t]);const p=async x=>{if(x.preventDefault(),!i.trim()){g("Tên lớp không được để trống.");return}if(!o.trim()){g("Mã lớp không được để trống.");return}c(!0),g("");try{r?await xF({...r,name:i.trim(),code:o.trim()}):await gF(i.trim(),o.trim()),n()}catch(_){console.error("Failed to save class",_),g("Đã xảy ra lỗi khi lưu. Vui lòng thử lại.")}finally{c(!1)}};return t?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-md w-full",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Sửa lớp học":"Thêm lớp học mới"}),b.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-800 text-3xl leading-none",children:"×"})]}),b.jsxs("form",{onSubmit:p,className:"space-y-4",children:[d&&b.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-700 px-4 py-3 rounded-lg",children:d}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"className",className:"block text-sm font-medium text-gray-700",children:"Tên lớp"}),b.jsx("input",{id:"className",type:"text",value:i,onChange:x=>s(x.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"ví dụ: Lớp 12A1 - Khóa 2024"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"classCode",className:"block text-sm font-medium text-gray-700",children:"Mã lớp"}),b.jsx("input",{id:"classCode",type:"text",value:o,onChange:x=>l(x.target.value.toUpperCase()),required:!0,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 uppercase",placeholder:"ví dụ: LOP12A1"})]}),b.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[b.jsx("button",{type:"button",onClick:e,className:"bg-white hover:bg-gray-100 text-gray-800 font-bold py-2 px-4 rounded-lg border border-gray-300 transition-colors",children:"Hủy"}),b.jsx("button",{type:"submit",disabled:f,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center disabled:bg-indigo-400 transition-colors",children:f?b.jsx($t,{}):"Lưu"})]})]})]})}):null},hc=({currentPage:t,totalPages:e,onPageChange:n})=>e<=1?null:b.jsxs("div",{className:"flex items-center justify-between mt-4 px-1 py-3",children:[b.jsx("button",{onClick:()=>n(t-1),disabled:t===1,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trước"}),b.jsxs("span",{className:"text-sm text-gray-700",children:["Trang ",t," trên ",e]}),b.jsx("button",{onClick:()=>n(t+1),disabled:t===e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]}),CF=t=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),Dv=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>t?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity",children:b.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 md:p-8 max-w-md w-full",children:[b.jsxs("div",{className:"flex items-start space-x-4",children:[b.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-rose-100 sm:mx-0 sm:h-10 sm:w-10",children:b.jsx(CF,{className:"h-6 w-6 text-rose-600"})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r}),b.jsx("div",{className:"mt-2 text-sm text-gray-600",children:i})]})]}),b.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[b.jsx("button",{type:"button",onClick:e,className:"bg-white text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 font-bold py-2 px-4 rounded-lg transition-colors text-sm",children:"Hủy"}),b.jsx("button",{type:"button",onClick:()=>{n(),e()},className:"bg-rose-600 hover:bg-rose-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center transition-colors shadow-sm text-sm",children:"Xác nhận"})]})]})}):null;var Yd={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var IF=Yd.exports,Hw;function kF(){return Hw||(Hw=1,(function(t,e){((n,r)=>{t.exports=r()})(IF,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,l={},f=0,c={};function d(N){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(R){var V=D(R);V.chunkSize=parseInt(V.chunkSize),R.step||R.chunk||(V.chunkSize=null),this._handle=new w(V),(this._handle.streamer=this)._config=V}).call(this,N),this.parseChunk=function(R,V){var M=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<M){let q=this._config.newline;q||(F=this._config.quoteChar||'"',q=this._handle.guessLineEndings(R,F)),R=[...R.split(q).slice(M)].join(q)}this.isFirstChunk&&k(this._config.beforeFirstChunk)&&(F=this._config.beforeFirstChunk(R))!==void 0&&(R=F),this.isFirstChunk=!1,this._halted=!1;var M=this._partialLine+R,F=(this._partialLine="",this._handle.parse(M,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(R=F.meta.cursor,M=(this._finished||(this._partialLine=M.substring(R-this._baseIndex),this._baseIndex=R),F&&F.data&&(this._rowCount+=F.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:F,workerId:c.WORKER_ID,finished:M});else if(k(this._config.chunk)&&!V){if(this._config.chunk(F,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=F=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(F.data),this._completeResults.errors=this._completeResults.errors.concat(F.errors),this._completeResults.meta=F.meta),this._completed||!M||!k(this._config.complete)||F&&F.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),M||F&&F.meta.paused||this._nextChunk(),F}this._halted=!0},this._sendError=function(R){k(this._config.error)?this._config.error(R):o&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:R,finished:!1})}}function g(N){var R;(N=N||{}).chunkSize||(N.chunkSize=c.RemoteChunkSize),d.call(this,N),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(V){this._input=V,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(R=new XMLHttpRequest,this._config.withCredentials&&(R.withCredentials=this._config.withCredentials),s||(R.onload=O(this._chunkLoaded,this),R.onerror=O(this._chunkError,this)),R.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var V,M=this._config.downloadRequestHeaders;for(V in M)R.setRequestHeader(V,M[V])}var F;this._config.chunkSize&&(F=this._start+this._config.chunkSize-1,R.setRequestHeader("Range","bytes="+this._start+"-"+F));try{R.send(this._config.downloadRequestBody)}catch(q){this._chunkError(q.message)}s&&R.status===0&&this._chunkError()}},this._chunkLoaded=function(){R.readyState===4&&(R.status<200||400<=R.status?this._chunkError():(this._start+=this._config.chunkSize||R.responseText.length,this._finished=!this._config.chunkSize||this._start>=(V=>(V=V.getResponseHeader("Content-Range"))!==null?parseInt(V.substring(V.lastIndexOf("/")+1)):-1)(R),this.parseChunk(R.responseText)))},this._chunkError=function(V){V=R.statusText||V,this._sendError(new Error(V))}}function p(N){(N=N||{}).chunkSize||(N.chunkSize=c.LocalChunkSize),d.call(this,N);var R,V,M=typeof FileReader<"u";this.stream=function(F){this._input=F,V=F.slice||F.webkitSlice||F.mozSlice,M?((R=new FileReader).onload=O(this._chunkLoaded,this),R.onerror=O(this._chunkError,this)):R=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var F=this._input,q=(this._config.chunkSize&&(q=Math.min(this._start+this._config.chunkSize,this._input.size),F=V.call(F,this._start,q)),R.readAsText(F,this._config.encoding));M||this._chunkLoaded({target:{result:q}})},this._chunkLoaded=function(F){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(F.target.result)},this._chunkError=function(){this._sendError(R.error)}}function x(N){var R;d.call(this,N=N||{}),this.stream=function(V){return R=V,this._nextChunk()},this._nextChunk=function(){var V,M;if(!this._finished)return V=this._config.chunkSize,R=V?(M=R.substring(0,V),R.substring(V)):(M=R,""),this._finished=!R,this.parseChunk(M)}}function _(N){d.call(this,N=N||{});var R=[],V=!0,M=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(F){this._input=F,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){M&&R.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),R.length?this.parseChunk(R.shift()):V=!0},this._streamData=O(function(F){try{R.push(typeof F=="string"?F:F.toString(this._config.encoding)),V&&(V=!1,this._checkIsFinished(),this.parseChunk(R.shift()))}catch(q){this._streamError(q)}},this),this._streamError=O(function(F){this._streamCleanUp(),this._sendError(F)},this),this._streamEnd=O(function(){this._streamCleanUp(),M=!0,this._streamData("")},this),this._streamCleanUp=O(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(N){var R,V,M,F,q=Math.pow(2,53),ce=-q,oe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ae=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,se=this,ge=0,Z=0,Ee=!1,G=!1,z=[],Y={data:[],errors:[],meta:{}};function ee(Ne){return N.skipEmptyLines==="greedy"?Ne.join("").trim()==="":Ne.length===1&&Ne[0].length===0}function re(){if(Y&&M&&(Re("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),M=!1),N.skipEmptyLines&&(Y.data=Y.data.filter(function(K){return!ee(K)})),me()){let K=function(Ae,Fe){k(N.transformHeader)&&(Ae=N.transformHeader(Ae,Fe)),z.push(Ae)};var de=K;if(Y)if(Array.isArray(Y.data[0])){for(var Ne=0;me()&&Ne<Y.data.length;Ne++)Y.data[Ne].forEach(K);Y.data.splice(0,1)}else Y.data.forEach(K)}function he(K,Ae){for(var Fe=N.header?{}:[],Ke=0;Ke<K.length;Ke++){var qe=Ke,He=K[Ke],He=((nt,Ge)=>(We=>(N.dynamicTypingFunction&&N.dynamicTyping[We]===void 0&&(N.dynamicTyping[We]=N.dynamicTypingFunction(We)),(N.dynamicTyping[We]||N.dynamicTyping)===!0))(nt)?Ge==="true"||Ge==="TRUE"||Ge!=="false"&&Ge!=="FALSE"&&((We=>{if(oe.test(We)&&(We=parseFloat(We),ce<We&&We<q))return 1})(Ge)?parseFloat(Ge):ae.test(Ge)?new Date(Ge):Ge===""?null:Ge):Ge)(qe=N.header?Ke>=z.length?"__parsed_extra":z[Ke]:qe,He=N.transform?N.transform(He,qe):He);qe==="__parsed_extra"?(Fe[qe]=Fe[qe]||[],Fe[qe].push(He)):Fe[qe]=He}return N.header&&(Ke>z.length?Re("FieldMismatch","TooManyFields","Too many fields: expected "+z.length+" fields but parsed "+Ke,Z+Ae):Ke<z.length&&Re("FieldMismatch","TooFewFields","Too few fields: expected "+z.length+" fields but parsed "+Ke,Z+Ae)),Fe}var ke;Y&&(N.header||N.dynamicTyping||N.transform)&&(ke=1,!Y.data.length||Array.isArray(Y.data[0])?(Y.data=Y.data.map(he),ke=Y.data.length):Y.data=he(Y.data,0),N.header&&Y.meta&&(Y.meta.fields=z),Z+=ke)}function me(){return N.header&&z.length===0}function Re(Ne,he,ke,de){Ne={type:Ne,code:he,message:ke},de!==void 0&&(Ne.row=de),Y.errors.push(Ne)}k(N.step)&&(F=N.step,N.step=function(Ne){Y=Ne,me()?re():(re(),Y.data.length!==0&&(ge+=Ne.data.length,N.preview&&ge>N.preview?V.abort():(Y.data=Y.data[0],F(Y,se))))}),this.parse=function(Ne,he,ke){var de=N.quoteChar||'"',de=(N.newline||(N.newline=this.guessLineEndings(Ne,de)),M=!1,N.delimiter?k(N.delimiter)&&(N.delimiter=N.delimiter(Ne),Y.meta.delimiter=N.delimiter):((de=((K,Ae,Fe,Ke,qe)=>{var He,nt,Ge,We;qe=qe||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Yt=0;Yt<qe.length;Yt++){for(var ot,ut=qe[Yt],st=0,bt=0,dt=0,tn=(Ge=void 0,new I({comments:Ke,delimiter:ut,newline:Ae,preview:10}).parse(K)),wt=0;wt<tn.data.length;wt++)Fe&&ee(tn.data[wt])?dt++:(ot=tn.data[wt].length,bt+=ot,Ge===void 0?Ge=ot:0<ot&&(st+=Math.abs(ot-Ge),Ge=ot));0<tn.data.length&&(bt/=tn.data.length-dt),(nt===void 0||st<=nt)&&(We===void 0||We<bt)&&1.99<bt&&(nt=st,He=ut,We=bt)}return{successful:!!(N.delimiter=He),bestDelimiter:He}})(Ne,N.newline,N.skipEmptyLines,N.comments,N.delimitersToGuess)).successful?N.delimiter=de.bestDelimiter:(M=!0,N.delimiter=c.DefaultDelimiter),Y.meta.delimiter=N.delimiter),D(N));return N.preview&&N.header&&de.preview++,R=Ne,V=new I(de),Y=V.parse(R,he,ke),re(),Ee?{meta:{paused:!0}}:Y||{meta:{paused:!1}}},this.paused=function(){return Ee},this.pause=function(){Ee=!0,V.abort(),R=k(N.chunk)?"":R.substring(V.getCharIndex())},this.resume=function(){se.streamer._halted?(Ee=!1,se.streamer.parseChunk(R,!0)):setTimeout(se.resume,3)},this.aborted=function(){return G},this.abort=function(){G=!0,V.abort(),Y.meta.aborted=!0,k(N.complete)&&N.complete(Y),R=""},this.guessLineEndings=function(K,de){K=K.substring(0,1048576);var de=new RegExp(C(de)+"([^]*?)"+C(de),"gm"),ke=(K=K.replace(de,"")).split("\r"),de=K.split(`
`),K=1<de.length&&de[0].length<ke[0].length;if(ke.length===1||K)return`
`;for(var Ae=0,Fe=0;Fe<ke.length;Fe++)ke[Fe][0]===`
`&&Ae++;return Ae>=ke.length/2?`\r
`:"\r"}}function C(N){return N.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function I(N){var R=(N=N||{}).delimiter,V=N.newline,M=N.comments,F=N.step,q=N.preview,ce=N.fastMode,oe=null,ae=!1,se=N.quoteChar==null?'"':N.quoteChar,ge=se;if(N.escapeChar!==void 0&&(ge=N.escapeChar),(typeof R!="string"||-1<c.BAD_DELIMITERS.indexOf(R))&&(R=","),M===R)throw new Error("Comment character same as delimiter");M===!0?M="#":(typeof M!="string"||-1<c.BAD_DELIMITERS.indexOf(M))&&(M=!1),V!==`
`&&V!=="\r"&&V!==`\r
`&&(V=`
`);var Z=0,Ee=!1;this.parse=function(G,z,Y){if(typeof G!="string")throw new Error("Input must be a string");var ee=G.length,re=R.length,me=V.length,Re=M.length,Ne=k(F),he=[],ke=[],de=[],K=Z=0;if(!G)return st();if(ce||ce!==!1&&G.indexOf(se)===-1){for(var Ae=G.split(V),Fe=0;Fe<Ae.length;Fe++){if(de=Ae[Fe],Z+=de.length,Fe!==Ae.length-1)Z+=V.length;else if(Y)return st();if(!M||de.substring(0,Re)!==M){if(Ne){if(he=[],We(de.split(R)),bt(),Ee)return st()}else We(de.split(R));if(q&&q<=Fe)return he=he.slice(0,q),st(!0)}}return st()}for(var Ke=G.indexOf(R,Z),qe=G.indexOf(V,Z),He=new RegExp(C(ge)+C(se),"g"),nt=G.indexOf(se,Z);;)if(G[Z]===se)for(nt=Z,Z++;;){if((nt=G.indexOf(se,nt+1))===-1)return Y||ke.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:he.length,index:Z}),ot();if(nt===ee-1)return ot(G.substring(Z,nt).replace(He,se));if(se===ge&&G[nt+1]===ge)nt++;else if(se===ge||nt===0||G[nt-1]!==ge){Ke!==-1&&Ke<nt+1&&(Ke=G.indexOf(R,nt+1));var Ge=Yt((qe=qe!==-1&&qe<nt+1?G.indexOf(V,nt+1):qe)===-1?Ke:Math.min(Ke,qe));if(G.substr(nt+1+Ge,re)===R){de.push(G.substring(Z,nt).replace(He,se)),G[Z=nt+1+Ge+re]!==se&&(nt=G.indexOf(se,Z)),Ke=G.indexOf(R,Z),qe=G.indexOf(V,Z);break}if(Ge=Yt(qe),G.substring(nt+1+Ge,nt+1+Ge+me)===V){if(de.push(G.substring(Z,nt).replace(He,se)),ut(nt+1+Ge+me),Ke=G.indexOf(R,Z),nt=G.indexOf(se,Z),Ne&&(bt(),Ee))return st();if(q&&he.length>=q)return st(!0);break}ke.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:he.length,index:Z}),nt++}}else if(M&&de.length===0&&G.substring(Z,Z+Re)===M){if(qe===-1)return st();Z=qe+me,qe=G.indexOf(V,Z),Ke=G.indexOf(R,Z)}else if(Ke!==-1&&(Ke<qe||qe===-1))de.push(G.substring(Z,Ke)),Z=Ke+re,Ke=G.indexOf(R,Z);else{if(qe===-1)break;if(de.push(G.substring(Z,qe)),ut(qe+me),Ne&&(bt(),Ee))return st();if(q&&he.length>=q)return st(!0)}return ot();function We(dt){he.push(dt),K=Z}function Yt(dt){var tn=0;return tn=dt!==-1&&(dt=G.substring(nt+1,dt))&&dt.trim()===""?dt.length:tn}function ot(dt){return Y||(dt===void 0&&(dt=G.substring(Z)),de.push(dt),Z=ee,We(de),Ne&&bt()),st()}function ut(dt){Z=dt,We(de),de=[],qe=G.indexOf(V,Z)}function st(dt){if(N.header&&!z&&he.length&&!ae){var tn=he[0],wt=Object.create(null),Pn=new Set(tn);let ht=!1;for(let Ut=0;Ut<tn.length;Ut++){let nn=tn[Ut];if(wt[nn=k(N.transformHeader)?N.transformHeader(nn,Ut):nn]){let St,rn=wt[nn];for(;St=nn+"_"+rn,rn++,Pn.has(St););Pn.add(St),tn[Ut]=St,wt[nn]++,ht=!0,(oe=oe===null?{}:oe)[St]=nn}else wt[nn]=1,tn[Ut]=nn;Pn.add(nn)}ht&&console.warn("Duplicate headers found and renamed."),ae=!0}return{data:he,errors:ke,meta:{delimiter:R,linebreak:V,aborted:Ee,truncated:!!dt,cursor:K+(z||0),renamedHeaders:oe}}}function bt(){F(st()),he=[],ke=[]}},this.abort=function(){Ee=!0},this.getCharIndex=function(){return Z}}function P(N){var R=N.data,V=l[R.workerId],M=!1;if(R.error)V.userError(R.error,R.file);else if(R.results&&R.results.data){var F={abort:function(){M=!0,A(R.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:L,resume:L};if(k(V.userStep)){for(var q=0;q<R.results.data.length&&(V.userStep({data:R.results.data[q],errors:R.results.errors,meta:R.results.meta},F),!M);q++);delete R.results}else k(V.userChunk)&&(V.userChunk(R.results,F,R.file),delete R.results)}R.finished&&!M&&A(R.workerId,R.results)}function A(N,R){var V=l[N];k(V.userComplete)&&V.userComplete(R),V.terminate(),delete l[N]}function L(){throw new Error("Not implemented.")}function D(N){if(typeof N!="object"||N===null)return N;var R,V=Array.isArray(N)?[]:{};for(R in N)V[R]=D(N[R]);return V}function O(N,R){return function(){N.apply(R,arguments)}}function k(N){return typeof N=="function"}return c.parse=function(N,R){var V=(R=R||{}).dynamicTyping||!1;if(k(V)&&(R.dynamicTypingFunction=V,V={}),R.dynamicTyping=V,R.transform=!!k(R.transform)&&R.transform,!R.worker||!c.WORKERS_SUPPORTED)return V=null,c.NODE_STREAM_INPUT,typeof N=="string"?(N=(M=>M.charCodeAt(0)!==65279?M:M.slice(1))(N),V=new(R.download?g:x)(R)):N.readable===!0&&k(N.read)&&k(N.on)?V=new _(R):(r.File&&N instanceof File||N instanceof Object)&&(V=new p(R)),V.stream(N);(V=(()=>{var M;return!!c.WORKERS_SUPPORTED&&(M=(()=>{var F=r.URL||r.webkitURL||null,q=n.toString();return c.BLOB_URL||(c.BLOB_URL=F.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",q,")();"],{type:"text/javascript"})))})(),(M=new r.Worker(M)).onmessage=P,M.id=f++,l[M.id]=M)})()).userStep=R.step,V.userChunk=R.chunk,V.userComplete=R.complete,V.userError=R.error,R.step=k(R.step),R.chunk=k(R.chunk),R.complete=k(R.complete),R.error=k(R.error),delete R.worker,V.postMessage({input:N,config:R,workerId:V.id})},c.unparse=function(N,R){var V=!1,M=!0,F=",",q=`\r
`,ce='"',oe=ce+ce,ae=!1,se=null,ge=!1,Z=((()=>{if(typeof R=="object"){if(typeof R.delimiter!="string"||c.BAD_DELIMITERS.filter(function(z){return R.delimiter.indexOf(z)!==-1}).length||(F=R.delimiter),typeof R.quotes!="boolean"&&typeof R.quotes!="function"&&!Array.isArray(R.quotes)||(V=R.quotes),typeof R.skipEmptyLines!="boolean"&&typeof R.skipEmptyLines!="string"||(ae=R.skipEmptyLines),typeof R.newline=="string"&&(q=R.newline),typeof R.quoteChar=="string"&&(ce=R.quoteChar),typeof R.header=="boolean"&&(M=R.header),Array.isArray(R.columns)){if(R.columns.length===0)throw new Error("Option columns is empty");se=R.columns}R.escapeChar!==void 0&&(oe=R.escapeChar+ce),R.escapeFormulae instanceof RegExp?ge=R.escapeFormulae:typeof R.escapeFormulae=="boolean"&&R.escapeFormulae&&(ge=/^[=+\-@\t\r].*$/)}})(),new RegExp(C(ce),"g"));if(typeof N=="string"&&(N=JSON.parse(N)),Array.isArray(N)){if(!N.length||Array.isArray(N[0]))return Ee(null,N,ae);if(typeof N[0]=="object")return Ee(se||Object.keys(N[0]),N,ae)}else if(typeof N=="object")return typeof N.data=="string"&&(N.data=JSON.parse(N.data)),Array.isArray(N.data)&&(N.fields||(N.fields=N.meta&&N.meta.fields||se),N.fields||(N.fields=Array.isArray(N.data[0])?N.fields:typeof N.data[0]=="object"?Object.keys(N.data[0]):[]),Array.isArray(N.data[0])||typeof N.data[0]=="object"||(N.data=[N.data])),Ee(N.fields||[],N.data||[],ae);throw new Error("Unable to serialize unrecognized input");function Ee(z,Y,ee){var re="",me=(typeof z=="string"&&(z=JSON.parse(z)),typeof Y=="string"&&(Y=JSON.parse(Y)),Array.isArray(z)&&0<z.length),Re=!Array.isArray(Y[0]);if(me&&M){for(var Ne=0;Ne<z.length;Ne++)0<Ne&&(re+=F),re+=G(z[Ne],Ne);0<Y.length&&(re+=q)}for(var he=0;he<Y.length;he++){var ke=(me?z:Y[he]).length,de=!1,K=me?Object.keys(Y[he]).length===0:Y[he].length===0;if(ee&&!me&&(de=ee==="greedy"?Y[he].join("").trim()==="":Y[he].length===1&&Y[he][0].length===0),ee==="greedy"&&me){for(var Ae=[],Fe=0;Fe<ke;Fe++){var Ke=Re?z[Fe]:Fe;Ae.push(Y[he][Ke])}de=Ae.join("").trim()===""}if(!de){for(var qe=0;qe<ke;qe++){0<qe&&!K&&(re+=F);var He=me&&Re?z[qe]:qe;re+=G(Y[he][He],qe)}he<Y.length-1&&(!ee||0<ke&&!K)&&(re+=q)}}return re}function G(z,Y){var ee,re;return z==null?"":z.constructor===Date?JSON.stringify(z).slice(1,25):(re=!1,ge&&typeof z=="string"&&ge.test(z)&&(z="'"+z,re=!0),ee=z.toString().replace(Z,oe),(re=re||V===!0||typeof V=="function"&&V(z,Y)||Array.isArray(V)&&V[Y]||((me,Re)=>{for(var Ne=0;Ne<Re.length;Ne++)if(-1<me.indexOf(Re[Ne]))return!0;return!1})(ee,c.BAD_DELIMITERS)||-1<ee.indexOf(F)||ee.charAt(0)===" "||ee.charAt(ee.length-1)===" ")?ce+ee+ce:ee)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=I,c.ParserHandle=w,c.NetworkStreamer=g,c.FileStreamer=p,c.StringStreamer=x,c.ReadableStreamStreamer=_,r.jQuery&&((i=r.jQuery).fn.parse=function(N){var R=N.config||{},V=[];return this.each(function(q){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var ce=0;ce<this.files.length;ce++)V.push({file:this.files[ce],inputElem:this,instanceConfig:i.extend({},R)})}),M(),this;function M(){if(V.length===0)k(N.complete)&&N.complete();else{var q,ce,oe,ae,se=V[0];if(k(N.before)){var ge=N.before(se.file,se.inputElem);if(typeof ge=="object"){if(ge.action==="abort")return q="AbortError",ce=se.file,oe=se.inputElem,ae=ge.reason,void(k(N.error)&&N.error({name:q},ce,oe,ae));if(ge.action==="skip")return void F();typeof ge.config=="object"&&(se.instanceConfig=i.extend(se.instanceConfig,ge.config))}else if(ge==="skip")return void F()}var Z=se.instanceConfig.complete;se.instanceConfig.complete=function(Ee){k(Z)&&Z(Ee,se.file,se.inputElem),F()},c.parse(se.file,se.instanceConfig)}}function F(){V.splice(0,1),M()}}),o&&(r.onmessage=function(N){N=N.data,c.WORKER_ID===void 0&&N&&(c.WORKER_ID=N.workerId),typeof N.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(N.input,N.config),finished:!0}):(r.File&&N.input instanceof File||N.input instanceof Object)&&(N=c.parse(N.input,N.config))&&r.postMessage({workerId:c.WORKER_ID,results:N,finished:!0})}),(g.prototype=Object.create(d.prototype)).constructor=g,(p.prototype=Object.create(d.prototype)).constructor=p,(x.prototype=Object.create(x.prototype)).constructor=x,(_.prototype=Object.create(d.prototype)).constructor=_,c})})(Yd)),Yd.exports}var RF=kF();const NF=Vp(RF);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var a6=1252,DF=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Mv={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Pv=function(t){DF.indexOf(t)!=-1&&(a6=Mv[0]=t)};function MF(){Pv(1252)}var ns=function(t){Pv(t)};function o6(){ns(1200),MF()}function zw(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function PF(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function u6(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var Lf=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?PF(t.slice(2)):e==254&&n==255?u6(t.slice(2)):e==65279?t.slice(1):t},Td=function(e){return String.fromCharCode(e)},Gw=function(e){return String.fromCharCode(e)},g0,mo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function jw(t){for(var e="",n=0,r=0,i=0,s=0,o=0,l=0,f=0,c=0;c<t.length;)n=t.charCodeAt(c++),s=n>>2,r=t.charCodeAt(c++),o=(n&3)<<4|r>>4,i=t.charCodeAt(c++),l=(r&15)<<2|i>>6,f=i&63,isNaN(r)?l=f=64:isNaN(i)&&(f=64),e+=mo.charAt(s)+mo.charAt(o)+mo.charAt(l)+mo.charAt(f);return e}function di(t){var e="",n=0,r=0,i=0,s=0,o=0,l=0,f=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=mo.indexOf(t.charAt(c++)),o=mo.indexOf(t.charAt(c++)),n=s<<2|o>>4,e+=String.fromCharCode(n),l=mo.indexOf(t.charAt(c++)),r=(o&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(r)),f=mo.indexOf(t.charAt(c++)),i=(l&3)<<6|f,f!==64&&(e+=String.fromCharCode(i));return e}var Pt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Hu=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Po(t){return Pt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function $w(t){return Pt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var es=function(e){return Pt?Hu(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function zu(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function Lv(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return Lv(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var ho=Pt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Hu(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function LF(t){for(var e=[],n=0,r=t.length+250,i=Po(t.length+255),s=0;s<t.length;++s){var o=t.charCodeAt(s);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=t.charCodeAt(++s)&1023;i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|l>>6&15|(o&3)<<4,i[n++]=128|l&63}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|o&63;n>r&&(e.push(i.slice(0,n)),n=0,i=Po(65535),r=65530)}return e.push(i.slice(0,n)),ho(e)}var Fr=/\u0000/g,Of=/[\u0001-\u0006]/g;function Ql(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function rs(t,e){var n=""+t;return n.length>=e?n:An("0",e-n.length)+n}function Ov(t,e){var n=""+t;return n.length>=e?n:An(" ",e-n.length)+n}function vp(t,e){var n=""+t;return n.length>=e?n:n+An(" ",e-n.length)}function OF(t,e){var n=""+Math.round(t);return n.length>=e?n:An("0",e-n.length)+n}function FF(t,e){var n=""+t;return n.length>=e?n:An("0",e-n.length)+n}var Ww=Math.pow(2,32);function Ol(t,e){if(t>Ww||t<-Ww)return OF(t,e);var n=Math.round(t);return FF(n,e)}function _p(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var Kw=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],H1=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function UF(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var _t={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},Yw={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},VF={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Tp(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,o=1,l=0,f=1,c=0,d=0,g=Math.floor(i);c<e&&(g=Math.floor(i),l=g*o+s,d=g*c+f,!(i-g<5e-8));)i=1/(i-g),s=o,o=l,f=c,c=d;if(d>e&&(c>e?(d=f,l=s):(d=c,l=o)),!n)return[0,r*l,d];var p=Math.floor(r*l/d);return[p,r*l-p*d,d]}function bu(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,o=[],l={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(r+=1462),l.u>.9999&&(l.u=0,++i==86400&&(l.T=i=0,++r,++l.D)),r===60)o=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var f=new Date(1900,0,1);f.setDate(f.getDate()+r-1),o=[f.getFullYear(),f.getMonth()+1,f.getDate()],s=f.getDay(),r<60&&(s=(s+6)%7),n&&(s=jF(f,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=i%60,i=Math.floor(i/60),l.M=i%60,i=Math.floor(i/60),l.H=i,l.q=s,l}var l6=new Date(1899,11,31,0,0,0),BF=l6.getTime(),qF=new Date(1900,2,1,0,0,0);function c6(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=qF&&(n+=1440*60*1e3),(n-(BF+(t.getTimezoneOffset()-l6.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Fv(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function HF(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function zF(t){var e=t<0?12:11,n=Fv(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function GF(t){var e=Fv(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function x0(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=zF(t):e===10?n=t.toFixed(10).substr(0,12):n=GF(t),Fv(HF(n.toUpperCase()))}function Nu(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):x0(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Mi(14,c6(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function jF(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function $F(t,e,n,r){var i="",s=0,o=0,l=n.y,f,c=0;switch(t){case 98:l=n.y+543;case 121:switch(e.length){case 1:case 2:f=l%100,c=2;break;default:f=l%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:f=n.m,c=e.length;break;case 3:return H1[n.m-1][1];case 5:return H1[n.m-1][0];default:return H1[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:f=n.d,c=e.length;break;case 3:return Kw[n.q][0];default:return Kw[n.q][1]}break;case 104:switch(e.length){case 1:case 2:f=1+(n.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:f=n.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:f=n.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?rs(n.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(n.S+n.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(i=rs(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":f=n.D*24+n.H;break;case"[m]":case"[mm]":f=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":f=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:f=l,c=1;break}var d=c>0?rs(f,c):"";return d}function go(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var f6=/%/g;function WF(t,e,n){var r=e.replace(f6,""),i=e.length-r.length;return ga(t,r,n*Math.pow(10,2*i))+An("%",i)}function KF(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ga(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function h6(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+h6(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,f,c,d){return f+c+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var d6=/# (\?+)( ?)\/( ?)(\d+)/;function YF(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),o=i-s*r,l=r;return n+(s===0?"":""+s)+" "+(o===0?An(" ",t[1].length+1+t[4].length):Ov(o,t[1].length)+t[2]+"/"+t[3]+rs(l,t[4].length))}function XF(t,e,n){return n+(e===0?"":""+e)+An(" ",t[1].length+2+t[4].length)}var p6=/^#*0*\.([0#]+)/,m6=/\).*[0#]/,g6=/\(###\) ###\\?-####/;function Mr(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function Xw(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function Jw(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function JF(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function QF(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ii(t,e,n){if(t.charCodeAt(0)===40&&!e.match(m6)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ii("n",r,n):"("+Ii("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return KF(t,e,n);if(e.indexOf("%")!==-1)return WF(t,e,n);if(e.indexOf("E")!==-1)return h6(e,n);if(e.charCodeAt(0)===36)return"$"+Ii(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,o,l,f=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+Ol(f,e.length);if(e.match(/^[#?]+$/))return i=Ol(n,0),i==="0"&&(i=""),i.length>e.length?i:Mr(e.substr(0,e.length-i.length))+i;if(s=e.match(d6))return YF(s,f,c);if(e.match(/^#+0+$/))return c+Ol(f,e.length-e.indexOf("0"));if(s=e.match(p6))return i=Xw(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Mr(s[1])).replace(/\.$/,"."+Mr(s[1])).replace(/\.(\d*)$/,function(_,w){return"."+w+An("0",Mr(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+Xw(f,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+go(Ol(f,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ii(t,e,-n):go(""+(Math.floor(n)+JF(n,s[1].length)))+"."+rs(Jw(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Ii(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Ql(Ii(t,e.replace(/[\\-]/g,""),n)),o=0,Ql(Ql(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return o<i.length?i.charAt(o++):_==="0"?"0":""}));if(e.match(g6))return i=Ii(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=Tp(f,Math.pow(10,o)-1,!1),i=""+c,d=ga("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=vp(l[2],o),d.length<s[4].length&&(d=Mr(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=Tp(f,Math.pow(10,o)-1,!0),c+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Ov(l[1],o)+s[2]+"/"+s[3]+vp(l[2],o):An(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Ol(n,0),e.length<=i.length?i:Mr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var g=e.indexOf(".")-o,p=e.length-i.length-g;return Mr(e.substr(0,g)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=Jw(n,s[1].length),n<0?"-"+Ii(t,e,-n):go(QF(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?rs(0,3-_.length):"")+_})+"."+rs(o,s[1].length);switch(e){case"###,##0.00":return Ii(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var x=go(Ol(f,0));return x!=="0"?c+x:"";case"###,###.00":return Ii(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Ii(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function ZF(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ga(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function e7(t,e,n){var r=e.replace(f6,""),i=e.length-r.length;return ga(t,r,n*Math.pow(10,2*i))+An("%",i)}function x6(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+x6(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,f,c,d){return f+c+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Es(t,e,n){if(t.charCodeAt(0)===40&&!e.match(m6)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Es("n",r,n):"("+Es("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return ZF(t,e,n);if(e.indexOf("%")!==-1)return e7(t,e,n);if(e.indexOf("E")!==-1)return x6(e,n);if(e.charCodeAt(0)===36)return"$"+Es(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,o,l,f=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+rs(f,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:Mr(e.substr(0,e.length-i.length))+i;if(s=e.match(d6))return XF(s,f,c);if(e.match(/^#+0+$/))return c+rs(f,e.length-e.indexOf("0"));if(s=e.match(p6))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Mr(s[1])).replace(/\.$/,"."+Mr(s[1])),i=i.replace(/\.(\d*)$/,function(_,w){return"."+w+An("0",Mr(s[1]).length-w.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+f).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+go(""+f);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Es(t,e,-n):go(""+n)+"."+An("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Es(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Ql(Es(t,e.replace(/[\\-]/g,""),n)),o=0,Ql(Ql(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return o<i.length?i.charAt(o++):_==="0"?"0":""}));if(e.match(g6))return i=Es(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=Tp(f,Math.pow(10,o)-1,!1),i=""+c,d=ga("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=vp(l[2],o),d.length<s[4].length&&(d=Mr(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=Tp(f,Math.pow(10,o)-1,!0),c+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Ov(l[1],o)+s[2]+"/"+s[3]+vp(l[2],o):An(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:Mr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var g=e.indexOf(".")-o,p=e.length-i.length-g;return Mr(e.substr(0,g)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Es(t,e,-n):go(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?rs(0,3-_.length):"")+_})+"."+rs(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var x=go(""+f);return x!=="0"?c+x:"";default:if(e.match(/\.[0#?]*$/))return Es(t,e.slice(0,e.lastIndexOf(".")),n)+Mr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function ga(t,e,n){return(n|0)===n?Es(t,e,n):Ii(t,e,n)}function t7(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var y6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function wc(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":_p(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(y6))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function n7(t,e,n,r){for(var i=[],s="",o=0,l="",f="t",c,d,g,p="H";o<t.length;)switch(l=t.charAt(o)){case"G":if(!_p(t,o))throw new Error("unrecognized character "+l+" in "+t);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(g=t.charCodeAt(++o))!==34&&o<t.length;)s+=String.fromCharCode(g);i[i.length]={t:"t",v:s},++o;break;case"\\":var x=t.charAt(++o),_=x==="("||x===")"?x:"t";i[i.length]={t:_,v:x},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(c==null&&(c=bu(e,n,t.charAt(o+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(o,2)},f=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=bu(e,n),c==null))return"";for(s=l;++o<t.length&&t.charAt(o).toLowerCase()===l;)s+=l;l==="m"&&f.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=p),i[i.length]={t:l,v:s},f=l;break;case"A":case"a":case"上":var w={t:l,v:l};if(c==null&&(c=bu(e,n)),t.substr(o,3).toUpperCase()==="A/P"?(c!=null&&(w.v=c.H>=12?"P":"A"),w.t="T",p="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(c!=null&&(w.v=c.H>=12?"PM":"AM"),w.t="T",o+=5,p="h"):t.substr(o,5).toUpperCase()==="上午/下午"?(c!=null&&(w.v=c.H>=12?"下午":"上午"),w.t="T",o+=5,p="h"):(w.t="t",++o),c==null&&w.t==="T")return"";i[i.length]=w,f=l;break;case"[":for(s=l;t.charAt(o++)!=="]"&&o<t.length;)s+=t.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(y6)){if(c==null&&(c=bu(e,n),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},f=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",wc(t)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=l;++o<t.length&&(l=t.charAt(o))==="0";)s+=l;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++o<t.length&&"0#?.,E+-%".indexOf(l=t.charAt(o))>-1;)s+=l;i[i.length]={t:"n",v:s};break;case"?":for(s=l;t.charAt(++o)===l;)s+=l;i[i.length]={t:l,v:s},f=l;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)s+=t.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:l,v:l},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+t);i[i.length]={t:"t",v:l},++o;break}var C=0,I=0,P;for(o=i.length-1,f="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=p,f="h",C<1&&(C=1);break;case"s":(P=i[o].v.match(/\.0+$/))&&(I=Math.max(I,P[0].length-1)),C<3&&(C=3);case"d":case"y":case"M":case"e":f=i[o].t;break;case"m":f==="s"&&(i[o].t="M",C<2&&(C=2));break;case"X":break;case"Z":C<1&&i[o].v.match(/[Hh]/)&&(C=1),C<2&&i[o].v.match(/[Mm]/)&&(C=2),C<3&&i[o].v.match(/[Ss]/)&&(C=3)}switch(C){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var A="",L;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=$F(i[o].t.charCodeAt(0),i[o].v,c,I),i[o].t="t";break;case"n":case"?":for(L=o+1;i[L]!=null&&((l=i[L].t)==="?"||l==="D"||(l===" "||l==="t")&&i[L+1]!=null&&(i[L+1].t==="?"||i[L+1].t==="t"&&i[L+1].v==="/")||i[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(i[L].v==="/"||i[L].v===" "&&i[L+1]!=null&&i[L+1].t=="?"));)i[o].v+=i[L].v,i[L]={v:"",t:";"},++L;A+=i[o].v,o=L-1;break;case"G":i[o].t="t",i[o].v=Nu(e,n);break}var D="",O,k;if(A.length>0){A.charCodeAt(0)==40?(O=e<0&&A.charCodeAt(0)===45?-e:e,k=ga("n",A,O)):(O=e<0&&r>1?-e:e,k=ga("n",A,O),O<0&&i[0]&&i[0].t=="t"&&(k=k.substr(1),i[0].v="-"+i[0].v)),L=k.length-1;var N=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){N=o;break}var R=i.length;if(N===i.length&&k.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(L>=i[o].v.length-1?(L-=i[o].v.length,i[o].v=k.substr(L+1,i[o].v.length)):L<0?i[o].v="":(i[o].v=k.substr(0,L+1),L=-1),i[o].t="t",R=o);L>=0&&R<i.length&&(i[R].v=k.substr(0,L+1)+i[R].v)}else if(N!==i.length&&k.indexOf("E")===-1){for(L=k.indexOf(".")-1,o=N;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(d=i[o].v.indexOf(".")>-1&&o===N?i[o].v.indexOf(".")-1:i[o].v.length-1,D=i[o].v.substr(d+1);d>=0;--d)L>=0&&(i[o].v.charAt(d)==="0"||i[o].v.charAt(d)==="#")&&(D=k.charAt(L--)+D);i[o].v=D,i[o].t="t",R=o}for(L>=0&&R<i.length&&(i[R].v=k.substr(0,L+1)+i[R].v),L=k.indexOf(".")+1,o=N;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==N)){for(d=i[o].v.indexOf(".")>-1&&o===N?i[o].v.indexOf(".")+1:0,D=i[o].v.substr(0,d);d<i[o].v.length;++d)L<k.length&&(D+=k.charAt(L++));i[o].v=D,i[o].t="t",R=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(O=r>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=ga(i[o].t,i[o].v,O),i[o].t="t");var V="";for(o=0;o!==i.length;++o)i[o]!=null&&(V+=i[o].v);return V}var Qw=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Zw(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function r7(t,e){var n=t7(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(Qw),l=n[1].match(Qw);return Zw(e,o)?[r,n[0]]:Zw(e,l)?[r,n[1]]:[r,n[o!=null&&l!=null?2:1]]}return[r,s]}function Mi(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:_t)[t],r==null&&(r=n.table&&n.table[Yw[t]]||_t[Yw[t]]),r==null&&(r=VF[t]||"General");break}if(_p(r,0))return Nu(e,n);e instanceof Date&&(e=c6(e,n.date1904));var i=r7(r,e);if(_p(i[1]))return Nu(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return n7(i[1],e,n,i[0])}function wu(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(_t[n]==null){e<0&&(e=n);continue}if(_t[n]==t){e=n;break}}e<0&&(e=391)}return _t[e]=t,e}function v6(){_t=UF()}var i7={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},_6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function s7(t){var e=typeof t=="number"?_t[t]:t;return e=e.replace(_6,"(\\d+)"),new RegExp("^"+e+"$")}function a7(t,e,n){var r=-1,i=-1,s=-1,o=-1,l=-1,f=-1;(e.match(_6)||[]).forEach(function(g,p){var x=parseInt(n[p+1],10);switch(g.toLowerCase().charAt(0)){case"y":r=x;break;case"d":s=x;break;case"h":o=x;break;case"s":f=x;break;case"m":o>=0?l=x:i=x;break}}),f>=0&&l==-1&&i>=0&&(l=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2);return o==-1&&l==-1&&f==-1?c:r==-1&&i==-1&&s==-1?d:c+"T"+d}var o7=(function(){var t={};t.version="1.2.0";function e(){for(var k=0,N=new Array(256),R=0;R!=256;++R)k=R,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,N[R]=k;return typeof Int32Array<"u"?new Int32Array(N):N}var n=e();function r(k){var N=0,R=0,V=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(V=0;V!=256;++V)M[V]=k[V];for(V=0;V!=256;++V)for(R=k[V],N=256+V;N<4096;N+=256)R=M[N]=R>>>8^k[R&255];var F=[];for(V=1;V!=16;++V)F[V-1]=typeof Int32Array<"u"?M.subarray(V*256,V*256+256):M.slice(V*256,V*256+256);return F}var i=r(n),s=i[0],o=i[1],l=i[2],f=i[3],c=i[4],d=i[5],g=i[6],p=i[7],x=i[8],_=i[9],w=i[10],C=i[11],I=i[12],P=i[13],A=i[14];function L(k,N){for(var R=N^-1,V=0,M=k.length;V<M;)R=R>>>8^n[(R^k.charCodeAt(V++))&255];return~R}function D(k,N){for(var R=N^-1,V=k.length-15,M=0;M<V;)R=A[k[M++]^R&255]^P[k[M++]^R>>8&255]^I[k[M++]^R>>16&255]^C[k[M++]^R>>>24]^w[k[M++]]^_[k[M++]]^x[k[M++]]^p[k[M++]]^g[k[M++]]^d[k[M++]]^c[k[M++]]^f[k[M++]]^l[k[M++]]^o[k[M++]]^s[k[M++]]^n[k[M++]];for(V+=15;M<V;)R=R>>>8^n[(R^k[M++])&255];return~R}function O(k,N){for(var R=N^-1,V=0,M=k.length,F=0,q=0;V<M;)F=k.charCodeAt(V++),F<128?R=R>>>8^n[(R^F)&255]:F<2048?(R=R>>>8^n[(R^(192|F>>6&31))&255],R=R>>>8^n[(R^(128|F&63))&255]):F>=55296&&F<57344?(F=(F&1023)+64,q=k.charCodeAt(V++)&1023,R=R>>>8^n[(R^(240|F>>8&7))&255],R=R>>>8^n[(R^(128|F>>2&63))&255],R=R>>>8^n[(R^(128|q>>6&15|(F&3)<<4))&255],R=R>>>8^n[(R^(128|q&63))&255]):(R=R>>>8^n[(R^(224|F>>12&15))&255],R=R>>>8^n[(R^(128|F>>6&63))&255],R=R>>>8^n[(R^(128|F&63))&255]);return~R}return t.table=n,t.bstr=L,t.buf=D,t.str=O,t})(),Ot=(function(){var e={};e.version="1.2.1";function n(j,ne){for(var X=j.split("/"),Q=ne.split("/"),te=0,ie=0,ve=Math.min(X.length,Q.length);te<ve;++te){if(ie=X[te].length-Q[te].length)return ie;if(X[te]!=Q[te])return X[te]<Q[te]?-1:1}return X.length-Q.length}function r(j){if(j.charAt(j.length-1)=="/")return j.slice(0,-1).indexOf("/")===-1?j:r(j.slice(0,-1));var ne=j.lastIndexOf("/");return ne===-1?j:j.slice(0,ne+1)}function i(j){if(j.charAt(j.length-1)=="/")return i(j.slice(0,-1));var ne=j.lastIndexOf("/");return ne===-1?j:j.slice(ne+1)}function s(j,ne){typeof ne=="string"&&(ne=new Date(ne));var X=ne.getHours();X=X<<6|ne.getMinutes(),X=X<<5|ne.getSeconds()>>>1,j.write_shift(2,X);var Q=ne.getFullYear()-1980;Q=Q<<4|ne.getMonth()+1,Q=Q<<5|ne.getDate(),j.write_shift(2,Q)}function o(j){var ne=j.read_shift(2)&65535,X=j.read_shift(2)&65535,Q=new Date,te=X&31;X>>>=5;var ie=X&15;X>>>=4,Q.setMilliseconds(0),Q.setFullYear(X+1980),Q.setMonth(ie-1),Q.setDate(te);var ve=ne&31;ne>>>=5;var De=ne&63;return ne>>>=6,Q.setHours(ne),Q.setMinutes(De),Q.setSeconds(ve<<1),Q}function l(j){lr(j,0);for(var ne={},X=0;j.l<=j.length-4;){var Q=j.read_shift(2),te=j.read_shift(2),ie=j.l+te,ve={};switch(Q){case 21589:X=j.read_shift(1),X&1&&(ve.mtime=j.read_shift(4)),te>5&&(X&2&&(ve.atime=j.read_shift(4)),X&4&&(ve.ctime=j.read_shift(4))),ve.mtime&&(ve.mt=new Date(ve.mtime*1e3));break}j.l=ie,ne[Q]=ve}return ne}var f;function c(){return f||(f={})}function d(j,ne){if(j[0]==80&&j[1]==75)return Qr(j,ne);if((j[0]|32)==109&&(j[1]|32)==105)return Bs(j,ne);if(j.length<512)throw new Error("CFB file size "+j.length+" < 512");var X=3,Q=512,te=0,ie=0,ve=0,De=0,_e=0,we=[],be=j.slice(0,512);lr(be,0);var Be=g(be);switch(X=Be[0],X){case 3:Q=512;break;case 4:Q=4096;break;case 0:if(Be[1]==0)return Qr(j,ne);default:throw new Error("Major Version: Expected 3 or 4 saw "+X)}Q!==512&&(be=j.slice(0,Q),lr(be,28));var ze=j.slice(0,Q);p(be,X);var Ye=be.read_shift(4,"i");if(X===3&&Ye!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ye);be.l+=4,ve=be.read_shift(4,"i"),be.l+=4,be.chk("00100000","Mini Stream Cutoff Size: "),De=be.read_shift(4,"i"),te=be.read_shift(4,"i"),_e=be.read_shift(4,"i"),ie=be.read_shift(4,"i");for(var Ve=-1,$e=0;$e<109&&(Ve=be.read_shift(4,"i"),!(Ve<0));++$e)we[$e]=Ve;var Ze=x(j,Q);C(_e,ie,Ze,Q,we);var Xt=P(Ze,ve,we,Q);Xt[ve].name="!Directory",te>0&&De!==q&&(Xt[De].name="!MiniFAT"),Xt[we[0]].name="!FAT",Xt.fat_addrs=we,Xt.ssz=Q;var Jt={},cn=[],pr=[],Oi=[];A(ve,Xt,Ze,cn,te,Jt,pr,De),_(pr,Oi,cn),cn.shift();var Fi={FileIndex:pr,FullPaths:Oi};return ne&&ne.raw&&(Fi.raw={header:ze,sectors:Ze}),Fi}function g(j){if(j[j.l]==80&&j[j.l+1]==75)return[0,0];j.chk(ce,"Header Signature: "),j.l+=16;var ne=j.read_shift(2,"u");return[j.read_shift(2,"u"),ne]}function p(j,ne){var X=9;switch(j.l+=2,X=j.read_shift(2)){case 9:if(ne!=3)throw new Error("Sector Shift: Expected 9 saw "+X);break;case 12:if(ne!=4)throw new Error("Sector Shift: Expected 12 saw "+X);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+X)}j.chk("0600","Mini Sector Shift: "),j.chk("000000000000","Reserved: ")}function x(j,ne){for(var X=Math.ceil(j.length/ne)-1,Q=[],te=1;te<X;++te)Q[te-1]=j.slice(te*ne,(te+1)*ne);return Q[X-1]=j.slice(X*ne),Q}function _(j,ne,X){for(var Q=0,te=0,ie=0,ve=0,De=0,_e=X.length,we=[],be=[];Q<_e;++Q)we[Q]=be[Q]=Q,ne[Q]=X[Q];for(;De<be.length;++De)Q=be[De],te=j[Q].L,ie=j[Q].R,ve=j[Q].C,we[Q]===Q&&(te!==-1&&we[te]!==te&&(we[Q]=we[te]),ie!==-1&&we[ie]!==ie&&(we[Q]=we[ie])),ve!==-1&&(we[ve]=Q),te!==-1&&Q!=we[Q]&&(we[te]=we[Q],be.lastIndexOf(te)<De&&be.push(te)),ie!==-1&&Q!=we[Q]&&(we[ie]=we[Q],be.lastIndexOf(ie)<De&&be.push(ie));for(Q=1;Q<_e;++Q)we[Q]===Q&&(ie!==-1&&we[ie]!==ie?we[Q]=we[ie]:te!==-1&&we[te]!==te&&(we[Q]=we[te]));for(Q=1;Q<_e;++Q)if(j[Q].type!==0){if(De=Q,De!=we[De])do De=we[De],ne[Q]=ne[De]+"/"+ne[Q];while(De!==0&&we[De]!==-1&&De!=we[De]);we[Q]=-1}for(ne[0]+="/",Q=1;Q<_e;++Q)j[Q].type!==2&&(ne[Q]+="/")}function w(j,ne,X){for(var Q=j.start,te=j.size,ie=[],ve=Q;X&&te>0&&ve>=0;)ie.push(ne.slice(ve*F,ve*F+F)),te-=F,ve=_u(X,ve*4);return ie.length===0?Wn(0):ho(ie).slice(0,j.size)}function C(j,ne,X,Q,te){var ie=q;if(j===q){if(ne!==0)throw new Error("DIFAT chain shorter than expected")}else if(j!==-1){var ve=X[j],De=(Q>>>2)-1;if(!ve)return;for(var _e=0;_e<De&&(ie=_u(ve,_e*4))!==q;++_e)te.push(ie);C(_u(ve,Q-4),ne-1,X,Q,te)}}function I(j,ne,X,Q,te){var ie=[],ve=[];te||(te=[]);var De=Q-1,_e=0,we=0;for(_e=ne;_e>=0;){te[_e]=!0,ie[ie.length]=_e,ve.push(j[_e]);var be=X[Math.floor(_e*4/Q)];if(we=_e*4&De,Q<4+we)throw new Error("FAT boundary crossed: "+_e+" 4 "+Q);if(!j[be])break;_e=_u(j[be],we)}return{nodes:ie,data:lS([ve])}}function P(j,ne,X,Q){var te=j.length,ie=[],ve=[],De=[],_e=[],we=Q-1,be=0,Be=0,ze=0,Ye=0;for(be=0;be<te;++be)if(De=[],ze=be+ne,ze>=te&&(ze-=te),!ve[ze]){_e=[];var Ve=[];for(Be=ze;Be>=0;){Ve[Be]=!0,ve[Be]=!0,De[De.length]=Be,_e.push(j[Be]);var $e=X[Math.floor(Be*4/Q)];if(Ye=Be*4&we,Q<4+Ye)throw new Error("FAT boundary crossed: "+Be+" 4 "+Q);if(!j[$e]||(Be=_u(j[$e],Ye),Ve[Be]))break}ie[ze]={nodes:De,data:lS([_e])}}return ie}function A(j,ne,X,Q,te,ie,ve,De){for(var _e=0,we=Q.length?2:0,be=ne[j].data,Be=0,ze=0,Ye;Be<be.length;Be+=128){var Ve=be.slice(Be,Be+128);lr(Ve,64),ze=Ve.read_shift(2),Ye=Hv(Ve,0,ze-we),Q.push(Ye);var $e={name:Ye,type:Ve.read_shift(1),color:Ve.read_shift(1),L:Ve.read_shift(4,"i"),R:Ve.read_shift(4,"i"),C:Ve.read_shift(4,"i"),clsid:Ve.read_shift(16),state:Ve.read_shift(4,"i"),start:0,size:0},Ze=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);Ze!==0&&($e.ct=L(Ve,Ve.l-8));var Xt=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);Xt!==0&&($e.mt=L(Ve,Ve.l-8)),$e.start=Ve.read_shift(4,"i"),$e.size=Ve.read_shift(4,"i"),$e.size<0&&$e.start<0&&($e.size=$e.type=0,$e.start=q,$e.name=""),$e.type===5?(_e=$e.start,te>0&&_e!==q&&(ne[_e].name="!StreamData")):$e.size>=4096?($e.storage="fat",ne[$e.start]===void 0&&(ne[$e.start]=I(X,$e.start,ne.fat_addrs,ne.ssz)),ne[$e.start].name=$e.name,$e.content=ne[$e.start].data.slice(0,$e.size)):($e.storage="minifat",$e.size<0?$e.size=0:_e!==q&&$e.start!==q&&ne[_e]&&($e.content=w($e,ne[_e].data,(ne[De]||{}).data))),$e.content&&lr($e.content,0),ie[Ye]=$e,ve.push($e)}}function L(j,ne){return new Date((li(j,ne+4)/1e7*Math.pow(2,32)+li(j,ne)/1e7-11644473600)*1e3)}function D(j,ne){return c(),d(f.readFileSync(j),ne)}function O(j,ne){var X=ne&&ne.type;switch(X||Pt&&Buffer.isBuffer(j)&&(X="buffer"),X||"base64"){case"file":return D(j,ne);case"base64":return d(es(di(j)),ne);case"binary":return d(es(j),ne)}return d(j,ne)}function k(j,ne){var X=ne||{},Q=X.root||"Root Entry";if(j.FullPaths||(j.FullPaths=[]),j.FileIndex||(j.FileIndex=[]),j.FullPaths.length!==j.FileIndex.length)throw new Error("inconsistent CFB structure");j.FullPaths.length===0&&(j.FullPaths[0]=Q+"/",j.FileIndex[0]={name:Q,type:5}),X.CLSID&&(j.FileIndex[0].clsid=X.CLSID),N(j)}function N(j){var ne="Sh33tJ5";if(!Ot.find(j,"/"+ne)){var X=Wn(4);X[0]=55,X[1]=X[3]=50,X[2]=54,j.FileIndex.push({name:ne,type:2,content:X,size:4,L:69,R:69,C:69}),j.FullPaths.push(j.FullPaths[0]+ne),R(j)}}function R(j,ne){k(j);for(var X=!1,Q=!1,te=j.FullPaths.length-1;te>=0;--te){var ie=j.FileIndex[te];switch(ie.type){case 0:Q?X=!0:(j.FileIndex.pop(),j.FullPaths.pop());break;case 1:case 2:case 5:Q=!0,isNaN(ie.R*ie.L*ie.C)&&(X=!0),ie.R>-1&&ie.L>-1&&ie.R==ie.L&&(X=!0);break;default:X=!0;break}}if(!(!X&&!ne)){var ve=new Date(1987,1,19),De=0,_e=Object.create?Object.create(null):{},we=[];for(te=0;te<j.FullPaths.length;++te)_e[j.FullPaths[te]]=!0,j.FileIndex[te].type!==0&&we.push([j.FullPaths[te],j.FileIndex[te]]);for(te=0;te<we.length;++te){var be=r(we[te][0]);Q=_e[be],Q||(we.push([be,{name:i(be).replace("/",""),type:1,clsid:ae,ct:ve,mt:ve,content:null}]),_e[be]=!0)}for(we.sort(function(Ye,Ve){return n(Ye[0],Ve[0])}),j.FullPaths=[],j.FileIndex=[],te=0;te<we.length;++te)j.FullPaths[te]=we[te][0],j.FileIndex[te]=we[te][1];for(te=0;te<we.length;++te){var Be=j.FileIndex[te],ze=j.FullPaths[te];if(Be.name=i(ze).replace("/",""),Be.L=Be.R=Be.C=-(Be.color=1),Be.size=Be.content?Be.content.length:0,Be.start=0,Be.clsid=Be.clsid||ae,te===0)Be.C=we.length>1?1:-1,Be.size=0,Be.type=5;else if(ze.slice(-1)=="/"){for(De=te+1;De<we.length&&r(j.FullPaths[De])!=ze;++De);for(Be.C=De>=we.length?-1:De,De=te+1;De<we.length&&r(j.FullPaths[De])!=r(ze);++De);Be.R=De>=we.length?-1:De,Be.type=1}else r(j.FullPaths[te+1]||"")==r(ze)&&(Be.R=te+1),Be.type=2}}}function V(j,ne){var X=ne||{};if(X.fileType=="mad")return Nc(j,X);switch(R(j),X.fileType){case"zip":return bn(j,X)}var Q=(function(Ye){for(var Ve=0,$e=0,Ze=0;Ze<Ye.FileIndex.length;++Ze){var Xt=Ye.FileIndex[Ze];if(Xt.content){var Jt=Xt.content.length;Jt>0&&(Jt<4096?Ve+=Jt+63>>6:$e+=Jt+511>>9)}}for(var cn=Ye.FullPaths.length+3>>2,pr=Ve+7>>3,Oi=Ve+127>>7,Fi=pr+$e+cn+Oi,ei=Fi+127>>7,Ca=ei<=109?0:Math.ceil((ei-109)/127);Fi+ei+Ca+127>>7>ei;)Ca=++ei<=109?0:Math.ceil((ei-109)/127);var mr=[1,Ca,ei,Oi,cn,$e,Ve,0];return Ye.FileIndex[0].size=Ve<<6,mr[7]=(Ye.FileIndex[0].start=mr[0]+mr[1]+mr[2]+mr[3]+mr[4]+mr[5])+(mr[6]+7>>3),mr})(j),te=Wn(Q[7]<<9),ie=0,ve=0;{for(ie=0;ie<8;++ie)te.write_shift(1,oe[ie]);for(ie=0;ie<8;++ie)te.write_shift(2,0);for(te.write_shift(2,62),te.write_shift(2,3),te.write_shift(2,65534),te.write_shift(2,9),te.write_shift(2,6),ie=0;ie<3;++ie)te.write_shift(2,0);for(te.write_shift(4,0),te.write_shift(4,Q[2]),te.write_shift(4,Q[0]+Q[1]+Q[2]+Q[3]-1),te.write_shift(4,0),te.write_shift(4,4096),te.write_shift(4,Q[3]?Q[0]+Q[1]+Q[2]-1:q),te.write_shift(4,Q[3]),te.write_shift(-4,Q[1]?Q[0]-1:q),te.write_shift(4,Q[1]),ie=0;ie<109;++ie)te.write_shift(-4,ie<Q[2]?Q[1]+ie:-1)}if(Q[1])for(ve=0;ve<Q[1];++ve){for(;ie<236+ve*127;++ie)te.write_shift(-4,ie<Q[2]?Q[1]+ie:-1);te.write_shift(-4,ve===Q[1]-1?q:ve+1)}var De=function(Ye){for(ve+=Ye;ie<ve-1;++ie)te.write_shift(-4,ie+1);Ye&&(++ie,te.write_shift(-4,q))};for(ve=ie=0,ve+=Q[1];ie<ve;++ie)te.write_shift(-4,se.DIFSECT);for(ve+=Q[2];ie<ve;++ie)te.write_shift(-4,se.FATSECT);De(Q[3]),De(Q[4]);for(var _e=0,we=0,be=j.FileIndex[0];_e<j.FileIndex.length;++_e)be=j.FileIndex[_e],be.content&&(we=be.content.length,!(we<4096)&&(be.start=ve,De(we+511>>9)));for(De(Q[6]+7>>3);te.l&511;)te.write_shift(-4,se.ENDOFCHAIN);for(ve=ie=0,_e=0;_e<j.FileIndex.length;++_e)be=j.FileIndex[_e],be.content&&(we=be.content.length,!(!we||we>=4096)&&(be.start=ve,De(we+63>>6)));for(;te.l&511;)te.write_shift(-4,se.ENDOFCHAIN);for(ie=0;ie<Q[4]<<2;++ie){var Be=j.FullPaths[ie];if(!Be||Be.length===0){for(_e=0;_e<17;++_e)te.write_shift(4,0);for(_e=0;_e<3;++_e)te.write_shift(4,-1);for(_e=0;_e<12;++_e)te.write_shift(4,0);continue}be=j.FileIndex[ie],ie===0&&(be.start=be.size?be.start-1:q);var ze=ie===0&&X.root||be.name;if(we=2*(ze.length+1),te.write_shift(64,ze,"utf16le"),te.write_shift(2,we),te.write_shift(1,be.type),te.write_shift(1,be.color),te.write_shift(-4,be.L),te.write_shift(-4,be.R),te.write_shift(-4,be.C),be.clsid)te.write_shift(16,be.clsid,"hex");else for(_e=0;_e<4;++_e)te.write_shift(4,0);te.write_shift(4,be.state||0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,be.start),te.write_shift(4,be.size),te.write_shift(4,0)}for(ie=1;ie<j.FileIndex.length;++ie)if(be=j.FileIndex[ie],be.size>=4096)if(te.l=be.start+1<<9,Pt&&Buffer.isBuffer(be.content))be.content.copy(te,te.l,0,be.size),te.l+=be.size+511&-512;else{for(_e=0;_e<be.size;++_e)te.write_shift(1,be.content[_e]);for(;_e&511;++_e)te.write_shift(1,0)}for(ie=1;ie<j.FileIndex.length;++ie)if(be=j.FileIndex[ie],be.size>0&&be.size<4096)if(Pt&&Buffer.isBuffer(be.content))be.content.copy(te,te.l,0,be.size),te.l+=be.size+63&-64;else{for(_e=0;_e<be.size;++_e)te.write_shift(1,be.content[_e]);for(;_e&63;++_e)te.write_shift(1,0)}if(Pt)te.l=te.length;else for(;te.l<te.length;)te.write_shift(1,0);return te}function M(j,ne){var X=j.FullPaths.map(function(_e){return _e.toUpperCase()}),Q=X.map(function(_e){var we=_e.split("/");return we[we.length-(_e.slice(-1)=="/"?2:1)]}),te=!1;ne.charCodeAt(0)===47?(te=!0,ne=X[0].slice(0,-1)+ne):te=ne.indexOf("/")!==-1;var ie=ne.toUpperCase(),ve=te===!0?X.indexOf(ie):Q.indexOf(ie);if(ve!==-1)return j.FileIndex[ve];var De=!ie.match(Of);for(ie=ie.replace(Fr,""),De&&(ie=ie.replace(Of,"!")),ve=0;ve<X.length;++ve)if((De?X[ve].replace(Of,"!"):X[ve]).replace(Fr,"")==ie||(De?Q[ve].replace(Of,"!"):Q[ve]).replace(Fr,"")==ie)return j.FileIndex[ve];return null}var F=64,q=-2,ce="d0cf11e0a1b11ae1",oe=[208,207,17,224,161,177,26,225],ae="00000000000000000000000000000000",se={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:q,FREESECT:-1,HEADER_SIGNATURE:ce,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ae,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ge(j,ne,X){c();var Q=V(j,X);f.writeFileSync(ne,Q)}function Z(j){for(var ne=new Array(j.length),X=0;X<j.length;++X)ne[X]=String.fromCharCode(j[X]);return ne.join("")}function Ee(j,ne){var X=V(j,ne);switch(ne&&ne.type||"buffer"){case"file":return c(),f.writeFileSync(ne.filename,X),X;case"binary":return typeof X=="string"?X:Z(X);case"base64":return jw(typeof X=="string"?X:Z(X));case"buffer":if(Pt)return Buffer.isBuffer(X)?X:Hu(X);case"array":return typeof X=="string"?es(X):X}return X}var G;function z(j){try{var ne=j.InflateRaw,X=new ne;if(X._processChunk(new Uint8Array([3,0]),X._finishFlushFlag),X.bytesRead)G=j;else throw new Error("zlib does not expose bytesRead")}catch(Q){console.error("cannot use native zlib: "+(Q.message||Q))}}function Y(j,ne){if(!G)return Us(j,ne);var X=G.InflateRaw,Q=new X,te=Q._processChunk(j.slice(j.l),Q._finishFlushFlag);return j.l+=Q.bytesRead,te}function ee(j){return G?G.deflateRawSync(j):ht(j)}var re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],me=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Re=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ne(j){var ne=(j<<1|j<<11)&139536|(j<<5|j<<15)&558144;return(ne>>16|ne>>8|ne)&255}for(var he=typeof Uint8Array<"u",ke=he?new Uint8Array(256):[],de=0;de<256;++de)ke[de]=Ne(de);function K(j,ne){var X=ke[j&255];return ne<=8?X>>>8-ne:(X=X<<8|ke[j>>8&255],ne<=16?X>>>16-ne:(X=X<<8|ke[j>>16&255],X>>>24-ne))}function Ae(j,ne){var X=ne&7,Q=ne>>>3;return(j[Q]|(X<=6?0:j[Q+1]<<8))>>>X&3}function Fe(j,ne){var X=ne&7,Q=ne>>>3;return(j[Q]|(X<=5?0:j[Q+1]<<8))>>>X&7}function Ke(j,ne){var X=ne&7,Q=ne>>>3;return(j[Q]|(X<=4?0:j[Q+1]<<8))>>>X&15}function qe(j,ne){var X=ne&7,Q=ne>>>3;return(j[Q]|(X<=3?0:j[Q+1]<<8))>>>X&31}function He(j,ne){var X=ne&7,Q=ne>>>3;return(j[Q]|(X<=1?0:j[Q+1]<<8))>>>X&127}function nt(j,ne,X){var Q=ne&7,te=ne>>>3,ie=(1<<X)-1,ve=j[te]>>>Q;return X<8-Q||(ve|=j[te+1]<<8-Q,X<16-Q)||(ve|=j[te+2]<<16-Q,X<24-Q)||(ve|=j[te+3]<<24-Q),ve&ie}function Ge(j,ne,X){var Q=ne&7,te=ne>>>3;return Q<=5?j[te]|=(X&7)<<Q:(j[te]|=X<<Q&255,j[te+1]=(X&7)>>8-Q),ne+3}function We(j,ne,X){var Q=ne&7,te=ne>>>3;return X=(X&1)<<Q,j[te]|=X,ne+1}function Yt(j,ne,X){var Q=ne&7,te=ne>>>3;return X<<=Q,j[te]|=X&255,X>>>=8,j[te+1]=X,ne+8}function ot(j,ne,X){var Q=ne&7,te=ne>>>3;return X<<=Q,j[te]|=X&255,X>>>=8,j[te+1]=X&255,j[te+2]=X>>>8,ne+16}function ut(j,ne){var X=j.length,Q=2*X>ne?2*X:ne+5,te=0;if(X>=ne)return j;if(Pt){var ie=$w(Q);if(j.copy)j.copy(ie);else for(;te<j.length;++te)ie[te]=j[te];return ie}else if(he){var ve=new Uint8Array(Q);if(ve.set)ve.set(j);else for(;te<X;++te)ve[te]=j[te];return ve}return j.length=Q,j}function st(j){for(var ne=new Array(j),X=0;X<j;++X)ne[X]=0;return ne}function bt(j,ne,X){var Q=1,te=0,ie=0,ve=0,De=0,_e=j.length,we=he?new Uint16Array(32):st(32);for(ie=0;ie<32;++ie)we[ie]=0;for(ie=_e;ie<X;++ie)j[ie]=0;_e=j.length;var be=he?new Uint16Array(_e):st(_e);for(ie=0;ie<_e;++ie)we[te=j[ie]]++,Q<te&&(Q=te),be[ie]=0;for(we[0]=0,ie=1;ie<=Q;++ie)we[ie+16]=De=De+we[ie-1]<<1;for(ie=0;ie<_e;++ie)De=j[ie],De!=0&&(be[ie]=we[De+16]++);var Be=0;for(ie=0;ie<_e;++ie)if(Be=j[ie],Be!=0)for(De=K(be[ie],Q)>>Q-Be,ve=(1<<Q+4-Be)-1;ve>=0;--ve)ne[De|ve<<Be]=Be&15|ie<<4;return Q}var dt=he?new Uint16Array(512):st(512),tn=he?new Uint16Array(32):st(32);if(!he){for(var wt=0;wt<512;++wt)dt[wt]=0;for(wt=0;wt<32;++wt)tn[wt]=0}(function(){for(var j=[],ne=0;ne<32;ne++)j.push(5);bt(j,tn,32);var X=[];for(ne=0;ne<=143;ne++)X.push(8);for(;ne<=255;ne++)X.push(9);for(;ne<=279;ne++)X.push(7);for(;ne<=287;ne++)X.push(8);bt(X,dt,288)})();var Pn=(function(){for(var ne=he?new Uint8Array(32768):[],X=0,Q=0;X<Re.length-1;++X)for(;Q<Re[X+1];++Q)ne[Q]=X;for(;Q<32768;++Q)ne[Q]=29;var te=he?new Uint8Array(259):[];for(X=0,Q=0;X<me.length-1;++X)for(;Q<me[X+1];++Q)te[Q]=X;function ie(De,_e){for(var we=0;we<De.length;){var be=Math.min(65535,De.length-we),Be=we+be==De.length;for(_e.write_shift(1,+Be),_e.write_shift(2,be),_e.write_shift(2,~be&65535);be-- >0;)_e[_e.l++]=De[we++]}return _e.l}function ve(De,_e){for(var we=0,be=0,Be=he?new Uint16Array(32768):[];be<De.length;){var ze=Math.min(65535,De.length-be);if(ze<10){for(we=Ge(_e,we,+(be+ze==De.length)),we&7&&(we+=8-(we&7)),_e.l=we/8|0,_e.write_shift(2,ze),_e.write_shift(2,~ze&65535);ze-- >0;)_e[_e.l++]=De[be++];we=_e.l*8;continue}we=Ge(_e,we,+(be+ze==De.length)+2);for(var Ye=0;ze-- >0;){var Ve=De[be];Ye=(Ye<<5^Ve)&32767;var $e=-1,Ze=0;if(($e=Be[Ye])&&($e|=be&-32768,$e>be&&($e-=32768),$e<be))for(;De[$e+Ze]==De[be+Ze]&&Ze<250;)++Ze;if(Ze>2){Ve=te[Ze],Ve<=22?we=Yt(_e,we,ke[Ve+1]>>1)-1:(Yt(_e,we,3),we+=5,Yt(_e,we,ke[Ve-23]>>5),we+=3);var Xt=Ve<8?0:Ve-4>>2;Xt>0&&(ot(_e,we,Ze-me[Ve]),we+=Xt),Ve=ne[be-$e],we=Yt(_e,we,ke[Ve]>>3),we-=3;var Jt=Ve<4?0:Ve-2>>1;Jt>0&&(ot(_e,we,be-$e-Re[Ve]),we+=Jt);for(var cn=0;cn<Ze;++cn)Be[Ye]=be&32767,Ye=(Ye<<5^De[be])&32767,++be;ze-=Ze-1}else Ve<=143?Ve=Ve+48:we=We(_e,we,1),we=Yt(_e,we,ke[Ve]),Be[Ye]=be&32767,++be}we=Yt(_e,we,0)-1}return _e.l=(we+7)/8|0,_e.l}return function(_e,we){return _e.length<8?ie(_e,we):ve(_e,we)}})();function ht(j){var ne=Wn(50+Math.floor(j.length*1.1)),X=Pn(j,ne);return ne.slice(0,X)}var Ut=he?new Uint16Array(32768):st(32768),nn=he?new Uint16Array(32768):st(32768),St=he?new Uint16Array(128):st(128),rn=1,kr=1;function Tn(j,ne){var X=qe(j,ne)+257;ne+=5;var Q=qe(j,ne)+1;ne+=5;var te=Ke(j,ne)+4;ne+=4;for(var ie=0,ve=he?new Uint8Array(19):st(19),De=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_e=1,we=he?new Uint8Array(8):st(8),be=he?new Uint8Array(8):st(8),Be=ve.length,ze=0;ze<te;++ze)ve[re[ze]]=ie=Fe(j,ne),_e<ie&&(_e=ie),we[ie]++,ne+=3;var Ye=0;for(we[0]=0,ze=1;ze<=_e;++ze)be[ze]=Ye=Ye+we[ze-1]<<1;for(ze=0;ze<Be;++ze)(Ye=ve[ze])!=0&&(De[ze]=be[Ye]++);var Ve=0;for(ze=0;ze<Be;++ze)if(Ve=ve[ze],Ve!=0){Ye=ke[De[ze]]>>8-Ve;for(var $e=(1<<7-Ve)-1;$e>=0;--$e)St[Ye|$e<<Ve]=Ve&7|ze<<3}var Ze=[];for(_e=1;Ze.length<X+Q;)switch(Ye=St[He(j,ne)],ne+=Ye&7,Ye>>>=3){case 16:for(ie=3+Ae(j,ne),ne+=2,Ye=Ze[Ze.length-1];ie-- >0;)Ze.push(Ye);break;case 17:for(ie=3+Fe(j,ne),ne+=3;ie-- >0;)Ze.push(0);break;case 18:for(ie=11+He(j,ne),ne+=7;ie-- >0;)Ze.push(0);break;default:Ze.push(Ye),_e<Ye&&(_e=Ye);break}var Xt=Ze.slice(0,X),Jt=Ze.slice(X);for(ze=X;ze<286;++ze)Xt[ze]=0;for(ze=Q;ze<30;++ze)Jt[ze]=0;return rn=bt(Xt,Ut,286),kr=bt(Jt,nn,30),ne}function Ju(j,ne){if(j[0]==3&&!(j[1]&3))return[Po(ne),2];for(var X=0,Q=0,te=$w(ne||1<<18),ie=0,ve=te.length>>>0,De=0,_e=0;(Q&1)==0;){if(Q=Fe(j,X),X+=3,Q>>>1)Q>>1==1?(De=9,_e=5):(X=Tn(j,X),De=rn,_e=kr);else{X&7&&(X+=8-(X&7));var we=j[X>>>3]|j[(X>>>3)+1]<<8;if(X+=32,we>0)for(!ne&&ve<ie+we&&(te=ut(te,ie+we),ve=te.length);we-- >0;)te[ie++]=j[X>>>3],X+=8;continue}for(;;){!ne&&ve<ie+32767&&(te=ut(te,ie+32767),ve=te.length);var be=nt(j,X,De),Be=Q>>>1==1?dt[be]:Ut[be];if(X+=Be&15,Be>>>=4,(Be>>>8&255)===0)te[ie++]=Be;else{if(Be==256)break;Be-=257;var ze=Be<8?0:Be-4>>2;ze>5&&(ze=0);var Ye=ie+me[Be];ze>0&&(Ye+=nt(j,X,ze),X+=ze),be=nt(j,X,_e),Be=Q>>>1==1?tn[be]:nn[be],X+=Be&15,Be>>>=4;var Ve=Be<4?0:Be-2>>1,$e=Re[Be];for(Ve>0&&($e+=nt(j,X,Ve),X+=Ve),!ne&&ve<Ye&&(te=ut(te,Ye+100),ve=te.length);ie<Ye;)te[ie]=te[ie-$e],++ie}}}return ne?[te,X+7>>>3]:[te.slice(0,ie),X+7>>>3]}function Us(j,ne){var X=j.slice(j.l||0),Q=Ju(X,ne);return j.l+=Q[1],Q[0]}function Go(j,ne){if(j)typeof console<"u"&&console.error(ne);else throw new Error(ne)}function Qr(j,ne){var X=j;lr(X,0);var Q=[],te=[],ie={FileIndex:Q,FullPaths:te};k(ie,{root:ne.root});for(var ve=X.length-4;(X[ve]!=80||X[ve+1]!=75||X[ve+2]!=5||X[ve+3]!=6)&&ve>=0;)--ve;X.l=ve+4,X.l+=4;var De=X.read_shift(2);X.l+=6;var _e=X.read_shift(4);for(X.l=_e,ve=0;ve<De;++ve){X.l+=20;var we=X.read_shift(4),be=X.read_shift(4),Be=X.read_shift(2),ze=X.read_shift(2),Ye=X.read_shift(2);X.l+=8;var Ve=X.read_shift(4),$e=l(X.slice(X.l+Be,X.l+Be+ze));X.l+=Be+ze+Ye;var Ze=X.l;X.l=Ve+4,Vs(X,we,be,ie,$e),X.l=Ze}return ie}function Vs(j,ne,X,Q,te){j.l+=2;var ie=j.read_shift(2),ve=j.read_shift(2),De=o(j);if(ie&8257)throw new Error("Unsupported ZIP encryption");for(var _e=j.read_shift(4),we=j.read_shift(4),be=j.read_shift(4),Be=j.read_shift(2),ze=j.read_shift(2),Ye="",Ve=0;Ve<Be;++Ve)Ye+=String.fromCharCode(j[j.l++]);if(ze){var $e=l(j.slice(j.l,j.l+ze));($e[21589]||{}).mt&&(De=$e[21589].mt),((te||{})[21589]||{}).mt&&(De=te[21589].mt)}j.l+=ze;var Ze=j.slice(j.l,j.l+we);switch(ve){case 8:Ze=Y(j,be);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ve)}var Xt=!1;ie&8&&(_e=j.read_shift(4),_e==134695760&&(_e=j.read_shift(4),Xt=!0),we=j.read_shift(4),be=j.read_shift(4)),we!=ne&&Go(Xt,"Bad compressed size: "+ne+" != "+we),be!=X&&Go(Xt,"Bad uncompressed size: "+X+" != "+be),Hs(Q,Ye,Ze,{unsafe:!0,mt:De})}function bn(j,ne){var X=ne||{},Q=[],te=[],ie=Wn(1),ve=X.compression?8:0,De=0,_e=0,we=0,be=0,Be=0,ze=j.FullPaths[0],Ye=ze,Ve=j.FileIndex[0],$e=[],Ze=0;for(_e=1;_e<j.FullPaths.length;++_e)if(Ye=j.FullPaths[_e].slice(ze.length),Ve=j.FileIndex[_e],!(!Ve.size||!Ve.content||Ye=="Sh33tJ5")){var Xt=be,Jt=Wn(Ye.length);for(we=0;we<Ye.length;++we)Jt.write_shift(1,Ye.charCodeAt(we)&127);Jt=Jt.slice(0,Jt.l),$e[Be]=o7.buf(Ve.content,0);var cn=Ve.content;ve==8&&(cn=ee(cn)),ie=Wn(30),ie.write_shift(4,67324752),ie.write_shift(2,20),ie.write_shift(2,De),ie.write_shift(2,ve),Ve.mt?s(ie,Ve.mt):ie.write_shift(4,0),ie.write_shift(-4,$e[Be]),ie.write_shift(4,cn.length),ie.write_shift(4,Ve.content.length),ie.write_shift(2,Jt.length),ie.write_shift(2,0),be+=ie.length,Q.push(ie),be+=Jt.length,Q.push(Jt),be+=cn.length,Q.push(cn),ie=Wn(46),ie.write_shift(4,33639248),ie.write_shift(2,0),ie.write_shift(2,20),ie.write_shift(2,De),ie.write_shift(2,ve),ie.write_shift(4,0),ie.write_shift(-4,$e[Be]),ie.write_shift(4,cn.length),ie.write_shift(4,Ve.content.length),ie.write_shift(2,Jt.length),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(4,0),ie.write_shift(4,Xt),Ze+=ie.l,te.push(ie),Ze+=Jt.length,te.push(Jt),++Be}return ie=Wn(22),ie.write_shift(4,101010256),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(2,Be),ie.write_shift(2,Be),ie.write_shift(4,Ze),ie.write_shift(4,be),ie.write_shift(2,0),ho([ho(Q),ho(te),ie])}var Rr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function pi(j,ne){if(j.ctype)return j.ctype;var X=j.name||"",Q=X.match(/\.([^\.]+)$/);return Q&&Rr[Q[1]]||ne&&(Q=(X=ne).match(/[\.\\]([^\.\\])+$/),Q&&Rr[Q[1]])?Rr[Q[1]]:"application/octet-stream"}function Zr(j){for(var ne=jw(j),X=[],Q=0;Q<ne.length;Q+=76)X.push(ne.slice(Q,Q+76));return X.join(`\r
`)+`\r
`}function Rc(j){var ne=j.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(we){var be=we.charCodeAt(0).toString(16).toUpperCase();return"="+(be.length==1?"0"+be:be)});ne=ne.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ne.charAt(0)==`
`&&(ne="=0D"+ne.slice(1)),ne=ne.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var X=[],Q=ne.split(`\r
`),te=0;te<Q.length;++te){var ie=Q[te];if(ie.length==0){X.push("");continue}for(var ve=0;ve<ie.length;){var De=76,_e=ie.slice(ve,ve+De);_e.charAt(De-1)=="="?De--:_e.charAt(De-2)=="="?De-=2:_e.charAt(De-3)=="="&&(De-=3),_e=ie.slice(ve,ve+De),ve+=De,ve<ie.length&&(_e+="="),X.push(_e)}}return X.join(`\r
`)}function Qu(j){for(var ne=[],X=0;X<j.length;++X){for(var Q=j[X];X<=j.length&&Q.charAt(Q.length-1)=="=";)Q=Q.slice(0,Q.length-1)+j[++X];ne.push(Q)}for(var te=0;te<ne.length;++te)ne[te]=ne[te].replace(/[=][0-9A-Fa-f]{2}/g,function(ie){return String.fromCharCode(parseInt(ie.slice(1),16))});return es(ne.join(`\r
`))}function mi(j,ne,X){for(var Q="",te="",ie="",ve,De=0;De<10;++De){var _e=ne[De];if(!_e||_e.match(/^\s*$/))break;var we=_e.match(/^(.*?):\s*([^\s].*)$/);if(we)switch(we[1].toLowerCase()){case"content-location":Q=we[2].trim();break;case"content-type":ie=we[2].trim();break;case"content-transfer-encoding":te=we[2].trim();break}}switch(++De,te.toLowerCase()){case"base64":ve=es(di(ne.slice(De).join("")));break;case"quoted-printable":ve=Qu(ne.slice(De));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+te)}var be=Hs(j,Q.slice(X.length),ve,{unsafe:!0});ie&&(be.ctype=ie)}function Bs(j,ne){if(Z(j.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var X=ne&&ne.root||"",Q=(Pt&&Buffer.isBuffer(j)?j.toString("binary"):Z(j)).split(`\r
`),te=0,ie="";for(te=0;te<Q.length;++te)if(ie=Q[te],!!/^Content-Location:/i.test(ie)&&(ie=ie.slice(ie.indexOf("file")),X||(X=ie.slice(0,ie.lastIndexOf("/")+1)),ie.slice(0,X.length)!=X))for(;X.length>0&&(X=X.slice(0,X.length-1),X=X.slice(0,X.lastIndexOf("/")+1),ie.slice(0,X.length)!=X););var ve=(Q[1]||"").match(/boundary="(.*?)"/);if(!ve)throw new Error("MAD cannot find boundary");var De="--"+(ve[1]||""),_e=[],we=[],be={FileIndex:_e,FullPaths:we};k(be);var Be,ze=0;for(te=0;te<Q.length;++te){var Ye=Q[te];Ye!==De&&Ye!==De+"--"||(ze++&&mi(be,Q.slice(Be,te),X),Be=te)}return be}function Nc(j,ne){var X=ne||{},Q=X.boundary||"SheetJS";Q="------="+Q;for(var te=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Q.slice(2)+'"',"","",""],ie=j.FullPaths[0],ve=ie,De=j.FileIndex[0],_e=1;_e<j.FullPaths.length;++_e)if(ve=j.FullPaths[_e].slice(ie.length),De=j.FileIndex[_e],!(!De.size||!De.content||ve=="Sh33tJ5")){ve=ve.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ze){return"_x"+Ze.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ze){return"_u"+Ze.charCodeAt(0).toString(16)+"_"});for(var we=De.content,be=Pt&&Buffer.isBuffer(we)?we.toString("binary"):Z(we),Be=0,ze=Math.min(1024,be.length),Ye=0,Ve=0;Ve<=ze;++Ve)(Ye=be.charCodeAt(Ve))>=32&&Ye<128&&++Be;var $e=Be>=ze*4/5;te.push(Q),te.push("Content-Location: "+(X.root||"file:///C:/SheetJS/")+ve),te.push("Content-Transfer-Encoding: "+($e?"quoted-printable":"base64")),te.push("Content-Type: "+pi(De,ve)),te.push(""),te.push($e?Rc(be):Zr(be))}return te.push(Q+`--\r
`),te.join(`\r
`)}function qs(j){var ne={};return k(ne,j),ne}function Hs(j,ne,X,Q){var te=Q&&Q.unsafe;te||k(j);var ie=!te&&Ot.find(j,ne);if(!ie){var ve=j.FullPaths[0];ne.slice(0,ve.length)==ve?ve=ne:(ve.slice(-1)!="/"&&(ve+="/"),ve=(ve+ne).replace("//","/")),ie={name:i(ne),type:2},j.FileIndex.push(ie),j.FullPaths.push(ve),te||Ot.utils.cfb_gc(j)}return ie.content=X,ie.size=X?X.length:0,Q&&(Q.CLSID&&(ie.clsid=Q.CLSID),Q.mt&&(ie.mt=Q.mt),Q.ct&&(ie.ct=Q.ct)),ie}function jo(j,ne){k(j);var X=Ot.find(j,ne);if(X){for(var Q=0;Q<j.FileIndex.length;++Q)if(j.FileIndex[Q]==X)return j.FileIndex.splice(Q,1),j.FullPaths.splice(Q,1),!0}return!1}function zs(j,ne,X){k(j);var Q=Ot.find(j,ne);if(Q){for(var te=0;te<j.FileIndex.length;++te)if(j.FileIndex[te]==Q)return j.FileIndex[te].name=i(X),j.FullPaths[te]=X,!0}return!1}function Li(j){R(j,!0)}return e.find=M,e.read=O,e.parse=d,e.write=Ee,e.writeFile=ge,e.utils={cfb_new:qs,cfb_add:Hs,cfb_del:jo,cfb_mov:zs,cfb_gc:Li,ReadShift:Wf,CheckField:H6,prep_blob:lr,bconcat:ho,use_zlib:z,_deflateRaw:ht,_inflateRaw:Us,consts:se},e})();function u7(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function Ms(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function Uv(t){for(var e=[],n=Ms(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}var Ep=new Date(1899,11,30,0,0,0);function Ur(t,e){var n=t.getTime(),r=Ep.getTime()+(t.getTimezoneOffset()-Ep.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var T6=new Date,l7=Ep.getTime()+(T6.getTimezoneOffset()-Ep.getTimezoneOffset())*6e4,eS=T6.getTimezoneOffset();function mm(t){var e=new Date;return e.setTime(t*24*60*60*1e3+l7),e.getTimezoneOffset()!==eS&&e.setTime(e.getTime()+(e.getTimezoneOffset()-eS)*6e4),e}function c7(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(i[s],10)}return e}var tS=new Date("2017-02-19T19:06:09.000Z"),E6=isNaN(tS.getFullYear())?new Date("2/19/17"):tS,f7=E6.getFullYear()==2017;function nr(t,e){var n=new Date(t);if(f7)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(E6.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Du(t,e){if(Pt&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return Uf(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return Uf(u6(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return Uf(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return Uf(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function fr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=fr(t[n]));return e}function An(t,e){for(var n="";n.length<e;)n+=t;return n}function as(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var h7=["january","february","march","april","may","june","july","august","september","october","november","december"];function dc(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&h7.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var d7=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(t||typeof r=="string")return n.split(r);for(var s=n.split(r),o=[s[0]],l=1;l<s.length;++l)o.push(i),o.push(s[l]);return o}})();function b6(t){return t?t.content&&t.type?Du(t.content,!0):t.data?Lf(t.data):t.asNodeBuffer&&Pt?Lf(t.asNodeBuffer().toString("binary")):t.asBinary?Lf(t.asBinary()):t._data&&t._data.getContent?Lf(Du(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function w6(t){if(!t)return null;if(t.data)return zw(t.data);if(t.asNodeBuffer&&Pt)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?zw(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function p7(t){return t&&t.name.slice(-4)===".bin"?w6(t):b6(t)}function ki(t,e){for(var n=t.FullPaths||Ms(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var o=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||i==o)return t.files?t.files[n[s]]:t.FileIndex[s]}return null}function Vv(t,e){var n=ki(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function Hn(t,e,n){if(!n)return p7(Vv(t,e));if(!e)return null;try{return Hn(t,e)}catch{return null}}function fi(t,e,n){if(!n)return b6(Vv(t,e));if(!e)return null;try{return fi(t,e)}catch{return null}}function m7(t,e,n){return w6(Vv(t,e))}function nS(t){for(var e=t.FullPaths||Ms(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function g7(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return Pt?r=Hu(n):r=LF(n),Ot.utils.cfb_add(t,e,r)}Ot.utils.cfb_add(t,e,n)}else t.file(e,n)}function S6(t,e){switch(e.type){case"base64":return Ot.read(t,{type:"base64"});case"binary":return Ot.read(t,{type:"binary"});case"buffer":case"array":return Ot.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Ff(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var A6=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,x7=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,rS=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,y7=/<[^>]*>/g,Ir=A6.match(rS)?rS:y7,v7=/<\w*:/,_7=/<(\/?)\w+:/;function ft(t,e,n){for(var r={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var o=t.match(x7),l=0,f="",c=0,d="",g="",p=1;if(o)for(c=0;c!=o.length;++c){for(g=o[c],s=0;s!=g.length&&g.charCodeAt(s)!==61;++s);for(d=g.slice(0,s).trim();g.charCodeAt(s+1)==32;)++s;for(p=(i=g.charCodeAt(s+1))==34||i==39?1:0,f=g.slice(s+1+p,g.length-p),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),r[d]=f,r[d.toLowerCase()]=f;else{var x=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(r[x]&&d.slice(l-3,l)=="ext")continue;r[x]=f,r[x.toLowerCase()]=f}}return r}function Os(t){return t.replace(_7,"<$1")}var C6={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},T7=Uv(C6),Vt=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(l,f){return C6[l]||String.fromCharCode(parseInt(f,l.indexOf("x")>-1?16:10))||l}).replace(e,function(l,f){return String.fromCharCode(parseInt(f,16))});var o=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,o)+n(i.slice(o+3))}})(),E7=/[&<>'"]/g,b7=/[\u0000-\u001f]/g;function Bv(t){var e=t+"";return e.replace(E7,function(n){return T7[n]}).replace(/\n/g,"<br/>").replace(b7,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var iS=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function _n(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function z1(t){for(var e="",n=0,r=0,i=0,s=0,o=0,l=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=t.charCodeAt(n++),l=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function sS(t){var e=Po(2*t.length),n,r,i=1,s=0,o=0,l;for(r=0;r<t.length;r+=i)i=1,(l=t.charCodeAt(r))<128?n=l:l<224?(n=(l&31)*64+(t.charCodeAt(r+1)&63),i=2):l<240?(n=(l&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(l&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function aS(t){return Hu(t,"binary").toString("utf8")}var Ed="foo bar bazâð£",dn=Pt&&(aS(Ed)==z1(Ed)&&aS||sS(Ed)==z1(Ed)&&sS)||z1,Uf=Pt?function(t){return Hu(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},y0=(function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),I6=(function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),w7=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),S7=/<\/?(?:vt:)?variant>/g,A7=/<(?:vt:)([^>]*)>([\s\S]*)</;function oS(t,e){var n=ft(t),r=t.match(w7(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var o=s.replace(S7,"").match(A7);o&&i.push({v:dn(o[2]),t:o[1]})}),i}var C7=/(^\s|\s$|\n)/;function I7(t){return Ms(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function k7(t,e,n){return"<"+t+(n!=null?I7(n):"")+(e!=null?(e.match(C7)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function qv(t){if(Pt&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return dn(zu(Lv(t)));throw new Error("Bad input format: expected Buffer or string")}var v0=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,R7={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},N7=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function D7(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function M7(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=r?-e:e;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var l=0;l<=5;++l,s/=256)t[n+l]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var uS=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},lS=Pt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Hu(e)})):uS(t)}:uS,cS=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(ma(t,i)));return r.join("").replace(Fr,"")},Hv=Pt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(Fr,""):cS(t,e,n)}:cS,fS=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},k6=Pt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):fS(t,e,n)}:fS,hS=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(Hl(t,i)));return r.join("")},B0=Pt?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):hS(e,n,r)}:hS,R6=function(t,e){var n=li(t,e);return n>0?B0(t,e+4,e+4+n-1):""},N6=R6,D6=function(t,e){var n=li(t,e);return n>0?B0(t,e+4,e+4+n-1):""},M6=D6,P6=function(t,e){var n=2*li(t,e);return n>0?B0(t,e+4,e+4+n-1):""},L6=P6,O6=function(e,n){var r=li(e,n);return r>0?Hv(e,n+4,n+4+r):""},F6=O6,U6=function(t,e){var n=li(t,e);return n>0?B0(t,e+4,e+4+n):""},V6=U6,B6=function(t,e){return D7(t,e)},bp=B6,q6=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Pt&&(N6=function(e,n){if(!Buffer.isBuffer(e))return R6(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},M6=function(e,n){if(!Buffer.isBuffer(e))return D6(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},L6=function(e,n){if(!Buffer.isBuffer(e))return P6(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},F6=function(e,n){if(!Buffer.isBuffer(e))return O6(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},V6=function(e,n){if(!Buffer.isBuffer(e))return U6(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},bp=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):B6(e,n)},q6=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Hl=function(t,e){return t[e]},ma=function(t,e){return t[e+1]*256+t[e]},P7=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},li=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},_u=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},L7=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Wf(t,e){var n="",r,i,s=[],o,l,f,c;switch(e){case"dbcs":if(c=this.l,Pt&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(f=0;f<t;++f)n+=String.fromCharCode(ma(this,c)),c+=2;t*=2;break;case"utf8":n=B0(this,this.l,this.l+t);break;case"utf16le":t*=2,n=Hv(this,this.l,this.l+t);break;case"wstr":return Wf.call(this,t,"dbcs");case"lpstr-ansi":n=N6(this,this.l),t=4+li(this,this.l);break;case"lpstr-cp":n=M6(this,this.l),t=4+li(this,this.l);break;case"lpwstr":n=L6(this,this.l),t=4+2*li(this,this.l);break;case"lpp4":t=4+li(this,this.l),n=F6(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+li(this,this.l),n=V6(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(o=Hl(this,this.l+t++))!==0;)s.push(Td(o));n=s.join("");break;case"_wstr":for(t=0,n="";(o=ma(this,this.l+t))!==0;)s.push(Td(o)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",c=this.l,f=0;f<t;++f){if(this.lens&&this.lens.indexOf(c)!==-1)return o=Hl(this,c),this.l=c+1,l=Wf.call(this,t-f,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(Td(ma(this,c))),c+=2}n=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,f=0;f!=t;++f){if(this.lens&&this.lens.indexOf(c)!==-1)return o=Hl(this,c),this.l=c+1,l=Wf.call(this,t-f,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(Td(Hl(this,c))),c+=1}n=s.join("");break;default:switch(t){case 1:return r=Hl(this,this.l),this.l++,r;case 2:return r=(e==="i"?P7:ma)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?_u:L7)(this,this.l),this.l+=4,r):(i=li(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=bp(this,this.l):i=bp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=k6(this,this.l,t);break}}return this.l+=t,n}var O7=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},F7=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},U7=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function V7(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)U7(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var o=e.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,O7(this,e,this.l);break;case 8:if(r=8,n==="f"){M7(this,e,this.l);break}case 16:break;case-4:r=4,F7(this,e,this.l);break}return this.l+=r,this}function H6(t,e){var n=k6(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function lr(t,e){t.l=e,t.read_shift=Wf,t.chk=H6,t.write_shift=V7}function Cr(t,e){t.l+=e}function Wn(t){var e=Po(t);return lr(e,0),e}function Sa(t,e,n){if(t){var r,i,s;lr(t,t.l||0);for(var o=t.length,l=0,f=0;t.l<o;){l=t.read_shift(1),l&128&&(l=(l&127)+((t.read_shift(1)&127)<<7));var c=kp[l]||kp[65535];for(r=t.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=t.read_shift(1))&127)<<7*i;f=t.l+s;var d=c.f&&c.f(t,s,n);if(t.l=f,e(d,c,l))return}}}function hy(){var t=[],e=Pt?256:2048,n=function(c){var d=Wn(c);return lr(d,0),d},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,e)))},o=function(){return i(),ho(t)},l=function(c){i(),r=c,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:l,end:o,_bufs:t}}function Kf(t,e,n){var r=fr(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function dS(t,e,n){var r=fr(t);return r.s=Kf(r.s,e.s,n),r.e=Kf(r.e,e.s,n),r}function Yf(t,e){if(t.cRel&&t.c<0)for(t=fr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=fr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=gt(t);return!t.cRel&&t.cRel!=null&&(n=H7(n)),!t.rRel&&t.rRel!=null&&(n=B7(n)),n}function G1(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Yn(t.s.c)+":"+(t.e.cRel?"":"$")+Yn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+hr(t.s.r)+":"+(t.e.rRel?"":"$")+hr(t.e.r):Yf(t.s,e.biff)+":"+Yf(t.e,e.biff)}function zv(t){return parseInt(q7(t),10)-1}function hr(t){return""+(t+1)}function B7(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function q7(t){return t.replace(/\$(\d+)$/,"$1")}function Gv(t){for(var e=z7(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Yn(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function H7(t){return t.replace(/^([A-Z])/,"$$$1")}function z7(t){return t.replace(/^\$([A-Z])/,"$1")}function G7(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Lr(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function gt(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function Sc(t){var e=t.indexOf(":");return e==-1?{s:Lr(t),e:Lr(t)}:{s:Lr(t.slice(0,e)),e:Lr(t.slice(e+1))}}function Ft(t,e){return typeof e>"u"||typeof e=="number"?Ft(t.s,t.e):(typeof t!="string"&&(t=gt(t)),typeof e!="string"&&(e=gt(e)),t==e?t:t+":"+e)}function In(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function pS(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Mi(t.z,n?Ur(e):e)}catch{}try{return t.w=Mi((t.XF||{}).numFmtId||(n?14:0),n?Ur(e):e)}catch{return""+e}}function Ea(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?$u[t.v]||t.v:e==null?pS(t,t.v):pS(t,e))}function Ho(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function z6(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,s=t||(i?[]:{}),o=0,l=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var f=typeof r.origin=="string"?Lr(r.origin):r.origin;o=f.r,l=f.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=In(s["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),o==-1&&(c.e.r=o=d.e.r+1)}for(var g=0;g!=e.length;++g)if(e[g]){if(!Array.isArray(e[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=e[g].length;++p)if(!(typeof e[g][p]>"u")){var x={v:e[g][p]},_=o+g,w=l+p;if(c.s.r>_&&(c.s.r=_),c.s.c>w&&(c.s.c=w),c.e.r<_&&(c.e.r=_),c.e.c<w&&(c.e.c=w),e[g][p]&&typeof e[g][p]=="object"&&!Array.isArray(e[g][p])&&!(e[g][p]instanceof Date))x=e[g][p];else if(Array.isArray(x.v)&&(x.f=e[g][p][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(r.nullError)x.t="e",x.v=0;else if(r.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=r.dateNF||_t[14],r.cellDates?(x.t="d",x.w=Mi(x.z,Ur(x.v))):(x.t="n",x.v=Ur(x.v),x.w=Mi(x.z,x.v))):x.t="s";if(i)s[_]||(s[_]=[]),s[_][w]&&s[_][w].z&&(x.z=s[_][w].z),s[_][w]=x;else{var C=gt({c:w,r:_});s[C]&&s[C].z&&(x.z=s[C].z),s[C]=x}}}return c.s.c<1e7&&(s["!ref"]=Ft(c)),s}function Ac(t,e){return z6(null,t,e)}function j7(t){return t.read_shift(4,"i")}function Sr(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function $7(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function jv(t,e){var n=t.l,r=t.read_shift(1),i=Sr(t),s=[],o={t:i,h:i};if((r&1)!==0){for(var l=t.read_shift(4),f=0;f!=l;++f)s.push($7(t));o.r=s}else o.r=[{ich:0,ifnt:0}];return t.l=n+e,o}var W7=jv;function Pi(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Gu(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var K7=Sr;function $v(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var Y7=Sr,dy=$v;function Wv(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?bp([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):_u(e,0)>>2;return n?i/100:i}function G6(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var ju=G6;function Er(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function X7(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),o=t.read_shift(1),l=t.read_shift(1),f=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var c=Su[i];c&&(e.rgb=T0(c));break;case 2:e.rgb=T0([o,l,f]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function J7(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function j6(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function Q7(t){return j6(t,1)}function Z7(t){return j6(t,2)}var Kv=2,Wr=3,bd=11,mS=12,wp=19,wd=64,eU=65,tU=71,nU=4108,rU=4126,tr=80,$6=81,iU=[tr,$6],sU={1:{n:"CodePage",t:Kv},2:{n:"Category",t:tr},3:{n:"PresentationFormat",t:tr},4:{n:"ByteCount",t:Wr},5:{n:"LineCount",t:Wr},6:{n:"ParagraphCount",t:Wr},7:{n:"SlideCount",t:Wr},8:{n:"NoteCount",t:Wr},9:{n:"HiddenCount",t:Wr},10:{n:"MultimediaClipCount",t:Wr},11:{n:"ScaleCrop",t:bd},12:{n:"HeadingPairs",t:nU},13:{n:"TitlesOfParts",t:rU},14:{n:"Manager",t:tr},15:{n:"Company",t:tr},16:{n:"LinksUpToDate",t:bd},17:{n:"CharacterCount",t:Wr},19:{n:"SharedDoc",t:bd},22:{n:"HyperlinksChanged",t:bd},23:{n:"AppVersion",t:Wr,p:"version"},24:{n:"DigSig",t:eU},26:{n:"ContentType",t:tr},27:{n:"ContentStatus",t:tr},28:{n:"Language",t:tr},29:{n:"Version",t:tr},255:{},2147483648:{n:"Locale",t:wp},2147483651:{n:"Behavior",t:wp},1919054434:{}},aU={1:{n:"CodePage",t:Kv},2:{n:"Title",t:tr},3:{n:"Subject",t:tr},4:{n:"Author",t:tr},5:{n:"Keywords",t:tr},6:{n:"Comments",t:tr},7:{n:"Template",t:tr},8:{n:"LastAuthor",t:tr},9:{n:"RevNumber",t:tr},10:{n:"EditTime",t:wd},11:{n:"LastPrinted",t:wd},12:{n:"CreatedDate",t:wd},13:{n:"ModifiedDate",t:wd},14:{n:"PageCount",t:Wr},15:{n:"WordCount",t:Wr},16:{n:"CharCount",t:Wr},17:{n:"Thumbnail",t:tU},18:{n:"Application",t:tr},19:{n:"DocSecurity",t:Wr},255:{},2147483648:{n:"Locale",t:wp},2147483651:{n:"Behavior",t:wp},1919054434:{}},gS={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},oU=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function uU(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var lU=uU([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Su=fr(lU),$u={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},W6={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},xS={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function cU(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function fU(t){var e=cU();if(!t||!t.match)return e;var n={};if((t.match(Ir)||[]).forEach(function(r){var i=ft(r);switch(i[0].replace(v7,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":e[xS[i.ContentType]]!==void 0&&e[xS[i.ContentType]].push(i.PartName);break}}),e.xmlns!==R7.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}var Gl={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function py(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Xf(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(Ir)||[]).forEach(function(i){var s=ft(i);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var l=s.TargetMode==="External"?s.Target:Ff(s.Target,e);n[l]=o,r[s.Id]=o}}),n["!id"]=r,n}var hU="application/vnd.oasis.opendocument.spreadsheet";function dU(t,e){for(var n=qv(t),r,i;r=v0.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=ft(r[0],!1),i.path=="/"&&i.type!==hU)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}var Jf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],pU=(function(){for(var t=new Array(Jf.length),e=0;e<Jf.length;++e){var n=Jf[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function K6(t){var e={};t=dn(t);for(var n=0;n<Jf.length;++n){var r=Jf[n],i=t.match(pU[n]);i!=null&&i.length>0&&(e[r[1]]=Vt(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=nr(e[r[1]]))}return e}var mU=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Y6(t,e,n,r){var i=[];if(typeof t=="string")i=oS(t,r);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(d){return{v:d}}));var o=typeof e=="string"?oS(e,r).map(function(d){return d.v}):e,l=0,f=0;if(o.length>0)for(var c=0;c!==i.length;c+=2){switch(f=+i[c+1].v,i[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":n.Worksheets=f,n.SheetNames=o.slice(l,l+f);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":n.NamedRanges=f,n.DefinedNames=o.slice(l,l+f);break;case"Charts":case"Diagramme":n.Chartsheets=f,n.ChartNames=o.slice(l,l+f);break}l+=f}}function gU(t,e,n){var r={};return e||(e={}),t=dn(t),mU.forEach(function(i){var s=(t.match(y0(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Vt(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var o=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));o&&o.length>0&&(r[i[1]]=o[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&Y6(r.HeadingPairs,r.TitlesOfParts,e,n),e}var xU=/<[^>]+>[^<]*/g;function yU(t,e){var n={},r="",i=t.match(xU);if(i)for(var s=0;s!=i.length;++s){var o=i[s],l=ft(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Vt(l.name);break;case"</property>":r=null;break;default:if(o.indexOf("<vt:")===0){var f=o.split(">"),c=f[0].slice(4),d=f[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[r]=Vt(d);break;case"bool":n[r]=_n(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(d,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(d);break;case"filetime":case"date":n[r]=nr(d);break;case"cy":case"error":n[r]=Vt(d);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",o,c,f)}}else if(o.slice(0,2)!=="</"){if(e.WTF)throw new Error(o)}}}return n}var vU={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},j1;function _U(t,e,n){j1||(j1=Uv(vU)),e=j1[e]||e,t[e]=n}function Yv(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function X6(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function J6(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function Q6(t,e,n){return e===31?J6(t):X6(t,e,n)}function my(t,e,n){return Q6(t,e,n===!1?0:4)}function TU(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return Q6(t,e,0)}function EU(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace(Fr,""),t.l-i&2&&(t.l+=2)}return n}function bU(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(Fr,"");return n}function wU(t){var e=t.l,n=Sp(t,$6);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=Sp(t,Wr);return[n,r]}function SU(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(wU(t));return n}function yS(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var s=t.read_shift(4),o=t.read_shift(4);r[s]=t.read_shift(o,e===1200?"utf16le":"utf8").replace(Fr,"").replace(Of,"!"),e===1200&&o%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function Z6(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function AU(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function Sp(t,e,n){var r=t.read_shift(2),i,s=n||{};if(t.l+=2,e!==mS&&r!==e&&iU.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===mS?r:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return X6(t,r,4).replace(Fr,"");case 31:return J6(t);case 64:return Yv(t);case 65:return Z6(t);case 71:return AU(t);case 80:return my(t,r,!s.raw).replace(Fr,"");case 81:return TU(t,r).replace(Fr,"");case 4108:return SU(t);case 4126:case 4127:return r==4127?EU(t):bU(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function vS(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),s=[],o=0,l=0,f=-1,c={};for(o=0;o!=i;++o){var d=t.read_shift(4),g=t.read_shift(4);s[o]=[d,g+n]}s.sort(function(P,A){return P[1]-A[1]});var p={};for(o=0;o!=i;++o){if(t.l!==s[o][1]){var x=!0;if(o>0&&e)switch(e[s[o-1][0]].t){case 2:t.l+2===s[o][1]&&(t.l+=2,x=!1);break;case 80:t.l<=s[o][1]&&(t.l=s[o][1],x=!1);break;case 4108:t.l<=s[o][1]&&(t.l=s[o][1],x=!1);break}if((!e||o==0)&&t.l<=s[o][1]&&(x=!1,t.l=s[o][1]),x)throw new Error("Read Error: Expected address "+s[o][1]+" at "+t.l+" :"+o)}if(e){var _=e[s[o][0]];if(p[_.n]=Sp(t,_.t,{raw:!0}),_.p==="version"&&(p[_.n]=String(p[_.n]>>16)+"."+("0000"+String(p[_.n]&65535)).slice(-4)),_.n=="CodePage")switch(p[_.n]){case 0:p[_.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ns(l=p[_.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[_.n])}}else if(s[o][0]===1){if(l=p.CodePage=Sp(t,Kv),ns(l),f!==-1){var w=t.l;t.l=s[f][1],c=yS(t,l),t.l=w}}else if(s[o][0]===0){if(l===0){f=o,t.l=s[o+1][1];continue}c=yS(t,l)}else{var C=c[s[o][0]],I;switch(t[t.l]){case 65:t.l+=4,I=Z6(t);break;case 30:t.l+=4,I=my(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,I=my(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,I=t.read_shift(4,"i");break;case 19:t.l+=4,I=t.read_shift(4);break;case 5:t.l+=4,I=t.read_shift(8,"f");break;case 11:t.l+=4,I=Dn(t,4);break;case 64:t.l+=4,I=nr(Yv(t));break;default:throw new Error("unparsed value: "+t[t.l])}p[C]=I}}return t.l=n+r,p}function _S(t,e,n){var r=t.content;if(!r)return{};lr(r,0);var i,s,o,l,f=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),d=r.read_shift(16);if(d!==Ot.utils.consts.HEADER_CLSID&&d!==n)throw new Error("Bad PropertySet CLSID "+d);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),l=r.read_shift(4),i===1&&l!==r.l)throw new Error("Length mismatch: "+l+" !== "+r.l);i===2&&(o=r.read_shift(16),f=r.read_shift(4));var g=vS(r,e),p={SystemIdentifier:c};for(var x in g)p[x]=g[x];if(p.FMTID=s,i===1)return p;if(f-r.l==2&&(r.l+=2),r.l!==f)throw new Error("Length mismatch 2: "+r.l+" !== "+f);var _;try{_=vS(r,null)}catch{}for(x in _)p[x]=_[x];return p.FMTID=[s,o],p}function ao(t,e){return t.read_shift(e),null}function CU(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}function Dn(t,e){return t.read_shift(e)===1}function zn(t){return t.read_shift(2,"u")}function ek(t,e){return CU(t,e,zn)}function IU(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function q0(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var o=r?t.read_shift(r,i):"";return o}function kU(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,i=n&8,s=1+(n&1),o=0,l,f={};i&&(o=t.read_shift(2)),r&&(l=t.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",d=e===0?"":t.read_shift(e,c);return i&&(t.l+=4*o),r&&(t.l+=l),f.t=d,i||(f.raw="<t>"+f.t+"</t>",f.r=f.t),f}function Mu(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function H0(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):Mu(t,r,n)}function Wu(t,e,n){if(n.biff>5)return H0(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function RU(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function NU(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace(Fr,"");return r&&(t.l+=24),i}function DU(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=t.read_shift(s>>1,"utf16le").replace(Fr,"");return n+o}function MU(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return NU(t);case"0303000000000000c000000000000046":return DU(t);default:throw new Error("Unsupported Moniker "+n)}}function Sd(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(Fr,""):"";return n}function PU(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var s,o,l,f,c="",d,g;i&16&&(s=Sd(t,n-t.l)),i&128&&(o=Sd(t,n-t.l)),(i&257)===257&&(l=Sd(t,n-t.l)),(i&257)===1&&(f=MU(t,n-t.l)),i&8&&(c=Sd(t,n-t.l)),i&32&&(d=t.read_shift(16)),i&64&&(g=Yv(t)),t.l=n;var p=o||l||f||"";p&&c&&(p+="#"+c),p||(p="#"+c),i&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var x={Target:p};return d&&(x.guid=d),g&&(x.time=g),s&&(x.Tooltip=s),x}function tk(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),i=t.read_shift(1);return[e,n,r,i]}function nk(t,e){var n=tk(t);return n[3]=0,n}function Fs(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function LU(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function OU(t,e,n){return e===0?"":Wu(t,e,n)}function FU(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),o=t.read_shift(r,"i");return[i,s,o]}function rk(t){var e=t.read_shift(2),n=Wv(t);return[e,n]}function UU(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=q0(t,e,n),s=t.read_shift(2);if(r-=t.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return t.l+=s,i}function gm(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function ik(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),i=t.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:n}}}var VU=ik;function sk(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function BU(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function qU(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function yr(t){t.l+=2,t.l+=t.read_shift(2)}var HU={0:yr,4:yr,5:yr,6:yr,7:qU,8:yr,9:yr,10:yr,11:yr,12:yr,13:BU,14:yr,15:yr,16:yr,17:yr,18:yr,19:yr,20:yr,21:sk};function zU(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(HU[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function Ad(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function GU(t,e){return e===0||t.read_shift(2),1200}function jU(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=Wu(t,0,n);return t.read_shift(e+r-t.l),i}function $U(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function WU(t,e,n){var r=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=q0(t,0,n);return o.length===0&&(o="Sheet1"),{pos:r,hs:i,dt:s,name:o}}function KU(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),s=[],o=0;o!=i&&t.l<n;++o)s.push(kU(t));return s.Count=r,s.Unique=i,s}function YU(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function XU(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function JU(t){var e=LU(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function QU(t){return t.read_shift(2),t.read_shift(4)}function TS(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var i=t.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function ZU(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),f=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,n],Dim:[r,i],Flags:s,CurTab:o,FirstTab:l,Selected:f,TabRatio:c}}function eV(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function tV(){}function nV(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=q0(t,0,n),r}function rV(t){var e=Fs(t);return e.isst=t.read_shift(4),e}function iV(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,i=Fs(t);n.biff==2&&t.l++;var s=H0(t,r-t.l,n);return i.val=s,i}function sV(t,e,n){var r=t.read_shift(2),i=Wu(t,0,n);return[r,i]}var aV=Wu;function ES(t,e,n){var r=t.l+e,i=n.biff==8||!n.biff?4:2,s=t.read_shift(i),o=t.read_shift(i),l=t.read_shift(2),f=t.read_shift(2);return t.l=r,{s:{r:s,c:l},e:{r:o,c:f}}}function oV(t){var e=t.read_shift(2),n=t.read_shift(2),r=rk(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function uV(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(rk(t));if(t.l!==n)throw new Error("MulRK read error");var o=t.read_shift(2);if(s.length!=o-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:o,rkrec:s}}function lV(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var o=t.read_shift(2);if(s.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:o,ixfe:s}}function cV(t,e,n,r){var i={},s=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(4),f=t.read_shift(2);return i.patternType=oU[l>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=o&15,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=l&127,i.icvBottom=l>>7&127,i.icvDiag=l>>14&127,i.dgDiag=l>>21&15,i.icvFore=f&127,i.icvBack=f>>7&127,i.fsxButton=f>>14&1),i}function fV(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=cV(t,e,r.fStyle,n),r}function hV(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function bS(t,e,n){var r=Fs(t);(n.biff==2||e==9)&&++t.l;var i=IU(t);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function dV(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Fs(t),i=Er(t);return r.val=i,r}var wS=OU;function pV(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=Mu(t,s),l=[];r>t.l;)l.push(H0(t));return[s,i,o,l]}function SS(t,e,n){var r=t.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=UU(t,e-2,n)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var mV=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function AS(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(n&&n.biff==2?1:2),f=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),f=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var c=Mu(t,o,n);i&32&&(c=mV[c.charCodeAt(0)]);var d=r-t.l;n&&n.biff==2&&--d;var g=r==t.l||l===0||!(d>0)?[]:XH(t,d,n,l);return{chKey:s,Name:c,itab:f,rgce:g}}function ak(t,e,n){if(n.biff<8)return gV(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(FU(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function gV(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=q0(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function xV(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),i=t.read_shift(2),s=Mu(t,r,n),o=Mu(t,i,n);return[s,o]}function yV(t,e,n){var r=ik(t);t.l++;var i=t.read_shift(1);return e-=8,[JH(t,e,n),i,r]}function CS(t,e,n){var r=VU(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,KH(t,e,n)]}function vV(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function _V(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),l=Wu(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},l,o,s]}}function TV(t,e,n){return _V(t,e,n)}function EV(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(gm(t));return n}function bV(t,e,n){if(n&&n.biff<8)return SV(t,e,n);var r=sk(t),i=zU(t,e-22,r[1]);return{cmo:r,ft:i}}var wV={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function SV(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var o=[];return o.push((wV[r]||Cr)(t,e,n)),{cmo:[i,r,s],ft:o}}function AV(t,e,n){var r=t.l,i="";try{t.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:o=RU(t,6,n);var l=t.read_shift(2);t.read_shift(2),zn(t,2);var f=t.read_shift(2);t.l+=f;for(var c=1;c<t.lens.length-1;++c){if(t.l-r!=t.lens[c])throw new Error("TxO: bad continue record");var d=t[t.l],g=Mu(t,t.lens[c+1]-t.lens[c]-1);if(i+=g,i.length>=(d?l:2*l))break}if(i.length!==l&&i.length!==l*2)throw new Error("cchText: "+l+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}function CV(t,e){var n=gm(t);t.l+=16;var r=PU(t,e-24);return[n,r]}function IV(t,e){t.read_shift(2);var n=gm(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(Fr,""),[n,r]}function kV(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=gS[n]||n,n=t.read_shift(2),e[1]=gS[n]||n,e}function RV(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(nk(t));return n}function NV(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(nk(t));return n}function DV(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function ok(t,e,n){if(!n.cellStyles)return Cr(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(r),f=t.read_shift(2);r==2&&(t.l+=2);var c={s:i,e:s,w:o,ixfe:l,flags:f};return(n.biff>=5||!n.biff)&&(c.level=f>>8&7),c}function MV(t,e){var n={};return e<32||(t.l+=16,n.header=Er(t),n.footer=Er(t),t.l+=2),n}function PV(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,i&16&&(r.area=!0),r}var LV=Fs,OV=ek,FV=H0;function UV(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}function VV(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Fs(t);++t.l;var i=Wu(t,e-7,n);return r.t="str",r.val=i,r}function BV(t){var e=Fs(t);++t.l;var n=Er(t);return e.t="n",e.val=n,e}function qV(t){var e=Fs(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function HV(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function zV(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function GV(t,e,n){var r=t.l+e,i=Fs(t),s=t.read_shift(2),o=Mu(t,s,n);return t.l=r,i.t="str",i.val=o,i}var jV=[2,3,48,49,131,139,140,245],IS=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Uv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(l,f){var c=[],d=Po(1);switch(f.type){case"base64":d=es(di(l));break;case"binary":d=es(l);break;case"buffer":case"array":d=l;break}lr(d,0);var g=d.read_shift(1),p=!!(g&136),x=!1,_=!1;switch(g){case 2:break;case 3:break;case 48:x=!0,p=!0;break;case 49:x=!0,p=!0;break;case 131:break;case 139:break;case 140:_=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var w=0,C=521;g==2&&(w=d.read_shift(2)),d.l+=3,g!=2&&(w=d.read_shift(4)),w>1048576&&(w=1e6),g!=2&&(C=d.read_shift(2));var I=d.read_shift(2),P=f.codepage||1252;g!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(P=t[d[d.l]]),d.l+=1,d.l+=2),_&&(d.l+=36);for(var A=[],L={},D=Math.min(d.length,g==2?521:C-10-(x?264:0)),O=_?32:11;d.l<D&&d[d.l]!=13;)switch(L={},L.name=g0.utils.decode(P,d.slice(d.l,d.l+O)).replace(/[\u0000\r\n].*$/g,""),d.l+=O,L.type=String.fromCharCode(d.read_shift(1)),g!=2&&!_&&(L.offset=d.read_shift(4)),L.len=d.read_shift(1),g==2&&(L.offset=d.read_shift(2)),L.dec=d.read_shift(1),L.name.length&&A.push(L),g!=2&&(d.l+=_?13:14),L.type){case"B":(!x||L.len!=8)&&f.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"G":case"P":f.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+L.type)}if(d[d.l]!==13&&(d.l=C-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=C;var k=0,N=0;for(c[0]=[],N=0;N!=A.length;++N)c[0][N]=A[N].name;for(;w-- >0;){if(d[d.l]===42){d.l+=I;continue}for(++d.l,c[++k]=[],N=0,N=0;N!=A.length;++N){var R=d.slice(d.l,d.l+A[N].len);d.l+=A[N].len,lr(R,0);var V=g0.utils.decode(P,R);switch(A[N].type){case"C":V.trim().length&&(c[k][N]=V.replace(/\s+$/,""));break;case"D":V.length===8?c[k][N]=new Date(+V.slice(0,4),+V.slice(4,6)-1,+V.slice(6,8)):c[k][N]=V;break;case"F":c[k][N]=parseFloat(V.trim());break;case"+":case"I":c[k][N]=_?R.read_shift(-4,"i")^2147483648:R.read_shift(4,"i");break;case"L":switch(V.trim().toUpperCase()){case"Y":case"T":c[k][N]=!0;break;case"N":case"F":c[k][N]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+V+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));c[k][N]="##MEMO##"+(_?parseInt(V.trim(),10):R.read_shift(4));break;case"N":V=V.replace(/\u0000/g,"").trim(),V&&V!="."&&(c[k][N]=+V||0);break;case"@":c[k][N]=new Date(R.read_shift(-8,"f")-621356832e5);break;case"T":c[k][N]=new Date((R.read_shift(4)-2440588)*864e5+R.read_shift(4));break;case"Y":c[k][N]=R.read_shift(4,"i")/1e4+R.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[k][N]=-R.read_shift(-8,"f");break;case"B":if(x&&A[N].len==8){c[k][N]=R.read_shift(8,"f");break}case"G":case"P":R.l+=A[N].len;break;case"0":if(A[N].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+A[N].type)}}}if(g!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return f&&f.sheetRows&&(c=c.slice(0,f.sheetRows)),f.DBF=A,c}function r(l,f){var c=f||{};c.dateNF||(c.dateNF="yyyymmdd");var d=Ac(n(l,c),c);return d["!cols"]=c.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete c.DBF,d}function i(l,f){try{return Ho(r(l,f),f)}catch(c){if(f&&f.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,f){var c=f||{};if(+c.codepage>=0&&ns(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var d=hy(),g=Ty(l,{header:1,raw:!0,cellDates:!0}),p=g[0],x=g.slice(1),_=l["!cols"]||[],w=0,C=0,I=0,P=1;for(w=0;w<p.length;++w){if(((_[w]||{}).DBF||{}).name){p[w]=_[w].DBF.name,++I;continue}if(p[w]!=null){if(++I,typeof p[w]=="number"&&(p[w]=p[w].toString(10)),typeof p[w]!="string")throw new Error("DBF Invalid column name "+p[w]+" |"+typeof p[w]+"|");if(p.indexOf(p[w])!==w){for(C=0;C<1024;++C)if(p.indexOf(p[w]+"_"+C)==-1){p[w]+="_"+C;break}}}}var A=In(l["!ref"]),L=[],D=[],O=[];for(w=0;w<=A.e.c-A.s.c;++w){var k="",N="",R=0,V=[];for(C=0;C<x.length;++C)x[C][w]!=null&&V.push(x[C][w]);if(V.length==0||p[w]==null){L[w]="?";continue}for(C=0;C<V.length;++C){switch(typeof V[C]){case"number":N="B";break;case"string":N="C";break;case"boolean":N="L";break;case"object":N=V[C]instanceof Date?"D":"C";break;default:N="C"}R=Math.max(R,String(V[C]).length),k=k&&k!=N?"C":N}R>250&&(R=250),N=((_[w]||{}).DBF||{}).type,N=="C"&&_[w].DBF.len>R&&(R=_[w].DBF.len),k=="B"&&N=="N"&&(k="N",O[w]=_[w].DBF.dec,R=_[w].DBF.len),D[w]=k=="C"||N=="N"?R:s[k]||0,P+=D[w],L[w]=k}var M=d.next(32);for(M.write_shift(4,318902576),M.write_shift(4,x.length),M.write_shift(2,296+32*I),M.write_shift(2,P),w=0;w<4;++w)M.write_shift(4,0);for(M.write_shift(4,0|(+e[a6]||3)<<8),w=0,C=0;w<p.length;++w)if(p[w]!=null){var F=d.next(32),q=(p[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);F.write_shift(1,q,"sbcs"),F.write_shift(1,L[w]=="?"?"C":L[w],"sbcs"),F.write_shift(4,C),F.write_shift(1,D[w]||s[L[w]]||0),F.write_shift(1,O[w]||0),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(1,0),F.write_shift(4,0),F.write_shift(4,0),C+=D[w]||s[L[w]]||0}var ce=d.next(264);for(ce.write_shift(4,13),w=0;w<65;++w)ce.write_shift(4,0);for(w=0;w<x.length;++w){var oe=d.next(P);for(oe.write_shift(1,0),C=0;C<p.length;++C)if(p[C]!=null)switch(L[C]){case"L":oe.write_shift(1,x[w][C]==null?63:x[w][C]?84:70);break;case"B":oe.write_shift(8,x[w][C]||0,"f");break;case"N":var ae="0";for(typeof x[w][C]=="number"&&(ae=x[w][C].toFixed(O[C]||0)),I=0;I<D[C]-ae.length;++I)oe.write_shift(1,32);oe.write_shift(1,ae,"sbcs");break;case"D":x[w][C]?(oe.write_shift(4,("0000"+x[w][C].getFullYear()).slice(-4),"sbcs"),oe.write_shift(2,("00"+(x[w][C].getMonth()+1)).slice(-2),"sbcs"),oe.write_shift(2,("00"+x[w][C].getDate()).slice(-2),"sbcs")):oe.write_shift(8,"00000000","sbcs");break;case"C":var se=String(x[w][C]!=null?x[w][C]:"").slice(0,D[C]);for(oe.write_shift(1,se,"sbcs"),I=0;I<D[C]-se.length;++I)oe.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}})(),$V=(function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Ms(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(p,x){var _=t[x];return typeof _=="number"?Gw(_):_},r=function(p,x,_){var w=x.charCodeAt(0)-32<<4|_.charCodeAt(0)-48;return w==59?p:Gw(w)};t["|"]=254;function i(p,x){switch(x.type){case"base64":return s(di(p),x);case"binary":return s(p,x);case"buffer":return s(Pt&&Buffer.isBuffer(p)?p.toString("binary"):zu(p),x);case"array":return s(Du(p),x)}throw new Error("Unrecognized type "+x.type)}function s(p,x){var _=p.split(/[\n\r]+/),w=-1,C=-1,I=0,P=0,A=[],L=[],D=null,O={},k=[],N=[],R=[],V=0,M;for(+x.codepage>=0&&ns(+x.codepage);I!==_.length;++I){V=0;var F=_[I].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),q=F.replace(/;;/g,"\0").split(";").map(function(re){return re.replace(/\u0000/g,";")}),ce=q[0],oe;if(F.length>0)switch(ce){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":q[1].charAt(0)=="P"&&L.push(F.slice(3).replace(/;;/g,";"));break;case"C":var ae=!1,se=!1,ge=!1,Z=!1,Ee=-1,G=-1;for(P=1;P<q.length;++P)switch(q[P].charAt(0)){case"A":break;case"X":C=parseInt(q[P].slice(1))-1,se=!0;break;case"Y":for(w=parseInt(q[P].slice(1))-1,se||(C=0),M=A.length;M<=w;++M)A[M]=[];break;case"K":oe=q[P].slice(1),oe.charAt(0)==='"'?oe=oe.slice(1,oe.length-1):oe==="TRUE"?oe=!0:oe==="FALSE"?oe=!1:isNaN(as(oe))?isNaN(dc(oe).getDate())||(oe=nr(oe)):(oe=as(oe),D!==null&&wc(D)&&(oe=mm(oe))),ae=!0;break;case"E":Z=!0;var z=Zl(q[P].slice(1),{r:w,c:C});A[w][C]=[A[w][C],z];break;case"S":ge=!0,A[w][C]=[A[w][C],"S5S"];break;case"G":break;case"R":Ee=parseInt(q[P].slice(1))-1;break;case"C":G=parseInt(q[P].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+F)}if(ae&&(A[w][C]&&A[w][C].length==2?A[w][C][0]=oe:A[w][C]=oe,D=null),ge){if(Z)throw new Error("SYLK shared formula cannot have own formula");var Y=Ee>-1&&A[Ee][G];if(!Y||!Y[1])throw new Error("SYLK shared formula cannot find base");A[w][C][1]=xk(Y[1],{r:w-Ee,c:C-G})}break;case"F":var ee=0;for(P=1;P<q.length;++P)switch(q[P].charAt(0)){case"X":C=parseInt(q[P].slice(1))-1,++ee;break;case"Y":for(w=parseInt(q[P].slice(1))-1,M=A.length;M<=w;++M)A[M]=[];break;case"M":V=parseInt(q[P].slice(1))/20;break;case"F":break;case"G":break;case"P":D=L[parseInt(q[P].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(R=q[P].slice(1).split(" "),M=parseInt(R[0],10);M<=parseInt(R[1],10);++M)V=parseInt(R[2],10),N[M-1]=V===0?{hidden:!0}:{wch:V},pc(N[M-1]);break;case"C":C=parseInt(q[P].slice(1))-1,N[C]||(N[C]={});break;case"R":w=parseInt(q[P].slice(1))-1,k[w]||(k[w]={}),V>0?(k[w].hpt=V,k[w].hpx=E0(V)):V===0&&(k[w].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+F)}ee<1&&(D=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+F)}}return k.length>0&&(O["!rows"]=k),N.length>0&&(O["!cols"]=N),x&&x.sheetRows&&(A=A.slice(0,x.sheetRows)),[A,O]}function o(p,x){var _=i(p,x),w=_[0],C=_[1],I=Ac(w,x);return Ms(C).forEach(function(P){I[P]=C[P]}),I}function l(p,x){return Ho(o(p,x),x)}function f(p,x,_,w){var C="C;Y"+(_+1)+";X"+(w+1)+";K";switch(p.t){case"n":C+=p.v||0,p.f&&!p.F&&(C+=";E"+Dq(p.f,{r:_,c:w}));break;case"b":C+=p.v?"TRUE":"FALSE";break;case"e":C+=p.w||p.v;break;case"d":C+='"'+(p.w||p.v)+'"';break;case"s":C+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return C}function c(p,x){x.forEach(function(_,w){var C="F;W"+(w+1)+" "+(w+1)+" ";_.hidden?C+="0":(typeof _.width=="number"&&!_.wpx&&(_.wpx=Cp(_.width)),typeof _.wpx=="number"&&!_.wch&&(_.wch=Ip(_.wpx)),typeof _.wch=="number"&&(C+=Math.round(_.wch))),C.charAt(C.length-1)!=" "&&p.push(C)})}function d(p,x){x.forEach(function(_,w){var C="F;";_.hidden?C+="M0;":_.hpt?C+="M"+20*_.hpt+";":_.hpx&&(C+="M"+20*pk(_.hpx)+";"),C.length>2&&p.push(C+"R"+(w+1))})}function g(p,x){var _=["ID;PWXL;N;E"],w=[],C=In(p["!ref"]),I,P=Array.isArray(p),A=`\r
`;_.push("P;PGeneral"),_.push("F;P0;DG0G8;M255"),p["!cols"]&&c(_,p["!cols"]),p["!rows"]&&d(_,p["!rows"]),_.push("B;Y"+(C.e.r-C.s.r+1)+";X"+(C.e.c-C.s.c+1)+";D"+[C.s.c,C.s.r,C.e.c,C.e.r].join(" "));for(var L=C.s.r;L<=C.e.r;++L)for(var D=C.s.c;D<=C.e.c;++D){var O=gt({r:L,c:D});I=P?(p[L]||[])[D]:p[O],!(!I||I.v==null&&(!I.f||I.F))&&w.push(f(I,p,L,D))}return _.join(A)+A+w.join(A)+A+"E"+A}return{to_workbook:l,to_sheet:o,from_sheet:g}})(),WV=(function(){function t(s,o){switch(o.type){case"base64":return e(di(s),o);case"binary":return e(s,o);case"buffer":return e(Pt&&Buffer.isBuffer(s)?s.toString("binary"):zu(s),o);case"array":return e(Du(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var l=s.split(`
`),f=-1,c=-1,d=0,g=[];d!==l.length;++d){if(l[d].trim()==="BOT"){g[++f]=[],c=0;continue}if(!(f<0)){var p=l[d].trim().split(","),x=p[0],_=p[1];++d;for(var w=l[d]||"";(w.match(/["]/g)||[]).length&1&&d<l.length-1;)w+=`
`+l[++d];switch(w=w.trim(),+x){case-1:if(w==="BOT"){g[++f]=[],c=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?g[f][c]=!0:w==="FALSE"?g[f][c]=!1:isNaN(as(_))?isNaN(dc(_).getDate())?g[f][c]=_:g[f][c]=nr(_):g[f][c]=as(_),++c;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),g[f][c++]=w!==""?w:null;break}if(w==="EOD")break}}return o&&o.sheetRows&&(g=g.slice(0,o.sheetRows)),g}function n(s,o){return Ac(t(s,o),o)}function r(s,o){return Ho(n(s,o),o)}var i=(function(){var s=function(f,c,d,g,p){f.push(c),f.push(d+","+g),f.push('"'+p.replace(/"/g,'""')+'"')},o=function(f,c,d,g){f.push(c+","+d),f.push(c==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(f){var c=[],d=In(f["!ref"]),g,p=Array.isArray(f);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,d.e.r-d.s.r+1,""),s(c,"TUPLES",0,d.e.c-d.s.c+1,""),s(c,"DATA",0,0,"");for(var x=d.s.r;x<=d.e.r;++x){o(c,-1,0,"BOT");for(var _=d.s.c;_<=d.e.c;++_){var w=gt({r:x,c:_});if(g=p?(f[x]||[])[_]:f[w],!g){o(c,1,0,"");continue}switch(g.t){case"n":var C=g.w;!C&&g.v!=null&&(C=g.v),C==null?g.f&&!g.F?o(c,1,0,"="+g.f):o(c,1,0,""):o(c,0,C,"V");break;case"b":o(c,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":o(c,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=Mi(g.z||_t[14],Ur(nr(g.v)))),o(c,0,g.w,"V");break;default:o(c,1,0,"")}}}o(c,-1,0,"EOD");var I=`\r
`,P=c.join(I);return P}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),KV=(function(){function t(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(g,p){for(var x=g.split(`
`),_=-1,w=-1,C=0,I=[];C!==x.length;++C){var P=x[C].trim().split(":");if(P[0]==="cell"){var A=Lr(P[1]);if(I.length<=A.r)for(_=I.length;_<=A.r;++_)I[_]||(I[_]=[]);switch(_=A.r,w=A.c,P[2]){case"t":I[_][w]=t(P[3]);break;case"v":I[_][w]=+P[3];break;case"vtf":var L=P[P.length-1];case"vtc":switch(P[3]){case"nl":I[_][w]=!!+P[4];break;default:I[_][w]=+P[4];break}P[2]=="vtf"&&(I[_][w]=[I[_][w],L])}}}return p&&p.sheetRows&&(I=I.slice(0,p.sheetRows)),I}function r(g,p){return Ac(n(g,p),p)}function i(g,p){return Ho(r(g,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),f="--SocialCalcSpreadsheetControlSave--";function c(g){if(!g||!g["!ref"])return"";for(var p=[],x=[],_,w="",C=Sc(g["!ref"]),I=Array.isArray(g),P=C.s.r;P<=C.e.r;++P)for(var A=C.s.c;A<=C.e.c;++A)if(w=gt({r:P,c:A}),_=I?(g[P]||[])[A]:g[w],!(!_||_.v==null||_.t==="z")){switch(x=["cell",w,"t"],_.t){case"s":case"str":x.push(e(_.v));break;case"n":_.f?(x[2]="vtf",x[3]="n",x[4]=_.v,x[5]=e(_.f)):(x[2]="v",x[3]=_.v);break;case"b":x[2]="vt"+(_.f?"f":"c"),x[3]="nl",x[4]=_.v?"1":"0",x[5]=e(_.f||(_.v?"TRUE":"FALSE"));break;case"d":var L=Ur(nr(_.v));x[2]="vtc",x[3]="nd",x[4]=""+L,x[5]=_.w||Mi(_.z||_t[14],L);break;case"e":continue}p.push(x.join(":"))}return p.push("sheet:c:"+(C.e.c-C.s.c+1)+":r:"+(C.e.r-C.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function d(g){return[s,o,l,o,c(g),f].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:d}})(),_0=(function(){function t(d,g,p,x,_){_.raw?g[p][x]=d:d===""||(d==="TRUE"?g[p][x]=!0:d==="FALSE"?g[p][x]=!1:isNaN(as(d))?isNaN(dc(d).getDate())?g[p][x]=d:g[p][x]=nr(d):g[p][x]=as(d))}function e(d,g){var p=g||{},x=[];if(!d||d.length===0)return x;for(var _=d.split(/[\r\n]/),w=_.length-1;w>=0&&_[w].length===0;)--w;for(var C=10,I=0,P=0;P<=w;++P)I=_[P].indexOf(" "),I==-1?I=_[P].length:I++,C=Math.max(C,I);for(P=0;P<=w;++P){x[P]=[];var A=0;for(t(_[P].slice(0,C).trim(),x,P,A,p),A=1;A<=(_[P].length-C)/10+1;++A)t(_[P].slice(C+(A-1)*10,C+A*10).trim(),x,P,A,p)}return p.sheetRows&&(x=x.slice(0,p.sheetRows)),x}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(d){for(var g={},p=!1,x=0,_=0;x<d.length;++x)(_=d.charCodeAt(x))==34?p=!p:!p&&_ in n&&(g[_]=(g[_]||0)+1);_=[];for(x in g)Object.prototype.hasOwnProperty.call(g,x)&&_.push([g[x],x]);if(!_.length){g=r;for(x in g)Object.prototype.hasOwnProperty.call(g,x)&&_.push([g[x],x])}return _.sort(function(w,C){return w[0]-C[0]||r[w[1]]-r[C[1]]}),n[_.pop()[1]]||44}function s(d,g){var p=g||{},x="",_=p.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(x=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(x=d.charAt(4),d=d.slice(6)):x=i(d.slice(0,1024)):p&&p.FS?x=p.FS:x=i(d.slice(0,1024));var C=0,I=0,P=0,A=0,L=0,D=x.charCodeAt(0),O=!1,k=0,N=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var R=p.dateNF!=null?s7(p.dateNF):null;function V(){var M=d.slice(A,L),F={};if(M.charAt(0)=='"'&&M.charAt(M.length-1)=='"'&&(M=M.slice(1,-1).replace(/""/g,'"')),M.length===0)F.t="z";else if(p.raw)F.t="s",F.v=M;else if(M.trim().length===0)F.t="s",F.v=M;else if(M.charCodeAt(0)==61)M.charCodeAt(1)==34&&M.charCodeAt(M.length-1)==34?(F.t="s",F.v=M.slice(2,-1).replace(/""/g,'"')):Pq(M)?(F.t="n",F.f=M.slice(1)):(F.t="s",F.v=M);else if(M=="TRUE")F.t="b",F.v=!0;else if(M=="FALSE")F.t="b",F.v=!1;else if(!isNaN(P=as(M)))F.t="n",p.cellText!==!1&&(F.w=M),F.v=P;else if(!isNaN(dc(M).getDate())||R&&M.match(R)){F.z=p.dateNF||_t[14];var q=0;R&&M.match(R)&&(M=a7(M,p.dateNF,M.match(R)||[]),q=1),p.cellDates?(F.t="d",F.v=nr(M,q)):(F.t="n",F.v=Ur(nr(M,q))),p.cellText!==!1&&(F.w=Mi(F.z,F.v instanceof Date?Ur(F.v):F.v)),p.cellNF||delete F.z}else F.t="s",F.v=M;if(F.t=="z"||(p.dense?(_[C]||(_[C]=[]),_[C][I]=F):_[gt({c:I,r:C})]=F),A=L+1,N=d.charCodeAt(A),w.e.c<I&&(w.e.c=I),w.e.r<C&&(w.e.r=C),k==D)++I;else if(I=0,++C,p.sheetRows&&p.sheetRows<=C)return!0}e:for(;L<d.length;++L)switch(k=d.charCodeAt(L)){case 34:N===34&&(O=!O);break;case D:case 10:case 13:if(!O&&V())break e;break}return L-A>0&&V(),_["!ref"]=Ft(w),_}function o(d,g){return!(g&&g.PRN)||g.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,g):Ac(e(d,g),g)}function l(d,g){var p="",x=g.type=="string"?[0,0,0,0]:r_(d,g);switch(g.type){case"base64":p=di(d);break;case"binary":p=d;break;case"buffer":g.codepage==65001?p=d.toString("utf8"):g.codepage&&typeof g0<"u"||(p=Pt&&Buffer.isBuffer(d)?d.toString("binary"):zu(d));break;case"array":p=Du(d);break;case"string":p=d;break;default:throw new Error("Unrecognized type "+g.type)}return x[0]==239&&x[1]==187&&x[2]==191?p=dn(p.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?p=dn(p):g.type=="binary"&&typeof g0<"u",p.slice(0,19)=="socialcalc:version:"?KV.to_sheet(g.type=="string"?p:dn(p),g):o(p,g)}function f(d,g){return Ho(l(d,g),g)}function c(d){for(var g=[],p=In(d["!ref"]),x,_=Array.isArray(d),w=p.s.r;w<=p.e.r;++w){for(var C=[],I=p.s.c;I<=p.e.c;++I){var P=gt({r:w,c:I});if(x=_?(d[w]||[])[I]:d[P],!x||x.v==null){C.push("          ");continue}for(var A=(x.w||(Ea(x),x.w)||"").slice(0,10);A.length<10;)A+=" ";C.push(A+(I===0?" ":""))}g.push(C.join(""))}return g.join(`
`)}return{to_workbook:f,to_sheet:l,from_sheet:c}})();function YV(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=$V.to_workbook(t,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return _0.to_workbook(t,e)}}var Qf=(function(){function t(z,Y,ee){if(z){lr(z,z.l||0);for(var re=ee.Enum||Ee;z.l<z.length;){var me=z.read_shift(2),Re=re[me]||re[65535],Ne=z.read_shift(2),he=z.l+Ne,ke=Re.f&&Re.f(z,Ne,ee);if(z.l=he,Y(ke,Re,me))return}}}function e(z,Y){switch(Y.type){case"base64":return n(es(di(z)),Y);case"binary":return n(es(z),Y);case"buffer":case"array":return n(z,Y)}throw"Unsupported type "+Y.type}function n(z,Y){if(!z)return z;var ee=Y||{},re=ee.dense?[]:{},me="Sheet1",Re="",Ne=0,he={},ke=[],de=[],K={s:{r:0,c:0},e:{r:0,c:0}},Ae=ee.sheetRows||0;if(z[2]==0&&(z[3]==8||z[3]==9)&&z.length>=16&&z[14]==5&&z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(z[2]==2)ee.Enum=Ee,t(z,function(He,nt,Ge){switch(Ge){case 0:ee.vers=He,He>=4096&&(ee.qpro=!0);break;case 6:K=He;break;case 204:He&&(Re=He);break;case 222:Re=He;break;case 15:case 51:ee.qpro||(He[1].v=He[1].v.slice(1));case 13:case 14:case 16:Ge==14&&(He[2]&112)==112&&(He[2]&15)>1&&(He[2]&15)<15&&(He[1].z=ee.dateNF||_t[14],ee.cellDates&&(He[1].t="d",He[1].v=mm(He[1].v))),ee.qpro&&He[3]>Ne&&(re["!ref"]=Ft(K),he[me]=re,ke.push(me),re=ee.dense?[]:{},K={s:{r:0,c:0},e:{r:0,c:0}},Ne=He[3],me=Re||"Sheet"+(Ne+1),Re="");var We=ee.dense?(re[He[0].r]||[])[He[0].c]:re[gt(He[0])];if(We){We.t=He[1].t,We.v=He[1].v,He[1].z!=null&&(We.z=He[1].z),He[1].f!=null&&(We.f=He[1].f);break}ee.dense?(re[He[0].r]||(re[He[0].r]=[]),re[He[0].r][He[0].c]=He[1]):re[gt(He[0])]=He[1];break}},ee);else if(z[2]==26||z[2]==14)ee.Enum=G,z[2]==14&&(ee.qpro=!0,z.l=0),t(z,function(He,nt,Ge){switch(Ge){case 204:me=He;break;case 22:He[1].v=He[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(He[3]>Ne&&(re["!ref"]=Ft(K),he[me]=re,ke.push(me),re=ee.dense?[]:{},K={s:{r:0,c:0},e:{r:0,c:0}},Ne=He[3],me="Sheet"+(Ne+1)),Ae>0&&He[0].r>=Ae)break;ee.dense?(re[He[0].r]||(re[He[0].r]=[]),re[He[0].r][He[0].c]=He[1]):re[gt(He[0])]=He[1],K.e.c<He[0].c&&(K.e.c=He[0].c),K.e.r<He[0].r&&(K.e.r=He[0].r);break;case 27:He[14e3]&&(de[He[14e3][0]]=He[14e3][1]);break;case 1537:de[He[0]]=He[1],He[0]==Ne&&(me=He[1]);break}},ee);else throw new Error("Unrecognized LOTUS BOF "+z[2]);if(re["!ref"]=Ft(K),he[Re||me]=re,ke.push(Re||me),!de.length)return{SheetNames:ke,Sheets:he};for(var Fe={},Ke=[],qe=0;qe<de.length;++qe)he[ke[qe]]?(Ke.push(de[qe]||ke[qe]),Fe[de[qe]]=he[de[qe]]||he[ke[qe]]):(Ke.push(de[qe]),Fe[de[qe]]={"!ref":"A1"});return{SheetNames:Ke,Sheets:Fe}}function r(z,Y){var ee=Y||{};if(+ee.codepage>=0&&ns(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK1 to JS string");var re=hy(),me=In(z["!ref"]),Re=Array.isArray(z),Ne=[];Wi(re,0,s(1030)),Wi(re,6,f(me));for(var he=Math.min(me.e.r,8191),ke=me.s.r;ke<=he;++ke)for(var de=hr(ke),K=me.s.c;K<=me.e.c;++K){ke===me.s.r&&(Ne[K]=Yn(K));var Ae=Ne[K]+de,Fe=Re?(z[ke]||[])[K]:z[Ae];if(!(!Fe||Fe.t=="z"))if(Fe.t=="n")(Fe.v|0)==Fe.v&&Fe.v>=-32768&&Fe.v<=32767?Wi(re,13,x(ke,K,Fe.v)):Wi(re,14,w(ke,K,Fe.v));else{var Ke=Ea(Fe);Wi(re,15,g(ke,K,Ke.slice(0,239)))}}return Wi(re,1),re.end()}function i(z,Y){var ee=Y||{};if(+ee.codepage>=0&&ns(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK3 to JS string");var re=hy();Wi(re,0,o(z));for(var me=0,Re=0;me<z.SheetNames.length;++me)(z.Sheets[z.SheetNames[me]]||{})["!ref"]&&Wi(re,27,Z(z.SheetNames[me],Re++));var Ne=0;for(me=0;me<z.SheetNames.length;++me){var he=z.Sheets[z.SheetNames[me]];if(!(!he||!he["!ref"])){for(var ke=In(he["!ref"]),de=Array.isArray(he),K=[],Ae=Math.min(ke.e.r,8191),Fe=ke.s.r;Fe<=Ae;++Fe)for(var Ke=hr(Fe),qe=ke.s.c;qe<=ke.e.c;++qe){Fe===ke.s.r&&(K[qe]=Yn(qe));var He=K[qe]+Ke,nt=de?(he[Fe]||[])[qe]:he[He];if(!(!nt||nt.t=="z"))if(nt.t=="n")Wi(re,23,V(Fe,qe,Ne,nt.v));else{var Ge=Ea(nt);Wi(re,22,k(Fe,qe,Ne,Ge.slice(0,239)))}}++Ne}}return Wi(re,1),re.end()}function s(z){var Y=Wn(2);return Y.write_shift(2,z),Y}function o(z){var Y=Wn(26);Y.write_shift(2,4096),Y.write_shift(2,4),Y.write_shift(4,0);for(var ee=0,re=0,me=0,Re=0;Re<z.SheetNames.length;++Re){var Ne=z.SheetNames[Re],he=z.Sheets[Ne];if(!(!he||!he["!ref"])){++me;var ke=Sc(he["!ref"]);ee<ke.e.r&&(ee=ke.e.r),re<ke.e.c&&(re=ke.e.c)}}return ee>8191&&(ee=8191),Y.write_shift(2,ee),Y.write_shift(1,me),Y.write_shift(1,re),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(1,1),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(4,0),Y}function l(z,Y,ee){var re={s:{c:0,r:0},e:{c:0,r:0}};return Y==8&&ee.qpro?(re.s.c=z.read_shift(1),z.l++,re.s.r=z.read_shift(2),re.e.c=z.read_shift(1),z.l++,re.e.r=z.read_shift(2),re):(re.s.c=z.read_shift(2),re.s.r=z.read_shift(2),Y==12&&ee.qpro&&(z.l+=2),re.e.c=z.read_shift(2),re.e.r=z.read_shift(2),Y==12&&ee.qpro&&(z.l+=2),re.s.c==65535&&(re.s.c=re.e.c=re.s.r=re.e.r=0),re)}function f(z){var Y=Wn(8);return Y.write_shift(2,z.s.c),Y.write_shift(2,z.s.r),Y.write_shift(2,z.e.c),Y.write_shift(2,z.e.r),Y}function c(z,Y,ee){var re=[{c:0,r:0},{t:"n",v:0},0,0];return ee.qpro&&ee.vers!=20768?(re[0].c=z.read_shift(1),re[3]=z.read_shift(1),re[0].r=z.read_shift(2),z.l+=2):(re[2]=z.read_shift(1),re[0].c=z.read_shift(2),re[0].r=z.read_shift(2)),re}function d(z,Y,ee){var re=z.l+Y,me=c(z,Y,ee);if(me[1].t="s",ee.vers==20768){z.l++;var Re=z.read_shift(1);return me[1].v=z.read_shift(Re,"utf8"),me}return ee.qpro&&z.l++,me[1].v=z.read_shift(re-z.l,"cstr"),me}function g(z,Y,ee){var re=Wn(7+ee.length);re.write_shift(1,255),re.write_shift(2,Y),re.write_shift(2,z),re.write_shift(1,39);for(var me=0;me<re.length;++me){var Re=ee.charCodeAt(me);re.write_shift(1,Re>=128?95:Re)}return re.write_shift(1,0),re}function p(z,Y,ee){var re=c(z,Y,ee);return re[1].v=z.read_shift(2,"i"),re}function x(z,Y,ee){var re=Wn(7);return re.write_shift(1,255),re.write_shift(2,Y),re.write_shift(2,z),re.write_shift(2,ee,"i"),re}function _(z,Y,ee){var re=c(z,Y,ee);return re[1].v=z.read_shift(8,"f"),re}function w(z,Y,ee){var re=Wn(13);return re.write_shift(1,255),re.write_shift(2,Y),re.write_shift(2,z),re.write_shift(8,ee,"f"),re}function C(z,Y,ee){var re=z.l+Y,me=c(z,Y,ee);if(me[1].v=z.read_shift(8,"f"),ee.qpro)z.l=re;else{var Re=z.read_shift(2);L(z.slice(z.l,z.l+Re),me),z.l+=Re}return me}function I(z,Y,ee){var re=Y&32768;return Y&=-32769,Y=(re?z:0)+(Y>=8192?Y-16384:Y),(re?"":"$")+(ee?Yn(Y):hr(Y))}var P={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},A=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function L(z,Y){lr(z,0);for(var ee=[],re=0,me="",Re="",Ne="",he="";z.l<z.length;){var ke=z[z.l++];switch(ke){case 0:ee.push(z.read_shift(8,"f"));break;case 1:Re=I(Y[0].c,z.read_shift(2),!0),me=I(Y[0].r,z.read_shift(2),!1),ee.push(Re+me);break;case 2:{var de=I(Y[0].c,z.read_shift(2),!0),K=I(Y[0].r,z.read_shift(2),!1);Re=I(Y[0].c,z.read_shift(2),!0),me=I(Y[0].r,z.read_shift(2),!1),ee.push(de+K+":"+Re+me)}break;case 3:if(z.l<z.length){console.error("WK1 premature formula end");return}break;case 4:ee.push("("+ee.pop()+")");break;case 5:ee.push(z.read_shift(2));break;case 6:{for(var Ae="";ke=z[z.l++];)Ae+=String.fromCharCode(ke);ee.push('"'+Ae.replace(/"/g,'""')+'"')}break;case 8:ee.push("-"+ee.pop());break;case 23:ee.push("+"+ee.pop());break;case 22:ee.push("NOT("+ee.pop()+")");break;case 20:case 21:he=ee.pop(),Ne=ee.pop(),ee.push(["AND","OR"][ke-20]+"("+Ne+","+he+")");break;default:if(ke<32&&A[ke])he=ee.pop(),Ne=ee.pop(),ee.push(Ne+A[ke]+he);else if(P[ke]){if(re=P[ke][1],re==69&&(re=z[z.l++]),re>ee.length){console.error("WK1 bad formula parse 0x"+ke.toString(16)+":|"+ee.join("|")+"|");return}var Fe=ee.slice(-re);ee.length-=re,ee.push(P[ke][0]+"("+Fe.join(",")+")")}else return ke<=7?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=24?console.error("WK1 unsupported op "+ke.toString(16)):ke<=30?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=115?console.error("WK1 unsupported function opcode "+ke.toString(16)):console.error("WK1 unrecognized opcode "+ke.toString(16))}}ee.length==1?Y[1].f=""+ee[0]:console.error("WK1 bad formula parse |"+ee.join("|")+"|")}function D(z){var Y=[{c:0,r:0},{t:"n",v:0},0];return Y[0].r=z.read_shift(2),Y[3]=z[z.l++],Y[0].c=z[z.l++],Y}function O(z,Y){var ee=D(z);return ee[1].t="s",ee[1].v=z.read_shift(Y-4,"cstr"),ee}function k(z,Y,ee,re){var me=Wn(6+re.length);me.write_shift(2,z),me.write_shift(1,ee),me.write_shift(1,Y),me.write_shift(1,39);for(var Re=0;Re<re.length;++Re){var Ne=re.charCodeAt(Re);me.write_shift(1,Ne>=128?95:Ne)}return me.write_shift(1,0),me}function N(z,Y){var ee=D(z);ee[1].v=z.read_shift(2);var re=ee[1].v>>1;if(ee[1].v&1)switch(re&7){case 0:re=(re>>3)*5e3;break;case 1:re=(re>>3)*500;break;case 2:re=(re>>3)/20;break;case 3:re=(re>>3)/200;break;case 4:re=(re>>3)/2e3;break;case 5:re=(re>>3)/2e4;break;case 6:re=(re>>3)/16;break;case 7:re=(re>>3)/64;break}return ee[1].v=re,ee}function R(z,Y){var ee=D(z),re=z.read_shift(4),me=z.read_shift(4),Re=z.read_shift(2);if(Re==65535)return re===0&&me===3221225472?(ee[1].t="e",ee[1].v=15):re===0&&me===3489660928?(ee[1].t="e",ee[1].v=42):ee[1].v=0,ee;var Ne=Re&32768;return Re=(Re&32767)-16446,ee[1].v=(1-Ne*2)*(me*Math.pow(2,Re+32)+re*Math.pow(2,Re)),ee}function V(z,Y,ee,re){var me=Wn(14);if(me.write_shift(2,z),me.write_shift(1,ee),me.write_shift(1,Y),re==0)return me.write_shift(4,0),me.write_shift(4,0),me.write_shift(2,65535),me;var Re=0,Ne=0,he=0,ke=0;return re<0&&(Re=1,re=-re),Ne=Math.log2(re)|0,re/=Math.pow(2,Ne-31),ke=re>>>0,(ke&2147483648)==0&&(re/=2,++Ne,ke=re>>>0),re-=ke,ke|=2147483648,ke>>>=0,re*=Math.pow(2,32),he=re>>>0,me.write_shift(4,he),me.write_shift(4,ke),Ne+=16383+(Re?32768:0),me.write_shift(2,Ne),me}function M(z,Y){var ee=R(z);return z.l+=Y-14,ee}function F(z,Y){var ee=D(z),re=z.read_shift(4);return ee[1].v=re>>6,ee}function q(z,Y){var ee=D(z),re=z.read_shift(8,"f");return ee[1].v=re,ee}function ce(z,Y){var ee=q(z);return z.l+=Y-10,ee}function oe(z,Y){return z[z.l+Y-1]==0?z.read_shift(Y,"cstr"):""}function ae(z,Y){var ee=z[z.l++];ee>Y-1&&(ee=Y-1);for(var re="";re.length<ee;)re+=String.fromCharCode(z[z.l++]);return re}function se(z,Y,ee){if(!(!ee.qpro||Y<21)){var re=z.read_shift(1);z.l+=17,z.l+=1,z.l+=2;var me=z.read_shift(Y-21,"cstr");return[re,me]}}function ge(z,Y){for(var ee={},re=z.l+Y;z.l<re;){var me=z.read_shift(2);if(me==14e3){for(ee[me]=[0,""],ee[me][0]=z.read_shift(2);z[z.l];)ee[me][1]+=String.fromCharCode(z[z.l]),z.l++;z.l++}}return ee}function Z(z,Y){var ee=Wn(5+z.length);ee.write_shift(2,14e3),ee.write_shift(2,Y);for(var re=0;re<z.length;++re){var me=z.charCodeAt(re);ee[ee.l++]=me>127?95:me}return ee[ee.l++]=0,ee}var Ee={0:{n:"BOF",f:zn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:_},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:C},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:oe},222:{n:"SHEETNAMELP",f:ae},65535:{n:""}},G={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:O},23:{n:"NUMBER17",f:R},24:{n:"NUMBER18",f:N},25:{n:"FORMULA19",f:M},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ge},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:F},38:{n:"??"},39:{n:"NUMBER27",f:q},40:{n:"FORMULA28",f:ce},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:oe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:se},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function XV(t){var e={},n=t.match(Ir),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=ft(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=Mv[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var JV=(function(){var t=y0("t"),e=y0("rPr");function n(s){var o=s.match(t);if(!o)return{t:"s",v:""};var l={t:"s",v:Vt(o[1])},f=s.match(e);return f&&(l.s=XV(f[1])),l}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(i).map(n).filter(function(l){return l.v})}})(),QV=(function(){var e=/(\r\n|\n)/g;function n(i,s,o){var l=[];i.u&&l.push("text-decoration: underline;"),i.uval&&l.push("text-underline-style:"+i.uval+";"),i.sz&&l.push("font-size:"+i.sz+"pt;"),i.outline&&l.push("text-effect: outline;"),i.shadow&&l.push("text-shadow: auto;"),s.push('<span style="'+l.join("")+'">'),i.b&&(s.push("<b>"),o.push("</b>")),i.i&&(s.push("<i>"),o.push("</i>")),i.strike&&(s.push("<s>"),o.push("</s>"));var f=i.valign||"";return f=="superscript"||f=="super"?f="sup":f=="subscript"&&(f="sub"),f!=""&&(s.push("<"+f+">"),o.push("</"+f+">")),o.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),ZV=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,eB=/<(?:\w+:)?r>/,tB=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Xv(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Vt(dn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=dn(t),n&&(r.h=Bv(r.t))):t.match(eB)&&(r.r=dn(t),r.t=Vt(dn((t.replace(tB,"").match(ZV)||[]).join("").replace(Ir,""))),n&&(r.h=QV(JV(r.r)))),r):{t:""}}var nB=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,rB=/<(?:\w+:)?(?:si|sstItem)>/g,iB=/<\/(?:\w+:)?(?:si|sstItem)>/;function sB(t,e){var n=[],r="";if(!t)return n;var i=t.match(nB);if(i){r=i[2].replace(rB,"").split(iB);for(var s=0;s!=r.length;++s){var o=Xv(r[s].trim(),e);o!=null&&(n[n.length]=o)}i=ft(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}function aB(t){return[t.read_shift(4),t.read_shift(4)]}function oB(t,e){var n=[],r=!1;return Sa(t,function(s,o,l){switch(l){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(o.T,!r||e.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function uk(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function xa(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function uB(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=xa(t,4),e.U=xa(t,4),e.W=xa(t,4),e}function lB(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=s,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function cB(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(lB(t));return e}function fB(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function hB(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=xa(t,4),e.U=xa(t,4),e.W=xa(t,4),e}function dB(t){var e=hB(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function lk(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function ck(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function pB(t){var e=xa(t);switch(e.Minor){case 2:return[e.Minor,mB(t)];case 3:return[e.Minor,gB()];case 4:return[e.Minor,xB(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function mB(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=lk(t,n),i=ck(t,t.length-t.l);return{t:"Std",h:r,v:i}}function gB(){throw new Error("File is password-protected: ECMA-376 Extensible")}function xB(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(Ir,function(s){var o=ft(s);switch(Os(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(l){r[l]=o[l]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}function yB(t,e){var n={},r=n.EncryptionVersionInfo=xa(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=lk(t,i),e-=i,n.EncryptionVerifier=ck(t,e),n}function vB(t){var e={},n=e.EncryptionVersionInfo=xa(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function _B(t){var e=0,n,r=uk(t),i=r.length+1,s,o,l,f,c;for(n=Po(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)o=n[s],l=(e&16384)===0?0:1,f=e<<1&32767,c=l|f,e=c^o;return e^52811}var fk=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(o){return(o/2|o*128)&255},i=function(o,l){return r(o^l)},s=function(o){for(var l=e[o.length-1],f=104,c=o.length-1;c>=0;--c)for(var d=o[c],g=0;g!=7;++g)d&64&&(l^=n[f]),d*=2,--f;return l};return function(o){for(var l=uk(o),f=s(l),c=l.length,d=Po(16),g=0;g!=16;++g)d[g]=0;var p,x,_;for((c&1)===1&&(p=f>>8,d[c]=i(t[0],p),--c,p=f&255,x=l[l.length-1],d[c]=i(x,p));c>0;)--c,p=f>>8,d[c]=i(l[c],p),--c,p=f&255,d[c]=i(l[c],p);for(c=15,_=15-l.length;_>0;)p=f>>8,d[c]=i(t[_],p),--c,--_,p=f&255,d[c]=i(l[c],p),--c,--_;return d}})(),TB=function(t,e,n,r,i){i||(i=e),r||(r=fk(t));var s,o;for(s=0;s!=e.length;++s)o=e[s],o^=r[n],o=(o>>5|o<<3)&255,i[s]=o,++n;return[i,n,r]},EB=function(t){var e=0,n=fk(t);return function(r){var i=TB("",r,e,n);return e=i[1],i[0]}};function bB(t,e,n,r){var i={key:zn(t),verificationBytes:zn(t)};return n.password&&(i.verifier=_B(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=EB(n.password)),i}function wB(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=vB(t):r.Data=yB(t,e),r}function SB(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?wB(t,e-2,r):bB(t,n.biff>=8?e:e-2,n,r),r}var AB=(function(){function t(i,s){switch(s.type){case"base64":return e(di(i),s);case"binary":return e(i,s);case"buffer":return e(Pt&&Buffer.isBuffer(i)?i.toString("binary"):zu(i),s);case"array":return e(Du(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var o=s||{},l=o.dense?[]:{},f=i.match(/\\trowd.*?\\row\b/g);if(!f.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:f.length-1}};return f.forEach(function(d,g){Array.isArray(l)&&(l[g]=[]);for(var p=/\\\w+\b/g,x=0,_,w=-1;_=p.exec(d);){switch(_[0]){case"\\cell":var C=d.slice(x,p.lastIndex-_[0].length);if(C[0]==" "&&(C=C.slice(1)),++w,C.length){var I={v:C,t:"s"};Array.isArray(l)?l[g][w]=I:l[gt({r:g,c:w})]=I}break}x=p.lastIndex}w>c.e.c&&(c.e.c=w)}),l["!ref"]=Ft(c),l}function n(i,s){return Ho(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=In(i["!ref"]),l,f=Array.isArray(i),c=o.s.r;c<=o.e.r;++c){s.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var g=gt({r:c,c:d});l=f?(i[c]||[])[d]:i[g],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(Ea(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function CB(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function T0(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function IB(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),s=Math.min(e,n,r),o=i-s;if(o===0)return[0,0,e];var l=0,f=0,c=i+s;switch(f=o/(c>1?2-c:c),i){case e:l=((n-r)/o+6)%6;break;case n:l=(r-e)/o+2;break;case r:l=(e-n)/o+4;break}return[l/6,f,c/2]}function kB(t){var e=t[0],n=t[1],r=t[2],i=n*2*(r<.5?r:1-r),s=r-i/2,o=[s,s,s],l=6*e,f;if(n!==0)switch(l|0){case 0:case 6:f=i*l,o[0]+=i,o[1]+=f;break;case 1:f=i*(2-l),o[0]+=f,o[1]+=i;break;case 2:f=i*(l-2),o[1]+=i,o[2]+=f;break;case 3:f=i*(4-l),o[1]+=f,o[2]+=i;break;case 4:f=i*(l-4),o[2]+=i,o[0]+=f;break;case 5:f=i*(6-l),o[2]+=f,o[0]+=i;break}for(var c=0;c!=3;++c)o[c]=Math.round(o[c]*255);return o}function Ap(t,e){if(e===0)return t;var n=IB(CB(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),T0(kB(n))}var hk=6,RB=15,NB=1,Pr=hk;function Cp(t){return Math.floor((t+Math.round(128/Pr)/256)*Pr)}function Ip(t){return Math.floor((t-5)/Pr*100+.5)/100}function gy(t){return Math.round((t*Pr+5)/Pr*256)/256}function $1(t){return gy(Ip(Cp(t)))}function Jv(t){var e=Math.abs(t-$1(t)),n=Pr;if(e>.005)for(Pr=NB;Pr<RB;++Pr)Math.abs(t-$1(t))<=e&&(e=Math.abs(t-$1(t)),n=Pr);Pr=n}function pc(t){t.width?(t.wpx=Cp(t.width),t.wch=Ip(t.wpx),t.MDW=Pr):t.wpx?(t.wch=Ip(t.wpx),t.width=gy(t.wch),t.MDW=Pr):typeof t.wch=="number"&&(t.width=gy(t.wch),t.wpx=Cp(t.width),t.MDW=Pr),t.customWidth&&delete t.customWidth}var DB=96,dk=DB;function pk(t){return t*96/dk}function E0(t){return t*dk/96}var MB={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function PB(t,e,n,r){e.Borders=[];var i={},s=!1;(t[0].match(Ir)||[]).forEach(function(o){var l=ft(o);switch(Os(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},l.diagonalUp&&(i.diagonalUp=_n(l.diagonalUp)),l.diagonalDown&&(i.diagonalDown=_n(l.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+l[0]+" in borders")}})}function LB(t,e,n,r){e.Fills=[];var i={},s=!1;(t[0].match(Ir)||[]).forEach(function(o){var l=ft(o);switch(Os(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":l.patternType&&(i.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),l.indexed&&(i.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(i.bgColor.theme=parseInt(l.theme,10)),l.tint&&(i.bgColor.tint=parseFloat(l.tint)),l.rgb&&(i.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),l.theme&&(i.fgColor.theme=parseInt(l.theme,10)),l.tint&&(i.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(i.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fills")}})}function OB(t,e,n,r){e.Fonts=[];var i={},s=!1;(t[0].match(Ir)||[]).forEach(function(o){var l=ft(o);switch(Os(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":l.val&&(i.name=dn(l.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=l.val?_n(l.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=l.val?_n(l.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(l.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=l.val?_n(l.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=l.val?_n(l.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=l.val?_n(l.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=l.val?_n(l.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=l.val?_n(l.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":l.val&&(i.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(i.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(i.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(i.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=Mv[parseInt(l.val,10)];break;case"<color":if(i.color||(i.color={}),l.auto&&(i.color.auto=_n(l.auto)),l.rgb)i.color.rgb=l.rgb.slice(-6);else if(l.indexed){i.color.index=parseInt(l.indexed,10);var f=Su[i.color.index];i.color.index==81&&(f=Su[1]),f||(f=Su[1]),i.color.rgb=f[0].toString(16)+f[1].toString(16)+f[2].toString(16)}else l.theme&&(i.color.theme=parseInt(l.theme,10),l.tint&&(i.color.tint=parseFloat(l.tint)),l.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=Ap(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fonts")}})}function FB(t,e,n){e.NumberFmt=[];for(var r=Ms(_t),i=0;i<r.length;++i)e.NumberFmt[r[i]]=_t[r[i]];var s=t[0].match(Ir);if(s)for(i=0;i<s.length;++i){var o=ft(s[i]);switch(Os(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Vt(dn(o.formatCode)),f=parseInt(o.numFmtId,10);if(e.NumberFmt[f]=l,f>0){if(f>392){for(f=392;f>60&&e.NumberFmt[f]!=null;--f);e.NumberFmt[f]=l}wu(l,f)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var Cd=["numFmtId","fillId","fontId","borderId","xfId"],Id=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function UB(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match(Ir)||[]).forEach(function(s){var o=ft(s),l=0;switch(Os(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=o,delete r[0],l=0;l<Cd.length;++l)r[Cd[l]]&&(r[Cd[l]]=parseInt(r[Cd[l]],10));for(l=0;l<Id.length;++l)r[Id[l]]&&(r[Id[l]]=_n(r[Id[l]]));if(e.NumberFmt&&r.numFmtId>392){for(l=392;l>60;--l)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[l]){r.numFmtId=l;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var f={};o.vertical&&(f.vertical=o.vertical),o.horizontal&&(f.horizontal=o.horizontal),o.textRotation!=null&&(f.textRotation=o.textRotation),o.indent&&(f.indent=o.indent),o.wrapText&&(f.wrapText=_n(o.wrapText)),r.alignment=f;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var VB=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,f,c){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var g;return(g=l.match(e))&&FB(g,d,c),(g=l.match(i))&&OB(g,d,f,c),(g=l.match(r))&&LB(g,d,f,c),(g=l.match(s))&&PB(g,d,f,c),(g=l.match(n))&&UB(g,d,c),d}})();function BB(t,e){var n=t.read_shift(2),r=Sr(t);return[n,r]}function qB(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=J7(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(r.underline=o);var l=t.read_shift(1);l>0&&(r.family=l);var f=t.read_shift(1);switch(f>0&&(r.charset=f),t.l++,r.color=X7(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Sr(t),r}var HB=Cr;function zB(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}var GB=Cr;function jB(t,e,n){var r={};r.NumberFmt=[];for(var i in _t)r.NumberFmt[i]=_t[i];r.CellXf=[],r.Fonts=[];var s=[],o=!1;return Sa(t,function(f,c,d){switch(d){case 44:r.NumberFmt[f[0]]=f[1],wu(f[1],f[0]);break;case 43:r.Fonts.push(f),f.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(f.color.rgb=Ap(e.themeElements.clrScheme[f.color.theme].rgb,f.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(f);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(d),o=!0;break;case 38:s.pop(),o=!1;break;default:if(c.T>0)s.push(d);else if(c.T<0)s.pop();else if(!o||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),r}var $B=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function WB(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(Ir)||[]).forEach(function(i){var s=ft(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[$B.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function KB(){}function YB(){}var XB=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,JB=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,QB=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function ZB(t,e,n){e.themeElements={};var r;[["clrScheme",XB,WB],["fontScheme",JB,KB],["fmtScheme",QB,YB]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}var eq=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function mk(t,e){(!t||t.length===0)&&(t=tq());var n,r={};if(!(n=t.match(eq)))throw new Error("themeElements not found in theme");return ZB(n[0],r,e),r.raw=t,r}function tq(t,e){var n=[A6];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',n[n.length]='<a:font script="Hang" typeface="맑은 고딕"/>',n[n.length]='<a:font script="Hans" typeface="宋体"/>',n[n.length]='<a:font script="Hant" typeface="新細明體"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',n[n.length]='<a:font script="Hang" typeface="맑은 고딕"/>',n[n.length]='<a:font script="Hans" typeface="宋体"/>',n[n.length]='<a:font script="Hant" typeface="新細明體"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function nq(t,e,n){var r=t.l+e,i=t.read_shift(4);if(i!==124226){if(!n.cellStyles){t.l=r;return}var s=t.slice(t.l);t.l=r;var o;try{o=S6(s,{type:"array"})}catch{return}var l=fi(o,"theme/theme/theme1.xml",!0);if(l)return mk(l,n)}}function rq(t){return t.read_shift(4)}function iq(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=sq(t,4);break;case 2:e.xclrValue=tk(t);break;case 3:e.xclrValue=rq(t);break;case 4:t.l+=4;break}return t.l+=8,e}function sq(t,e){return Cr(t,e)}function aq(t,e){return Cr(t,e)}function oq(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=iq(t);break;case 6:r[1]=aq(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function uq(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(oq(t,n-t.l));return{ixfe:r,ext:s}}function lq(t,e){e.forEach(function(n){n[0]})}function cq(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Sr(t)}}function fq(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function hq(t){return t.l+=4,t.read_shift(4)!=0}function dq(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],o=!1,l=2;return Sa(t,function(f,c,d){switch(d){case 335:r.Types.push({name:f.name});break;case 51:f.forEach(function(g){l==1?r.Cell.push({type:r.Types[g[0]-1].name,index:g[1]}):l==0&&r.Value.push({type:r.Types[g[0]-1].name,index:g[1]})});break;case 337:l=f?1:0;break;case 338:l=2;break;case 35:s.push(d),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!c.T){if(!o||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function pq(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i=!1,s=2,o;return t.replace(Ir,function(l){var f=ft(l);switch(Os(f[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:f.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==f.name&&(o=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[f.t-1].name,index:+f.v}):s==0&&r.Value.push({type:r.Types[f.t-1].name,index:+f.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+f.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+f[0]+" in metadata")}return l}),r}function mq(t){var e=[];if(!t)return e;var n=1;return(t.match(Ir)||[]).forEach(function(r){var i=ft(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i);break}}),e}function gq(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=gt(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function xq(t,e,n){var r=[];return Sa(t,function(s,o,l){switch(l){case 63:r.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function yq(t,e,n,r){if(!t)return t;var i=r||{},s=!1;Sa(t,function(l,f,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!f.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function vq(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}function kS(t,e,n,r){var i=Array.isArray(t),s;e.forEach(function(o){var l=Lr(o.ref);if(i?(t[l.r]||(t[l.r]=[]),s=t[l.r][l.c]):s=t[o.ref],!s){s={t:"z"},i?t[l.r][l.c]=s:t[o.ref]=s;var f=In(t["!ref"]||"BDWGO1000001:A1");f.s.r>l.r&&(f.s.r=l.r),f.e.r<l.r&&(f.e.r=l.r),f.s.c>l.c&&(f.s.c=l.c),f.e.c<l.c&&(f.e.c=l.c);var c=Ft(f);c!==t["!ref"]&&(t["!ref"]=c)}s.c||(s.c=[]);var d={a:o.author,t:o.t,r:o.r,T:n};o.h&&(d.h=o.h);for(var g=s.c.length-1;g>=0;--g){if(!n&&s.c[g].T)return;n&&!s.c[g].T&&s.c.splice(g,1)}if(n&&r){for(g=0;g<r.length;++g)if(d.a==r[g].id){d.a=r[g].name||d.a;break}}s.c.push(d)})}function _q(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&n.push(l[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var f=ft(l[0]),c={author:f.authorId&&n[f.authorId]||"sheetjsghost",ref:f.ref,guid:f.guid},d=Lr(f.ref);if(!(e.sheetRows&&e.sheetRows<=d.r)){var g=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!g&&!!g[1]&&Xv(g[1])||{r:"",t:"",h:""};c.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),c.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(c.h=p.h),r.push(c)}}}}),r}function Tq(t,e){var n=[],r=!1,i={},s=0;return t.replace(Ir,function(l,f){var c=ft(l);switch(Os(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=f+l.length;break;case"</text>":i.t=t.slice(s,f).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return l}),n}function Eq(t,e){var n=[],r=!1;return t.replace(Ir,function(s){var o=ft(s);switch(Os(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),n}function bq(t){var e={};e.iauthor=t.read_shift(4);var n=ju(t);return e.rfx=n.s,e.ref=gt(n.s),t.l+=16,e}var wq=Sr;function Sq(t,e){var n=[],r=[],i={},s=!1;return Sa(t,function(l,f,c){switch(c){case 632:r.push(l);break;case 635:i=l;break;case 637:i.t=l.t,i.h=l.h,i.r=l.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!f.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}var Aq="application/vnd.ms-office.vbaProject";function Cq(t){var e=Ot.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ot.utils.cfb_add(e,i,t.FileIndex[r].content)}}),Ot.write(e)}function Iq(){return{"!type":"dialog"}}function kq(){return{"!type":"dialog"}}function Rq(){return{"!type":"macro"}}function Nq(){return{"!type":"macro"}}var Zl=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,o){var l=!1,f=!1;s.length==0?f=!0:s.charAt(0)=="["&&(f=!0,s=s.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=e.c:--d,f?c+=e.r:--c,i+(l?"":"$")+Yn(d)+(f?"":"$")+hr(c)}return function(i,s){return e=s,i.replace(t,n)}})(),gk=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Dq=(function(){return function(e,n){return e.replace(gk,function(r,i,s,o,l,f){var c=Gv(o)-(s?0:n.c),d=zv(f)-(l?0:n.r),g=d==0?"":l?d+1:"["+d+"]",p=c==0?"":s?c+1:"["+c+"]";return i+"R"+g+"C"+p})}})();function xk(t,e){return t.replace(gk,function(n,r,i,s,o,l){return r+(i=="$"?i+s:Yn(Gv(s)+e.c))+(o=="$"?o+l:hr(zv(l)+e.r))})}function Mq(t,e,n){var r=Sc(e),i=r.s,s=Lr(n),o={r:s.r-i.r,c:s.c-i.c};return xk(t,o)}function Pq(t){return t.length!=1}function RS(t){return t.replace(/_xlfn\./g,"")}function Bn(t){t.l+=1}function Lo(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function yk(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return vk(t);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),o=Lo(t),l=Lo(t);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function vk(t){var e=Lo(t),n=Lo(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function Lq(t,e,n){if(n.biff<8)return vk(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=Lo(t),o=Lo(t);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function _k(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return Oq(t);var r=t.read_shift(n&&n.biff==12?4:2),i=Lo(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function Oq(t){var e=Lo(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function Fq(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function Uq(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return Vq(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),o=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:l}}function Vq(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function Bq(t,e,n){var r=(t[t.l++]&96)>>5,i=yk(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function qq(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var o=yk(t,s,n);return[r,i,o]}function Hq(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function zq(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function Gq(t,e,n){var r=(t[t.l++]&96)>>5,i=Lq(t,e-1,n);return[r,i]}function jq(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function NS(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function $q(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function Wq(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function Kq(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function Yq(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Xq(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function Tk(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function Jq(t){return t.read_shift(2),Tk(t)}function Qq(t){return t.read_shift(2),Tk(t)}function Zq(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=_k(t,0,n);return[r,i]}function eH(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=Uq(t,0,n);return[r,i]}function tH(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=_k(t,0,n);return[r,i,s]}function nH(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[rz[i],wk[i],r]}function rH(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:iH(t);return[i,(s[0]===0?wk:nz)[s[1]]]}function iH(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function sH(t,e,n){t.l+=n&&n.biff==2?3:4}function aH(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function oH(t){return t.l++,$u[t.read_shift(1)]}function uH(t){return t.l++,t.read_shift(2)}function lH(t){return t.l++,t.read_shift(1)!==0}function cH(t){return t.l++,Er(t)}function fH(t,e,n){return t.l++,q0(t,e-1,n)}function hH(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Dn(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=$u[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Er(t);break;case 2:n[1]=Wu(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function dH(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?ju:gm)(t));return i}function pH(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var l=0;l!=i;++l)o[s][l]=hH(t,n.biff);return o}function mH(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function gH(t,e,n){if(n.biff==5)return xH(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function xH(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function yH(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function vH(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function _H(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function TH(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var EH=Cr,bH=Cr,wH=Cr;function z0(t,e,n){return t.l+=2,[Fq(t)]}function Qv(t){return t.l+=6,[]}var SH=z0,AH=Qv,CH=Qv,IH=z0;function Ek(t){return t.l+=2,[zn(t),t.read_shift(2)&1]}var kH=z0,RH=Ek,NH=Qv,DH=z0,MH=z0,PH=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function LH(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),o=PH[n>>2&31];return{ixti:e,coltype:n&3,rt:o,idx:r,c:i,C:s}}function OH(t){return t.l+=2,[t.read_shift(4)]}function FH(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function UH(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function VH(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function BH(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function qH(t){return t.l+=4,[0,0]}var DS={1:{n:"PtgExp",f:aH},2:{n:"PtgTbl",f:wH},3:{n:"PtgAdd",f:Bn},4:{n:"PtgSub",f:Bn},5:{n:"PtgMul",f:Bn},6:{n:"PtgDiv",f:Bn},7:{n:"PtgPower",f:Bn},8:{n:"PtgConcat",f:Bn},9:{n:"PtgLt",f:Bn},10:{n:"PtgLe",f:Bn},11:{n:"PtgEq",f:Bn},12:{n:"PtgGe",f:Bn},13:{n:"PtgGt",f:Bn},14:{n:"PtgNe",f:Bn},15:{n:"PtgIsect",f:Bn},16:{n:"PtgUnion",f:Bn},17:{n:"PtgRange",f:Bn},18:{n:"PtgUplus",f:Bn},19:{n:"PtgUminus",f:Bn},20:{n:"PtgPercent",f:Bn},21:{n:"PtgParen",f:Bn},22:{n:"PtgMissArg",f:Bn},23:{n:"PtgStr",f:fH},26:{n:"PtgSheet",f:FH},27:{n:"PtgEndSheet",f:UH},28:{n:"PtgErr",f:oH},29:{n:"PtgBool",f:lH},30:{n:"PtgInt",f:uH},31:{n:"PtgNum",f:cH},32:{n:"PtgArray",f:jq},33:{n:"PtgFunc",f:nH},34:{n:"PtgFuncVar",f:rH},35:{n:"PtgName",f:mH},36:{n:"PtgRef",f:Zq},37:{n:"PtgArea",f:Bq},38:{n:"PtgMemArea",f:yH},39:{n:"PtgMemErr",f:EH},40:{n:"PtgMemNoMem",f:bH},41:{n:"PtgMemFunc",f:vH},42:{n:"PtgRefErr",f:_H},43:{n:"PtgAreaErr",f:Hq},44:{n:"PtgRefN",f:eH},45:{n:"PtgAreaN",f:Gq},46:{n:"PtgMemAreaN",f:VH},47:{n:"PtgMemNoMemN",f:BH},57:{n:"PtgNameX",f:gH},58:{n:"PtgRef3d",f:tH},59:{n:"PtgArea3d",f:qq},60:{n:"PtgRefErr3d",f:TH},61:{n:"PtgAreaErr3d",f:zq},255:{}},HH={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},zH={1:{n:"PtgElfLel",f:Ek},2:{n:"PtgElfRw",f:DH},3:{n:"PtgElfCol",f:SH},6:{n:"PtgElfRwV",f:MH},7:{n:"PtgElfColV",f:IH},10:{n:"PtgElfRadical",f:kH},11:{n:"PtgElfRadicalS",f:NH},13:{n:"PtgElfColS",f:AH},15:{n:"PtgElfColSV",f:CH},16:{n:"PtgElfRadicalLel",f:RH},25:{n:"PtgList",f:LH},29:{n:"PtgSxName",f:OH},255:{}},GH={0:{n:"PtgAttrNoop",f:qH},1:{n:"PtgAttrSemi",f:Xq},2:{n:"PtgAttrIf",f:Kq},4:{n:"PtgAttrChoose",f:$q},8:{n:"PtgAttrGoto",f:Wq},16:{n:"PtgAttrSum",f:sH},32:{n:"PtgAttrBaxcel",f:NS},33:{n:"PtgAttrBaxcel",f:NS},64:{n:"PtgAttrSpace",f:Jq},65:{n:"PtgAttrSpaceSemi",f:Qq},128:{n:"PtgAttrIfError",f:Yq},255:{}};function G0(t,e,n,r){if(r.biff<8)return Cr(t,e);for(var i=t.l+e,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=pH(t,0,r),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=dH(t,n[o][1],r),s.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=t.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return e=i-t.l,e!==0&&s.push(Cr(t,e)),s}function j0(t,e,n){for(var r=t.l+e,i,s,o=[];r!=t.l;)e=r-t.l,s=t[t.l],i=DS[s]||DS[HH[s]],(s===24||s===25)&&(i=(s===24?zH:GH)[t[t.l+1]]),!i||!i.f?Cr(t,e):o.push([i.n,i.f(t,e,n)]);return o}function jH(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var $H={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function WH(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function bk(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function MS(t,e,n){var r=bk(t,e,n);return r=="#REF"?r:WH(r,n)}function _r(t,e,n,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0}},l=[],f,c,d,g=0,p=0,x,_="";if(!t[0]||!t[0][0])return"";for(var w=-1,C="",I=0,P=t[0].length;I<P;++I){var A=t[0][I];switch(A[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(f=l.pop(),c=l.pop(),w>=0){switch(t[0][w][1][0]){case 0:C=An(" ",t[0][w][1][1]);break;case 1:C=An("\r",t[0][w][1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}c=c+C,w=-1}l.push(c+$H[A[0]]+f);break;case"PtgIsect":f=l.pop(),c=l.pop(),l.push(c+" "+f);break;case"PtgUnion":f=l.pop(),c=l.pop(),l.push(c+","+f);break;case"PtgRange":f=l.pop(),c=l.pop(),l.push(c+":"+f);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Kf(A[1][1],o,i),l.push(Yf(d,s));break;case"PtgRefN":d=n?Kf(A[1][1],n,i):A[1][1],l.push(Yf(d,s));break;case"PtgRef3d":g=A[1][1],d=Kf(A[1][2],o,i),_=MS(r,g,i),l.push(_+"!"+Yf(d,s));break;case"PtgFunc":case"PtgFuncVar":var L=A[1][0],D=A[1][1];L||(L=0),L&=127;var O=L==0?[]:l.slice(-L);l.length-=L,D==="User"&&(D=O.shift()),l.push(D+"("+O.join(",")+")");break;case"PtgBool":l.push(A[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(A[1]);break;case"PtgNum":l.push(String(A[1]));break;case"PtgStr":l.push('"'+A[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(A[1]);break;case"PtgAreaN":x=dS(A[1][1],n?{s:n}:o,i),l.push(G1(x,i));break;case"PtgArea":x=dS(A[1][1],o,i),l.push(G1(x,i));break;case"PtgArea3d":g=A[1][1],x=A[1][2],_=MS(r,g,i),l.push(_+"!"+G1(x,i));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=A[1][2];var k=(r.names||[])[p-1]||(r[0]||[])[p],N=k?k.Name:"SH33TJSNAME"+String(p);N&&N.slice(0,6)=="_xlfn."&&!i.xlfn&&(N=N.slice(6)),l.push(N);break;case"PtgNameX":var R=A[1][1];p=A[1][2];var V;if(i.biff<=5)R<0&&(R=-R),r[R]&&(V=r[R][p]);else{var M="";if(((r[R]||[])[0]||[])[0]==14849||(((r[R]||[])[0]||[])[0]==1025?r[R][p]&&r[R][p].itab>0&&(M=r.SheetNames[r[R][p].itab-1]+"!"):M=r.SheetNames[p-1]+"!"),r[R]&&r[R][p])M+=r[R][p].Name;else if(r[0]&&r[0][p])M+=r[0][p].Name;else{var F=(bk(r,R,i)||"").split(";;");F[p-1]?M=F[p-1]:M+="SH33TJSERRX"}l.push(M);break}V||(V={Name:"SH33TJSERRY"}),l.push(V.Name);break;case"PtgParen":var q="(",ce=")";if(w>=0){switch(C="",t[0][w][1][0]){case 2:q=An(" ",t[0][w][1][1])+q;break;case 3:q=An("\r",t[0][w][1][1])+q;break;case 4:ce=An(" ",t[0][w][1][1])+ce;break;case 5:ce=An("\r",t[0][w][1][1])+ce;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][w][1][0])}w=-1}l.push(q+l.pop()+ce);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:A[1][1],r:A[1][0]};var oe={c:n.c,r:n.r};if(r.sharedf[gt(d)]){var ae=r.sharedf[gt(d)];l.push(_r(ae,o,oe,r,i))}else{var se=!1;for(f=0;f!=r.arrayf.length;++f)if(c=r.arrayf[f],!(d.c<c[0].s.c||d.c>c[0].e.c)&&!(d.r<c[0].s.r||d.r>c[0].e.r)){l.push(_r(c[1],o,oe,r,i)),se=!0;break}se||l.push(A[1])}break;case"PtgArray":l.push("{"+jH(A[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=I;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+A[1].idx+"[#"+A[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(A));default:throw new Error("Unrecognized Formula Token: "+String(A))}var ge=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&w>=0&&ge.indexOf(t[0][I][0])==-1){A=t[0][w];var Z=!0;switch(A[1][0]){case 4:Z=!1;case 0:C=An(" ",A[1][1]);break;case 5:Z=!1;case 1:C=An("\r",A[1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+A[1][0])}l.push((Z?C:"")+l.pop()+(Z?"":C)),w=-1}}if(l.length>1&&i.WTF)throw new Error("bad formula stack");return l[0]}function KH(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,o=t.read_shift(i);if(o==65535)return[[],Cr(t,e-2)];var l=j0(t,o,n);return e!==o+i&&(s=G0(t,e-o-i,l,n)),t.l=r,[l,s]}function YH(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,o=t.read_shift(i);if(o==65535)return[[],Cr(t,e-2)];var l=j0(t,o,n);return e!==o+i&&(s=G0(t,e-o-i,l,n)),t.l=r,[l,s]}function XH(t,e,n,r){var i=t.l+e,s=j0(t,r,n),o;return i!==t.l&&(o=G0(t,i-t.l,s,n)),[s,o]}function JH(t,e,n){var r=t.l+e,i,s=t.read_shift(2),o=j0(t,s,n);return s==65535?[[],Cr(t,e-2)]:(e!==s+2&&(i=G0(t,r-s-2,o,n)),[o,i])}function QH(t){var e;if(ma(t,t.l+6)!==65535)return[Er(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function W1(t,e,n){var r=t.l+e,i=Fs(t);n.biff==2&&++t.l;var s=QH(t),o=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var l=YH(t,r-t.l,n);return{cell:i,val:s[0],formula:l,shared:o>>3&1,tt:s[1]}}function xm(t,e,n){var r=t.read_shift(4),i=j0(t,r,n),s=t.read_shift(4),o=s>0?G0(t,s,i,n):null;return[i,o]}var ZH=xm,ym=xm,ez=xm,tz=xm,nz={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},wk={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},rz={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function PS(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function K1(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var Zf={},ec={};function e0(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function Sk(t,e,n,r,i,s){try{r.cellNF&&(t.z=_t[e])}catch(l){if(r.WTF)throw l}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=nr(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(_t[e]==null&&wu(i7[e]||"General",e),t.t==="e")t.w=t.w||$u[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=x0(t.v);else if(t.t==="d"){var o=Ur(t.v);(o|0)===o?t.w=o.toString(10):t.w=x0(o)}else{if(t.v===void 0)return"";t.w=Nu(t.v,ec)}else t.t==="d"?t.w=Mi(e,Ur(t.v),ec):t.w=Mi(e,t.v,ec)}catch(l){if(r.WTF)throw l}if(r.cellStyles&&n!=null)try{t.s=s.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=Ap(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=Ap(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(l){if(r.WTF&&s.Fills)throw l}}}function iz(t,e){var n=In(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=Ft(n))}var sz=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,az=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,oz=/<(?:\w:)?hyperlink [^>]*>/mg,uz=/"(\w*:\w*)"/,lz=/<(?:\w:)?col\b[^>]*[\/]?>/g,cz=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,fz=/<(?:\w:)?pageMargins[^>]*\/>/g,Ak=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,hz=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,dz=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function pz(t,e,n,r,i,s,o){if(!t)return t;r||(r={"!id":{}});var l=e.dense?[]:{},f={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",d="",g=t.match(az);g?(c=t.slice(0,g.index),d=t.slice(g.index+g[0].length)):c=d=t;var p=c.match(Ak);p?Zv(p[0],l,i,n):(p=c.match(hz))&&mz(p[0],p[1]||"",l,i,n);var x=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(x>0){var _=c.slice(x,x+50).match(uz);_&&iz(l,_[1])}var w=c.match(dz);w&&w[1]&&Tz(w[1],i);var C=[];if(e.cellStyles){var I=c.match(lz);I&&yz(C,I)}g&&Ez(g[1],l,e,f,s,o);var P=d.match(cz);P&&(l["!autofilter"]=vz(P[0]));var A=[],L=d.match(sz);if(L)for(x=0;x!=L.length;++x)A[x]=In(L[x].slice(L[x].indexOf('"')+1));var D=d.match(oz);D&&gz(l,D,r);var O=d.match(fz);if(O&&(l["!margins"]=xz(ft(O[0]))),!l["!ref"]&&f.e.c>=f.s.c&&f.e.r>=f.s.r&&(l["!ref"]=Ft(f)),e.sheetRows>0&&l["!ref"]){var k=In(l["!ref"]);e.sheetRows<=+k.e.r&&(k.e.r=e.sheetRows-1,k.e.r>f.e.r&&(k.e.r=f.e.r),k.e.r<k.s.r&&(k.s.r=k.e.r),k.e.c>f.e.c&&(k.e.c=f.e.c),k.e.c<k.s.c&&(k.s.c=k.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Ft(k))}return C.length>0&&(l["!cols"]=C),A.length>0&&(l["!merges"]=A),l}function Zv(t,e,n,r){var i=ft(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=Vt(dn(i.codeName)))}function mz(t,e,n,r,i){Zv(t.slice(0,t.indexOf(">")),n,r,i)}function gz(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var s=ft(dn(e[i]),!0);if(!s.ref)return;var o=((n||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+Vt(s.location))):(s.Target="#"+Vt(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var l=In(s.ref),f=l.s.r;f<=l.e.r;++f)for(var c=l.s.c;c<=l.e.c;++c){var d=gt({c,r:f});r?(t[f]||(t[f]=[]),t[f][c]||(t[f][c]={t:"z",v:void 0}),t[f][c].l=s):(t[d]||(t[d]={t:"z",v:void 0}),t[d].l=s)}}}function xz(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function yz(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=ft(e[r],!0);i.hidden&&(i.hidden=_n(i.hidden));var s=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,Jv(i.width)),pc(i);s<=o;)t[s++]=fr(i)}}function vz(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var _z=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Tz(t,e){e.Views||(e.Views=[{}]),(t.match(_z)||[]).forEach(function(n,r){var i=ft(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),_n(i.rightToLeft)&&(e.Views[r].RTL=!0)})}var Ez=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=y0("v"),o=y0("f");return function(f,c,d,g,p,x){for(var _=0,w="",C=[],I=[],P=0,A=0,L=0,D="",O,k,N=0,R=0,V,M,F=0,q=0,ce=Array.isArray(x.CellXf),oe,ae=[],se=[],ge=Array.isArray(c),Z=[],Ee={},G=!1,z=!!d.sheetStubs,Y=f.split(e),ee=0,re=Y.length;ee!=re;++ee){w=Y[ee].trim();var me=w.length;if(me!==0){var Re=0;e:for(_=0;_<me;++_)switch(w[_]){case">":if(w[_-1]!="/"){++_;break e}if(d&&d.cellStyles){if(k=ft(w.slice(Re,_),!0),N=k.r!=null?parseInt(k.r,10):N+1,R=-1,d.sheetRows&&d.sheetRows<N)continue;Ee={},G=!1,k.ht&&(G=!0,Ee.hpt=parseFloat(k.ht),Ee.hpx=E0(Ee.hpt)),k.hidden=="1"&&(G=!0,Ee.hidden=!0),k.outlineLevel!=null&&(G=!0,Ee.level=+k.outlineLevel),G&&(Z[N-1]=Ee)}break;case"<":Re=_;break}if(Re>=_)break;if(k=ft(w.slice(Re,_),!0),N=k.r!=null?parseInt(k.r,10):N+1,R=-1,!(d.sheetRows&&d.sheetRows<N)){g.s.r>N-1&&(g.s.r=N-1),g.e.r<N-1&&(g.e.r=N-1),d&&d.cellStyles&&(Ee={},G=!1,k.ht&&(G=!0,Ee.hpt=parseFloat(k.ht),Ee.hpx=E0(Ee.hpt)),k.hidden=="1"&&(G=!0,Ee.hidden=!0),k.outlineLevel!=null&&(G=!0,Ee.level=+k.outlineLevel),G&&(Z[N-1]=Ee)),C=w.slice(_).split(t);for(var Ne=0;Ne!=C.length&&C[Ne].trim().charAt(0)=="<";++Ne);for(C=C.slice(Ne),_=0;_!=C.length;++_)if(w=C[_].trim(),w.length!==0){if(I=w.match(n),P=_,A=0,L=0,w="<c "+(w.slice(0,1)=="<"?">":"")+w,I!=null&&I.length===2){for(P=0,D=I[1],A=0;A!=D.length&&!((L=D.charCodeAt(A)-64)<1||L>26);++A)P=26*P+L;--P,R=P}else++R;for(A=0;A!=w.length&&w.charCodeAt(A)!==62;++A);if(++A,k=ft(w.slice(0,A),!0),k.r||(k.r=gt({r:N-1,c:R})),D=w.slice(A),O={t:""},(I=D.match(s))!=null&&I[1]!==""&&(O.v=Vt(I[1])),d.cellFormula){if((I=D.match(o))!=null&&I[1]!==""){if(O.f=Vt(dn(I[1])).replace(/\r\n/g,`
`),d.xlfn||(O.f=RS(O.f)),I[0].indexOf('t="array"')>-1)O.F=(D.match(i)||[])[1],O.F.indexOf(":")>-1&&ae.push([In(O.F),O.F]);else if(I[0].indexOf('t="shared"')>-1){M=ft(I[0]);var he=Vt(dn(I[1]));d.xlfn||(he=RS(he)),se[parseInt(M.si,10)]=[M,he,k.r]}}else(I=D.match(/<f[^>]*\/>/))&&(M=ft(I[0]),se[M.si]&&(O.f=Mq(se[M.si][1],se[M.si][2],k.r)));var ke=Lr(k.r);for(A=0;A<ae.length;++A)ke.r>=ae[A][0].s.r&&ke.r<=ae[A][0].e.r&&ke.c>=ae[A][0].s.c&&ke.c<=ae[A][0].e.c&&(O.F=ae[A][1])}if(k.t==null&&O.v===void 0)if(O.f||O.F)O.v=0,O.t="n";else if(z)O.t="z";else continue;else O.t=k.t||"n";switch(g.s.c>R&&(g.s.c=R),g.e.c<R&&(g.e.c=R),O.t){case"n":if(O.v==""||O.v==null){if(!z)continue;O.t="z"}else O.v=parseFloat(O.v);break;case"s":if(typeof O.v>"u"){if(!z)continue;O.t="z"}else V=Zf[parseInt(O.v,10)],O.v=V.t,O.r=V.r,d.cellHTML&&(O.h=V.h);break;case"str":O.t="s",O.v=O.v!=null?dn(O.v):"",d.cellHTML&&(O.h=Bv(O.v));break;case"inlineStr":I=D.match(r),O.t="s",I!=null&&(V=Xv(I[1]))?(O.v=V.t,d.cellHTML&&(O.h=V.h)):O.v="";break;case"b":O.v=_n(O.v);break;case"d":d.cellDates?O.v=nr(O.v,1):(O.v=Ur(nr(O.v,1)),O.t="n");break;case"e":(!d||d.cellText!==!1)&&(O.w=O.v),O.v=W6[O.v];break}if(F=q=0,oe=null,ce&&k.s!==void 0&&(oe=x.CellXf[k.s],oe!=null&&(oe.numFmtId!=null&&(F=oe.numFmtId),d.cellStyles&&oe.fillId!=null&&(q=oe.fillId))),Sk(O,F,q,d,p,x),d.cellDates&&ce&&O.t=="n"&&wc(_t[F])&&(O.t="d",O.v=mm(O.v)),k.cm&&d.xlmeta){var de=(d.xlmeta.Cell||[])[+k.cm-1];de&&de.type=="XLDAPR"&&(O.D=!0)}if(ge){var K=Lr(k.r);c[K.r]||(c[K.r]=[]),c[K.r][K.c]=O}else c[k.r]=O}}}}Z.length>0&&(c["!rows"]=Z)}})();function bz(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}var wz=ju;function Sz(){}function Az(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=K7(t),n}function Cz(t){var e=Pi(t);return[e]}function Iz(t){var e=Gu(t);return[e]}function kz(t){var e=Pi(t),n=t.read_shift(1);return[e,n,"b"]}function Rz(t){var e=Gu(t),n=t.read_shift(1);return[e,n,"b"]}function Nz(t){var e=Pi(t),n=t.read_shift(1);return[e,n,"e"]}function Dz(t){var e=Gu(t),n=t.read_shift(1);return[e,n,"e"]}function Mz(t){var e=Pi(t),n=t.read_shift(4);return[e,n,"s"]}function Pz(t){var e=Gu(t),n=t.read_shift(4);return[e,n,"s"]}function Lz(t){var e=Pi(t),n=Er(t);return[e,n,"n"]}function Ck(t){var e=Gu(t),n=Er(t);return[e,n,"n"]}function Oz(t){var e=Pi(t),n=Wv(t);return[e,n,"n"]}function Fz(t){var e=Gu(t),n=Wv(t);return[e,n,"n"]}function Uz(t){var e=Pi(t),n=jv(t);return[e,n,"is"]}function Vz(t){var e=Pi(t),n=Sr(t);return[e,n,"str"]}function Bz(t){var e=Gu(t),n=Sr(t);return[e,n,"str"]}function qz(t,e,n){var r=t.l+e,i=Pi(t);i.r=n["!row"];var s=t.read_shift(1),o=[i,s,"b"];if(n.cellFormula){t.l+=2;var l=ym(t,r-t.l,n);o[3]=_r(l,null,i,n.supbooks,n)}else t.l=r;return o}function Hz(t,e,n){var r=t.l+e,i=Pi(t);i.r=n["!row"];var s=t.read_shift(1),o=[i,s,"e"];if(n.cellFormula){t.l+=2;var l=ym(t,r-t.l,n);o[3]=_r(l,null,i,n.supbooks,n)}else t.l=r;return o}function zz(t,e,n){var r=t.l+e,i=Pi(t);i.r=n["!row"];var s=Er(t),o=[i,s,"n"];if(n.cellFormula){t.l+=2;var l=ym(t,r-t.l,n);o[3]=_r(l,null,i,n.supbooks,n)}else t.l=r;return o}function Gz(t,e,n){var r=t.l+e,i=Pi(t);i.r=n["!row"];var s=Sr(t),o=[i,s,"str"];if(n.cellFormula){t.l+=2;var l=ym(t,r-t.l,n);o[3]=_r(l,null,i,n.supbooks,n)}else t.l=r;return o}var jz=ju;function $z(t,e){var n=t.l+e,r=ju(t),i=$v(t),s=Sr(t),o=Sr(t),l=Sr(t);t.l=n;var f={rfx:r,relId:i,loc:s,display:l};return o&&(f.Tooltip=o),f}function Wz(){}function Kz(t,e,n){var r=t.l+e,i=G6(t),s=t.read_shift(1),o=[i];if(o[2]=s,n.cellFormula){var l=ZH(t,r-t.l,n);o[1]=l}else t.l=r;return o}function Yz(t,e,n){var r=t.l+e,i=ju(t),s=[i];if(n.cellFormula){var o=tz(t,r-t.l,n);s[1]=o,t.l=r}else t.l=r;return s}var Xz=["left","right","top","bottom","header","footer"];function Jz(t){var e={};return Xz.forEach(function(n){e[n]=Er(t)}),e}function Qz(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function Zz(){}function eG(){}function tG(t,e,n,r,i,s,o){if(!t)return t;var l=e||{};r||(r={"!id":{}});var f=l.dense?[]:{},c,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},g=!1,p=!1,x,_,w,C,I,P,A,L,D,O=[];l.biff=12,l["!row"]=0;var k=0,N=!1,R=[],V={},M=l.supbooks||i.supbooks||[[]];if(M.sharedf=V,M.arrayf=R,M.SheetNames=i.SheetNames||i.Sheets.map(function(ge){return ge.name}),!l.supbooks&&(l.supbooks=M,i.Names))for(var F=0;F<i.Names.length;++F)M[0][F+1]=i.Names[F];var q=[],ce=[],oe=!1;kp[16]={n:"BrtShortReal",f:Ck};var ae;if(Sa(t,function(Z,Ee,G){if(!p)switch(G){case 148:c=Z;break;case 0:x=Z,l.sheetRows&&l.sheetRows<=x.r&&(p=!0),L=hr(C=x.r),l["!row"]=x.r,(Z.hidden||Z.hpt||Z.level!=null)&&(Z.hpt&&(Z.hpx=E0(Z.hpt)),ce[Z.r]=Z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(_={t:Z[2]},Z[2]){case"n":_.v=Z[1];break;case"s":A=Zf[Z[1]],_.v=A.t,_.r=A.r;break;case"b":_.v=!!Z[1];break;case"e":_.v=Z[1],l.cellText!==!1&&(_.w=$u[_.v]);break;case"str":_.t="s",_.v=Z[1];break;case"is":_.t="s",_.v=Z[1].t;break}if((w=o.CellXf[Z[0].iStyleRef])&&Sk(_,w.numFmtId,null,l,s,o),I=Z[0].c==-1?I+1:Z[0].c,l.dense?(f[C]||(f[C]=[]),f[C][I]=_):f[Yn(I)+L]=_,l.cellFormula){for(N=!1,k=0;k<R.length;++k){var z=R[k];x.r>=z[0].s.r&&x.r<=z[0].e.r&&I>=z[0].s.c&&I<=z[0].e.c&&(_.F=Ft(z[0]),N=!0)}!N&&Z.length>3&&(_.f=Z[3])}if(d.s.r>x.r&&(d.s.r=x.r),d.s.c>I&&(d.s.c=I),d.e.r<x.r&&(d.e.r=x.r),d.e.c<I&&(d.e.c=I),l.cellDates&&w&&_.t=="n"&&wc(_t[w.numFmtId])){var Y=bu(_.v);Y&&(_.t="d",_.v=new Date(Y.y,Y.m-1,Y.d,Y.H,Y.M,Y.S,Y.u))}ae&&(ae.type=="XLDAPR"&&(_.D=!0),ae=void 0);break;case 1:case 12:if(!l.sheetStubs||g)break;_={t:"z",v:void 0},I=Z[0].c==-1?I+1:Z[0].c,l.dense?(f[C]||(f[C]=[]),f[C][I]=_):f[Yn(I)+L]=_,d.s.r>x.r&&(d.s.r=x.r),d.s.c>I&&(d.s.c=I),d.e.r<x.r&&(d.e.r=x.r),d.e.c<I&&(d.e.c=I),ae&&(ae.type=="XLDAPR"&&(_.D=!0),ae=void 0);break;case 176:O.push(Z);break;case 49:ae=((l.xlmeta||{}).Cell||[])[Z-1];break;case 494:var ee=r["!id"][Z.relId];for(ee?(Z.Target=ee.Target,Z.loc&&(Z.Target+="#"+Z.loc),Z.Rel=ee):Z.relId==""&&(Z.Target="#"+Z.loc),C=Z.rfx.s.r;C<=Z.rfx.e.r;++C)for(I=Z.rfx.s.c;I<=Z.rfx.e.c;++I)l.dense?(f[C]||(f[C]=[]),f[C][I]||(f[C][I]={t:"z",v:void 0}),f[C][I].l=Z):(P=gt({c:I,r:C}),f[P]||(f[P]={t:"z",v:void 0}),f[P].l=Z);break;case 426:if(!l.cellFormula)break;R.push(Z),D=l.dense?f[C][I]:f[Yn(I)+L],D.f=_r(Z[1],d,{r:x.r,c:I},M,l),D.F=Ft(Z[0]);break;case 427:if(!l.cellFormula)break;V[gt(Z[0].s)]=Z[1],D=l.dense?f[C][I]:f[Yn(I)+L],D.f=_r(Z[1],d,{r:x.r,c:I},M,l);break;case 60:if(!l.cellStyles)break;for(;Z.e>=Z.s;)q[Z.e--]={width:Z.w/256,hidden:!!(Z.flags&1),level:Z.level},oe||(oe=!0,Jv(Z.w/256)),pc(q[Z.e+1]);break;case 161:f["!autofilter"]={ref:Ft(Z)};break;case 476:f["!margins"]=Z;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),Z.name&&(i.Sheets[n].CodeName=Z.name),(Z.above||Z.left)&&(f["!outline"]={above:Z.above,left:Z.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),Z.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:g=!0;break;case 36:g=!1;break;case 37:g=!0;break;case 38:g=!1;break;default:if(!Ee.T){if(!g||l.WTF)throw new Error("Unexpected record 0x"+G.toString(16))}}},l),delete l.supbooks,delete l["!row"],!f["!ref"]&&(d.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(f["!ref"]=Ft(c||d)),l.sheetRows&&f["!ref"]){var se=In(f["!ref"]);l.sheetRows<=+se.e.r&&(se.e.r=l.sheetRows-1,se.e.r>d.e.r&&(se.e.r=d.e.r),se.e.r<se.s.r&&(se.s.r=se.e.r),se.e.c>d.e.c&&(se.e.c=d.e.c),se.e.c<se.s.c&&(se.s.c=se.e.c),f["!fullref"]=f["!ref"],f["!ref"]=Ft(se))}return O.length>0&&(f["!merges"]=O),q.length>0&&(f["!cols"]=q),ce.length>0&&(f["!rows"]=ce),f}function nG(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(e[+o[1]]=n?+o[2]:o[2])});var i=Vt((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function rG(t,e,n,r,i,s){var o=s||{"!type":"chart"};if(!t)return s;var l=0,f=0,c="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(g){var p=nG(g);d.s.r=d.s.c=0,d.e.c=l,c=Yn(l),p[0].forEach(function(x,_){o[c+hr(_)]={t:"n",v:x,z:p[1]},f=_}),d.e.r<f&&(d.e.r=f),++l}),l>0&&(o["!ref"]=Ft(d)),o}function iG(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,l=t.match(Ak);return l&&Zv(l[0],s,i,n),(o=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function sG(t,e){t.l+=10;var n=Sr(t);return{name:n}}function aG(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Sa(t,function(f,c,d){switch(d){case 550:s["!rel"]=f;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),f.name&&(i.Sheets[n].CodeName=f.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!o||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var Ik=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],oG=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],uG=[],lG=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function LS(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=_n(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function OS(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=_n(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function kk(t){OS(t.WBProps,Ik),OS(t.CalcPr,lG),LS(t.WBView,oG),LS(t.Sheets,uG),ec.date1904=_n(t.WBProps.date1904)}var cG="][*?/\\".split("");function fG(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return cG.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var hG=/<\w+:workbook/;function dG(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},o=0;if(t.replace(Ir,function(f,c){var d=ft(f);switch(Os(d[0])){case"<?xml":break;case"<workbook":f.match(hG)&&(i="xmlns"+f.match(/<(\w+):/)[1]),n.xmlns=d[i];break;case"</workbook>":break;case"<fileVersion":delete d[0],n.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Ik.forEach(function(g){if(d[g[0]]!=null)switch(g[2]){case"bool":n.WBProps[g[0]]=_n(d[g[0]]);break;case"int":n.WBProps[g[0]]=parseInt(d[g[0]],10);break;default:n.WBProps[g[0]]=d[g[0]]}}),d.codeName&&(n.WBProps.CodeName=dn(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],n.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Vt(dn(d.name)),delete d[0],n.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=dn(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),_n(d.hidden||"0")&&(s.Hidden=!0),o=c+f.length;break;case"</definedName>":s.Ref=Vt(dn(t.slice(o,c))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],n.CalcPr=d;break;case"<calcPr/>":delete d[0],n.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return f}),N7.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return kk(n),n}function pG(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=dy(t),n.name=Sr(t),n}function mG(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?Sr(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function gG(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function xG(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=Y7(t),o=ez(t,0,n),l=$v(t);t.l=r;var f={Name:s,Ptg:o};return i<268435455&&(f.Sheet=i),l&&(f.Comment=l),f}function yG(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],kp[16]={n:"BrtFRTArchID$",f:gG},Sa(t,function(f,c,d){switch(d){case 156:o.SheetNames.push(f.name),n.Sheets.push(f);break;case 153:n.WBProps=f;break;case 39:f.Sheet!=null&&(e.SID=f.Sheet),f.Ref=_r(f.Ptg,null,null,o,e),delete e.SID,delete f.Ptg,s.push(f);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,f]):o[0]=[d,f],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(f),o.XTI=o.XTI.concat(f);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(d),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(d),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},e),kk(n),n.Names=s,n.supbooks=o,n}function vG(t,e,n){return e.slice(-4)===".bin"?yG(t,n):dG(t,n)}function _G(t,e,n,r,i,s,o,l){return e.slice(-4)===".bin"?tG(t,r,n,i,s,o,l):pz(t,r,n,i,s,o,l)}function TG(t,e,n,r,i,s,o,l){return e.slice(-4)===".bin"?aG(t,r,n,i,s):iG(t,r,n,i,s)}function EG(t,e,n,r,i,s,o,l){return e.slice(-4)===".bin"?Rq():Nq()}function bG(t,e,n,r,i,s,o,l){return e.slice(-4)===".bin"?Iq():kq()}function wG(t,e,n,r){return e.slice(-4)===".bin"?jB(t,n,r):VB(t,n,r)}function SG(t,e,n){return mk(t,n)}function AG(t,e,n){return e.slice(-4)===".bin"?oB(t,n):sB(t,n)}function CG(t,e,n){return e.slice(-4)===".bin"?Sq(t,n):_q(t,n)}function IG(t,e,n){return e.slice(-4)===".bin"?xq(t):mq(t)}function kG(t,e,n,r){return n.slice(-4)===".bin"?yq(t,e,n,r):void 0}function RG(t,e,n){return e.slice(-4)===".bin"?dq(t,e,n):pq(t,e,n)}var Rk=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Nk=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function $i(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=t.match(Rk),s,o,l,f;if(i)for(f=0;f!=i.length;++f)s=i[f].match(Nk),(o=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(o+1),r[l]=s[2].slice(1,s[2].length-1));return r}function NG(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(Rk),i,s,o,l;if(r)for(l=0;l!=r.length;++l)i=r[l].match(Nk),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}var t0;function DG(t,e){var n=t0[t]||Vt(t);return n==="General"?Nu(e):Mi(n,e)}function MG(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=_n(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=nr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[Vt(e)]=i}function PG(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||$u[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=x0(t.v):t.w=Nu(t.v):t.w=DG(e||"General",t.v)}catch(s){if(n.WTF)throw s}try{var r=t0[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&wc(r)){var i=bu(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function LG(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=MB[r.Pattern]||r.Pattern)}t[e.ID]=e}function OG(t,e,n,r,i,s,o,l,f,c){var d="General",g=r.StyleID,p={};c=c||{};var x=[],_=0;for(g===void 0&&l&&(g=l.StyleID),g===void 0&&o&&(g=o.StyleID);s[g]!==void 0&&(s[g].nf&&(d=s[g].nf),s[g].Interior&&x.push(s[g].Interior),!!s[g].Parent);)g=s[g].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=_n(t);break;case"String":r.t="s",r.r=iS(Vt(t)),r.v=t.indexOf("<")>-1?Vt(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(nr(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Vt(t):r.v<60&&(r.v=r.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=W6[t],c.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=iS(e||t));break}if(PG(r,d,c),c.cellFormula!==!1)if(r.Formula){var w=Vt(r.Formula);w.charCodeAt(0)==61&&(w=w.slice(1)),r.f=Zl(w,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Zl("RC:RC",i):r.ArrayRange&&(r.F=Zl(r.ArrayRange,i),f.push([In(r.F),r.F]))}else for(_=0;_<f.length;++_)i.r>=f[_][0].s.r&&i.r<=f[_][0].e.r&&i.c>=f[_][0].s.c&&i.c<=f[_][0].e.c&&(r.F=f[_][1]);c.cellStyles&&(x.forEach(function(C){!p.patternType&&C.patternType&&(p.patternType=C.patternType)}),r.s=p),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function FG(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function Y1(t,e){var n=e||{};v6();var r=Lf(qv(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=dn(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var o=fr(n);return o.type="string",_0.to_workbook(r,o)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(nt){i.indexOf("<"+nt)>=0&&(s=!0)}),s)return $G(r,n);t0={"General Number":"General","General Date":_t[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":_t[15],"Short Date":_t[14],"Long Time":_t[19],"Medium Time":_t[18],"Short Time":_t[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:_t[2],Standard:_t[4],Percent:_t[10],Scientific:_t[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,f=[],c,d={},g=[],p=n.dense?[]:{},x="",_={},w={},C=$i('<Data ss:Type="String">'),I=0,P=0,A=0,L={s:{r:2e6,c:2e6},e:{r:0,c:0}},D={},O={},k="",N=0,R=[],V={},M={},F=0,q=[],ce=[],oe={},ae=[],se,ge=!1,Z=[],Ee=[],G={},z=0,Y=0,ee={Sheets:[],WBProps:{date1904:!1}},re={};v0.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var me="";l=v0.exec(r);)switch(l[3]=(me=l[3]).toLowerCase()){case"data":if(me=="data"){if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&f.push([l[3],!0]);break}if(f[f.length-1][1])break;l[1]==="/"?OG(r.slice(I,l.index),k,C,f[f.length-1][0]=="comment"?oe:_,{c:P,r:A},D,ae[P],w,Z,n):(k="",C=$i(l[0]),I=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(ce.length>0&&(_.c=ce),(!n.sheetRows||n.sheetRows>A)&&_.v!==void 0&&(n.dense?(p[A]||(p[A]=[]),p[A][P]=_):p[Yn(P)+hr(A)]=_),_.HRef&&(_.l={Target:Vt(_.HRef)},_.HRefScreenTip&&(_.l.Tooltip=_.HRefScreenTip),delete _.HRef,delete _.HRefScreenTip),(_.MergeAcross||_.MergeDown)&&(z=P+(parseInt(_.MergeAcross,10)|0),Y=A+(parseInt(_.MergeDown,10)|0),R.push({s:{c:P,r:A},e:{c:z,r:Y}})),!n.sheetStubs)_.MergeAcross?P=z+1:++P;else if(_.MergeAcross||_.MergeDown){for(var Re=P;Re<=z;++Re)for(var Ne=A;Ne<=Y;++Ne)(Re>P||Ne>A)&&(n.dense?(p[Ne]||(p[Ne]=[]),p[Ne][Re]={t:"z"}):p[Yn(Re)+hr(Ne)]={t:"z"});P=z+1}else++P;else _=NG(l[0]),_.Index&&(P=+_.Index-1),P<L.s.c&&(L.s.c=P),P>L.e.c&&(L.e.c=P),l[0].slice(-2)==="/>"&&++P,ce=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(A<L.s.r&&(L.s.r=A),A>L.e.r&&(L.e.r=A),l[0].slice(-2)==="/>"&&(w=$i(l[0]),w.Index&&(A=+w.Index-1)),P=0,++A):(w=$i(l[0]),w.Index&&(A=+w.Index-1),G={},(w.AutoFitHeight=="0"||w.Height)&&(G.hpx=parseInt(w.Height,10),G.hpt=pk(G.hpx),Ee[A]=G),w.Hidden=="1"&&(G.hidden=!0,Ee[A]=G));break;case"worksheet":if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"));g.push(x),L.s.r<=L.e.r&&L.s.c<=L.e.c&&(p["!ref"]=Ft(L),n.sheetRows&&n.sheetRows<=L.e.r&&(p["!fullref"]=p["!ref"],L.e.r=n.sheetRows-1,p["!ref"]=Ft(L))),R.length&&(p["!merges"]=R),ae.length>0&&(p["!cols"]=ae),Ee.length>0&&(p["!rows"]=Ee),d[x]=p}else L={s:{r:2e6,c:2e6},e:{r:0,c:0}},A=P=0,f.push([l[3],!1]),c=$i(l[0]),x=Vt(c.Name),p=n.dense?[]:{},R=[],Z=[],Ee=[],re={name:x,Hidden:0},ee.Sheets.push(re);break;case"table":if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else{if(l[0].slice(-2)=="/>")break;f.push([l[3],!1]),ae=[],ge=!1}break;case"style":l[1]==="/"?LG(D,O,n):O=$i(l[0]);break;case"numberformat":O.nf=Vt($i(l[0]).Format||"General"),t0[O.nf]&&(O.nf=t0[O.nf]);for(var he=0;he!=392&&_t[he]!=O.nf;++he);if(he==392){for(he=57;he!=392;++he)if(_t[he]==null){wu(O.nf,he);break}}break;case"column":if(f[f.length-1][0]!=="table")break;if(se=$i(l[0]),se.Hidden&&(se.hidden=!0,delete se.Hidden),se.Width&&(se.wpx=parseInt(se.Width,10)),!ge&&se.wpx>10){ge=!0,Pr=hk;for(var ke=0;ke<ae.length;++ke)ae[ke]&&pc(ae[ke])}ge&&pc(se),ae[se.Index-1||ae.length]=se;for(var de=0;de<+se.Span;++de)ae[ae.length]=fr(se);break;case"namedrange":if(l[1]==="/")break;ee.Names||(ee.Names=[]);var K=ft(l[0]),Ae={Name:K.Name,Ref:Zl(K.RefersTo.slice(1),{r:0,c:0})};ee.Sheets.length>0&&(Ae.Sheet=ee.Sheets.length-1),ee.Names.push(Ae);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?k+=r.slice(N,l.index):N=l.index+l[0].length;break;case"interior":if(!n.cellStyles)break;O.Interior=$i(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?_U(V,me,r.slice(F,l.index)):F=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else f.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"));FG(oe),ce.push(oe)}else f.push([l[3],!1]),c=$i(l[0]),oe={a:c.Author};break;case"autofilter":if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Fe=$i(l[0]);p["!autofilter"]={ref:Zl(Fe.Range).replace(/\$/g,"")},f.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&f.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&f.push([l[3],!0]);break;case"null":break;default:if(f.length==0&&l[3]=="document"||f.length==0&&l[3]=="uof")return HS(r,n);var Ke=!0;switch(f[f.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ke=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ke=!1}break;case"excelworkbook":switch(l[3]){case"date1904":ee.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ke=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Ke=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(r.slice(F,l.index)){case"SheetHidden":re.Hidden=1;break;case"SheetVeryHidden":re.Hidden=2;break}else F=l.index+l[0].length;break;case"header":p["!margins"]||e0(p["!margins"]={},"xlml"),isNaN(+ft(l[0]).Margin)||(p["!margins"].header=+ft(l[0]).Margin);break;case"footer":p["!margins"]||e0(p["!margins"]={},"xlml"),isNaN(+ft(l[0]).Margin)||(p["!margins"].footer=+ft(l[0]).Margin);break;case"pagemargins":var qe=ft(l[0]);p["!margins"]||e0(p["!margins"]={},"xlml"),isNaN(+qe.Top)||(p["!margins"].top=+qe.Top),isNaN(+qe.Left)||(p["!margins"].left=+qe.Left),isNaN(+qe.Right)||(p["!margins"].right=+qe.Right),isNaN(+qe.Bottom)||(p["!margins"].bottom=+qe.Bottom);break;case"displayrighttoleft":ee.Views||(ee.Views=[]),ee.Views[0]||(ee.Views[0]={}),ee.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ke=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ke=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ke=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ke=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ke=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ke=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ke=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ke=!1}break;case"smarttags":break;default:Ke=!1;break}if(Ke||l[3].match(/!\[CDATA/))break;if(!f[f.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+f.join("|");if(f[f.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?MG(M,me,q,r.slice(F,l.index)):(q=l,F=l.index+l[0].length);break}if(n.WTF)throw"Unrecognized tag: "+l[3]+"|"+f.join("|")}var He={};return!n.bookSheets&&!n.bookProps&&(He.Sheets=d),He.SheetNames=g,He.Workbook=ee,He.SSF=fr(_t),He.Props=V,He.Custprops=M,He}function xy(t,e){switch(n_(e=e||{}),e.type||"base64"){case"base64":return Y1(di(t),e);case"binary":case"buffer":case"file":return Y1(t,e);case"array":return Y1(zu(t),e)}}function UG(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=Q7(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=Z7(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var VG=[60,1084,2066,2165,2175];function BG(t,e,n,r,i){var s=r,o=[],l=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&l.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(l)}o.push(l),n.l+=s;for(var f=ma(n,n.l),c=yy[f],d=0;c!=null&&VG.indexOf(f)>-1;)s=ma(n,n.l+2),d=n.l+4,f==2066?d+=4:(f==2165||f==2175)&&(d+=12),l=n.slice(d,n.l+4+s),o.push(l),n.l+=4+s,c=yy[f=ma(n,n.l)];var g=ho(o);lr(g,0);var p=0;g.lens=[];for(var x=0;x<o.length;++x)g.lens.push(p),p+=o[x].length;if(g.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+g.length+" < "+r;return e.f(g,g.length,i)}function _s(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=_t[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||$u[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=x0(t.v):t.w=Nu(t.v):t.w=Mi(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&t.t=="n"&&wc(_t[r]||String(r))){var i=bu(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function kd(t,e,n){return{v:t,ixfe:e,t:n}}function qG(t,e){var n={opts:{}},r={},i=e.dense?[]:{},s={},o={},l=null,f=[],c="",d={},g,p="",x,_,w,C,I={},P=[],A,L,D=[],O=[],k={Sheets:[],WBProps:{date1904:!1},Views:[{}]},N={},R=function(ht){return ht<8?Su[ht]:ht<64&&O[ht-8]||Su[ht]},V=function(ht,Ut,nn){var St=Ut.XF.data;if(!(!St||!St.patternType||!nn||!nn.cellStyles)){Ut.s={},Ut.s.patternType=St.patternType;var rn;(rn=T0(R(St.icvFore)))&&(Ut.s.fgColor={rgb:rn}),(rn=T0(R(St.icvBack)))&&(Ut.s.bgColor={rgb:rn})}},M=function(ht,Ut,nn){if(!(G>1)&&!(nn.sheetRows&&ht.r>=nn.sheetRows)){if(nn.cellStyles&&Ut.XF&&Ut.XF.data&&V(ht,Ut,nn),delete Ut.ixfe,delete Ut.XF,g=ht,p=gt(ht),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),ht.r<o.s.r&&(o.s.r=ht.r),ht.c<o.s.c&&(o.s.c=ht.c),ht.r+1>o.e.r&&(o.e.r=ht.r+1),ht.c+1>o.e.c&&(o.e.c=ht.c+1),nn.cellFormula&&Ut.f){for(var St=0;St<P.length;++St)if(!(P[St][0].s.c>ht.c||P[St][0].s.r>ht.r)&&!(P[St][0].e.c<ht.c||P[St][0].e.r<ht.r)){Ut.F=Ft(P[St][0]),(P[St][0].s.c!=ht.c||P[St][0].s.r!=ht.r)&&delete Ut.f,Ut.f&&(Ut.f=""+_r(P[St][1],o,ht,Z,F));break}}nn.dense?(i[ht.r]||(i[ht.r]=[]),i[ht.r][ht.c]=Ut):i[p]=Ut}},F={enc:!1,sbcch:0,snames:[],sharedf:I,arrayf:P,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(F.password=e.password);var q,ce=[],oe=[],ae=[],se=[],ge=!1,Z=[];Z.SheetNames=F.snames,Z.sharedf=F.sharedf,Z.arrayf=F.arrayf,Z.names=[],Z.XTI=[];var Ee=0,G=0,z=0,Y=[],ee=[],re;F.codepage=1200,ns(1200);for(var me=!1;t.l<t.length-1;){var Re=t.l,Ne=t.read_shift(2);if(Ne===0&&Ee===10)break;var he=t.l===t.length?0:t.read_shift(2),ke=yy[Ne];if(ke&&ke.f){if(e.bookSheets&&Ee===133&&Ne!==133)break;if(Ee=Ne,ke.r===2||ke.r==12){var de=t.read_shift(2);if(he-=2,!F.enc&&de!==Ne&&((de&255)<<8|de>>8)!==Ne)throw new Error("rt mismatch: "+de+"!="+Ne);ke.r==12&&(t.l+=10,he-=10)}var K={};if(Ne===10?K=ke.f(t,he,F):K=BG(Ne,ke,t,he,F),G==0&&[9,521,1033,2057].indexOf(Ee)===-1)continue;switch(Ne){case 34:n.opts.Date1904=k.WBProps.date1904=K;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(F.enc||(t.l=0),F.enc=K,!e.password)throw new Error("File is password-protected");if(K.valid==null)throw new Error("Encryption scheme unsupported");if(!K.valid)throw new Error("Password is incorrect");break;case 92:F.lastuser=K;break;case 66:var Ae=Number(K);switch(Ae){case 21010:Ae=1200;break;case 32768:Ae=1e4;break;case 32769:Ae=1252;break}ns(F.codepage=Ae),me=!0;break;case 317:F.rrtabid=K;break;case 25:F.winlocked=K;break;case 439:n.opts.RefreshAll=K;break;case 12:n.opts.CalcCount=K;break;case 16:n.opts.CalcDelta=K;break;case 17:n.opts.CalcIter=K;break;case 13:n.opts.CalcMode=K;break;case 14:n.opts.CalcPrecision=K;break;case 95:n.opts.CalcSaveRecalc=K;break;case 15:F.CalcRefMode=K;break;case 2211:n.opts.FullCalc=K;break;case 129:K.fDialog&&(i["!type"]="dialog"),K.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),K.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:D.push(K);break;case 430:Z.push([K]),Z[Z.length-1].XTI=[];break;case 35:case 547:Z[Z.length-1].push(K);break;case 24:case 536:re={Name:K.Name,Ref:_r(K.rgce,o,null,Z,F)},K.itab>0&&(re.Sheet=K.itab-1),Z.names.push(re),Z[0]||(Z[0]=[],Z[0].XTI=[]),Z[Z.length-1].push(K),K.Name=="_xlnm._FilterDatabase"&&K.itab>0&&K.rgce&&K.rgce[0]&&K.rgce[0][0]&&K.rgce[0][0][0]=="PtgArea3d"&&(ee[K.itab-1]={ref:Ft(K.rgce[0][0][1][2])});break;case 22:F.ExternCount=K;break;case 23:Z.length==0&&(Z[0]=[],Z[0].XTI=[]),Z[Z.length-1].XTI=Z[Z.length-1].XTI.concat(K),Z.XTI=Z.XTI.concat(K);break;case 2196:if(F.biff<8)break;re!=null&&(re.Comment=K[1]);break;case 18:i["!protect"]=K;break;case 19:K!==0&&F.WTF&&console.error("Password verifier: "+K);break;case 133:s[K.pos]=K,F.snames.push(K.name);break;case 10:{if(--G)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,i["!ref"]=Ft(o),e.sheetRows&&e.sheetRows<=o.e.r){var Fe=o.e.r;o.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Ft(o),o.e.r=Fe}o.e.r++,o.e.c++}ce.length>0&&(i["!merges"]=ce),oe.length>0&&(i["!objects"]=oe),ae.length>0&&(i["!cols"]=ae),se.length>0&&(i["!rows"]=se),k.Sheets.push(N)}c===""?d=i:r[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(F.biff===8&&(F.biff={9:2,521:3,1033:4}[Ne]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[K.BIFFVer]||8),F.biffguess=K.BIFFVer==0,K.BIFFVer==0&&K.dt==4096&&(F.biff=5,me=!0,ns(F.codepage=28591)),F.biff==8&&K.BIFFVer==0&&K.dt==16&&(F.biff=2),G++)break;if(i=e.dense?[]:{},F.biff<8&&!me&&(me=!0,ns(F.codepage=e.codepage||1252)),F.biff<5||K.BIFFVer==0&&K.dt==4096){c===""&&(c="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ke={pos:t.l-he,name:c};s[Ke.pos]=Ke,F.snames.push(c)}else c=(s[Re]||{name:""}).name;K.dt==32&&(i["!type"]="chart"),K.dt==64&&(i["!type"]="macro"),ce=[],oe=[],F.arrayf=P=[],ae=[],se=[],ge=!1,N={Hidden:(s[Re]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[K.r]||[])[K.c]:i[gt({c:K.c,r:K.r})])&&++K.c,A={ixfe:K.ixfe,XF:D[K.ixfe]||{},v:K.val,t:"n"},z>0&&(A.z=Y[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),M({c:K.c,r:K.r},A,e);break;case 5:case 517:A={ixfe:K.ixfe,XF:D[K.ixfe],v:K.val,t:K.t},z>0&&(A.z=Y[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),M({c:K.c,r:K.r},A,e);break;case 638:A={ixfe:K.ixfe,XF:D[K.ixfe],v:K.rknum,t:"n"},z>0&&(A.z=Y[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),M({c:K.c,r:K.r},A,e);break;case 189:for(var qe=K.c;qe<=K.C;++qe){var He=K.rkrec[qe-K.c][0];A={ixfe:He,XF:D[He],v:K.rkrec[qe-K.c][1],t:"n"},z>0&&(A.z=Y[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),M({c:qe,r:K.r},A,e)}break;case 6:case 518:case 1030:{if(K.val=="String"){l=K;break}if(A=kd(K.val,K.cell.ixfe,K.tt),A.XF=D[A.ixfe],e.cellFormula){var nt=K.formula;if(nt&&nt[0]&&nt[0][0]&&nt[0][0][0]=="PtgExp"){var Ge=nt[0][0][1][0],We=nt[0][0][1][1],Yt=gt({r:Ge,c:We});I[Yt]?A.f=""+_r(K.formula,o,K.cell,Z,F):A.F=((e.dense?(i[Ge]||[])[We]:i[Yt])||{}).F}else A.f=""+_r(K.formula,o,K.cell,Z,F)}z>0&&(A.z=Y[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),M(K.cell,A,e),l=K}break;case 7:case 519:if(l)l.val=K,A=kd(K,l.cell.ixfe,"s"),A.XF=D[A.ixfe],e.cellFormula&&(A.f=""+_r(l.formula,o,l.cell,Z,F)),z>0&&(A.z=Y[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),M(l.cell,A,e),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{P.push(K);var ot=gt(K[0].s);if(x=e.dense?(i[K[0].s.r]||[])[K[0].s.c]:i[ot],e.cellFormula&&x){if(!l||!ot||!x)break;x.f=""+_r(K[1],o,K[0],Z,F),x.F=Ft(K[0])}}break;case 1212:{if(!e.cellFormula)break;if(p){if(!l)break;I[gt(l.cell)]=K[0],x=e.dense?(i[l.cell.r]||[])[l.cell.c]:i[gt(l.cell)],(x||{}).f=""+_r(K[0],o,g,Z,F)}}break;case 253:A=kd(f[K.isst].t,K.ixfe,"s"),f[K.isst].h&&(A.h=f[K.isst].h),A.XF=D[A.ixfe],z>0&&(A.z=Y[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),M({c:K.c,r:K.r},A,e);break;case 513:e.sheetStubs&&(A={ixfe:K.ixfe,XF:D[K.ixfe],t:"z"},z>0&&(A.z=Y[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),M({c:K.c,r:K.r},A,e));break;case 190:if(e.sheetStubs)for(var ut=K.c;ut<=K.C;++ut){var st=K.ixfe[ut-K.c];A={ixfe:st,XF:D[st],t:"z"},z>0&&(A.z=Y[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),M({c:ut,r:K.r},A,e)}break;case 214:case 516:case 4:A=kd(K.val,K.ixfe,"s"),A.XF=D[A.ixfe],z>0&&(A.z=Y[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),M({c:K.c,r:K.r},A,e);break;case 0:case 512:G===1&&(o=K);break;case 252:f=K;break;case 1054:if(F.biff==4){Y[z++]=K[1];for(var bt=0;bt<z+163&&_t[bt]!=K[1];++bt);bt>=163&&wu(K[1],z+163)}else wu(K[1],K[0]);break;case 30:{Y[z++]=K;for(var dt=0;dt<z+163&&_t[dt]!=K;++dt);dt>=163&&wu(K,z+163)}break;case 229:ce=ce.concat(K);break;case 93:oe[K.cmo[0]]=F.lastobj=K;break;case 438:F.lastobj.TxO=K;break;case 127:F.lastobj.ImData=K;break;case 440:for(C=K[0].s.r;C<=K[0].e.r;++C)for(w=K[0].s.c;w<=K[0].e.c;++w)x=e.dense?(i[C]||[])[w]:i[gt({c:w,r:C})],x&&(x.l=K[1]);break;case 2048:for(C=K[0].s.r;C<=K[0].e.r;++C)for(w=K[0].s.c;w<=K[0].e.c;++w)x=e.dense?(i[C]||[])[w]:i[gt({c:w,r:C})],x&&x.l&&(x.l.Tooltip=K[1]);break;case 28:{if(F.biff<=5&&F.biff>=2)break;x=e.dense?(i[K[0].r]||[])[K[0].c]:i[gt(K[0])];var tn=oe[K[2]];x||(e.dense?(i[K[0].r]||(i[K[0].r]=[]),x=i[K[0].r][K[0].c]={t:"z"}):x=i[gt(K[0])]={t:"z"},o.e.r=Math.max(o.e.r,K[0].r),o.s.r=Math.min(o.s.r,K[0].r),o.e.c=Math.max(o.e.c,K[0].c),o.s.c=Math.min(o.s.c,K[0].c)),x.c||(x.c=[]),_={a:K[1],t:tn.TxO.t},x.c.push(_)}break;case 2173:lq(D[K.ixfe],K.ext);break;case 125:{if(!F.cellStyles)break;for(;K.e>=K.s;)ae[K.e--]={width:K.w/256,level:K.level||0,hidden:!!(K.flags&1)},ge||(ge=!0,Jv(K.w/256)),pc(ae[K.e+1])}break;case 520:{var wt={};K.level!=null&&(se[K.r]=wt,wt.level=K.level),K.hidden&&(se[K.r]=wt,wt.hidden=!0),K.hpt&&(se[K.r]=wt,wt.hpt=K.hpt,wt.hpx=E0(K.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||e0(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Ne]]=K;break;case 161:i["!margins"]||e0(i["!margins"]={}),i["!margins"].header=K.header,i["!margins"].footer=K.footer;break;case 574:K.RTL&&(k.Views[0].RTL=!0);break;case 146:O=K;break;case 2198:q=K;break;case 140:L=K;break;case 442:c?N.CodeName=K||N.name:k.WBProps.CodeName=K||"ThisWorkbook";break}}else ke||console.error("Missing Info for XLS Record 0x"+Ne.toString(16)),t.l+=he}return n.SheetNames=Ms(s).sort(function(Pn,ht){return Number(Pn)-Number(ht)}).map(function(Pn){return s[Pn].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&d["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=d)):n.Preamble=d,n.Sheets&&ee.forEach(function(Pn,ht){n.Sheets[n.SheetNames[ht]]["!autofilter"]=Pn}),n.Strings=f,n.SSF=fr(_t),F.enc&&(n.Encryption=F.enc),q&&(n.Themes=q),n.Metadata={},L!==void 0&&(n.Metadata.Country=L),Z.names.length>0&&(k.Names=Z.names),n.Workbook=k,n}var FS={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function HG(t,e,n){var r=Ot.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=_S(r,sU,FS.DSI);for(var s in i)e[s]=i[s]}catch(c){if(n.WTF)throw c}var o=Ot.find(t,"/!SummaryInformation");if(o&&o.size>0)try{var l=_S(o,aU,FS.SI);for(var f in l)e[f]==null&&(e[f]=l[f])}catch(c){if(n.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(Y6(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function Dk(t,e){e||(e={}),n_(e),o6(),e.codepage&&Pv(e.codepage);var n,r;if(t.FullPaths){if(Ot.find(t,"/encryption"))throw new Error("File is password-protected");n=Ot.find(t,"!CompObj"),r=Ot.find(t,"/Workbook")||Ot.find(t,"/Book")}else{switch(e.type){case"base64":t=es(di(t));break;case"binary":t=es(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}lr(t,0),r={content:t}}var i,s;if(n&&UG(n),e.bookProps&&!e.bookSheets)i={};else{var o=Pt?"buffer":"array";if(r&&r.content)i=qG(r.content,e);else if((s=Ot.find(t,"PerfectOffice_MAIN"))&&s.content)i=Qf.to_workbook(s.content,(e.type=o,e));else if((s=Ot.find(t,"NativeContent_MAIN"))&&s.content)i=Qf.to_workbook(s.content,(e.type=o,e));else throw(s=Ot.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Ot.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=Cq(t))}var l={};return t.FullPaths&&HG(t,l,e),i.Props=i.Custprops=l,e.bookFiles&&(i.cfb=t),i}var kp={0:{f:bz},1:{f:Cz},2:{f:Oz},3:{f:Nz},4:{f:kz},5:{f:Lz},6:{f:Vz},7:{f:Mz},8:{f:Gz},9:{f:zz},10:{f:qz},11:{f:Hz},12:{f:Iz},13:{f:Fz},14:{f:Dz},15:{f:Rz},16:{f:Ck},17:{f:Bz},18:{f:Pz},19:{f:jv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:xG},40:{},42:{},43:{f:qB},44:{f:BB},45:{f:HB},46:{f:GB},47:{f:zB},48:{},49:{f:j7},50:{},51:{f:fq},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:ok},62:{f:Uz},63:{f:gq},64:{f:Zz},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Cr,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Qz},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Az},148:{f:wz,p:16},151:{f:Wz},152:{},153:{f:mG},154:{},155:{},156:{f:pG},157:{},158:{},159:{T:1,f:aB},160:{T:-1},161:{T:1,f:ju},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:jz},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:cq},336:{T:-1},337:{f:hq,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:dy},357:{},358:{},359:{},360:{T:1},361:{},362:{f:ak},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Kz},427:{f:Yz},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Jz},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Sz},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:$z},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:dy},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:wq},633:{T:1},634:{T:-1},635:{T:1,f:bq},636:{T:-1},637:{f:W7},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:sG},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:eG},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},yy={6:{f:W1},10:{f:ao},12:{f:zn},13:{f:zn},14:{f:Dn},15:{f:Dn},16:{f:Er},17:{f:Dn},18:{f:Dn},19:{f:zn},20:{f:wS},21:{f:wS},23:{f:ak},24:{f:AS},25:{f:Dn},26:{},27:{},28:{f:TV},29:{},34:{f:Dn},35:{f:SS},38:{f:Er},39:{f:Er},40:{f:Er},41:{f:Er},42:{f:Dn},43:{f:Dn},47:{f:SB},49:{f:nV},51:{f:zn},60:{},61:{f:ZU},64:{f:Dn},65:{f:tV},66:{f:zn},77:{},80:{},81:{},82:{},85:{f:zn},89:{},90:{},91:{},92:{f:jU},93:{f:bV},94:{},95:{f:Dn},96:{},97:{},99:{f:Dn},125:{f:ok},128:{f:hV},129:{f:$U},130:{f:zn},131:{f:Dn},132:{f:Dn},133:{f:WU},134:{},140:{f:kV},141:{f:zn},144:{},146:{f:NV},151:{},152:{},153:{},154:{},155:{},156:{f:zn},157:{},158:{},160:{f:OV},161:{f:MV},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:uV},190:{f:lV},193:{f:ao},197:{},198:{},199:{},200:{},201:{},202:{f:Dn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:zn},220:{},221:{f:Dn},222:{},224:{f:fV},225:{f:GU},226:{f:ao},227:{},229:{f:EV},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:KU},253:{f:rV},255:{f:YU},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:ek},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Dn},353:{f:ao},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:pV},431:{f:Dn},432:{},433:{},434:{},437:{},438:{f:AV},439:{f:Dn},440:{f:CV},441:{},442:{f:H0},443:{},444:{f:zn},445:{},446:{},448:{f:ao},449:{f:QU,r:2},450:{f:ao},512:{f:ES},513:{f:LV},515:{f:dV},516:{f:iV},517:{f:bS},519:{f:FV},520:{f:XU},523:{},545:{f:CS},549:{f:TS},566:{},574:{f:eV},638:{f:oV},659:{},1048:{},1054:{f:sV},1084:{},1212:{f:yV},2048:{f:IV},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Ad},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:ao},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:DV,r:12},2173:{f:uq,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Dn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:xV,r:12},2197:{},2198:{f:nq,r:12},2199:{},2200:{},2201:{},2202:{f:vV,r:12},2203:{f:ao},2204:{},2205:{},2206:{},2207:{},2211:{f:JU},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:zn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:PV},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:RV},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:ES},1:{},2:{f:qV},3:{f:BV},4:{f:VV},5:{f:bS},7:{f:HV},8:{},9:{f:Ad},11:{},22:{f:zn},30:{f:aV},31:{},32:{},33:{f:CS},36:{},37:{f:TS},50:{f:zV},62:{},52:{},67:{},68:{f:zn},69:{},86:{},126:{},127:{f:UV},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:GV},223:{},234:{},354:{},421:{},518:{f:W1},521:{f:Ad},536:{f:AS},547:{f:SS},561:{},579:{},1030:{f:W1},1033:{f:Ad},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Wi(t,e,n,r){var i=e;if(!isNaN(i)){var s=(n||[]).length||0,o=t.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&q6(n)&&t.push(n)}}function US(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),o=i.index,l=s&&s.index||t.length,f=d7(t.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,d=0,g=0,p=0,x={s:{r:1e7,c:1e7},e:{r:0,c:0}},_=[];for(o=0;o<f.length;++o){var w=f[o].trim(),C=w.slice(0,3).toLowerCase();if(C=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}d=0;continue}if(!(C!="<td"&&C!="<th")){var I=w.split(/<\/t[dh]>/i);for(l=0;l<I.length;++l){var P=I[l].trim();if(P.match(/<t[dh]/i)){for(var A=P,L=0;A.charAt(0)=="<"&&(L=A.indexOf(">"))>-1;)A=A.slice(L+1);for(var D=0;D<_.length;++D){var O=_[D];O.s.c==d&&O.s.r<c&&c<=O.e.r&&(d=O.e.c+1,D=-1)}var k=ft(P.slice(0,P.indexOf(">")));p=k.colspan?+k.colspan:1,((g=+k.rowspan)>1||p>1)&&_.push({s:{r:c,c:d},e:{r:c+(g||1)-1,c:d+p-1}});var N=k.t||k["data-t"]||"";if(!A.length){d+=p;continue}if(A=I6(A),x.s.r>c&&(x.s.r=c),x.e.r<c&&(x.e.r=c),x.s.c>d&&(x.s.c=d),x.e.c<d&&(x.e.c=d),!A.length){d+=p;continue}var R={t:"s",v:A};n.raw||!A.trim().length||N=="s"||(A==="TRUE"?R={t:"b",v:!0}:A==="FALSE"?R={t:"b",v:!1}:isNaN(as(A))?isNaN(dc(A).getDate())||(R={t:"d",v:nr(A)},n.cellDates||(R={t:"n",v:Ur(R.v)}),R.z=n.dateNF||_t[14]):R={t:"n",v:as(A)}),n.dense?(r[c]||(r[c]=[]),r[c][d]=R):r[gt({r:c,c:d})]=R,d+=p}}}}return r["!ref"]=Ft(x),_.length&&(r["!merges"]=_),r}function zG(t,e,n,r){for(var i=t["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var l=0,f=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>o)&&!(i[c].e.r<n||i[c].e.c<o)){if(i[c].s.r<n||i[c].s.c<o){l=-1;break}l=i[c].e.r-i[c].s.r+1,f=i[c].e.c-i[c].s.c+1;break}if(!(l<0)){var d=gt({r:n,c:o}),g=r.dense?(t[n]||[])[o]:t[d],p=g&&g.v!=null&&(g.h||Bv(g.w||(Ea(g),g.w)||""))||"",x={};l>1&&(x.rowspan=l),f>1&&(x.colspan=f),r.editable?p='<span contenteditable="true">'+p+"</span>":g&&(x["data-t"]=g&&g.t||"z",g.v!=null&&(x["data-v"]=g.v),g.z!=null&&(x["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+g.l.Target+'">'+p+"</a>")),x.id=(r.id||"sjs")+"-"+d,s.push(k7("td",p,x))}}var _="<tr>";return _+s.join("")+"</tr>"}var GG='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',jG="</body></html>";function $G(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return Ho(US(n[0],e),e);var r=i_();return n.forEach(function(i,s){s_(r,US(i,e),"Sheet"+(s+1))}),r}function WG(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function KG(t,e){var n=e||{},r=n.header!=null?n.header:GG,i=n.footer!=null?n.footer:jG,s=[r],o=Sc(t["!ref"]);n.dense=Array.isArray(t),s.push(WG(t,o,n));for(var l=o.s.r;l<=o.e.r;++l)s.push(zG(t,o,l,n));return s.push("</table>"+i),s.join("")}function Mk(t,e,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?Lr(r.origin):r.origin;i=o.r,s=o.c}var l=e.getElementsByTagName("tr"),f=Math.min(r.sheetRows||1e7,l.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var d=Sc(t["!ref"]);c.s.r=Math.min(c.s.r,d.s.r),c.s.c=Math.min(c.s.c,d.s.c),c.e.r=Math.max(c.e.r,d.e.r),c.e.c=Math.max(c.e.c,d.e.c),i==-1&&(c.e.r=i=d.e.r+1)}var g=[],p=0,x=t["!rows"]||(t["!rows"]=[]),_=0,w=0,C=0,I=0,P=0,A=0;for(t["!cols"]||(t["!cols"]=[]);_<l.length&&w<f;++_){var L=l[_];if(VS(L)){if(r.display)continue;x[w]={hidden:!0}}var D=L.children;for(C=I=0;C<D.length;++C){var O=D[C];if(!(r.display&&VS(O))){var k=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):I6(O.innerHTML),N=O.getAttribute("data-z")||O.getAttribute("z");for(p=0;p<g.length;++p){var R=g[p];R.s.c==I+s&&R.s.r<w+i&&w+i<=R.e.r&&(I=R.e.c+1-s,p=-1)}A=+O.getAttribute("colspan")||1,((P=+O.getAttribute("rowspan")||1)>1||A>1)&&g.push({s:{r:w+i,c:I+s},e:{r:w+i+(P||1)-1,c:I+s+(A||1)-1}});var V={t:"s",v:k},M=O.getAttribute("data-t")||O.getAttribute("t")||"";k!=null&&(k.length==0?V.t=M||"z":r.raw||k.trim().length==0||M=="s"||(k==="TRUE"?V={t:"b",v:!0}:k==="FALSE"?V={t:"b",v:!1}:isNaN(as(k))?isNaN(dc(k).getDate())||(V={t:"d",v:nr(k)},r.cellDates||(V={t:"n",v:Ur(V.v)}),V.z=r.dateNF||_t[14]):V={t:"n",v:as(k)})),V.z===void 0&&N!=null&&(V.z=N);var F="",q=O.getElementsByTagName("A");if(q&&q.length)for(var ce=0;ce<q.length&&!(q[ce].hasAttribute("href")&&(F=q[ce].getAttribute("href"),F.charAt(0)!="#"));++ce);F&&F.charAt(0)!="#"&&(V.l={Target:F}),r.dense?(t[w+i]||(t[w+i]=[]),t[w+i][I+s]=V):t[gt({c:I+s,r:w+i})]=V,c.e.c<I+s&&(c.e.c=I+s),I+=A}}++w}return g.length&&(t["!merges"]=(t["!merges"]||[]).concat(g)),c.e.r=Math.max(c.e.r,w-1+i),t["!ref"]=Ft(c),w>=f&&(t["!fullref"]=Ft((c.e.r=l.length-_+w-1+i,c))),t}function Pk(t,e){var n=e||{},r=n.dense?[]:{};return Mk(r,t,e)}function YG(t,e){return Ho(Pk(t,e),e)}function VS(t){var e="",n=XG(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function XG(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function JG(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Vt(e.replace(/<[^>]*>/g,""));return[n]}var BS={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Lk(t,e){var n=e||{},r=qv(t),i=[],s,o,l={name:""},f="",c=0,d,g,p={},x=[],_=n.dense?[]:{},w,C,I={value:""},P="",A=0,L=[],D=-1,O=-1,k={s:{r:1e6,c:1e7},e:{r:0,c:0}},N=0,R={},V=[],M={},F=0,q=0,ce=[],oe=1,ae=1,se=[],ge={Names:[]},Z={},Ee=["",""],G=[],z={},Y="",ee=0,re=!1,me=!1,Re=0;for(v0.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");w=v0.exec(r);)switch(w[3]=w[3].replace(/_.*$/,"")){case"table":case"工作表":w[1]==="/"?(k.e.c>=k.s.c&&k.e.r>=k.s.r?_["!ref"]=Ft(k):_["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=k.e.r&&(_["!fullref"]=_["!ref"],k.e.r=n.sheetRows-1,_["!ref"]=Ft(k)),V.length&&(_["!merges"]=V),ce.length&&(_["!rows"]=ce),d.name=d.名称||d.name,typeof JSON<"u"&&JSON.stringify(d),x.push(d.name),p[d.name]=_,me=!1):w[0].charAt(w[0].length-2)!=="/"&&(d=ft(w[0],!1),D=O=-1,k.s.r=k.s.c=1e7,k.e.r=k.e.c=0,_=n.dense?[]:{},V=[],ce=[],me=!0);break;case"table-row-group":w[1]==="/"?--N:++N;break;case"table-row":case"行":if(w[1]==="/"){D+=oe,oe=1;break}if(g=ft(w[0],!1),g.行号?D=g.行号-1:D==-1&&(D=0),oe=+g["number-rows-repeated"]||1,oe<10)for(Re=0;Re<oe;++Re)N>0&&(ce[D+Re]={level:N});O=-1;break;case"covered-table-cell":w[1]!=="/"&&++O,n.sheetStubs&&(n.dense?(_[D]||(_[D]=[]),_[D][O]={t:"z"}):_[gt({r:D,c:O})]={t:"z"}),P="",L=[];break;case"table-cell":case"数据":if(w[0].charAt(w[0].length-2)==="/")++O,I=ft(w[0],!1),ae=parseInt(I["number-columns-repeated"]||"1",10),C={t:"z",v:null},I.formula&&n.cellFormula!=!1&&(C.f=PS(Vt(I.formula))),(I.数据类型||I["value-type"])=="string"&&(C.t="s",C.v=Vt(I["string-value"]||""),n.dense?(_[D]||(_[D]=[]),_[D][O]=C):_[gt({r:D,c:O})]=C),O+=ae-1;else if(w[1]!=="/"){++O,P="",A=0,L=[],ae=1;var Ne=oe?D+oe-1:D;if(O>k.e.c&&(k.e.c=O),O<k.s.c&&(k.s.c=O),D<k.s.r&&(k.s.r=D),Ne>k.e.r&&(k.e.r=Ne),I=ft(w[0],!1),G=[],z={},C={t:I.数据类型||I["value-type"],v:null},n.cellFormula)if(I.formula&&(I.formula=Vt(I.formula)),I["number-matrix-columns-spanned"]&&I["number-matrix-rows-spanned"]&&(F=parseInt(I["number-matrix-rows-spanned"],10)||0,q=parseInt(I["number-matrix-columns-spanned"],10)||0,M={s:{r:D,c:O},e:{r:D+F-1,c:O+q-1}},C.F=Ft(M),se.push([M,C.F])),I.formula)C.f=PS(I.formula);else for(Re=0;Re<se.length;++Re)D>=se[Re][0].s.r&&D<=se[Re][0].e.r&&O>=se[Re][0].s.c&&O<=se[Re][0].e.c&&(C.F=se[Re][1]);switch((I["number-columns-spanned"]||I["number-rows-spanned"])&&(F=parseInt(I["number-rows-spanned"],10)||0,q=parseInt(I["number-columns-spanned"],10)||0,M={s:{r:D,c:O},e:{r:D+F-1,c:O+q-1}},V.push(M)),I["number-columns-repeated"]&&(ae=parseInt(I["number-columns-repeated"],10)),C.t){case"boolean":C.t="b",C.v=_n(I["boolean-value"]);break;case"float":C.t="n",C.v=parseFloat(I.value);break;case"percentage":C.t="n",C.v=parseFloat(I.value);break;case"currency":C.t="n",C.v=parseFloat(I.value);break;case"date":C.t="d",C.v=nr(I["date-value"]),n.cellDates||(C.t="n",C.v=Ur(C.v)),C.z="m/d/yy";break;case"time":C.t="n",C.v=c7(I["time-value"])/86400,n.cellDates&&(C.t="d",C.v=mm(C.v)),C.z="HH:MM:SS";break;case"number":C.t="n",C.v=parseFloat(I.数据数值);break;default:if(C.t==="string"||C.t==="text"||!C.t)C.t="s",I["string-value"]!=null&&(P=Vt(I["string-value"]),L=[]);else throw new Error("Unsupported value type "+C.t)}}else{if(re=!1,C.t==="s"&&(C.v=P||"",L.length&&(C.R=L),re=A==0),Z.Target&&(C.l=Z),G.length>0&&(C.c=G,G=[]),P&&n.cellText!==!1&&(C.w=P),re&&(C.t="z",delete C.v),(!re||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=D))for(var he=0;he<oe;++he){if(ae=parseInt(I["number-columns-repeated"]||"1",10),n.dense)for(_[D+he]||(_[D+he]=[]),_[D+he][O]=he==0?C:fr(C);--ae>0;)_[D+he][O+ae]=fr(C);else for(_[gt({r:D+he,c:O})]=C;--ae>0;)_[gt({r:D+he,c:O+ae})]=fr(C);k.e.c<=O&&(k.e.c=O)}ae=parseInt(I["number-columns-repeated"]||"1",10),O+=ae-1,ae=0,C={},P="",L=[]}Z={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!0]);break;case"annotation":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s;z.t=P,L.length&&(z.R=L),z.a=Y,G.push(z)}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);Y="",ee=0,P="",A=0,L=[];break;case"creator":w[1]==="/"?Y=r.slice(ee,w.index):ee=w.index+w[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(w[1]==="/"){if((s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&i.push([w[3],!1]);P="",A=0,L=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(w[1]==="/"){if(R[l.name]=f,(s=i.pop())[0]!==w[3])throw"Bad state: "+s}else w[0].charAt(w[0].length-2)!=="/"&&(f="",l=ft(w[0],!1),i.push([w[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":o=ft(w[0],!1),f+=BS[w[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":o=ft(w[0],!1),f+=BS[w[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(w[0].slice(-2)==="/>")break;if(w[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":f+=r.slice(c,w.index);break}else c=w.index+w[0].length;break;case"named-range":o=ft(w[0],!1),Ee=K1(o["cell-range-address"]);var ke={Name:o.name,Ref:Ee[0]+"!"+Ee[1]};me&&(ke.Sheet=x.length),ge.Names.push(ke);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(w[1]==="/"&&(!I||!I["string-value"])){var de=JG(r.slice(A,w.index));P=(P.length>0?P+`
`:"")+de[0]}else ft(w[0],!1),A=w.index+w[0].length;break;case"s":break;case"database-range":if(w[1]==="/")break;try{Ee=K1(ft(w[0])["target-range-address"]),p[Ee[0]]["!autofilter"]={ref:Ee[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(w[1]!=="/"){if(Z=ft(w[0],!1),!Z.href)break;Z.Target=Vt(Z.href),delete Z.href,Z.Target.charAt(0)=="#"&&Z.Target.indexOf(".")>-1?(Ee=K1(Z.Target.slice(1)),Z.Target="#"+Ee[0]+"!"+Ee[1]):Z.Target.match(/^\.\.[\\\/]/)&&(Z.Target=Z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(w[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(n.WTF)throw new Error(w)}}var K={Sheets:p,SheetNames:x,Workbook:ge};return n.bookSheets&&delete K.Sheets,K}function qS(t,e){e=e||{},ki(t,"META-INF/manifest.xml")&&dU(Hn(t,"META-INF/manifest.xml"),e);var n=fi(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=Lk(dn(n),e);return ki(t,"meta.xml")&&(r.Props=K6(Hn(t,"meta.xml"))),r}function HS(t,e){return Lk(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function e_(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function vy(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):dn(zu(t))}function _y(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function zS(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function QG(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,i=e+13;i>=e;--i)r=r*256+t[i];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function b0(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function Jn(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function br(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=b0(t,n),s=i&7;i=Math.floor(i/8);var o=0,l;if(i==0)break;switch(s){case 0:{for(var f=n[0];t[n[0]++]>=128;);l=t.slice(f,n[0])}break;case 5:o=4,l=t.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,l=t.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=b0(t,n),l=t.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var c={data:l,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function t_(t,e){return(t==null?void 0:t.map(function(n){return e(n.data)}))||[]}function ZG(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=b0(t,r),s=br(t.slice(r[0],r[0]+i));r[0]+=i;var o={id:Jn(s[1][0].data),messages:[]};s[2].forEach(function(l){var f=br(l.data),c=Jn(f[3][0].data);o.messages.push({meta:f,data:t.slice(r[0],r[0]+c)}),r[0]+=c}),(e=s[3])!=null&&e[0]&&(o.merge=Jn(s[3][0].data)>>>0>0),n.push(o)}return n}function ej(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=b0(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var o=e[n[0]++]>>2;if(o<60)++o;else{var l=o-59;o=e[n[0]],l>1&&(o|=e[n[0]+1]<<8),l>2&&(o|=e[n[0]+2]<<16),l>3&&(o|=e[n[0]+3]<<24),o>>>=0,o++,n[0]+=l}i.push(e.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var f=0,c=0;if(s==1?(c=(e[n[0]]>>2&7)+4,f=(e[n[0]++]&224)<<3,f|=e[n[0]++]):(c=(e[n[0]++]>>2)+1,s==2?(f=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(f=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[_y(i)],f==0)throw new Error("Invalid offset 0");if(f>i[0].length)throw new Error("Invalid offset beyond length");if(c>=f)for(i.push(i[0].slice(-f)),c-=f;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-f,-f+c))}}var d=_y(i);if(d.length!=r)throw new Error("Unexpected length: ".concat(d.length," != ").concat(r));return d}function tj(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(ej(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return _y(e)}function nj(t,e,n,r){var i=e_(t),s=i.getUint32(4,!0),o=(r>1?12:8)+zS(s&(r>1?3470:398))*4,l=-1,f=-1,c=NaN,d=new Date(2001,0,1);s&512&&(l=i.getUint32(o,!0),o+=4),o+=zS(s&(r>1?12288:4096))*4,s&16&&(f=i.getUint32(o,!0),o+=4),s&32&&(c=i.getFloat64(o,!0),o+=8),s&64&&(d.setTime(d.getTime()+i.getFloat64(o,!0)*1e3),o+=8);var g;switch(t[2]){case 0:break;case 2:g={t:"n",v:c};break;case 3:g={t:"s",v:e[f]};break;case 5:g={t:"d",v:d};break;case 6:g={t:"b",v:c>0};break;case 7:g={t:"n",v:c/86400};break;case 8:g={t:"e",v:0};break;case 9:if(l>-1)g={t:"s",v:n[l]};else if(f>-1)g={t:"s",v:e[f]};else if(!isNaN(c))g={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return g}function rj(t,e,n){var r=e_(t),i=r.getUint32(8,!0),s=12,o=-1,l=-1,f=NaN,c=NaN,d=new Date(2001,0,1);i&1&&(f=QG(t,s),s+=16),i&2&&(c=r.getFloat64(s,!0),s+=8),i&4&&(d.setTime(d.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(l=r.getUint32(s,!0),s+=4),i&16&&(o=r.getUint32(s,!0),s+=4);var g;switch(t[1]){case 0:break;case 2:g={t:"n",v:f};break;case 3:g={t:"s",v:e[l]};break;case 5:g={t:"d",v:d};break;case 6:g={t:"b",v:c>0};break;case 7:g={t:"n",v:c/86400};break;case 8:g={t:"e",v:0};break;case 9:if(o>-1)g={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:g={t:"n",v:f};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return g}function ij(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return nj(t,e,n,t[0]);case 5:return rj(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function wo(t){var e=br(t);return b0(e[1][0].data)}function GS(t,e){var n=br(e.data),r=Jn(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(o){var l=br(o.data),f=Jn(l[1][0].data)>>>0;switch(r){case 1:s[f]=vy(l[3][0].data);break;case 8:{var c=t[wo(l[9][0].data)][0],d=br(c.data),g=t[wo(d[1][0].data)][0],p=Jn(g.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var x=br(g.data);s[f]=x[3].map(function(_){return vy(_.data)}).join("")}break}}),s}function sj(t,e){var n,r,i,s,o,l,f,c,d,g,p,x,_,w,C=br(t),I=Jn(C[1][0].data)>>>0,P=Jn(C[2][0].data)>>>0,A=((r=(n=C[8])==null?void 0:n[0])==null?void 0:r.data)&&Jn(C[8][0].data)>0||!1,L,D;if((s=(i=C[7])==null?void 0:i[0])!=null&&s.data&&e!=0)L=(l=(o=C[7])==null?void 0:o[0])==null?void 0:l.data,D=(c=(f=C[6])==null?void 0:f[0])==null?void 0:c.data;else if((g=(d=C[4])==null?void 0:d[0])!=null&&g.data&&e!=1)L=(x=(p=C[4])==null?void 0:p[0])==null?void 0:x.data,D=(w=(_=C[3])==null?void 0:_[0])==null?void 0:w.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var O=A?4:1,k=e_(L),N=[],R=0;R<L.length/2;++R){var V=k.getUint16(R*2,!0);V<65535&&N.push([R,V])}if(N.length!=P)throw"Expected ".concat(P," cells, found ").concat(N.length);var M=[];for(R=0;R<N.length-1;++R)M[N[R][0]]=D.subarray(N[R][1]*O,N[R+1][1]*O);return N.length>=1&&(M[N[N.length-1][0]]=D.subarray(N[N.length-1][1]*O)),{R:I,cells:M}}function aj(t,e){var n,r=br(e.data),i=(n=r==null?void 0:r[7])!=null&&n[0]?Jn(r[7][0].data)>>>0>0?1:0:-1,s=t_(r[5],function(o){return sj(o,i)});return{nrows:Jn(r[4][0].data)>>>0,data:s.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(f,c){if(o[l.R][c])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(c));o[l.R][c]=f}),o},[])}}function oj(t,e,n){var r,i=br(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Jn(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Jn(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=Ft(s);var o=br(i[4][0].data),l=GS(t,t[wo(o[4][0].data)][0]),f=(r=o[17])!=null&&r[0]?GS(t,t[wo(o[17][0].data)][0]):[],c=br(o[3][0].data),d=0;c[1].forEach(function(g){var p=br(g.data),x=t[wo(p[2][0].data)][0],_=Jn(x.meta[1][0].data);if(_!=6002)throw new Error("6001 unexpected reference to ".concat(_));var w=aj(t,x);w.data.forEach(function(C,I){C.forEach(function(P,A){var L=gt({r:d+I,c:A}),D=ij(P,l,f);D&&(n[L]=D)})}),d+=w.nrows})}function uj(t,e){var n=br(e.data),r={"!ref":"A1"},i=t[wo(n[2][0].data)],s=Jn(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return oj(t,i[0],r),r}function lj(t,e){var n,r=br(e.data),i={name:(n=r[1])!=null&&n[0]?vy(r[1][0].data):"",sheets:[]},s=t_(r[2],wo);return s.forEach(function(o){t[o].forEach(function(l){var f=Jn(l.meta[1][0].data);f==6e3&&i.sheets.push(uj(t,l))})}),i}function cj(t,e){var n=i_(),r=br(e.data),i=t_(r[1],wo);if(i.forEach(function(s){t[s].forEach(function(o){var l=Jn(o.meta[1][0].data);if(l==2){var f=lj(t,o);f.sheets.forEach(function(c,d){s_(n,c,d==0?f.name:f.name+"_"+d,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function X1(t){var e,n,r,i,s={},o=[];if(t.FullPaths.forEach(function(f){if(f.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(f){if(f.name.match(/\.iwa$/)){var c;try{c=tj(f.content)}catch(g){return console.log("?? "+f.content.length+" "+(g.message||g))}var d;try{d=ZG(c)}catch(g){return console.log("## "+(g.message||g))}d.forEach(function(g){s[g.id]=g.messages,o.push(g.id)})}}),!o.length)throw new Error("File has no messages");var l=((i=(r=(n=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&Jn(s[1][0].meta[1][0].data)==1&&s[1][0];if(l||o.forEach(function(f){s[f].forEach(function(c){var d=Jn(c.meta[1][0].data)>>>0;if(d==1)if(!l)l=c;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return cj(s,l)}function fj(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function n_(t){fj([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function hj(t){return Gl.WS.indexOf(t)>-1?"sheet":t==Gl.CS?"chart":t==Gl.DS?"dialog":t==Gl.MS?"macro":t&&t.length?t:"sheet"}function dj(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,hj(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function pj(t,e,n,r,i,s,o,l,f,c,d,g){try{s[r]=Xf(fi(t,n,!0),e);var p=Hn(t,e),x;switch(l){case"sheet":x=_G(p,e,i,f,s[r],c,d,g);break;case"chart":if(x=TG(p,e,i,f,s[r],c,d,g),!x||!x["!drawel"])break;var _=Ff(x["!drawel"].Target,e),w=py(_),C=vq(fi(t,_,!0),Xf(fi(t,w,!0),_)),I=Ff(C,_),P=py(I);x=rG(fi(t,I,!0),I,f,Xf(fi(t,P,!0),I),c,x);break;case"macro":x=EG(p,e,i,f,s[r],c,d,g);break;case"dialog":x=bG(p,e,i,f,s[r],c,d,g);break;default:throw new Error("Unrecognized sheet type "+l)}o[r]=x;var A=[];s&&s[r]&&Ms(s[r]).forEach(function(L){var D="";if(s[r][L].Type==Gl.CMNT){D=Ff(s[r][L].Target,e);var O=CG(Hn(t,D,!0),D,f);if(!O||!O.length)return;kS(x,O,!1)}s[r][L].Type==Gl.TCMNT&&(D=Ff(s[r][L].Target,e),A=A.concat(Tq(Hn(t,D,!0),f)))}),A&&A.length&&kS(x,A,!0,f.people||[])}catch(L){if(f.WTF)throw L}}function Ci(t){return t.charAt(0)=="/"?t.slice(1):t}function mj(t,e){if(v6(),e=e||{},n_(e),ki(t,"META-INF/manifest.xml")||ki(t,"objectdata.xml"))return qS(t,e);if(ki(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof X1<"u"){if(t.FileIndex)return X1(t);var n=Ot.utils.cfb_new();return nS(t).forEach(function(ce){g7(n,ce,m7(t,ce))}),X1(n)}throw new Error("Unsupported NUMBERS file")}if(!ki(t,"[Content_Types].xml"))throw ki(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ki(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=nS(t),i=fU(fi(t,"[Content_Types].xml")),s=!1,o,l;if(i.workbooks.length===0&&(l="xl/workbook.xml",Hn(t,l,!0)&&i.workbooks.push(l)),i.workbooks.length===0){if(l="xl/workbook.bin",!Hn(t,l,!0))throw new Error("Could not find workbook");i.workbooks.push(l),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var f={},c={};if(!e.bookSheets&&!e.bookProps){if(Zf=[],i.sst)try{Zf=AG(Hn(t,Ci(i.sst)),i.sst,e)}catch(ce){if(e.WTF)throw ce}e.cellStyles&&i.themes.length&&(f=SG(fi(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=wG(Hn(t,Ci(i.style)),i.style,f,e))}i.links.map(function(ce){try{var oe=Xf(fi(t,py(Ci(ce))),ce);return kG(Hn(t,Ci(ce)),oe,ce,e)}catch{}});var d=vG(Hn(t,Ci(i.workbooks[0])),i.workbooks[0],e),g={},p="";i.coreprops.length&&(p=Hn(t,Ci(i.coreprops[0]),!0),p&&(g=K6(p)),i.extprops.length!==0&&(p=Hn(t,Ci(i.extprops[0]),!0),p&&gU(p,g,e)));var x={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(p=fi(t,Ci(i.custprops[0]),!0),p&&(x=yU(p,e)));var _={};if((e.bookSheets||e.bookProps)&&(d.Sheets?o=d.Sheets.map(function(oe){return oe.name}):g.Worksheets&&g.SheetNames.length>0&&(o=g.SheetNames),e.bookProps&&(_.Props=g,_.Custprops=x),e.bookSheets&&typeof o<"u"&&(_.SheetNames=o),e.bookSheets?_.SheetNames:e.bookProps))return _;o={};var w={};e.bookDeps&&i.calcchain&&(w=IG(Hn(t,Ci(i.calcchain)),i.calcchain));var C=0,I={},P,A;{var L=d.Sheets;g.Worksheets=L.length,g.SheetNames=[];for(var D=0;D!=L.length;++D)g.SheetNames[D]=L[D].name}var O=s?"bin":"xml",k=i.workbooks[0].lastIndexOf("/"),N=(i.workbooks[0].slice(0,k+1)+"_rels/"+i.workbooks[0].slice(k+1)+".rels").replace(/^\//,"");ki(t,N)||(N="xl/_rels/workbook."+O+".rels");var R=Xf(fi(t,N,!0),N.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=RG(Hn(t,Ci(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=Eq(Hn(t,Ci(i.people[0])),e)),R&&(R=dj(R,d.Sheets));var V=Hn(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(C=0;C!=g.Worksheets;++C){var M="sheet";if(R&&R[C]?(P="xl/"+R[C][1].replace(/[\/]?xl\//,""),ki(t,P)||(P=R[C][1]),ki(t,P)||(P=N.replace(/_rels\/.*$/,"")+R[C][1]),M=R[C][2]):(P="xl/worksheets/sheet"+(C+1-V)+"."+O,P=P.replace(/sheet0\./,"sheet.")),A=P.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(C!=e.sheets)continue e;break;case"string":if(g.SheetNames[C].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var F=!1,q=0;q!=e.sheets.length;++q)typeof e.sheets[q]=="number"&&e.sheets[q]==C&&(F=1),typeof e.sheets[q]=="string"&&e.sheets[q].toLowerCase()==g.SheetNames[C].toLowerCase()&&(F=1);if(!F)continue e}}pj(t,P,A,g.SheetNames[C],C,I,o,M,e,d,f,c)}return _={Directory:i,Workbook:d,Props:g,Custprops:x,Deps:w,Sheets:o,SheetNames:g.SheetNames,Strings:Zf,Styles:c,Themes:f,SSF:fr(_t)},e&&e.bookFiles&&(t.files?(_.keys=r,_.files=t.files):(_.keys=[],_.files={},t.FullPaths.forEach(function(ce,oe){ce=ce.replace(/^Root Entry[\/]/,""),_.keys.push(ce),_.files[ce]=t.FileIndex[oe]}))),e&&e.bookVBA&&(i.vba.length>0?_.vbaraw=Hn(t,Ci(i.vba[0]),!0):i.defaults&&i.defaults.bin===Aq&&(_.vbaraw=Hn(t,"xl/vbaProject.bin",!0))),_}function gj(t,e){var n=e||{},r="Workbook",i=Ot.find(t,r);try{if(r="/!DataSpaces/Version",i=Ot.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(uB(i.content),r="/!DataSpaces/DataSpaceMap",i=Ot.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=cB(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Ot.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=fB(i.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Ot.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);dB(i.content)}catch{}if(r="/EncryptionInfo",i=Ot.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var l=pB(i.content);if(r="/EncryptedPackage",i=Ot.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],i.content,n.password||"",n);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function r_(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=di(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function xj(t,e){return Ot.find(t,"EncryptedPackage")?gj(t,e):Dk(t,e)}function yj(t,e){var n,r=t,i=e||{};return i.type||(i.type=Pt&&Buffer.isBuffer(t)?"buffer":"base64"),n=S6(r,i),mj(n,i)}function Ok(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return xy(t.slice(n),e);default:break e}return _0.to_workbook(t,e)}function vj(t,e){var n="",r=r_(t,e);switch(e.type){case"base64":n=di(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=Du(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=dn(n)),e.type="binary",Ok(n,e)}function _j(t,e){var n=t;return e.type=="base64"&&(n=di(n)),n=g0.utils.decode(1200,n.slice(2),"str"),e.type="binary",Ok(n,e)}function Tj(t){return t.match(/[^\x00-\x7F]/)?Uf(t):t}function J1(t,e,n,r){return r?(n.type="string",_0.to_workbook(t,n)):_0.to_workbook(e,n)}function Rp(t,e){o6();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return Rp(new Uint8Array(t),(n=fr(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),ec={},n.dateNF&&(ec.dateNF=n.dateNF),n.type||(n.type=Pt&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=Pt?"buffer":"binary",r=u7(t),typeof Uint8Array<"u"&&!Pt&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=Tj(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return n=fr(n),n.type="array",Rp(Lv(r),n)}switch((i=r_(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return xj(Ot.read(r,n),n);break;case 9:if(i[1]<=8)return Dk(r,n);break;case 60:return xy(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return YV(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return WV.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?yj(r,n):J1(t,r,n,s);case 239:return i[3]===60?xy(r,n):J1(t,r,n,s);case 255:if(i[1]===254)return _j(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return Qf.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Qf.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return IS.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return AB.to_workbook(r,n);break;case 10:case 13:case 32:return vj(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return jV.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?IS.to_workbook(r,n):J1(t,r,n,s)}function Ej(t,e,n,r,i,s,o,l){var f=hr(n),c=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),g=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:n,enumerable:!1})}catch{p.__rowNum__=n}else p.__rowNum__=n;if(!o||t[n])for(var x=e.s.c;x<=e.e.c;++x){var _=o?t[n][x]:t[r[x]+f];if(_===void 0||_.t===void 0){if(c===void 0)continue;s[x]!=null&&(p[s[x]]=c);continue}var w=_.v;switch(_.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+_.t)}if(s[x]!=null){if(w==null)if(_.t=="e"&&w===null)p[s[x]]=null;else if(c!==void 0)p[s[x]]=c;else if(d&&w===null)p[s[x]]=null;else continue;else p[s[x]]=d&&(_.t!=="n"||_.t==="n"&&l.rawNumbers!==!1)?w:Ea(_,w,l);w!=null&&(g=!1)}}return{row:p,isempty:g}}function Ty(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],o=0,l="",f={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},d=c.range!=null?c.range:t["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof d){case"string":f=In(d);break;case"number":f=In(t["!ref"]),f.s.r=d;break;default:f=d}r>0&&(i=0);var g=hr(f.s.r),p=[],x=[],_=0,w=0,C=Array.isArray(t),I=f.s.r,P=0,A={};C&&!t[I]&&(t[I]=[]);var L=c.skipHidden&&t["!cols"]||[],D=c.skipHidden&&t["!rows"]||[];for(P=f.s.c;P<=f.e.c;++P)if(!(L[P]||{}).hidden)switch(p[P]=Yn(P),n=C?t[I][P]:t[p[P]+g],r){case 1:s[P]=P-f.s.c;break;case 2:s[P]=p[P];break;case 3:s[P]=c.header[P-f.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),l=o=Ea(n,null,c),w=A[o]||0,!w)A[o]=1;else{do l=o+"_"+w++;while(A[l]);A[o]=w,A[l]=1}s[P]=l}for(I=f.s.r+i;I<=f.e.r;++I)if(!(D[I]||{}).hidden){var O=Ej(t,f,I,p,r,s,C,c);(O.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(x[_++]=O.row)}return x.length=_,x}var jS=/"/g;function bj(t,e,n,r,i,s,o,l){for(var f=!0,c=[],d="",g=hr(n),p=e.s.c;p<=e.e.c;++p)if(r[p]){var x=l.dense?(t[n]||[])[p]:t[r[p]+g];if(x==null)d="";else if(x.v!=null){f=!1,d=""+(l.rawNumbers&&x.t=="n"?x.v:Ea(x,null,l));for(var _=0,w=0;_!==d.length;++_)if((w=d.charCodeAt(_))===i||w===s||w===34||l.forceQuotes){d='"'+d.replace(jS,'""')+'"';break}d=="ID"&&(d='"ID"')}else x.f!=null&&!x.F?(f=!1,d="="+x.f,d.indexOf(",")>=0&&(d='"'+d.replace(jS,'""')+'"')):d="";c.push(d)}return l.blankrows===!1&&f?null:c.join(o)}function Fk(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=In(t["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),l=r.RS!==void 0?r.RS:`
`,f=l.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),d="",g=[];r.dense=Array.isArray(t);for(var p=r.skipHidden&&t["!cols"]||[],x=r.skipHidden&&t["!rows"]||[],_=i.s.c;_<=i.e.c;++_)(p[_]||{}).hidden||(g[_]=Yn(_));for(var w=0,C=i.s.r;C<=i.e.r;++C)(x[C]||{}).hidden||(d=bj(t,i,C,g,o,f,s,r),d!=null&&(r.strip&&(d=d.replace(c,"")),(d||r.blankrows!==!1)&&n.push((w++?l:"")+d)));return delete r.dense,n.join("")}function wj(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=Fk(t,e);return n}function Sj(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=In(t["!ref"]),s="",o=[],l,f=[],c=Array.isArray(t);for(l=i.s.c;l<=i.e.c;++l)o[l]=Yn(l);for(var d=i.s.r;d<=i.e.r;++d)for(s=hr(d),l=i.s.c;l<=i.e.c;++l)if(e=o[l]+s,n=c?(t[d]||[])[l]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}f[f.length]=e+"="+r}return f}function Uk(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},o=0,l=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var f=typeof r.origin=="string"?Lr(r.origin):r.origin;o=f.r,l=f.c}var c,d={s:{c:0,r:0},e:{c:l,r:o+e.length-1+i}};if(s["!ref"]){var g=In(s["!ref"]);d.e.c=Math.max(d.e.c,g.e.c),d.e.r=Math.max(d.e.r,g.e.r),o==-1&&(o=g.e.r+1,d.e.r=o+e.length-1+i)}else o==-1&&(o=0,d.e.r=e.length-1+i);var p=r.header||[],x=0;e.forEach(function(w,C){Ms(w).forEach(function(I){(x=p.indexOf(I))==-1&&(p[x=p.length]=I);var P=w[I],A="z",L="",D=gt({c:l+x,r:o+C+i});c=w0(s,D),P&&typeof P=="object"&&!(P instanceof Date)?s[D]=P:(typeof P=="number"?A="n":typeof P=="boolean"?A="b":typeof P=="string"?A="s":P instanceof Date?(A="d",r.cellDates||(A="n",P=Ur(P)),L=r.dateNF||_t[14]):P===null&&r.nullError&&(A="e",P=0),c?(c.t=A,c.v=P,delete c.w,delete c.R,L&&(c.z=L)):s[D]=c={t:A,v:P},L&&(c.z=L))})}),d.e.c=Math.max(d.e.c,l+p.length-1);var _=hr(o);if(i)for(x=0;x<p.length;++x)s[Yn(x+l)+_]={t:"s",v:p[x]};return s["!ref"]=Ft(d),s}function Aj(t,e){return Uk(null,t,e)}function w0(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Lr(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?w0(t,gt(e)):w0(t,gt({r:e,c:n||0}))}function Cj(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function i_(){return{SheetNames:[],Sheets:{}}}function s_(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=o+i)!=-1;++i);}if(fG(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function Ij(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=Cj(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function kj(t,e){return t.z=e,t}function Vk(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function Rj(t,e,n){return Vk(t,"#"+e,n)}function Nj(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function Dj(t,e,n,r){for(var i=typeof e!="string"?e:In(e),s=typeof e=="string"?e:Ft(e),o=i.s.r;o<=i.e.r;++o)for(var l=i.s.c;l<=i.e.c;++l){var f=w0(t,o,l);f.t="n",f.F=s,delete f.v,o==i.s.r&&l==i.s.c&&(f.f=n,r&&(f.D=!0))}return t}var Bk={encode_col:Yn,encode_row:hr,encode_cell:gt,encode_range:Ft,decode_col:Gv,decode_row:zv,split_cell:G7,decode_cell:Lr,decode_range:Sc,format_cell:Ea,sheet_add_aoa:z6,sheet_add_json:Uk,sheet_add_dom:Mk,aoa_to_sheet:Ac,json_to_sheet:Aj,table_to_sheet:Pk,table_to_book:YG,sheet_to_csv:Fk,sheet_to_txt:wj,sheet_to_json:Ty,sheet_to_html:KG,sheet_to_formulae:Sj,sheet_to_row_object_array:Ty,sheet_get_cell:w0,book_new:i_,book_append_sheet:s_,book_set_sheet_visibility:Ij,cell_set_number_format:kj,cell_set_hyperlink:Vk,cell_set_internal_link:Rj,cell_add_comment:Nj,sheet_set_array_formula:Dj,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Mj=["asia-southeast1"],$S="".split(",").map(t=>t.trim()).filter(t=>t.length>0),Pj=$S.length>0?$S:Mj,Lj=(()=>{const t=new Set,e=[];e.push({key:void 0,id:"default-region"});for(const n of Pj)e.push({key:n,id:`fallback:${n}`});return e.reduce((n,r)=>{const i=r.key??"__default__";if(t.has(i))return n;t.add(i);const s=r.key?fy(Vw,r.key):fy(Vw);return n.push({id:r.id,client:s}),n},[])})(),Oj=new Set(["functions/internal","functions/unavailable","functions/unknown","functions/not-found"]),qk=t=>{var s;if(!t||typeof t!="object")return!1;const e=t,n=typeof e.code=="string"?e.code:"";if(Oj.has(n))return!0;const i=(typeof e.message=="string"?e.message:"").toLowerCase();if(n==="functions/https-error"){const o=(s=e.customData)==null?void 0:s.httpStatus;if(typeof o=="number"&&(o===404||o===0)||i.includes("404")||i.includes("not found"))return!0}return i.includes("cors")||i.includes("access-control-allow-origin")||i.includes("preflight")||i.includes("networkerror")||i.includes("failed to fetch")||i.includes("fetch failed")?!0:e.cause?qk(e.cause):!1};async function a_(t,e){let n;for(const r of Lj)try{return(await uF(r.client,t)(e)).data}catch(i){if(i&&typeof i=="object"&&console.warn(`Callable ${t} failed via ${r.id}`,i),!qk(i))throw i;n=i}if(n){const r=n.message?`${n.message} (Đã thử nhiều vùng triển khai Cloud Functions nhưng đều thất bại.)`:"Không thể kết nối tới Cloud Functions sau khi thử nhiều vùng triển khai.";throw new Error(r)}throw new Error("Không thể kết nối tới Cloud Functions.")}const Hk=t=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z"})}),Fj=({classes:t})=>{const[e,n]=le.useState([]),[r,i]=le.useState(""),[s,o]=le.useState(!1),[l,f]=le.useState([]),[c,d]=le.useState(""),[g,p]=le.useState(""),x=le.useMemo(()=>{const D=new Map;return t.forEach(O=>{const k=O.id.trim().toLowerCase();D.set(k,O),O.code&&D.set(O.code.trim().toLowerCase(),O);const N=O.name.trim().toLowerCase();D.set(N,O)}),D},[t]),_=le.useMemo(()=>{const D=new Map;return t.forEach(O=>{D.set(O.id,O)}),D},[t]),w=D=>{const O=_.get(D);return O?`${O.code?`${O.code} – `:""}${O.name}`:D},C=D=>{if(!D)return null;const O=D.trim().toLowerCase();return O?x.get(O)??null:null},I=D=>{const O=Object.entries(D).reduce((R,[V,M])=>{if(M==null)return R;const F=V.toString().trim().toLowerCase().replace(/[^a-z0-9]/g,"");return R[F]=String(M),R},{}),k={email:"email",mail:"email",fullname:"fullName",name:"fullName",hovaten:"fullName",classid:"classId",class:"classId",malop:"classId",lop:"classId"},N={};return Object.entries(k).forEach(([R,V])=>{O[R]&&(N[V]=O[R])}),N},P=D=>{const O=D.filter(V=>V&&typeof V=="object").map(V=>I(V)),k=O.filter(V=>!!(V.email&&V.fullName&&V.classId)),N=[],R=new Set;if(k.forEach(V=>{const M=C(V.classId);if(!M){R.add(V.classId.trim());return}N.push({email:V.email,fullName:V.fullName,classId:M.id})}),n(N),f([]),k.length===0&&O.length>0){d("File không chứa dữ liệu hợp lệ. Hãy chắc chắn file có các cột 'email', 'fullName', và 'classId' hoặc các tên tương đương."),p("");return}if(k.length<O.length?d("Một số dòng bị bỏ qua do thiếu thông tin email, họ tên hoặc mã lớp."):d(""),R.size>0){if(N.length===0){d(`Không tìm thấy các lớp: ${Array.from(R).join(", ")}. Không có dữ liệu nào được nhập.`),p("");return}p(`Không tìm thấy các lớp: ${Array.from(R).join(", ")}. Các dòng này đã bị bỏ qua.`)}else p("")},A=D=>{var k,N;const O=(k=D.target.files)==null?void 0:k[0];if(O){i(O.name),n([]),f([]),d(""),p("");const R=new FileReader,V=(N=O.name.split(".").pop())==null?void 0:N.toLowerCase();V==="csv"?(R.onload=M=>{var F;NF.parse((F=M.target)==null?void 0:F.result,{header:!0,complete:q=>P(q.data),error:q=>d(`Lỗi khi đọc file CSV: ${q.message}`)})},R.readAsText(O)):V==="xlsx"||V==="xls"?(R.onload=M=>{var F;try{const q=Rp((F=M.target)==null?void 0:F.result,{type:"binary"}),ce=q.SheetNames[0],oe=q.Sheets[ce],ae=Bk.sheet_to_json(oe,{blankrows:!0,defval:" "});P(ae)}catch(q){d(`Lỗi khi đọc file Excel: ${q.message}`)}},R.readAsBinaryString(O)):d("Định dạng file không được hỗ trợ. Vui lòng chọn file CSV hoặc Excel (.xlsx, .xls).")}},L=async()=>{if(e.length===0){d("Không có dữ liệu học sinh hợp lệ để nhập.");return}o(!0),f([]);try{const D=await a_("bulkCreateUsers",{students:e});f(D.results||[])}catch(D){console.error("Lỗi khi gọi Cloud Function:",D),d(`Lỗi nghiêm trọng khi thực thi: ${D.message||"Không thể kết nối đến máy chủ."}`)}finally{o(!1)}};return b.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mt-4 max-w-4xl mx-auto",children:[b.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Nhập Học sinh từ File"}),b.jsxs("p",{className:"mb-6 text-sm text-gray-600 leading-relaxed",children:["Chọn một file ",b.jsx("strong",{children:"CSV"})," hoặc ",b.jsx("strong",{children:"Excel"})," có chứa thông tin học sinh. File phải có các cột:",b.jsx("strong",{children:" email"}),", ",b.jsx("strong",{children:"fullName"}),", và ",b.jsx("strong",{children:"classId"}),". Các biến thể tên cột như 'mail', 'name', 'hovaten', 'class', 'malop' cũng được hỗ trợ. Nếu không cung cấp cột ",b.jsx("strong",{children:"password"}),", hệ thống sẽ đặt mật khẩu mặc định là ",b.jsx("strong",{children:"123456"}),"."]}),b.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-6",children:[b.jsxs("label",{className:"inline-flex w-full sm:w-auto cursor-pointer items-center justify-center gap-2 rounded-lg border-2 border-dashed border-blue-300 bg-white px-4 py-2 text-sm font-semibold text-blue-600 shadow-sm transition hover:border-blue-400 hover:bg-blue-50 hover:text-blue-700",children:[b.jsx(Hk,{className:"h-5 w-5"}),b.jsx("span",{className:"truncate",children:r||"Chọn file CSV hoặc Excel"}),b.jsx("input",{type:"file",accept:".csv, .xlsx, .xls",className:"hidden",onChange:A})]}),b.jsxs("button",{onClick:L,disabled:e.length===0||s,className:"inline-flex w-full sm:w-auto items-center justify-center rounded-lg bg-green-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-green-700 disabled:cursor-not-allowed disabled:bg-gray-400",children:[s?b.jsx($t,{className:"mr-2 h-4 w-4 text-white"}):null,s?"Đang nhập...":"Bắt đầu nhập"]})]}),c&&b.jsx("p",{className:"text-red-600 bg-red-100 border border-red-300 p-3 rounded-md mt-4 text-sm font-medium",children:c}),g&&!c&&b.jsx("p",{className:"mt-4 rounded-md border border-amber-200 bg-amber-50 p-3 text-sm text-amber-800",children:g}),e.length>0&&!s&&b.jsxs("div",{className:"mt-8 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[b.jsxs("h4",{className:"font-bold text-lg mb-3 text-gray-700",children:["Xem trước dữ liệu (",e.length," học sinh):"]}),b.jsxs("div",{className:"max-h-60 overflow-y-auto mt-2 border border-gray-300 rounded-md shadow-inner",children:[b.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[b.jsx("thead",{className:"bg-gray-100 sticky top-0",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),b.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Họ và Tên"}),b.jsx("th",{className:"px-4 py-2 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Mã Lớp"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:e.slice(0,10).map((D,O)=>b.jsxs("tr",{className:"hover:bg-gray-50",children:[b.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:D.email}),b.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:D.fullName}),b.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-800",children:w(D.classId)})]},O))})]}),e.length>10&&b.jsxs("p",{className:"text-center text-sm text-gray-500 p-2 bg-gray-50 border-t border-gray-200",children:["... và ",e.length-10," học sinh khác không hiển thị trong bản xem trước."]})]})]}),l.length>0&&b.jsxs("div",{className:"mt-8 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[b.jsx("h4",{className:"font-bold text-lg mb-3 text-gray-700",children:"Kết quả nhập liệu:"}),b.jsx("div",{className:"max-h-60 overflow-y-auto mt-2 border border-gray-300 rounded-md shadow-inner",children:b.jsx("ul",{className:"divide-y divide-gray-200",children:l.map((D,O)=>b.jsxs("li",{className:`p-3 flex flex-col sm:flex-row sm:justify-between sm:items-center ${D.success?"bg-green-50":"bg-red-50"} hover:bg-opacity-75 transition-colors duration-150`,children:[b.jsx("span",{className:"text-sm font-medium text-gray-900",children:D.email}),b.jsxs("div",{className:"flex items-center space-x-2 mt-1 sm:mt-0",children:[b.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${D.success?"bg-green-200 text-green-800":"bg-red-200 text-red-800"}`,children:D.success?"Thành công":"Thất bại"}),!D.success&&b.jsx("p",{className:"text-xs text-red-700 max-w-xs text-right break-words",children:D.message})]})]},O))})})]})]})},Uj=async t=>a_("upsertStudentAccount",t),Vj=({isOpen:t,onClose:e,onSuccess:n,classes:r,initialStudent:i})=>{const[s,o]=le.useState(""),[l,f]=le.useState(""),[c,d]=le.useState(""),[g,p]=le.useState(""),[x,_]=le.useState(!1),[w,C]=le.useState(""),I=!!i,P=le.useMemo(()=>{const D=new Map;return r.forEach(O=>{const k=O.id.trim().toLowerCase();D.set(k,O.id),O.code&&D.set(O.code.trim().toLowerCase(),O.id);const N=O.name.trim().toLowerCase();D.set(N,O.id)}),D},[r]);le.useEffect(()=>{t&&(o((i==null?void 0:i.email)??""),f((i==null?void 0:i.name)??""),d(((i==null?void 0:i.classIds)??[]).join(", ")),p(""),C(""))},[i,t]);const A=le.useMemo(()=>r.map(D=>`${D.code??D.id} – ${D.name}`),[r]),L=async D=>{D.preventDefault();const O=s.trim().toLowerCase(),k=l.trim(),N=c.split(",").map(M=>M.trim()).filter(Boolean),R=[],V=[];if(N.forEach(M=>{const F=M.trim().toLowerCase(),q=P.get(F);q?R.includes(q)||R.push(q):V.push(M)}),!O||!k||N.length===0){C("Vui lòng nhập đầy đủ Email, Họ tên và ít nhất một mã lớp.");return}if(R.length===0){C(V.length>0?`Không tìm thấy các lớp: ${V.join(", ")}. Vui lòng kiểm tra lại.`:"Không thể xác định lớp học hợp lệ. Vui lòng kiểm tra lại mã lớp.");return}if(V.length>0){C(`Không tìm thấy các lớp: ${V.join(", ")}. Vui lòng kiểm tra lại.`);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(O)){C("Email không hợp lệ.");return}_(!0),C("");try{const M=await Uj({email:O,fullName:k,classIds:R,password:g.trim()?g.trim():void 0});n(M.passwordUpdated?`${M.message} Mật khẩu đã được ${M.operation==="created"?"cấp":"cập nhật"}.`:M.message),e()}catch(M){console.error("Failed to upsert student account",M);const F=(M==null?void 0:M.message)||"Không thể lưu tài khoản học viên. Vui lòng thử lại.";(M==null?void 0:M.code)==="functions/https-error"&&(M!=null&&M.message)?C(M.message):(M==null?void 0:M.code)==="functions/internal"?C("Không thể kết nối tới Cloud Functions. Hãy chắc chắn đã triển khai hàm upsertStudentAccount và cấu hình VITE_FIREBASE_FUNCTIONS_REGION hoặc VITE_FIREBASE_FUNCTIONS_REGION_FALLBACKS cho đúng vùng của dự án."):C(F)}finally{_(!1)}};return t?b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:b.jsxs("div",{className:"w-full max-w-2xl rounded-2xl bg-white p-6 shadow-2xl",children:[b.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:I?"Cập nhật tài khoản học viên":"Tạo tài khoản học viên"}),b.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Điền thông tin bên dưới để ",I?"cập nhật":"tạo mới"," tài khoản. Để trống ô mật khẩu nếu muốn dùng mật khẩu mặc định"," ",b.jsx("strong",{children:"123456"}),"."]})]}),b.jsx("button",{type:"button",onClick:e,className:"text-3xl font-semibold text-gray-400 transition hover:text-gray-600","aria-label":"Đóng",children:"×"})]}),b.jsxs("form",{onSubmit:L,className:"space-y-5",children:[w&&b.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:w}),b.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Email đăng nhập"}),b.jsx("input",{type:"email",className:"w-full rounded-xl border border-gray-300 px-4 py-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",value:s,onChange:D=>o(D.target.value),required:!0,disabled:I})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Họ và tên"}),b.jsx("input",{type:"text",className:"w-full rounded-xl border border-gray-300 px-4 py-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",value:l,onChange:D=>f(D.target.value),required:!0})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Mã lớp (cách nhau bằng dấu phẩy)"}),b.jsx("input",{type:"text",className:"w-full rounded-xl border border-gray-300 px-4 py-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",value:c,onChange:D=>d(D.target.value),required:!0,placeholder:"VD: LOP12A1, LOP12A2"}),A.length>0&&b.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Gợi ý: ",A.join(", ")]})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Mật khẩu mới (tùy chọn)"}),b.jsx("input",{type:"text",className:"w-full rounded-xl border border-gray-300 px-4 py-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-200",value:g,onChange:D=>p(D.target.value),placeholder:"Để trống để dùng mật khẩu mặc định 123456"})]})]}),b.jsxs("div",{className:"flex items-center justify-end space-x-3 border-t border-gray-200 pt-4",children:[b.jsx("button",{type:"button",onClick:e,className:"rounded-lg border border-gray-300 px-4 py-2 font-semibold text-gray-700 transition hover:bg-gray-50",children:"Hủy"}),b.jsx("button",{type:"submit",disabled:x,className:"flex items-center rounded-lg bg-indigo-600 px-4 py-2 font-semibold text-white transition hover:bg-indigo-700 disabled:bg-indigo-400",children:x?b.jsx($t,{}):I?"Cập nhật":"Tạo tài khoản"})]})]})]})}):null},Fl=10,Bj=()=>{const[t,e]=le.useState([]),[n,r]=le.useState([]),[i,s]=le.useState(!0),[o,l]=le.useState(""),[f,c]=le.useState(1),[d,g]=le.useState(1),[p,x]=le.useState(!1),[_,w]=le.useState(null),[C,I]=le.useState(!1),[P,A]=le.useState(null),[L,D]=le.useState(""),[O,k]=le.useState(""),[N,R]=le.useState(!1),[V,M]=le.useState(null),[F,q]=le.useState(""),ce=le.useCallback(async()=>{s(!0),l("");try{const he=await U0();e(he.students),r(he.classes)}catch(he){console.error("Failed to fetch admin data:",he),l("Không thể tải dữ liệu. Vui lòng kiểm tra kết nối mạng và thử lại.")}finally{s(!1)}},[]);le.useEffect(()=>{ce()},[]);const oe=Math.ceil(t.length/Fl),ae=le.useMemo(()=>{const he=(f-1)*Fl;return t.slice(he,he+Fl)},[t,f]),se=Math.ceil(n.length/Fl),ge=le.useMemo(()=>{const he=(d-1)*Fl;return n.slice(he,he+Fl)},[n,d]),Z=()=>{w(null),x(!0)},Ee=(he=null)=>{M(he),R(!0)},G=()=>{R(!1),M(null)},z=he=>{q(he),ce()},Y=he=>{w(he),x(!0)},ee=he=>{D("Xác nhận xóa lớp học"),k("Bạn có chắc chắn muốn xóa lớp học này không?"),A(()=>async()=>{try{alert("Chức năng xóa tạm thời bị vô hiệu hóa trong bản demo này.")}catch(ke){console.error("Failed to delete class:",ke),alert(`Không thể xóa lớp học: ${ke.message}`)}}),I(!0)},re=()=>{x(!1),w(null)},me=()=>{re(),ce()},Re=le.useMemo(()=>new Map(n.map(he=>[he.id,he])),[n]),Ne=le.useCallback(he=>{if(!he||he.length===0)return{names:"N/A",codes:"N/A"};const ke=[],de=[];return he.forEach(K=>{const Ae=Re.get(K);ke.push((Ae==null?void 0:Ae.name)??K),de.push((Ae==null?void 0:Ae.code)??(Ae==null?void 0:Ae.id)??K)}),{names:ke.join(", "),codes:de.join(", ")}},[Re]);return i?b.jsxs("div",{className:"flex justify-center items-center h-64",children:[b.jsx($t,{}),b.jsx("p",{className:"ml-4 text-gray-600",children:"Đang tải dữ liệu..."})]}):o?b.jsx("div",{className:"text-center bg-rose-50 border border-rose-200 text-rose-800 p-4 rounded-lg",children:o}):b.jsxs("div",{className:"space-y-12",children:[N&&b.jsx(Vj,{isOpen:N,onClose:G,onSuccess:z,classes:n,initialStudent:V}),F&&b.jsxs("div",{className:"mb-6 rounded-xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm text-emerald-800 shadow-sm",children:[F,b.jsx("button",{type:"button",onClick:()=>q(""),className:"ml-4 text-xs font-semibold text-emerald-700 underline",children:"Ẩn"})]}),b.jsx(Fj,{classes:n}),b.jsxs("div",{className:"mt-8",children:[" ",b.jsx("h4",{className:"text-xl font-bold text-gray-800 mb-4",children:"Danh sách học viên hiện tại"}),b.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 hidden md:block",children:b.jsxs("table",{className:"min-w-full bg-white",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Họ và tên"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lớp"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã lớp"}),b.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thao tác"})]})}),b.jsx("tbody",{className:"divide-y divide-gray-200",children:ae.map(he=>{const ke=Ne(he.classIds);return b.jsxs("tr",{className:"hover:bg-gray-50",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:he.name}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:he.email}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:ke.names}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:ke.codes}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm",children:b.jsx("div",{className:"flex justify-end",children:b.jsxs("button",{type:"button",onClick:()=>Ee(he),className:"inline-flex items-center justify-center rounded-full border border-gray-300 p-2 text-gray-600 transition hover:border-indigo-300 hover:bg-indigo-50 hover:text-indigo-600",title:"Chỉnh sửa học viên",children:[b.jsx(zl,{className:"h-4 w-4"}),b.jsx("span",{className:"sr-only",children:"Chỉnh sửa học viên"})]})})})]},he.id)})})]})}),b.jsx("div",{className:"space-y-3 md:hidden",children:ae.map(he=>{const ke=Ne(he.classIds);return b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-200",children:[b.jsx("p",{className:"font-bold text-gray-900 truncate",children:he.name}),b.jsx("div",{className:"mt-2 pt-2 border-t text-sm space-y-1",children:b.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[b.jsx("span",{className:"text-gray-500 col-span-1",children:"Email:"}),b.jsx("span",{className:"text-gray-800 col-span-2 truncate",children:he.email}),b.jsx("span",{className:"text-gray-500 col-span-1",children:"Lớp:"}),b.jsx("span",{className:"text-gray-800 font-medium col-span-2",children:ke.names}),b.jsx("span",{className:"text-gray-500 col-span-1",children:"Mã lớp:"}),b.jsx("span",{className:"text-gray-800 col-span-2",children:ke.codes}),b.jsx("span",{className:"text-gray-500 col-span-1",children:"Thao tác:"}),b.jsxs("button",{type:"button",onClick:()=>Ee(he),className:"col-span-2 inline-flex items-center justify-start rounded-lg border border-gray-300 px-3 py-2 font-semibold text-indigo-600 transition hover:bg-indigo-50",children:[b.jsx(zl,{className:"mr-2 h-4 w-4"}),"Chỉnh sửa / đặt mật khẩu"]})]})})]},he.id)})}),b.jsx(hc,{currentPage:f,totalPages:oe,onPageChange:c})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Quản lý lớp học"}),b.jsxs("button",{onClick:Z,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center transition-colors",children:[b.jsx(V0,{}),b.jsx("span",{className:"ml-2",children:"Thêm lớp học mới"})]})]}),b.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 hidden md:block",children:b.jsxs("table",{className:"min-w-full bg-white",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tên lớp"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã lớp"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hành động"})]})}),b.jsx("tbody",{className:"divide-y divide-gray-200",children:ge.map(he=>b.jsxs("tr",{className:"hover:bg-gray-50",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:he.name}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:he.code??he.id}),b.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 space-x-2",children:[b.jsx("button",{onClick:()=>Y(he),className:"p-2 text-gray-500 hover:text-indigo-600 hover:bg-gray-100 rounded-full transition-colors",title:"Sửa lớp học",children:b.jsx(zl,{})}),b.jsx("button",{onClick:()=>ee(he.id),className:"p-2 text-gray-500 hover:text-rose-600 hover:bg-gray-100 rounded-full transition-colors",title:"Xóa lớp học",children:b.jsx(m0,{})})]})]},he.id))})]})}),b.jsx("div",{className:"space-y-3 md:hidden",children:ge.map(he=>b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-200 flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-bold text-gray-900",children:he.name}),b.jsxs("p",{className:"text-xs text-gray-500",children:["Mã lớp: ",b.jsx("span",{className:"font-semibold text-gray-700",children:he.code??he.id})]})]}),b.jsxs("div",{className:"space-x-2 flex-shrink-0",children:[b.jsx("button",{onClick:()=>Y(he),className:"p-2 text-gray-500 hover:text-indigo-600 hover:bg-gray-100 rounded-full transition-colors",title:"Sửa lớp học",children:b.jsx(zl,{})}),b.jsx("button",{onClick:()=>ee(he.id),className:"p-2 text-gray-500 hover:text-rose-600 hover:bg-gray-100 rounded-full transition-colors",title:"Xóa lớp học",children:b.jsx(m0,{})})]})]},he.id))}),b.jsx(hc,{currentPage:d,totalPages:se,onPageChange:g})]}),p&&b.jsx(AF,{isOpen:p,onClose:re,onSave:me,initialClassData:_}),C&&b.jsx(Dv,{isOpen:C,onClose:()=>I(!1),onConfirm:()=>{P&&P(),I(!1)},title:L,message:O})]})},WS=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),S0=t=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Q1=10,KS=({onViewProctoringReport:t})=>{const[e,n]=le.useState([]),[r,i]=le.useState(!0),[s,o]=le.useState(""),[l,f]=le.useState("completed_at"),[c,d]=le.useState("desc"),[g,p]=le.useState(1),x=le.useCallback(async()=>{i(!0),o("");try{const[A,L]=await Promise.all([EF(),U0()]),D=new Map(L.students.map(R=>[R.id,R])),O=new Map(L.exams.map(R=>[R.id,R])),k=new Map(L.classes.map(R=>[R.id,R.name])),N=A.map(R=>{const V=D.get(R.userId),M=O.get(R.examId),F=((V==null?void 0:V.classIds)||[]).map(q=>k.get(q)).filter(Boolean).join(", ");return{...R,userName:(V==null?void 0:V.name)||"Unknown User",examTitle:(M==null?void 0:M.title)||"Unknown Exam",className:F||"Unknown Class"}});n(N)}catch(A){console.error("Lỗi khi tải kết quả:",A),o("Không thể tải dữ liệu kết quả. Vui lòng kiểm tra kết nối mạng và thử lại.")}finally{i(!1)}},[]);le.useEffect(()=>{x()},[x]);const _=le.useMemo(()=>[...e].sort((A,L)=>{const D=A[l],O=L[l];return D===null?1:O===null?-1:D<O?c==="asc"?-1:1:D>O?c==="asc"?1:-1:0}),[e,l,c]),w=Math.ceil(_.length/Q1),C=le.useMemo(()=>{const A=(g-1)*Q1;return _.slice(A,A+Q1)},[_,g]),I=A=>{A===l?d(L=>L==="asc"?"desc":"asc"):(f(A),d("asc")),p(1)},P=({sortKey:A,label:L})=>b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>I(A),children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("span",{children:L}),l===A&&b.jsx("span",{className:"ml-1",children:c==="asc"?"▲":"▼"})]})});return b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Kết quả thi"}),b.jsx("button",{className:"bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 font-semibold py-2 px-4 rounded-lg text-sm",children:"Xuất CSV"})]}),r?b.jsxs("div",{className:"flex justify-center items-center h-64",children:[b.jsx($t,{}),b.jsx("p",{className:"ml-4 text-gray-600",children:"Đang tải kết quả..."})]}):s?b.jsx("div",{className:"text-center bg-rose-50 border border-rose-200 text-rose-800 p-4 rounded-lg",children:s}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 hidden md:block",children:b.jsxs("table",{className:"min-w-full bg-white",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx(P,{sortKey:"userName",label:"Học viên"}),b.jsx(P,{sortKey:"examTitle",label:"Bài thi"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lớp"}),b.jsx(P,{sortKey:"score",label:"Điểm"}),b.jsx(P,{sortKey:"completed_at",label:"Ngày hoàn thành"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hành động"})]})}),b.jsx("tbody",{className:"divide-y divide-gray-200",children:C.map(A=>b.jsxs("tr",{className:"hover:bg-gray-50",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:b.jsxs("div",{className:"flex items-center",children:[A.userName,A.reviewRequested&&b.jsx("span",{title:"Yêu cầu xem lại",children:b.jsx(S0,{className:"h-5 w-5 text-amber-500 ml-2"})})]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:A.examTitle}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:A.className}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 font-semibold",children:A.score!==null?`${(A.score*100).toFixed(1)}%`:"N/A"}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:A.completed_at?new Date(A.completed_at).toLocaleString():"Đang làm bài"}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:b.jsxs("button",{onClick:()=>t(A.id),className:"text-indigo-600 hover:text-indigo-800 flex items-center",title:"Xem nhật ký giám sát",children:[b.jsx(WS,{}),b.jsx("span",{className:"ml-1",children:"Xem nhật ký"})]})})]},A.id))})]})}),b.jsx("div",{className:"space-y-3 md:hidden",children:C.map(A=>b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-200 space-y-3",children:[b.jsxs("div",{className:"flex justify-between items-start gap-2",children:[b.jsxs("div",{className:"flex-1",children:[b.jsxs("p",{className:"font-bold text-gray-900 flex items-center",children:[b.jsx("span",{children:A.userName}),A.reviewRequested&&b.jsx("span",{title:"Yêu cầu xem lại",children:b.jsx(S0,{className:"h-5 w-5 text-amber-500 ml-2 flex-shrink-0"})})]}),b.jsx("p",{className:"text-sm text-gray-500",children:A.examTitle})]}),b.jsx("span",{className:`flex-shrink-0 font-semibold text-lg px-3 py-1 rounded-full ${A.score===null?"bg-gray-100 text-gray-800":A.score<.7?"bg-rose-100 text-rose-800":"bg-emerald-100 text-emerald-800"}`,children:A.score!==null?`${(A.score*100).toFixed(1)}%`:"N/A"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-sm pt-3 border-t",children:[b.jsx("span",{className:"text-gray-500",children:"Lớp:"}),b.jsx("span",{className:"text-gray-800 font-medium",children:A.className}),b.jsx("span",{className:"text-gray-500",children:"Hoàn thành:"}),b.jsx("span",{className:"text-gray-800 font-medium",children:A.completed_at?new Date(A.completed_at).toLocaleString():"Đang làm bài"})]}),b.jsxs("button",{onClick:()=>t(A.id),className:"w-full text-center mt-2 bg-gray-50 hover:bg-gray-100 text-indigo-600 flex items-center justify-center py-2 rounded-md text-sm font-semibold",title:"Xem nhật ký giám sát",children:[b.jsx(WS,{}),b.jsx("span",{className:"ml-2",children:"Xem nhật ký giám sát"})]})]},A.id))}),b.jsx(hc,{currentPage:g,totalPages:w,onPageChange:p})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let qj,Hj;function zj(){return{geminiUrl:qj,vertexUrl:Hj}}function Gj(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const o=zj();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(s=o.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ku{}function et(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function E(t,e,n){for(let s=0;s<e.length-1;s++){const o=e[s];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[l])){const f=t[l];if(Array.isArray(n))for(let c=0;c<f.length;c++){const d=f[c];E(d,e.slice(s+1),n[c])}else for(const c of f)E(c,e.slice(s+1),n)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in t||(t[l]=[{}]);const f=t[l];E(f[0],e.slice(s+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function y(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const o=t[s];return Array.isArray(o)?o.map(l=>y(l,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function jj(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),s=r.split("."),o=new Set;let l=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){l=f;break}if(l!==-1&&s.length>l)for(let f=l;f<s.length;f++){const c=s[f];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&o.add(c)}Ey(t,i,s,0,o)}}function Ey(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const o=s.slice(0,-2),l=t;if(o in l&&Array.isArray(l[o]))for(const f of l[o])Ey(f,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,l=Object.keys(o).filter(c=>!c.startsWith("_")&&!i.has(c)),f={};for(const c of l)f[c]=o[c];for(const[c,d]of Object.entries(f)){const g=[];for(const p of n.slice(r))p==="*"?g.push(c):g.push(p);E(o,g,d)}for(const c of l)delete o[c]}}else{const o=t;s in o&&Ey(o[s],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o_(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $j(t){const e={},n=y(t,["operationName"]);n!=null&&E(e,["operationName"],n);const r=y(t,["resourceName"]);return r!=null&&E(e,["_url","resourceName"],r),e}function Wj(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=y(t,["done"]);i!=null&&E(e,["done"],i);const s=y(t,["error"]);s!=null&&E(e,["error"],s);const o=y(t,["response","generateVideoResponse"]);return o!=null&&E(e,["response"],Yj(o)),e}function Kj(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=y(t,["done"]);i!=null&&E(e,["done"],i);const s=y(t,["error"]);s!=null&&E(e,["error"],s);const o=y(t,["response"]);return o!=null&&E(e,["response"],Xj(o)),e}function Yj(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Jj(o))),E(e,["generatedVideos"],s)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function Xj(t){const e={},n=y(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Qj(o))),E(e,["generatedVideos"],s)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function Jj(t){const e={},n=y(t,["video"]);return n!=null&&E(e,["video"],t$(n)),e}function Qj(t){const e={},n=y(t,["_self"]);return n!=null&&E(e,["video"],n$(n)),e}function Zj(t){const e={},n=y(t,["operationName"]);return n!=null&&E(e,["_url","operationName"],n),e}function e$(t){const e={},n=y(t,["operationName"]);return n!=null&&E(e,["_url","operationName"],n),e}function t$(t){const e={},n=y(t,["uri"]);n!=null&&E(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&E(e,["videoBytes"],o_(r));const i=y(t,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function n$(t){const e={},n=y(t,["gcsUri"]);n!=null&&E(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&E(e,["videoBytes"],o_(r));const i=y(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var YS;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(YS||(YS={}));var XS;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(XS||(XS={}));var JS;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(JS||(JS={}));var xo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(xo||(xo={}));var QS;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(QS||(QS={}));var ZS;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(ZS||(ZS={}));var eA;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(eA||(eA={}));var tA;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(tA||(tA={}));var nA;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(nA||(nA={}));var rA;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(rA||(rA={}));var iA;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(iA||(iA={}));var sA;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(sA||(sA={}));var aA;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(aA||(aA={}));var oA;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(oA||(oA={}));var uA;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(uA||(uA={}));var lA;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(lA||(lA={}));var Np;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Np||(Np={}));var cA;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(cA||(cA={}));var by;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(by||(by={}));var fA;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(fA||(fA={}));var hA;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(hA||(hA={}));var dA;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(dA||(dA={}));var pA;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(pA||(pA={}));var mA;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(mA||(mA={}));var gA;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(gA||(gA={}));var xA;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(xA||(xA={}));var yA;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(yA||(yA={}));var vA;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(vA||(vA={}));var _A;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(_A||(_A={}));var TA;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(TA||(TA={}));var EA;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(EA||(EA={}));var bA;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(bA||(bA={}));var wA;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(wA||(wA={}));var SA;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(SA||(SA={}));var AA;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(AA||(AA={}));var CA;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(CA||(CA={}));var IA;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(IA||(IA={}));var kA;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(kA||(kA={}));var RA;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(RA||(RA={}));var NA;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(NA||(NA={}));var DA;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(DA||(DA={}));var MA;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(MA||(MA={}));var PA;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(PA||(PA={}));var LA;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(LA||(LA={}));var OA;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(OA||(OA={}));var FA;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(FA||(FA={}));var UA;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(UA||(UA={}));var VA;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(VA||(VA={}));var jl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(jl||(jl={}));class wy{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Cf{get text(){var e,n,r,i,s,o,l,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",d=!1;const g=[];for(const p of(f=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&f!==void 0?f:[]){for(const[x,_]of Object.entries(p))x!=="text"&&x!=="thought"&&(_!==null||_!==void 0)&&g.push(x);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;d=!0,c+=p.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,n,r,i,s,o,l,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const d=[];for(const g of(f=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&f!==void 0?f:[]){for(const[p,x]of Object.entries(g))p!=="inlineData"&&(x!==null||x!==void 0)&&d.push(p);g.inlineData&&typeof g.inlineData.data=="string"&&(c+=atob(g.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,s,o,l,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(f=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||f===void 0?void 0:f.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,i,s,o,l,f,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(f=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||f===void 0?void 0:f.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,s,o,l,f,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(f=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||f===void 0?void 0:f.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.output}}class BA{}class qA{}class r${}class i${}class s${}class a${}class HA{}class zA{}class GA{}class o${}class Dp{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new Dp;let i;const s=e;return n?i=Kj(s):i=Wj(s),Object.assign(r,i),r}}class jA{}class $A{}class WA{}class u${}class l${}class c${}class KA{}class f${get text(){var e,n,r;let i="",s=!1;const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,c]of Object.entries(l))f!=="text"&&f!=="thought"&&c!==null&&o.push(f);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;s=!0,i+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,f]of Object.entries(o))l!=="inlineData"&&f!==null&&s.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class h${get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ht(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function zk(t,e){const n=Ht(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Gk(t){return Array.isArray(t)?t.map(e=>Mp(e)):[Mp(t)]}function Mp(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function jk(t){const e=Mp(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function $k(t){const e=Mp(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function YA(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Wk(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>YA(e)):[YA(t)]}function Sy(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function XA(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function JA(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function wr(t){if(t==null)throw new Error("ContentUnion is required");return Sy(t)?t:{role:"user",parts:Wk(t)}}function u_(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=wr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=wr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>wr(n)):[wr(e)]}function Ni(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(XA(t)||JA(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[wr(t)]}const e=[],n=[],r=Sy(t[0]);for(const i of t){const s=Sy(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(XA(i)||JA(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:Wk(n)}),e}function d$(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(xo).includes(n[0].toUpperCase())?n[0].toUpperCase():xo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(xo).includes(r.toUpperCase())?r.toUpperCase():xo.TYPE_UNSPECIFIED})}}function tc(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&d$(t.type,e);for(const[o,l]of Object.entries(t))if(l!=null)if(o=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(xo).includes(l.toUpperCase())?l.toUpperCase():xo.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=tc(l);else if(r.includes(o)){const f=[];for(const c of l){if(c.type=="null"){e.nullable=!0;continue}f.push(tc(c))}e[o]=f}else if(i.includes(o)){const f={};for(const[c,d]of Object.entries(l))f[c]=tc(d);e[o]=f}else{if(o==="additionalProperties")continue;e[o]=l}return e}function l_(t){return tc(t)}function c_(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function f_(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Cc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=tc(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=tc(e.response));return t}function Ic(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function p$(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Aa(t,e){if(typeof e!="string")throw new Error("name must be a string");return p$(t,e,"cachedContents")}function Kk(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function zo(t){return o_(t)}function m$(t){return t!=null&&typeof t=="object"&&"name"in t}function g$(t){return t!=null&&typeof t=="object"&&"video"in t}function x$(t){return t!=null&&typeof t=="object"&&"uri"in t}function Yk(t){var e;let n;if(m$(t)&&(n=t.name),!(x$(t)&&(n=t.uri,n===void 0))&&!(g$(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Xk(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Jk(t){for(const e of["models","tunedModels","publisherModels"])if(y$(t,e))return t[e];return[]}function y$(t,e){return t!==null&&typeof t=="object"&&e in t}function v$(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function _$(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const o=v$(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function Qk(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function T$(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Zk(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const f=o.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function kc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function eR(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function E$(t){const e={},n=y(t,["responsesFile"]);n!=null&&E(e,["fileName"],n);const r=y(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Z$(o))),E(e,["inlinedResponses"],s)}const i=y(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),E(e,["inlinedEmbedContentResponses"],s)}return e}function b$(t){const e={},n=y(t,["predictionsFormat"]);n!=null&&E(e,["format"],n);const r=y(t,["gcsDestination","outputUriPrefix"]);r!=null&&E(e,["gcsUri"],r);const i=y(t,["bigqueryDestination","outputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function w$(t){const e={},n=y(t,["format"]);n!=null&&E(e,["predictionsFormat"],n);const r=y(t,["gcsUri"]);r!=null&&E(e,["gcsDestination","outputUriPrefix"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&E(e,["bigqueryDestination","outputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Xd(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["metadata","displayName"]);r!=null&&E(e,["displayName"],r);const i=y(t,["metadata","state"]);i!=null&&E(e,["state"],eR(i));const s=y(t,["metadata","createTime"]);s!=null&&E(e,["createTime"],s);const o=y(t,["metadata","endTime"]);o!=null&&E(e,["endTime"],o);const l=y(t,["metadata","updateTime"]);l!=null&&E(e,["updateTime"],l);const f=y(t,["metadata","model"]);f!=null&&E(e,["model"],f);const c=y(t,["metadata","output"]);return c!=null&&E(e,["dest"],E$(Zk(c))),e}function Ay(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=y(t,["state"]);i!=null&&E(e,["state"],eR(i));const s=y(t,["error"]);s!=null&&E(e,["error"],s);const o=y(t,["createTime"]);o!=null&&E(e,["createTime"],o);const l=y(t,["startTime"]);l!=null&&E(e,["startTime"],l);const f=y(t,["endTime"]);f!=null&&E(e,["endTime"],f);const c=y(t,["updateTime"]);c!=null&&E(e,["updateTime"],c);const d=y(t,["model"]);d!=null&&E(e,["model"],d);const g=y(t,["inputConfig"]);g!=null&&E(e,["src"],S$(g));const p=y(t,["outputConfig"]);return p!=null&&E(e,["dest"],b$(Zk(p))),e}function S$(t){const e={},n=y(t,["instancesFormat"]);n!=null&&E(e,["format"],n);const r=y(t,["gcsSource","uris"]);r!=null&&E(e,["gcsUri"],r);const i=y(t,["bigquerySource","inputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function A$(t,e){const n={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(e,["fileName"]);r!=null&&E(n,["fileName"],r);const i=y(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Q$(t,o))),E(n,["requests","requests"],s)}return n}function C$(t){const e={},n=y(t,["format"]);n!=null&&E(e,["instancesFormat"],n);const r=y(t,["gcsUri"]);r!=null&&E(e,["gcsSource","uris"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&E(e,["bigquerySource","inputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function I$(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["data"]);n!=null&&E(e,["data"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function k$(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],kc(t,r)),n}function R$(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],kc(t,r)),n}function N$(t){const e={},n=y(t,["content"]);n!=null&&E(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],D$(r));const i=y(t,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=y(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const o=y(t,["urlContextMetadata"]);o!=null&&E(e,["urlContextMetadata"],o);const l=y(t,["avgLogprobs"]);l!=null&&E(e,["avgLogprobs"],l);const f=y(t,["groundingMetadata"]);f!=null&&E(e,["groundingMetadata"],f);const c=y(t,["index"]);c!=null&&E(e,["index"],c);const d=y(t,["logprobsResult"]);d!=null&&E(e,["logprobsResult"],d);const g=y(t,["safetyRatings"]);if(g!=null){let p=g;Array.isArray(p)&&(p=p.map(x=>x)),E(e,["safetyRatings"],p)}return e}function D$(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),E(e,["citations"],r)}return e}function tR(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>aW(s))),E(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&E(e,["role"],r),e}function M$(t,e){const n={},r=y(t,["displayName"]);if(e!==void 0&&r!=null&&E(e,["batch","displayName"],r),y(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function P$(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=y(t,["dest"]);return e!==void 0&&i!=null&&E(e,["outputConfig"],w$(T$(i))),n}function QA(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["src"]);i!=null&&E(n,["batch","inputConfig"],A$(t,Qk(t,i)));const s=y(e,["config"]);return s!=null&&M$(s,n),n}function L$(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["model"],Ht(t,r));const i=y(e,["src"]);i!=null&&E(n,["inputConfig"],C$(Qk(t,i)));const s=y(e,["config"]);return s!=null&&P$(s,n),n}function O$(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&E(e,["batch","displayName"],r),n}function F$(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["src"]);i!=null&&E(n,["batch","inputConfig"],G$(t,i));const s=y(e,["config"]);return s!=null&&O$(s,n),n}function U$(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],kc(t,r)),n}function V$(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],kc(t,r)),n}function B$(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&E(e,["name"],r);const i=y(t,["done"]);i!=null&&E(e,["done"],i);const s=y(t,["error"]);return s!=null&&E(e,["error"],s),e}function q$(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&E(e,["name"],r);const i=y(t,["done"]);i!=null&&E(e,["done"],i);const s=y(t,["error"]);return s!=null&&E(e,["error"],s),e}function H$(t,e){const n={},r=y(e,["contents"]);if(r!=null){let s=u_(t,r);Array.isArray(s)&&(s=s.map(o=>o)),E(n,["requests[]","request","content"],s)}const i=y(e,["config"]);return i!=null&&(E(n,["_self"],z$(i,n)),jj(n,{"requests[].*":"requests[].request.*"})),n}function z$(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&E(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=y(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function G$(t,e){const n={},r=y(e,["fileName"]);r!=null&&E(n,["file_name"],r);const i=y(e,["inlinedRequests"]);return i!=null&&E(n,["requests"],H$(t,i)),n}function j$(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function $$(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],tR(wr(i)));const s=y(e,["temperature"]);s!=null&&E(r,["temperature"],s);const o=y(e,["topP"]);o!=null&&E(r,["topP"],o);const l=y(e,["topK"]);l!=null&&E(r,["topK"],l);const f=y(e,["candidateCount"]);f!=null&&E(r,["candidateCount"],f);const c=y(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const d=y(e,["stopSequences"]);d!=null&&E(r,["stopSequences"],d);const g=y(e,["responseLogprobs"]);g!=null&&E(r,["responseLogprobs"],g);const p=y(e,["logprobs"]);p!=null&&E(r,["logprobs"],p);const x=y(e,["presencePenalty"]);x!=null&&E(r,["presencePenalty"],x);const _=y(e,["frequencyPenalty"]);_!=null&&E(r,["frequencyPenalty"],_);const w=y(e,["seed"]);w!=null&&E(r,["seed"],w);const C=y(e,["responseMimeType"]);C!=null&&E(r,["responseMimeType"],C);const I=y(e,["responseSchema"]);I!=null&&E(r,["responseSchema"],l_(I));const P=y(e,["responseJsonSchema"]);if(P!=null&&E(r,["responseJsonSchema"],P),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=y(e,["safetySettings"]);if(n!==void 0&&A!=null){let F=A;Array.isArray(F)&&(F=F.map(q=>oW(q))),E(n,["safetySettings"],F)}const L=y(e,["tools"]);if(n!==void 0&&L!=null){let F=Ic(L);Array.isArray(F)&&(F=F.map(q=>uW(Cc(q)))),E(n,["tools"],F)}const D=y(e,["toolConfig"]);if(n!==void 0&&D!=null&&E(n,["toolConfig"],D),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=y(e,["cachedContent"]);n!==void 0&&O!=null&&E(n,["cachedContent"],Aa(t,O));const k=y(e,["responseModalities"]);k!=null&&E(r,["responseModalities"],k);const N=y(e,["mediaResolution"]);N!=null&&E(r,["mediaResolution"],N);const R=y(e,["speechConfig"]);if(R!=null&&E(r,["speechConfig"],c_(R)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=y(e,["thinkingConfig"]);V!=null&&E(r,["thinkingConfig"],V);const M=y(e,["imageConfig"]);return M!=null&&E(r,["imageConfig"],M),r}function W$(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(c=>N$(c))),E(e,["candidates"],f)}const i=y(t,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=y(t,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const o=y(t,["responseId"]);o!=null&&E(e,["responseId"],o);const l=y(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function K$(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],kc(t,r)),n}function Y$(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],kc(t,r)),n}function X$(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&E(e,["enableWidget"],n),e}function J$(t){const e={},n=y(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],n),y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Q$(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["request","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let l=Ni(i);Array.isArray(l)&&(l=l.map(f=>tR(f))),E(n,["request","contents"],l)}const s=y(e,["metadata"]);s!=null&&E(n,["metadata"],s);const o=y(e,["config"]);return o!=null&&E(n,["request","generationConfig"],$$(t,o,y(n,["request"],{}))),n}function Z$(t){const e={},n=y(t,["response"]);n!=null&&E(e,["response"],W$(n));const r=y(t,["error"]);return r!=null&&E(e,["error"],r),e}function eW(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);if(e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),y(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function tW(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=y(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function nW(t){const e={},n=y(t,["config"]);return n!=null&&eW(n,e),e}function rW(t){const e={},n=y(t,["config"]);return n!=null&&tW(n,e),e}function iW(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Xd(o))),E(e,["batchJobs"],s)}return e}function sW(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Ay(o))),E(e,["batchJobs"],s)}return e}function aW(t){const e={},n=y(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],n);const r=y(t,["thought"]);r!=null&&E(e,["thought"],r);const i=y(t,["inlineData"]);i!=null&&E(e,["inlineData"],I$(i));const s=y(t,["fileData"]);s!=null&&E(e,["fileData"],j$(s));const o=y(t,["thoughtSignature"]);o!=null&&E(e,["thoughtSignature"],o);const l=y(t,["functionCall"]);l!=null&&E(e,["functionCall"],l);const f=y(t,["codeExecutionResult"]);f!=null&&E(e,["codeExecutionResult"],f);const c=y(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const d=y(t,["functionResponse"]);d!=null&&E(e,["functionResponse"],d);const g=y(t,["text"]);return g!=null&&E(e,["text"],g),e}function oW(t){const e={};if(y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=y(t,["category"]);n!=null&&E(e,["category"],n);const r=y(t,["threshold"]);return r!=null&&E(e,["threshold"],r),e}function uW(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),E(e,["functionDeclarations"],c)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],J$(r));const i=y(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(t,["googleMaps"]);s!=null&&E(e,["googleMaps"],X$(s));const o=y(t,["urlContext"]);o!=null&&E(e,["urlContext"],o);const l=y(t,["computerUse"]);l!=null&&E(e,["computerUse"],l);const f=y(t,["codeExecution"]);return f!=null&&E(e,["codeExecution"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Pu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Pu||(Pu={}));class $0{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lW extends Ku{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new $0(Pu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=QA(this.apiClient,e),r=n._url,i=et("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,f=l.requests,c=[];for(const d of f){const g=Object.assign({},d);if(g.systemInstruction){const p=g.systemInstruction;delete g.systemInstruction;const x=g.request;x.systemInstruction=p,g.request=x}c.push(g)}return l.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),o=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=L$(this.apiClient,e);return l=et("batchPredictionJobs",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Ay(d))}else{const c=QA(this.apiClient,e);return l=et("{model}:batchGenerateContent",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>Xd(d))}}async createEmbeddingsInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=F$(this.apiClient,e);return s=et("{model}:asyncBatchEmbedContent",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>Xd(f))}}async get(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=Y$(this.apiClient,e);return l=et("batchPredictionJobs/{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Ay(d))}else{const c=K$(this.apiClient,e);return l=et("batches/{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>Xd(d))}}async cancel(e){var n,r,i,s;let o="",l={};if(this.apiClient.isVertexAI()){const f=R$(this.apiClient,e);o=et("batchPredictionJobs/{name}:cancel",f._url),l=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=k$(this.apiClient,e);o=et("batches/{name}:cancel",f._url),l=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=rW(e);return l=et("batchPredictionJobs",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=sW(d),p=new KA;return Object.assign(p,g),p})}else{const c=nW(e);return l=et("batches",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=iW(d),p=new KA;return Object.assign(p,g),p})}}async delete(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=V$(this.apiClient,e);return l=et("batchPredictionJobs/{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>q$(d))}else{const c=U$(this.apiClient,e);return l=et("batches/{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>B$(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cW(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["data"]);n!=null&&E(e,["data"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function ZA(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>NW(s))),E(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&E(e,["role"],r),e}function fW(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=y(t,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const o=y(t,["contents"]);if(e!==void 0&&o!=null){let d=Ni(o);Array.isArray(d)&&(d=d.map(g=>ZA(g))),E(e,["contents"],d)}const l=y(t,["systemInstruction"]);e!==void 0&&l!=null&&E(e,["systemInstruction"],ZA(wr(l)));const f=y(t,["tools"]);if(e!==void 0&&f!=null){let d=f;Array.isArray(d)&&(d=d.map(g=>DW(g))),E(e,["tools"],d)}const c=y(t,["toolConfig"]);if(e!==void 0&&c!=null&&E(e,["toolConfig"],c),y(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function hW(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=y(t,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const o=y(t,["contents"]);if(e!==void 0&&o!=null){let g=Ni(o);Array.isArray(g)&&(g=g.map(p=>p)),E(e,["contents"],g)}const l=y(t,["systemInstruction"]);e!==void 0&&l!=null&&E(e,["systemInstruction"],wr(l));const f=y(t,["tools"]);if(e!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(p=>MW(p))),E(e,["tools"],g)}const c=y(t,["toolConfig"]);e!==void 0&&c!=null&&E(e,["toolConfig"],c);const d=y(t,["kmsKeyName"]);return e!==void 0&&d!=null&&E(e,["encryption_spec","kmsKeyName"],d),n}function dW(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["model"],zk(t,r));const i=y(e,["config"]);return i!=null&&fW(i,n),n}function pW(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["model"],zk(t,r));const i=y(e,["config"]);return i!=null&&hW(i,n),n}function mW(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Aa(t,r)),n}function gW(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Aa(t,r)),n}function xW(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function yW(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function vW(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function _W(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&E(e,["description"],n);const r=y(t,["name"]);r!=null&&E(e,["name"],r);const i=y(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=y(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const o=y(t,["response"]);o!=null&&E(e,["response"],o);const l=y(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function TW(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Aa(t,r)),n}function EW(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Aa(t,r)),n}function bW(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&E(e,["enableWidget"],n),e}function wW(t){const e={},n=y(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],n),y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function SW(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function AW(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function CW(t){const e={},n=y(t,["config"]);return n!=null&&SW(n,e),e}function IW(t){const e={},n=y(t,["config"]);return n!=null&&AW(n,e),e}function kW(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),E(e,["cachedContents"],s)}return e}function RW(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),E(e,["cachedContents"],s)}return e}function NW(t){const e={},n=y(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],n);const r=y(t,["thought"]);r!=null&&E(e,["thought"],r);const i=y(t,["inlineData"]);i!=null&&E(e,["inlineData"],cW(i));const s=y(t,["fileData"]);s!=null&&E(e,["fileData"],vW(s));const o=y(t,["thoughtSignature"]);o!=null&&E(e,["thoughtSignature"],o);const l=y(t,["functionCall"]);l!=null&&E(e,["functionCall"],l);const f=y(t,["codeExecutionResult"]);f!=null&&E(e,["codeExecutionResult"],f);const c=y(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const d=y(t,["functionResponse"]);d!=null&&E(e,["functionResponse"],d);const g=y(t,["text"]);return g!=null&&E(e,["text"],g),e}function DW(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),E(e,["functionDeclarations"],c)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],wW(r));const i=y(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(t,["googleMaps"]);s!=null&&E(e,["googleMaps"],bW(s));const o=y(t,["urlContext"]);o!=null&&E(e,["urlContext"],o);const l=y(t,["computerUse"]);l!=null&&E(e,["computerUse"],l);const f=y(t,["codeExecution"]);return f!=null&&E(e,["codeExecution"],f),e}function MW(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(p=>_W(p))),E(e,["functionDeclarations"],g)}const r=y(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=y(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],i);const s=y(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],s);const o=y(t,["enterpriseWebSearch"]);o!=null&&E(e,["enterpriseWebSearch"],o);const l=y(t,["googleMaps"]);l!=null&&E(e,["googleMaps"],l);const f=y(t,["urlContext"]);f!=null&&E(e,["urlContext"],f);const c=y(t,["computerUse"]);c!=null&&E(e,["computerUse"],c);const d=y(t,["codeExecution"]);return d!=null&&E(e,["codeExecution"],d),e}function PW(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),n}function LW(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),n}function OW(t,e){const n={},r=y(e,["name"]);r!=null&&E(n,["_url","name"],Aa(t,r));const i=y(e,["config"]);return i!=null&&PW(i,n),n}function FW(t,e){const n={},r=y(e,["name"]);r!=null&&E(n,["_url","name"],Aa(t,r));const i=y(e,["config"]);return i!=null&&LW(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UW extends Ku{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $0(Pu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=pW(this.apiClient,e);return l=et("cachedContents",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const c=dW(this.apiClient,e);return l=et("cachedContents",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async get(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=EW(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const c=TW(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=gW(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=yW(d),p=new $A;return Object.assign(p,g),p})}else{const c=mW(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=xW(d),p=new $A;return Object.assign(p,g),p})}}async update(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=FW(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const c=OW(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async listInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=IW(e);return l=et("cachedContents",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=RW(d),p=new WA;return Object.assign(p,g),p})}else{const c=CW(e);return l=et("cachedContents",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=kW(d),p=new WA;return Object.assign(p,g),p})}}}function e3(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gn(t){return this instanceof gn?(this.v=t,this):new gn(t)}function nc(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(x){return function(_){return Promise.resolve(_).then(x,g)}}function l(x,_){r[x]&&(i[x]=function(w){return new Promise(function(C,I){s.push([x,w,C,I])>1||f(x,w)})},_&&(i[x]=_(i[x])))}function f(x,_){try{c(r[x](_))}catch(w){p(s[0][3],w)}}function c(x){x.value instanceof gn?Promise.resolve(x.value.v).then(d,g):p(s[0][2],x)}function d(x){f("next",x)}function g(x){f("throw",x)}function p(x,_){x(_),s.shift(),s.length&&f(s[0][0],s[0][1])}}function n0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof e3=="function"?e3(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(l,f){o=t[s](o),i(l,f,o.done,o.value)})}}function i(s,o,l,f){Promise.resolve(f).then(function(c){s({value:c,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VW(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:nR(n)}function nR(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function BW(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function t3(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!nR(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class qW{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new HW(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class HW{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),BW(s)}async sendMessage(e){var n;await this.sendPromise;const r=wr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,o,l;const f=await i,c=(o=(s=f.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,d=f.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let p=[];d!=null&&(p=(l=d.slice(g))!==null&&l!==void 0?l:[]);const x=c?[c]:[];this.recordHistory(r,x,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=wr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?t3(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return nc(this,arguments,function*(){var o,l,f,c;const d=[];try{for(var g=!0,p=n0(e),x;x=yield gn(p.next()),o=x.done,!o;g=!0){c=x.value,g=!1;const _=c;if(VW(_)){const w=(i=(r=_.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;w!==void 0&&d.push(w)}yield yield gn(_)}}catch(_){l={error:_}}finally{try{!g&&!o&&(f=p.return)&&(yield gn(f.call(p)))}finally{if(l)throw l.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...t3(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vm extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,vm.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zW(t){const e={},n=y(t,["file"]);return n!=null&&E(e,["file"],n),e}function GW(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function jW(t){const e={},n=y(t,["name"]);return n!=null&&E(e,["_url","file"],Yk(n)),e}function $W(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function WW(t){const e={},n=y(t,["name"]);return n!=null&&E(e,["_url","file"],Yk(n)),e}function KW(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function YW(t){const e={},n=y(t,["config"]);return n!=null&&KW(n,e),e}function XW(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),E(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JW extends Ku{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $0(Pu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=YW(e);return s=et("files",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>{const c=XW(f),d=new u$;return Object.assign(d,c),d})}}async createInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=zW(e);return s=et("upload/v1beta/files",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const c=GW(f),d=new l$;return Object.assign(d,c),d})}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=WW(e);return s=et("files/{file}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=jW(e);return s=et("files/{file}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>{const c=$W(f),d=new c$;return Object.assign(d,c),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jd(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["data"]);n!=null&&E(e,["data"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function QW(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>dK(s))),E(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&E(e,["role"],r),e}function ZW(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function eK(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&E(e,["description"],n);const r=y(t,["name"]);r!=null&&E(e,["name"],r);const i=y(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=y(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const o=y(t,["response"]);o!=null&&E(e,["response"],o);const l=y(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function tK(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&E(e,["modelConfig"],n);const r=y(t,["audioTimestamp"]);r!=null&&E(e,["audioTimestamp"],r);const i=y(t,["candidateCount"]);i!=null&&E(e,["candidateCount"],i);const s=y(t,["enableAffectiveDialog"]);s!=null&&E(e,["enableAffectiveDialog"],s);const o=y(t,["frequencyPenalty"]);o!=null&&E(e,["frequencyPenalty"],o);const l=y(t,["logprobs"]);l!=null&&E(e,["logprobs"],l);const f=y(t,["maxOutputTokens"]);f!=null&&E(e,["maxOutputTokens"],f);const c=y(t,["mediaResolution"]);c!=null&&E(e,["mediaResolution"],c);const d=y(t,["presencePenalty"]);d!=null&&E(e,["presencePenalty"],d);const g=y(t,["responseJsonSchema"]);g!=null&&E(e,["responseJsonSchema"],g);const p=y(t,["responseLogprobs"]);p!=null&&E(e,["responseLogprobs"],p);const x=y(t,["responseMimeType"]);x!=null&&E(e,["responseMimeType"],x);const _=y(t,["responseModalities"]);_!=null&&E(e,["responseModalities"],_);const w=y(t,["responseSchema"]);w!=null&&E(e,["responseSchema"],w);const C=y(t,["routingConfig"]);C!=null&&E(e,["routingConfig"],C);const I=y(t,["seed"]);I!=null&&E(e,["seed"],I);const P=y(t,["speechConfig"]);P!=null&&E(e,["speechConfig"],rR(P));const A=y(t,["stopSequences"]);A!=null&&E(e,["stopSequences"],A);const L=y(t,["temperature"]);L!=null&&E(e,["temperature"],L);const D=y(t,["thinkingConfig"]);D!=null&&E(e,["thinkingConfig"],D);const O=y(t,["topK"]);O!=null&&E(e,["topK"],O);const k=y(t,["topP"]);if(k!=null&&E(e,["topP"],k),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function nK(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&E(e,["enableWidget"],n),e}function rK(t){const e={},n=y(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],n),y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function iK(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=y(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const o=y(t,["topP"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topP"],o);const l=y(t,["topK"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","topK"],l);const f=y(t,["maxOutputTokens"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","maxOutputTokens"],f);const c=y(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const d=y(t,["seed"]);e!==void 0&&d!=null&&E(e,["setup","generationConfig","seed"],d);const g=y(t,["speechConfig"]);e!==void 0&&g!=null&&E(e,["setup","generationConfig","speechConfig"],f_(g));const p=y(t,["thinkingConfig"]);e!==void 0&&p!=null&&E(e,["setup","generationConfig","thinkingConfig"],p);const x=y(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],x);const _=y(t,["systemInstruction"]);e!==void 0&&_!=null&&E(e,["setup","systemInstruction"],QW(wr(_)));const w=y(t,["tools"]);if(e!==void 0&&w!=null){let O=Ic(w);Array.isArray(O)&&(O=O.map(k=>mK(Cc(k)))),E(e,["setup","tools"],O)}const C=y(t,["sessionResumption"]);e!==void 0&&C!=null&&E(e,["setup","sessionResumption"],pK(C));const I=y(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&E(e,["setup","inputAudioTranscription"],I);const P=y(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&E(e,["setup","outputAudioTranscription"],P);const A=y(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&E(e,["setup","realtimeInputConfig"],A);const L=y(t,["contextWindowCompression"]);e!==void 0&&L!=null&&E(e,["setup","contextWindowCompression"],L);const D=y(t,["proactivity"]);return e!==void 0&&D!=null&&E(e,["setup","proactivity"],D),n}function sK(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],tK(r));const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=y(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const o=y(t,["topP"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topP"],o);const l=y(t,["topK"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","topK"],l);const f=y(t,["maxOutputTokens"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","maxOutputTokens"],f);const c=y(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const d=y(t,["seed"]);e!==void 0&&d!=null&&E(e,["setup","generationConfig","seed"],d);const g=y(t,["speechConfig"]);e!==void 0&&g!=null&&E(e,["setup","generationConfig","speechConfig"],rR(f_(g)));const p=y(t,["thinkingConfig"]);e!==void 0&&p!=null&&E(e,["setup","generationConfig","thinkingConfig"],p);const x=y(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],x);const _=y(t,["systemInstruction"]);e!==void 0&&_!=null&&E(e,["setup","systemInstruction"],wr(_));const w=y(t,["tools"]);if(e!==void 0&&w!=null){let O=Ic(w);Array.isArray(O)&&(O=O.map(k=>gK(Cc(k)))),E(e,["setup","tools"],O)}const C=y(t,["sessionResumption"]);e!==void 0&&C!=null&&E(e,["setup","sessionResumption"],C);const I=y(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&E(e,["setup","inputAudioTranscription"],I);const P=y(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&E(e,["setup","outputAudioTranscription"],P);const A=y(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&E(e,["setup","realtimeInputConfig"],A);const L=y(t,["contextWindowCompression"]);e!==void 0&&L!=null&&E(e,["setup","contextWindowCompression"],L);const D=y(t,["proactivity"]);return e!==void 0&&D!=null&&E(e,["setup","proactivity"],D),n}function aK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["setup","model"],Ht(t,r));const i=y(e,["config"]);return i!=null&&E(n,["config"],iK(i,n)),n}function oK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["setup","model"],Ht(t,r));const i=y(e,["config"]);return i!=null&&E(n,["config"],sK(i,n)),n}function uK(t){const e={},n=y(t,["musicGenerationConfig"]);return n!=null&&E(e,["musicGenerationConfig"],n),e}function lK(t){const e={},n=y(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),E(e,["weightedPrompts"],r)}return e}function cK(t){const e={},n=y(t,["media"]);if(n!=null){let c=Gk(n);Array.isArray(c)&&(c=c.map(d=>Jd(d))),E(e,["mediaChunks"],c)}const r=y(t,["audio"]);r!=null&&E(e,["audio"],Jd($k(r)));const i=y(t,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=y(t,["video"]);s!=null&&E(e,["video"],Jd(jk(s)));const o=y(t,["text"]);o!=null&&E(e,["text"],o);const l=y(t,["activityStart"]);l!=null&&E(e,["activityStart"],l);const f=y(t,["activityEnd"]);return f!=null&&E(e,["activityEnd"],f),e}function fK(t){const e={},n=y(t,["media"]);if(n!=null){let c=Gk(n);Array.isArray(c)&&(c=c.map(d=>d)),E(e,["mediaChunks"],c)}const r=y(t,["audio"]);r!=null&&E(e,["audio"],$k(r));const i=y(t,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=y(t,["video"]);s!=null&&E(e,["video"],jk(s));const o=y(t,["text"]);o!=null&&E(e,["text"],o);const l=y(t,["activityStart"]);l!=null&&E(e,["activityStart"],l);const f=y(t,["activityEnd"]);return f!=null&&E(e,["activityEnd"],f),e}function hK(t){const e={},n=y(t,["setupComplete"]);n!=null&&E(e,["setupComplete"],n);const r=y(t,["serverContent"]);r!=null&&E(e,["serverContent"],r);const i=y(t,["toolCall"]);i!=null&&E(e,["toolCall"],i);const s=y(t,["toolCallCancellation"]);s!=null&&E(e,["toolCallCancellation"],s);const o=y(t,["usageMetadata"]);o!=null&&E(e,["usageMetadata"],xK(o));const l=y(t,["goAway"]);l!=null&&E(e,["goAway"],l);const f=y(t,["sessionResumptionUpdate"]);return f!=null&&E(e,["sessionResumptionUpdate"],f),e}function dK(t){const e={},n=y(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],n);const r=y(t,["thought"]);r!=null&&E(e,["thought"],r);const i=y(t,["inlineData"]);i!=null&&E(e,["inlineData"],Jd(i));const s=y(t,["fileData"]);s!=null&&E(e,["fileData"],ZW(s));const o=y(t,["thoughtSignature"]);o!=null&&E(e,["thoughtSignature"],o);const l=y(t,["functionCall"]);l!=null&&E(e,["functionCall"],l);const f=y(t,["codeExecutionResult"]);f!=null&&E(e,["codeExecutionResult"],f);const c=y(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const d=y(t,["functionResponse"]);d!=null&&E(e,["functionResponse"],d);const g=y(t,["text"]);return g!=null&&E(e,["text"],g),e}function pK(t){const e={},n=y(t,["handle"]);if(n!=null&&E(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function rR(t){const e={},n=y(t,["voiceConfig"]);if(n!=null&&E(e,["voiceConfig"],n),y(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=y(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function mK(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),E(e,["functionDeclarations"],c)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],rK(r));const i=y(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(t,["googleMaps"]);s!=null&&E(e,["googleMaps"],nK(s));const o=y(t,["urlContext"]);o!=null&&E(e,["urlContext"],o);const l=y(t,["computerUse"]);l!=null&&E(e,["computerUse"],l);const f=y(t,["codeExecution"]);return f!=null&&E(e,["codeExecution"],f),e}function gK(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(p=>eK(p))),E(e,["functionDeclarations"],g)}const r=y(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=y(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],i);const s=y(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],s);const o=y(t,["enterpriseWebSearch"]);o!=null&&E(e,["enterpriseWebSearch"],o);const l=y(t,["googleMaps"]);l!=null&&E(e,["googleMaps"],l);const f=y(t,["urlContext"]);f!=null&&E(e,["urlContext"],f);const c=y(t,["computerUse"]);c!=null&&E(e,["computerUse"],c);const d=y(t,["codeExecution"]);return d!=null&&E(e,["codeExecution"],d),e}function xK(t){const e={},n=y(t,["promptTokenCount"]);n!=null&&E(e,["promptTokenCount"],n);const r=y(t,["cachedContentTokenCount"]);r!=null&&E(e,["cachedContentTokenCount"],r);const i=y(t,["candidatesTokenCount"]);i!=null&&E(e,["responseTokenCount"],i);const s=y(t,["toolUsePromptTokenCount"]);s!=null&&E(e,["toolUsePromptTokenCount"],s);const o=y(t,["thoughtsTokenCount"]);o!=null&&E(e,["thoughtsTokenCount"],o);const l=y(t,["totalTokenCount"]);l!=null&&E(e,["totalTokenCount"],l);const f=y(t,["promptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(_=>_)),E(e,["promptTokensDetails"],x)}const c=y(t,["cacheTokensDetails"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(_=>_)),E(e,["cacheTokensDetails"],x)}const d=y(t,["candidatesTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(_=>_)),E(e,["responseTokensDetails"],x)}const g=y(t,["toolUsePromptTokensDetails"]);if(g!=null){let x=g;Array.isArray(x)&&(x=x.map(_=>_)),E(e,["toolUsePromptTokensDetails"],x)}const p=y(t,["trafficType"]);return p!=null&&E(e,["trafficType"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yK(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["data"]);n!=null&&E(e,["data"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function vK(t){const e={},n=y(t,["content"]);n!=null&&E(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],_K(r));const i=y(t,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=y(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const o=y(t,["urlContextMetadata"]);o!=null&&E(e,["urlContextMetadata"],o);const l=y(t,["avgLogprobs"]);l!=null&&E(e,["avgLogprobs"],l);const f=y(t,["groundingMetadata"]);f!=null&&E(e,["groundingMetadata"],f);const c=y(t,["index"]);c!=null&&E(e,["index"],c);const d=y(t,["logprobsResult"]);d!=null&&E(e,["logprobsResult"],d);const g=y(t,["safetyRatings"]);if(g!=null){let p=g;Array.isArray(p)&&(p=p.map(x=>x)),E(e,["safetyRatings"],p)}return e}function _K(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),E(e,["citations"],r)}return e}function TK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let s=Ni(i);Array.isArray(s)&&(s=s.map(o=>o)),E(n,["contents"],s)}return n}function EK(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),E(e,["tokensInfo"],i)}return e}function bK(t){const e={},n=y(t,["values"]);n!=null&&E(e,["values"],n);const r=y(t,["statistics"]);return r!=null&&E(e,["statistics"],wK(r)),e}function wK(t){const e={},n=y(t,["truncated"]);n!=null&&E(e,["truncated"],n);const r=y(t,["token_count"]);return r!=null&&E(e,["tokenCount"],r),e}function _m(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>kY(s))),E(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&E(e,["role"],r),e}function SK(t){const e={},n=y(t,["controlType"]);n!=null&&E(e,["controlType"],n);const r=y(t,["enableControlImageComputation"]);return r!=null&&E(e,["computeControl"],r),e}function AK(t){const e={};if(y(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function CK(t,e){const n={},r=y(t,["systemInstruction"]);e!==void 0&&r!=null&&E(e,["systemInstruction"],wr(r));const i=y(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>uR(l))),E(e,["tools"],o)}const s=y(t,["generationConfig"]);return e!==void 0&&s!=null&&E(e,["generationConfig"],gY(s)),n}function IK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let o=Ni(i);Array.isArray(o)&&(o=o.map(l=>_m(l))),E(n,["contents"],o)}const s=y(e,["config"]);return s!=null&&AK(s),n}function kK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let o=Ni(i);Array.isArray(o)&&(o=o.map(l=>l)),E(n,["contents"],o)}const s=y(e,["config"]);return s!=null&&CK(s,n),n}function RK(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["totalTokens"]);r!=null&&E(e,["totalTokens"],r);const i=y(t,["cachedContentTokenCount"]);return i!=null&&E(e,["cachedContentTokenCount"],i),e}function NK(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["totalTokens"]);return r!=null&&E(e,["totalTokens"],r),e}function DK(t,e){const n={},r=y(e,["model"]);return r!=null&&E(n,["_url","name"],Ht(t,r)),n}function MK(t,e){const n={},r=y(e,["model"]);return r!=null&&E(n,["_url","name"],Ht(t,r)),n}function PK(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function LK(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function OK(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=y(t,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=y(t,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const o=y(t,["aspectRatio"]);e!==void 0&&o!=null&&E(e,["parameters","aspectRatio"],o);const l=y(t,["guidanceScale"]);e!==void 0&&l!=null&&E(e,["parameters","guidanceScale"],l);const f=y(t,["seed"]);e!==void 0&&f!=null&&E(e,["parameters","seed"],f);const c=y(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const d=y(t,["personGeneration"]);e!==void 0&&d!=null&&E(e,["parameters","personGeneration"],d);const g=y(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&E(e,["parameters","includeSafetyAttributes"],g);const p=y(t,["includeRaiReason"]);e!==void 0&&p!=null&&E(e,["parameters","includeRaiReason"],p);const x=y(t,["language"]);e!==void 0&&x!=null&&E(e,["parameters","language"],x);const _=y(t,["outputMimeType"]);e!==void 0&&_!=null&&E(e,["parameters","outputOptions","mimeType"],_);const w=y(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&E(e,["parameters","outputOptions","compressionQuality"],w);const C=y(t,["addWatermark"]);e!==void 0&&C!=null&&E(e,["parameters","addWatermark"],C);const I=y(t,["labels"]);e!==void 0&&I!=null&&E(e,["labels"],I);const P=y(t,["editMode"]);e!==void 0&&P!=null&&E(e,["parameters","editMode"],P);const A=y(t,["baseSteps"]);return e!==void 0&&A!=null&&E(e,["parameters","editConfig","baseSteps"],A),n}function FK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=y(e,["referenceImages"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(f=>LY(f))),E(n,["instances[0]","referenceImages"],l)}const o=y(e,["config"]);return o!=null&&OK(o,n),n}function UK(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Tm(s))),E(e,["generatedImages"],i)}return e}function VK(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&E(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=y(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function BK(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&E(e,["instances[]","task_type"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&E(e,["instances[]","title"],i);const s=y(t,["outputDimensionality"]);e!==void 0&&s!=null&&E(e,["parameters","outputDimensionality"],s);const o=y(t,["mimeType"]);e!==void 0&&o!=null&&E(e,["instances[]","mimeType"],o);const l=y(t,["autoTruncate"]);return e!==void 0&&l!=null&&E(e,["parameters","autoTruncate"],l),n}function qK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let l=u_(t,i);Array.isArray(l)&&(l=l.map(f=>f)),E(n,["requests[]","content"],l)}const s=y(e,["config"]);s!=null&&VK(s,n);const o=y(e,["model"]);return o!==void 0&&E(n,["requests[]","model"],Ht(t,o)),n}function HK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let o=u_(t,i);Array.isArray(o)&&(o=o.map(l=>l)),E(n,["instances[]","content"],o)}const s=y(e,["config"]);return s!=null&&BK(s,n),n}function zK(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),E(e,["embeddings"],s)}const i=y(t,["metadata"]);return i!=null&&E(e,["metadata"],i),e}function GK(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>bK(o))),E(e,["embeddings"],s)}const i=y(t,["metadata"]);return i!=null&&E(e,["metadata"],i),e}function jK(t){const e={},n=y(t,["endpoint"]);n!=null&&E(e,["name"],n);const r=y(t,["deployedModelId"]);return r!=null&&E(e,["deployedModelId"],r),e}function $K(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function WK(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&E(e,["description"],n);const r=y(t,["name"]);r!=null&&E(e,["name"],r);const i=y(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=y(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const o=y(t,["response"]);o!=null&&E(e,["response"],o);const l=y(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function KK(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],_m(wr(i)));const s=y(e,["temperature"]);s!=null&&E(r,["temperature"],s);const o=y(e,["topP"]);o!=null&&E(r,["topP"],o);const l=y(e,["topK"]);l!=null&&E(r,["topK"],l);const f=y(e,["candidateCount"]);f!=null&&E(r,["candidateCount"],f);const c=y(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const d=y(e,["stopSequences"]);d!=null&&E(r,["stopSequences"],d);const g=y(e,["responseLogprobs"]);g!=null&&E(r,["responseLogprobs"],g);const p=y(e,["logprobs"]);p!=null&&E(r,["logprobs"],p);const x=y(e,["presencePenalty"]);x!=null&&E(r,["presencePenalty"],x);const _=y(e,["frequencyPenalty"]);_!=null&&E(r,["frequencyPenalty"],_);const w=y(e,["seed"]);w!=null&&E(r,["seed"],w);const C=y(e,["responseMimeType"]);C!=null&&E(r,["responseMimeType"],C);const I=y(e,["responseSchema"]);I!=null&&E(r,["responseSchema"],l_(I));const P=y(e,["responseJsonSchema"]);if(P!=null&&E(r,["responseJsonSchema"],P),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=y(e,["safetySettings"]);if(n!==void 0&&A!=null){let F=A;Array.isArray(F)&&(F=F.map(q=>OY(q))),E(n,["safetySettings"],F)}const L=y(e,["tools"]);if(n!==void 0&&L!=null){let F=Ic(L);Array.isArray(F)&&(F=F.map(q=>HY(Cc(q)))),E(n,["tools"],F)}const D=y(e,["toolConfig"]);if(n!==void 0&&D!=null&&E(n,["toolConfig"],D),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=y(e,["cachedContent"]);n!==void 0&&O!=null&&E(n,["cachedContent"],Aa(t,O));const k=y(e,["responseModalities"]);k!=null&&E(r,["responseModalities"],k);const N=y(e,["mediaResolution"]);N!=null&&E(r,["mediaResolution"],N);const R=y(e,["speechConfig"]);if(R!=null&&E(r,["speechConfig"],c_(R)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=y(e,["thinkingConfig"]);V!=null&&E(r,["thinkingConfig"],V);const M=y(e,["imageConfig"]);return M!=null&&E(r,["imageConfig"],M),r}function YK(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],wr(i));const s=y(e,["temperature"]);s!=null&&E(r,["temperature"],s);const o=y(e,["topP"]);o!=null&&E(r,["topP"],o);const l=y(e,["topK"]);l!=null&&E(r,["topK"],l);const f=y(e,["candidateCount"]);f!=null&&E(r,["candidateCount"],f);const c=y(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const d=y(e,["stopSequences"]);d!=null&&E(r,["stopSequences"],d);const g=y(e,["responseLogprobs"]);g!=null&&E(r,["responseLogprobs"],g);const p=y(e,["logprobs"]);p!=null&&E(r,["logprobs"],p);const x=y(e,["presencePenalty"]);x!=null&&E(r,["presencePenalty"],x);const _=y(e,["frequencyPenalty"]);_!=null&&E(r,["frequencyPenalty"],_);const w=y(e,["seed"]);w!=null&&E(r,["seed"],w);const C=y(e,["responseMimeType"]);C!=null&&E(r,["responseMimeType"],C);const I=y(e,["responseSchema"]);I!=null&&E(r,["responseSchema"],l_(I));const P=y(e,["responseJsonSchema"]);P!=null&&E(r,["responseJsonSchema"],P);const A=y(e,["routingConfig"]);A!=null&&E(r,["routingConfig"],A);const L=y(e,["modelSelectionConfig"]);L!=null&&E(r,["modelConfig"],L);const D=y(e,["safetySettings"]);if(n!==void 0&&D!=null){let ae=D;Array.isArray(ae)&&(ae=ae.map(se=>se)),E(n,["safetySettings"],ae)}const O=y(e,["tools"]);if(n!==void 0&&O!=null){let ae=Ic(O);Array.isArray(ae)&&(ae=ae.map(se=>uR(Cc(se)))),E(n,["tools"],ae)}const k=y(e,["toolConfig"]);n!==void 0&&k!=null&&E(n,["toolConfig"],k);const N=y(e,["labels"]);n!==void 0&&N!=null&&E(n,["labels"],N);const R=y(e,["cachedContent"]);n!==void 0&&R!=null&&E(n,["cachedContent"],Aa(t,R));const V=y(e,["responseModalities"]);V!=null&&E(r,["responseModalities"],V);const M=y(e,["mediaResolution"]);M!=null&&E(r,["mediaResolution"],M);const F=y(e,["speechConfig"]);F!=null&&E(r,["speechConfig"],oR(c_(F)));const q=y(e,["audioTimestamp"]);q!=null&&E(r,["audioTimestamp"],q);const ce=y(e,["thinkingConfig"]);ce!=null&&E(r,["thinkingConfig"],ce);const oe=y(e,["imageConfig"]);return oe!=null&&E(r,["imageConfig"],oe),r}function n3(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let o=Ni(i);Array.isArray(o)&&(o=o.map(l=>_m(l))),E(n,["contents"],o)}const s=y(e,["config"]);return s!=null&&E(n,["generationConfig"],KK(t,s,n)),n}function r3(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let o=Ni(i);Array.isArray(o)&&(o=o.map(l=>l)),E(n,["contents"],o)}const s=y(e,["config"]);return s!=null&&E(n,["generationConfig"],YK(t,s,n)),n}function i3(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(c=>vK(c))),E(e,["candidates"],f)}const i=y(t,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=y(t,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const o=y(t,["responseId"]);o!=null&&E(e,["responseId"],o);const l=y(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function s3(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),E(e,["candidates"],c)}const i=y(t,["createTime"]);i!=null&&E(e,["createTime"],i);const s=y(t,["modelVersion"]);s!=null&&E(e,["modelVersion"],s);const o=y(t,["promptFeedback"]);o!=null&&E(e,["promptFeedback"],o);const l=y(t,["responseId"]);l!=null&&E(e,["responseId"],l);const f=y(t,["usageMetadata"]);return f!=null&&E(e,["usageMetadata"],f),e}function XK(t,e){const n={};if(y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(t,["numberOfImages"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=y(t,["aspectRatio"]);e!==void 0&&i!=null&&E(e,["parameters","aspectRatio"],i);const s=y(t,["guidanceScale"]);if(e!==void 0&&s!=null&&E(e,["parameters","guidanceScale"],s),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=y(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&E(e,["parameters","safetySetting"],o);const l=y(t,["personGeneration"]);e!==void 0&&l!=null&&E(e,["parameters","personGeneration"],l);const f=y(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&E(e,["parameters","includeSafetyAttributes"],f);const c=y(t,["includeRaiReason"]);e!==void 0&&c!=null&&E(e,["parameters","includeRaiReason"],c);const d=y(t,["language"]);e!==void 0&&d!=null&&E(e,["parameters","language"],d);const g=y(t,["outputMimeType"]);e!==void 0&&g!=null&&E(e,["parameters","outputOptions","mimeType"],g);const p=y(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&E(e,["parameters","outputOptions","compressionQuality"],p),y(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=y(t,["imageSize"]);if(e!==void 0&&x!=null&&E(e,["parameters","sampleImageSize"],x),y(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function JK(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=y(t,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=y(t,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const o=y(t,["aspectRatio"]);e!==void 0&&o!=null&&E(e,["parameters","aspectRatio"],o);const l=y(t,["guidanceScale"]);e!==void 0&&l!=null&&E(e,["parameters","guidanceScale"],l);const f=y(t,["seed"]);e!==void 0&&f!=null&&E(e,["parameters","seed"],f);const c=y(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const d=y(t,["personGeneration"]);e!==void 0&&d!=null&&E(e,["parameters","personGeneration"],d);const g=y(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&E(e,["parameters","includeSafetyAttributes"],g);const p=y(t,["includeRaiReason"]);e!==void 0&&p!=null&&E(e,["parameters","includeRaiReason"],p);const x=y(t,["language"]);e!==void 0&&x!=null&&E(e,["parameters","language"],x);const _=y(t,["outputMimeType"]);e!==void 0&&_!=null&&E(e,["parameters","outputOptions","mimeType"],_);const w=y(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&E(e,["parameters","outputOptions","compressionQuality"],w);const C=y(t,["addWatermark"]);e!==void 0&&C!=null&&E(e,["parameters","addWatermark"],C);const I=y(t,["labels"]);e!==void 0&&I!=null&&E(e,["labels"],I);const P=y(t,["imageSize"]);e!==void 0&&P!=null&&E(e,["parameters","sampleImageSize"],P);const A=y(t,["enhancePrompt"]);return e!==void 0&&A!=null&&E(e,["parameters","enhancePrompt"],A),n}function QK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&XK(s,n),n}function ZK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&JK(s,n),n}function eY(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>hY(o))),E(e,["generatedImages"],s)}const i=y(t,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],sR(i)),e}function tY(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Tm(o))),E(e,["generatedImages"],s)}const i=y(t,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],aR(i)),e}function nY(t,e){const n={},r=y(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r),y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(t,["durationSeconds"]);if(e!==void 0&&i!=null&&E(e,["parameters","durationSeconds"],i),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(t,["aspectRatio"]);e!==void 0&&s!=null&&E(e,["parameters","aspectRatio"],s);const o=y(t,["resolution"]);e!==void 0&&o!=null&&E(e,["parameters","resolution"],o);const l=y(t,["personGeneration"]);if(e!==void 0&&l!=null&&E(e,["parameters","personGeneration"],l),y(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=y(t,["negativePrompt"]);e!==void 0&&f!=null&&E(e,["parameters","negativePrompt"],f);const c=y(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&E(e,["parameters","enhancePrompt"],c),y(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=y(t,["lastFrame"]);e!==void 0&&d!=null&&E(e,["instances[0]","lastFrame"],Em(d));const g=y(t,["referenceImages"]);if(e!==void 0&&g!=null){let p=g;Array.isArray(p)&&(p=p.map(x=>tX(x))),E(e,["instances[0]","referenceImages"],p)}if(y(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function rY(t,e){const n={},r=y(t,["numberOfVideos"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=y(t,["outputGcsUri"]);e!==void 0&&i!=null&&E(e,["parameters","storageUri"],i);const s=y(t,["fps"]);e!==void 0&&s!=null&&E(e,["parameters","fps"],s);const o=y(t,["durationSeconds"]);e!==void 0&&o!=null&&E(e,["parameters","durationSeconds"],o);const l=y(t,["seed"]);e!==void 0&&l!=null&&E(e,["parameters","seed"],l);const f=y(t,["aspectRatio"]);e!==void 0&&f!=null&&E(e,["parameters","aspectRatio"],f);const c=y(t,["resolution"]);e!==void 0&&c!=null&&E(e,["parameters","resolution"],c);const d=y(t,["personGeneration"]);e!==void 0&&d!=null&&E(e,["parameters","personGeneration"],d);const g=y(t,["pubsubTopic"]);e!==void 0&&g!=null&&E(e,["parameters","pubsubTopic"],g);const p=y(t,["negativePrompt"]);e!==void 0&&p!=null&&E(e,["parameters","negativePrompt"],p);const x=y(t,["enhancePrompt"]);e!==void 0&&x!=null&&E(e,["parameters","enhancePrompt"],x);const _=y(t,["generateAudio"]);e!==void 0&&_!=null&&E(e,["parameters","generateAudio"],_);const w=y(t,["lastFrame"]);e!==void 0&&w!=null&&E(e,["instances[0]","lastFrame"],us(w));const C=y(t,["referenceImages"]);if(e!==void 0&&C!=null){let A=C;Array.isArray(A)&&(A=A.map(L=>nX(L))),E(e,["instances[0]","referenceImages"],A)}const I=y(t,["mask"]);e!==void 0&&I!=null&&E(e,["instances[0]","mask"],eX(I));const P=y(t,["compressionQuality"]);return e!==void 0&&P!=null&&E(e,["parameters","compressionQuality"],P),n}function iY(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=y(t,["done"]);i!=null&&E(e,["done"],i);const s=y(t,["error"]);s!=null&&E(e,["error"],s);const o=y(t,["response","generateVideoResponse"]);return o!=null&&E(e,["response"],uY(o)),e}function sY(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=y(t,["done"]);i!=null&&E(e,["done"],i);const s=y(t,["error"]);s!=null&&E(e,["error"],s);const o=y(t,["response"]);return o!=null&&E(e,["response"],lY(o)),e}function aY(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&E(n,["instances[0]","image"],Em(s));const o=y(e,["video"]);o!=null&&E(n,["instances[0]","video"],lR(o));const l=y(e,["source"]);l!=null&&cY(l,n);const f=y(e,["config"]);return f!=null&&nY(f,n),n}function oY(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&E(n,["instances[0]","image"],us(s));const o=y(e,["video"]);o!=null&&E(n,["instances[0]","video"],cR(o));const l=y(e,["source"]);l!=null&&fY(l,n);const f=y(e,["config"]);return f!=null&&rY(f,n),n}function uY(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>pY(o))),E(e,["generatedVideos"],s)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function lY(t){const e={},n=y(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>mY(o))),E(e,["generatedVideos"],s)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function cY(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],Em(i));const s=y(t,["video"]);return e!==void 0&&s!=null&&E(e,["instances[0]","video"],lR(s)),n}function fY(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],us(i));const s=y(t,["video"]);return e!==void 0&&s!=null&&E(e,["instances[0]","video"],cR(s)),n}function hY(t){const e={},n=y(t,["_self"]);n!=null&&E(e,["image"],TY(n));const r=y(t,["raiFilteredReason"]);r!=null&&E(e,["raiFilteredReason"],r);const i=y(t,["_self"]);return i!=null&&E(e,["safetyAttributes"],sR(i)),e}function Tm(t){const e={},n=y(t,["_self"]);n!=null&&E(e,["image"],iR(n));const r=y(t,["raiFilteredReason"]);r!=null&&E(e,["raiFilteredReason"],r);const i=y(t,["_self"]);i!=null&&E(e,["safetyAttributes"],aR(i));const s=y(t,["prompt"]);return s!=null&&E(e,["enhancedPrompt"],s),e}function dY(t){const e={},n=y(t,["_self"]);n!=null&&E(e,["mask"],iR(n));const r=y(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),E(e,["labels"],i)}return e}function pY(t){const e={},n=y(t,["video"]);return n!=null&&E(e,["video"],QY(n)),e}function mY(t){const e={},n=y(t,["_self"]);return n!=null&&E(e,["video"],ZY(n)),e}function gY(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&E(e,["modelConfig"],n);const r=y(t,["audioTimestamp"]);r!=null&&E(e,["audioTimestamp"],r);const i=y(t,["candidateCount"]);i!=null&&E(e,["candidateCount"],i);const s=y(t,["enableAffectiveDialog"]);s!=null&&E(e,["enableAffectiveDialog"],s);const o=y(t,["frequencyPenalty"]);o!=null&&E(e,["frequencyPenalty"],o);const l=y(t,["logprobs"]);l!=null&&E(e,["logprobs"],l);const f=y(t,["maxOutputTokens"]);f!=null&&E(e,["maxOutputTokens"],f);const c=y(t,["mediaResolution"]);c!=null&&E(e,["mediaResolution"],c);const d=y(t,["presencePenalty"]);d!=null&&E(e,["presencePenalty"],d);const g=y(t,["responseJsonSchema"]);g!=null&&E(e,["responseJsonSchema"],g);const p=y(t,["responseLogprobs"]);p!=null&&E(e,["responseLogprobs"],p);const x=y(t,["responseMimeType"]);x!=null&&E(e,["responseMimeType"],x);const _=y(t,["responseModalities"]);_!=null&&E(e,["responseModalities"],_);const w=y(t,["responseSchema"]);w!=null&&E(e,["responseSchema"],w);const C=y(t,["routingConfig"]);C!=null&&E(e,["routingConfig"],C);const I=y(t,["seed"]);I!=null&&E(e,["seed"],I);const P=y(t,["speechConfig"]);P!=null&&E(e,["speechConfig"],oR(P));const A=y(t,["stopSequences"]);A!=null&&E(e,["stopSequences"],A);const L=y(t,["temperature"]);L!=null&&E(e,["temperature"],L);const D=y(t,["thinkingConfig"]);D!=null&&E(e,["thinkingConfig"],D);const O=y(t,["topK"]);O!=null&&E(e,["topK"],O);const k=y(t,["topP"]);if(k!=null&&E(e,["topP"],k),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function xY(t,e){const n={},r=y(e,["model"]);return r!=null&&E(n,["_url","name"],Ht(t,r)),n}function yY(t,e){const n={},r=y(e,["model"]);return r!=null&&E(n,["_url","name"],Ht(t,r)),n}function vY(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&E(e,["enableWidget"],n),e}function _Y(t){const e={},n=y(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],n),y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function TY(t){const e={},n=y(t,["bytesBase64Encoded"]);n!=null&&E(e,["imageBytes"],zo(n));const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function iR(t){const e={},n=y(t,["gcsUri"]);n!=null&&E(e,["gcsUri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&E(e,["imageBytes"],zo(r));const i=y(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function Em(t){const e={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=y(t,["imageBytes"]);n!=null&&E(e,["bytesBase64Encoded"],zo(n));const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function us(t){const e={},n=y(t,["gcsUri"]);n!=null&&E(e,["gcsUri"],n);const r=y(t,["imageBytes"]);r!=null&&E(e,["bytesBase64Encoded"],zo(r));const i=y(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function EY(t,e,n){const r={},i=y(e,["pageSize"]);n!==void 0&&i!=null&&E(n,["_query","pageSize"],i);const s=y(e,["pageToken"]);n!==void 0&&s!=null&&E(n,["_query","pageToken"],s);const o=y(e,["filter"]);n!==void 0&&o!=null&&E(n,["_query","filter"],o);const l=y(e,["queryBase"]);return n!==void 0&&l!=null&&E(n,["_url","models_url"],Xk(t,l)),r}function bY(t,e,n){const r={},i=y(e,["pageSize"]);n!==void 0&&i!=null&&E(n,["_query","pageSize"],i);const s=y(e,["pageToken"]);n!==void 0&&s!=null&&E(n,["_query","pageToken"],s);const o=y(e,["filter"]);n!==void 0&&o!=null&&E(n,["_query","filter"],o);const l=y(e,["queryBase"]);return n!==void 0&&l!=null&&E(n,["_url","models_url"],Xk(t,l)),r}function wY(t,e){const n={},r=y(e,["config"]);return r!=null&&EY(t,r,n),n}function SY(t,e){const n={},r=y(e,["config"]);return r!=null&&bY(t,r,n),n}function AY(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(t,["_self"]);if(i!=null){let s=Jk(i);Array.isArray(s)&&(s=s.map(o=>Cy(o))),E(e,["models"],s)}return e}function CY(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(t,["_self"]);if(i!=null){let s=Jk(i);Array.isArray(s)&&(s=s.map(o=>Iy(o))),E(e,["models"],s)}return e}function IY(t){const e={},n=y(t,["maskMode"]);n!=null&&E(e,["maskMode"],n);const r=y(t,["segmentationClasses"]);r!=null&&E(e,["maskClasses"],r);const i=y(t,["maskDilation"]);return i!=null&&E(e,["dilation"],i),e}function Cy(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=y(t,["description"]);i!=null&&E(e,["description"],i);const s=y(t,["version"]);s!=null&&E(e,["version"],s);const o=y(t,["_self"]);o!=null&&E(e,["tunedModelInfo"],zY(o));const l=y(t,["inputTokenLimit"]);l!=null&&E(e,["inputTokenLimit"],l);const f=y(t,["outputTokenLimit"]);f!=null&&E(e,["outputTokenLimit"],f);const c=y(t,["supportedGenerationMethods"]);return c!=null&&E(e,["supportedActions"],c),e}function Iy(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=y(t,["description"]);i!=null&&E(e,["description"],i);const s=y(t,["versionId"]);s!=null&&E(e,["version"],s);const o=y(t,["deployedModels"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(p=>jK(p))),E(e,["endpoints"],g)}const l=y(t,["labels"]);l!=null&&E(e,["labels"],l);const f=y(t,["_self"]);f!=null&&E(e,["tunedModelInfo"],GY(f));const c=y(t,["defaultCheckpointId"]);c!=null&&E(e,["defaultCheckpointId"],c);const d=y(t,["checkpoints"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(p=>p)),E(e,["checkpoints"],g)}return e}function kY(t){const e={},n=y(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],n);const r=y(t,["thought"]);r!=null&&E(e,["thought"],r);const i=y(t,["inlineData"]);i!=null&&E(e,["inlineData"],yK(i));const s=y(t,["fileData"]);s!=null&&E(e,["fileData"],$K(s));const o=y(t,["thoughtSignature"]);o!=null&&E(e,["thoughtSignature"],o);const l=y(t,["functionCall"]);l!=null&&E(e,["functionCall"],l);const f=y(t,["codeExecutionResult"]);f!=null&&E(e,["codeExecutionResult"],f);const c=y(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const d=y(t,["functionResponse"]);d!=null&&E(e,["functionResponse"],d);const g=y(t,["text"]);return g!=null&&E(e,["text"],g),e}function RY(t){const e={},n=y(t,["productImage"]);return n!=null&&E(e,["image"],us(n)),e}function NY(t,e){const n={},r=y(t,["numberOfImages"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=y(t,["baseSteps"]);e!==void 0&&i!=null&&E(e,["parameters","editConfig","baseSteps"],i);const s=y(t,["outputGcsUri"]);e!==void 0&&s!=null&&E(e,["parameters","storageUri"],s);const o=y(t,["seed"]);e!==void 0&&o!=null&&E(e,["parameters","seed"],o);const l=y(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&E(e,["parameters","safetySetting"],l);const f=y(t,["personGeneration"]);e!==void 0&&f!=null&&E(e,["parameters","personGeneration"],f);const c=y(t,["addWatermark"]);e!==void 0&&c!=null&&E(e,["parameters","addWatermark"],c);const d=y(t,["outputMimeType"]);e!==void 0&&d!=null&&E(e,["parameters","outputOptions","mimeType"],d);const g=y(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&E(e,["parameters","outputOptions","compressionQuality"],g);const p=y(t,["enhancePrompt"]);e!==void 0&&p!=null&&E(e,["parameters","enhancePrompt"],p);const x=y(t,["labels"]);return e!==void 0&&x!=null&&E(e,["labels"],x),n}function DY(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["source"]);i!=null&&PY(i,n);const s=y(e,["config"]);return s!=null&&NY(s,n),n}function MY(t){const e={},n=y(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Tm(i))),E(e,["generatedImages"],r)}return e}function PY(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=y(t,["personImage"]);e!==void 0&&i!=null&&E(e,["instances[0]","personImage","image"],us(i));const s=y(t,["productImages"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>RY(l))),E(e,["instances[0]","productImages"],o)}return n}function LY(t){const e={},n=y(t,["referenceImage"]);n!=null&&E(e,["referenceImage"],us(n));const r=y(t,["referenceId"]);r!=null&&E(e,["referenceId"],r);const i=y(t,["referenceType"]);i!=null&&E(e,["referenceType"],i);const s=y(t,["maskImageConfig"]);s!=null&&E(e,["maskImageConfig"],IY(s));const o=y(t,["controlImageConfig"]);o!=null&&E(e,["controlImageConfig"],SK(o));const l=y(t,["styleImageConfig"]);l!=null&&E(e,["styleImageConfig"],l);const f=y(t,["subjectImageConfig"]);return f!=null&&E(e,["subjectImageConfig"],f),e}function sR(t){const e={},n=y(t,["safetyAttributes","categories"]);n!=null&&E(e,["categories"],n);const r=y(t,["safetyAttributes","scores"]);r!=null&&E(e,["scores"],r);const i=y(t,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function aR(t){const e={},n=y(t,["safetyAttributes","categories"]);n!=null&&E(e,["categories"],n);const r=y(t,["safetyAttributes","scores"]);r!=null&&E(e,["scores"],r);const i=y(t,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function OY(t){const e={};if(y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=y(t,["category"]);n!=null&&E(e,["category"],n);const r=y(t,["threshold"]);return r!=null&&E(e,["threshold"],r),e}function FY(t){const e={},n=y(t,["image"]);return n!=null&&E(e,["image"],us(n)),e}function UY(t,e){const n={},r=y(t,["mode"]);e!==void 0&&r!=null&&E(e,["parameters","mode"],r);const i=y(t,["maxPredictions"]);e!==void 0&&i!=null&&E(e,["parameters","maxPredictions"],i);const s=y(t,["confidenceThreshold"]);e!==void 0&&s!=null&&E(e,["parameters","confidenceThreshold"],s);const o=y(t,["maskDilation"]);e!==void 0&&o!=null&&E(e,["parameters","maskDilation"],o);const l=y(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&E(e,["parameters","binaryColorThreshold"],l);const f=y(t,["labels"]);return e!==void 0&&f!=null&&E(e,["labels"],f),n}function VY(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["source"]);i!=null&&qY(i,n);const s=y(e,["config"]);return s!=null&&UY(s,n),n}function BY(t){const e={},n=y(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>dY(i))),E(e,["generatedMasks"],r)}return e}function qY(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],us(i));const s=y(t,["scribbleImage"]);return e!==void 0&&s!=null&&E(e,["instances[0]","scribble"],FY(s)),n}function oR(t){const e={},n=y(t,["voiceConfig"]);if(n!=null&&E(e,["voiceConfig"],n),y(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=y(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function HY(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),E(e,["functionDeclarations"],c)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],_Y(r));const i=y(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(t,["googleMaps"]);s!=null&&E(e,["googleMaps"],vY(s));const o=y(t,["urlContext"]);o!=null&&E(e,["urlContext"],o);const l=y(t,["computerUse"]);l!=null&&E(e,["computerUse"],l);const f=y(t,["codeExecution"]);return f!=null&&E(e,["codeExecution"],f),e}function uR(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(p=>WK(p))),E(e,["functionDeclarations"],g)}const r=y(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=y(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],i);const s=y(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],s);const o=y(t,["enterpriseWebSearch"]);o!=null&&E(e,["enterpriseWebSearch"],o);const l=y(t,["googleMaps"]);l!=null&&E(e,["googleMaps"],l);const f=y(t,["urlContext"]);f!=null&&E(e,["urlContext"],f);const c=y(t,["computerUse"]);c!=null&&E(e,["computerUse"],c);const d=y(t,["codeExecution"]);return d!=null&&E(e,["codeExecution"],d),e}function zY(t){const e={},n=y(t,["baseModel"]);n!=null&&E(e,["baseModel"],n);const r=y(t,["createTime"]);r!=null&&E(e,["createTime"],r);const i=y(t,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function GY(t){const e={},n=y(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&E(e,["baseModel"],n);const r=y(t,["createTime"]);r!=null&&E(e,["createTime"],r);const i=y(t,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function jY(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=y(t,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=y(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),n}function $Y(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=y(t,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=y(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),n}function WY(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","name"],Ht(t,r));const i=y(e,["config"]);return i!=null&&jY(i,n),n}function KY(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["config"]);return i!=null&&$Y(i,n),n}function YY(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=y(t,["includeRaiReason"]);e!==void 0&&i!=null&&E(e,["parameters","includeRaiReason"],i);const s=y(t,["outputMimeType"]);e!==void 0&&s!=null&&E(e,["parameters","outputOptions","mimeType"],s);const o=y(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&E(e,["parameters","outputOptions","compressionQuality"],o);const l=y(t,["enhanceInputImage"]);e!==void 0&&l!=null&&E(e,["parameters","upscaleConfig","enhanceInputImage"],l);const f=y(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&E(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const c=y(t,["labels"]);e!==void 0&&c!=null&&E(e,["labels"],c);const d=y(t,["numberOfImages"]);e!==void 0&&d!=null&&E(e,["parameters","sampleCount"],d);const g=y(t,["mode"]);return e!==void 0&&g!=null&&E(e,["parameters","mode"],g),n}function XY(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["image"]);i!=null&&E(n,["instances[0]","image"],us(i));const s=y(e,["upscaleFactor"]);s!=null&&E(n,["parameters","upscaleConfig","upscaleFactor"],s);const o=y(e,["config"]);return o!=null&&YY(o,n),n}function JY(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Tm(s))),E(e,["generatedImages"],i)}return e}function QY(t){const e={},n=y(t,["uri"]);n!=null&&E(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&E(e,["videoBytes"],zo(r));const i=y(t,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function ZY(t){const e={},n=y(t,["gcsUri"]);n!=null&&E(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&E(e,["videoBytes"],zo(r));const i=y(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function eX(t){const e={},n=y(t,["image"]);n!=null&&E(e,["_self"],us(n));const r=y(t,["maskMode"]);return r!=null&&E(e,["maskMode"],r),e}function tX(t){const e={},n=y(t,["image"]);n!=null&&E(e,["image"],Em(n));const r=y(t,["referenceType"]);return r!=null&&E(e,["referenceType"],r),e}function nX(t){const e={},n=y(t,["image"]);n!=null&&E(e,["image"],us(n));const r=y(t,["referenceType"]);return r!=null&&E(e,["referenceType"],r),e}function lR(t){const e={},n=y(t,["uri"]);n!=null&&E(e,["uri"],n);const r=y(t,["videoBytes"]);r!=null&&E(e,["encodedVideo"],zo(r));const i=y(t,["mimeType"]);return i!=null&&E(e,["encoding"],i),e}function cR(t){const e={},n=y(t,["uri"]);n!=null&&E(e,["gcsUri"],n);const r=y(t,["videoBytes"]);r!=null&&E(e,["bytesBase64Encoded"],zo(r));const i=y(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rX="Content-Type",iX="X-Server-Timeout",sX="User-Agent",ky="x-goog-api-client",aX="1.27.0",oX=`google-genai-sdk/${aX}`,uX="v1beta1",lX="v1beta",a3=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class cX{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:uX,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:lX,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,l]of Object.entries(e.queryParams))i.searchParams.append(o,String(l));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const s=new AbortController,o=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>s.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=o}return n&&n.extraBody!==null&&fX(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await o3(i),new wy(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await o3(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return nc(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:l,value:f}=yield gn(i.read());if(l){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=s.decode(f,{stream:!0});try{const g=JSON.parse(c);if("error"in g){const p=JSON.parse(JSON.stringify(g.error)),x=p.status,_=p.code,w=`got status: ${x}. ${JSON.stringify(g)}`;if(_>=400&&_<600)throw new vm({message:w,status:_})}}catch(g){if(g.name==="ApiError")throw g}o+=c;let d=o.match(a3);for(;d;){const g=d[1];try{const p=new Response(g,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield gn(new wy(p)),o=o.slice(d[0].length),d=o.match(a3)}catch(p){throw new Error(`exception parsing stream chunk ${g}. ${p}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=oX+" "+this.clientOptions.userAgentExtra;return e[sX]=n,e[ky]=n,e[rX]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(iX,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,o=await s.stat(e);i.sizeBytes=String(o.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const f=await this.fetchUploadUrl(i,n);return s.upload(e,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},o=await this.request({path:et("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:i});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const l=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(l===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return l}}async function o3(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new vm({message:i,status:n}):new Error(i)}}function fX(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,o){const l=Object.assign({},s);for(const f in o)if(Object.prototype.hasOwnProperty.call(o,f)){const c=o[f],d=l[f];c&&typeof c=="object"&&!Array.isArray(c)&&d&&typeof d=="object"&&!Array.isArray(d)?l[f]=r(d,c):(d&&c&&typeof d!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof d}, New type: ${typeof c}. Overwriting.`),l[f]=c)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hX="mcp_used/unknown";let dX=!1;function fR(t){for(const e of t)if(pX(e)||typeof e=="object"&&"inputSchema"in e)return!0;return dX}function hR(t){var e;const n=(e=t[ky])!==null&&e!==void 0?e:"";t[ky]=(n+` ${hX}`).trimStart()}function pX(t){return t!==null&&typeof t=="object"&&t instanceof h_}function mX(t,e=100){return nc(this,arguments,function*(){let r,i=0;for(;i<e;){const s=yield gn(t.listTools({cursor:r}));for(const o of s.tools)yield yield gn(o),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class h_{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new h_(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},o=[];for(const d of this.mcpClients)try{for(var l=!0,f=(n=void 0,n0(mX(d))),c;c=await f.next(),e=c.done,!e;l=!0){i=c.value,l=!1;const g=i;o.push(g);const p=g.name;if(s[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);s[p]=d}}catch(g){n={error:g}}finally{try{!l&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),_$(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function gX(t,e,n){const r=new h$;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class xX{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=_X(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${l}`;let c=()=>{};const d=new Promise(A=>{c=A}),g=e.callbacks,p=function(){c({})},x=this.apiClient,_={onopen:p,onmessage:A=>{gX(x,g.onmessage,A)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(A){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(A){}},w=this.webSocketFactory.create(f,vX(o),_);w.connect(),await d;const P={setup:{model:Ht(this.apiClient,e.model)}};return w.send(JSON.stringify(P)),new yX(w,this.apiClient)}}class yX{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=lK(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=uK(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(jl.PLAY)}pause(){this.sendPlaybackControl(jl.PAUSE)}stop(){this.sendPlaybackControl(jl.STOP)}resetContext(){this.sendPlaybackControl(jl.RESET_CONTEXT)}close(){this.conn.close()}}function vX(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function _X(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TX="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function EX(t,e,n){const r=new f$;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const o=hK(s);Object.assign(r,o)}else Object.assign(r,s);e(r)}class bX{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new xX(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,o,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let d;const g=this.apiClient.getHeaders();e.config&&e.config.tools&&fR(e.config.tools)&&hR(g);const p=CX(g);if(this.apiClient.isVertexAI())d=`${f}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,d);else{const R=this.apiClient.getApiKey();let V="BidiGenerateContent",M="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),V="BidiGenerateContentConstrained",M="access_token"),d=`${f}/ws/google.ai.generativelanguage.${c}.GenerativeService.${V}?${M}=${R}`}let x=()=>{};const _=new Promise(R=>{x=R}),w=e.callbacks,C=function(){var R;(R=w==null?void 0:w.onopen)===null||R===void 0||R.call(w),x({})},I=this.apiClient,P={onopen:C,onmessage:R=>{EX(I,w.onmessage,R)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(R){}},A=this.webSocketFactory.create(d,AX(p),P);A.connect(),await _;let L=Ht(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&L.startsWith("publishers/")){const R=this.apiClient.getProject(),V=this.apiClient.getLocation();L=`projects/${R}/locations/${V}/`+L}let D={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Np.AUDIO]}:e.config.responseModalities=[Np.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const O=(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[],k=[];for(const R of O)if(this.isCallableTool(R)){const V=R;k.push(await V.tool())}else k.push(R);k.length>0&&(e.config.tools=k);const N={model:L,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?D=oK(this.apiClient,N):D=aK(this.apiClient,N),delete D.config,A.send(JSON.stringify(D)),new SX(A,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const wX={turnComplete:!0};class SX{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ni(n.turns),e.isVertexAI()||(r=r.map(i=>_m(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(TX)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},wX),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:fK(e)}:n={realtimeInput:cK(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function AX(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function CX(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const u3=10;function l3(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(rc(o)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function rc(t){return"callTool"in t&&typeof t.callTool=="function"}function IX(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>rc(i)))!==null&&r!==void 0?r:!1}function kX(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!rc(i)))!==null&&r!==void 0?r:!1}function c3(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RX extends Ku{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,o,l;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!IX(n)||l3(n.config))return await this.generateContentInternal(f);if(kX(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,d;const g=Ni(f.contents),p=(s=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:u3;let x=0;for(;x<p&&(c=await this.generateContentInternal(f),!(!c.functionCalls||c.functionCalls.length===0));){const _=c.candidates[0].content,w=[];for(const C of(l=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(rc(C)){const P=await C.callTool(c.functionCalls);w.push(...P)}x++,d={role:"user",parts:w},f.contents=Ni(f.contents),f.contents.push(_),f.contents.push(d),c3(f.config)&&(g.push(_),g.push(d))}return c3(f.config)&&(c.automaticFunctionCallingHistory=g),c},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),l3(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const o=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=f==null?void 0:f.safetyAttributes:o.push(f);let l;return s?l={generatedImages:o,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new $0(Pu.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,o,l,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(s=n.source)===null||s===void 0?void 0:s.video)===null||o===void 0)&&o.uri&&(!((f=(l=n.source)===null||l===void 0?void 0:l.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const o=await Promise.all(s.map(async f=>rc(f)?await f.tool():f)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(l.config.tools=o,e.config&&e.config.tools&&fR(e.config.tools)){const f=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},f);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),hR(c),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return l}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(rc(o)){const l=o,f=await l.tool();for(const c of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,l)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:u3;let o=!1,l=0;const f=await this.initAfcToolsMap(e);return(function(c,d,g){var p,x;return nc(this,arguments,function*(){for(var _,w,C,I;l<s;){o&&(l++,o=!1);const D=yield gn(c.processParamsMaybeAddMcpUsage(g)),O=yield gn(c.generateContentStreamInternal(D)),k=[],N=[];try{for(var P=!0,A=(w=void 0,n0(O)),L;L=yield gn(A.next()),_=L.done,!_;P=!0){I=L.value,P=!1;const R=I;if(yield yield gn(R),R.candidates&&(!((p=R.candidates[0])===null||p===void 0)&&p.content)){N.push(R.candidates[0].content);for(const V of(x=R.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(l<s&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(V.functionCall.name)){const M=yield gn(d.get(V.functionCall.name).callTool([V.functionCall]));k.push(...M)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(R){w={error:R}}finally{try{!P&&!_&&(C=A.return)&&(yield gn(C.call(A)))}finally{if(w)throw w.error}}if(k.length>0){o=!0;const R=new Cf;R.candidates=[{content:{role:"user",parts:k}}],yield yield gn(R);const V=[];V.push(...N),V.push({role:"user",parts:k});const M=Ni(g.contents).concat(V);g.contents=M}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=r3(this.apiClient,e);return l=et("{model}:generateContent",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=s3(d),p=new Cf;return Object.assign(p,g),p})}else{const c=n3(this.apiClient,e);return l=et("{model}:generateContent",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=i3(d),p=new Cf;return Object.assign(p,g),p})}}async generateContentStreamInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=r3(this.apiClient,e);return l=et("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(g){return nc(this,arguments,function*(){var p,x,_,w;try{for(var C=!0,I=n0(g),P;P=yield gn(I.next()),p=P.done,!p;C=!0){w=P.value,C=!1;const A=w,L=s3(yield gn(A.json()));L.sdkHttpResponse={headers:A.headers};const D=new Cf;Object.assign(D,L),yield yield gn(D)}}catch(A){x={error:A}}finally{try{!C&&!p&&(_=I.return)&&(yield gn(_.call(I)))}finally{if(x)throw x.error}}})})}else{const c=n3(this.apiClient,e);return l=et("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(g){return nc(this,arguments,function*(){var p,x,_,w;try{for(var C=!0,I=n0(g),P;P=yield gn(I.next()),p=P.done,!p;C=!0){w=P.value,C=!1;const A=w,L=i3(yield gn(A.json()));L.sdkHttpResponse={headers:A.headers};const D=new Cf;Object.assign(D,L),yield yield gn(D)}}catch(A){x={error:A}}finally{try{!C&&!p&&(_=I.return)&&(yield gn(_.call(I)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=HK(this.apiClient,e);return l=et("{model}:predict",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=GK(d),p=new BA;return Object.assign(p,g),p})}else{const c=qK(this.apiClient,e);return l=et("{model}:batchEmbedContents",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=zK(d),p=new BA;return Object.assign(p,g),p})}}async generateImagesInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=ZK(this.apiClient,e);return l=et("{model}:predict",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=tY(d),p=new qA;return Object.assign(p,g),p})}else{const c=QK(this.apiClient,e);return l=et("{model}:predict",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=eY(d),p=new qA;return Object.assign(p,g),p})}}async editImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=FK(this.apiClient,e);return s=et("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>{const c=UK(f),d=new r$;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=XY(this.apiClient,e);return s=et("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>{const c=JY(f),d=new i$;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=DY(this.apiClient,e);return s=et("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const c=MY(f),d=new s$;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=VY(this.apiClient,e);return s=et("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const c=BY(f),d=new a$;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=yY(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Iy(d))}else{const c=xY(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>Cy(d))}}async listInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=SY(this.apiClient,e);return l=et("{models_url}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=CY(d),p=new HA;return Object.assign(p,g),p})}else{const c=wY(this.apiClient,e);return l=et("{models_url}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=AY(d),p=new HA;return Object.assign(p,g),p})}}async update(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=KY(this.apiClient,e);return l=et("{model}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Iy(d))}else{const c=WY(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>Cy(d))}}async delete(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=MK(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=LK(d),p=new zA;return Object.assign(p,g),p})}else{const c=DK(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=PK(d),p=new zA;return Object.assign(p,g),p})}}async countTokens(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=kK(this.apiClient,e);return l=et("{model}:countTokens",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=NK(d),p=new GA;return Object.assign(p,g),p})}else{const c=IK(this.apiClient,e);return l=et("{model}:countTokens",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=RK(d),p=new GA;return Object.assign(p,g),p})}}async computeTokens(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=TK(this.apiClient,e);return s=et("{model}:computeTokens",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>{const c=EK(f),d=new o$;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=oY(this.apiClient,e);return l=et("{model}:predictLongRunning",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const g=sY(d),p=new Dp;return Object.assign(p,g),p})}else{const c=aY(this.apiClient,e);return l=et("{model}:predictLongRunning",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>{const g=iY(d),p=new Dp;return Object.assign(p,g),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NX extends Ku{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=e$(e);return l=et("{operationName}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o}else{const c=Zj(e);return l=et("{operationName}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=$j(e);return s=et("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DX(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["data"]);n!=null&&E(e,["data"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function MX(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>qX(s))),E(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&E(e,["role"],r),e}function PX(t,e,n){const r={},i=y(e,["expireTime"]);n!==void 0&&i!=null&&E(n,["expireTime"],i);const s=y(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&E(n,["newSessionExpireTime"],s);const o=y(e,["uses"]);n!==void 0&&o!=null&&E(n,["uses"],o);const l=y(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&E(n,["bidiGenerateContentSetup"],BX(t,l));const f=y(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&E(n,["fieldMask"],f),r}function LX(t,e){const n={},r=y(e,["config"]);return r!=null&&E(n,["config"],PX(t,r,n)),n}function OX(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function FX(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&E(e,["enableWidget"],n),e}function UX(t){const e={},n=y(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],n),y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function VX(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=y(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const o=y(t,["topP"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topP"],o);const l=y(t,["topK"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","topK"],l);const f=y(t,["maxOutputTokens"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","maxOutputTokens"],f);const c=y(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const d=y(t,["seed"]);e!==void 0&&d!=null&&E(e,["setup","generationConfig","seed"],d);const g=y(t,["speechConfig"]);e!==void 0&&g!=null&&E(e,["setup","generationConfig","speechConfig"],f_(g));const p=y(t,["thinkingConfig"]);e!==void 0&&p!=null&&E(e,["setup","generationConfig","thinkingConfig"],p);const x=y(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],x);const _=y(t,["systemInstruction"]);e!==void 0&&_!=null&&E(e,["setup","systemInstruction"],MX(wr(_)));const w=y(t,["tools"]);if(e!==void 0&&w!=null){let O=Ic(w);Array.isArray(O)&&(O=O.map(k=>zX(Cc(k)))),E(e,["setup","tools"],O)}const C=y(t,["sessionResumption"]);e!==void 0&&C!=null&&E(e,["setup","sessionResumption"],HX(C));const I=y(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&E(e,["setup","inputAudioTranscription"],I);const P=y(t,["outputAudioTranscription"]);e!==void 0&&P!=null&&E(e,["setup","outputAudioTranscription"],P);const A=y(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&E(e,["setup","realtimeInputConfig"],A);const L=y(t,["contextWindowCompression"]);e!==void 0&&L!=null&&E(e,["setup","contextWindowCompression"],L);const D=y(t,["proactivity"]);return e!==void 0&&D!=null&&E(e,["setup","proactivity"],D),n}function BX(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["setup","model"],Ht(t,r));const i=y(e,["config"]);return i!=null&&E(n,["config"],VX(i,n)),n}function qX(t){const e={},n=y(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],n);const r=y(t,["thought"]);r!=null&&E(e,["thought"],r);const i=y(t,["inlineData"]);i!=null&&E(e,["inlineData"],DX(i));const s=y(t,["fileData"]);s!=null&&E(e,["fileData"],OX(s));const o=y(t,["thoughtSignature"]);o!=null&&E(e,["thoughtSignature"],o);const l=y(t,["functionCall"]);l!=null&&E(e,["functionCall"],l);const f=y(t,["codeExecutionResult"]);f!=null&&E(e,["codeExecutionResult"],f);const c=y(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const d=y(t,["functionResponse"]);d!=null&&E(e,["functionResponse"],d);const g=y(t,["text"]);return g!=null&&E(e,["text"],g),e}function HX(t){const e={},n=y(t,["handle"]);if(n!=null&&E(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function zX(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),E(e,["functionDeclarations"],c)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],UX(r));const i=y(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(t,["googleMaps"]);s!=null&&E(e,["googleMaps"],FX(s));const o=y(t,["urlContext"]);o!=null&&E(e,["urlContext"],o);const l=y(t,["computerUse"]);l!=null&&E(e,["computerUse"],l);const f=y(t,["codeExecution"]);return f!=null&&E(e,["codeExecution"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GX(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function jX(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=GX(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(c=>o.includes(c)?`generationConfig.${c}`:c));const f=[];s&&f.push(s),l.length>0&&f.push(...l),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class $X extends Ku{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=LX(this.apiClient,e);s=et("auth_tokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const f=jX(l,e.config);return i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WX(t,e){const n={},r=y(t,["name"]);return r!=null&&E(n,["_url","name"],r),n}function KX(t,e){const n={},r=y(t,["name"]);return r!=null&&E(n,["_url","name"],r),n}function YX(t,e,n){const r={};if(y(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&E(e,["displayName"],i),y(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=y(t,["epochCount"]);e!==void 0&&s!=null&&E(e,["tuningTask","hyperparameters","epochCount"],s);const o=y(t,["learningRateMultiplier"]);if(o!=null&&E(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),y(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=y(t,["batchSize"]);e!==void 0&&l!=null&&E(e,["tuningTask","hyperparameters","batchSize"],l);const f=y(t,["learningRate"]);if(e!==void 0&&f!=null&&E(e,["tuningTask","hyperparameters","learningRate"],f),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return r}function XX(t,e,n){const r={},i=y(t,["validationDataset"]);e!==void 0&&i!=null&&E(e,["supervisedTuningSpec"],fJ(i));const s=y(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&E(e,["tunedModelDisplayName"],s);const o=y(t,["description"]);e!==void 0&&o!=null&&E(e,["description"],o);const l=y(t,["epochCount"]);e!==void 0&&l!=null&&E(e,["supervisedTuningSpec","hyperParameters","epochCount"],l);const f=y(t,["learningRateMultiplier"]);e!==void 0&&f!=null&&E(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],f);const c=y(t,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&E(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const d=y(t,["adapterSize"]);if(e!==void 0&&d!=null&&E(e,["supervisedTuningSpec","hyperParameters","adapterSize"],d),y(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const g=y(t,["labels"]);return e!==void 0&&g!=null&&E(e,["labels"],g),r}function JX(t,e){const n={},r=y(t,["baseModel"]);r!=null&&E(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&E(n,["preTunedModel"],i);const s=y(t,["trainingDataset"]);s!=null&&E(n,["tuningTask","trainingData"],uJ(s));const o=y(t,["config"]);return o!=null&&YX(o,n),n}function QX(t,e){const n={},r=y(t,["baseModel"]);r!=null&&E(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&E(n,["preTunedModel"],i);const s=y(t,["trainingDataset"]);s!=null&&lJ(s,n);const o=y(t,["config"]);return o!=null&&XX(o,n),n}function ZX(t,e){const n={},r=y(t,["name"]);return r!=null&&E(n,["_url","name"],r),n}function eJ(t,e){const n={},r=y(t,["name"]);return r!=null&&E(n,["_url","name"],r),n}function tJ(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&E(e,["_query","pageSize"],i);const s=y(t,["pageToken"]);e!==void 0&&s!=null&&E(e,["_query","pageToken"],s);const o=y(t,["filter"]);return e!==void 0&&o!=null&&E(e,["_query","filter"],o),r}function nJ(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&E(e,["_query","pageSize"],i);const s=y(t,["pageToken"]);e!==void 0&&s!=null&&E(e,["_query","pageToken"],s);const o=y(t,["filter"]);return e!==void 0&&o!=null&&E(e,["_query","filter"],o),r}function rJ(t,e){const n={},r=y(t,["config"]);return r!=null&&tJ(r,n),n}function iJ(t,e){const n={},r=y(t,["config"]);return r!=null&&nJ(r,n),n}function sJ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&E(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&E(n,["nextPageToken"],i);const s=y(t,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>dR(l))),E(n,["tuningJobs"],o)}return n}function aJ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&E(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&E(n,["nextPageToken"],i);const s=y(t,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>Ry(l))),E(n,["tuningJobs"],o)}return n}function oJ(t,e){const n={},r=y(t,["name"]);r!=null&&E(n,["model"],r);const i=y(t,["name"]);return i!=null&&E(n,["endpoint"],i),n}function uJ(t,e){const n={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),E(n,["examples","examples"],i)}return n}function lJ(t,e,n){const r={},i=y(t,["gcsUri"]);e!==void 0&&i!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],i);const s=y(t,["vertexDatasetResource"]);if(e!==void 0&&s!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],s),y(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function dR(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&E(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&E(n,["name"],i);const s=y(t,["state"]);s!=null&&E(n,["state"],Kk(s));const o=y(t,["createTime"]);o!=null&&E(n,["createTime"],o);const l=y(t,["tuningTask","startTime"]);l!=null&&E(n,["startTime"],l);const f=y(t,["tuningTask","completeTime"]);f!=null&&E(n,["endTime"],f);const c=y(t,["updateTime"]);c!=null&&E(n,["updateTime"],c);const d=y(t,["description"]);d!=null&&E(n,["description"],d);const g=y(t,["baseModel"]);g!=null&&E(n,["baseModel"],g);const p=y(t,["_self"]);return p!=null&&E(n,["tunedModel"],oJ(p)),n}function Ry(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&E(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&E(n,["name"],i);const s=y(t,["state"]);s!=null&&E(n,["state"],Kk(s));const o=y(t,["createTime"]);o!=null&&E(n,["createTime"],o);const l=y(t,["startTime"]);l!=null&&E(n,["startTime"],l);const f=y(t,["endTime"]);f!=null&&E(n,["endTime"],f);const c=y(t,["updateTime"]);c!=null&&E(n,["updateTime"],c);const d=y(t,["error"]);d!=null&&E(n,["error"],d);const g=y(t,["description"]);g!=null&&E(n,["description"],g);const p=y(t,["baseModel"]);p!=null&&E(n,["baseModel"],p);const x=y(t,["tunedModel"]);x!=null&&E(n,["tunedModel"],x);const _=y(t,["preTunedModel"]);_!=null&&E(n,["preTunedModel"],_);const w=y(t,["supervisedTuningSpec"]);w!=null&&E(n,["supervisedTuningSpec"],w);const C=y(t,["tuningDataStats"]);C!=null&&E(n,["tuningDataStats"],C);const I=y(t,["encryptionSpec"]);I!=null&&E(n,["encryptionSpec"],I);const P=y(t,["partnerModelTuningSpec"]);P!=null&&E(n,["partnerModelTuningSpec"],P);const A=y(t,["customBaseModel"]);A!=null&&E(n,["customBaseModel"],A);const L=y(t,["experiment"]);L!=null&&E(n,["experiment"],L);const D=y(t,["labels"]);D!=null&&E(n,["labels"],D);const O=y(t,["outputUri"]);O!=null&&E(n,["outputUri"],O);const k=y(t,["pipelineJob"]);k!=null&&E(n,["pipelineJob"],k);const N=y(t,["serviceAccount"]);N!=null&&E(n,["serviceAccount"],N);const R=y(t,["tunedModelDisplayName"]);R!=null&&E(n,["tunedModelDisplayName"],R);const V=y(t,["veoTuningSpec"]);return V!=null&&E(n,["veoTuningSpec"],V),n}function cJ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&E(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&E(n,["name"],i);const s=y(t,["metadata"]);s!=null&&E(n,["metadata"],s);const o=y(t,["done"]);o!=null&&E(n,["done"],o);const l=y(t,["error"]);return l!=null&&E(n,["error"],l),n}function fJ(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&E(n,["validationDatasetUri"],r);const i=y(t,["vertexDatasetResource"]);return i!=null&&E(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hJ extends Ku{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new $0(Pu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),s=await this.tuneMldevInternal(i);let o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:by.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=eJ(e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>Ry(d))}else{const c=ZX(e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>dR(d))}}async listInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=iJ(e);return l=et("tuningJobs",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=aJ(d),p=new jA;return Object.assign(p,g),p})}else{const c=rJ(e);return l=et("tunedModels",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=sJ(d),p=new jA;return Object.assign(p,g),p})}}async cancel(e){var n,r,i,s;let o="",l={};if(this.apiClient.isVertexAI()){const f=KX(e);o=et("{name}:cancel",f._url),l=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=WX(e);o=et("{name}:cancel",f._url),l=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=QX(e);return s=et("tuningJobs",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>Ry(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=JX(e);return s=et("tunedModels",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>cJ(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dJ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const pJ=1024*1024*8,mJ=3,gJ=1e3,xJ=2,Z1="x-goog-upload-status";async function yJ(t,e,n){var r,i,s;let o=0,l=0,f=new wy(new Response),c="upload";for(o=t.size;l<o;){const g=Math.min(pJ,o-l),p=t.slice(l,l+g);l+g>=o&&(c+=", finalize");let x=0,_=gJ;for(;x<mJ&&(f=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(g)}}}),!(!((r=f==null?void 0:f.headers)===null||r===void 0)&&r[Z1]));)x++,await _J(_),_=_*xJ;if(l+=g,((i=f==null?void 0:f.headers)===null||i===void 0?void 0:i[Z1])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(f==null?void 0:f.json());if(((s=f==null?void 0:f.headers)===null||s===void 0?void 0:s[Z1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function vJ(t){return{size:t.size,type:t.type}}function _J(t){return new Promise(e=>setTimeout(e,t))}class TJ{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await yJ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await vJ(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EJ{create(e,n,r){return new bJ(e,n,r)}}class bJ{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const f3="x-goog-api-key";class wJ{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(f3)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(f3,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SJ="gl-node/";class AJ{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Gj(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new wJ(this.apiKey);this.apiClient=new cX({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:SJ+"web",uploader:new TJ,downloader:new dJ}),this.models=new RX(this.apiClient),this.live=new bX(this.apiClient,i,new EJ),this.batches=new lW(this.apiClient),this.chats=new qW(this.models,this.apiClient),this.caches=new UW(this.apiClient),this.files=new JW(this.apiClient),this.operations=new NX(this.apiClient),this.authTokens=new $X(this.apiClient),this.tunings=new hJ(this.apiClient)}}function d_(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Yu=d_();function pR(t){Yu=t}var r0={exec:()=>null};function zt(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(Or.caret,"$1"),n=n.replace(i,o),r},getRegex:()=>new RegExp(n,e)};return r}var Or={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},CJ=/^(?:[ \t]*(?:\n|$))+/,IJ=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,kJ=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,W0=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,RJ=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,p_=/(?:[*+-]|\d{1,9}[.)])/,mR=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,gR=zt(mR).replace(/bull/g,p_).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),NJ=zt(mR).replace(/bull/g,p_).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),m_=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,DJ=/^[^\n]+/,g_=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,MJ=zt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",g_).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),PJ=zt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,p_).getRegex(),bm="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",x_=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,LJ=zt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",x_).replace("tag",bm).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),xR=zt(m_).replace("hr",W0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",bm).getRegex(),OJ=zt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",xR).getRegex(),y_={blockquote:OJ,code:IJ,def:MJ,fences:kJ,heading:RJ,hr:W0,html:LJ,lheading:gR,list:PJ,newline:CJ,paragraph:xR,table:r0,text:DJ},h3=zt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",W0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",bm).getRegex(),FJ={...y_,lheading:NJ,table:h3,paragraph:zt(m_).replace("hr",W0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",h3).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",bm).getRegex()},UJ={...y_,html:zt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",x_).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:r0,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:zt(m_).replace("hr",W0).replace("heading",` *#{1,6} *[^
]`).replace("lheading",gR).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},VJ=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,BJ=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,yR=/^( {2,}|\\)\n(?!\s*$)/,qJ=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,wm=/[\p{P}\p{S}]/u,v_=/[\s\p{P}\p{S}]/u,vR=/[^\s\p{P}\p{S}]/u,HJ=zt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,v_).getRegex(),_R=/(?!~)[\p{P}\p{S}]/u,zJ=/(?!~)[\s\p{P}\p{S}]/u,GJ=/(?:[^\s\p{P}\p{S}]|~)/u,jJ=zt(/link|code|html/,"g").replace("link",new RegExp("\\[(?:[^\\[\\]`]|(?<!`)(?<a>`+)[^`]+\\k<a>(?!`))*?\\]\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)]|\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)])*\\))*\\)")).replace("code",new RegExp("(?<!`)(?<b>`+)[^`]+\\k<b>(?!`)")).replace("html",/<(?! )[^<>]*?>/).getRegex(),TR=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,$J=zt(TR,"u").replace(/punct/g,wm).getRegex(),WJ=zt(TR,"u").replace(/punct/g,_R).getRegex(),ER="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",KJ=zt(ER,"gu").replace(/notPunctSpace/g,vR).replace(/punctSpace/g,v_).replace(/punct/g,wm).getRegex(),YJ=zt(ER,"gu").replace(/notPunctSpace/g,GJ).replace(/punctSpace/g,zJ).replace(/punct/g,_R).getRegex(),XJ=zt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,vR).replace(/punctSpace/g,v_).replace(/punct/g,wm).getRegex(),JJ=zt(/\\(punct)/,"gu").replace(/punct/g,wm).getRegex(),QJ=zt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),ZJ=zt(x_).replace("(?:-->|$)","-->").getRegex(),eQ=zt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",ZJ).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Pp=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,tQ=zt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Pp).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),bR=zt(/^!?\[(label)\]\[(ref)\]/).replace("label",Pp).replace("ref",g_).getRegex(),wR=zt(/^!?\[(ref)\](?:\[\])?/).replace("ref",g_).getRegex(),nQ=zt("reflink|nolink(?!\\()","g").replace("reflink",bR).replace("nolink",wR).getRegex(),d3=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,__={_backpedal:r0,anyPunctuation:JJ,autolink:QJ,blockSkip:jJ,br:yR,code:BJ,del:r0,emStrongLDelim:$J,emStrongRDelimAst:KJ,emStrongRDelimUnd:XJ,escape:VJ,link:tQ,nolink:wR,punctuation:HJ,reflink:bR,reflinkSearch:nQ,tag:eQ,text:qJ,url:r0},rQ={...__,link:zt(/^!?\[(label)\]\((.*?)\)/).replace("label",Pp).getRegex(),reflink:zt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Pp).getRegex()},Ny={...__,emStrongRDelimAst:YJ,emStrongLDelim:WJ,url:zt(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",d3).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:zt(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",d3).getRegex()},iQ={...Ny,br:zt(yR).replace("{2,}","*").getRegex(),text:zt(Ny.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Rd={normal:y_,gfm:FJ,pedantic:UJ},If={normal:__,gfm:Ny,breaks:iQ,pedantic:rQ},sQ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},p3=t=>sQ[t];function bs(t,e){if(e){if(Or.escapeTest.test(t))return t.replace(Or.escapeReplace,p3)}else if(Or.escapeTestNoEncode.test(t))return t.replace(Or.escapeReplaceNoEncode,p3);return t}function m3(t){try{t=encodeURI(t).replace(Or.percentDecode,"%")}catch{return null}return t}function g3(t,e){var s;let n=t.replace(Or.findPipe,(o,l,f)=>{let c=!1,d=l;for(;--d>=0&&f[d]==="\\";)c=!c;return c?"|":" |"}),r=n.split(Or.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!((s=r.at(-1))!=null&&s.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(Or.slashPipe,"|");return r}function kf(t,e,n){let r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}function aQ(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function x3(t,e,n,r,i){let s=e.href,o=e.title||null,l=t[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let f={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:o,text:l,tokens:r.inlineTokens(l)};return r.state.inLink=!1,f}function oQ(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let i=r[1];return e.split(`
`).map(s=>{let o=s.match(n.other.beginningSpace);if(o===null)return s;let[l]=o;return l.length>=i.length?s.slice(i.length):s}).join(`
`)}var Lp=class{constructor(t){ln(this,"options");ln(this,"rules");ln(this,"lexer");this.options=t||Yu}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:kf(n,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let n=e[0],r=oQ(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){let r=kf(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:kf(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let n=kf(e[0],`
`).split(`
`),r="",i="",s=[];for(;n.length>0;){let o=!1,l=[],f;for(f=0;f<n.length;f++)if(this.rules.other.blockquoteStart.test(n[f]))l.push(n[f]),o=!0;else if(!o)l.push(n[f]);else break;n=n.slice(f);let c=l.join(`
`),d=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${c}`:c,i=i?`${i}
${d}`:d;let g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,s,!0),this.lexer.state.top=g,n.length===0)break;let p=s.at(-1);if((p==null?void 0:p.type)==="code")break;if((p==null?void 0:p.type)==="blockquote"){let x=p,_=x.raw+`
`+n.join(`
`),w=this.blockquote(_);s[s.length-1]=w,r=r.substring(0,r.length-x.raw.length)+w.raw,i=i.substring(0,i.length-x.text.length)+w.text;break}else if((p==null?void 0:p.type)==="list"){let x=p,_=x.raw+`
`+n.join(`
`),w=this.list(_);s[s.length-1]=w,r=r.substring(0,r.length-p.raw.length)+w.raw,i=i.substring(0,i.length-x.raw.length)+w.raw,n=_.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:s,text:i}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim(),r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let s=this.rules.other.listItemRegex(n),o=!1;for(;t;){let f=!1,c="",d="";if(!(e=s.exec(t))||this.rules.block.hr.test(t))break;c=e[0],t=t.substring(c.length);let g=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,I=>" ".repeat(3*I.length)),p=t.split(`
`,1)[0],x=!g.trim(),_=0;if(this.options.pedantic?(_=2,d=g.trimStart()):x?_=e[1].length+1:(_=e[2].search(this.rules.other.nonSpaceChar),_=_>4?1:_,d=g.slice(_),_+=e[1].length),x&&this.rules.other.blankLine.test(p)&&(c+=p+`
`,t=t.substring(p.length+1),f=!0),!f){let I=this.rules.other.nextBulletRegex(_),P=this.rules.other.hrRegex(_),A=this.rules.other.fencesBeginRegex(_),L=this.rules.other.headingBeginRegex(_),D=this.rules.other.htmlBeginRegex(_);for(;t;){let O=t.split(`
`,1)[0],k;if(p=O,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),k=p):k=p.replace(this.rules.other.tabCharGlobal,"    "),A.test(p)||L.test(p)||D.test(p)||I.test(p)||P.test(p))break;if(k.search(this.rules.other.nonSpaceChar)>=_||!p.trim())d+=`
`+k.slice(_);else{if(x||g.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||A.test(g)||L.test(g)||P.test(g))break;d+=`
`+p}!x&&!p.trim()&&(x=!0),c+=O+`
`,t=t.substring(O.length+1),g=k.slice(_)}}i.loose||(o?i.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(o=!0));let w=null,C;this.options.gfm&&(w=this.rules.other.listIsTask.exec(d),w&&(C=w[0]!=="[ ] ",d=d.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:c,task:!!w,checked:C,loose:!1,text:d,tokens:[]}),i.raw+=c}let l=i.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let f=0;f<i.items.length;f++)if(this.lexer.state.top=!1,i.items[f].tokens=this.lexer.blockTokens(i.items[f].text,[]),!i.loose){let c=i.items[f].tokens.filter(g=>g.type==="space"),d=c.length>0&&c.some(g=>this.rules.other.anyLine.test(g.raw));i.loose=d}if(i.loose)for(let f=0;f<i.items.length;f++)i.items[f].loose=!0;return i}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:r,title:i}}}table(t){var o;let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let n=g3(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(o=e[3])!=null&&o.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let l of r)this.rules.other.tableAlignRight.test(l)?s.align.push("right"):this.rules.other.tableAlignCenter.test(l)?s.align.push("center"):this.rules.other.tableAlignLeft.test(l)?s.align.push("left"):s.align.push(null);for(let l=0;l<n.length;l++)s.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:s.align[l]});for(let l of i)s.rows.push(g3(l,s.header.length).map((f,c)=>({text:f,tokens:this.lexer.inline(f),header:!1,align:s.align[c]})));return s}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let s=kf(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{let s=aQ(e[2],"()");if(s===-2)return;if(s>-1){let o=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,o).trim(),e[3]=""}}let r=e[2],i="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(r);s&&(r=s[1],i=s[3])}else i=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),x3(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=e[r.toLowerCase()];if(!i){let s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return x3(n,i,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let i=[...r[0]].length-1,s,o,l=i,f=0,c=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,e=e.slice(-1*t.length+i);(r=c.exec(e))!=null;){if(s=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!s)continue;if(o=[...s].length,r[3]||r[4]){l+=o;continue}else if((r[5]||r[6])&&i%3&&!((i+o)%3)){f+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+f);let d=[...r[0]][0].length,g=t.slice(0,i+r.index+d+o);if(Math.min(i,o)%2){let x=g.slice(1,-1);return{type:"em",raw:g,text:x,tokens:this.lexer.inlineTokens(x)}}let p=g.slice(2,-2);return{type:"strong",raw:g,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let n,r;return e[2]==="@"?(n=e[1],r="mailto:"+n):(n=e[1],r=n),{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let e;if(e=this.rules.inline.url.exec(t)){let r,i;if(e[2]==="@")r=e[0],i="mailto:"+r;else{let s;do s=e[0],e[0]=((n=this.rules.inline._backpedal.exec(e[0]))==null?void 0:n[0])??"";while(s!==e[0]);r=e[0],e[1]==="www."?i="http://"+e[0]:i=e[0]}return{type:"link",raw:e[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}},Qi=class Dy{constructor(e){ln(this,"tokens");ln(this,"options");ln(this,"state");ln(this,"tokenizer");ln(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Yu,this.options.tokenizer=this.options.tokenizer||new Lp,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:Or,block:Rd.normal,inline:If.normal};this.options.pedantic?(n.block=Rd.pedantic,n.inline=If.pedantic):this.options.gfm&&(n.block=Rd.gfm,this.options.breaks?n.inline=If.breaks:n.inline=If.gfm),this.tokenizer.rules=n}static get rules(){return{block:Rd,inline:If}}static lex(e,n){return new Dy(n).lex(e)}static lexInline(e,n){return new Dy(n).inlineTokens(e)}lex(e){e=e.replace(Or.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){var i,s,o;for(this.options.pedantic&&(e=e.replace(Or.tabCharGlobal,"    ").replace(Or.spaceLine,""));e;){let l;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(c=>(l=c.call({lexer:this},e,n))?(e=e.substring(l.raw.length),n.push(l),!0):!1))continue;if(l=this.tokenizer.space(e)){e=e.substring(l.raw.length);let c=n.at(-1);l.raw.length===1&&c!==void 0?c.raw+=`
`:n.push(l);continue}if(l=this.tokenizer.code(e)){e=e.substring(l.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+l.raw,c.text+=`
`+l.text,this.inlineQueue.at(-1).src=c.text):n.push(l);continue}if(l=this.tokenizer.fences(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.heading(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.hr(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.blockquote(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.list(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.html(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.def(e)){e=e.substring(l.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+l.raw,c.text+=`
`+l.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title},n.push(l));continue}if(l=this.tokenizer.table(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.lheading(e)){e=e.substring(l.raw.length),n.push(l);continue}let f=e;if((o=this.options.extensions)!=null&&o.startBlock){let c=1/0,d=e.slice(1),g;this.options.extensions.startBlock.forEach(p=>{g=p.call({lexer:this},d),typeof g=="number"&&g>=0&&(c=Math.min(c,g))}),c<1/0&&c>=0&&(f=e.substring(0,c+1))}if(this.state.top&&(l=this.tokenizer.paragraph(f))){let c=n.at(-1);r&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+l.raw,c.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(l),r=f.length!==e.length,e=e.substring(l.raw.length);continue}if(l=this.tokenizer.text(e)){e=e.substring(l.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
`)?"":`
`)+l.raw,c.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(l);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){var l,f,c,d,g;let r=e,i=null;if(this.tokens.links){let p=Object.keys(this.tokens.links);if(p.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)p.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=((f=(l=this.options.hooks)==null?void 0:l.emStrongMask)==null?void 0:f.call({lexer:this},r))??r;let s=!1,o="";for(;e;){s||(o=""),s=!1;let p;if((d=(c=this.options.extensions)==null?void 0:c.inline)!=null&&d.some(_=>(p=_.call({lexer:this},e,n))?(e=e.substring(p.raw.length),n.push(p),!0):!1))continue;if(p=this.tokenizer.escape(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.tag(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.link(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(p.raw.length);let _=n.at(-1);p.type==="text"&&(_==null?void 0:_.type)==="text"?(_.raw+=p.raw,_.text+=p.text):n.push(p);continue}if(p=this.tokenizer.emStrong(e,r,o)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.codespan(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.br(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.del(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.autolink(e)){e=e.substring(p.raw.length),n.push(p);continue}if(!this.state.inLink&&(p=this.tokenizer.url(e))){e=e.substring(p.raw.length),n.push(p);continue}let x=e;if((g=this.options.extensions)!=null&&g.startInline){let _=1/0,w=e.slice(1),C;this.options.extensions.startInline.forEach(I=>{C=I.call({lexer:this},w),typeof C=="number"&&C>=0&&(_=Math.min(_,C))}),_<1/0&&_>=0&&(x=e.substring(0,_+1))}if(p=this.tokenizer.inlineText(x)){e=e.substring(p.raw.length),p.raw.slice(-1)!=="_"&&(o=p.raw.slice(-1)),s=!0;let _=n.at(-1);(_==null?void 0:_.type)==="text"?(_.raw+=p.raw,_.text+=p.text):n.push(p);continue}if(e){let _="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(_);break}else throw new Error(_)}}return n}},Op=class{constructor(t){ln(this,"options");ln(this,"parser");this.options=t||Yu}space(t){return""}code({text:t,lang:e,escaped:n}){var s;let r=(s=(e||"").match(Or.notSpaceStart))==null?void 0:s[0],i=t.replace(Or.endingNewline,"")+`
`;return r?'<pre><code class="language-'+bs(r)+'">'+(n?i:bs(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:bs(i,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,n=t.start,r="";for(let o=0;o<t.items.length;o++){let l=t.items[o];r+=this.listitem(l)}let i=e?"ol":"ul",s=e&&n!==1?' start="'+n+'"':"";return"<"+i+s+`>
`+r+"</"+i+`>
`}listitem(t){var n;let e="";if(t.task){let r=this.checkbox({checked:!!t.checked});t.loose?((n=t.tokens[0])==null?void 0:n.type)==="paragraph"?(t.tokens[0].text=r+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=r+" "+bs(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):e+=r+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",n="";for(let i=0;i<t.header.length;i++)n+=this.tablecell(t.header[i]);e+=this.tablerow({text:n});let r="";for(let i=0;i<t.rows.length;i++){let s=t.rows[i];n="";for(let o=0;o<s.length;o++)n+=this.tablecell(s[o]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${bs(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){let r=this.parser.parseInline(n),i=m3(t);if(i===null)return r;t=i;let s='<a href="'+t+'"';return e&&(s+=' title="'+bs(e)+'"'),s+=">"+r+"</a>",s}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=m3(t);if(i===null)return bs(n);t=i;let s=`<img src="${t}" alt="${n}"`;return e&&(s+=` title="${bs(e)}"`),s+=">",s}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:bs(t.text)}},T_=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Zi=class My{constructor(e){ln(this,"options");ln(this,"renderer");ln(this,"textRenderer");this.options=e||Yu,this.options.renderer=this.options.renderer||new Op,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new T_}static parse(e,n){return new My(n).parse(e)}static parseInline(e,n){return new My(n).parseInline(e)}parse(e,n=!0){var i,s;let r="";for(let o=0;o<e.length;o++){let l=e[o];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[l.type]){let c=l,d=this.options.extensions.renderers[c.type].call({parser:this},c);if(d!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(c.type)){r+=d||"";continue}}let f=l;switch(f.type){case"space":{r+=this.renderer.space(f);continue}case"hr":{r+=this.renderer.hr(f);continue}case"heading":{r+=this.renderer.heading(f);continue}case"code":{r+=this.renderer.code(f);continue}case"table":{r+=this.renderer.table(f);continue}case"blockquote":{r+=this.renderer.blockquote(f);continue}case"list":{r+=this.renderer.list(f);continue}case"html":{r+=this.renderer.html(f);continue}case"def":{r+=this.renderer.def(f);continue}case"paragraph":{r+=this.renderer.paragraph(f);continue}case"text":{let c=f,d=this.renderer.text(c);for(;o+1<e.length&&e[o+1].type==="text";)c=e[++o],d+=`
`+this.renderer.text(c);n?r+=this.renderer.paragraph({type:"paragraph",raw:d,text:d,tokens:[{type:"text",raw:d,text:d,escaped:!0}]}):r+=d;continue}default:{let c='Token with "'+f.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}parseInline(e,n=this.renderer){var i,s;let r="";for(let o=0;o<e.length;o++){let l=e[o];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[l.type]){let c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){r+=c||"";continue}}let f=l;switch(f.type){case"escape":{r+=n.text(f);break}case"html":{r+=n.html(f);break}case"link":{r+=n.link(f);break}case"image":{r+=n.image(f);break}case"strong":{r+=n.strong(f);break}case"em":{r+=n.em(f);break}case"codespan":{r+=n.codespan(f);break}case"br":{r+=n.br(f);break}case"del":{r+=n.del(f);break}case"text":{r+=n.text(f);break}default:{let c='Token with "'+f.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},Ud,Vf=(Ud=class{constructor(t){ln(this,"options");ln(this,"block");this.options=t||Yu}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?Qi.lex:Qi.lexInline}provideParser(){return this.block?Zi.parse:Zi.parseInline}},ln(Ud,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),ln(Ud,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Ud),uQ=class{constructor(...t){ln(this,"defaults",d_());ln(this,"options",this.setOptions);ln(this,"parse",this.parseMarkdown(!0));ln(this,"parseInline",this.parseMarkdown(!1));ln(this,"Parser",Zi);ln(this,"Renderer",Op);ln(this,"TextRenderer",T_);ln(this,"Lexer",Qi);ln(this,"Tokenizer",Lp);ln(this,"Hooks",Vf);this.use(...t)}walkTokens(t,e){var r,i;let n=[];for(let s of t)switch(n=n.concat(e.call(this,s)),s.type){case"table":{let o=s;for(let l of o.header)n=n.concat(this.walkTokens(l.tokens,e));for(let l of o.rows)for(let f of l)n=n.concat(this.walkTokens(f.tokens,e));break}case"list":{let o=s;n=n.concat(this.walkTokens(o.items,e));break}default:{let o=s;(i=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&i[o.type]?this.defaults.extensions.childTokens[o.type].forEach(l=>{let f=o[l].flat(1/0);n=n.concat(this.walkTokens(f,e))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,e)))}}return n}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let s=e.renderers[i.name];s?e.renderers[i.name]=function(...o){let l=i.renderer.apply(this,o);return l===!1&&(l=s.apply(this,o)),l}:e.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=e[i.level];s?s.unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),n.renderer){let i=this.defaults.renderer||new Op(this.defaults);for(let s in n.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let o=s,l=n.renderer[o],f=i[o];i[o]=(...c)=>{let d=l.apply(i,c);return d===!1&&(d=f.apply(i,c)),d||""}}r.renderer=i}if(n.tokenizer){let i=this.defaults.tokenizer||new Lp(this.defaults);for(let s in n.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let o=s,l=n.tokenizer[o],f=i[o];i[o]=(...c)=>{let d=l.apply(i,c);return d===!1&&(d=f.apply(i,c)),d}}r.tokenizer=i}if(n.hooks){let i=this.defaults.hooks||new Vf;for(let s in n.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let o=s,l=n.hooks[o],f=i[o];Vf.passThroughHooks.has(s)?i[o]=c=>{if(this.defaults.async&&Vf.passThroughHooksRespectAsync.has(s))return(async()=>{let g=await l.call(i,c);return f.call(i,g)})();let d=l.call(i,c);return f.call(i,d)}:i[o]=(...c)=>{if(this.defaults.async)return(async()=>{let g=await l.apply(i,c);return g===!1&&(g=await f.apply(i,c)),g})();let d=l.apply(i,c);return d===!1&&(d=f.apply(i,c)),d}}r.hooks=i}if(n.walkTokens){let i=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(o){let l=[];return l.push(s.call(this,o)),i&&(l=l.concat(i.call(this,o))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Qi.lex(t,e??this.defaults)}parser(t,e){return Zi.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{let r={...n},i={...this.defaults,...r},s=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&r.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(i.hooks&&(i.hooks.options=i,i.hooks.block=t),i.async)return(async()=>{let o=i.hooks?await i.hooks.preprocess(e):e,l=await(i.hooks?await i.hooks.provideLexer():t?Qi.lex:Qi.lexInline)(o,i),f=i.hooks?await i.hooks.processAllTokens(l):l;i.walkTokens&&await Promise.all(this.walkTokens(f,i.walkTokens));let c=await(i.hooks?await i.hooks.provideParser():t?Zi.parse:Zi.parseInline)(f,i);return i.hooks?await i.hooks.postprocess(c):c})().catch(s);try{i.hooks&&(e=i.hooks.preprocess(e));let o=(i.hooks?i.hooks.provideLexer():t?Qi.lex:Qi.lexInline)(e,i);i.hooks&&(o=i.hooks.processAllTokens(o)),i.walkTokens&&this.walkTokens(o,i.walkTokens);let l=(i.hooks?i.hooks.provideParser():t?Zi.parse:Zi.parseInline)(o,i);return i.hooks&&(l=i.hooks.postprocess(l)),l}catch(o){return s(o)}}}onError(t,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let r="<p>An error occurred:</p><pre>"+bs(n.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(n);throw n}}},Lu=new uQ;function Wt(t,e){return Lu.parse(t,e)}Wt.options=Wt.setOptions=function(t){return Lu.setOptions(t),Wt.defaults=Lu.defaults,pR(Wt.defaults),Wt};Wt.getDefaults=d_;Wt.defaults=Yu;Wt.use=function(...t){return Lu.use(...t),Wt.defaults=Lu.defaults,pR(Wt.defaults),Wt};Wt.walkTokens=function(t,e){return Lu.walkTokens(t,e)};Wt.parseInline=Lu.parseInline;Wt.Parser=Zi;Wt.parser=Zi.parse;Wt.Renderer=Op;Wt.TextRenderer=T_;Wt.Lexer=Qi;Wt.lexer=Qi.lex;Wt.Tokenizer=Lp;Wt.Hooks=Vf;Wt.parse=Wt;Wt.options;Wt.setOptions;Wt.use;Wt.walkTokens;Wt.parseInline;Zi.parse;Qi.lex;var Ki={},Yi={},ex={},Xi={},Nd={},y3;function lQ(){return y3||(y3=1,Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.default=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(function(t){return t.charCodeAt(0)}))),Nd}var Dd={},v3;function cQ(){return v3||(v3=1,Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.default=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(function(t){return t.charCodeAt(0)}))),Dd}var tx={},_3;function T3(){return _3||(_3=1,(function(t){var e;Object.defineProperty(t,"__esModule",{value:!0}),t.replaceCodePoint=t.fromCodePoint=void 0;var n=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);t.fromCodePoint=(e=String.fromCodePoint)!==null&&e!==void 0?e:function(s){var o="";return s>65535&&(s-=65536,o+=String.fromCharCode(s>>>10&1023|55296),s=56320|s&1023),o+=String.fromCharCode(s),o};function r(s){var o;return s>=55296&&s<=57343||s>1114111?65533:(o=n.get(s))!==null&&o!==void 0?o:s}t.replaceCodePoint=r;function i(s){return(0,t.fromCodePoint)(r(s))}t.default=i})(tx)),tx}var E3;function Fp(){return E3||(E3=1,(function(t){var e=Xi&&Xi.__createBinding||(Object.create?(function(M,F,q,ce){ce===void 0&&(ce=q);var oe=Object.getOwnPropertyDescriptor(F,q);(!oe||("get"in oe?!F.__esModule:oe.writable||oe.configurable))&&(oe={enumerable:!0,get:function(){return F[q]}}),Object.defineProperty(M,ce,oe)}):(function(M,F,q,ce){ce===void 0&&(ce=q),M[ce]=F[q]})),n=Xi&&Xi.__setModuleDefault||(Object.create?(function(M,F){Object.defineProperty(M,"default",{enumerable:!0,value:F})}):function(M,F){M.default=F}),r=Xi&&Xi.__importStar||function(M){if(M&&M.__esModule)return M;var F={};if(M!=null)for(var q in M)q!=="default"&&Object.prototype.hasOwnProperty.call(M,q)&&e(F,M,q);return n(F,M),F},i=Xi&&Xi.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXML=t.decodeHTMLStrict=t.decodeHTMLAttribute=t.decodeHTML=t.determineBranch=t.EntityDecoder=t.DecodingMode=t.BinTrieFlags=t.fromCodePoint=t.replaceCodePoint=t.decodeCodePoint=t.xmlDecodeTree=t.htmlDecodeTree=void 0;var s=i(lQ());t.htmlDecodeTree=s.default;var o=i(cQ());t.xmlDecodeTree=o.default;var l=r(T3());t.decodeCodePoint=l.default;var f=T3();Object.defineProperty(t,"replaceCodePoint",{enumerable:!0,get:function(){return f.replaceCodePoint}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return f.fromCodePoint}});var c;(function(M){M[M.NUM=35]="NUM",M[M.SEMI=59]="SEMI",M[M.EQUALS=61]="EQUALS",M[M.ZERO=48]="ZERO",M[M.NINE=57]="NINE",M[M.LOWER_A=97]="LOWER_A",M[M.LOWER_F=102]="LOWER_F",M[M.LOWER_X=120]="LOWER_X",M[M.LOWER_Z=122]="LOWER_Z",M[M.UPPER_A=65]="UPPER_A",M[M.UPPER_F=70]="UPPER_F",M[M.UPPER_Z=90]="UPPER_Z"})(c||(c={}));var d=32,g;(function(M){M[M.VALUE_LENGTH=49152]="VALUE_LENGTH",M[M.BRANCH_LENGTH=16256]="BRANCH_LENGTH",M[M.JUMP_TABLE=127]="JUMP_TABLE"})(g=t.BinTrieFlags||(t.BinTrieFlags={}));function p(M){return M>=c.ZERO&&M<=c.NINE}function x(M){return M>=c.UPPER_A&&M<=c.UPPER_F||M>=c.LOWER_A&&M<=c.LOWER_F}function _(M){return M>=c.UPPER_A&&M<=c.UPPER_Z||M>=c.LOWER_A&&M<=c.LOWER_Z||p(M)}function w(M){return M===c.EQUALS||_(M)}var C;(function(M){M[M.EntityStart=0]="EntityStart",M[M.NumericStart=1]="NumericStart",M[M.NumericDecimal=2]="NumericDecimal",M[M.NumericHex=3]="NumericHex",M[M.NamedEntity=4]="NamedEntity"})(C||(C={}));var I;(function(M){M[M.Legacy=0]="Legacy",M[M.Strict=1]="Strict",M[M.Attribute=2]="Attribute"})(I=t.DecodingMode||(t.DecodingMode={}));var P=(function(){function M(F,q,ce){this.decodeTree=F,this.emitCodePoint=q,this.errors=ce,this.state=C.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=I.Strict}return M.prototype.startEntity=function(F){this.decodeMode=F,this.state=C.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},M.prototype.write=function(F,q){switch(this.state){case C.EntityStart:return F.charCodeAt(q)===c.NUM?(this.state=C.NumericStart,this.consumed+=1,this.stateNumericStart(F,q+1)):(this.state=C.NamedEntity,this.stateNamedEntity(F,q));case C.NumericStart:return this.stateNumericStart(F,q);case C.NumericDecimal:return this.stateNumericDecimal(F,q);case C.NumericHex:return this.stateNumericHex(F,q);case C.NamedEntity:return this.stateNamedEntity(F,q)}},M.prototype.stateNumericStart=function(F,q){return q>=F.length?-1:(F.charCodeAt(q)|d)===c.LOWER_X?(this.state=C.NumericHex,this.consumed+=1,this.stateNumericHex(F,q+1)):(this.state=C.NumericDecimal,this.stateNumericDecimal(F,q))},M.prototype.addToNumericResult=function(F,q,ce,oe){if(q!==ce){var ae=ce-q;this.result=this.result*Math.pow(oe,ae)+parseInt(F.substr(q,ae),oe),this.consumed+=ae}},M.prototype.stateNumericHex=function(F,q){for(var ce=q;q<F.length;){var oe=F.charCodeAt(q);if(p(oe)||x(oe))q+=1;else return this.addToNumericResult(F,ce,q,16),this.emitNumericEntity(oe,3)}return this.addToNumericResult(F,ce,q,16),-1},M.prototype.stateNumericDecimal=function(F,q){for(var ce=q;q<F.length;){var oe=F.charCodeAt(q);if(p(oe))q+=1;else return this.addToNumericResult(F,ce,q,10),this.emitNumericEntity(oe,2)}return this.addToNumericResult(F,ce,q,10),-1},M.prototype.emitNumericEntity=function(F,q){var ce;if(this.consumed<=q)return(ce=this.errors)===null||ce===void 0||ce.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(F===c.SEMI)this.consumed+=1;else if(this.decodeMode===I.Strict)return 0;return this.emitCodePoint((0,l.replaceCodePoint)(this.result),this.consumed),this.errors&&(F!==c.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},M.prototype.stateNamedEntity=function(F,q){for(var ce=this.decodeTree,oe=ce[this.treeIndex],ae=(oe&g.VALUE_LENGTH)>>14;q<F.length;q++,this.excess++){var se=F.charCodeAt(q);if(this.treeIndex=L(ce,oe,this.treeIndex+Math.max(1,ae),se),this.treeIndex<0)return this.result===0||this.decodeMode===I.Attribute&&(ae===0||w(se))?0:this.emitNotTerminatedNamedEntity();if(oe=ce[this.treeIndex],ae=(oe&g.VALUE_LENGTH)>>14,ae!==0){if(se===c.SEMI)return this.emitNamedEntityData(this.treeIndex,ae,this.consumed+this.excess);this.decodeMode!==I.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},M.prototype.emitNotTerminatedNamedEntity=function(){var F,q=this,ce=q.result,oe=q.decodeTree,ae=(oe[ce]&g.VALUE_LENGTH)>>14;return this.emitNamedEntityData(ce,ae,this.consumed),(F=this.errors)===null||F===void 0||F.missingSemicolonAfterCharacterReference(),this.consumed},M.prototype.emitNamedEntityData=function(F,q,ce){var oe=this.decodeTree;return this.emitCodePoint(q===1?oe[F]&~g.VALUE_LENGTH:oe[F+1],ce),q===3&&this.emitCodePoint(oe[F+2],ce),ce},M.prototype.end=function(){var F;switch(this.state){case C.NamedEntity:return this.result!==0&&(this.decodeMode!==I.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case C.NumericDecimal:return this.emitNumericEntity(0,2);case C.NumericHex:return this.emitNumericEntity(0,3);case C.NumericStart:return(F=this.errors)===null||F===void 0||F.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case C.EntityStart:return 0}},M})();t.EntityDecoder=P;function A(M){var F="",q=new P(M,function(ce){return F+=(0,l.fromCodePoint)(ce)});return function(oe,ae){for(var se=0,ge=0;(ge=oe.indexOf("&",ge))>=0;){F+=oe.slice(se,ge),q.startEntity(ae);var Z=q.write(oe,ge+1);if(Z<0){se=ge+q.end();break}se=ge+Z,ge=Z===0?se+1:se}var Ee=F+oe.slice(se);return F="",Ee}}function L(M,F,q,ce){var oe=(F&g.BRANCH_LENGTH)>>7,ae=F&g.JUMP_TABLE;if(oe===0)return ae!==0&&ce===ae?q:-1;if(ae){var se=ce-ae;return se<0||se>=oe?-1:M[q+se]-1}for(var ge=q,Z=ge+oe-1;ge<=Z;){var Ee=ge+Z>>>1,G=M[Ee];if(G<ce)ge=Ee+1;else if(G>ce)Z=Ee-1;else return M[Ee+oe]}return-1}t.determineBranch=L;var D=A(s.default),O=A(o.default);function k(M,F){return F===void 0&&(F=I.Legacy),D(M,F)}t.decodeHTML=k;function N(M){return D(M,I.Attribute)}t.decodeHTMLAttribute=N;function R(M){return D(M,I.Strict)}t.decodeHTMLStrict=R;function V(M){return O(M,I.Strict)}t.decodeXML=V})(Xi)),Xi}var b3;function SR(){return b3||(b3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteType=void 0;var e=Fp(),n;(function(p){p[p.Tab=9]="Tab",p[p.NewLine=10]="NewLine",p[p.FormFeed=12]="FormFeed",p[p.CarriageReturn=13]="CarriageReturn",p[p.Space=32]="Space",p[p.ExclamationMark=33]="ExclamationMark",p[p.Number=35]="Number",p[p.Amp=38]="Amp",p[p.SingleQuote=39]="SingleQuote",p[p.DoubleQuote=34]="DoubleQuote",p[p.Dash=45]="Dash",p[p.Slash=47]="Slash",p[p.Zero=48]="Zero",p[p.Nine=57]="Nine",p[p.Semi=59]="Semi",p[p.Lt=60]="Lt",p[p.Eq=61]="Eq",p[p.Gt=62]="Gt",p[p.Questionmark=63]="Questionmark",p[p.UpperA=65]="UpperA",p[p.LowerA=97]="LowerA",p[p.UpperF=70]="UpperF",p[p.LowerF=102]="LowerF",p[p.UpperZ=90]="UpperZ",p[p.LowerZ=122]="LowerZ",p[p.LowerX=120]="LowerX",p[p.OpeningSquareBracket=91]="OpeningSquareBracket"})(n||(n={}));var r;(function(p){p[p.Text=1]="Text",p[p.BeforeTagName=2]="BeforeTagName",p[p.InTagName=3]="InTagName",p[p.InSelfClosingTag=4]="InSelfClosingTag",p[p.BeforeClosingTagName=5]="BeforeClosingTagName",p[p.InClosingTagName=6]="InClosingTagName",p[p.AfterClosingTagName=7]="AfterClosingTagName",p[p.BeforeAttributeName=8]="BeforeAttributeName",p[p.InAttributeName=9]="InAttributeName",p[p.AfterAttributeName=10]="AfterAttributeName",p[p.BeforeAttributeValue=11]="BeforeAttributeValue",p[p.InAttributeValueDq=12]="InAttributeValueDq",p[p.InAttributeValueSq=13]="InAttributeValueSq",p[p.InAttributeValueNq=14]="InAttributeValueNq",p[p.BeforeDeclaration=15]="BeforeDeclaration",p[p.InDeclaration=16]="InDeclaration",p[p.InProcessingInstruction=17]="InProcessingInstruction",p[p.BeforeComment=18]="BeforeComment",p[p.CDATASequence=19]="CDATASequence",p[p.InSpecialComment=20]="InSpecialComment",p[p.InCommentLike=21]="InCommentLike",p[p.BeforeSpecialS=22]="BeforeSpecialS",p[p.SpecialStartSequence=23]="SpecialStartSequence",p[p.InSpecialTag=24]="InSpecialTag",p[p.BeforeEntity=25]="BeforeEntity",p[p.BeforeNumericEntity=26]="BeforeNumericEntity",p[p.InNamedEntity=27]="InNamedEntity",p[p.InNumericEntity=28]="InNumericEntity",p[p.InHexEntity=29]="InHexEntity"})(r||(r={}));function i(p){return p===n.Space||p===n.NewLine||p===n.Tab||p===n.FormFeed||p===n.CarriageReturn}function s(p){return p===n.Slash||p===n.Gt||i(p)}function o(p){return p>=n.Zero&&p<=n.Nine}function l(p){return p>=n.LowerA&&p<=n.LowerZ||p>=n.UpperA&&p<=n.UpperZ}function f(p){return p>=n.UpperA&&p<=n.UpperF||p>=n.LowerA&&p<=n.LowerF}var c;(function(p){p[p.NoValue=0]="NoValue",p[p.Unquoted=1]="Unquoted",p[p.Single=2]="Single",p[p.Double=3]="Double"})(c=t.QuoteType||(t.QuoteType={}));var d={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},g=(function(){function p(x,_){var w=x.xmlMode,C=w===void 0?!1:w,I=x.decodeEntities,P=I===void 0?!0:I;this.cbs=_,this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=C,this.decodeEntities=P,this.entityTrie=C?e.xmlDecodeTree:e.htmlDecodeTree}return p.prototype.reset=function(){this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},p.prototype.write=function(x){this.offset+=this.buffer.length,this.buffer=x,this.parse()},p.prototype.end=function(){this.running&&this.finish()},p.prototype.pause=function(){this.running=!1},p.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},p.prototype.getIndex=function(){return this.index},p.prototype.getSectionStart=function(){return this.sectionStart},p.prototype.stateText=function(x){x===n.Lt||!this.decodeEntities&&this.fastForwardTo(n.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=r.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&x===n.Amp&&(this.state=r.BeforeEntity)},p.prototype.stateSpecialStartSequence=function(x){var _=this.sequenceIndex===this.currentSequence.length,w=_?s(x):(x|32)===this.currentSequence[this.sequenceIndex];if(!w)this.isSpecial=!1;else if(!_){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=r.InTagName,this.stateInTagName(x)},p.prototype.stateInSpecialTag=function(x){if(this.sequenceIndex===this.currentSequence.length){if(x===n.Gt||i(x)){var _=this.index-this.currentSequence.length;if(this.sectionStart<_){var w=this.index;this.index=_,this.cbs.ontext(this.sectionStart,_),this.index=w}this.isSpecial=!1,this.sectionStart=_+2,this.stateInClosingTagName(x);return}this.sequenceIndex=0}(x|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===d.TitleEnd?this.decodeEntities&&x===n.Amp&&(this.state=r.BeforeEntity):this.fastForwardTo(n.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(x===n.Lt)},p.prototype.stateCDATASequence=function(x){x===d.Cdata[this.sequenceIndex]?++this.sequenceIndex===d.Cdata.length&&(this.state=r.InCommentLike,this.currentSequence=d.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=r.InDeclaration,this.stateInDeclaration(x))},p.prototype.fastForwardTo=function(x){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===x)return!0;return this.index=this.buffer.length+this.offset-1,!1},p.prototype.stateInCommentLike=function(x){x===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=r.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):x!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},p.prototype.isTagStartChar=function(x){return this.xmlMode?!s(x):l(x)},p.prototype.startSpecial=function(x,_){this.isSpecial=!0,this.currentSequence=x,this.sequenceIndex=_,this.state=r.SpecialStartSequence},p.prototype.stateBeforeTagName=function(x){if(x===n.ExclamationMark)this.state=r.BeforeDeclaration,this.sectionStart=this.index+1;else if(x===n.Questionmark)this.state=r.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(x)){var _=x|32;this.sectionStart=this.index,!this.xmlMode&&_===d.TitleEnd[2]?this.startSpecial(d.TitleEnd,3):this.state=!this.xmlMode&&_===d.ScriptEnd[2]?r.BeforeSpecialS:r.InTagName}else x===n.Slash?this.state=r.BeforeClosingTagName:(this.state=r.Text,this.stateText(x))},p.prototype.stateInTagName=function(x){s(x)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(x))},p.prototype.stateBeforeClosingTagName=function(x){i(x)||(x===n.Gt?this.state=r.Text:(this.state=this.isTagStartChar(x)?r.InClosingTagName:r.InSpecialComment,this.sectionStart=this.index))},p.prototype.stateInClosingTagName=function(x){(x===n.Gt||i(x))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterClosingTagName,this.stateAfterClosingTagName(x))},p.prototype.stateAfterClosingTagName=function(x){(x===n.Gt||this.fastForwardTo(n.Gt))&&(this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1)},p.prototype.stateBeforeAttributeName=function(x){x===n.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=r.InSpecialTag,this.sequenceIndex=0):this.state=r.Text,this.baseState=this.state,this.sectionStart=this.index+1):x===n.Slash?this.state=r.InSelfClosingTag:i(x)||(this.state=r.InAttributeName,this.sectionStart=this.index)},p.prototype.stateInSelfClosingTag=function(x){x===n.Gt?(this.cbs.onselfclosingtag(this.index),this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1,this.isSpecial=!1):i(x)||(this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(x))},p.prototype.stateInAttributeName=function(x){(x===n.Eq||s(x))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterAttributeName,this.stateAfterAttributeName(x))},p.prototype.stateAfterAttributeName=function(x){x===n.Eq?this.state=r.BeforeAttributeValue:x===n.Slash||x===n.Gt?(this.cbs.onattribend(c.NoValue,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(x)):i(x)||(this.cbs.onattribend(c.NoValue,this.index),this.state=r.InAttributeName,this.sectionStart=this.index)},p.prototype.stateBeforeAttributeValue=function(x){x===n.DoubleQuote?(this.state=r.InAttributeValueDq,this.sectionStart=this.index+1):x===n.SingleQuote?(this.state=r.InAttributeValueSq,this.sectionStart=this.index+1):i(x)||(this.sectionStart=this.index,this.state=r.InAttributeValueNq,this.stateInAttributeValueNoQuotes(x))},p.prototype.handleInAttributeValue=function(x,_){x===_||!this.decodeEntities&&this.fastForwardTo(_)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(_===n.DoubleQuote?c.Double:c.Single,this.index),this.state=r.BeforeAttributeName):this.decodeEntities&&x===n.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},p.prototype.stateInAttributeValueDoubleQuotes=function(x){this.handleInAttributeValue(x,n.DoubleQuote)},p.prototype.stateInAttributeValueSingleQuotes=function(x){this.handleInAttributeValue(x,n.SingleQuote)},p.prototype.stateInAttributeValueNoQuotes=function(x){i(x)||x===n.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(c.Unquoted,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(x)):this.decodeEntities&&x===n.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},p.prototype.stateBeforeDeclaration=function(x){x===n.OpeningSquareBracket?(this.state=r.CDATASequence,this.sequenceIndex=0):this.state=x===n.Dash?r.BeforeComment:r.InDeclaration},p.prototype.stateInDeclaration=function(x){(x===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},p.prototype.stateInProcessingInstruction=function(x){(x===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},p.prototype.stateBeforeComment=function(x){x===n.Dash?(this.state=r.InCommentLike,this.currentSequence=d.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=r.InDeclaration},p.prototype.stateInSpecialComment=function(x){(x===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=r.Text,this.sectionStart=this.index+1)},p.prototype.stateBeforeSpecialS=function(x){var _=x|32;_===d.ScriptEnd[3]?this.startSpecial(d.ScriptEnd,4):_===d.StyleEnd[3]?this.startSpecial(d.StyleEnd,4):(this.state=r.InTagName,this.stateInTagName(x))},p.prototype.stateBeforeEntity=function(x){this.entityExcess=1,this.entityResult=0,x===n.Number?this.state=r.BeforeNumericEntity:x===n.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=r.InNamedEntity,this.stateInNamedEntity(x))},p.prototype.stateInNamedEntity=function(x){if(this.entityExcess+=1,this.trieIndex=(0,e.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,x),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var _=this.trieCurrent&e.BinTrieFlags.VALUE_LENGTH;if(_){var w=(_>>14)-1;if(!this.allowLegacyEntity()&&x!==n.Semi)this.trieIndex+=w;else{var C=this.index-this.entityExcess+1;C>this.sectionStart&&this.emitPartial(this.sectionStart,C),this.entityResult=this.trieIndex,this.trieIndex+=w,this.entityExcess=0,this.sectionStart=this.index+1,w===0&&this.emitNamedEntity()}}},p.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var x=(this.entityTrie[this.entityResult]&e.BinTrieFlags.VALUE_LENGTH)>>14;switch(x){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~e.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},p.prototype.stateBeforeNumericEntity=function(x){(x|32)===n.LowerX?(this.entityExcess++,this.state=r.InHexEntity):(this.state=r.InNumericEntity,this.stateInNumericEntity(x))},p.prototype.emitNumericEntity=function(x){var _=this.index-this.entityExcess-1,w=_+2+ +(this.state===r.InHexEntity);w!==this.index&&(_>this.sectionStart&&this.emitPartial(this.sectionStart,_),this.sectionStart=this.index+Number(x),this.emitCodePoint((0,e.replaceCodePoint)(this.entityResult))),this.state=this.baseState},p.prototype.stateInNumericEntity=function(x){x===n.Semi?this.emitNumericEntity(!0):o(x)?(this.entityResult=this.entityResult*10+(x-n.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},p.prototype.stateInHexEntity=function(x){x===n.Semi?this.emitNumericEntity(!0):o(x)?(this.entityResult=this.entityResult*16+(x-n.Zero),this.entityExcess++):f(x)?(this.entityResult=this.entityResult*16+((x|32)-n.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},p.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===r.Text||this.baseState===r.InSpecialTag)},p.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===r.Text||this.state===r.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===r.InAttributeValueDq||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},p.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},p.prototype.parse=function(){for(;this.shouldContinue();){var x=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case r.Text:{this.stateText(x);break}case r.SpecialStartSequence:{this.stateSpecialStartSequence(x);break}case r.InSpecialTag:{this.stateInSpecialTag(x);break}case r.CDATASequence:{this.stateCDATASequence(x);break}case r.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(x);break}case r.InAttributeName:{this.stateInAttributeName(x);break}case r.InCommentLike:{this.stateInCommentLike(x);break}case r.InSpecialComment:{this.stateInSpecialComment(x);break}case r.BeforeAttributeName:{this.stateBeforeAttributeName(x);break}case r.InTagName:{this.stateInTagName(x);break}case r.InClosingTagName:{this.stateInClosingTagName(x);break}case r.BeforeTagName:{this.stateBeforeTagName(x);break}case r.AfterAttributeName:{this.stateAfterAttributeName(x);break}case r.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(x);break}case r.BeforeAttributeValue:{this.stateBeforeAttributeValue(x);break}case r.BeforeClosingTagName:{this.stateBeforeClosingTagName(x);break}case r.AfterClosingTagName:{this.stateAfterClosingTagName(x);break}case r.BeforeSpecialS:{this.stateBeforeSpecialS(x);break}case r.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(x);break}case r.InSelfClosingTag:{this.stateInSelfClosingTag(x);break}case r.InDeclaration:{this.stateInDeclaration(x);break}case r.BeforeDeclaration:{this.stateBeforeDeclaration(x);break}case r.BeforeComment:{this.stateBeforeComment(x);break}case r.InProcessingInstruction:{this.stateInProcessingInstruction(x);break}case r.InNamedEntity:{this.stateInNamedEntity(x);break}case r.BeforeEntity:{this.stateBeforeEntity(x);break}case r.InHexEntity:{this.stateInHexEntity(x);break}case r.InNumericEntity:{this.stateInNumericEntity(x);break}default:this.stateBeforeNumericEntity(x)}this.index++}this.cleanup()},p.prototype.finish=function(){this.state===r.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},p.prototype.handleTrailingData=function(){var x=this.buffer.length+this.offset;this.state===r.InCommentLike?this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,x,0):this.cbs.oncomment(this.sectionStart,x,0):this.state===r.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InTagName||this.state===r.BeforeAttributeName||this.state===r.BeforeAttributeValue||this.state===r.AfterAttributeName||this.state===r.InAttributeName||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueDq||this.state===r.InAttributeValueNq||this.state===r.InClosingTagName||this.cbs.ontext(this.sectionStart,x)},p.prototype.emitPartial=function(x,_){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribdata(x,_):this.cbs.ontext(x,_)},p.prototype.emitCodePoint=function(x){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribentity(x):this.cbs.ontextentity(x)},p})();t.default=g})(ex)),ex}var w3;function S3(){if(w3)return Yi;w3=1;var t=Yi&&Yi.__createBinding||(Object.create?(function(C,I,P,A){A===void 0&&(A=P);var L=Object.getOwnPropertyDescriptor(I,P);(!L||("get"in L?!I.__esModule:L.writable||L.configurable))&&(L={enumerable:!0,get:function(){return I[P]}}),Object.defineProperty(C,A,L)}):(function(C,I,P,A){A===void 0&&(A=P),C[A]=I[P]})),e=Yi&&Yi.__setModuleDefault||(Object.create?(function(C,I){Object.defineProperty(C,"default",{enumerable:!0,value:I})}):function(C,I){C.default=I}),n=Yi&&Yi.__importStar||function(C){if(C&&C.__esModule)return C;var I={};if(C!=null)for(var P in C)P!=="default"&&Object.prototype.hasOwnProperty.call(C,P)&&t(I,C,P);return e(I,C),I};Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.Parser=void 0;var r=n(SR()),i=Fp(),s=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),l=new Set(["thead","tbody"]),f=new Set(["dd","dt"]),c=new Set(["rt","rp"]),d=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",o],["h1",o],["h2",o],["h3",o],["h4",o],["h5",o],["h6",o],["select",s],["input",s],["output",s],["button",s],["datalist",s],["textarea",s],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",f],["dt",f],["address",o],["article",o],["aside",o],["blockquote",o],["details",o],["div",o],["dl",o],["fieldset",o],["figcaption",o],["figure",o],["footer",o],["form",o],["header",o],["hr",o],["main",o],["nav",o],["ol",o],["pre",o],["section",o],["table",o],["ul",o],["rt",c],["rp",c],["tbody",l],["tfoot",l]]),g=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),p=new Set(["math","svg"]),x=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),_=/\s|\//,w=(function(){function C(I,P){P===void 0&&(P={});var A,L,D,O,k;this.options=P,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=I??{},this.lowerCaseTagNames=(A=P.lowerCaseTags)!==null&&A!==void 0?A:!P.xmlMode,this.lowerCaseAttributeNames=(L=P.lowerCaseAttributeNames)!==null&&L!==void 0?L:!P.xmlMode,this.tokenizer=new((D=P.Tokenizer)!==null&&D!==void 0?D:r.default)(this.options,this),(k=(O=this.cbs).onparserinit)===null||k===void 0||k.call(O,this)}return C.prototype.ontext=function(I,P){var A,L,D=this.getSlice(I,P);this.endIndex=P-1,(L=(A=this.cbs).ontext)===null||L===void 0||L.call(A,D),this.startIndex=P},C.prototype.ontextentity=function(I){var P,A,L=this.tokenizer.getSectionStart();this.endIndex=L-1,(A=(P=this.cbs).ontext)===null||A===void 0||A.call(P,(0,i.fromCodePoint)(I)),this.startIndex=L},C.prototype.isVoidElement=function(I){return!this.options.xmlMode&&g.has(I)},C.prototype.onopentagname=function(I,P){this.endIndex=P;var A=this.getSlice(I,P);this.lowerCaseTagNames&&(A=A.toLowerCase()),this.emitOpenTag(A)},C.prototype.emitOpenTag=function(I){var P,A,L,D;this.openTagStart=this.startIndex,this.tagname=I;var O=!this.options.xmlMode&&d.get(I);if(O)for(;this.stack.length>0&&O.has(this.stack[this.stack.length-1]);){var k=this.stack.pop();(A=(P=this.cbs).onclosetag)===null||A===void 0||A.call(P,k,!0)}this.isVoidElement(I)||(this.stack.push(I),p.has(I)?this.foreignContext.push(!0):x.has(I)&&this.foreignContext.push(!1)),(D=(L=this.cbs).onopentagname)===null||D===void 0||D.call(L,I),this.cbs.onopentag&&(this.attribs={})},C.prototype.endOpenTag=function(I){var P,A;this.startIndex=this.openTagStart,this.attribs&&((A=(P=this.cbs).onopentag)===null||A===void 0||A.call(P,this.tagname,this.attribs,I),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},C.prototype.onopentagend=function(I){this.endIndex=I,this.endOpenTag(!1),this.startIndex=I+1},C.prototype.onclosetag=function(I,P){var A,L,D,O,k,N;this.endIndex=P;var R=this.getSlice(I,P);if(this.lowerCaseTagNames&&(R=R.toLowerCase()),(p.has(R)||x.has(R))&&this.foreignContext.pop(),this.isVoidElement(R))!this.options.xmlMode&&R==="br"&&((L=(A=this.cbs).onopentagname)===null||L===void 0||L.call(A,"br"),(O=(D=this.cbs).onopentag)===null||O===void 0||O.call(D,"br",{},!0),(N=(k=this.cbs).onclosetag)===null||N===void 0||N.call(k,"br",!1));else{var V=this.stack.lastIndexOf(R);if(V!==-1)if(this.cbs.onclosetag)for(var M=this.stack.length-V;M--;)this.cbs.onclosetag(this.stack.pop(),M!==0);else this.stack.length=V;else!this.options.xmlMode&&R==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=P+1},C.prototype.onselfclosingtag=function(I){this.endIndex=I,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=I+1):this.onopentagend(I)},C.prototype.closeCurrentTag=function(I){var P,A,L=this.tagname;this.endOpenTag(I),this.stack[this.stack.length-1]===L&&((A=(P=this.cbs).onclosetag)===null||A===void 0||A.call(P,L,!I),this.stack.pop())},C.prototype.onattribname=function(I,P){this.startIndex=I;var A=this.getSlice(I,P);this.attribname=this.lowerCaseAttributeNames?A.toLowerCase():A},C.prototype.onattribdata=function(I,P){this.attribvalue+=this.getSlice(I,P)},C.prototype.onattribentity=function(I){this.attribvalue+=(0,i.fromCodePoint)(I)},C.prototype.onattribend=function(I,P){var A,L;this.endIndex=P,(L=(A=this.cbs).onattribute)===null||L===void 0||L.call(A,this.attribname,this.attribvalue,I===r.QuoteType.Double?'"':I===r.QuoteType.Single?"'":I===r.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},C.prototype.getInstructionName=function(I){var P=I.search(_),A=P<0?I:I.substr(0,P);return this.lowerCaseTagNames&&(A=A.toLowerCase()),A},C.prototype.ondeclaration=function(I,P){this.endIndex=P;var A=this.getSlice(I,P);if(this.cbs.onprocessinginstruction){var L=this.getInstructionName(A);this.cbs.onprocessinginstruction("!".concat(L),"!".concat(A))}this.startIndex=P+1},C.prototype.onprocessinginstruction=function(I,P){this.endIndex=P;var A=this.getSlice(I,P);if(this.cbs.onprocessinginstruction){var L=this.getInstructionName(A);this.cbs.onprocessinginstruction("?".concat(L),"?".concat(A))}this.startIndex=P+1},C.prototype.oncomment=function(I,P,A){var L,D,O,k;this.endIndex=P,(D=(L=this.cbs).oncomment)===null||D===void 0||D.call(L,this.getSlice(I,P-A)),(k=(O=this.cbs).oncommentend)===null||k===void 0||k.call(O),this.startIndex=P+1},C.prototype.oncdata=function(I,P,A){var L,D,O,k,N,R,V,M,F,q;this.endIndex=P;var ce=this.getSlice(I,P-A);this.options.xmlMode||this.options.recognizeCDATA?((D=(L=this.cbs).oncdatastart)===null||D===void 0||D.call(L),(k=(O=this.cbs).ontext)===null||k===void 0||k.call(O,ce),(R=(N=this.cbs).oncdataend)===null||R===void 0||R.call(N)):((M=(V=this.cbs).oncomment)===null||M===void 0||M.call(V,"[CDATA[".concat(ce,"]]")),(q=(F=this.cbs).oncommentend)===null||q===void 0||q.call(F)),this.startIndex=P+1},C.prototype.onend=function(){var I,P;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var A=this.stack.length;A>0;this.cbs.onclosetag(this.stack[--A],!0));}(P=(I=this.cbs).onend)===null||P===void 0||P.call(I)},C.prototype.reset=function(){var I,P,A,L;(P=(I=this.cbs).onreset)===null||P===void 0||P.call(I),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(L=(A=this.cbs).onparserinit)===null||L===void 0||L.call(A,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},C.prototype.parseComplete=function(I){this.reset(),this.end(I)},C.prototype.getSlice=function(I,P){for(;I-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var A=this.buffers[0].slice(I-this.bufferOffset,P-this.bufferOffset);P-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),A+=this.buffers[0].slice(0,P-this.bufferOffset);return A},C.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},C.prototype.write=function(I){var P,A;if(this.ended){(A=(P=this.cbs).onerror)===null||A===void 0||A.call(P,new Error(".write() after done!"));return}this.buffers.push(I),this.tokenizer.running&&(this.tokenizer.write(I),this.writeIndex++)},C.prototype.end=function(I){var P,A;if(this.ended){(A=(P=this.cbs).onerror)===null||A===void 0||A.call(P,new Error(".end() after done!"));return}I&&this.write(I),this.ended=!0,this.tokenizer.end()},C.prototype.pause=function(){this.tokenizer.pause()},C.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},C.prototype.parseChunk=function(I){this.write(I)},C.prototype.done=function(I){this.end(I)},C})();return Yi.Parser=w,Yi}var gu={},nx={},A3;function K0(){return A3||(A3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function n(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}t.isTag=n,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype})(nx)),nx}var Et={},C3;function I3(){if(C3)return Et;C3=1;var t=Et&&Et.__extends||(function(){var D=function(O,k){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,R){N.__proto__=R}||function(N,R){for(var V in R)Object.prototype.hasOwnProperty.call(R,V)&&(N[V]=R[V])},D(O,k)};return function(O,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");D(O,k);function N(){this.constructor=O}O.prototype=k===null?Object.create(k):(N.prototype=k.prototype,new N)}})(),e=Et&&Et.__assign||function(){return e=Object.assign||function(D){for(var O,k=1,N=arguments.length;k<N;k++){O=arguments[k];for(var R in O)Object.prototype.hasOwnProperty.call(O,R)&&(D[R]=O[R])}return D},e.apply(this,arguments)};Object.defineProperty(Et,"__esModule",{value:!0}),Et.cloneNode=Et.hasChildren=Et.isDocument=Et.isDirective=Et.isComment=Et.isText=Et.isCDATA=Et.isTag=Et.Element=Et.Document=Et.CDATA=Et.NodeWithChildren=Et.ProcessingInstruction=Et.Comment=Et.Text=Et.DataNode=Et.Node=void 0;var n=K0(),r=(function(){function D(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(D.prototype,"parentNode",{get:function(){return this.parent},set:function(O){this.parent=O},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"previousSibling",{get:function(){return this.prev},set:function(O){this.prev=O},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"nextSibling",{get:function(){return this.next},set:function(O){this.next=O},enumerable:!1,configurable:!0}),D.prototype.cloneNode=function(O){return O===void 0&&(O=!1),A(this,O)},D})();Et.Node=r;var i=(function(D){t(O,D);function O(k){var N=D.call(this)||this;return N.data=k,N}return Object.defineProperty(O.prototype,"nodeValue",{get:function(){return this.data},set:function(k){this.data=k},enumerable:!1,configurable:!0}),O})(r);Et.DataNode=i;var s=(function(D){t(O,D);function O(){var k=D!==null&&D.apply(this,arguments)||this;return k.type=n.ElementType.Text,k}return Object.defineProperty(O.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),O})(i);Et.Text=s;var o=(function(D){t(O,D);function O(){var k=D!==null&&D.apply(this,arguments)||this;return k.type=n.ElementType.Comment,k}return Object.defineProperty(O.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),O})(i);Et.Comment=o;var l=(function(D){t(O,D);function O(k,N){var R=D.call(this,N)||this;return R.name=k,R.type=n.ElementType.Directive,R}return Object.defineProperty(O.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),O})(i);Et.ProcessingInstruction=l;var f=(function(D){t(O,D);function O(k){var N=D.call(this)||this;return N.children=k,N}return Object.defineProperty(O.prototype,"firstChild",{get:function(){var k;return(k=this.children[0])!==null&&k!==void 0?k:null},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"childNodes",{get:function(){return this.children},set:function(k){this.children=k},enumerable:!1,configurable:!0}),O})(r);Et.NodeWithChildren=f;var c=(function(D){t(O,D);function O(){var k=D!==null&&D.apply(this,arguments)||this;return k.type=n.ElementType.CDATA,k}return Object.defineProperty(O.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),O})(f);Et.CDATA=c;var d=(function(D){t(O,D);function O(){var k=D!==null&&D.apply(this,arguments)||this;return k.type=n.ElementType.Root,k}return Object.defineProperty(O.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),O})(f);Et.Document=d;var g=(function(D){t(O,D);function O(k,N,R,V){R===void 0&&(R=[]),V===void 0&&(V=k==="script"?n.ElementType.Script:k==="style"?n.ElementType.Style:n.ElementType.Tag);var M=D.call(this,R)||this;return M.name=k,M.attribs=N,M.type=V,M}return Object.defineProperty(O.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"tagName",{get:function(){return this.name},set:function(k){this.name=k},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"attributes",{get:function(){var k=this;return Object.keys(this.attribs).map(function(N){var R,V;return{name:N,value:k.attribs[N],namespace:(R=k["x-attribsNamespace"])===null||R===void 0?void 0:R[N],prefix:(V=k["x-attribsPrefix"])===null||V===void 0?void 0:V[N]}})},enumerable:!1,configurable:!0}),O})(f);Et.Element=g;function p(D){return(0,n.isTag)(D)}Et.isTag=p;function x(D){return D.type===n.ElementType.CDATA}Et.isCDATA=x;function _(D){return D.type===n.ElementType.Text}Et.isText=_;function w(D){return D.type===n.ElementType.Comment}Et.isComment=w;function C(D){return D.type===n.ElementType.Directive}Et.isDirective=C;function I(D){return D.type===n.ElementType.Root}Et.isDocument=I;function P(D){return Object.prototype.hasOwnProperty.call(D,"children")}Et.hasChildren=P;function A(D,O){O===void 0&&(O=!1);var k;if(_(D))k=new s(D.data);else if(w(D))k=new o(D.data);else if(p(D)){var N=O?L(D.children):[],R=new g(D.name,e({},D.attribs),N);N.forEach(function(q){return q.parent=R}),D.namespace!=null&&(R.namespace=D.namespace),D["x-attribsNamespace"]&&(R["x-attribsNamespace"]=e({},D["x-attribsNamespace"])),D["x-attribsPrefix"]&&(R["x-attribsPrefix"]=e({},D["x-attribsPrefix"])),k=R}else if(x(D)){var N=O?L(D.children):[],V=new c(N);N.forEach(function(ce){return ce.parent=V}),k=V}else if(I(D)){var N=O?L(D.children):[],M=new d(N);N.forEach(function(ce){return ce.parent=M}),D["x-mode"]&&(M["x-mode"]=D["x-mode"]),k=M}else if(C(D)){var F=new l(D.name,D.data);D["x-name"]!=null&&(F["x-name"]=D["x-name"],F["x-publicId"]=D["x-publicId"],F["x-systemId"]=D["x-systemId"]),k=F}else throw new Error("Not implemented yet: ".concat(D.type));return k.startIndex=D.startIndex,k.endIndex=D.endIndex,D.sourceCodeLocation!=null&&(k.sourceCodeLocation=D.sourceCodeLocation),k}Et.cloneNode=A;function L(D){for(var O=D.map(function(N){return A(N,!0)}),k=1;k<O.length;k++)O[k].prev=O[k-1],O[k-1].next=O[k];return O}return Et}var k3;function Oo(){return k3||(k3=1,(function(t){var e=gu&&gu.__createBinding||(Object.create?(function(l,f,c,d){d===void 0&&(d=c);var g=Object.getOwnPropertyDescriptor(f,c);(!g||("get"in g?!f.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return f[c]}}),Object.defineProperty(l,d,g)}):(function(l,f,c,d){d===void 0&&(d=c),l[d]=f[c]})),n=gu&&gu.__exportStar||function(l,f){for(var c in l)c!=="default"&&!Object.prototype.hasOwnProperty.call(f,c)&&e(f,l,c)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var r=K0(),i=I3();n(I3(),t);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=(function(){function l(f,c,d){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof c=="function"&&(d=c,c=s),typeof f=="object"&&(c=f,f=void 0),this.callback=f??null,this.options=c??s,this.elementCB=d??null}return l.prototype.onparserinit=function(f){this.parser=f},l.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},l.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},l.prototype.onerror=function(f){this.handleCallback(f)},l.prototype.onclosetag=function(){this.lastNode=null;var f=this.tagStack.pop();this.options.withEndIndices&&(f.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(f)},l.prototype.onopentag=function(f,c){var d=this.options.xmlMode?r.ElementType.Tag:void 0,g=new i.Element(f,c,void 0,d);this.addNode(g),this.tagStack.push(g)},l.prototype.ontext=function(f){var c=this.lastNode;if(c&&c.type===r.ElementType.Text)c.data+=f,this.options.withEndIndices&&(c.endIndex=this.parser.endIndex);else{var d=new i.Text(f);this.addNode(d),this.lastNode=d}},l.prototype.oncomment=function(f){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=f;return}var c=new i.Comment(f);this.addNode(c),this.lastNode=c},l.prototype.oncommentend=function(){this.lastNode=null},l.prototype.oncdatastart=function(){var f=new i.Text(""),c=new i.CDATA([f]);this.addNode(c),f.parent=c,this.lastNode=f},l.prototype.oncdataend=function(){this.lastNode=null},l.prototype.onprocessinginstruction=function(f,c){var d=new i.ProcessingInstruction(f,c);this.addNode(d)},l.prototype.handleCallback=function(f){if(typeof this.callback=="function")this.callback(f,this.dom);else if(f)throw f},l.prototype.addNode=function(f){var c=this.tagStack[this.tagStack.length-1],d=c.children[c.children.length-1];this.options.withStartIndices&&(f.startIndex=this.parser.startIndex),this.options.withEndIndices&&(f.endIndex=this.parser.endIndex),c.children.push(f),d&&(f.prev=d,d.next=f),f.parent=c,this.lastNode=null},l})();t.DomHandler=o,t.default=o})(gu)),gu}var xu={},Ts={},$r={},rx={},ua={},Md={},R3;function fQ(){if(R3)return Md;R3=1,Object.defineProperty(Md,"__esModule",{value:!0});function t(e){for(var n=1;n<e.length;n++)e[n][0]+=e[n-1][0]+1;return e}return Md.default=new Map(t([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(t([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(t([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(t([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),Md}var ix={},N3;function Py(){return N3||(N3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.getCodePoint=t.xmlReplacer=void 0,t.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var e=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);t.getCodePoint=String.prototype.codePointAt!=null?function(i,s){return i.codePointAt(s)}:function(i,s){return(i.charCodeAt(s)&64512)===55296?(i.charCodeAt(s)-55296)*1024+i.charCodeAt(s+1)-56320+65536:i.charCodeAt(s)};function n(i){for(var s="",o=0,l;(l=t.xmlReplacer.exec(i))!==null;){var f=l.index,c=i.charCodeAt(f),d=e.get(c);d!==void 0?(s+=i.substring(o,f)+d,o=f+1):(s+="".concat(i.substring(o,f),"&#x").concat((0,t.getCodePoint)(i,f).toString(16),";"),o=t.xmlReplacer.lastIndex+=+((c&64512)===55296))}return s+i.substr(o)}t.encodeXML=n,t.escape=n;function r(i,s){return function(l){for(var f,c=0,d="";f=i.exec(l);)c!==f.index&&(d+=l.substring(c,f.index)),d+=s.get(f[0].charCodeAt(0)),c=f.index+1;return d+l.substring(c)}}t.escapeUTF8=r(/[&<>'"]/g,e),t.escapeAttribute=r(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),t.escapeText=r(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))})(ix)),ix}var D3;function M3(){if(D3)return ua;D3=1;var t=ua&&ua.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ua,"__esModule",{value:!0}),ua.encodeNonAsciiHTML=ua.encodeHTML=void 0;var e=t(fQ()),n=Py(),r=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function i(l){return o(r,l)}ua.encodeHTML=i;function s(l){return o(n.xmlReplacer,l)}ua.encodeNonAsciiHTML=s;function o(l,f){for(var c="",d=0,g;(g=l.exec(f))!==null;){var p=g.index;c+=f.substring(d,p);var x=f.charCodeAt(p),_=e.default.get(x);if(typeof _=="object"){if(p+1<f.length){var w=f.charCodeAt(p+1),C=typeof _.n=="number"?_.n===w?_.o:void 0:_.n.get(w);if(C!==void 0){c+=C,d=l.lastIndex+=1;continue}}_=_.v}if(_!==void 0)c+=_,d=p+1;else{var I=(0,n.getCodePoint)(f,p);c+="&#x".concat(I.toString(16),";"),d=l.lastIndex+=+(I!==x)}}return c+f.substr(d)}return ua}var P3;function hQ(){return P3||(P3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLAttribute=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.DecodingMode=t.EntityDecoder=t.encodeHTML5=t.encodeHTML4=t.encodeNonAsciiHTML=t.encodeHTML=t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.encode=t.decodeStrict=t.decode=t.EncodingMode=t.EntityLevel=void 0;var e=Fp(),n=M3(),r=Py(),i;(function(p){p[p.XML=0]="XML",p[p.HTML=1]="HTML"})(i=t.EntityLevel||(t.EntityLevel={}));var s;(function(p){p[p.UTF8=0]="UTF8",p[p.ASCII=1]="ASCII",p[p.Extensive=2]="Extensive",p[p.Attribute=3]="Attribute",p[p.Text=4]="Text"})(s=t.EncodingMode||(t.EncodingMode={}));function o(p,x){x===void 0&&(x=i.XML);var _=typeof x=="number"?x:x.level;if(_===i.HTML){var w=typeof x=="object"?x.mode:void 0;return(0,e.decodeHTML)(p,w)}return(0,e.decodeXML)(p)}t.decode=o;function l(p,x){var _;x===void 0&&(x=i.XML);var w=typeof x=="number"?{level:x}:x;return(_=w.mode)!==null&&_!==void 0||(w.mode=e.DecodingMode.Strict),o(p,w)}t.decodeStrict=l;function f(p,x){x===void 0&&(x=i.XML);var _=typeof x=="number"?{level:x}:x;return _.mode===s.UTF8?(0,r.escapeUTF8)(p):_.mode===s.Attribute?(0,r.escapeAttribute)(p):_.mode===s.Text?(0,r.escapeText)(p):_.level===i.HTML?_.mode===s.ASCII?(0,n.encodeNonAsciiHTML)(p):(0,n.encodeHTML)(p):(0,r.encodeXML)(p)}t.encode=f;var c=Py();Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return c.encodeXML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return c.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return c.escapeUTF8}}),Object.defineProperty(t,"escapeAttribute",{enumerable:!0,get:function(){return c.escapeAttribute}}),Object.defineProperty(t,"escapeText",{enumerable:!0,get:function(){return c.escapeText}});var d=M3();Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return d.encodeNonAsciiHTML}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return d.encodeHTML}});var g=Fp();Object.defineProperty(t,"EntityDecoder",{enumerable:!0,get:function(){return g.EntityDecoder}}),Object.defineProperty(t,"DecodingMode",{enumerable:!0,get:function(){return g.DecodingMode}}),Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return g.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return g.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return g.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTMLAttribute",{enumerable:!0,get:function(){return g.decodeHTMLAttribute}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return g.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return g.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return g.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return g.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return g.decodeXML}})})(rx)),rx}var yu={},L3;function dQ(){return L3||(L3=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.attributeNames=yu.elementNames=void 0,yu.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(t){return[t.toLowerCase(),t]})),yu.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(t){return[t.toLowerCase(),t]}))),yu}var O3;function pQ(){if(O3)return $r;O3=1;var t=$r&&$r.__assign||function(){return t=Object.assign||function(L){for(var D,O=1,k=arguments.length;O<k;O++){D=arguments[O];for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&(L[N]=D[N])}return L},t.apply(this,arguments)},e=$r&&$r.__createBinding||(Object.create?(function(L,D,O,k){k===void 0&&(k=O);var N=Object.getOwnPropertyDescriptor(D,O);(!N||("get"in N?!D.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return D[O]}}),Object.defineProperty(L,k,N)}):(function(L,D,O,k){k===void 0&&(k=O),L[k]=D[O]})),n=$r&&$r.__setModuleDefault||(Object.create?(function(L,D){Object.defineProperty(L,"default",{enumerable:!0,value:D})}):function(L,D){L.default=D}),r=$r&&$r.__importStar||function(L){if(L&&L.__esModule)return L;var D={};if(L!=null)for(var O in L)O!=="default"&&Object.prototype.hasOwnProperty.call(L,O)&&e(D,L,O);return n(D,L),D};Object.defineProperty($r,"__esModule",{value:!0}),$r.render=void 0;var i=r(K0()),s=hQ(),o=dQ(),l=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function f(L){return L.replace(/"/g,"&quot;")}function c(L,D){var O;if(L){var k=((O=D.encodeEntities)!==null&&O!==void 0?O:D.decodeEntities)===!1?f:D.xmlMode||D.encodeEntities!=="utf8"?s.encodeXML:s.escapeAttribute;return Object.keys(L).map(function(N){var R,V,M=(R=L[N])!==null&&R!==void 0?R:"";return D.xmlMode==="foreign"&&(N=(V=o.attributeNames.get(N))!==null&&V!==void 0?V:N),!D.emptyAttrs&&!D.xmlMode&&M===""?N:"".concat(N,'="').concat(k(M),'"')}).join(" ")}}var d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function g(L,D){D===void 0&&(D={});for(var O=("length"in L)?L:[L],k="",N=0;N<O.length;N++)k+=p(O[N],D);return k}$r.render=g,$r.default=g;function p(L,D){switch(L.type){case i.Root:return g(L.children,D);case i.Doctype:case i.Directive:return C(L);case i.Comment:return A(L);case i.CDATA:return P(L);case i.Script:case i.Style:case i.Tag:return w(L,D);case i.Text:return I(L,D)}}var x=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),_=new Set(["svg","math"]);function w(L,D){var O;D.xmlMode==="foreign"&&(L.name=(O=o.elementNames.get(L.name))!==null&&O!==void 0?O:L.name,L.parent&&x.has(L.parent.name)&&(D=t(t({},D),{xmlMode:!1}))),!D.xmlMode&&_.has(L.name)&&(D=t(t({},D),{xmlMode:"foreign"}));var k="<".concat(L.name),N=c(L.attribs,D);return N&&(k+=" ".concat(N)),L.children.length===0&&(D.xmlMode?D.selfClosingTags!==!1:D.selfClosingTags&&d.has(L.name))?(D.xmlMode||(k+=" "),k+="/>"):(k+=">",L.children.length>0&&(k+=g(L.children,D)),(D.xmlMode||!d.has(L.name))&&(k+="</".concat(L.name,">"))),k}function C(L){return"<".concat(L.data,">")}function I(L,D){var O,k=L.data||"";return((O=D.encodeEntities)!==null&&O!==void 0?O:D.decodeEntities)!==!1&&!(!D.xmlMode&&L.parent&&l.has(L.parent.name))&&(k=D.xmlMode||D.encodeEntities!=="utf8"?(0,s.encodeXML)(k):(0,s.escapeText)(k)),k}function P(L){return"<![CDATA[".concat(L.children[0].data,"]]>")}function A(L){return"<!--".concat(L.data,"-->")}return $r}var F3;function AR(){if(F3)return Ts;F3=1;var t=Ts&&Ts.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.getOuterHTML=i,Ts.getInnerHTML=s,Ts.getText=o,Ts.textContent=l,Ts.innerText=f;var e=Oo(),n=t(pQ()),r=K0();function i(c,d){return(0,n.default)(c,d)}function s(c,d){return(0,e.hasChildren)(c)?c.children.map(function(g){return i(g,d)}).join(""):""}function o(c){return Array.isArray(c)?c.map(o).join(""):(0,e.isTag)(c)?c.name==="br"?`
`:o(c.children):(0,e.isCDATA)(c)?o(c.children):(0,e.isText)(c)?c.data:""}function l(c){return Array.isArray(c)?c.map(l).join(""):(0,e.hasChildren)(c)&&!(0,e.isComment)(c)?l(c.children):(0,e.isText)(c)?c.data:""}function f(c){return Array.isArray(c)?c.map(f).join(""):(0,e.hasChildren)(c)&&(c.type===r.ElementType.Tag||(0,e.isCDATA)(c))?f(c.children):(0,e.isText)(c)?c.data:""}return Ts}var Ji={},U3;function mQ(){if(U3)return Ji;U3=1,Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.getChildren=e,Ji.getParent=n,Ji.getSiblings=r,Ji.getAttributeValue=i,Ji.hasAttrib=s,Ji.getName=o,Ji.nextElementSibling=l,Ji.prevElementSibling=f;var t=Oo();function e(c){return(0,t.hasChildren)(c)?c.children:[]}function n(c){return c.parent||null}function r(c){var d,g,p=n(c);if(p!=null)return e(p);for(var x=[c],_=c.prev,w=c.next;_!=null;)x.unshift(_),d=_,_=d.prev;for(;w!=null;)x.push(w),g=w,w=g.next;return x}function i(c,d){var g;return(g=c.attribs)===null||g===void 0?void 0:g[d]}function s(c,d){return c.attribs!=null&&Object.prototype.hasOwnProperty.call(c.attribs,d)&&c.attribs[d]!=null}function o(c){return c.name}function l(c){for(var d,g=c.next;g!==null&&!(0,t.isTag)(g);)d=g,g=d.next;return g}function f(c){for(var d,g=c.prev;g!==null&&!(0,t.isTag)(g);)d=g,g=d.prev;return g}return Ji}var la={},V3;function gQ(){if(V3)return la;V3=1,Object.defineProperty(la,"__esModule",{value:!0}),la.removeElement=t,la.replaceElement=e,la.appendChild=n,la.append=r,la.prependChild=i,la.prepend=s;function t(o){if(o.prev&&(o.prev.next=o.next),o.next&&(o.next.prev=o.prev),o.parent){var l=o.parent.children,f=l.lastIndexOf(o);f>=0&&l.splice(f,1)}o.next=null,o.prev=null,o.parent=null}function e(o,l){var f=l.prev=o.prev;f&&(f.next=l);var c=l.next=o.next;c&&(c.prev=l);var d=l.parent=o.parent;if(d){var g=d.children;g[g.lastIndexOf(o)]=l,o.parent=null}}function n(o,l){if(t(l),l.next=null,l.parent=o,o.children.push(l)>1){var f=o.children[o.children.length-2];f.next=l,l.prev=f}else l.prev=null}function r(o,l){t(l);var f=o.parent,c=o.next;if(l.next=c,l.prev=o,o.next=l,l.parent=f,c){if(c.prev=l,f){var d=f.children;d.splice(d.lastIndexOf(c),0,l)}}else f&&f.children.push(l)}function i(o,l){if(t(l),l.parent=o,l.prev=null,o.children.unshift(l)!==1){var f=o.children[1];f.prev=l,l.next=f}else l.next=null}function s(o,l){t(l);var f=o.parent;if(f){var c=f.children;c.splice(c.indexOf(o),0,l)}o.prev&&(o.prev.next=l),l.parent=f,l.prev=o.prev,l.next=o,o.prev=l}return la}var ca={},B3;function CR(){if(B3)return ca;B3=1,Object.defineProperty(ca,"__esModule",{value:!0}),ca.filter=e,ca.find=n,ca.findOneChild=r,ca.findOne=i,ca.existsOne=s,ca.findAll=o;var t=Oo();function e(l,f,c,d){return c===void 0&&(c=!0),d===void 0&&(d=1/0),n(l,Array.isArray(f)?f:[f],c,d)}function n(l,f,c,d){for(var g=[],p=[Array.isArray(f)?f:[f]],x=[0];;){if(x[0]>=p[0].length){if(x.length===1)return g;p.shift(),x.shift();continue}var _=p[0][x[0]++];if(l(_)&&(g.push(_),--d<=0))return g;c&&(0,t.hasChildren)(_)&&_.children.length>0&&(x.unshift(0),p.unshift(_.children))}}function r(l,f){return f.find(l)}function i(l,f,c){c===void 0&&(c=!0);for(var d=Array.isArray(f)?f:[f],g=0;g<d.length;g++){var p=d[g];if((0,t.isTag)(p)&&l(p))return p;if(c&&(0,t.hasChildren)(p)&&p.children.length>0){var x=i(l,p.children,!0);if(x)return x}}return null}function s(l,f){return(Array.isArray(f)?f:[f]).some(function(c){return(0,t.isTag)(c)&&l(c)||(0,t.hasChildren)(c)&&s(l,c.children)})}function o(l,f){for(var c=[],d=[Array.isArray(f)?f:[f]],g=[0];;){if(g[0]>=d[0].length){if(d.length===1)return c;d.shift(),g.shift();continue}var p=d[0][g[0]++];(0,t.isTag)(p)&&l(p)&&c.push(p),(0,t.hasChildren)(p)&&p.children.length>0&&(g.unshift(0),d.unshift(p.children))}}return ca}var fa={},q3;function IR(){if(q3)return fa;q3=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.testElement=o,fa.getElements=l,fa.getElementById=f,fa.getElementsByTagName=c,fa.getElementsByClassName=d,fa.getElementsByTagType=g;var t=Oo(),e=CR(),n={tag_name:function(p){return typeof p=="function"?function(x){return(0,t.isTag)(x)&&p(x.name)}:p==="*"?t.isTag:function(x){return(0,t.isTag)(x)&&x.name===p}},tag_type:function(p){return typeof p=="function"?function(x){return p(x.type)}:function(x){return x.type===p}},tag_contains:function(p){return typeof p=="function"?function(x){return(0,t.isText)(x)&&p(x.data)}:function(x){return(0,t.isText)(x)&&x.data===p}}};function r(p,x){return typeof x=="function"?function(_){return(0,t.isTag)(_)&&x(_.attribs[p])}:function(_){return(0,t.isTag)(_)&&_.attribs[p]===x}}function i(p,x){return function(_){return p(_)||x(_)}}function s(p){var x=Object.keys(p).map(function(_){var w=p[_];return Object.prototype.hasOwnProperty.call(n,_)?n[_](w):r(_,w)});return x.length===0?null:x.reduce(i)}function o(p,x){var _=s(p);return _?_(x):!0}function l(p,x,_,w){w===void 0&&(w=1/0);var C=s(p);return C?(0,e.filter)(C,x,_,w):[]}function f(p,x,_){return _===void 0&&(_=!0),Array.isArray(x)||(x=[x]),(0,e.findOne)(r("id",p),x,_)}function c(p,x,_,w){return _===void 0&&(_=!0),w===void 0&&(w=1/0),(0,e.filter)(n.tag_name(p),x,_,w)}function d(p,x,_,w){return _===void 0&&(_=!0),w===void 0&&(w=1/0),(0,e.filter)(r("class",p),x,_,w)}function g(p,x,_,w){return _===void 0&&(_=!0),w===void 0&&(w=1/0),(0,e.filter)(n.tag_type(p),x,_,w)}return fa}var oo={},H3;function xQ(){if(H3)return oo;H3=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.DocumentPosition=void 0,oo.removeSubsets=e,oo.compareDocumentPosition=r,oo.uniqueSort=i;var t=Oo();function e(s){for(var o=s.length;--o>=0;){var l=s[o];if(o>0&&s.lastIndexOf(l,o-1)>=0){s.splice(o,1);continue}for(var f=l.parent;f;f=f.parent)if(s.includes(f)){s.splice(o,1);break}}return s}var n;(function(s){s[s.DISCONNECTED=1]="DISCONNECTED",s[s.PRECEDING=2]="PRECEDING",s[s.FOLLOWING=4]="FOLLOWING",s[s.CONTAINS=8]="CONTAINS",s[s.CONTAINED_BY=16]="CONTAINED_BY"})(n||(oo.DocumentPosition=n={}));function r(s,o){var l=[],f=[];if(s===o)return 0;for(var c=(0,t.hasChildren)(s)?s:s.parent;c;)l.unshift(c),c=c.parent;for(c=(0,t.hasChildren)(o)?o:o.parent;c;)f.unshift(c),c=c.parent;for(var d=Math.min(l.length,f.length),g=0;g<d&&l[g]===f[g];)g++;if(g===0)return n.DISCONNECTED;var p=l[g-1],x=p.children,_=l[g],w=f[g];return x.indexOf(_)>x.indexOf(w)?p===o?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:p===s?n.PRECEDING|n.CONTAINS:n.PRECEDING}function i(s){return s=s.filter(function(o,l,f){return!f.includes(o,l+1)}),s.sort(function(o,l){var f=r(o,l);return f&n.PRECEDING?-1:f&n.FOLLOWING?1:0}),s}return oo}var Pd={},z3;function yQ(){if(z3)return Pd;z3=1,Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.getFeed=n;var t=AR(),e=IR();function n(p){var x=f(g,p);return x?x.name==="feed"?r(x):i(x):null}function r(p){var x,_=p.children,w={type:"atom",items:(0,e.getElementsByTagName)("entry",_).map(function(P){var A,L=P.children,D={media:l(L)};d(D,"id","id",L),d(D,"title","title",L);var O=(A=f("link",L))===null||A===void 0?void 0:A.attribs.href;O&&(D.link=O);var k=c("summary",L)||c("content",L);k&&(D.description=k);var N=c("updated",L);return N&&(D.pubDate=new Date(N)),D})};d(w,"id","id",_),d(w,"title","title",_);var C=(x=f("link",_))===null||x===void 0?void 0:x.attribs.href;C&&(w.link=C),d(w,"description","subtitle",_);var I=c("updated",_);return I&&(w.updated=new Date(I)),d(w,"author","email",_,!0),w}function i(p){var x,_,w=(_=(x=f("channel",p.children))===null||x===void 0?void 0:x.children)!==null&&_!==void 0?_:[],C={type:p.name.substr(0,3),id:"",items:(0,e.getElementsByTagName)("item",p.children).map(function(P){var A=P.children,L={media:l(A)};d(L,"id","guid",A),d(L,"title","title",A),d(L,"link","link",A),d(L,"description","description",A);var D=c("pubDate",A)||c("dc:date",A);return D&&(L.pubDate=new Date(D)),L})};d(C,"title","title",w),d(C,"link","link",w),d(C,"description","description",w);var I=c("lastBuildDate",w);return I&&(C.updated=new Date(I)),d(C,"author","managingEditor",w,!0),C}var s=["url","type","lang"],o=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function l(p){return(0,e.getElementsByTagName)("media:content",p).map(function(x){for(var _=x.attribs,w={medium:_.medium,isDefault:!!_.isDefault},C=0,I=s;C<I.length;C++){var P=I[C];_[P]&&(w[P]=_[P])}for(var A=0,L=o;A<L.length;A++){var P=L[A];_[P]&&(w[P]=parseInt(_[P],10))}return _.expression&&(w.expression=_.expression),w})}function f(p,x){return(0,e.getElementsByTagName)(p,x,!0,1)[0]}function c(p,x,_){return _===void 0&&(_=!1),(0,t.textContent)((0,e.getElementsByTagName)(p,x,_,1)).trim()}function d(p,x,_,w,C){C===void 0&&(C=!1);var I=c(_,w,C);I&&(p[x]=I)}function g(p){return p==="rss"||p==="feed"||p==="rdf:RDF"}return Pd}var G3;function sx(){return G3||(G3=1,(function(t){var e=xu&&xu.__createBinding||(Object.create?(function(i,s,o,l){l===void 0&&(l=o);var f=Object.getOwnPropertyDescriptor(s,o);(!f||("get"in f?!s.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,l,f)}):(function(i,s,o,l){l===void 0&&(l=o),i[l]=s[o]})),n=xu&&xu.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,i,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isDocument=t.isComment=t.isText=t.isCDATA=t.isTag=void 0,n(AR(),t),n(mQ(),t),n(gQ(),t),n(CR(),t),n(IR(),t),n(xQ(),t),n(yQ(),t);var r=Oo();Object.defineProperty(t,"isTag",{enumerable:!0,get:function(){return r.isTag}}),Object.defineProperty(t,"isCDATA",{enumerable:!0,get:function(){return r.isCDATA}}),Object.defineProperty(t,"isText",{enumerable:!0,get:function(){return r.isText}}),Object.defineProperty(t,"isComment",{enumerable:!0,get:function(){return r.isComment}}),Object.defineProperty(t,"isDocument",{enumerable:!0,get:function(){return r.isDocument}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return r.hasChildren}})})(xu)),xu}var j3;function vQ(){return j3||(j3=1,(function(t){var e=Ki&&Ki.__createBinding||(Object.create?(function(I,P,A,L){L===void 0&&(L=A);var D=Object.getOwnPropertyDescriptor(P,A);(!D||("get"in D?!P.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return P[A]}}),Object.defineProperty(I,L,D)}):(function(I,P,A,L){L===void 0&&(L=A),I[L]=P[A]})),n=Ki&&Ki.__setModuleDefault||(Object.create?(function(I,P){Object.defineProperty(I,"default",{enumerable:!0,value:P})}):function(I,P){I.default=P}),r=Ki&&Ki.__importStar||function(I){if(I&&I.__esModule)return I;var P={};if(I!=null)for(var A in I)A!=="default"&&Object.prototype.hasOwnProperty.call(I,A)&&e(P,I,A);return n(P,I),P},i=Ki&&Ki.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DefaultHandler=t.DomHandler=t.Parser=void 0;var s=S3(),o=S3();Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return o.Parser}});var l=Oo(),f=Oo();Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return f.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return f.DomHandler}});function c(I,P){var A=new l.DomHandler(void 0,P);return new s.Parser(A,P).end(I),A.root}t.parseDocument=c;function d(I,P){return c(I,P).children}t.parseDOM=d;function g(I,P,A){var L=new l.DomHandler(I,P,A);return new s.Parser(L,P)}t.createDomStream=g;var p=SR();Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return i(p).default}}),t.ElementType=r(K0());var x=sx(),_=sx();Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return _.getFeed}});var w={xmlMode:!0};function C(I,P){return P===void 0&&(P=w),(0,x.getFeed)(d(I,P))}t.parseFeed=C,t.DomUtils=r(sx())})(Ki)),Ki}var ax,$3;function _Q(){return $3||($3=1,ax=t=>{if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}),ax}var Ld={},W3;function TQ(){if(W3)return Ld;W3=1,Object.defineProperty(Ld,"__esModule",{value:!0});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function t(n){return Object.prototype.toString.call(n)==="[object Object]"}function e(n){var r,i;return t(n)===!1?!1:(r=n.constructor,r===void 0?!0:(i=r.prototype,!(t(i)===!1||i.hasOwnProperty("isPrototypeOf")===!1)))}return Ld.isPlainObject=e,Ld}var ox,K3;function EQ(){if(K3)return ox;K3=1;var t=function(P){return e(P)&&!n(P)};function e(I){return!!I&&typeof I=="object"}function n(I){var P=Object.prototype.toString.call(I);return P==="[object RegExp]"||P==="[object Date]"||s(I)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function s(I){return I.$$typeof===i}function o(I){return Array.isArray(I)?[]:{}}function l(I,P){return P.clone!==!1&&P.isMergeableObject(I)?w(o(I),I,P):I}function f(I,P,A){return I.concat(P).map(function(L){return l(L,A)})}function c(I,P){if(!P.customMerge)return w;var A=P.customMerge(I);return typeof A=="function"?A:w}function d(I){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(I).filter(function(P){return Object.propertyIsEnumerable.call(I,P)}):[]}function g(I){return Object.keys(I).concat(d(I))}function p(I,P){try{return P in I}catch{return!1}}function x(I,P){return p(I,P)&&!(Object.hasOwnProperty.call(I,P)&&Object.propertyIsEnumerable.call(I,P))}function _(I,P,A){var L={};return A.isMergeableObject(I)&&g(I).forEach(function(D){L[D]=l(I[D],A)}),g(P).forEach(function(D){x(I,D)||(p(I,D)&&A.isMergeableObject(P[D])?L[D]=c(D,A)(I[D],P[D],A):L[D]=l(P[D],A))}),L}function w(I,P,A){A=A||{},A.arrayMerge=A.arrayMerge||f,A.isMergeableObject=A.isMergeableObject||t,A.cloneUnlessOtherwiseSpecified=l;var L=Array.isArray(P),D=Array.isArray(I),O=L===D;return O?L?A.arrayMerge(I,P,A):_(I,P,A):l(P,A)}w.all=function(P,A){if(!Array.isArray(P))throw new Error("first argument should be an array");return P.reduce(function(L,D){return w(L,D,A)},{})};var C=w;return ox=C,ox}var Qd={exports:{}},bQ=Qd.exports,Y3;function wQ(){return Y3||(Y3=1,(function(t){(function(e,n){t.exports?t.exports=n():e.parseSrcset=n()})(bQ,function(){return function(e){function n(L){return L===" "||L==="	"||L===`
`||L==="\f"||L==="\r"}function r(L){var D,O=L.exec(e.substring(C));if(O)return D=O[0],C+=D.length,D}for(var i=e.length,s=/^[ \t\n\r\u000c]+/,o=/^[, \t\n\r\u000c]+/,l=/^[^ \t\n\r\u000c]+/,f=/[,]+$/,c=/^\d+$/,d=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,g,p,x,_,w,C=0,I=[];;){if(r(o),C>=i)return I;g=r(l),p=[],g.slice(-1)===","?(g=g.replace(f,""),A()):P()}function P(){for(r(s),x="",_="in descriptor";;){if(w=e.charAt(C),_==="in descriptor")if(n(w))x&&(p.push(x),x="",_="after descriptor");else if(w===","){C+=1,x&&p.push(x),A();return}else if(w==="(")x=x+w,_="in parens";else if(w===""){x&&p.push(x),A();return}else x=x+w;else if(_==="in parens")if(w===")")x=x+w,_="in descriptor";else if(w===""){p.push(x),A();return}else x=x+w;else if(_==="after descriptor"&&!n(w))if(w===""){A();return}else _="in descriptor",C-=1;C+=1}}function A(){var L=!1,D,O,k,N,R={},V,M,F,q,ce;for(N=0;N<p.length;N++)V=p[N],M=V[V.length-1],F=V.substring(0,V.length-1),q=parseInt(F,10),ce=parseFloat(F),c.test(F)&&M==="w"?((D||O)&&(L=!0),q===0?L=!0:D=q):d.test(F)&&M==="x"?((D||O||k)&&(L=!0),ce<0?L=!0:O=ce):c.test(F)&&M==="h"?((k||O)&&(L=!0),q===0?L=!0:k=q):L=!0;L?console&&console.log&&console.log("Invalid srcset descriptor found in '"+e+"' at '"+V+"'."):(R.url=g,D&&(R.w=D),O&&(R.d=O),k&&(R.h=k),I.push(R))}}})})(Qd)),Qd.exports}var Od={exports:{}},X3;function SQ(){if(X3)return Od.exports;X3=1;var t=String,e=function(){return{isColorSupported:!1,reset:t,bold:t,dim:t,italic:t,underline:t,inverse:t,hidden:t,strikethrough:t,black:t,red:t,green:t,yellow:t,blue:t,magenta:t,cyan:t,white:t,gray:t,bgBlack:t,bgRed:t,bgGreen:t,bgYellow:t,bgBlue:t,bgMagenta:t,bgCyan:t,bgWhite:t,blackBright:t,redBright:t,greenBright:t,yellowBright:t,blueBright:t,magentaBright:t,cyanBright:t,whiteBright:t,bgBlackBright:t,bgRedBright:t,bgGreenBright:t,bgYellowBright:t,bgBlueBright:t,bgMagentaBright:t,bgCyanBright:t,bgWhiteBright:t}};return Od.exports=e(),Od.exports.createColors=e,Od.exports}const AQ={},CQ=Object.freeze(Object.defineProperty({__proto__:null,default:AQ},Symbol.toStringTag,{value:"Module"})),is=x8(CQ);var ux,J3;function E_(){if(J3)return ux;J3=1;let t=SQ(),e=is;class n extends Error{constructor(i,s,o,l,f,c){super(i),this.name="CssSyntaxError",this.reason=i,f&&(this.file=f),l&&(this.source=l),c&&(this.plugin=c),typeof s<"u"&&typeof o<"u"&&(typeof s=="number"?(this.line=s,this.column=o):(this.line=s.line,this.column=s.column,this.endLine=o.line,this.endColumn=o.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,n)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(i){if(!this.source)return"";let s=this.source;i==null&&(i=t.isColorSupported);let o=x=>x,l=x=>x,f=x=>x;if(i){let{bold:x,gray:_,red:w}=t.createColors(!0);l=C=>x(w(C)),o=C=>_(C),e&&(f=C=>e(C))}let c=s.split(/\r?\n/),d=Math.max(this.line-3,0),g=Math.min(this.line+2,c.length),p=String(g).length;return c.slice(d,g).map((x,_)=>{let w=d+1+_,C=" "+(" "+w).slice(-p)+" | ";if(w===this.line){if(x.length>160){let P=20,A=Math.max(0,this.column-P),L=Math.max(this.column+P,this.endColumn+P),D=x.slice(A,L),O=o(C.replace(/\d/g," "))+x.slice(0,Math.min(this.column-1,P-1)).replace(/[^\t]/g," ");return l(">")+o(C)+f(D)+`
 `+O+l("^")}let I=o(C.replace(/\d/g," "))+x.slice(0,this.column-1).replace(/[^\t]/g," ");return l(">")+o(C)+f(x)+`
 `+I+l("^")}return" "+o(C)+f(x)}).join(`
`)}toString(){let i=this.showSourceCode();return i&&(i=`

`+i+`
`),this.name+": "+this.message+i}}return ux=n,n.default=n,ux}var lx,Q3;function kR(){if(Q3)return lx;Q3=1;const t={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function e(r){return r[0].toUpperCase()+r.slice(1)}class n{constructor(i){this.builder=i}atrule(i,s){let o="@"+i.name,l=i.params?this.rawValue(i,"params"):"";if(typeof i.raws.afterName<"u"?o+=i.raws.afterName:l&&(o+=" "),i.nodes)this.block(i,o+l);else{let f=(i.raws.between||"")+(s?";":"");this.builder(o+l+f,i)}}beforeAfter(i,s){let o;i.type==="decl"?o=this.raw(i,null,"beforeDecl"):i.type==="comment"?o=this.raw(i,null,"beforeComment"):s==="before"?o=this.raw(i,null,"beforeRule"):o=this.raw(i,null,"beforeClose");let l=i.parent,f=0;for(;l&&l.type!=="root";)f+=1,l=l.parent;if(o.includes(`
`)){let c=this.raw(i,null,"indent");if(c.length)for(let d=0;d<f;d++)o+=c}return o}block(i,s){let o=this.raw(i,"between","beforeOpen");this.builder(s+o+"{",i,"start");let l;i.nodes&&i.nodes.length?(this.body(i),l=this.raw(i,"after")):l=this.raw(i,"after","emptyBody"),l&&this.builder(l),this.builder("}",i,"end")}body(i){let s=i.nodes.length-1;for(;s>0&&i.nodes[s].type==="comment";)s-=1;let o=this.raw(i,"semicolon");for(let l=0;l<i.nodes.length;l++){let f=i.nodes[l],c=this.raw(f,"before");c&&this.builder(c),this.stringify(f,s!==l||o)}}comment(i){let s=this.raw(i,"left","commentLeft"),o=this.raw(i,"right","commentRight");this.builder("/*"+s+i.text+o+"*/",i)}decl(i,s){let o=this.raw(i,"between","colon"),l=i.prop+o+this.rawValue(i,"value");i.important&&(l+=i.raws.important||" !important"),s&&(l+=";"),this.builder(l,i)}document(i){this.body(i)}raw(i,s,o){let l;if(o||(o=s),s&&(l=i.raws[s],typeof l<"u"))return l;let f=i.parent;if(o==="before"&&(!f||f.type==="root"&&f.first===i||f&&f.type==="document"))return"";if(!f)return t[o];let c=i.root();if(c.rawCache||(c.rawCache={}),typeof c.rawCache[o]<"u")return c.rawCache[o];if(o==="before"||o==="after")return this.beforeAfter(i,o);{let d="raw"+e(o);this[d]?l=this[d](c,i):c.walk(g=>{if(l=g.raws[s],typeof l<"u")return!1})}return typeof l>"u"&&(l=t[o]),c.rawCache[o]=l,l}rawBeforeClose(i){let s;return i.walk(o=>{if(o.nodes&&o.nodes.length>0&&typeof o.raws.after<"u")return s=o.raws.after,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),s&&(s=s.replace(/\S/g,"")),s}rawBeforeComment(i,s){let o;return i.walkComments(l=>{if(typeof l.raws.before<"u")return o=l.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(s,null,"beforeDecl"):o&&(o=o.replace(/\S/g,"")),o}rawBeforeDecl(i,s){let o;return i.walkDecls(l=>{if(typeof l.raws.before<"u")return o=l.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(s,null,"beforeRule"):o&&(o=o.replace(/\S/g,"")),o}rawBeforeOpen(i){let s;return i.walk(o=>{if(o.type!=="decl"&&(s=o.raws.between,typeof s<"u"))return!1}),s}rawBeforeRule(i){let s;return i.walk(o=>{if(o.nodes&&(o.parent!==i||i.first!==o)&&typeof o.raws.before<"u")return s=o.raws.before,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),s&&(s=s.replace(/\S/g,"")),s}rawColon(i){let s;return i.walkDecls(o=>{if(typeof o.raws.between<"u")return s=o.raws.between.replace(/[^\s:]/g,""),!1}),s}rawEmptyBody(i){let s;return i.walk(o=>{if(o.nodes&&o.nodes.length===0&&(s=o.raws.after,typeof s<"u"))return!1}),s}rawIndent(i){if(i.raws.indent)return i.raws.indent;let s;return i.walk(o=>{let l=o.parent;if(l&&l!==i&&l.parent&&l.parent===i&&typeof o.raws.before<"u"){let f=o.raws.before.split(`
`);return s=f[f.length-1],s=s.replace(/\S/g,""),!1}}),s}rawSemicolon(i){let s;return i.walk(o=>{if(o.nodes&&o.nodes.length&&o.last.type==="decl"&&(s=o.raws.semicolon,typeof s<"u"))return!1}),s}rawValue(i,s){let o=i[s],l=i.raws[s];return l&&l.value===o?l.raw:o}root(i){this.body(i),i.raws.after&&this.builder(i.raws.after)}rule(i){this.block(i,this.rawValue(i,"selector")),i.raws.ownSemicolon&&this.builder(i.raws.ownSemicolon,i,"end")}stringify(i,s){if(!this[i.type])throw new Error("Unknown AST node type "+i.type+". Maybe you need to change PostCSS stringifier.");this[i.type](i,s)}}return lx=n,n.default=n,lx}var cx,Z3;function Sm(){if(Z3)return cx;Z3=1;let t=kR();function e(n,r){new t(r).stringify(n)}return cx=e,e.default=e,cx}var Fd={},eC;function b_(){return eC||(eC=1,Fd.isClean=Symbol("isClean"),Fd.my=Symbol("my")),Fd}var fx,tC;function Am(){if(tC)return fx;tC=1;let t=E_(),e=kR(),n=Sm(),{isClean:r,my:i}=b_();function s(f,c){let d=new f.constructor;for(let g in f){if(!Object.prototype.hasOwnProperty.call(f,g)||g==="proxyCache")continue;let p=f[g],x=typeof p;g==="parent"&&x==="object"?c&&(d[g]=c):g==="source"?d[g]=p:Array.isArray(p)?d[g]=p.map(_=>s(_,d)):(x==="object"&&p!==null&&(p=s(p)),d[g]=p)}return d}function o(f,c){if(c&&typeof c.offset<"u")return c.offset;let d=1,g=1,p=0;for(let x=0;x<f.length;x++){if(g===c.line&&d===c.column){p=x;break}f[x]===`
`?(d=1,g+=1):d+=1}return p}class l{get proxyOf(){return this}constructor(c={}){this.raws={},this[r]=!1,this[i]=!0;for(let d in c)if(d==="nodes"){this.nodes=[];for(let g of c[d])typeof g.clone=="function"?this.append(g.clone()):this.append(g)}else this[d]=c[d]}addToError(c){if(c.postcssNode=this,c.stack&&this.source&&/\n\s{4}at /.test(c.stack)){let d=this.source;c.stack=c.stack.replace(/\n\s{4}at /,`$&${d.input.from}:${d.start.line}:${d.start.column}$&`)}return c}after(c){return this.parent.insertAfter(this,c),this}assign(c={}){for(let d in c)this[d]=c[d];return this}before(c){return this.parent.insertBefore(this,c),this}cleanRaws(c){delete this.raws.before,delete this.raws.after,c||delete this.raws.between}clone(c={}){let d=s(this);for(let g in c)d[g]=c[g];return d}cloneAfter(c={}){let d=this.clone(c);return this.parent.insertAfter(this,d),d}cloneBefore(c={}){let d=this.clone(c);return this.parent.insertBefore(this,d),d}error(c,d={}){if(this.source){let{end:g,start:p}=this.rangeBy(d);return this.source.input.error(c,{column:p.column,line:p.line},{column:g.column,line:g.line},d)}return new t(c)}getProxyProcessor(){return{get(c,d){return d==="proxyOf"?c:d==="root"?()=>c.root().toProxy():c[d]},set(c,d,g){return c[d]===g||(c[d]=g,(d==="prop"||d==="value"||d==="name"||d==="params"||d==="important"||d==="text")&&c.markDirty()),!0}}}markClean(){this[r]=!0}markDirty(){if(this[r]){this[r]=!1;let c=this;for(;c=c.parent;)c[r]=!1}}next(){if(!this.parent)return;let c=this.parent.index(this);return this.parent.nodes[c+1]}positionBy(c={}){let d=this.source.start;if(c.index)d=this.positionInside(c.index);else if(c.word){let g="document"in this.source.input?this.source.input.document:this.source.input.css,x=g.slice(o(g,this.source.start),o(g,this.source.end)).indexOf(c.word);x!==-1&&(d=this.positionInside(x))}return d}positionInside(c){let d=this.source.start.column,g=this.source.start.line,p="document"in this.source.input?this.source.input.document:this.source.input.css,x=o(p,this.source.start),_=x+c;for(let w=x;w<_;w++)p[w]===`
`?(d=1,g+=1):d+=1;return{column:d,line:g,offset:_}}prev(){if(!this.parent)return;let c=this.parent.index(this);return this.parent.nodes[c-1]}rangeBy(c={}){let d="document"in this.source.input?this.source.input.document:this.source.input.css,g={column:this.source.start.column,line:this.source.start.line,offset:o(d,this.source.start)},p=this.source.end?{column:this.source.end.column+1,line:this.source.end.line,offset:typeof this.source.end.offset=="number"?this.source.end.offset:o(d,this.source.end)+1}:{column:g.column+1,line:g.line,offset:g.offset+1};if(c.word){let _=d.slice(o(d,this.source.start),o(d,this.source.end)).indexOf(c.word);_!==-1&&(g=this.positionInside(_),p=this.positionInside(_+c.word.length))}else c.start?g={column:c.start.column,line:c.start.line,offset:o(d,c.start)}:c.index&&(g=this.positionInside(c.index)),c.end?p={column:c.end.column,line:c.end.line,offset:o(d,c.end)}:typeof c.endIndex=="number"?p=this.positionInside(c.endIndex):c.index&&(p=this.positionInside(c.index+1));return(p.line<g.line||p.line===g.line&&p.column<=g.column)&&(p={column:g.column+1,line:g.line,offset:g.offset+1}),{end:p,start:g}}raw(c,d){return new e().raw(this,c,d)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...c){if(this.parent){let d=this,g=!1;for(let p of c)p===this?g=!0:g?(this.parent.insertAfter(d,p),d=p):this.parent.insertBefore(d,p);g||this.remove()}return this}root(){let c=this;for(;c.parent&&c.parent.type!=="document";)c=c.parent;return c}toJSON(c,d){let g={},p=d==null;d=d||new Map;let x=0;for(let _ in this){if(!Object.prototype.hasOwnProperty.call(this,_)||_==="parent"||_==="proxyCache")continue;let w=this[_];if(Array.isArray(w))g[_]=w.map(C=>typeof C=="object"&&C.toJSON?C.toJSON(null,d):C);else if(typeof w=="object"&&w.toJSON)g[_]=w.toJSON(null,d);else if(_==="source"){if(w==null)continue;let C=d.get(w.input);C==null&&(C=x,d.set(w.input,x),x++),g[_]={end:w.end,inputId:C,start:w.start}}else g[_]=w}return p&&(g.inputs=[...d.keys()].map(_=>_.toJSON())),g}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(c=n){c.stringify&&(c=c.stringify);let d="";return c(this,g=>{d+=g}),d}warn(c,d,g={}){let p={node:this};for(let x in g)p[x]=g[x];return c.warn(d,p)}}return fx=l,l.default=l,fx}var hx,nC;function Cm(){if(nC)return hx;nC=1;let t=Am();class e extends t{constructor(r){super(r),this.type="comment"}}return hx=e,e.default=e,hx}var dx,rC;function Im(){if(rC)return dx;rC=1;let t=Am();class e extends t{get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}constructor(r){r&&typeof r.value<"u"&&typeof r.value!="string"&&(r={...r,value:String(r.value)}),super(r),this.type="decl"}}return dx=e,e.default=e,dx}var px,iC;function Xu(){if(iC)return px;iC=1;let t=Cm(),e=Im(),n=Am(),{isClean:r,my:i}=b_(),s,o,l,f;function c(p){return p.map(x=>(x.nodes&&(x.nodes=c(x.nodes)),delete x.source,x))}function d(p){if(p[r]=!1,p.proxyOf.nodes)for(let x of p.proxyOf.nodes)d(x)}class g extends n{get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}append(...x){for(let _ of x){let w=this.normalize(_,this.last);for(let C of w)this.proxyOf.nodes.push(C)}return this.markDirty(),this}cleanRaws(x){if(super.cleanRaws(x),this.nodes)for(let _ of this.nodes)_.cleanRaws(x)}each(x){if(!this.proxyOf.nodes)return;let _=this.getIterator(),w,C;for(;this.indexes[_]<this.proxyOf.nodes.length&&(w=this.indexes[_],C=x(this.proxyOf.nodes[w],w),C!==!1);)this.indexes[_]+=1;return delete this.indexes[_],C}every(x){return this.nodes.every(x)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let x=this.lastEach;return this.indexes[x]=0,x}getProxyProcessor(){return{get(x,_){return _==="proxyOf"?x:x[_]?_==="each"||typeof _=="string"&&_.startsWith("walk")?(...w)=>x[_](...w.map(C=>typeof C=="function"?(I,P)=>C(I.toProxy(),P):C)):_==="every"||_==="some"?w=>x[_]((C,...I)=>w(C.toProxy(),...I)):_==="root"?()=>x.root().toProxy():_==="nodes"?x.nodes.map(w=>w.toProxy()):_==="first"||_==="last"?x[_].toProxy():x[_]:x[_]},set(x,_,w){return x[_]===w||(x[_]=w,(_==="name"||_==="params"||_==="selector")&&x.markDirty()),!0}}}index(x){return typeof x=="number"?x:(x.proxyOf&&(x=x.proxyOf),this.proxyOf.nodes.indexOf(x))}insertAfter(x,_){let w=this.index(x),C=this.normalize(_,this.proxyOf.nodes[w]).reverse();w=this.index(x);for(let P of C)this.proxyOf.nodes.splice(w+1,0,P);let I;for(let P in this.indexes)I=this.indexes[P],w<I&&(this.indexes[P]=I+C.length);return this.markDirty(),this}insertBefore(x,_){let w=this.index(x),C=w===0?"prepend":!1,I=this.normalize(_,this.proxyOf.nodes[w],C).reverse();w=this.index(x);for(let A of I)this.proxyOf.nodes.splice(w,0,A);let P;for(let A in this.indexes)P=this.indexes[A],w<=P&&(this.indexes[A]=P+I.length);return this.markDirty(),this}normalize(x,_){if(typeof x=="string")x=c(o(x).nodes);else if(typeof x>"u")x=[];else if(Array.isArray(x)){x=x.slice(0);for(let C of x)C.parent&&C.parent.removeChild(C,"ignore")}else if(x.type==="root"&&this.type!=="document"){x=x.nodes.slice(0);for(let C of x)C.parent&&C.parent.removeChild(C,"ignore")}else if(x.type)x=[x];else if(x.prop){if(typeof x.value>"u")throw new Error("Value field is missed in node creation");typeof x.value!="string"&&(x.value=String(x.value)),x=[new e(x)]}else if(x.selector||x.selectors)x=[new f(x)];else if(x.name)x=[new s(x)];else if(x.text)x=[new t(x)];else throw new Error("Unknown node type in node creation");return x.map(C=>(C[i]||g.rebuild(C),C=C.proxyOf,C.parent&&C.parent.removeChild(C),C[r]&&d(C),C.raws||(C.raws={}),typeof C.raws.before>"u"&&_&&typeof _.raws.before<"u"&&(C.raws.before=_.raws.before.replace(/\S/g,"")),C.parent=this.proxyOf,C))}prepend(...x){x=x.reverse();for(let _ of x){let w=this.normalize(_,this.first,"prepend").reverse();for(let C of w)this.proxyOf.nodes.unshift(C);for(let C in this.indexes)this.indexes[C]=this.indexes[C]+w.length}return this.markDirty(),this}push(x){return x.parent=this,this.proxyOf.nodes.push(x),this}removeAll(){for(let x of this.proxyOf.nodes)x.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(x){x=this.index(x),this.proxyOf.nodes[x].parent=void 0,this.proxyOf.nodes.splice(x,1);let _;for(let w in this.indexes)_=this.indexes[w],_>=x&&(this.indexes[w]=_-1);return this.markDirty(),this}replaceValues(x,_,w){return w||(w=_,_={}),this.walkDecls(C=>{_.props&&!_.props.includes(C.prop)||_.fast&&!C.value.includes(_.fast)||(C.value=C.value.replace(x,w))}),this.markDirty(),this}some(x){return this.nodes.some(x)}walk(x){return this.each((_,w)=>{let C;try{C=x(_,w)}catch(I){throw _.addToError(I)}return C!==!1&&_.walk&&(C=_.walk(x)),C})}walkAtRules(x,_){return _?x instanceof RegExp?this.walk((w,C)=>{if(w.type==="atrule"&&x.test(w.name))return _(w,C)}):this.walk((w,C)=>{if(w.type==="atrule"&&w.name===x)return _(w,C)}):(_=x,this.walk((w,C)=>{if(w.type==="atrule")return _(w,C)}))}walkComments(x){return this.walk((_,w)=>{if(_.type==="comment")return x(_,w)})}walkDecls(x,_){return _?x instanceof RegExp?this.walk((w,C)=>{if(w.type==="decl"&&x.test(w.prop))return _(w,C)}):this.walk((w,C)=>{if(w.type==="decl"&&w.prop===x)return _(w,C)}):(_=x,this.walk((w,C)=>{if(w.type==="decl")return _(w,C)}))}walkRules(x,_){return _?x instanceof RegExp?this.walk((w,C)=>{if(w.type==="rule"&&x.test(w.selector))return _(w,C)}):this.walk((w,C)=>{if(w.type==="rule"&&w.selector===x)return _(w,C)}):(_=x,this.walk((w,C)=>{if(w.type==="rule")return _(w,C)}))}}return g.registerParse=p=>{o=p},g.registerRule=p=>{f=p},g.registerAtRule=p=>{s=p},g.registerRoot=p=>{l=p},px=g,g.default=g,g.rebuild=p=>{p.type==="atrule"?Object.setPrototypeOf(p,s.prototype):p.type==="rule"?Object.setPrototypeOf(p,f.prototype):p.type==="decl"?Object.setPrototypeOf(p,e.prototype):p.type==="comment"?Object.setPrototypeOf(p,t.prototype):p.type==="root"&&Object.setPrototypeOf(p,l.prototype),p[i]=!0,p.nodes&&p.nodes.forEach(x=>{g.rebuild(x)})},px}var mx,sC;function w_(){if(sC)return mx;sC=1;let t=Xu();class e extends t{constructor(r){super(r),this.type="atrule"}append(...r){return this.proxyOf.nodes||(this.nodes=[]),super.append(...r)}prepend(...r){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...r)}}return mx=e,e.default=e,t.registerAtRule(e),mx}var gx,aC;function S_(){if(aC)return gx;aC=1;let t=Xu(),e,n;class r extends t{constructor(s){super({type:"document",...s}),this.nodes||(this.nodes=[])}toResult(s={}){return new e(new n,this,s).stringify()}}return r.registerLazyResult=i=>{e=i},r.registerProcessor=i=>{n=i},gx=r,r.default=r,gx}var xx,oC;function IQ(){if(oC)return xx;oC=1;let t="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";return xx={nanoid:(r=21)=>{let i="",s=r|0;for(;s--;)i+=t[Math.random()*64|0];return i},customAlphabet:(r,i=21)=>(s=i)=>{let o="",l=s|0;for(;l--;)o+=r[Math.random()*r.length|0];return o}},xx}var yx,uC;function RR(){if(uC)return yx;uC=1;let{existsSync:t,readFileSync:e}=is,{dirname:n,join:r}=is,{SourceMapConsumer:i,SourceMapGenerator:s}=is;function o(f){return Buffer?Buffer.from(f,"base64").toString():window.atob(f)}class l{constructor(c,d){if(d.map===!1)return;this.loadAnnotation(c),this.inline=this.startWith(this.annotation,"data:");let g=d.map?d.map.prev:void 0,p=this.loadMap(d.from,g);!this.mapFile&&d.from&&(this.mapFile=d.from),this.mapFile&&(this.root=n(this.mapFile)),p&&(this.text=p)}consumer(){return this.consumerCache||(this.consumerCache=new i(this.text)),this.consumerCache}decodeInline(c){let d=/^data:application\/json;charset=utf-?8;base64,/,g=/^data:application\/json;base64,/,p=/^data:application\/json;charset=utf-?8,/,x=/^data:application\/json,/,_=c.match(p)||c.match(x);if(_)return decodeURIComponent(c.substr(_[0].length));let w=c.match(d)||c.match(g);if(w)return o(c.substr(w[0].length));let C=c.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+C)}getAnnotationURL(c){return c.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(c){return typeof c!="object"?!1:typeof c.mappings=="string"||typeof c._mappings=="string"||Array.isArray(c.sections)}loadAnnotation(c){let d=c.match(/\/\*\s*# sourceMappingURL=/g);if(!d)return;let g=c.lastIndexOf(d.pop()),p=c.indexOf("*/",g);g>-1&&p>-1&&(this.annotation=this.getAnnotationURL(c.substring(g,p)))}loadFile(c){if(this.root=n(c),t(c))return this.mapFile=c,e(c,"utf-8").toString().trim()}loadMap(c,d){if(d===!1)return!1;if(d){if(typeof d=="string")return d;if(typeof d=="function"){let g=d(c);if(g){let p=this.loadFile(g);if(!p)throw new Error("Unable to load previous source map: "+g.toString());return p}}else{if(d instanceof i)return s.fromSourceMap(d).toString();if(d instanceof s)return d.toString();if(this.isMap(d))return JSON.stringify(d);throw new Error("Unsupported previous source map format: "+d.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let g=this.annotation;return c&&(g=r(n(c),g)),this.loadFile(g)}}}startWith(c,d){return c?c.substr(0,d.length)===d:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}return yx=l,l.default=l,yx}var vx,lC;function km(){if(lC)return vx;lC=1;let{nanoid:t}=IQ(),{isAbsolute:e,resolve:n}=is,{SourceMapConsumer:r,SourceMapGenerator:i}=is,{fileURLToPath:s,pathToFileURL:o}=is,l=E_(),f=RR(),c=is,d=Symbol("lineToIndexCache"),g=!!(r&&i),p=!!(n&&e);function x(w){if(w[d])return w[d];let C=w.css.split(`
`),I=new Array(C.length),P=0;for(let A=0,L=C.length;A<L;A++)I[A]=P,P+=C[A].length+1;return w[d]=I,I}class _{get from(){return this.file||this.id}constructor(C,I={}){if(C===null||typeof C>"u"||typeof C=="object"&&!C.toString)throw new Error(`PostCSS received ${C} instead of CSS string`);if(this.css=C.toString(),this.css[0]==="\uFEFF"||this.css[0]==="￾"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,this.document=this.css,I.document&&(this.document=I.document.toString()),I.from&&(!p||/^\w+:\/\//.test(I.from)||e(I.from)?this.file=I.from:this.file=n(I.from)),p&&g){let P=new f(this.css,I);if(P.text){this.map=P;let A=P.consumer().file;!this.file&&A&&(this.file=this.mapResolve(A))}}this.file||(this.id="<input css "+t(6)+">"),this.map&&(this.map.file=this.from)}error(C,I,P,A={}){let L,D,O,k,N;if(I&&typeof I=="object"){let V=I,M=P;if(typeof V.offset=="number"){k=V.offset;let F=this.fromOffset(k);I=F.line,P=F.col}else I=V.line,P=V.column,k=this.fromLineAndColumn(I,P);if(typeof M.offset=="number"){O=M.offset;let F=this.fromOffset(O);D=F.line,L=F.col}else D=M.line,L=M.column,O=this.fromLineAndColumn(M.line,M.column)}else if(P)k=this.fromLineAndColumn(I,P);else{k=I;let V=this.fromOffset(k);I=V.line,P=V.col}let R=this.origin(I,P,D,L);return R?N=new l(C,R.endLine===void 0?R.line:{column:R.column,line:R.line},R.endLine===void 0?R.column:{column:R.endColumn,line:R.endLine},R.source,R.file,A.plugin):N=new l(C,D===void 0?I:{column:P,line:I},D===void 0?P:{column:L,line:D},this.css,this.file,A.plugin),N.input={column:P,endColumn:L,endLine:D,endOffset:O,line:I,offset:k,source:this.css},this.file&&(o&&(N.input.url=o(this.file).toString()),N.input.file=this.file),N}fromLineAndColumn(C,I){return x(this)[C-1]+I-1}fromOffset(C){let I=x(this),P=I[I.length-1],A=0;if(C>=P)A=I.length-1;else{let L=I.length-2,D;for(;A<L;)if(D=A+(L-A>>1),C<I[D])L=D-1;else if(C>=I[D+1])A=D+1;else{A=D;break}}return{col:C-I[A]+1,line:A+1}}mapResolve(C){return/^\w+:\/\//.test(C)?C:n(this.map.consumer().sourceRoot||this.map.root||".",C)}origin(C,I,P,A){if(!this.map)return!1;let L=this.map.consumer(),D=L.originalPositionFor({column:I,line:C});if(!D.source)return!1;let O;typeof P=="number"&&(O=L.originalPositionFor({column:A,line:P}));let k;e(D.source)?k=o(D.source):k=new URL(D.source,this.map.consumer().sourceRoot||o(this.map.mapFile));let N={column:D.column,endColumn:O&&O.column,endLine:O&&O.line,line:D.line,url:k.toString()};if(k.protocol==="file:")if(s)N.file=s(k);else throw new Error("file: protocol is not available in this PostCSS build");let R=L.sourceContentFor(D.source);return R&&(N.source=R),N}toJSON(){let C={};for(let I of["hasBOM","css","file","id"])this[I]!=null&&(C[I]=this[I]);return this.map&&(C.map={...this.map},C.map.consumerCache&&(C.map.consumerCache=void 0)),C}}return vx=_,_.default=_,c&&c.registerInput&&c.registerInput(_),vx}var _x,cC;function Y0(){if(cC)return _x;cC=1;let t=Xu(),e,n;class r extends t{constructor(s){super(s),this.type="root",this.nodes||(this.nodes=[])}normalize(s,o,l){let f=super.normalize(s);if(o){if(l==="prepend")this.nodes.length>1?o.raws.before=this.nodes[1].raws.before:delete o.raws.before;else if(this.first!==o)for(let c of f)c.raws.before=o.raws.before}return f}removeChild(s,o){let l=this.index(s);return!o&&l===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[l].raws.before),super.removeChild(s)}toResult(s={}){return new e(new n,this,s).stringify()}}return r.registerLazyResult=i=>{e=i},r.registerProcessor=i=>{n=i},_x=r,r.default=r,t.registerRoot(r),_x}var Tx,fC;function NR(){if(fC)return Tx;fC=1;let t={comma(e){return t.split(e,[","],!0)},space(e){let n=[" ",`
`,"	"];return t.split(e,n)},split(e,n,r){let i=[],s="",o=!1,l=0,f=!1,c="",d=!1;for(let g of e)d?d=!1:g==="\\"?d=!0:f?g===c&&(f=!1):g==='"'||g==="'"?(f=!0,c=g):g==="("?l+=1:g===")"?l>0&&(l-=1):l===0&&n.includes(g)&&(o=!0),o?(s!==""&&i.push(s.trim()),s="",o=!1):s+=g;return(r||s!=="")&&i.push(s.trim()),i}};return Tx=t,t.default=t,Tx}var Ex,hC;function A_(){if(hC)return Ex;hC=1;let t=Xu(),e=NR();class n extends t{get selectors(){return e.comma(this.selector)}set selectors(i){let s=this.selector?this.selector.match(/,\s*/):null,o=s?s[0]:","+this.raw("between","beforeOpen");this.selector=i.join(o)}constructor(i){super(i),this.type="rule",this.nodes||(this.nodes=[])}}return Ex=n,n.default=n,t.registerRule(n),Ex}var bx,dC;function kQ(){if(dC)return bx;dC=1;let t=w_(),e=Cm(),n=Im(),r=km(),i=RR(),s=Y0(),o=A_();function l(f,c){if(Array.isArray(f))return f.map(p=>l(p));let{inputs:d,...g}=f;if(d){c=[];for(let p of d){let x={...p,__proto__:r.prototype};x.map&&(x.map={...x.map,__proto__:i.prototype}),c.push(x)}}if(g.nodes&&(g.nodes=f.nodes.map(p=>l(p,c))),g.source){let{inputId:p,...x}=g.source;g.source=x,p!=null&&(g.source.input=c[p])}if(g.type==="root")return new s(g);if(g.type==="decl")return new n(g);if(g.type==="rule")return new o(g);if(g.type==="comment")return new e(g);if(g.type==="atrule")return new t(g);throw new Error("Unknown node type: "+f.type)}return bx=l,l.default=l,bx}var wx,pC;function DR(){if(pC)return wx;pC=1;let{dirname:t,relative:e,resolve:n,sep:r}=is,{SourceMapConsumer:i,SourceMapGenerator:s}=is,{pathToFileURL:o}=is,l=km(),f=!!(i&&s),c=!!(t&&n&&e&&r);class d{constructor(p,x,_,w){this.stringify=p,this.mapOpts=_.map||{},this.root=x,this.opts=_,this.css=w,this.originalCSS=w,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let p;this.isInline()?p="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?p=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?p=this.mapOpts.annotation(this.opts.to,this.root):p=this.outputFile()+".map";let x=`
`;this.css.includes(`\r
`)&&(x=`\r
`),this.css+=x+"/*# sourceMappingURL="+p+" */"}applyPrevMaps(){for(let p of this.previous()){let x=this.toUrl(this.path(p.file)),_=p.root||t(p.file),w;this.mapOpts.sourcesContent===!1?(w=new i(p.text),w.sourcesContent&&(w.sourcesContent=null)):w=p.consumer(),this.map.applySourceMap(w,x,this.toUrl(this.path(_)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let p;for(let x=this.root.nodes.length-1;x>=0;x--)p=this.root.nodes[x],p.type==="comment"&&p.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(x)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),c&&f&&this.isMap())return this.generateMap();{let p="";return this.stringify(this.root,x=>{p+=x}),[p]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let p=this.previous()[0].consumer();p.file=this.outputFile(),this.map=s.fromSourceMap(p,{ignoreInvalidMapping:!0})}else this.map=new s({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new s({file:this.outputFile(),ignoreInvalidMapping:!0});let p=1,x=1,_="<no source>",w={generated:{column:0,line:0},original:{column:0,line:0},source:""},C,I;this.stringify(this.root,(P,A,L)=>{if(this.css+=P,A&&L!=="end"&&(w.generated.line=p,w.generated.column=x-1,A.source&&A.source.start?(w.source=this.sourcePath(A),w.original.line=A.source.start.line,w.original.column=A.source.start.column-1,this.map.addMapping(w)):(w.source=_,w.original.line=1,w.original.column=0,this.map.addMapping(w))),I=P.match(/\n/g),I?(p+=I.length,C=P.lastIndexOf(`
`),x=P.length-C):x+=P.length,A&&L!=="start"){let D=A.parent||{raws:{}};(!(A.type==="decl"||A.type==="atrule"&&!A.nodes)||A!==D.last||D.raws.semicolon)&&(A.source&&A.source.end?(w.source=this.sourcePath(A),w.original.line=A.source.end.line,w.original.column=A.source.end.column-1,w.generated.line=p,w.generated.column=x-2,this.map.addMapping(w)):(w.source=_,w.original.line=1,w.original.column=0,w.generated.line=p,w.generated.column=x-1,this.map.addMapping(w)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(p=>p.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let p=this.mapOpts.annotation;return typeof p<"u"&&p!==!0?!1:this.previous().length?this.previous().some(x=>x.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(p=>p.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(p){if(this.mapOpts.absolute||p.charCodeAt(0)===60||/^\w+:\/\//.test(p))return p;let x=this.memoizedPaths.get(p);if(x)return x;let _=this.opts.to?t(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(_=t(n(_,this.mapOpts.annotation)));let w=e(_,p);return this.memoizedPaths.set(p,w),w}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(p=>{if(p.source&&p.source.input.map){let x=p.source.input.map;this.previousMaps.includes(x)||this.previousMaps.push(x)}});else{let p=new l(this.originalCSS,this.opts);p.map&&this.previousMaps.push(p.map)}return this.previousMaps}setSourcesContent(){let p={};if(this.root)this.root.walk(x=>{if(x.source){let _=x.source.input.from;if(_&&!p[_]){p[_]=!0;let w=this.usesFileUrls?this.toFileUrl(_):this.toUrl(this.path(_));this.map.setSourceContent(w,x.source.input.css)}}});else if(this.css){let x=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(x,this.css)}}sourcePath(p){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(p.source.input.from):this.toUrl(this.path(p.source.input.from))}toBase64(p){return Buffer?Buffer.from(p).toString("base64"):window.btoa(unescape(encodeURIComponent(p)))}toFileUrl(p){let x=this.memoizedFileURLs.get(p);if(x)return x;if(o){let _=o(p).toString();return this.memoizedFileURLs.set(p,_),_}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(p){let x=this.memoizedURLs.get(p);if(x)return x;r==="\\"&&(p=p.replace(/\\/g,"/"));let _=encodeURI(p).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(p,_),_}}return wx=d,wx}var Sx,mC;function RQ(){if(mC)return Sx;mC=1;const t=39,e=34,n=92,r=47,i=10,s=32,o=12,l=9,f=13,c=91,d=93,g=40,p=41,x=123,_=125,w=59,C=42,I=58,P=64,A=/[\t\n\f\r "#'()/;[\\\]{}]/g,L=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,D=/.[\r\n"'(/\\]/,O=/[\da-f]/i;return Sx=function(N,R={}){let V=N.css.valueOf(),M=R.ignoreErrors,F,q,ce,oe,ae,se,ge,Z,Ee,G,z=V.length,Y=0,ee=[],re=[];function me(){return Y}function Re(de){throw N.error("Unclosed "+de,Y)}function Ne(){return re.length===0&&Y>=z}function he(de){if(re.length)return re.pop();if(Y>=z)return;let K=de?de.ignoreUnclosed:!1;switch(F=V.charCodeAt(Y),F){case i:case s:case l:case f:case o:{oe=Y;do oe+=1,F=V.charCodeAt(oe);while(F===s||F===i||F===l||F===f||F===o);se=["space",V.slice(Y,oe)],Y=oe-1;break}case c:case d:case x:case _:case I:case w:case p:{let Ae=String.fromCharCode(F);se=[Ae,Ae,Y];break}case g:{if(G=ee.length?ee.pop()[1]:"",Ee=V.charCodeAt(Y+1),G==="url"&&Ee!==t&&Ee!==e&&Ee!==s&&Ee!==i&&Ee!==l&&Ee!==o&&Ee!==f){oe=Y;do{if(ge=!1,oe=V.indexOf(")",oe+1),oe===-1)if(M||K){oe=Y;break}else Re("bracket");for(Z=oe;V.charCodeAt(Z-1)===n;)Z-=1,ge=!ge}while(ge);se=["brackets",V.slice(Y,oe+1),Y,oe],Y=oe}else oe=V.indexOf(")",Y+1),q=V.slice(Y,oe+1),oe===-1||D.test(q)?se=["(","(",Y]:(se=["brackets",q,Y,oe],Y=oe);break}case t:case e:{ae=F===t?"'":'"',oe=Y;do{if(ge=!1,oe=V.indexOf(ae,oe+1),oe===-1)if(M||K){oe=Y+1;break}else Re("string");for(Z=oe;V.charCodeAt(Z-1)===n;)Z-=1,ge=!ge}while(ge);se=["string",V.slice(Y,oe+1),Y,oe],Y=oe;break}case P:{A.lastIndex=Y+1,A.test(V),A.lastIndex===0?oe=V.length-1:oe=A.lastIndex-2,se=["at-word",V.slice(Y,oe+1),Y,oe],Y=oe;break}case n:{for(oe=Y,ce=!0;V.charCodeAt(oe+1)===n;)oe+=1,ce=!ce;if(F=V.charCodeAt(oe+1),ce&&F!==r&&F!==s&&F!==i&&F!==l&&F!==f&&F!==o&&(oe+=1,O.test(V.charAt(oe)))){for(;O.test(V.charAt(oe+1));)oe+=1;V.charCodeAt(oe+1)===s&&(oe+=1)}se=["word",V.slice(Y,oe+1),Y,oe],Y=oe;break}default:{F===r&&V.charCodeAt(Y+1)===C?(oe=V.indexOf("*/",Y+2)+1,oe===0&&(M||K?oe=V.length:Re("comment")),se=["comment",V.slice(Y,oe+1),Y,oe],Y=oe):(L.lastIndex=Y+1,L.test(V),L.lastIndex===0?oe=V.length-1:oe=L.lastIndex-2,se=["word",V.slice(Y,oe+1),Y,oe],ee.push(se),Y=oe);break}}return Y++,se}function ke(de){re.push(de)}return{back:ke,endOfFile:Ne,nextToken:he,position:me}},Sx}var Ax,gC;function NQ(){if(gC)return Ax;gC=1;let t=w_(),e=Cm(),n=Im(),r=Y0(),i=A_(),s=RQ();const o={empty:!0,space:!0};function l(c){for(let d=c.length-1;d>=0;d--){let g=c[d],p=g[3]||g[2];if(p)return p}}class f{constructor(d){this.input=d,this.root=new r,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:d,start:{column:1,line:1,offset:0}}}atrule(d){let g=new t;g.name=d[1].slice(1),g.name===""&&this.unnamedAtrule(g,d),this.init(g,d[2]);let p,x,_,w=!1,C=!1,I=[],P=[];for(;!this.tokenizer.endOfFile();){if(d=this.tokenizer.nextToken(),p=d[0],p==="("||p==="["?P.push(p==="("?")":"]"):p==="{"&&P.length>0?P.push("}"):p===P[P.length-1]&&P.pop(),P.length===0)if(p===";"){g.source.end=this.getPosition(d[2]),g.source.end.offset++,this.semicolon=!0;break}else if(p==="{"){C=!0;break}else if(p==="}"){if(I.length>0){for(_=I.length-1,x=I[_];x&&x[0]==="space";)x=I[--_];x&&(g.source.end=this.getPosition(x[3]||x[2]),g.source.end.offset++)}this.end(d);break}else I.push(d);else I.push(d);if(this.tokenizer.endOfFile()){w=!0;break}}g.raws.between=this.spacesAndCommentsFromEnd(I),I.length?(g.raws.afterName=this.spacesAndCommentsFromStart(I),this.raw(g,"params",I),w&&(d=I[I.length-1],g.source.end=this.getPosition(d[3]||d[2]),g.source.end.offset++,this.spaces=g.raws.between,g.raws.between="")):(g.raws.afterName="",g.params=""),C&&(g.nodes=[],this.current=g)}checkMissedSemicolon(d){let g=this.colon(d);if(g===!1)return;let p=0,x;for(let _=g-1;_>=0&&(x=d[_],!(x[0]!=="space"&&(p+=1,p===2)));_--);throw this.input.error("Missed semicolon",x[0]==="word"?x[3]+1:x[2])}colon(d){let g=0,p,x,_;for(let[w,C]of d.entries()){if(x=C,_=x[0],_==="("&&(g+=1),_===")"&&(g-=1),g===0&&_===":")if(!p)this.doubleColon(x);else{if(p[0]==="word"&&p[1]==="progid")continue;return w}p=x}return!1}comment(d){let g=new e;this.init(g,d[2]),g.source.end=this.getPosition(d[3]||d[2]),g.source.end.offset++;let p=d[1].slice(2,-2);if(/^\s*$/.test(p))g.text="",g.raws.left=p,g.raws.right="";else{let x=p.match(/^(\s*)([^]*\S)(\s*)$/);g.text=x[2],g.raws.left=x[1],g.raws.right=x[3]}}createTokenizer(){this.tokenizer=s(this.input)}decl(d,g){let p=new n;this.init(p,d[0][2]);let x=d[d.length-1];for(x[0]===";"&&(this.semicolon=!0,d.pop()),p.source.end=this.getPosition(x[3]||x[2]||l(d)),p.source.end.offset++;d[0][0]!=="word";)d.length===1&&this.unknownWord(d),p.raws.before+=d.shift()[1];for(p.source.start=this.getPosition(d[0][2]),p.prop="";d.length;){let P=d[0][0];if(P===":"||P==="space"||P==="comment")break;p.prop+=d.shift()[1]}p.raws.between="";let _;for(;d.length;)if(_=d.shift(),_[0]===":"){p.raws.between+=_[1];break}else _[0]==="word"&&/\w/.test(_[1])&&this.unknownWord([_]),p.raws.between+=_[1];(p.prop[0]==="_"||p.prop[0]==="*")&&(p.raws.before+=p.prop[0],p.prop=p.prop.slice(1));let w=[],C;for(;d.length&&(C=d[0][0],!(C!=="space"&&C!=="comment"));)w.push(d.shift());this.precheckMissedSemicolon(d);for(let P=d.length-1;P>=0;P--){if(_=d[P],_[1].toLowerCase()==="!important"){p.important=!0;let A=this.stringFrom(d,P);A=this.spacesFromEnd(d)+A,A!==" !important"&&(p.raws.important=A);break}else if(_[1].toLowerCase()==="important"){let A=d.slice(0),L="";for(let D=P;D>0;D--){let O=A[D][0];if(L.trim().startsWith("!")&&O!=="space")break;L=A.pop()[1]+L}L.trim().startsWith("!")&&(p.important=!0,p.raws.important=L,d=A)}if(_[0]!=="space"&&_[0]!=="comment")break}d.some(P=>P[0]!=="space"&&P[0]!=="comment")&&(p.raws.between+=w.map(P=>P[1]).join(""),w=[]),this.raw(p,"value",w.concat(d),g),p.value.includes(":")&&!g&&this.checkMissedSemicolon(d)}doubleColon(d){throw this.input.error("Double colon",{offset:d[2]},{offset:d[2]+d[1].length})}emptyRule(d){let g=new i;this.init(g,d[2]),g.selector="",g.raws.between="",this.current=g}end(d){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(d[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(d)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(d){if(this.spaces+=d[1],this.current.nodes){let g=this.current.nodes[this.current.nodes.length-1];g&&g.type==="rule"&&!g.raws.ownSemicolon&&(g.raws.ownSemicolon=this.spaces,this.spaces="",g.source.end=this.getPosition(d[2]),g.source.end.offset+=g.raws.ownSemicolon.length)}}getPosition(d){let g=this.input.fromOffset(d);return{column:g.col,line:g.line,offset:d}}init(d,g){this.current.push(d),d.source={input:this.input,start:this.getPosition(g)},d.raws.before=this.spaces,this.spaces="",d.type!=="comment"&&(this.semicolon=!1)}other(d){let g=!1,p=null,x=!1,_=null,w=[],C=d[1].startsWith("--"),I=[],P=d;for(;P;){if(p=P[0],I.push(P),p==="("||p==="[")_||(_=P),w.push(p==="("?")":"]");else if(C&&x&&p==="{")_||(_=P),w.push("}");else if(w.length===0)if(p===";")if(x){this.decl(I,C);return}else break;else if(p==="{"){this.rule(I);return}else if(p==="}"){this.tokenizer.back(I.pop()),g=!0;break}else p===":"&&(x=!0);else p===w[w.length-1]&&(w.pop(),w.length===0&&(_=null));P=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(g=!0),w.length>0&&this.unclosedBracket(_),g&&x){if(!C)for(;I.length&&(P=I[I.length-1][0],!(P!=="space"&&P!=="comment"));)this.tokenizer.back(I.pop());this.decl(I,C)}else this.unknownWord(I)}parse(){let d;for(;!this.tokenizer.endOfFile();)switch(d=this.tokenizer.nextToken(),d[0]){case"space":this.spaces+=d[1];break;case";":this.freeSemicolon(d);break;case"}":this.end(d);break;case"comment":this.comment(d);break;case"at-word":this.atrule(d);break;case"{":this.emptyRule(d);break;default:this.other(d);break}this.endFile()}precheckMissedSemicolon(){}raw(d,g,p,x){let _,w,C=p.length,I="",P=!0,A,L;for(let D=0;D<C;D+=1)_=p[D],w=_[0],w==="space"&&D===C-1&&!x?P=!1:w==="comment"?(L=p[D-1]?p[D-1][0]:"empty",A=p[D+1]?p[D+1][0]:"empty",!o[L]&&!o[A]?I.slice(-1)===","?P=!1:I+=_[1]:P=!1):I+=_[1];if(!P){let D=p.reduce((O,k)=>O+k[1],"");d.raws[g]={raw:D,value:I}}d[g]=I}rule(d){d.pop();let g=new i;this.init(g,d[0][2]),g.raws.between=this.spacesAndCommentsFromEnd(d),this.raw(g,"selector",d),this.current=g}spacesAndCommentsFromEnd(d){let g,p="";for(;d.length&&(g=d[d.length-1][0],!(g!=="space"&&g!=="comment"));)p=d.pop()[1]+p;return p}spacesAndCommentsFromStart(d){let g,p="";for(;d.length&&(g=d[0][0],!(g!=="space"&&g!=="comment"));)p+=d.shift()[1];return p}spacesFromEnd(d){let g,p="";for(;d.length&&(g=d[d.length-1][0],g==="space");)p=d.pop()[1]+p;return p}stringFrom(d,g){let p="";for(let x=g;x<d.length;x++)p+=d[x][1];return d.splice(g,d.length-g),p}unclosedBlock(){let d=this.current.source.start;throw this.input.error("Unclosed block",d.line,d.column)}unclosedBracket(d){throw this.input.error("Unclosed bracket",{offset:d[2]},{offset:d[2]+1})}unexpectedClose(d){throw this.input.error("Unexpected }",{offset:d[2]},{offset:d[2]+1})}unknownWord(d){throw this.input.error("Unknown word "+d[0][1],{offset:d[0][2]},{offset:d[0][2]+d[0][1].length})}unnamedAtrule(d,g){throw this.input.error("At-rule without name",{offset:g[2]},{offset:g[2]+g[1].length})}}return Ax=f,Ax}var Cx,xC;function C_(){if(xC)return Cx;xC=1;let t=Xu(),e=km(),n=NQ();function r(i,s){let o=new e(i,s),l=new n(o);try{l.parse()}catch(f){throw f}return l.root}return Cx=r,r.default=r,t.registerParse(r),Cx}var Ix,yC;function MR(){if(yC)return Ix;yC=1;class t{constructor(n,r={}){if(this.type="warning",this.text=n,r.node&&r.node.source){let i=r.node.rangeBy(r);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(let i in r)this[i]=r[i]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}return Ix=t,t.default=t,Ix}var kx,vC;function I_(){if(vC)return kx;vC=1;let t=MR();class e{get content(){return this.css}constructor(r,i,s){this.processor=r,this.messages=[],this.root=i,this.opts=s,this.css="",this.map=void 0}toString(){return this.css}warn(r,i={}){i.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(i.plugin=this.lastPlugin.postcssPlugin);let s=new t(r,i);return this.messages.push(s),s}warnings(){return this.messages.filter(r=>r.type==="warning")}}return kx=e,e.default=e,kx}var Rx,_C;function PR(){if(_C)return Rx;_C=1;let t=Xu(),e=S_(),n=DR(),r=C_(),i=I_(),s=Y0(),o=Sm(),{isClean:l,my:f}=b_();const c={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},d={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},g={Once:!0,postcssPlugin:!0,prepare:!0},p=0;function x(A){return typeof A=="object"&&typeof A.then=="function"}function _(A){let L=!1,D=c[A.type];return A.type==="decl"?L=A.prop.toLowerCase():A.type==="atrule"&&(L=A.name.toLowerCase()),L&&A.append?[D,D+"-"+L,p,D+"Exit",D+"Exit-"+L]:L?[D,D+"-"+L,D+"Exit",D+"Exit-"+L]:A.append?[D,p,D+"Exit"]:[D,D+"Exit"]}function w(A){let L;return A.type==="document"?L=["Document",p,"DocumentExit"]:A.type==="root"?L=["Root",p,"RootExit"]:L=_(A),{eventIndex:0,events:L,iterator:0,node:A,visitorIndex:0,visitors:[]}}function C(A){return A[l]=!1,A.nodes&&A.nodes.forEach(L=>C(L)),A}let I={};class P{get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}constructor(L,D,O){this.stringified=!1,this.processed=!1;let k;if(typeof D=="object"&&D!==null&&(D.type==="root"||D.type==="document"))k=C(D);else if(D instanceof P||D instanceof i)k=C(D.root),D.map&&(typeof O.map>"u"&&(O.map={}),O.map.inline||(O.map.inline=!1),O.map.prev=D.map);else{let N=r;O.syntax&&(N=O.syntax.parse),O.parser&&(N=O.parser),N.parse&&(N=N.parse);try{k=N(D,O)}catch(R){this.processed=!0,this.error=R}k&&!k[f]&&t.rebuild(k)}this.result=new i(L,k,O),this.helpers={...I,postcss:I,result:this.result},this.plugins=this.processor.plugins.map(N=>typeof N=="object"&&N.prepare?{...N,...N.prepare(this.result)}:N)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(L){return this.async().catch(L)}finally(L){return this.async().then(L,L)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(L,D){let O=this.result.lastPlugin;try{D&&D.addToError(L),this.error=L,L.name==="CssSyntaxError"&&!L.plugin?(L.plugin=O.postcssPlugin,L.setMessage()):O.postcssVersion}catch(k){console&&console.error&&console.error(k)}return L}prepareVisitors(){this.listeners={};let L=(D,O,k)=>{this.listeners[O]||(this.listeners[O]=[]),this.listeners[O].push([D,k])};for(let D of this.plugins)if(typeof D=="object")for(let O in D){if(!d[O]&&/^[A-Z]/.test(O))throw new Error(`Unknown event ${O} in ${D.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!g[O])if(typeof D[O]=="object")for(let k in D[O])k==="*"?L(D,O,D[O][k]):L(D,O+"-"+k.toLowerCase(),D[O][k]);else typeof D[O]=="function"&&L(D,O,D[O])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let L=0;L<this.plugins.length;L++){let D=this.plugins[L],O=this.runOnRoot(D);if(x(O))try{await O}catch(k){throw this.handleError(k)}}if(this.prepareVisitors(),this.hasListener){let L=this.result.root;for(;!L[l];){L[l]=!0;let D=[w(L)];for(;D.length>0;){let O=this.visitTick(D);if(x(O))try{await O}catch(k){let N=D[D.length-1].node;throw this.handleError(k,N)}}}if(this.listeners.OnceExit)for(let[D,O]of this.listeners.OnceExit){this.result.lastPlugin=D;try{if(L.type==="document"){let k=L.nodes.map(N=>O(N,this.helpers));await Promise.all(k)}else await O(L,this.helpers)}catch(k){throw this.handleError(k)}}}return this.processed=!0,this.stringify()}runOnRoot(L){this.result.lastPlugin=L;try{if(typeof L=="object"&&L.Once){if(this.result.root.type==="document"){let D=this.result.root.nodes.map(O=>L.Once(O,this.helpers));return x(D[0])?Promise.all(D):D}return L.Once(this.result.root,this.helpers)}else if(typeof L=="function")return L(this.result.root,this.result)}catch(D){throw this.handleError(D)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let L=this.result.opts,D=o;L.syntax&&(D=L.syntax.stringify),L.stringifier&&(D=L.stringifier),D.stringify&&(D=D.stringify);let k=new n(D,this.result.root,this.result.opts).generate();return this.result.css=k[0],this.result.map=k[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let L of this.plugins){let D=this.runOnRoot(L);if(x(D))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let L=this.result.root;for(;!L[l];)L[l]=!0,this.walkSync(L);if(this.listeners.OnceExit)if(L.type==="document")for(let D of L.nodes)this.visitSync(this.listeners.OnceExit,D);else this.visitSync(this.listeners.OnceExit,L)}return this.result}then(L,D){return this.async().then(L,D)}toString(){return this.css}visitSync(L,D){for(let[O,k]of L){this.result.lastPlugin=O;let N;try{N=k(D,this.helpers)}catch(R){throw this.handleError(R,D.proxyOf)}if(D.type!=="root"&&D.type!=="document"&&!D.parent)return!0;if(x(N))throw this.getAsyncError()}}visitTick(L){let D=L[L.length-1],{node:O,visitors:k}=D;if(O.type!=="root"&&O.type!=="document"&&!O.parent){L.pop();return}if(k.length>0&&D.visitorIndex<k.length){let[R,V]=k[D.visitorIndex];D.visitorIndex+=1,D.visitorIndex===k.length&&(D.visitors=[],D.visitorIndex=0),this.result.lastPlugin=R;try{return V(O.toProxy(),this.helpers)}catch(M){throw this.handleError(M,O)}}if(D.iterator!==0){let R=D.iterator,V;for(;V=O.nodes[O.indexes[R]];)if(O.indexes[R]+=1,!V[l]){V[l]=!0,L.push(w(V));return}D.iterator=0,delete O.indexes[R]}let N=D.events;for(;D.eventIndex<N.length;){let R=N[D.eventIndex];if(D.eventIndex+=1,R===p){O.nodes&&O.nodes.length&&(O[l]=!0,D.iterator=O.getIterator());return}else if(this.listeners[R]){D.visitors=this.listeners[R];return}}L.pop()}walkSync(L){L[l]=!0;let D=_(L);for(let O of D)if(O===p)L.nodes&&L.each(k=>{k[l]||this.walkSync(k)});else{let k=this.listeners[O];if(k&&this.visitSync(k,L.toProxy()))return}}warnings(){return this.sync().warnings()}}return P.registerPostcss=A=>{I=A},Rx=P,P.default=P,s.registerLazyResult(P),e.registerLazyResult(P),Rx}var Nx,TC;function DQ(){if(TC)return Nx;TC=1;let t=DR(),e=C_();const n=I_();let r=Sm();class i{get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let o,l=e;try{o=l(this._css,this._opts)}catch(f){this.error=f}if(this.error)throw this.error;return this._root=o,o}get[Symbol.toStringTag](){return"NoWorkResult"}constructor(o,l,f){l=l.toString(),this.stringified=!1,this._processor=o,this._css=l,this._opts=f,this._map=void 0;let c,d=r;this.result=new n(this._processor,c,this._opts),this.result.css=l;let g=this;Object.defineProperty(this.result,"root",{get(){return g.root}});let p=new t(d,c,this._opts,l);if(p.isMap()){let[x,_]=p.generate();x&&(this.result.css=x),_&&(this.result.map=_)}else p.clearAnnotation(),this.result.css=p.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(o){return this.async().catch(o)}finally(o){return this.async().then(o,o)}sync(){if(this.error)throw this.error;return this.result}then(o,l){return this.async().then(o,l)}toString(){return this._css}warnings(){return[]}}return Nx=i,i.default=i,Nx}var Dx,EC;function MQ(){if(EC)return Dx;EC=1;let t=S_(),e=PR(),n=DQ(),r=Y0();class i{constructor(o=[]){this.version="8.5.6",this.plugins=this.normalize(o)}normalize(o){let l=[];for(let f of o)if(f.postcss===!0?f=f():f.postcss&&(f=f.postcss),typeof f=="object"&&Array.isArray(f.plugins))l=l.concat(f.plugins);else if(typeof f=="object"&&f.postcssPlugin)l.push(f);else if(typeof f=="function")l.push(f);else if(!(typeof f=="object"&&(f.parse||f.stringify)))throw new Error(f+" is not a PostCSS plugin");return l}process(o,l={}){return!this.plugins.length&&!l.parser&&!l.stringifier&&!l.syntax?new n(this,o,l):new e(this,o,l)}use(o){return this.plugins=this.plugins.concat(this.normalize([o])),this}}return Dx=i,i.default=i,r.registerProcessor(i),t.registerProcessor(i),Dx}var Mx,bC;function PQ(){if(bC)return Mx;bC=1;var t={};let e=w_(),n=Cm(),r=Xu(),i=E_(),s=Im(),o=S_(),l=kQ(),f=km(),c=PR(),d=NR(),g=Am(),p=C_(),x=MQ(),_=I_(),w=Y0(),C=A_(),I=Sm(),P=MR();function A(...L){return L.length===1&&Array.isArray(L[0])&&(L=L[0]),new x(L)}return A.plugin=function(D,O){let k=!1;function N(...V){console&&console.warn&&!k&&(k=!0,console.warn(D+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),t.LANG&&t.LANG.startsWith("cn")&&console.warn(D+`: 里面 postcss.plugin 被弃用. 迁移指南:
https://www.w3ctech.com/topic/2226`));let M=O(...V);return M.postcssPlugin=D,M.postcssVersion=new x().version,M}let R;return Object.defineProperty(N,"postcss",{get(){return R||(R=N()),R}}),N.process=function(V,M,F){return A([N(F)]).process(V,M)},N},A.stringify=I,A.parse=p,A.fromJSON=l,A.list=d,A.comment=L=>new n(L),A.atRule=L=>new e(L),A.decl=L=>new s(L),A.rule=L=>new C(L),A.root=L=>new w(L),A.document=L=>new o(L),A.CssSyntaxError=i,A.Declaration=s,A.Container=r,A.Processor=x,A.Document=o,A.Comment=n,A.Warning=P,A.AtRule=e,A.Result=_,A.Input=f,A.Rule=C,A.Root=w,A.Node=g,c.registerPostcss(A),Mx=A,A.default=A,Mx}var Px,wC;function LQ(){if(wC)return Px;wC=1;const t=vQ(),e=_Q(),{isPlainObject:n}=TQ(),r=EQ(),i=wQ(),{parse:s}=PQ(),o=["img","audio","video","picture","svg","object","map","iframe","embed"],l=["script","style"];function f(C,I){C&&Object.keys(C).forEach(function(P){I(C[P],P)})}function c(C,I){return{}.hasOwnProperty.call(C,I)}function d(C,I){const P=[];return f(C,function(A){I(A)&&P.push(A)}),P}function g(C){for(const I in C)if(c(C,I))return!1;return!0}function p(C){return C.map(function(I){if(!I.url)throw new Error("URL missing");return I.url+(I.w?` ${I.w}w`:"")+(I.h?` ${I.h}h`:"")+(I.d?` ${I.d}x`:"")}).join(", ")}Px=_;const x=/^[^\0\t\n\f\r /<=>]+$/;function _(C,I,P){if(C==null)return"";typeof C=="number"&&(C=C.toString());let A="",L="";function D(de,K){const Ae=this;this.tag=de,this.attribs=K||{},this.tagPosition=A.length,this.text="",this.openingTagLength=0,this.mediaChildren=[],this.updateParentNodeText=function(){if(ae.length){const Fe=ae[ae.length-1];Fe.text+=Ae.text}},this.updateParentNodeMediaChildren=function(){ae.length&&o.includes(this.tag)&&ae[ae.length-1].mediaChildren.push(this.tag)}}I=Object.assign({},_.defaults,I),I.parser=Object.assign({},w,I.parser);const O=function(de){return I.allowedTags===!1||(I.allowedTags||[]).indexOf(de)>-1};l.forEach(function(de){O(de)&&!I.allowVulnerableTags&&console.warn(`

⚠️ Your \`allowedTags\` option includes, \`${de}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});const k=I.nonTextTags||["script","style","textarea","option"];let N,R;I.allowedAttributes&&(N={},R={},f(I.allowedAttributes,function(de,K){N[K]=[];const Ae=[];de.forEach(function(Fe){typeof Fe=="string"&&Fe.indexOf("*")>=0?Ae.push(e(Fe).replace(/\\\*/g,".*")):N[K].push(Fe)}),Ae.length&&(R[K]=new RegExp("^("+Ae.join("|")+")$"))}));const V={},M={},F={};f(I.allowedClasses,function(de,K){if(N&&(c(N,K)||(N[K]=[]),N[K].push("class")),V[K]=de,Array.isArray(de)){const Ae=[];V[K]=[],F[K]=[],de.forEach(function(Fe){typeof Fe=="string"&&Fe.indexOf("*")>=0?Ae.push(e(Fe).replace(/\\\*/g,".*")):Fe instanceof RegExp?F[K].push(Fe):V[K].push(Fe)}),Ae.length&&(M[K]=new RegExp("^("+Ae.join("|")+")$"))}});const q={};let ce;f(I.transformTags,function(de,K){let Ae;typeof de=="function"?Ae=de:typeof de=="string"&&(Ae=_.simpleTransform(de)),K==="*"?ce=Ae:q[K]=Ae});let oe,ae,se,ge,Z,Ee,G=!1;Y();const z=new t.Parser({onopentag:function(de,K){if(I.onOpenTag&&I.onOpenTag(de,K),I.enforceHtmlBoundary&&de==="html"&&Y(),Z){Ee++;return}const Ae=new D(de,K);ae.push(Ae);let Fe=!1;const Ke=!!Ae.text;let qe;if(c(q,de)&&(qe=q[de](de,K),Ae.attribs=K=qe.attribs,qe.text!==void 0&&(Ae.innerText=qe.text),de!==qe.tagName&&(Ae.name=de=qe.tagName,ge[oe]=qe.tagName)),ce&&(qe=ce(de,K),Ae.attribs=K=qe.attribs,de!==qe.tagName&&(Ae.name=de=qe.tagName,ge[oe]=qe.tagName)),(!O(de)||I.disallowedTagsMode==="recursiveEscape"&&!g(se)||I.nestingLimit!=null&&oe>=I.nestingLimit)&&(Fe=!0,se[oe]=!0,(I.disallowedTagsMode==="discard"||I.disallowedTagsMode==="completelyDiscard")&&k.indexOf(de)!==-1&&(Z=!0,Ee=1)),oe++,Fe){if(I.disallowedTagsMode==="discard"||I.disallowedTagsMode==="completelyDiscard"){if(Ae.innerText&&!Ke){const Ge=ee(Ae.innerText);I.textFilter?A+=I.textFilter(Ge,de):A+=Ge,G=!0}return}L=A,A=""}A+="<"+de,de==="script"&&(I.allowedScriptHostnames||I.allowedScriptDomains)&&(Ae.innerText=""),Fe&&(I.disallowedTagsMode==="escape"||I.disallowedTagsMode==="recursiveEscape")&&I.preserveEscapedAttributes?f(K,function(Ge,We){A+=" "+We+'="'+ee(Ge||"",!0)+'"'}):(!N||c(N,de)||N["*"])&&f(K,function(Ge,We){if(!x.test(We)){delete Ae.attribs[We];return}if(Ge===""&&!I.allowedEmptyAttributes.includes(We)&&(I.nonBooleanAttributes.includes(We)||I.nonBooleanAttributes.includes("*"))){delete Ae.attribs[We];return}let Yt=!1;if(!N||c(N,de)&&N[de].indexOf(We)!==-1||N["*"]&&N["*"].indexOf(We)!==-1||c(R,de)&&R[de].test(We)||R["*"]&&R["*"].test(We))Yt=!0;else if(N&&N[de]){for(const ot of N[de])if(n(ot)&&ot.name&&ot.name===We){Yt=!0;let ut="";if(ot.multiple===!0){const st=Ge.split(" ");for(const bt of st)ot.values.indexOf(bt)!==-1&&(ut===""?ut=bt:ut+=" "+bt)}else ot.values.indexOf(Ge)>=0&&(ut=Ge);Ge=ut}}if(Yt){if(I.allowedSchemesAppliedToAttributes.indexOf(We)!==-1&&re(de,Ge)){delete Ae.attribs[We];return}if(de==="script"&&We==="src"){let ot=!0;try{const ut=me(Ge);if(I.allowedScriptHostnames||I.allowedScriptDomains){const st=(I.allowedScriptHostnames||[]).find(function(dt){return dt===ut.url.hostname}),bt=(I.allowedScriptDomains||[]).find(function(dt){return ut.url.hostname===dt||ut.url.hostname.endsWith(`.${dt}`)});ot=st||bt}}catch{ot=!1}if(!ot){delete Ae.attribs[We];return}}if(de==="iframe"&&We==="src"){let ot=!0;try{const ut=me(Ge);if(ut.isRelativeUrl)ot=c(I,"allowIframeRelativeUrls")?I.allowIframeRelativeUrls:!I.allowedIframeHostnames&&!I.allowedIframeDomains;else if(I.allowedIframeHostnames||I.allowedIframeDomains){const st=(I.allowedIframeHostnames||[]).find(function(dt){return dt===ut.url.hostname}),bt=(I.allowedIframeDomains||[]).find(function(dt){return ut.url.hostname===dt||ut.url.hostname.endsWith(`.${dt}`)});ot=st||bt}}catch{ot=!1}if(!ot){delete Ae.attribs[We];return}}if(We==="srcset")try{let ot=i(Ge);if(ot.forEach(function(ut){re("srcset",ut.url)&&(ut.evil=!0)}),ot=d(ot,function(ut){return!ut.evil}),ot.length)Ge=p(d(ot,function(ut){return!ut.evil})),Ae.attribs[We]=Ge;else{delete Ae.attribs[We];return}}catch{delete Ae.attribs[We];return}if(We==="class"){const ot=V[de],ut=V["*"],st=M[de],bt=F[de],dt=F["*"],tn=M["*"],wt=[st,tn].concat(bt,dt).filter(function(Pn){return Pn});if(ot&&ut?Ge=ke(Ge,r(ot,ut),wt):Ge=ke(Ge,ot||ut,wt),!Ge.length){delete Ae.attribs[We];return}}if(We==="style"){if(I.parseStyleAttributes)try{const ot=s(de+" {"+Ge+"}",{map:!1}),ut=Re(ot,I.allowedStyles);if(Ge=Ne(ut),Ge.length===0){delete Ae.attribs[We];return}}catch{typeof window<"u"&&console.warn('Failed to parse "'+de+" {"+Ge+`}", If you're running this in a browser, we recommend to disable style parsing: options.parseStyleAttributes: false, since this only works in a node environment due to a postcss dependency, More info: https://github.com/apostrophecms/sanitize-html/issues/547`),delete Ae.attribs[We];return}else if(I.allowedStyles)throw new Error("allowedStyles option cannot be used together with parseStyleAttributes: false.")}A+=" "+We,Ge&&Ge.length?A+='="'+ee(Ge,!0)+'"':I.allowedEmptyAttributes.includes(We)&&(A+='=""')}else delete Ae.attribs[We]}),I.selfClosing.indexOf(de)!==-1?A+=" />":(A+=">",Ae.innerText&&!Ke&&!I.textFilter&&(A+=ee(Ae.innerText),G=!0)),Fe&&(A=L+ee(A),L=""),Ae.openingTagLength=A.length-Ae.tagPosition},ontext:function(de){if(Z)return;const K=ae[ae.length-1];let Ae;if(K&&(Ae=K.tag,de=K.innerText!==void 0?K.innerText:de),I.disallowedTagsMode==="completelyDiscard"&&!O(Ae))de="";else if((I.disallowedTagsMode==="discard"||I.disallowedTagsMode==="completelyDiscard")&&(Ae==="script"||Ae==="style"))A+=de;else if(!G){const Fe=ee(de,!1);I.textFilter?A+=I.textFilter(Fe,Ae):A+=Fe}if(ae.length){const Fe=ae[ae.length-1];Fe.text+=de}},onclosetag:function(de,K){if(I.onCloseTag&&I.onCloseTag(de,K),Z)if(Ee--,!Ee)Z=!1;else return;const Ae=ae.pop();if(!Ae)return;if(Ae.tag!==de){ae.push(Ae);return}Z=I.enforceHtmlBoundary?de==="html":!1,oe--;const Fe=se[oe];if(Fe){if(delete se[oe],I.disallowedTagsMode==="discard"||I.disallowedTagsMode==="completelyDiscard"){Ae.updateParentNodeText();return}L=A,A=""}if(ge[oe]&&(de=ge[oe],delete ge[oe]),I.exclusiveFilter){const Ke=I.exclusiveFilter(Ae);if(Ke==="excludeTag"){Fe&&(A=L,L=""),A=A.substring(0,Ae.tagPosition)+A.substring(Ae.tagPosition+Ae.openingTagLength);return}else if(Ke){A=A.substring(0,Ae.tagPosition);return}}if(Ae.updateParentNodeMediaChildren(),Ae.updateParentNodeText(),I.selfClosing.indexOf(de)!==-1||K&&!O(de)&&["escape","recursiveEscape"].indexOf(I.disallowedTagsMode)>=0){Fe&&(A=L,L="");return}A+="</"+de+">",Fe&&(A=L+ee(A),L=""),G=!1}},I.parser);return z.write(C),z.end(),A;function Y(){A="",oe=0,ae=[],se={},ge={},Z=!1,Ee=0}function ee(de,K){return typeof de!="string"&&(de=de+""),I.parser.decodeEntities&&(de=de.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),K&&(de=de.replace(/"/g,"&quot;"))),de=de.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),K&&(de=de.replace(/"/g,"&quot;")),de}function re(de,K){for(K=K.replace(/[\x00-\x20]+/g,"");;){const Ke=K.indexOf("<!--");if(Ke===-1)break;const qe=K.indexOf("-->",Ke+4);if(qe===-1)break;K=K.substring(0,Ke)+K.substring(qe+3)}const Ae=K.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!Ae)return K.match(/^[/\\]{2}/)?!I.allowProtocolRelative:!1;const Fe=Ae[1].toLowerCase();return c(I.allowedSchemesByTag,de)?I.allowedSchemesByTag[de].indexOf(Fe)===-1:!I.allowedSchemes||I.allowedSchemes.indexOf(Fe)===-1}function me(de){if(de=de.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//"),de.startsWith("relative:"))throw new Error("relative: exploit attempt");let K="relative://relative-site";for(let Ke=0;Ke<100;Ke++)K+=`/${Ke}`;const Ae=new URL(de,K);return{isRelativeUrl:Ae&&Ae.hostname==="relative-site"&&Ae.protocol==="relative:",url:Ae}}function Re(de,K){if(!K)return de;const Ae=de.nodes[0];let Fe;return K[Ae.selector]&&K["*"]?Fe=r(K[Ae.selector],K["*"]):Fe=K[Ae.selector]||K["*"],Fe&&(de.nodes[0].nodes=Ae.nodes.reduce(he(Fe),[])),de}function Ne(de){return de.nodes[0].nodes.reduce(function(K,Ae){return K.push(`${Ae.prop}:${Ae.value}${Ae.important?" !important":""}`),K},[]).join(";")}function he(de){return function(K,Ae){return c(de,Ae.prop)&&de[Ae.prop].some(function(Ke){return Ke.test(Ae.value)})&&K.push(Ae),K}}function ke(de,K,Ae){return K?(de=de.split(/\s+/),de.filter(function(Fe){return K.indexOf(Fe)!==-1||Ae.some(function(Ke){return Ke.test(Fe)})}).join(" ")):de}}const w={decodeEntities:!0};return _.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","menu","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],nonBooleanAttributes:["abbr","accept","accept-charset","accesskey","action","allow","alt","as","autocapitalize","autocomplete","blocking","charset","cite","class","color","cols","colspan","content","contenteditable","coords","crossorigin","data","datetime","decoding","dir","dirname","download","draggable","enctype","enterkeyhint","fetchpriority","for","form","formaction","formenctype","formmethod","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","id","imagesizes","imagesrcset","inputmode","integrity","is","itemid","itemprop","itemref","itemtype","kind","label","lang","list","loading","low","max","maxlength","media","method","min","minlength","name","nonce","optimum","pattern","ping","placeholder","popover","popovertarget","popovertargetaction","poster","preload","referrerpolicy","rel","rows","rowspan","sandbox","scope","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","tabindex","target","title","translate","type","usemap","value","width","wrap","onauxclick","onafterprint","onbeforematch","onbeforeprint","onbeforeunload","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","onhashchange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onlanguagechange","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmessageerror","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreset","onresize","onrejectionhandled","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","ontoggle","onunhandledrejection","onunload","onvolumechange","onwaiting","onwheel"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},allowedEmptyAttributes:["alt"],selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1,parseStyleAttributes:!0,preserveEscapedAttributes:!1},_.simpleTransform=function(C,I,P){return P=P===void 0?!0:P,I=I||{},function(A,L){let D;if(P)for(D in I)L[D]=I[D];else L=I;return{tagName:C,attribs:L}}},Px}var OQ=LQ();const So=Vp(OQ),FQ="YOUR_GEMINI_API_KEY_HERE",k_=new AJ({apiKey:FQ}),LR={allowedTags:[],allowedAttributes:{}},UQ=async t=>{const e=t.map(i=>So(i,LR)),r=`
    Tôi vừa hoàn thành một bài kiểm tra và cần trợ giúp ôn tập các chủ đề tôi đã làm sai. 
    Các chủ đề đó là: ${[...new Set(e)].join(", ")}.

    Vui lòng tạo một hướng dẫn ôn tập ngắn gọn, dễ hiểu cho các chủ đề này. 
    Sử dụng định dạng markdown. Đối với mỗi chủ đề, hãy cung cấp:
    1. Giải thích ngắn gọn về khái niệm cốt lõi.
    2. Một ví dụ mã đơn giản hoặc một sự thật quan trọng.
    3. Một hoặc hai điểm quan trọng cần nhớ.

    Cấu trúc câu trả lời của bạn với các tiêu đề rõ ràng cho mỗi chủ đề.
  `;try{const s=(await k_.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:r}]}]})).text,o=await Wt.parse(s,{async:!0,gfm:!0});return So(o,{allowedTags:So.defaults.allowedTags.concat(["h1","h2","h3","ul","li","strong","code","p","br"])})}catch(i){return console.error("Gemini API call failed:",i),"<p><strong>Lỗi:</strong> Không thể tạo ghi chú ôn tập vào lúc này. Dịch vụ AI có thể không khả dụng hoặc khóa API không hợp lệ.</p>"}},VQ=async(t,e)=>{const r=`Tạo một câu hỏi trắc nghiệm cho một kỳ thi trực tuyến về chủ đề "${So(t,LR)}" với độ khó là "${e}'. 
    Câu hỏi nên có 4 lựa chọn. Đáp án phải là một trong các lựa chọn đó.
    Cung cấp câu trả lời của bạn dưới dạng một đối tượng JSON có cấu trúc sau: 
    { "stem": "Nội dung câu hỏi ở đây...", "options": ["Lựa chọn A", "Lựa chọn B", "Lựa chọn C", "Lựa chọn D"], "answerIndex": 0 }
    Phần thân câu hỏi có thể chứa các thẻ HTML đơn giản như <code> và <p>. Đảm bảo JSON hợp lệ.`;try{const s=(await k_.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:r}]}],generationConfig:{responseMimeType:"application/json"}})).text.trim(),o=JSON.parse(s);if(o.stem&&Array.isArray(o.options)&&typeof o.answerIndex=="number"){const l=So(o.stem),f=o.options.map(c=>So(c));return{...o,stem:l,options:f}}return null}catch(i){return console.error("Không thể tạo câu hỏi bằng AI",i),null}},BQ=async t=>{if(t.length===0)return Promise.resolve("<p>Không có hoạt động đáng ngờ nào được ghi lại cho lần thử này.</p>");const n=`
        Với vai trò là giám thị kỳ thi, tôi đang xem lại nhật ký hoạt động của một học viên. Vui lòng tóm tắt các sự kiện sau và đưa ra đánh giá ngắn gọn về việc liệu mô hình hoạt động có đáng ngờ hay không. Một vài sự kiện riêng lẻ là bình thường, nhưng các cụm sự kiện (đặc biệt là 'visibility_hidden' hoặc 'focus_lost') là đáng ngờ.

        Nhật ký sự kiện:
        ${t.map(r=>`- Vào lúc ${new Date(r.timestamp).toLocaleTimeString()}, sự kiện '${r.event}' đã xảy ra.`).join(`
`)}

        Cung cấp bản tóm tắt của bạn ở định dạng Markdown. Bắt đầu bằng tiêu đề "Tóm tắt giám sát" và kết thúc bằng một kết luận (ví dụ: "Kết luận: Rủi ro gian lận thấp." hoặc "Kết luận: Nghi ngờ gian lận cao do nhiều lần chuyển tab.").
    `;try{const i=(await k_.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:n}]}]})).text,s=await Wt.parse(i,{async:!0,gfm:!0});return So(s,{allowedTags:So.defaults.allowedTags.concat(["h2","strong","p"])})}catch(r){return console.error("Gemini log summarization failed:",r),"<p><strong>Lỗi:</strong> Không thể tạo tóm tắt.</p>"}},qQ=t=>{try{const e=new URL(t.trim());if(!/\.google\./.test(e.hostname)||!e.hostname.includes("drive"))return null;const n=e.pathname.split("/").findIndex(s=>s==="d");if(n!==-1){const o=e.pathname.split("/")[n+1];if(o)return o}const r=e.searchParams.get("id");if(r)return r;const i=e.searchParams.get("thumbnail");return i||null}catch{return null}},Up=t=>{if(!t||typeof t!="string")return;const e=qQ(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:t.trim()},OR=({isOpen:t,onClose:e,imageUrl:n})=>t?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 transition-opacity",onClick:e,children:b.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-2xl max-w-4xl max-h-[90vh] w-auto relative",onClick:r=>r.stopPropagation(),children:[b.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-600 bg-white/70 hover:bg-white rounded-full p-1 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-colors","aria-label":"Đóng",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),b.jsx("img",{src:n,alt:"Hình ảnh xem trước",className:"max-w-full max-h-[85vh] object-contain rounded-lg",referrerPolicy:"no-referrer"})]})}):null,HQ=4,SC=()=>Array.from({length:HQ},(t,e)=>({id:`opt-${e+1}`,text:""})),uo=t=>t==null?"":typeof t=="string"?t.trim():typeof t=="number"||typeof t=="boolean"?String(t):typeof t=="object"&&t!==null&&"text"in t?uo(t.text):String(t),AC=(t,e)=>{if(!t)return{examId:e,stem:"",options:SC(),answer_key:"",topic:"",difficulty:Ly[0]||"",imageUrl:""};const n=Array.isArray(t.options)?t.options:[];let r=[],i=t.answer_key||"";const s=[];if(n.length>0&&typeof n[0]=="object"&&n[0]!==null&&"text"in n[0]?r=n.map((o,l)=>({id:o.id||`opt-${l+1}`,text:uo(o.text)})):n.length>0&&s.push(...n.map(o=>uo(o)).filter(o=>o!=="")),!s.length){const o=[t.optionA??t.option1,t.optionB??t.option2,t.optionC??t.option3,t.optionD??t.option4];s.push(...o.map(l=>uo(l)).filter(l=>l!==""))}if(!r.length&&s.length&&(r=s.map((o,l)=>({id:`opt-${l+1}`,text:o}))),r.length||(r=SC()),i&&!r.some(l=>l.id===i)){const l=r.find(f=>f.text.trim()===i.trim());l?i=l.id:i=""}if(!i&&typeof t.correctAnswer=="string"){const o=t.correctAnswer.trim(),l=r.find(f=>f.text.trim()===o);l&&(i=l.id)}return{examId:t.examId||e,stem:uo(t.stem||t.questionText),options:r,answer_key:i,topic:t.topic?uo(t.topic):"",difficulty:t.difficulty?uo(t.difficulty):Ly[0]||"",imageUrl:t.imageUrl?uo(t.imageUrl):""}},Ly=["Bậc 1-2","Bậc 2-3","Bậc 3-4","Bậc 4-5","Bậc 5-6","easy","medium","hard"],zQ=({isOpen:t,onClose:e,onSave:n,initialQuestion:r})=>{var ae;const[i,s]=le.useState(()=>AC(r,(r==null?void 0:r.examId)||"")),[o,l]=le.useState([]),[f,c]=le.useState(!1),[d,g]=le.useState(!1),[p,x]=le.useState(""),[_,w]=le.useState(!1),[C,I]=le.useState(""),[P,A]=le.useState(!1);le.useEffect(()=>{var ge;const se=(r==null?void 0:r.examId)||(((ge=o[0])==null?void 0:ge.id)??"");s(AC(r,se))},[r,t,o]),le.useEffect(()=>{t&&(async()=>{const Z=(await U0()).exams;l(Z),!r&&Z.length>0&&s(Ee=>({...Ee,examId:Z[0].id}))})()},[r,t]);const L=se=>{const{name:ge,value:Z}=se.target;s(Ee=>({...Ee,[ge]:Z})),x(""),ge==="imageUrl"&&A(!1)},D=(se,ge)=>{const Z=[...i.options];Z[se].text=ge,s(Ee=>({...Ee,options:Z}))},O=()=>{s(se=>({...se,options:[...se.options,{id:`opt-${Date.now()}`,text:""}]}))},k=se=>{const ge=i.options.filter((Z,Ee)=>Ee!==se);i.answer_key===i.options[se].id?s(Z=>({...Z,options:ge,answer_key:""})):s(Z=>({...Z,options:ge}))},N=le.useMemo(()=>{const se=new Set;return i.difficulty&&se.add(i.difficulty),Ly.forEach(ge=>se.add(ge)),Array.from(se)},[i.difficulty]),R=async()=>{if(!i.topic||i.topic.trim()===""){x("Vui lòng nhập chủ đề trước khi tạo bằng AI.");return}g(!0),x("");try{const se=i.difficulty==="easy"||i.difficulty==="medium"||i.difficulty==="hard"?i.difficulty:"medium";se==="medium"&&i.difficulty!=="medium"&&console.warn(`AI generator chỉ hỗ trợ các mức "easy", "medium" hoặc "hard". Đang sử dụng mặc định "medium" cho độ khó "${i.difficulty}".`);const ge=await VQ(i.topic,se);if(ge){const Z=ge.options.map((Ee,G)=>({id:`opt-gen-${G}`,text:Ee}));s(Ee=>{var G;return{...Ee,stem:ge.stem,options:Z,answer_key:((G=Z[ge.answerIndex])==null?void 0:G.id)||""}})}else x("AI không thể tạo câu hỏi hợp lệ. Vui lòng thử lại.")}catch(se){console.error("Lỗi khi tạo câu hỏi bằng AI:",se),x("Đã xảy ra lỗi khi giao tiếp với AI. Vui lòng kiểm tra console để biết thêm chi tiết.")}finally{g(!1)}},V=se=>{I(se),w(!0)},M=()=>{if(!i.imageUrl||!i.imageUrl.trim()){x("Vui lòng nhập URL hình ảnh trước khi xem trước.");return}const se=Up(i.imageUrl.trim());if(!se){x("Không thể chuyển đổi URL hình ảnh. Vui lòng kiểm tra lại liên kết Google Drive.");return}x(""),A(!1),V(se)},F=async se=>{var Ee;se.preventDefault();const ge=i.options.map((G,z)=>({id:G.id||`opt-${z+1}`,text:G.text.trim()})).filter(G=>G.text!=="");if(ge.length<2){x("Vui lòng nhập tối thiểu hai lựa chọn khác nhau.");return}const Z=ge.find(G=>G.id===i.answer_key);if(!Z){x("Vui lòng chọn một câu trả lời đúng từ các lựa chọn đã nhập.");return}c(!0),x("");try{const G={stem:i.stem.trim(),questionText:i.stem.trim(),options:ge.map(z=>z.text),correctAnswer:Z.text,answer_key:Z.id,topic:i.topic.trim(),difficulty:i.difficulty.trim(),imageUrl:((Ee=i.imageUrl)==null?void 0:Ee.trim())||"",points:(r==null?void 0:r.points)||1};r?await _F({...r,...G}):await vF(i.examId,G),n()}catch(G){console.error("Failed to save question",G),x("Đã xảy ra lỗi khi lưu. Vui lòng thử lại.")}finally{c(!1)}};if(!t)return null;const q=Up(i.imageUrl),ce="block w-full rounded-lg border-0 py-2 px-3 bg-white text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",oe="block text-sm font-medium leading-6 text-gray-900";return b.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity",children:[b.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 md:p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Sửa câu hỏi":"Thêm câu hỏi mới"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-3xl leading-none transition-colors",children:"×"})]}),b.jsxs("form",{onSubmit:F,className:"space-y-6",children:[p&&b.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-700 px-4 py-3 rounded-lg text-sm",children:p}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"topic",className:oe,children:"Chủ đề"}),b.jsx("div",{className:"mt-2",children:b.jsx("input",{id:"topic",name:"topic",type:"text",value:i.topic,onChange:L,className:ce,required:!0,placeholder:"ví dụ: React Hooks"})})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"difficulty",className:oe,children:"Độ khó"}),b.jsxs("div",{className:"mt-2",children:[b.jsx("input",{id:"difficulty",name:"difficulty",type:"text",value:i.difficulty,onChange:L,className:ce,list:"difficulty-suggestions",placeholder:"Ví dụ: Bậc 1-2",required:!0}),b.jsx("datalist",{id:"difficulty-suggestions",children:N.map(se=>b.jsx("option",{value:se},se))})]})]})]}),b.jsx("div",{children:b.jsx("button",{type:"button",onClick:R,disabled:d||!i.topic.trim(),className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2.5 px-4 rounded-lg flex items-center justify-center disabled:bg-indigo-400 transition-colors shadow-sm",children:d?b.jsx($t,{}):"✨ Tạo bằng AI"})}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"stem",className:oe,children:"Nội dung câu hỏi (cho phép HTML)"}),b.jsx("div",{className:"mt-2",children:b.jsx("textarea",{id:"stem",name:"stem",value:i.stem,onChange:L,rows:4,className:ce,required:!0})})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"imageUrl",className:oe,children:"URL hình ảnh (tùy chọn)"}),b.jsxs("div",{className:"mt-2 flex gap-3",children:[b.jsx("input",{id:"imageUrl",name:"imageUrl",type:"text",value:i.imageUrl,onChange:L,className:`${ce} flex-1`,placeholder:"Dán liên kết hình ảnh từ Google Drive..."}),b.jsx("button",{type:"button",onClick:M,className:"px-4 py-2 rounded-lg border border-indigo-200 text-indigo-600 hover:text-white hover:bg-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-semibold",disabled:!((ae=i.imageUrl)!=null&&ae.trim()),children:"Xem trước"})]}),q&&!P&&b.jsx("button",{type:"button",onClick:()=>V(q),className:"mt-3 p-2 border rounded-lg bg-gray-50 inline-block hover:border-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:b.jsx("img",{src:q,alt:"Xem trước",className:"max-h-40 w-auto rounded",loading:"lazy",referrerPolicy:"no-referrer",onLoad:()=>A(!1),onError:()=>A(!0)})}),P&&b.jsx("p",{className:"mt-2 text-sm text-rose-600",children:"Không thể tải hình ảnh xem trước. Hãy kiểm tra quyền chia sẻ hoặc URL."})]}),b.jsxs("div",{children:[b.jsx("label",{className:oe,children:"Các lựa chọn & Đáp án đúng"}),b.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Chọn nút radio cho câu trả lời đúng."}),b.jsx("div",{className:"space-y-3 mt-3",children:i.options.map((se,ge)=>b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx("input",{type:"radio",name:"answer_key",value:se.id,checked:i.answer_key===se.id,onChange:L,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),b.jsx("input",{type:"text",value:se.text,onChange:Z=>D(ge,Z.target.value),className:`flex-grow ${ce}`,placeholder:`Lựa chọn ${ge+1}`}),b.jsx("button",{type:"button",onClick:()=>k(ge),disabled:i.options.length<=2,className:"text-rose-500 hover:text-rose-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold text-xl","aria-label":"Xóa lựa chọn",children:"×"})]},se.id))}),b.jsx("button",{type:"button",onClick:O,className:"text-sm font-semibold text-indigo-600 hover:text-indigo-800 mt-3",children:"+ Thêm lựa chọn"})]}),b.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[b.jsx("button",{type:"button",onClick:e,className:"bg-white text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 font-bold py-2 px-4 rounded-lg transition-colors text-sm",children:"Hủy"}),b.jsx("button",{type:"submit",disabled:f,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center disabled:bg-indigo-400 transition-colors shadow-sm text-sm",children:f?b.jsx($t,{}):"Lưu câu hỏi"})]})]})]}),_&&C&&b.jsx(OR,{isOpen:_,onClose:()=>w(!1),imageUrl:C})]})},CC=400,GQ=({onImportComplete:t,onImportError:e,onProgress:n})=>{const[r,i]=le.useState(null),[s,o]=le.useState(!1),l=c=>{c.target.files&&c.target.files.length>0?i(c.target.files[0]):i(null)},f=async()=>{if(!r){e("Vui lòng chọn một tệp Excel (.xlsx) hoặc CSV (.csv) để nhập.");return}o(!0),n("Bắt đầu quá trình nhập... Vui lòng không đóng tab này.");try{const c=Ds(),d=await r.arrayBuffer(),g=Rp(d),p=g.SheetNames[0],x=g.Sheets[p],_=Bk.sheet_to_json(x);if(_.length===0)throw new Error("Tệp không có dữ liệu hoặc không đúng định dạng. Hãy chắc chắn dòng đầu tiên là dòng tiêu đề.");let w=0;for(let C=0;C<_.length;C+=CC){const I=_.slice(C,C+CC),P=e6(c);n(`Đang xử lý: ${C+I.length} / ${_.length} câu hỏi...`);for(const A of I){const L=A["ID Câu hỏi"]||A.ID,D=A["Câu hỏi"]||A["Câu hỏi (Nội dung chính)"],O=A["Đáp án đúng (chép lại nội dung)"]||A["Correct Text"],k=A["Chủ đề/Lớp/Ngành"]||A.Topic;if(!L||!D||!O){console.warn("Bỏ qua dòng do thiếu các trường bắt buộc (ID, Câu hỏi, Đáp án đúng):",A);continue}const N=[A["Đáp án A"],A.A,A["Đáp án B"],A.B,A["Đáp án C"],A.C,A["Đáp án D"],A.D].filter(F=>F!=null&&String(F).trim()!=="").map(String),R=[...new Set(N)],V={id:String(L).trim(),questionText:String(D).trim(),options:R,correctAnswer:String(O).trim(),points:parseInt(A.Points||A.Điểm,10)||1,topic:String(k).trim(),difficulty:String(A["Bậc/Độ khó"]||A.Bậc||A.Difficulty||"Trung bình").trim(),imageUrl:String(A["Link ảnh minh họa (nếu có)"]||A["Image Link"]||"").trim()},M=qo(c,"questionBank",V.id);P.set(M,V)}await P.commit(),w+=I.length}t(w)}catch(c){console.error("Lỗi khi nhập tệp:",c),e(`Đã xảy ra lỗi: ${c.message}`)}finally{o(!1);const c=document.getElementById("csv-file-input");c&&(c.value=""),i(null)}};return b.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg shadow-inner mt-6",children:[b.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:"Nhập từ tệp Excel / CSV"}),b.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["1. Chuẩn bị tệp Excel (",b.jsx("strong",{children:".xlsx"}),") hoặc CSV (",b.jsx("strong",{children:".csv"}),"). Dòng đầu tiên phải là dòng tiêu đề.",b.jsx("br",{}),"2. Nhấp vào nút bên dưới để chọn và tải lên tệp của bạn."]}),b.jsx("input",{id:"csv-file-input",type:"file",accept:".xlsx, .xls, .csv",onChange:l,disabled:s,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-violet-50 file:text-violet-700 hover:file:bg-violet-100"}),b.jsx("button",{onClick:f,disabled:s||!r,className:"mt-4 px-6 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:s?"Đang xử lý...":"Bắt đầu Nhập"})]})},Lx=10,jQ=()=>{const[t,e]=le.useState([]),[n,r]=le.useState(!0),[i,s]=le.useState(""),[o,l]=le.useState(!1),[f,c]=le.useState(null),[d,g]=le.useState(""),[p,x]=le.useState(1),[_,w]=le.useState(!1),[C,I]=le.useState({message:"",type:""}),[P,A]=le.useState(!1),[L,D]=le.useState(""),O=le.useCallback(async()=>{r(!0),s("");try{const G=Ds(),z=ba(G,"questionBank"),ee=(await qu(z)).docs.map(re=>({...re.data(),id:re.id}));e(ee)}catch(G){console.error("Failed to fetch questions from Firestore",G),s("Không thể tải ngân hàng câu hỏi từ cơ sở dữ liệu. Vui lòng thử lại.")}finally{r(!1)}},[]);le.useEffect(()=>{O()},[O]),le.useEffect(()=>{x(1)},[d]);const k=le.useMemo(()=>{const G=t.map(z=>z.topic).filter(Boolean);return[...new Set(G)]},[t]),N=le.useMemo(()=>d?t.filter(G=>G.topic===d):t,[t,d]),R=Math.ceil(N.length/Lx),V=le.useMemo(()=>{const G=(p-1)*Lx;return N.slice(G,G+Lx)},[N,p]),M=()=>{c(null),l(!0)},F=G=>{c(G),l(!0)},q=async G=>{if(window.confirm("Bạn có chắc chắn muốn xóa câu hỏi này khỏi ngân hàng câu hỏi không?"))try{const z=Ds();await BO(qo(z,"questionBank",G)),await O()}catch(z){console.error("Failed to delete question:",z),s("Không thể xóa câu hỏi. Vui lòng thử lại.")}},ce=()=>{l(!1),c(null)},oe=()=>{ce(),O()},ae=G=>{I({message:G,type:"progress"})},se=G=>{I({message:`Nhập thành công! Đã xử lý ${G} câu hỏi. Đang làm mới danh sách...`,type:"success"}),O(),setTimeout(()=>I({message:"",type:""}),5e3)},ge=G=>{I({message:`Lỗi khi nhập: ${G}`,type:"error"})},Z=G=>{D(G),A(!0)},Ee=()=>{switch(C.type){case"success":return"text-emerald-700 bg-emerald-50 border-emerald-200";case"error":return"text-rose-700 bg-rose-50 border-rose-200";case"progress":return"text-sky-700 bg-sky-50 border-sky-200";default:return"hidden"}};return b.jsxs("div",{children:[b.jsxs("div",{className:"flex flex-wrap gap-4 justify-between items-center mb-4",children:[b.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Ngân hàng câu hỏi"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("button",{onClick:()=>w(!_),className:"bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-4 rounded-lg flex items-center transition-colors",children:[b.jsx(Hk,{}),b.jsx("span",{className:"ml-2",children:_?"Đóng Nhập liệu":"Nhập từ CSV"})]}),b.jsxs("button",{onClick:M,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center transition-colors",children:[b.jsx(V0,{}),b.jsx("span",{className:"ml-2",children:"Thêm câu hỏi"})]})]})]}),C.message&&b.jsx("div",{className:`p-3 my-4 border rounded-lg text-sm ${Ee()}`,children:C.message}),_&&b.jsx(GQ,{onProgress:ae,onImportComplete:se,onImportError:ge}),b.jsxs("div",{className:"mb-4 mt-6",children:[b.jsx("label",{htmlFor:"topic-filter",className:"block text-sm font-medium text-gray-700",children:"Lọc theo chủ đề"}),b.jsxs("select",{id:"topic-filter",value:d,onChange:G=>g(G.target.value),className:"mt-1 block w-full md:w-1/3 p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[b.jsx("option",{value:"",children:"Tất cả chủ đề"}),k.map(G=>b.jsx("option",{value:G,children:G},G))]})]}),n?b.jsxs("div",{className:"flex justify-center items-center h-64",children:[b.jsx($t,{}),b.jsx("p",{className:"ml-4 text-gray-600",children:"Đang tải câu hỏi..."})]}):i?b.jsx("div",{className:"text-center bg-rose-50 border border-rose-200 text-rose-800 p-4 rounded-lg",children:i}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"space-y-4",children:V.map(G=>{const z=G.imageUrl?Up(G.imageUrl):"";return b.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-semibold text-indigo-600 bg-indigo-100 inline-block px-2 py-1 rounded-full mb-2",children:G.topic}),b.jsx("p",{className:"text-gray-900 font-medium",children:G.questionText}),z&&b.jsx("button",{type:"button",onClick:()=>Z(z),className:"mt-3 bg-gray-100 rounded-lg p-2 border border-gray-200 inline-block hover:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition",children:b.jsx("img",{src:z,alt:"Hình minh họa",className:"max-h-40 w-auto object-contain rounded-md"})})]}),b.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-2 ml-4",children:[b.jsx("button",{onClick:()=>F(G),className:"p-2 text-gray-500 hover:text-indigo-600 hover:bg-gray-200 rounded-full transition-colors",children:b.jsx(zl,{})}),b.jsx("button",{onClick:()=>q(G.id),className:"p-2 text-gray-500 hover:text-rose-600 hover:bg-gray-200 rounded-full transition-colors",children:b.jsx(m0,{})})]})]}),b.jsx("ul",{className:"mt-3 space-y-2",children:G.options.map((Y,ee)=>b.jsx("li",{className:`text-sm pl-4 py-1 rounded ${Y===G.correctAnswer?"bg-emerald-100 text-emerald-800 border-l-4 border-emerald-500 font-semibold":"text-gray-700"}`,children:Y},ee))})]},G.id)})}),b.jsx(hc,{currentPage:p,totalPages:R,onPageChange:x})]}),P&&b.jsx(OR,{isOpen:P,onClose:()=>A(!1),imageUrl:L}),o&&b.jsx(zQ,{isOpen:o,onClose:ce,onSave:oe,initialQuestion:f})]})},$Q=t=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),WQ=async()=>{const t=Ds(),e=ba(t,"questionBank"),n=await qu(e);return n.empty?(console.warn("Warning: Question bank is empty or not accessible."),[]):n.docs.map(r=>({...r.data(),id:r.id}))};async function KQ(t){var e;try{console.log(`Calling cloud function 'generateExamVariantsHttps' with examId: ${t}`);const n=await a_("generateExamVariantsHttps",{examId:t});return console.log("Cloud function returned:",n),n}catch(n){return console.error("Error calling cloud function:",n),{success:!1,message:`Lỗi từ server: ${((e=n.details)==null?void 0:e.message)||n.message||"Đã xảy ra lỗi không xác định."}`}}}const YQ=async()=>{const t=Ds(),e=ba(t,"exams");return(await qu(e)).docs.map(r=>{const i=r.data(),s=Array.isArray(i.snapshotVariantIds)?i.snapshotVariantIds:[];return{...i,id:r.id,snapshotVariantIds:s,variants:typeof i.variants=="number"?i.variants:s.length||0}})},XQ=async t=>{const e=Ds(),n={...t,isSynced:!1,lastSyncedAt:null,snapshotVariantIds:[]};return await QI(ba(e,"exams"),n)},JQ=async(t,e)=>{const n=Ds(),r={...e,isSynced:!1,lastSyncedAt:null,snapshotVariantIds:[]};return await hm(qo(n,"exams",t),r)},QQ=async t=>{const e=Ds(),n=e6(e),r=cm(ba(e,"examSnapshots"),KI("examId","==",t));(await qu(r)).forEach(o=>{n.delete(o.ref)});const s=qo(e,"exams",t);n.delete(s),await n.commit()},FR=async t=>{const e=Ds(),n=cm(ba(e,"examSnapshots"),KI("examId","==",t));return(await qu(n)).docs.map(i=>({id:i.id,...i.data()})).sort((i,s)=>(i.variant||0)-(s.variant||0))},ZQ=2166136261;function eZ(t){let e=ZQ;for(let n=0;n<t.length;n+=1)e^=t.charCodeAt(n),e=e*16777619>>>0;return e>>>0}async function tZ(t,e){const n=e.trim().toLowerCase();if(!t||!n)throw new Error("Thiếu thông tin bài thi hoặc email học viên.");const r=await FR(t);if(r.length===0)return null;const s=eZ(`${t}|${n}`)%r.length;return r[s]}const nZ=({isOpen:t,onClose:e,onSave:n,initialExam:r})=>{const[i,s]=le.useState({title:"",description:"",duration:60,pass_threshold:.7,blueprint:[],variants:10}),[o,l]=le.useState(!1),[f,c]=le.useState(""),[d,g]=le.useState(!0),[p,x]=le.useState([]),[_,w]=le.useState([]);le.useEffect(()=>{t&&(async()=>{g(!0);try{const D=await WQ(),O=[...new Set(D.map(N=>N.topic||"Chưa phân loại"))],k=[...new Set(D.map(N=>N.difficulty||"Chưa xác định"))];x(O),w(k)}catch{c("Không thể tải dữ liệu chủ đề và độ khó từ ngân hàng câu hỏi.")}finally{g(!1)}})()},[t]),le.useEffect(()=>{if(t&&!d)if(c(""),r){let L=[];if(typeof r.blueprint=="string"&&r.blueprint.trim().startsWith("["))try{L=JSON.parse(r.blueprint)}catch{L=[]}else Array.isArray(r.blueprint)&&(L=r.blueprint);s({...r,blueprint:L})}else s({title:"",description:"",duration:60,pass_threshold:.7,variants:10,blueprint:p.length>0&&_.length>0?[{topic:p[0],difficulty:_[0],count:1}]:[]})},[r,t,d,p,_]);const C=(L,D,O)=>{const k=[...i.blueprint],N={...k[L]};N[D]=D==="count"?parseInt(O,10):O,k[L]=N,s(R=>({...R,blueprint:k}))},I=()=>{if(p.length===0||_.length===0)return;const L={topic:p[0],difficulty:_[0],count:1};s(D=>({...D,blueprint:[...D.blueprint||[],L]}))},P=L=>{s(D=>({...D,blueprint:i.blueprint.filter((O,k)=>k!==L)}))},A=async L=>{L.preventDefault(),l(!0),c("");const D={...i,blueprint:i.blueprint||[]};try{r&&r.id?await JQ(r.id,D):await XQ(D),n()}catch(O){console.error("Failed to save exam",O),c(`Lưu bài thi thất bại: ${O.message}`)}finally{l(!1)}};return t?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity",children:b.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 md:p-8 max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Sửa bài thi":"Tạo bài thi mới"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-3xl leading-none",children:"×"})]}),d?b.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[b.jsx($t,{}),b.jsx("p",{className:"mt-4 text-gray-600",children:"Đang tải dữ liệu câu hỏi..."})]}):b.jsxs("form",{onSubmit:A,className:"space-y-6",children:[f&&b.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-700 px-4 py-3 rounded-lg text-sm",children:f}),b.jsx(rZ,{blueprint:i.blueprint,allTopics:p,allDifficulties:_,onBlueprintChange:C,onAddRule:I,onRemoveRule:P}),b.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[b.jsx("button",{type:"button",onClick:e,className:"bg-white text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 font-bold py-2 px-4 rounded-lg",children:"Hủy"}),b.jsx("button",{type:"submit",disabled:o,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center disabled:bg-indigo-400",children:o?b.jsx($t,{}):"Lưu bài thi"})]})]})]})}):null},rZ=({blueprint:t,allTopics:e,allDifficulties:n,onBlueprintChange:r,onAddRule:i,onRemoveRule:s})=>{const o="block w-full rounded-lg border-0 py-2 px-3 bg-white text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm";return b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Ma trận đề thi"}),b.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[(t||[]).map((l,f)=>b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-8 gap-3 items-center",children:[b.jsxs("div",{className:"md:col-span-3",children:[b.jsx("label",{className:"text-xs text-gray-600",children:"Chủ đề"}),b.jsx("select",{value:l.topic,onChange:c=>r(f,"topic",c.target.value),className:o,children:e.map(c=>b.jsx("option",{value:c,children:c},c))})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"text-xs text-gray-600",children:"Độ khó"}),b.jsx("select",{value:l.difficulty,onChange:c=>r(f,"difficulty",c.target.value),className:o,children:n.map(c=>b.jsx("option",{value:c,children:c},c))})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"text-xs text-gray-600",children:"Số lượng"}),b.jsx("input",{type:"number",value:l.count,onChange:c=>r(f,"count",c.target.value),className:o,min:"1"})]}),b.jsx("div",{className:"md:col-span-1 self-end",children:b.jsx("button",{type:"button",onClick:()=>s(f),className:"p-2 text-gray-500 hover:text-rose-600 hover:bg-gray-200 rounded-full",children:b.jsx(m0,{})})})]},f)),b.jsxs("button",{type:"button",onClick:i,className:"mt-3 bg-white hover:bg-gray-100 text-indigo-600 font-semibold py-2 px-3 border border-indigo-200 rounded-lg flex items-center text-sm",children:[b.jsx(V0,{}),b.jsx("span",{className:"ml-2",children:"Thêm quy tắc"})]})]}),b.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Tổng số câu hỏi: ",b.jsx("span",{className:"font-bold",children:(t||[]).reduce((l,f)=>l+(f.count||0),0)})]})]})},iZ=({isOpen:t,onClose:e,exam:n})=>{var x;const[r,i]=le.useState([]),[s,o]=le.useState(!1),[l,f]=le.useState(""),c=Array.isArray(n==null?void 0:n.snapshotVariantIds)?n.snapshotVariantIds:[],d=typeof(n==null?void 0:n.variants)=="number"&&n.variants>0?n.variants:Math.max(c.length,1),g=!!(n!=null&&n.isSynced&&c.length>0);if(le.useEffect(()=>{if(!t||!n){i([]),f("");return}if(!g){i([]),f("");return}o(!0),f(""),FR(n.id).then(_=>{i(_),_.length===0&&f("Không tìm thấy document biến thể nào trong Firestore.")}).catch(_=>{console.error("Failed to load exam snapshots",_),f("Không thể tải danh sách biến thể. Vui lòng thử lại sau.")}).finally(()=>o(!1))},[n,t,g]),!t)return null;const p=async _=>{try{await navigator.clipboard.writeText(_),f("")}catch(w){console.error("Failed to copy variant id",w),f("Không thể sao chép ID. Trình duyệt của bạn có thể không hỗ trợ Clipboard API.")}};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity",children:b.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 md:p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Các biến thể đề thi"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-3xl leading-none transition-colors",children:"×"})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("p",{className:"text-gray-700",children:["Các biến thể cho bài thi ",b.jsx("strong",{className:"text-indigo-600",children:n.title})," được lưu trong collection ",b.jsx("code",{className:"font-mono bg-gray-100 px-1 py-0.5 rounded",children:"examSnapshots"}),". Danh sách dưới đây hiển thị ID tài liệu, số câu hỏi và tổng điểm để bạn dễ kiểm tra trong Firestore."]}),!g&&b.jsx("p",{className:"text-amber-700 bg-amber-50 p-4 rounded-lg border border-amber-200",children:"Bài thi này chưa được đồng bộ, vì vậy chưa có biến thể nào được tạo."}),g&&b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 bg-gray-50 border border-gray-200 rounded-lg px-4 py-2",children:[b.jsxs("span",{children:["Đã tạo ",b.jsx("strong",{children:c.length})," / ",d," biến thể."]}),((x=n.lastSyncedAt)==null?void 0:x.seconds)&&b.jsxs("span",{children:["Đồng bộ lần cuối: ",new Date(n.lastSyncedAt.seconds*1e3).toLocaleString("vi-VN")]})]}),s?b.jsx("div",{className:"flex items-center justify-center py-6",children:b.jsx($t,{})}):b.jsx("ul",{className:"space-y-2",children:r.map((_,w)=>{var C;return b.jsx("li",{className:"border border-gray-200 rounded-lg p-4 bg-white shadow-sm",children:b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[b.jsxs("div",{children:[b.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:["Biến thể ",_.variant??w+1," "]}),b.jsxs("p",{className:"text-xs text-gray-500 break-all",children:["ID: ",b.jsx("span",{className:"font-mono",children:_.id})]}),b.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[((C=_.questions)==null?void 0:C.length)??0," câu hỏi • ",_.totalPoints??0," điểm • thời lượng ",_.duration??n.duration," phút"]})]}),b.jsx("button",{type:"button",onClick:()=>p(_.id),className:"self-start bg-indigo-50 text-indigo-600 hover:bg-indigo-100 text-xs font-semibold px-3 py-1 rounded-md transition-colors",children:"Sao chép ID"})]})},_.id)})})]}),l&&b.jsx("p",{className:"text-rose-700 bg-rose-50 p-3 rounded-lg border border-rose-200 text-sm",children:l})]}),b.jsx("div",{className:"flex justify-end mt-6 pt-4 border-t border-gray-200",children:b.jsx("button",{type:"button",onClick:e,className:"bg-white text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 font-bold py-2 px-4 rounded-lg transition-colors text-sm",children:"Đóng"})})]})})},sZ=()=>{const[t,e]=le.useState([]),[n,r]=le.useState(!0),[i,s]=le.useState(""),[o,l]=le.useState(!1),[f,c]=le.useState(null),[d,g]=le.useState(!1),[p,x]=le.useState(null),[_,w]=le.useState(null),[C,I]=le.useState({}),P=le.useCallback(async(M=!0)=>{M&&r(!0),s("");try{const F=await YQ();e(F)}catch(F){console.error("Lỗi khi tải danh sách bài thi:",F),s("Không thể tải danh sách bài thi. Vui lòng kiểm tra kết nối và thử lại.")}finally{M&&r(!1)}},[]);le.useEffect(()=>{P()},[P]);const A=le.useCallback(()=>{l(!1),g(!1),c(null),x(null)},[]),L=le.useCallback(async()=>{A(),await P()},[A,P]),D=le.useCallback(()=>{A()},[A]),O=le.useCallback(()=>{c(null),l(!0)},[]),k=le.useCallback(M=>{c(M),l(!0)},[]),N=le.useCallback(async M=>{if(window.confirm("Bạn có chắc chắn muốn xóa bài thi này và tất cả các biến thể của nó?")){s("");try{await QQ(M),e(F=>F.filter(q=>q.id!==M)),I(F=>{const{[M]:q,...ce}=F;return ce})}catch(F){console.error("Lỗi khi xóa bài thi:",F);const q=F instanceof Error?`Không thể xóa bài thi: ${F.message}`:"Đã xảy ra lỗi không mong muốn khi xóa bài thi.";s(q)}}},[]),R=le.useCallback(async M=>{w(M),I(F=>{const{[M]:q,...ce}=F;return ce});try{const F=await KQ(M);F.success?(I(q=>({...q,[M]:{status:"success",message:F.message||"Đã đồng bộ thành công các biến thể."}})),await P(!1)):(I(q=>({...q,[M]:{status:"error",message:F.message||"Không thể đồng bộ bài thi. Vui lòng kiểm tra dữ liệu."}})),e(q=>q.map(ce=>ce.id===M?{...ce,isSynced:!1,snapshotVariantIds:[]}:ce)))}catch(F){console.error("Lỗi khi đồng bộ bài thi:",F),I(q=>({...q,[M]:{status:"error",message:F instanceof Error?F.message:"Đã xảy ra lỗi không mong muốn."}})),e(q=>q.map(ce=>ce.id===M?{...ce,isSynced:!1,snapshotVariantIds:[]}:ce))}finally{w(null)}},[P]),V=le.useCallback(M=>{x(M),g(!0)},[]);return b.jsxs("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[b.jsxs("div",{className:"flex items-center justify-between mb-8",children:[b.jsx("h1",{className:"text-3xl font-extrabold text-gray-900",children:"Quản lý Bài thi"}),b.jsxs("button",{onClick:O,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-5 rounded-lg flex items-center shadow-md transition-all duration-200 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-opacity-50",children:[b.jsx(V0,{className:"w-5 h-5 mr-2"}),b.jsx("span",{children:"Tạo bài thi mới"})]})]}),i&&b.jsxs("div",{className:"mb-6 bg-rose-100 border border-rose-400 text-rose-700 px-4 py-3 rounded-md shadow-sm",role:"alert",children:[b.jsx("strong",{className:"font-bold",children:"Lỗi:"}),b.jsx("span",{className:"block sm:inline ml-2",children:i})]}),b.jsx("div",{className:"bg-white shadow-xl rounded-lg overflow-hidden border border-gray-200",children:n?b.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-600",children:[b.jsx($t,{className:"w-10 h-10 text-indigo-600"}),b.jsx("p",{className:"mt-4 text-lg",children:"Đang tải danh sách bài thi..."})]}):t.length===0?b.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500",children:[b.jsx(S0,{className:"w-12 h-12 text-gray-400 mb-4"}),b.jsx("p",{className:"text-lg font-medium",children:"Chưa có bài thi nào."}),b.jsx("p",{className:"mt-2 text-md",children:'Hãy nhấn "Tạo bài thi mới" để bắt đầu!'})]}):b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Trạng thái đồng bộ"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Tiêu đề Bài thi"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Số biến thể"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Hành động"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(M=>{const q=(Array.isArray(M.snapshotVariantIds)?M.snapshotVariantIds:[]).length,ce=typeof M.variants=="number"&&M.variants>0?M.variants:Math.max(q,1),oe=!!(M.isSynced&&q>0);return b.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:oe?b.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-emerald-100 text-emerald-800",children:[b.jsx(s6,{className:"w-4 h-4 mr-1"}),"Đã đồng bộ"]}):b.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-amber-100 text-amber-800",children:[b.jsx(S0,{className:"w-4 h-4 mr-1"}),"Chưa đồng bộ"]})}),b.jsxs("td",{className:"px-6 py-4",children:[b.jsx("div",{className:"text-sm font-medium text-gray-900",children:M.title}),b.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["ID: ",M.id]})]}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:oe?`${q} / ${ce}`:`0 / ${ce}`}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("button",{onClick:()=>R(M.id),disabled:_===M.id,className:"p-2 text-gray-500 hover:text-sky-600 hover:bg-sky-50 rounded-full transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent",title:"Đồng bộ (tạo / cập nhật) các biến thể đề thi",children:_===M.id?b.jsx($t,{className:"w-5 h-5 text-sky-600"}):b.jsx(Nv,{className:"w-5 h-5"})}),b.jsx("button",{onClick:()=>k(M),className:"p-2 text-gray-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-full transition-colors duration-200",title:"Sửa bài thi",children:b.jsx(zl,{className:"w-5 h-5"})}),b.jsx("button",{onClick:()=>N(M.id),className:"p-2 text-gray-500 hover:text-rose-600 hover:bg-rose-50 rounded-full transition-colors duration-200",title:"Xóa bài thi và các biến thể",children:b.jsx(m0,{className:"w-5 h-5"})}),oe&&b.jsx("button",{onClick:()=>V(M),className:"p-2 text-gray-500 hover:text-emerald-600 hover:bg-emerald-50 rounded-full transition-colors duration-200",title:"Xem các biến thể đề thi đã tạo",children:b.jsx($Q,{className:"w-5 h-5"})})]})})]},M.id)})})]})})}),Object.keys(C).length>0&&b.jsx("div",{className:"mt-6 space-y-3",children:Object.entries(C).map(([M,F])=>{var q;return b.jsxs("div",{className:`p-4 rounded-md text-sm shadow-sm ${F.status==="success"?"bg-blue-100 text-blue-800 border border-blue-200":"bg-rose-100 text-rose-800 border border-rose-200"}`,role:"status",children:[b.jsxs("strong",{className:"font-semibold",children:["Bài thi ",((q=t.find(ce=>ce.id===M))==null?void 0:q.title)||M,":"]})," ",F.message]},M)})}),o&&b.jsx(nZ,{isOpen:o,onClose:D,onSave:L,initialExam:f}),d&&p&&b.jsx(iZ,{isOpen:d,onClose:D,exam:p})]})},aZ=({isOpen:t,onClose:e,onSave:n,exams:r,classes:i})=>{var C,I;const[s,o]=le.useState({examId:((C=r[0])==null?void 0:C.id)||"",classId:((I=i[0])==null?void 0:I.id)||"",start_at:"",end_at:"",accessCode:""}),[l,f]=le.useState(!1),[c,d]=le.useState("");le.useEffect(()=>{var P,A;t&&(o({examId:((P=r[0])==null?void 0:P.id)||"",classId:((A=i[0])==null?void 0:A.id)||"",start_at:"",end_at:"",accessCode:g()}),d(""))},[t,r,i]);const g=(P=6)=>{const A="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let L="";for(let D=0;D<P;D++)L+=A.charAt(Math.floor(Math.random()*A.length));return L},p=P=>{const{name:A,value:L}=P.target;o(D=>({...D,[A]:L}))},x=async P=>{if(P.preventDefault(),!s.examId||!s.classId||!s.start_at||!s.end_at){d("Vui lòng điền đầy đủ tất cả các trường.");return}const A=new Date(s.start_at).getTime(),L=new Date(s.end_at).getTime();if(A>=L){d("Thời gian kết thúc phải sau thời gian bắt đầu.");return}f(!0),d("");try{const D={examId:s.examId,classId:s.classId,start_at:A,end_at:L,accessCode:s.accessCode};await yF(D),n()}catch(D){console.error("Failed to save window",D),d(`Lưu ca thi thất bại: ${D.message}`)}finally{f(!1)}};if(!t)return null;const _="block w-full rounded-lg border-0 py-2 px-3 bg-white text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",w="block text-sm font-medium leading-6 text-gray-900";return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity",children:b.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 md:p-8 max-w-2xl w-full",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Lên lịch ca thi mới"}),b.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-3xl leading-none transition-colors",children:"×"})]}),b.jsxs("form",{onSubmit:x,className:"space-y-4",children:[c&&b.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-700 px-4 py-3 rounded-lg text-sm",children:c}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"examId",className:w,children:"Bài thi"}),b.jsx("div",{className:"mt-1",children:b.jsx("select",{id:"examId",name:"examId",value:s.examId,onChange:p,className:_,required:!0,children:r.map(P=>b.jsx("option",{value:P.id,children:P.title},P.id))})})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"classId",className:w,children:"Lớp học"}),b.jsx("div",{className:"mt-1",children:b.jsx("select",{id:"classId",name:"classId",value:s.classId,onChange:p,className:_,required:!0,children:i.map(P=>b.jsxs("option",{value:P.id,children:[P.name,P.code?` (${P.code})`:""]},P.id))})})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"start_at",className:w,children:"Thời gian bắt đầu"}),b.jsx("div",{className:"mt-1",children:b.jsx("input",{id:"start_at",name:"start_at",type:"datetime-local",value:s.start_at,onChange:p,className:_,required:!0})})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"end_at",className:w,children:"Thời gian kết thúc"}),b.jsx("div",{className:"mt-1",children:b.jsx("input",{id:"end_at",name:"end_at",type:"datetime-local",value:s.end_at,onChange:p,className:_,required:!0})})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"accessCode",className:w,children:"Mã truy cập"}),b.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[b.jsx("input",{id:"accessCode",name:"accessCode",type:"text",value:s.accessCode,onChange:p,className:_,required:!0}),b.jsx("button",{type:"button",onClick:()=>o(P=>({...P,accessCode:g()})),className:"p-2 bg-white hover:bg-gray-100 rounded-lg border border-gray-300",title:"Tạo mã mới",children:b.jsx(Nv,{className:"h-5 w-5 text-gray-600"})})]})]}),b.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-gray-200",children:[b.jsx("button",{type:"button",onClick:e,className:"bg-white text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 font-bold py-2 px-4 rounded-lg transition-colors text-sm",children:"Hủy"}),b.jsx("button",{type:"submit",disabled:l,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center disabled:bg-indigo-400 transition-colors shadow-sm text-sm",children:l?b.jsx($t,{}):"Lưu ca thi"})]})]})]})})},Ox=10,oZ=()=>{const[t,e]=le.useState([]),[n,r]=le.useState([]),[i,s]=le.useState([]),[o,l]=le.useState(!0),[f,c]=le.useState(""),[d,g]=le.useState(1),[p,x]=le.useState(!1),_=le.useCallback(async()=>{l(!0),c("");try{const O=await U0();e(O.windows),r(O.exams),s(O.classes)}catch(O){console.error("Failed to fetch scheduling data:",O),c("Không thể tải dữ liệu lịch thi. Vui lòng kiểm tra kết nối mạng và thử lại.")}finally{l(!1)}},[]);le.useEffect(()=>{_()},[_]);const w=()=>{x(!1)},C=()=>{w(),_()},I=Math.ceil(t.length/Ox),P=le.useMemo(()=>{const O=(d-1)*Ox;return[...t].sort((N,R)=>R.start_at-N.start_at).slice(O,O+Ox)},[t,d]),A=new Map(n.map(O=>[O.id,O.title])),L=new Map(i.map(O=>[O.id,O])),D=(O,k)=>{const N=Date.now();return N<O?b.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-sky-100 text-sky-800",children:"Sắp diễn ra"}):N>k?b.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-rose-100 text-rose-800",children:"Đã hết hạn"}):b.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-emerald-100 text-emerald-800",children:"Đang hoạt động"})};return b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Lên lịch thi"}),b.jsxs("button",{onClick:()=>x(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center transition-colors",children:[b.jsx(V0,{}),b.jsx("span",{className:"ml-2",children:"Lên lịch ca thi mới"})]})]}),o?b.jsxs("div",{className:"flex justify-center items-center h-64",children:[b.jsx($t,{}),b.jsx("p",{className:"ml-4 text-gray-600",children:"Đang tải lịch thi..."})]}):f?b.jsx("div",{className:"text-center bg-rose-50 border border-rose-200 text-rose-800 p-4 rounded-lg",children:f}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 hidden md:block",children:b.jsxs("table",{className:"min-w-full bg-white",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bài thi"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lớp"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã lớp"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thời gian bắt đầu"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thời gian kết thúc"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mã truy cập"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trạng thái"})]})}),b.jsx("tbody",{className:"divide-y divide-gray-200",children:P.map(O=>{const k=L.get(O.classId);return b.jsxs("tr",{className:"hover:bg-gray-50",children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:A.get(O.examId)}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(k==null?void 0:k.name)??O.classId}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:(k==null?void 0:k.code)??(k==null?void 0:k.id)??O.classId}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(O.start_at).toLocaleString()}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(O.end_at).toLocaleString()}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:b.jsx("code",{className:"font-mono bg-gray-100 text-gray-800 px-2 py-1 rounded-md",children:O.accessCode})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:D(O.start_at,O.end_at)})]},O.id)})})]})}),b.jsx("div",{className:"space-y-3 md:hidden",children:P.map(O=>{const k=L.get(O.classId);return b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-200 space-y-3",children:[b.jsxs("div",{className:"flex justify-between items-start gap-2",children:[b.jsx("p",{className:"font-bold text-indigo-600 flex-1 pr-2",children:A.get(O.examId)}),D(O.start_at,O.end_at)]}),b.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-sm pt-3 border-t",children:[b.jsx("span",{className:"text-gray-500",children:"Lớp:"}),b.jsx("span",{className:"text-gray-800 font-medium",children:(k==null?void 0:k.name)??O.classId}),b.jsx("span",{className:"text-gray-500",children:"Mã lớp:"}),b.jsx("span",{className:"text-gray-800 font-medium",children:(k==null?void 0:k.code)??(k==null?void 0:k.id)??O.classId}),b.jsx("span",{className:"text-gray-500",children:"Mã truy cập:"}),b.jsx("code",{className:"font-mono bg-gray-100 text-gray-800 px-2 py-0.5 rounded-md text-xs self-center",children:O.accessCode})]}),b.jsxs("div",{className:"text-sm text-gray-500 pt-3 border-t space-y-1",children:[b.jsxs("div",{children:[b.jsx("strong",{className:"font-medium text-gray-700",children:"Bắt đầu:"})," ",new Date(O.start_at).toLocaleString()]}),b.jsxs("div",{children:[b.jsx("strong",{className:"font-medium text-gray-700",children:"Kết thúc:"})," ",new Date(O.end_at).toLocaleString()]})]})]},O.id)})}),b.jsx(hc,{currentPage:d,totalPages:I,onPageChange:g})]}),p&&b.jsx(aZ,{isOpen:p,onClose:w,onSave:C,exams:n,classes:i})]})},Fx=10,uZ=()=>{const[t,e]=le.useState([]),[n,r]=le.useState(""),[i,s]=le.useState(null),[o,l]=le.useState(!0),[f,c]=le.useState(!1),[d,g]=le.useState(""),[p,x]=le.useState(1);le.useEffect(()=>{(async()=>{l(!0),g("");try{const P=await U0();e(P.exams),P.exams.length>0&&r(P.exams[0].id)}catch(P){console.error("Failed to fetch exams for analytics",P),g("Không thể tải danh sách bài thi. Vui lòng kiểm tra kết nối mạng.")}finally{l(!1)}})()},[]),le.useEffect(()=>{(async()=>{if(n){c(!0),s(null),g(""),x(1);try{const P=await TF(n);s(P.questionAnalytics)}catch(P){console.error("Failed to fetch analytics data",P),g("Không thể tải dữ liệu phân tích cho bài thi này.")}finally{c(!1)}}})()},[n]);const _=Math.ceil(((i==null?void 0:i.length)||0)/Fx),w=le.useMemo(()=>{if(!i)return[];const I=(p-1)*Fx;return i.slice(I,I+Fx)},[i,p]),C=I=>I>.8?b.jsx("span",{className:"text-emerald-600",children:"Dễ"}):I<.3?b.jsx("span",{className:"text-rose-600",children:"Khó"}):b.jsx("span",{className:"text-amber-600",children:"Trung bình"});return b.jsxs("div",{children:[b.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Phân tích bài thi"}),o?b.jsxs("div",{className:"flex justify-center items-center h-64",children:[b.jsx($t,{}),b.jsx("p",{className:"ml-4 text-gray-600",children:"Đang tải bài thi..."})]}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"exam-select",className:"block text-sm font-medium text-gray-700",children:"Chọn bài thi để phân tích"}),b.jsx("select",{id:"exam-select",value:n,onChange:I=>r(I.target.value),className:"mt-1 block w-full md:w-1/2 p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:t.map(I=>b.jsx("option",{value:I.id,children:I.title},I.id))})]}),d&&b.jsx("div",{className:"text-center bg-rose-50 border border-rose-200 text-rose-800 p-4 rounded-lg my-4",children:d}),f?b.jsxs("div",{className:"flex justify-center items-center h-64",children:[b.jsx($t,{}),b.jsx("p",{className:"ml-4 text-gray-600",children:"Đang tính toán phân tích..."})]}):i&&!d?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:b.jsxs("table",{className:"min-w-full bg-white",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nội dung câu hỏi"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Chủ đề"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"P-Value (Độ khó)"}),b.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Diễn giải"})]})}),b.jsx("tbody",{children:w.map(I=>{var P,A;return b.jsxs("tr",{className:"border-b border-gray-200 last:border-b-0 hover:bg-gray-50",children:[b.jsx("td",{className:"px-6 py-3 prose prose-sm max-w-md text-gray-800",dangerouslySetInnerHTML:{__html:I.stem}}),b.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-600",children:I.topic}),b.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm font-semibold text-gray-800",children:((P=I.analytics)==null?void 0:P.pValue)??"N/A"}),b.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm font-bold",children:((A=I.analytics)==null?void 0:A.pValue)!==void 0?C(I.analytics.pValue):"N/A"})]},I.id)})})]})}),b.jsx(hc,{currentPage:p,totalPages:_,onPageChange:x})]}):!d&&b.jsx("p",{className:"text-center text-gray-500 mt-8",children:"Không có dữ liệu phân tích cho bài thi này."})]})]})},lZ=t=>b.jsx(Ls,{d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197m0 0A5.975 5.975 0 0112 13a5.975 5.975 0 01-3 5.197M15 21a6 6 0 00-9-5.197",...t}),cZ=t=>b.jsx(Ls,{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01",...t}),fZ=t=>b.jsx(Ls,{d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10",...t}),hZ=t=>b.jsx(Ls,{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",...t}),dZ=t=>b.jsx(Ls,{d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",...t}),pZ=t=>b.jsx(Ls,{d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z",...t}),mZ=({onViewProctoringReport:t})=>{const[e,n]=le.useState("analytics"),r=()=>{switch(e){case"students":return b.jsx(Bj,{});case"results":return b.jsx(KS,{onViewProctoringReport:t});case"questions":return b.jsx(jQ,{});case"exams":return b.jsx(sZ,{});case"scheduling":return b.jsx(oZ,{});case"analytics":return b.jsx(uZ,{});default:return b.jsx(KS,{onViewProctoringReport:t})}},i=({view:s,label:o,icon:l})=>{const f=e===s;return b.jsxs("button",{onClick:()=>n(s),className:`flex items-center space-x-3 px-4 py-3 rounded-lg font-semibold transition-colors w-full text-left ${f?"bg-gray-200 text-gray-900":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[l,b.jsx("span",{className:"flex-grow",children:o}),f&&b.jsx("svg",{className:"w-5 h-5 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})};return b.jsxs("div",{className:"space-y-8",children:[b.jsx("h1",{className:"text-4xl font-bold text-gray-800 tracking-tight",children:"Bảng điều khiển quản trị"}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 items-start",children:[b.jsx("aside",{className:"lg:col-span-1",children:b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 space-y-2",children:[b.jsx(i,{view:"analytics",label:"Phân tích bài thi",icon:b.jsx(pZ,{className:"w-5 h-5"})}),b.jsx(i,{view:"results",label:"Kết quả thi",icon:b.jsx(cZ,{className:"w-5 h-5"})}),b.jsx(i,{view:"scheduling",label:"Lên lịch thi",icon:b.jsx(dZ,{className:"w-5 h-5"})}),b.jsx(i,{view:"exams",label:"Quản lý bài thi",icon:b.jsx(hZ,{className:"w-5 h-5"})}),b.jsx(i,{view:"questions",label:"Ngân hàng câu hỏi",icon:b.jsx(fZ,{className:"w-5 h-5"})}),b.jsx(i,{view:"students",label:"Quản lý học viên",icon:b.jsx(lZ,{className:"w-5 h-5"})})]})}),b.jsx("main",{className:"lg:col-span-3",children:b.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 min-h-[480px]",children:r()})})]})]})},gZ=6e4,xZ=[.05,.5,.95],IC=3,yZ=(t,e)=>{const[n,r]=le.useState(t),i=le.useRef(null),s=le.useCallback(()=>{i.current&&clearInterval(i.current),r(t),i.current=window.setInterval(()=>{r(o=>o<=1?(i.current&&clearInterval(i.current),e(),0):o-1)},1e3)},[t,e]);return le.useEffect(()=>()=>{i.current&&clearInterval(i.current)},[]),{timeLeft:n,startTimer:s}},vZ=t=>{const[e,n]=le.useState(!1),r=le.useCallback(()=>{document.documentElement.requestFullscreen().catch(i=>{console.error(`Error attempting to enable full-screen mode: ${i.message} (${i.name})`)})},[]);return le.useEffect(()=>{const i=s=>{s.preventDefault(),t("copy_paste_blocked")};return document.addEventListener("copy",i),document.addEventListener("paste",i),document.addEventListener("cut",i),()=>{document.removeEventListener("copy",i),document.removeEventListener("paste",i),document.removeEventListener("cut",i)}},[t]),le.useEffect(()=>{const i=()=>{const s=document.fullscreenElement!=null;n(s)};return document.addEventListener("fullscreenchange",i),()=>document.removeEventListener("fullscreenchange",i)},[]),le.useEffect(()=>{const i=()=>t("focus_lost");return window.addEventListener("blur",i),()=>window.removeEventListener("blur",i)},[t]),le.useEffect(()=>{const i=()=>{document.visibilityState==="hidden"&&t("visibility_hidden")};return document.addEventListener("visibilitychange",i),()=>document.removeEventListener("visibilitychange",i)},[t]),{requestFullScreen:r,isFullScreen:e}},_Z=({question:t,questionNumber:e,totalQuestions:n,selectedOption:r,onAnswer:i})=>{const s=Up(t.imageUrl);return b.jsxs("div",{children:[b.jsxs("p",{className:"text-sm font-semibold text-gray-500 mb-2",children:["Câu ",e," trên ",n]}),s&&b.jsx("div",{className:"my-4 flex justify-center",children:b.jsx("img",{src:s,alt:`Hình minh họa cho câu hỏi ${e}`,className:"max-w-full h-auto max-h-80 rounded-lg shadow-md object-contain border border-gray-200"})}),b.jsx("div",{className:"text-lg text-gray-900 prose max-w-none mb-6",dangerouslySetInnerHTML:{__html:t.stem}}),b.jsx("div",{className:"space-y-4",children:t.options.map((o,l)=>b.jsxs("label",{className:`flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${r===o.id?"border-indigo-500 bg-indigo-50 ring-2 ring-indigo-200":"border-gray-300 bg-white hover:border-indigo-400"}`,children:[b.jsx("input",{type:"radio",name:`question-${t.id}`,value:o.id,checked:r===o.id,onChange:()=>i(t.id,o.id),className:"sr-only","aria-labelledby":`option-text-${o.id}`}),b.jsx("span",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center mr-4 border-2 ${r===o.id?"border-indigo-500 bg-indigo-500":"border-gray-400 bg-white"}`,children:r===o.id&&b.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})}),b.jsxs("span",{className:"font-semibold text-gray-700 mr-2",children:[String.fromCharCode(65+l),"."]}),b.jsx("span",{id:`option-text-${o.id}`,className:"text-gray-800 flex-grow",children:o.text})]},o.id))})]})},TZ=({timeLeft:t})=>{const e=Math.floor(t/60),n=t%60,r=t<300;return b.jsxs("div",{className:`p-4 rounded-lg flex items-center justify-center space-x-3 ${r?"bg-rose-100":"bg-indigo-100"}`,children:[b.jsx(i6,{className:`h-6 w-6 ${r?"text-rose-600":"text-indigo-600"}`}),b.jsxs("div",{className:"text-center",children:[b.jsx("p",{className:`text-sm font-bold uppercase tracking-wider ${r?"text-rose-700":"text-indigo-700"}`,children:"Thời gian còn lại"}),b.jsxs("p",{className:`text-3xl font-mono font-bold tracking-wider ${r?"text-rose-900":"text-indigo-900"}`,children:[String(e).padStart(2,"0"),":",String(n).padStart(2,"0")]})]})]})},EZ=t=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),bZ=({reason:t,onDone:e,onPhotoTaken:n})=>{const r=le.useRef(null),[i,s]=le.useState(!1),[o,l]=le.useState(null),[f,c]=le.useState(null),[d,g]=le.useState(null),p=le.useCallback(async()=>{try{const _=await navigator.mediaDevices.getUserMedia({video:!0});c(_),r.current&&(r.current.srcObject=_)}catch(_){console.error("Error accessing camera:",_),g("Không thể truy cập máy ảnh. Vui lòng đảm bảo bạn đã cấp quyền và không có ứng dụng nào khác đang sử dụng.")}},[]);le.useEffect(()=>(p(),()=>{f==null||f.getTracks().forEach(_=>_.stop())}),[]);const x=le.useCallback(()=>{s(!0),l(3);const _=setInterval(()=>{l(w=>w!==null?w-1:null)},1e3);setTimeout(()=>{if(clearInterval(_),r.current){const w=document.createElement("canvas");w.width=r.current.videoWidth,w.height=r.current.videoHeight;const C=w.getContext("2d");if(C){C.drawImage(r.current,0,0,w.width,w.height);const I=w.toDataURL("image/jpeg",.8);console.log("Photo captured. Size:",Math.round(I.length/1024),"KB"),n(I)}}s(!1),e()},3e3)},[e,n]);return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-lg w-full text-center",children:[b.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Kiểm tra danh tính"}),b.jsx("p",{className:"text-gray-600 mb-4",children:t}),b.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden aspect-video relative flex items-center justify-center mb-4 border border-gray-700",children:[d?b.jsx("p",{className:"text-rose-400 p-4",children:d}):b.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),o!==null&&o>0&&b.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50",children:b.jsx("span",{className:"text-white text-9xl font-bold",children:o})}),!f&&!d&&b.jsxs("div",{className:"absolute inset-0 flex items-center justify-center flex-col text-white",children:[b.jsx($t,{}),b.jsx("p",{className:"mt-2",children:"Đang khởi động máy ảnh..."})]})]}),b.jsx("button",{onClick:x,disabled:i||!!d||!f,className:"w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200 disabled:bg-indigo-400 disabled:cursor-not-allowed flex justify-center items-center",children:i?b.jsx($t,{}):b.jsxs(b.Fragment,{children:[b.jsx(EZ,{})," ",b.jsx("span",{className:"ml-2",children:"Chụp ảnh"})]})})]})})},wZ=({isOpen:t,onClose:e,violationCount:n,maxViolations:r})=>{if(!t)return null;const i=n>=r;return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[60] p-4",children:b.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-lg w-full text-center",children:[b.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-rose-100",children:b.jsx(S0,{className:"h-8 w-8 text-rose-600"})}),b.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-4 mb-2",children:"Cảnh báo vi phạm"}),b.jsx("p",{className:"text-gray-600 mb-4",children:i?"Bạn đã vượt quá số lần cho phép rời khỏi màn hình thi. Bài thi sẽ được nộp tự động.":"Hệ thống đã phát hiện bạn rời khỏi màn hình thi. Vui lòng tập trung vào bài làm để tránh bị hủy kết quả."}),b.jsx("div",{className:"bg-gray-100 p-3 rounded-lg mb-6",children:b.jsxs("p",{className:"font-semibold text-gray-800",children:["Số lần vi phạm: ",b.jsxs("span",{className:"text-rose-600 font-bold text-lg",children:[n," / ",r]})]})}),!i&&b.jsx("button",{onClick:e,className:"w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200",children:"Tôi đã hiểu, quay lại bài thi"})]})})},SZ=()=>b.jsxs("div",{className:"flex justify-center items-center h-[50vh]",children:[b.jsx($t,{}),b.jsx("p",{className:"ml-4 text-lg text-gray-600",children:"Đang xáo trộn câu hỏi..."})]}),AZ=({status:t})=>{switch(t){case"saving":return b.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[b.jsx($t,{})," ",b.jsx("span",{className:"ml-2",children:"Đang lưu..."})]});case"success":return b.jsx("div",{className:"text-sm text-emerald-600",children:"✓ Đã lưu tất cả thay đổi."});case"error":return b.jsx("div",{className:"text-sm text-rose-600",children:"⚠️ Lỗi khi lưu. Hãy kiểm tra kết nối mạng."});default:return b.jsx("div",{className:"text-sm text-gray-500",children:"Thay đổi sẽ được tự động lưu."})}},CZ=({exam:t,attempt:e,questions:n,onSubmit:r})=>{const[i]=le.useState(()=>{if(!n||n.length===0)return[];const Z=G=>{const z=[...G];for(let Y=z.length-1;Y>0;Y--){const ee=Math.floor(Math.random()*(Y+1));[z[Y],z[ee]]=[z[ee],z[Y]]}return z},Ee=JSON.parse(JSON.stringify(n));return Ee.forEach(G=>{G.options&&(G.options=Z(G.options))}),Z(Ee)}),[s,o]=le.useState(0),[l,f]=le.useState(e.answers),[c,d]=le.useState(!1),[g,p]=le.useState(!1),[x,_]=le.useState(""),[w,C]=le.useState("idle"),I=le.useRef(0),[P,A]=le.useState(!1),[L,D]=le.useState(0),[O,k]=le.useState(!1),N=le.useRef(e);N.current={...e,answers:l};const R=le.useRef([]),V=le.useCallback(async Z=>{if(!c){d(!0),console.log(`Nộp bài vì: ${Z}`);try{let Ee=0;i.forEach(re=>{l[re.id]===re.answer_key&&Ee++});const G=i.length,z=G>0?Ee/G:0,Y={...N.current,score:z,questions:i},ee=await fF(Y);r(ee)}catch(Ee){console.error("Failed to submit",Ee),alert("Đã có lỗi khi nộp bài thi của bạn. Vui lòng kiểm tra kết nối."),d(!1)}}},[r,c,i,l]),M=le.useCallback(()=>{c||V("Hết giờ")},[c,V]),{timeLeft:F,startTimer:q}=yZ(t.duration*60,M),ce=le.useCallback(async(Z,Ee)=>{if(console.warn(`Proctoring event: ${Z}`,Ee||""),await hF({attemptId:e.id,event:Z,timestamp:Date.now(),metadata:Ee}),Z==="focus_lost"||Z==="visibility_hidden"){I.current+=1;const G=I.current;D(G),A(!0),G>=IC&&setTimeout(()=>V("Vượt quá số lần vi phạm cho phép"),3e3)}},[e.id,V]),{requestFullScreen:oe,isFullScreen:ae}=vZ(ce);le.useEffect(()=>{q(),oe(),p(!0),_("Xác minh danh tính ban đầu")},[t.id,q,oe]),le.useEffect(()=>{const Z=t.duration*60,G=(Z-F)/Z;xZ.forEach((z,Y)=>{G>=z&&!R.current.includes(Y)&&(R.current.push(Y),p(!0),_(`Kiểm tra danh tính tại ${Math.round(z*100)}% tiến độ`))})},[F,t.duration]),le.useEffect(()=>{const Z=setInterval(async()=>{if(Object.keys(N.current.answers).length>0){C("saving");try{await cF(N.current.id,N.current.answers),C("success"),setTimeout(()=>C("idle"),3e3)}catch(Ee){console.error("Lỗi tự động lưu:",Ee),C("error")}}},gZ);return()=>clearInterval(Z)},[]);const se=(Z,Ee)=>{f(G=>({...G,[Z]:Ee}))},ge=()=>{p(!1),_("")};return ae?i.length===0?b.jsx(SZ,{}):b.jsxs("div",{className:"flex flex-col md:flex-row gap-8 max-w-7xl mx-auto",children:[b.jsx(Dv,{isOpen:O,onClose:()=>k(!1),onConfirm:()=>V("Người dùng nộp bài"),title:"Xác nhận nộp bài",message:b.jsx("p",{children:"Bạn có chắc chắn muốn nộp bài thi không? Hành động này không thể hoàn tác."})}),b.jsx(wZ,{isOpen:P,onClose:()=>A(!1),violationCount:L,maxViolations:IC}),g&&b.jsx(bZ,{reason:x,onDone:ge,onPhotoTaken:Z=>ce("photo_taken",{size:Z.length})}),b.jsx("div",{className:"flex-grow bg-white p-4 sm:p-8 rounded-xl shadow-xl border border-gray-200",children:b.jsx(_Z,{question:i[s],questionNumber:s+1,totalQuestions:i.length,selectedOption:l[i[s].id],onAnswer:se})}),b.jsx("div",{className:"w-full md:w-80 lg:w-96 flex-shrink-0",children:b.jsxs("div",{className:"sticky top-24 bg-white p-4 sm:p-6 rounded-xl shadow-xl border border-gray-200 space-y-6",children:[b.jsx(TZ,{timeLeft:F}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-lg mb-3 text-gray-900",children:"Điều hướng"}),b.jsx("div",{className:"overflow-x-auto pb-2",children:b.jsx("div",{className:"grid grid-flow-col auto-cols-max gap-2 sm:grid sm:grid-cols-5 md:grid-cols-4 lg:grid-cols-5",children:i.map((Z,Ee)=>b.jsx("button",{onClick:()=>o(Ee),"aria-label":`Đi đến câu ${Ee+1}`,className:`h-10 w-10 rounded-full flex items-center justify-center font-bold transition-colors flex-shrink-0 text-sm border-2 border-transparent ${Ee===s?"bg-indigo-600 text-white ring-2 ring-offset-2 ring-indigo-500":l[Z.id]?"bg-emerald-100 text-emerald-800 hover:bg-emerald-200 border-emerald-200":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:Ee+1},Z.id))})})]}),b.jsxs("div",{className:"pt-6 border-t border-gray-200 space-y-4",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("button",{onClick:()=>o(Z=>Math.max(0,Z-1)),disabled:s===0,className:"bg-white hover:bg-gray-100 text-gray-800 font-bold py-2 px-4 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Câu trước"}),s===i.length-1?b.jsx("button",{onClick:()=>k(!0),disabled:c,className:"bg-rose-600 hover:bg-rose-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center disabled:bg-rose-400 transition-colors",children:c?b.jsx($t,{}):"Nộp bài"}):b.jsx("button",{onClick:()=>o(Z=>Math.min(i.length-1,Z+1)),disabled:s===i.length-1,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Câu sau"})]}),b.jsx("div",{className:"text-center h-5",children:b.jsx(AZ,{status:w})})]})]})})]}):b.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex flex-col items-center justify-center z-50 text-white p-8 text-center",children:[b.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Yêu cầu toàn màn hình"}),b.jsx("p",{className:"text-lg mb-8 max-w-2xl",children:"Vì mục đích giám sát, bài thi này phải được thực hiện ở chế độ toàn màn hình. Điều này giúp đảm bảo một môi trường thi công bằng."}),b.jsx("button",{onClick:oe,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg text-xl",children:"Vào chế độ toàn màn hình"})]})},IZ=({user:t,exam:e,attempt:n,questions:r})=>{const i=le.useMemo(()=>{let s=0;r.forEach(c=>{n.answers[c.id]===c.answer_key&&s++});const o=r.length,l=o>0?s/o*100:0,f=l>=e.pass_threshold*100;return{correctCount:s,total:o,score:l,passed:f}},[n,r,e]);return b.jsxs("div",{className:"p-8 font-sans",children:[b.jsx("h1",{className:"text-3xl font-bold mb-2 text-center",children:"BÁO CÁO KẾT QUẢ BÀI THI"}),b.jsxs("div",{className:"text-center mb-8 border-b pb-4",children:[b.jsxs("p",{children:[b.jsx("strong",{children:"Bài thi:"})," ",e.title]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Học viên:"})," ",t.name]}),b.jsxs("p",{children:[b.jsx("strong",{children:"Ngày hoàn thành:"})," ",new Date(n.completed_at).toLocaleString()]})]}),b.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8 text-center",children:[b.jsxs("div",{className:"p-4 bg-gray-100 rounded",children:[b.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"KẾT QUẢ"}),b.jsx("p",{className:`text-2xl font-bold ${i.passed?"text-green-600":"text-red-600"}`,children:i.passed?"ĐẠT":"KHÔNG ĐẠT"})]}),b.jsxs("div",{className:"p-4 bg-gray-100 rounded",children:[b.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"ĐIỂM SỐ"}),b.jsxs("p",{className:"text-2xl font-bold",children:[i.score.toFixed(1),"%"]})]}),b.jsxs("div",{className:"p-4 bg-gray-100 rounded",children:[b.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"TRẢ LỜI ĐÚNG"}),b.jsxs("p",{className:"text-2xl font-bold",children:[i.correctCount," / ",i.total]})]})]}),b.jsx("h2",{className:"text-2xl font-bold mt-8 mb-4 border-b pb-2",children:"Chi tiết câu trả lời"}),b.jsx("div",{className:"space-y-6",children:r.map((s,o)=>{var g,p;const l=n.answers[s.id],f=l===s.answer_key,c=(g=s.options.find(x=>x.id===l))==null?void 0:g.text,d=(p=s.options.find(x=>x.id===s.answer_key))==null?void 0:p.text;return b.jsxs("div",{className:"p-4 border rounded-lg break-inside-avoid",children:[b.jsxs("p",{className:"font-bold text-gray-800",children:["Câu ",o+1,":"]}),b.jsx("div",{className:"prose prose-sm max-w-none mb-3",dangerouslySetInnerHTML:{__html:s.stem}}),b.jsxs("p",{className:`p-2 rounded text-sm ${f?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[b.jsx("strong",{children:"Câu trả lời của bạn: "})," ",c||b.jsx("span",{className:"italic",children:"Chưa trả lời"})]}),!f&&b.jsxs("p",{className:"p-2 mt-2 rounded text-sm bg-green-100 text-green-800",children:[b.jsx("strong",{children:"Đáp án đúng: "})," ",d]})]},s.id)})})]})},kZ=({user:t,exam:e,attempt:n,questions:r,onBackToDashboard:i})=>{const[s,o]=le.useState(!1),[l,f]=le.useState(null),[c,d]=le.useState(n.reviewRequested),[g,p]=le.useState(!0),[x,_]=le.useState(!1);le.useEffect(()=>{const D=setTimeout(()=>{p(!1)},1500);return()=>clearTimeout(D)},[]);const w=le.useMemo(()=>{let D=0;const O=new Set;r.forEach(M=>{n.answers[M.id]===M.answer_key?D++:O.add(M.topic)});const k=r.length,N=k>0?D/k:0,R=N>=e.pass_threshold,V=Array.from(O);return V.length===0&&!R&&k>0&&V.push("Ôn tập chung"),n.score=N,{correctCount:D,total:k,score:N,passed:R,incorrectTopics:V}},[e,n,r]),C=async()=>{o(!0),f(null);try{const D=await UQ(w.incorrectTopics);f(D)}catch(D){console.error("Lỗi khi tạo ghi chú ôn tập:",D),f("Xin lỗi, đã có lỗi khi tạo ghi chú ôn tập. Vui lòng thử lại sau.")}finally{o(!1)}},I=async()=>{try{await dF(n.id),d(!0)}catch(D){console.error("Lỗi khi yêu cầu xem lại:",D),alert("Không thể gửi yêu cầu. Vui lòng kiểm tra kết nối mạng và thử lại.")}},P=()=>{window.print()},A=w.score*100,L=e.pass_threshold*100;return g?b.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-xl max-w-4xl mx-auto text-center border border-gray-200",children:[b.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Đang xử lý kết quả"}),b.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Bài làm của bạn đã được nộp thành công. Vui lòng đợi trong giây lát trong khi hệ thống chấm điểm."}),b.jsx("div",{className:"flex justify-center items-center h-40",children:b.jsx($t,{})})]}):b.jsxs(b.Fragment,{children:[b.jsx("style",{children:`
        @media print {
            body * {
                visibility: hidden;
            }
            .printable-area, .printable-area * {
                visibility: visible;
            }
            .printable-area {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
            }
            .no-print {
                display: none;
            }
        }
    `}),b.jsx(Dv,{isOpen:x,onClose:()=>_(!1),onConfirm:I,title:"Yêu cầu xem lại",message:b.jsx("p",{children:"Bạn có chắc chắn muốn yêu cầu xem lại kết quả theo cách thủ công không?"})}),b.jsx("div",{className:"printable-area",children:b.jsx(IZ,{user:t,exam:e,attempt:n,questions:r})}),b.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-xl max-w-4xl mx-auto text-center border border-gray-200 no-print",children:[b.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Kết quả bài thi"}),b.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:["Dành cho: ",e.title]}),b.jsx("div",{className:`inline-block px-8 py-3 rounded-full mb-6 ${w.passed?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:b.jsx("span",{className:"text-2xl font-bold",children:w.passed?"ĐẠT":"KHÔNG ĐẠT"})}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[b.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 rounded-lg",children:[b.jsx("p",{className:"text-sm text-gray-500",children:"Điểm số"}),b.jsxs("p",{className:"text-4xl font-bold text-indigo-600",children:[A.toFixed(1),"%"]})]}),b.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 rounded-lg",children:[b.jsx("p",{className:"text-sm text-gray-500",children:"Câu trả lời đúng"}),b.jsxs("p",{className:"text-4xl font-bold text-gray-800",children:[w.correctCount," / ",w.total]})]}),b.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 rounded-lg",children:[b.jsx("p",{className:"text-sm text-gray-500",children:"Điểm đạt"}),b.jsxs("p",{className:"text-4xl font-bold text-gray-800",children:[L,"%"]})]})]}),b.jsxs("div",{className:"mb-8 pt-6 border-t border-gray-200",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"So sánh điểm số"}),b.jsxs("div",{className:"w-full bg-gray-100 rounded-lg p-4 h-64 flex justify-center items-end gap-8 sm:gap-12","aria-label":"Biểu đồ so sánh điểm số",children:[b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("div",{className:`w-12 sm:w-16 rounded-t-lg transition-all duration-1000 ease-out ${w.passed?"bg-emerald-500":"bg-rose-500"}`,style:{height:`${A}%`},role:"progressbar","aria-valuenow":A,"aria-valuemin":0,"aria-valuemax":100}),b.jsx("p",{className:"mt-2 text-sm font-semibold text-gray-800",children:"Điểm của bạn"}),b.jsxs("p",{className:"text-xs text-gray-500",children:[A.toFixed(1),"%"]})]}),b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("div",{className:"w-12 sm:w-16 bg-gray-300 rounded-t-lg transition-all duration-1000 ease-out",style:{height:`${L}%`},role:"progressbar","aria-valuenow":L,"aria-valuemin":0,"aria-valuemax":100}),b.jsx("p",{className:"mt-2 text-sm font-semibold text-gray-800",children:"Điểm đạt"}),b.jsxs("p",{className:"text-xs text-gray-500",children:[L.toFixed(1),"%"]})]})]})]}),b.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[b.jsx("button",{onClick:i,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg transition-colors",children:"Về trang chủ"}),b.jsx("button",{onClick:()=>_(!0),disabled:c,className:"bg-white hover:bg-gray-100 text-gray-800 font-bold py-3 px-6 rounded-lg transition-colors border border-gray-300 disabled:bg-gray-200 disabled:cursor-not-allowed",children:c?"Đã yêu cầu xem lại":"Yêu cầu xem lại"}),b.jsx("button",{onClick:P,className:"bg-white hover:bg-gray-100 text-gray-800 font-bold py-3 px-6 rounded-lg transition-colors border border-gray-300",children:"📄 In báo cáo"}),w.incorrectTopics.length>0&&b.jsx("button",{onClick:C,disabled:s,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg transition-colors disabled:bg-purple-400",children:s?b.jsx($t,{}):"✨ Tạo ghi chú ôn tập bằng AI"})]}),l&&b.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg text-left border border-gray-200",children:[b.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Hướng dẫn ôn tập cá nhân của bạn"}),b.jsx("div",{className:"prose prose-indigo max-w-none",dangerouslySetInnerHTML:{__html:l}})]})]})]})},RZ=t=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),NZ=t=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),DZ=({user:t,onLogout:e})=>b.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200 shadow-sm sticky top-0 z-40",children:b.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center",children:[b.jsx("h1",{className:"text-xl md:text-2xl font-bold text-indigo-600",children:"Thi trực tuyến ProctorFree"}),b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[b.jsx(RZ,{}),b.jsx("span",{className:"hidden sm:inline font-medium text-gray-800",children:t.name})]}),b.jsxs("button",{onClick:e,className:"flex items-center space-x-2 bg-white hover:bg-gray-100 text-gray-700 font-medium py-2 px-4 rounded-lg transition-colors duration-200 border border-gray-300","aria-label":"Đăng xuất",children:[b.jsx(NZ,{}),b.jsx("span",{className:"hidden sm:inline",children:"Đăng xuất"})]})]})]})}),MZ={focus_lost:{icon:"⚠️",label:"Mất tập trung",color:"text-yellow-600"},visibility_hidden:{icon:"⛔️",label:"Chuyển Tab",color:"text-red-600"},copy_paste_blocked:{icon:"📄",label:"Chặn sao chép/dán",color:"text-orange-600"},photo_taken:{icon:"📸",label:"Đã chụp ảnh danh tính",color:"text-blue-600"}},PZ=({attemptId:t,onBack:e})=>{const[n,r]=le.useState([]),[i,s]=le.useState(!0),[o,l]=le.useState(!1),[f,c]=le.useState(null);le.useEffect(()=>{(async()=>{if(!t)return;s(!0);const p=await bF(t);r(p),s(!1)})()},[t]);const d=async()=>{l(!0);const g=await BQ(n);c(g),l(!1)};return b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("div",{children:[b.jsx("button",{onClick:e,className:"text-indigo-600 hover:underline mb-2",children:"← Quay lại kết quả"}),b.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Báo cáo giám sát"}),b.jsxs("p",{className:"text-gray-600",children:["Hiển thị nhật ký hoạt động cho lần thử: ",t]})]}),b.jsx("button",{onClick:d,disabled:o||n.length===0,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center disabled:bg-purple-300 transition-colors",children:o?b.jsx($t,{}):"✨ Tóm tắt bằng AI"})]}),i?b.jsxs("div",{className:"flex justify-center items-center h-64",children:[b.jsx($t,{})," ",b.jsx("span",{className:"ml-3",children:"Đang tải nhật ký..."})]}):b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[b.jsx("h3",{className:"font-bold text-xl mb-4 text-gray-900",children:"Nhật ký sự kiện"}),b.jsx("div",{className:"space-y-3 max-h-[50vh] overflow-y-auto pr-2",children:n.length>0?n.map(g=>{const p=MZ[g.event]||{icon:"🔹",label:g.event,color:"text-gray-600"};return b.jsxs("div",{className:"flex items-start p-2 bg-gray-100 rounded-md",children:[b.jsx("span",{className:"text-xl mr-3",children:p.icon}),b.jsxs("div",{children:[b.jsx("p",{className:`font-semibold ${p.color}`,children:p.label}),b.jsx("p",{className:"text-sm text-gray-500",children:new Date(g.timestamp).toLocaleString()})]})]},g.id)}):b.jsx("p",{className:"text-gray-500 text-center py-8",children:"Không có sự kiện giám sát nào được ghi lại cho lần thử này."})})]}),b.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[b.jsx("h3",{className:"font-bold text-xl mb-4 text-gray-900",children:"Tóm tắt bởi AI"}),f?b.jsx("div",{className:"prose prose-indigo max-w-none",dangerouslySetInnerHTML:{__html:f}}):b.jsx("p",{className:"text-gray-500 text-center py-8",children:o?"Đang tạo tóm tắt...":'Nhấp vào nút "Tóm tắt bằng AI" để tạo phân tích các sự kiện.'})]})]})]})},LZ=()=>{const[t,e]=le.useState(null),[n,r]=le.useState("login"),[i,s]=le.useState(null),[o,l]=le.useState(null),[f,c]=le.useState(null),[d,g]=le.useState([]),[p,x]=le.useState(!0),[_,w]=le.useState(null),[C,I]=le.useState("");le.useEffect(()=>{const N=mM($f,async R=>{if(R)try{const M=(await R.getIdTokenResult()).claims.role==="admin";let F;if(M)F={id:R.uid,name:R.displayName||R.email,email:R.email,role:"admin"};else{const q=await pF(R.email);F={id:R.uid,name:q.name,email:q.email,role:"student",classIds:q.classIds}}e(F),r(F.role==="student"?"dashboard":"admin")}catch(V){console.error("Không thể lấy hồ sơ người dùng:",V),alert("Tài khoản của bạn chưa được gán vào lớp học nào hoặc có lỗi khi xác thực. Vui lòng liên hệ quản trị viên."),await $f.signOut()}else e(null),r("login");x(!1)});return()=>N()},[]);const P=le.useCallback(async()=>{await $f.signOut(),e(null),s(null),l(null),c(null),g([]),I(""),r("login")},[]),A=le.useCallback(async(N,R,V)=>{x(!0),I("");try{if(!t||!t.email)throw new Error("Không tìm thấy thông tin người dùng. Vui lòng đăng nhập lại.");const M=await tZ(N.id,t.email);if(!M)throw new Error("Không tìm thấy biến thể đề thi khả dụng. Vui lòng liên hệ quản trị viên.");const F=M.questions||[];if(F.length===0)throw new Error("Bài thi chưa có câu hỏi. Vui lòng liên hệ quản trị viên.");g(F),l(N),s(R),c(V),r("exam")}catch(M){const F=M instanceof Error?M.message:String(M);console.error("Lỗi khi bắt đầu bài thi:",F),I(`Không thể bắt đầu bài thi: ${F}`),r("dashboard")}finally{x(!1)}},[t]),L=le.useCallback(N=>{c(N),r("results")},[]),D=le.useCallback(()=>{s(null),l(null),c(null),g([]),I(""),(t==null?void 0:t.role)==="admin"?r("admin"):r("dashboard")},[t]),O=le.useCallback(N=>{w(N),r("proctor_report")},[]),k=()=>{if(p)return b.jsx("div",{className:"flex items-center justify-center h-screen",children:b.jsx($t,{})});if(!t)return b.jsx(Bw,{});switch(n){case"admin":return b.jsx(mZ,{onViewProctoringReport:O});case"proctor_report":return _?b.jsx(PZ,{attemptId:_,onBack:D}):(r("admin"),null);case"dashboard":return b.jsx(SF,{user:t,onStartExam:A,globalError:C,clearGlobalError:()=>I("")});case"exam":return o&&f&&d.length>0?b.jsx(CZ,{exam:o,attempt:f,questions:d,onSubmit:L}):(r("dashboard"),null);case"results":if(t&&o&&f){const N=f.questions||d;if(N.length>0)return b.jsx(kZ,{user:t,exam:o,attempt:f,questions:N,onBackToDashboard:D})}return r("dashboard"),null;default:return b.jsx(Bw,{})}};return b.jsxs("div",{className:"bg-gray-50 min-h-screen font-sans text-gray-800",children:[t&&b.jsx(DZ,{user:t,onLogout:P}),b.jsx("main",{className:"container mx-auto px-4 py-8 sm:px-6 lg:px-8",children:b.jsx("div",{className:"w-full",children:k()})})]})},UR=document.getElementById("root");if(!UR)throw new Error("Could not find root element to mount to");const OZ=k8.createRoot(UR);OZ.render(b.jsx(T8.StrictMode,{children:b.jsx(LZ,{})}));
