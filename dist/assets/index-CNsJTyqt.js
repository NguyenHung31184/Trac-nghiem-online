(cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
    diff --git a/dist/assets/index-CNsJTyqt.js b/dist/assets/index-Bk5rNoQY.js
    similarity index 63%
    rename from dist/assets/index-CNsJTyqt.js
    rename to dist/assets/index-Bk5rNoQY.js
    index b5d9a95aaece8e4f59c65ddca7cfb762de8803c7..548f04c10595793addcd241d9ada6fb8612279af 100644
    --- a/dist/assets/index-CNsJTyqt.js
    +++ b/dist/assets/index-Bk5rNoQY.js
    @@ -1,3659 +1,3659 @@
    -var s8=Object.defineProperty;var a8=(t,e,n)=>e in t?s8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ln=(t,e,n)=>a8(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Fp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function o8(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var v1={exports:{}},bf={};/**
    +var f8=Object.defineProperty;var h8=(t,e,n)=>e in t?f8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ln=(t,e,n)=>h8(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Vp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function d8(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var E1={exports:{}},wf={};/**
      * @license React
      * react-jsx-runtime.production.js
      *
      * Copyright (c) Meta Platforms, Inc. and affiliates.
      *
      * This source code is licensed under the MIT license found in the
      * LICENSE file in the root directory of this source tree.
    - */var $E;function u8(){if($E)return bf;$E=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:s}}return bf.Fragment=e,bf.jsx=n,bf.jsxs=n,bf}var WE;function l8(){return WE||(WE=1,v1.exports=u8()),v1.exports}var w=l8(),_1={exports:{}},mt={};/**
    + */var KE;function p8(){if(KE)return wf;KE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:s}}return wf.Fragment=e,wf.jsx=n,wf.jsxs=n,wf}var YE;function m8(){return YE||(YE=1,E1.exports=p8()),E1.exports}var w=m8(),b1={exports:{}},mt={};/**
      * @license React
      * react.production.js
      *
      * Copyright (c) Meta Platforms, Inc. and affiliates.
      *
      * This source code is licensed under the MIT license found in the
      * LICENSE file in the root directory of this source tree.
    - */var KE;function c8(){if(KE)return mt;KE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),p=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=p&&j[p]||j["@@iterator"],typeof j=="function"?j:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,C={};function I(j,z,K){this.props=j,this.context=z,this.refs=C,this.updater=K||_}I.prototype.isReactComponent={},I.prototype.setState=function(j,z){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,z,"setState")},I.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function M(){}M.prototype=I.prototype;function A(j,z,K){this.props=j,this.context=z,this.refs=C,this.updater=K||_}var P=A.prototype=new M;P.constructor=A,b(P,I.prototype),P.isPureReactComponent=!0;var D=Array.isArray;function V(){}var N={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function R(j,z,K){var ee=K.ref;return{$$typeof:t,type:j,key:z,ref:ee!==void 0?ee:null,props:K}}function O(j,z){return R(j.type,z,j.props)}function L(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function U(j){var z={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(K){return z[K]})}var q=/\/+/g;function he(j,z){return typeof j=="object"&&j!==null&&j.key!=null?U(""+j.key):z.toString(36)}function ae(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(V,V):(j.status="pending",j.then(function(z){j.status==="pending"&&(j.status="fulfilled",j.value=z)},function(z){j.status==="pending"&&(j.status="rejected",j.reason=z)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function se(j,z,K,ee,re){var pe=typeof j;(pe==="undefined"||pe==="boolean")&&(j=null);var ke=!1;if(j===null)ke=!0;else switch(pe){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(j.$$typeof){case t:case e:ke=!0;break;case d:return ke=j._init,se(ke(j._payload),z,K,ee,re)}}if(ke)return re=re(j),ke=ee===""?"."+he(j,0):ee,D(re)?(K="",ke!=null&&(K=ke.replace(q,"$&/")+"/"),se(re,z,K,"",function(Ne){return Ne})):re!=null&&(L(re)&&(re=O(re,K+(re.key==null||j&&j.key===re.key?"":(""+re.key).replace(q,"$&/")+"/")+ke)),z.push(re)),1;ke=0;var Re=ee===""?".":ee+":";if(D(j))for(var Ae=0;Ae<j.length;Ae++)ee=j[Ae],pe=Re+he(ee,Ae),ke+=se(ee,z,K,pe,re);else if(Ae=x(j),typeof Ae=="function")for(j=Ae.call(j),Ae=0;!(ee=j.next()).done;)ee=ee.value,pe=Re+he(ee,Ae++),ke+=se(ee,z,K,pe,re);else if(pe==="object"){if(typeof j.then=="function")return se(ae(j),z,K,ee,re);throw z=String(j),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ue(j,z,K){if(j==null)return j;var ee=[],re=0;return se(j,ee,"","",function(pe){return z.call(K,pe,re++)}),ee}function Ce(j){if(j._status===-1){var z=j._result;z=z(),z.then(function(K){(j._status===0||j._status===-1)&&(j._status=1,j._result=K)},function(K){(j._status===0||j._status===-1)&&(j._status=2,j._result=K)}),j._status===-1&&(j._status=0,j._result=z)}if(j._status===1)return j._result.default;throw j._result}var J=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},be={map:ue,forEach:function(j,z,K){ue(j,function(){z.apply(this,arguments)},K)},count:function(j){var z=0;return ue(j,function(){z++}),z},toArray:function(j){return ue(j,function(z){return z})||[]},only:function(j){if(!L(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return mt.Activity=g,mt.Children=be,mt.Component=I,mt.Fragment=n,mt.Profiler=i,mt.PureComponent=A,mt.StrictMode=r,mt.Suspense=f,mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,mt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return N.H.useMemoCache(j)}},mt.cache=function(j){return function(){return j.apply(null,arguments)}},mt.cacheSignal=function(){return null},mt.cloneElement=function(j,z,K){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ee=b({},j.props),re=j.key;if(z!=null)for(pe in z.key!==void 0&&(re=""+z.key),z)!k.call(z,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&z.ref===void 0||(ee[pe]=z[pe]);var pe=arguments.length-2;if(pe===1)ee.children=K;else if(1<pe){for(var ke=Array(pe),Re=0;Re<pe;Re++)ke[Re]=arguments[Re+2];ee.children=ke}return R(j.type,re,ee)},mt.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:s,_context:j},j},mt.createElement=function(j,z,K){var ee,re={},pe=null;if(z!=null)for(ee in z.key!==void 0&&(pe=""+z.key),z)k.call(z,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(re[ee]=z[ee]);var ke=arguments.length-2;if(ke===1)re.children=K;else if(1<ke){for(var Re=Array(ke),Ae=0;Ae<ke;Ae++)Re[Ae]=arguments[Ae+2];re.children=Re}if(j&&j.defaultProps)for(ee in ke=j.defaultProps,ke)re[ee]===void 0&&(re[ee]=ke[ee]);return R(j,pe,re)},mt.createRef=function(){return{current:null}},mt.forwardRef=function(j){return{$$typeof:l,render:j}},mt.isValidElement=L,mt.lazy=function(j){return{$$typeof:d,_payload:{_status:-1,_result:j},_init:Ce}},mt.memo=function(j,z){return{$$typeof:c,type:j,compare:z===void 0?null:z}},mt.startTransition=function(j){var z=N.T,K={};N.T=K;try{var ee=j(),re=N.S;re!==null&&re(K,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(V,J)}catch(pe){J(pe)}finally{z!==null&&K.types!==null&&(z.types=K.types),N.T=z}},mt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},mt.use=function(j){return N.H.use(j)},mt.useActionState=function(j,z,K){return N.H.useActionState(j,z,K)},mt.useCallback=function(j,z){return N.H.useCallback(j,z)},mt.useContext=function(j){return N.H.useContext(j)},mt.useDebugValue=function(){},mt.useDeferredValue=function(j,z){return N.H.useDeferredValue(j,z)},mt.useEffect=function(j,z){return N.H.useEffect(j,z)},mt.useEffectEvent=function(j){return N.H.useEffectEvent(j)},mt.useId=function(){return N.H.useId()},mt.useImperativeHandle=function(j,z,K){return N.H.useImperativeHandle(j,z,K)},mt.useInsertionEffect=function(j,z){return N.H.useInsertionEffect(j,z)},mt.useLayoutEffect=function(j,z){return N.H.useLayoutEffect(j,z)},mt.useMemo=function(j,z){return N.H.useMemo(j,z)},mt.useOptimistic=function(j,z){return N.H.useOptimistic(j,z)},mt.useReducer=function(j,z,K){return N.H.useReducer(j,z,K)},mt.useRef=function(j){return N.H.useRef(j)},mt.useState=function(j){return N.H.useState(j)},mt.useSyncExternalStore=function(j,z,K){return N.H.useSyncExternalStore(j,z,K)},mt.useTransition=function(){return N.H.useTransition()},mt.version="19.2.0",mt}var YE;function Ry(){return YE||(YE=1,_1.exports=c8()),_1.exports}var fe=Ry();const f8=Fp(fe);var T1={exports:{}},wf={},E1={exports:{}},b1={};/**
    + */var XE;function g8(){if(XE)return mt;XE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),p=Symbol.iterator;function x(G){return G===null||typeof G!="object"?null:(G=p&&G[p]||G["@@iterator"],typeof G=="function"?G:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,C={};function I(G,z,K){this.props=G,this.context=z,this.refs=C,this.updater=K||_}I.prototype.isReactComponent={},I.prototype.setState=function(G,z){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,z,"setState")},I.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function D(){}D.prototype=I.prototype;function A(G,z,K){this.props=G,this.context=z,this.refs=C,this.updater=K||_}var P=A.prototype=new D;P.constructor=A,b(P,I.prototype),P.isPureReactComponent=!0;var M=Array.isArray;function U(){}var N={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function R(G,z,K){var ee=K.ref;return{$$typeof:t,type:G,key:z,ref:ee!==void 0?ee:null,props:K}}function V(G,z){return R(G.type,z,G.props)}function L(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function F(G){var z={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(K){return z[K]})}var q=/\/+/g;function ce(G,z){return typeof G=="object"&&G!==null&&G.key!=null?F(""+G.key):z.toString(36)}function oe(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(U,U):(G.status="pending",G.then(function(z){G.status==="pending"&&(G.status="fulfilled",G.value=z)},function(z){G.status==="pending"&&(G.status="rejected",G.reason=z)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function ae(G,z,K,ee,re){var pe=typeof G;(pe==="undefined"||pe==="boolean")&&(G=null);var ke=!1;if(G===null)ke=!0;else switch(pe){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(G.$$typeof){case t:case e:ke=!0;break;case d:return ke=G._init,ae(ke(G._payload),z,K,ee,re)}}if(ke)return re=re(G),ke=ee===""?"."+ce(G,0):ee,M(re)?(K="",ke!=null&&(K=ke.replace(q,"$&/")+"/"),ae(re,z,K,"",function(Ne){return Ne})):re!=null&&(L(re)&&(re=V(re,K+(re.key==null||G&&G.key===re.key?"":(""+re.key).replace(q,"$&/")+"/")+ke)),z.push(re)),1;ke=0;var Re=ee===""?".":ee+":";if(M(G))for(var Ce=0;Ce<G.length;Ce++)ee=G[Ce],pe=Re+ce(ee,Ce),ke+=ae(ee,z,K,pe,re);else if(Ce=x(G),typeof Ce=="function")for(G=Ce.call(G),Ce=0;!(ee=G.next()).done;)ee=ee.value,pe=Re+ce(ee,Ce++),ke+=ae(ee,z,K,pe,re);else if(pe==="object"){if(typeof G.then=="function")return ae(oe(G),z,K,ee,re);throw z=String(G),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return ke}function se(G,z,K){if(G==null)return G;var ee=[],re=0;return ae(G,ee,"","",function(pe){return z.call(K,pe,re++)}),ee}function me(G){if(G._status===-1){var z=G._result;z=z(),z.then(function(K){(G._status===0||G._status===-1)&&(G._status=1,G._result=K)},function(K){(G._status===0||G._status===-1)&&(G._status=2,G._result=K)}),G._status===-1&&(G._status=0,G._result=z)}if(G._status===1)return G._result.default;throw G._result}var X=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},ge={map:se,forEach:function(G,z,K){se(G,function(){z.apply(this,arguments)},K)},count:function(G){var z=0;return se(G,function(){z++}),z},toArray:function(G){return se(G,function(z){return z})||[]},only:function(G){if(!L(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return mt.Activity=g,mt.Children=ge,mt.Component=I,mt.Fragment=n,mt.Profiler=i,mt.PureComponent=A,mt.StrictMode=r,mt.Suspense=f,mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,mt.__COMPILER_RUNTIME={__proto__:null,c:function(G){return N.H.useMemoCache(G)}},mt.cache=function(G){return function(){return G.apply(null,arguments)}},mt.cacheSignal=function(){return null},mt.cloneElement=function(G,z,K){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var ee=b({},G.props),re=G.key;if(z!=null)for(pe in z.key!==void 0&&(re=""+z.key),z)!k.call(z,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&z.ref===void 0||(ee[pe]=z[pe]);var pe=arguments.length-2;if(pe===1)ee.children=K;else if(1<pe){for(var ke=Array(pe),Re=0;Re<pe;Re++)ke[Re]=arguments[Re+2];ee.children=ke}return R(G.type,re,ee)},mt.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:s,_context:G},G},mt.createElement=function(G,z,K){var ee,re={},pe=null;if(z!=null)for(ee in z.key!==void 0&&(pe=""+z.key),z)k.call(z,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(re[ee]=z[ee]);var ke=arguments.length-2;if(ke===1)re.children=K;else if(1<ke){for(var Re=Array(ke),Ce=0;Ce<ke;Ce++)Re[Ce]=arguments[Ce+2];re.children=Re}if(G&&G.defaultProps)for(ee in ke=G.defaultProps,ke)re[ee]===void 0&&(re[ee]=ke[ee]);return R(G,pe,re)},mt.createRef=function(){return{current:null}},mt.forwardRef=function(G){return{$$typeof:l,render:G}},mt.isValidElement=L,mt.lazy=function(G){return{$$typeof:d,_payload:{_status:-1,_result:G},_init:me}},mt.memo=function(G,z){return{$$typeof:c,type:G,compare:z===void 0?null:z}},mt.startTransition=function(G){var z=N.T,K={};N.T=K;try{var ee=G(),re=N.S;re!==null&&re(K,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(U,X)}catch(pe){X(pe)}finally{z!==null&&K.types!==null&&(z.types=K.types),N.T=z}},mt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},mt.use=function(G){return N.H.use(G)},mt.useActionState=function(G,z,K){return N.H.useActionState(G,z,K)},mt.useCallback=function(G,z){return N.H.useCallback(G,z)},mt.useContext=function(G){return N.H.useContext(G)},mt.useDebugValue=function(){},mt.useDeferredValue=function(G,z){return N.H.useDeferredValue(G,z)},mt.useEffect=function(G,z){return N.H.useEffect(G,z)},mt.useEffectEvent=function(G){return N.H.useEffectEvent(G)},mt.useId=function(){return N.H.useId()},mt.useImperativeHandle=function(G,z,K){return N.H.useImperativeHandle(G,z,K)},mt.useInsertionEffect=function(G,z){return N.H.useInsertionEffect(G,z)},mt.useLayoutEffect=function(G,z){return N.H.useLayoutEffect(G,z)},mt.useMemo=function(G,z){return N.H.useMemo(G,z)},mt.useOptimistic=function(G,z){return N.H.useOptimistic(G,z)},mt.useReducer=function(G,z,K){return N.H.useReducer(G,z,K)},mt.useRef=function(G){return N.H.useRef(G)},mt.useState=function(G){return N.H.useState(G)},mt.useSyncExternalStore=function(G,z,K){return N.H.useSyncExternalStore(G,z,K)},mt.useTransition=function(){return N.H.useTransition()},mt.version="19.2.0",mt}var JE;function Py(){return JE||(JE=1,b1.exports=g8()),b1.exports}var fe=Py();const x8=Vp(fe);var w1={exports:{}},Sf={},S1={exports:{}},A1={};/**
      * @license React
      * scheduler.production.js
      *
      * Copyright (c) Meta Platforms, Inc. and affiliates.
      *
      * This source code is licensed under the MIT license found in the
      * LICENSE file in the root directory of this source tree.
    - */var XE;function h8(){return XE||(XE=1,(function(t){function e(se,ue){var Ce=se.length;se.push(ue);e:for(;0<Ce;){var J=Ce-1>>>1,be=se[J];if(0<i(be,ue))se[J]=ue,se[Ce]=be,Ce=J;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var ue=se[0],Ce=se.pop();if(Ce!==ue){se[0]=Ce;e:for(var J=0,be=se.length,j=be>>>1;J<j;){var z=2*(J+1)-1,K=se[z],ee=z+1,re=se[ee];if(0>i(K,Ce))ee<be&&0>i(re,K)?(se[J]=re,se[ee]=Ce,J=ee):(se[J]=K,se[z]=Ce,J=z);else if(ee<be&&0>i(re,Ce))se[J]=re,se[ee]=Ce,J=ee;else break e}}return ue}function i(se,ue){var Ce=se.sortIndex-ue.sortIndex;return Ce!==0?Ce:se.id-ue.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var f=[],c=[],d=1,g=null,p=3,x=!1,_=!1,b=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function P(se){for(var ue=n(c);ue!==null;){if(ue.callback===null)r(c);else if(ue.startTime<=se)r(c),ue.sortIndex=ue.expirationTime,e(f,ue);else break;ue=n(c)}}function D(se){if(b=!1,P(se),!_)if(n(f)!==null)_=!0,V||(V=!0,U());else{var ue=n(c);ue!==null&&ae(D,ue.startTime-se)}}var V=!1,N=-1,k=5,R=-1;function O(){return C?!0:!(t.unstable_now()-R<k)}function L(){if(C=!1,V){var se=t.unstable_now();R=se;var ue=!0;try{e:{_=!1,b&&(b=!1,M(N),N=-1),x=!0;var Ce=p;try{t:{for(P(se),g=n(f);g!==null&&!(g.expirationTime>se&&O());){var J=g.callback;if(typeof J=="function"){g.callback=null,p=g.priorityLevel;var be=J(g.expirationTime<=se);if(se=t.unstable_now(),typeof be=="function"){g.callback=be,P(se),ue=!0;break t}g===n(f)&&r(f),P(se)}else r(f);g=n(f)}if(g!==null)ue=!0;else{var j=n(c);j!==null&&ae(D,j.startTime-se),ue=!1}}break e}finally{g=null,p=Ce,x=!1}ue=void 0}}finally{ue?U():V=!1}}}var U;if(typeof A=="function")U=function(){A(L)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,he=q.port2;q.port1.onmessage=L,U=function(){he.postMessage(null)}}else U=function(){I(L,0)};function ae(se,ue){N=I(function(){se(t.unstable_now())},ue)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(se){switch(p){case 1:case 2:case 3:var ue=3;break;default:ue=p}var Ce=p;p=ue;try{return se()}finally{p=Ce}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(se,ue){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var Ce=p;p=se;try{return ue()}finally{p=Ce}},t.unstable_scheduleCallback=function(se,ue,Ce){var J=t.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?J+Ce:J):Ce=J,se){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=Ce+be,se={id:d++,callback:ue,priorityLevel:se,startTime:Ce,expirationTime:be,sortIndex:-1},Ce>J?(se.sortIndex=Ce,e(c,se),n(f)===null&&se===n(c)&&(b?(M(N),N=-1):b=!0,ae(D,Ce-J))):(se.sortIndex=be,e(f,se),_||x||(_=!0,V||(V=!0,U()))),se},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(se){var ue=p;return function(){var Ce=p;p=ue;try{return se.apply(this,arguments)}finally{p=Ce}}}})(b1)),b1}var JE;function d8(){return JE||(JE=1,E1.exports=h8()),E1.exports}var w1={exports:{}},gr={};/**
    + */var QE;function y8(){return QE||(QE=1,(function(t){function e(ae,se){var me=ae.length;ae.push(se);e:for(;0<me;){var X=me-1>>>1,ge=ae[X];if(0<i(ge,se))ae[X]=se,ae[me]=ge,me=X;else break e}}function n(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var se=ae[0],me=ae.pop();if(me!==se){ae[0]=me;e:for(var X=0,ge=ae.length,G=ge>>>1;X<G;){var z=2*(X+1)-1,K=ae[z],ee=z+1,re=ae[ee];if(0>i(K,me))ee<ge&&0>i(re,K)?(ae[X]=re,ae[ee]=me,X=ee):(ae[X]=K,ae[z]=me,X=z);else if(ee<ge&&0>i(re,me))ae[X]=re,ae[ee]=me,X=ee;else break e}}return se}function i(ae,se){var me=ae.sortIndex-se.sortIndex;return me!==0?me:ae.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var f=[],c=[],d=1,g=null,p=3,x=!1,_=!1,b=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function P(ae){for(var se=n(c);se!==null;){if(se.callback===null)r(c);else if(se.startTime<=ae)r(c),se.sortIndex=se.expirationTime,e(f,se);else break;se=n(c)}}function M(ae){if(b=!1,P(ae),!_)if(n(f)!==null)_=!0,U||(U=!0,F());else{var se=n(c);se!==null&&oe(M,se.startTime-ae)}}var U=!1,N=-1,k=5,R=-1;function V(){return C?!0:!(t.unstable_now()-R<k)}function L(){if(C=!1,U){var ae=t.unstable_now();R=ae;var se=!0;try{e:{_=!1,b&&(b=!1,D(N),N=-1),x=!0;var me=p;try{t:{for(P(ae),g=n(f);g!==null&&!(g.expirationTime>ae&&V());){var X=g.callback;if(typeof X=="function"){g.callback=null,p=g.priorityLevel;var ge=X(g.expirationTime<=ae);if(ae=t.unstable_now(),typeof ge=="function"){g.callback=ge,P(ae),se=!0;break t}g===n(f)&&r(f),P(ae)}else r(f);g=n(f)}if(g!==null)se=!0;else{var G=n(c);G!==null&&oe(M,G.startTime-ae),se=!1}}break e}finally{g=null,p=me,x=!1}se=void 0}}finally{se?F():U=!1}}}var F;if(typeof A=="function")F=function(){A(L)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ce=q.port2;q.port1.onmessage=L,F=function(){ce.postMessage(null)}}else F=function(){I(L,0)};function oe(ae,se){N=I(function(){ae(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(ae){switch(p){case 1:case 2:case 3:var se=3;break;default:se=p}var me=p;p=se;try{return ae()}finally{p=me}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(ae,se){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var me=p;p=ae;try{return se()}finally{p=me}},t.unstable_scheduleCallback=function(ae,se,me){var X=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?X+me:X):me=X,ae){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=me+ge,ae={id:d++,callback:se,priorityLevel:ae,startTime:me,expirationTime:ge,sortIndex:-1},me>X?(ae.sortIndex=me,e(c,ae),n(f)===null&&ae===n(c)&&(b?(D(N),N=-1):b=!0,oe(M,me-X))):(ae.sortIndex=ge,e(f,ae),_||x||(_=!0,U||(U=!0,F()))),ae},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(ae){var se=p;return function(){var me=p;p=se;try{return ae.apply(this,arguments)}finally{p=me}}}})(A1)),A1}var ZE;function v8(){return ZE||(ZE=1,S1.exports=y8()),S1.exports}var C1={exports:{}},gr={};/**
      * @license React
      * react-dom.production.js
      *
      * Copyright (c) Meta Platforms, Inc. and affiliates.
      *
      * This source code is licensed under the MIT license found in the
      * LICENSE file in the root directory of this source tree.
    - */var QE;function p8(){if(QE)return gr;QE=1;var t=Ry();function e(f){var c="https://react.dev/errors/"+f;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+f+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,c,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:c,implementation:d}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(f,c){if(f==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gr.createPortal=function(f,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return s(f,c,null,d)},gr.flushSync=function(f){var c=o.T,d=r.p;try{if(o.T=null,r.p=2,f)return f()}finally{o.T=c,r.p=d,r.d.f()}},gr.preconnect=function(f,c){typeof f=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(f,c))},gr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},gr.preinit=function(f,c){if(typeof f=="string"&&c&&typeof c.as=="string"){var d=c.as,g=l(d,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,x=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?r.d.S(f,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:g,integrity:p,fetchPriority:x}):d==="script"&&r.d.X(f,{crossOrigin:g,integrity:p,fetchPriority:x,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},gr.preinitModule=function(f,c){if(typeof f=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=l(c.as,c.crossOrigin);r.d.M(f,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(f)},gr.preload=function(f,c){if(typeof f=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,g=l(d,c.crossOrigin);r.d.L(f,d,{crossOrigin:g,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},gr.preloadModule=function(f,c){if(typeof f=="string")if(c){var d=l(c.as,c.crossOrigin);r.d.m(f,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(f)},gr.requestFormReset=function(f){r.d.r(f)},gr.unstable_batchedUpdates=function(f,c){return f(c)},gr.useFormState=function(f,c,d){return o.H.useFormState(f,c,d)},gr.useFormStatus=function(){return o.H.useHostTransitionStatus()},gr.version="19.2.0",gr}var ZE;function m8(){if(ZE)return w1.exports;ZE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),w1.exports=p8(),w1.exports}/**
    + */var eb;function _8(){if(eb)return gr;eb=1;var t=Py();function e(f){var c="https://react.dev/errors/"+f;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+f+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,c,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:c,implementation:d}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(f,c){if(f==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gr.createPortal=function(f,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return s(f,c,null,d)},gr.flushSync=function(f){var c=o.T,d=r.p;try{if(o.T=null,r.p=2,f)return f()}finally{o.T=c,r.p=d,r.d.f()}},gr.preconnect=function(f,c){typeof f=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(f,c))},gr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},gr.preinit=function(f,c){if(typeof f=="string"&&c&&typeof c.as=="string"){var d=c.as,g=l(d,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,x=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?r.d.S(f,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:g,integrity:p,fetchPriority:x}):d==="script"&&r.d.X(f,{crossOrigin:g,integrity:p,fetchPriority:x,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},gr.preinitModule=function(f,c){if(typeof f=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=l(c.as,c.crossOrigin);r.d.M(f,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(f)},gr.preload=function(f,c){if(typeof f=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,g=l(d,c.crossOrigin);r.d.L(f,d,{crossOrigin:g,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},gr.preloadModule=function(f,c){if(typeof f=="string")if(c){var d=l(c.as,c.crossOrigin);r.d.m(f,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(f)},gr.requestFormReset=function(f){r.d.r(f)},gr.unstable_batchedUpdates=function(f,c){return f(c)},gr.useFormState=function(f,c,d){return o.H.useFormState(f,c,d)},gr.useFormStatus=function(){return o.H.useHostTransitionStatus()},gr.version="19.2.0",gr}var tb;function T8(){if(tb)return C1.exports;tb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),C1.exports=_8(),C1.exports}/**
      * @license React
      * react-dom-client.production.js
      *
      * Copyright (c) Meta Platforms, Inc. and affiliates.
      *
      * This source code is licensed under the MIT license found in the
      * LICENSE file in the root directory of this source tree.
    - */var eb;function g8(){if(eb)return wf;eb=1;var t=d8(),e=Ry(),n=m8();function r(a){var u="https://react.dev/errors/"+a;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var u=a,h=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(h=u.return),a=u.return;while(a)}return u.tag===3?h:null}function o(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function l(a){if(a.tag===31){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function c(a){var u=a.alternate;if(!u){if(u=s(a),u===null)throw Error(r(188));return u!==a?null:a}for(var h=a,m=u;;){var T=h.return;if(T===null)break;var S=T.alternate;if(S===null){if(m=T.return,m!==null){h=m;continue}break}if(T.child===S.child){for(S=T.child;S;){if(S===h)return f(T),a;if(S===m)return f(T),u;S=S.sibling}throw Error(r(188))}if(h.return!==m.return)h=T,m=S;else{for(var B=!1,W=T.child;W;){if(W===h){B=!0,h=T,m=S;break}if(W===m){B=!0,m=T,h=S;break}W=W.sibling}if(!B){for(W=S.child;W;){if(W===h){B=!0,h=S,m=T;break}if(W===m){B=!0,m=S,h=T;break}W=W.sibling}if(!B)throw Error(r(189))}}if(h.alternate!==m)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?a:u}function d(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a;for(a=a.child;a!==null;){if(u=d(a),u!==null)return u;a=a.sibling}return null}var g=Object.assign,p=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),A=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function U(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var q=Symbol.for("react.client.reference");function he(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===q?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case b:return"Fragment";case I:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case V:return"SuspenseList";case R:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case _:return"Portal";case A:return a.displayName||"Context";case M:return(a._context.displayName||"Context")+".Consumer";case P:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return u=a.displayName||null,u!==null?u:he(a.type)||"Memo";case k:u=a._payload,a=a._init;try{return he(a(u))}catch{}}return null}var ae=Array.isArray,se=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},J=[],be=-1;function j(a){return{current:a}}function z(a){0>be||(a.current=J[be],J[be]=null,be--)}function K(a,u){be++,J[be]=a.current,a.current=u}var ee=j(null),re=j(null),pe=j(null),ke=j(null);function Re(a,u){switch(K(pe,u),K(re,a),K(ee,null),u.nodeType){case 9:case 11:a=(a=u.documentElement)&&(a=a.namespaceURI)?mE(a):0;break;default:if(a=u.tagName,u=u.namespaceURI)u=mE(u),a=gE(u,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}z(ee),K(ee,a)}function Ae(){z(ee),z(re),z(pe)}function Ne(a){a.memoizedState!==null&&K(ke,a);var u=ee.current,h=gE(u,a.type);u!==h&&(K(re,a),K(ee,h))}function ce(a){re.current===a&&(z(ee),z(re)),ke.current===a&&(z(ke),vf._currentValue=Ce)}var Y,Ie;function Fe(a){if(Y===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);Y=u&&u[1]||"",Ie=-1<h.stack.indexOf(`
    + */var nb;function E8(){if(nb)return Sf;nb=1;var t=v8(),e=Py(),n=T8();function r(a){var u="https://react.dev/errors/"+a;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var u=a,h=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(h=u.return),a=u.return;while(a)}return u.tag===3?h:null}function o(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function l(a){if(a.tag===31){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function c(a){var u=a.alternate;if(!u){if(u=s(a),u===null)throw Error(r(188));return u!==a?null:a}for(var h=a,m=u;;){var T=h.return;if(T===null)break;var S=T.alternate;if(S===null){if(m=T.return,m!==null){h=m;continue}break}if(T.child===S.child){for(S=T.child;S;){if(S===h)return f(T),a;if(S===m)return f(T),u;S=S.sibling}throw Error(r(188))}if(h.return!==m.return)h=T,m=S;else{for(var B=!1,W=T.child;W;){if(W===h){B=!0,h=T,m=S;break}if(W===m){B=!0,m=T,h=S;break}W=W.sibling}if(!B){for(W=S.child;W;){if(W===h){B=!0,h=S,m=T;break}if(W===m){B=!0,m=S,h=T;break}W=W.sibling}if(!B)throw Error(r(189))}}if(h.alternate!==m)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?a:u}function d(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a;for(a=a.child;a!==null;){if(u=d(a),u!==null)return u;a=a.sibling}return null}var g=Object.assign,p=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),A=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function F(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var q=Symbol.for("react.client.reference");function ce(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===q?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case b:return"Fragment";case I:return"Profiler";case C:return"StrictMode";case M:return"Suspense";case U:return"SuspenseList";case R:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case _:return"Portal";case A:return a.displayName||"Context";case D:return(a._context.displayName||"Context")+".Consumer";case P:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return u=a.displayName||null,u!==null?u:ce(a.type)||"Memo";case k:u=a._payload,a=a._init;try{return ce(a(u))}catch{}}return null}var oe=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},X=[],ge=-1;function G(a){return{current:a}}function z(a){0>ge||(a.current=X[ge],X[ge]=null,ge--)}function K(a,u){ge++,X[ge]=a.current,a.current=u}var ee=G(null),re=G(null),pe=G(null),ke=G(null);function Re(a,u){switch(K(pe,u),K(re,a),K(ee,null),u.nodeType){case 9:case 11:a=(a=u.documentElement)&&(a=a.namespaceURI)?xE(a):0;break;default:if(a=u.tagName,u=u.namespaceURI)u=xE(u),a=yE(u,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}z(ee),K(ee,a)}function Ce(){z(ee),z(re),z(pe)}function Ne(a){a.memoizedState!==null&&K(ke,a);var u=ee.current,h=yE(u,a.type);u!==h&&(K(re,a),K(ee,h))}function he(a){re.current===a&&(z(ee),z(re)),ke.current===a&&(z(ke),_f._currentValue=me)}var Y,Ie;function Fe(a){if(Y===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);Y=u&&u[1]||"",Ie=-1<h.stack.indexOf(`
         at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
    -`+Y+a+Ie}var Ke=!1;function qe(a,u){if(!a||Ke)return"";Ke=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(u){var Oe=function(){throw Error()};if(Object.defineProperty(Oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Oe,[])}catch(Se){var Ee=Se}Reflect.construct(a,[],Oe)}else{try{Oe.call()}catch(Se){Ee=Se}a.call(Oe.prototype)}}else{try{throw Error()}catch(Se){Ee=Se}(Oe=a())&&typeof Oe.catch=="function"&&Oe.catch(function(){})}}catch(Se){if(Se&&Ee&&typeof Se.stack=="string")return[Se.stack,Ee.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),B=S[0],W=S[1];if(B&&W){var oe=B.split(`
    -`),ve=W.split(`
    -`);for(T=m=0;m<oe.length&&!oe[m].includes("DetermineComponentFrameRoot");)m++;for(;T<ve.length&&!ve[T].includes("DetermineComponentFrameRoot");)T++;if(m===oe.length||T===ve.length)for(m=oe.length-1,T=ve.length-1;1<=m&&0<=T&&oe[m]!==ve[T];)T--;for(;1<=m&&0<=T;m--,T--)if(oe[m]!==ve[T]){if(m!==1||T!==1)do if(m--,T--,0>T||oe[m]!==ve[T]){var Me=`
    -`+oe[m].replace(" at new "," at ");return a.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",a.displayName)),Me}while(1<=m&&0<=T);break}}}finally{Ke=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?Fe(h):""}function He(a,u){switch(a.tag){case 26:case 27:case 5:return Fe(a.type);case 16:return Fe("Lazy");case 13:return a.child!==u&&u!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return qe(a.type,!1);case 11:return qe(a.type.render,!1);case 1:return qe(a.type,!0);case 31:return Fe("Activity");default:return""}}function nt(a){try{var u="",h=null;do u+=He(a,h),h=a,a=a.return;while(a);return u}catch(m){return`
    +`+Y+a+Ie}var Ke=!1;function qe(a,u){if(!a||Ke)return"";Ke=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(u){var Oe=function(){throw Error()};if(Object.defineProperty(Oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Oe,[])}catch(Ae){var we=Ae}Reflect.construct(a,[],Oe)}else{try{Oe.call()}catch(Ae){we=Ae}a.call(Oe.prototype)}}else{try{throw Error()}catch(Ae){we=Ae}(Oe=a())&&typeof Oe.catch=="function"&&Oe.catch(function(){})}}catch(Ae){if(Ae&&we&&typeof Ae.stack=="string")return[Ae.stack,we.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),B=S[0],W=S[1];if(B&&W){var ue=B.split(`
    +`),Te=W.split(`
    +`);for(T=m=0;m<ue.length&&!ue[m].includes("DetermineComponentFrameRoot");)m++;for(;T<Te.length&&!Te[T].includes("DetermineComponentFrameRoot");)T++;if(m===ue.length||T===Te.length)for(m=ue.length-1,T=Te.length-1;1<=m&&0<=T&&ue[m]!==Te[T];)T--;for(;1<=m&&0<=T;m--,T--)if(ue[m]!==Te[T]){if(m!==1||T!==1)do if(m--,T--,0>T||ue[m]!==Te[T]){var Me=`
    +`+ue[m].replace(" at new "," at ");return a.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",a.displayName)),Me}while(1<=m&&0<=T);break}}}finally{Ke=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?Fe(h):""}function He(a,u){switch(a.tag){case 26:case 27:case 5:return Fe(a.type);case 16:return Fe("Lazy");case 13:return a.child!==u&&u!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return qe(a.type,!1);case 11:return qe(a.type.render,!1);case 1:return qe(a.type,!0);case 31:return Fe("Activity");default:return""}}function nt(a){try{var u="",h=null;do u+=He(a,h),h=a,a=a.return;while(a);return u}catch(m){return`
     Error generating stack: `+m.message+`
    -`+m.stack}}var Ge=Object.prototype.hasOwnProperty,We=t.unstable_scheduleCallback,Kt=t.unstable_cancelCallback,ot=t.unstable_shouldYield,ut=t.unstable_requestPaint,st=t.unstable_now,bt=t.unstable_getCurrentPriorityLevel,dt=t.unstable_ImmediatePriority,tn=t.unstable_UserBlockingPriority,wt=t.unstable_NormalPriority,Pn=t.unstable_LowPriority,ht=t.unstable_IdlePriority,Ut=t.log,nn=t.unstable_setDisableYieldValue,St=null,rn=null;function kr(a){if(typeof Ut=="function"&&nn(a),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(St,a)}catch{}}var Tn=Math.clz32?Math.clz32:zo,Yu=Math.log,Us=Math.LN2;function zo(a){return a>>>=0,a===0?32:31-(Yu(a)/Us|0)|0}var Qr=256,Vs=262144,bn=4194304;function Rr(a){var u=a&42;if(u!==0)return u;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function pi(a,u,h){var m=a.pendingLanes;if(m===0)return 0;var T=0,S=a.suspendedLanes,B=a.pingedLanes;a=a.warmLanes;var W=m&134217727;return W!==0?(m=W&~S,m!==0?T=Rr(m):(B&=W,B!==0?T=Rr(B):h||(h=W&~a,h!==0&&(T=Rr(h))))):(W=m&~S,W!==0?T=Rr(W):B!==0?T=Rr(B):h||(h=m&~a,h!==0&&(T=Rr(h)))),T===0?0:u!==0&&u!==T&&(u&S)===0&&(S=T&-T,h=u&-u,S>=h||S===32&&(h&4194048)!==0)?u:T}function Zr(a,u){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&u)===0}function Ic(a,u){switch(a){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xu(){var a=bn;return bn<<=1,(bn&62914560)===0&&(bn=4194304),a}function mi(a){for(var u=[],h=0;31>h;h++)u.push(a);return u}function Bs(a,u){a.pendingLanes|=u,u!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function kc(a,u,h,m,T,S){var B=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var W=a.entanglements,oe=a.expirationTimes,ve=a.hiddenUpdates;for(h=B&~h;0<h;){var Me=31-Tn(h),Oe=1<<Me;W[Me]=0,oe[Me]=-1;var Ee=ve[Me];if(Ee!==null)for(ve[Me]=null,Me=0;Me<Ee.length;Me++){var Se=Ee[Me];Se!==null&&(Se.lane&=-536870913)}h&=~Oe}m!==0&&qs(a,m,0),S!==0&&T===0&&a.tag!==0&&(a.suspendedLanes|=S&~(B&~u))}function qs(a,u,h){a.pendingLanes|=u,a.suspendedLanes&=~u;var m=31-Tn(u);a.entangledLanes|=u,a.entanglements[m]=a.entanglements[m]|1073741824|h&261930}function Hs(a,u){var h=a.entangledLanes|=u;for(a=a.entanglements;h;){var m=31-Tn(h),T=1<<m;T&u|a[m]&u&&(a[m]|=u),h&=~T}}function Go(a,u){var h=u&-u;return h=(h&42)!==0?1:zs(h),(h&(a.suspendedLanes|u))!==0?0:h}function zs(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Li(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function G(){var a=ue.p;return a!==0?a:(a=window.event,a===void 0?32:VE(a.type))}function ne(a,u){var h=ue.p;try{return ue.p=a,u()}finally{ue.p=h}}var X=Math.random().toString(36).slice(2),Z="__reactFiber$"+X,te="__reactProps$"+X,ie="__reactContainer$"+X,xe="__reactEvents$"+X,De="__reactListeners$"+X,ye="__reactHandles$"+X,Te="__reactResources$"+X,_e="__reactMarker$"+X;function Be(a){delete a[Z],delete a[te],delete a[xe],delete a[De],delete a[ye]}function ze(a){var u=a[Z];if(u)return u;for(var h=a.parentNode;h;){if(u=h[ie]||h[Z]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(a=bE(a);a!==null;){if(h=a[Z])return h;a=bE(a)}return u}a=h,h=a.parentNode}return null}function Ye(a){if(a=a[Z]||a[ie]){var u=a.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return a}return null}function Ve(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a.stateNode;throw Error(r(33))}function $e(a){var u=a[Te];return u||(u=a[Te]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Ze(a){a[_e]=!0}var Yt=new Set,Xt={};function cn(a,u){pr(a,u),pr(a+"Capture",u)}function pr(a,u){for(Xt[a]=u,a=0;a<u.length;a++)Yt.add(u[a])}var Oi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fi={},ei={};function Aa(a){return Ge.call(ei,a)?!0:Ge.call(Fi,a)?!1:Oi.test(a)?ei[a]=!0:(Fi[a]=!0,!1)}function mr(a,u,h){if(Aa(u))if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(u);return;case"boolean":var m=u.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(u);return}}a.setAttribute(u,""+h)}}function ti(a,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttribute(u,""+h)}}function Ln(a,u,h,m){if(m===null)a.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(u,h,""+m)}}function Qn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ca(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Rc(a,u,h){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,u);if(!a.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var T=m.get,S=m.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return T.call(this)},set:function(B){h=""+B,S.call(this,B)}}),Object.defineProperty(a,u,{enumerable:m.enumerable}),{getValue:function(){return h},setValue:function(B){h=""+B},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Jt(a){if(!a._valueTracker){var u=Ca(a)?"checked":"value";a._valueTracker=Rc(a,u,""+a[u])}}function jo(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var h=u.getValue(),m="";return a&&(m=Ca(a)?a.checked?"true":"false":a.value),a=m,a!==h?(u.setValue(a),!0):!1}function ls(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var $o=/[\n"\\]/g;function Vr(a){return a.replace($o,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Ju(a,u,h,m,T,S,B,W){a.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?a.type=B:a.removeAttribute("type"),u!=null?B==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+Qn(u)):a.value!==""+Qn(u)&&(a.value=""+Qn(u)):B!=="submit"&&B!=="reset"||a.removeAttribute("value"),u!=null?Nc(a,B,Qn(u)):h!=null?Nc(a,B,Qn(h)):m!=null&&a.removeAttribute("value"),T==null&&S!=null&&(a.defaultChecked=!!S),T!=null&&(a.checked=T&&typeof T!="function"&&typeof T!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?a.name=""+Qn(W):a.removeAttribute("name")}function W0(a,u,h,m,T,S,B,W){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.type=S),u!=null||h!=null){if(!(S!=="submit"&&S!=="reset"||u!=null)){Jt(a);return}h=h!=null?""+Qn(h):"",u=u!=null?""+Qn(u):h,W||u===a.value||(a.value=u),a.defaultValue=u}m=m??T,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=W?a.checked:!!m,a.defaultChecked=!!m,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(a.name=B),Jt(a)}function Nc(a,u,h){u==="number"&&ls(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function Ia(a,u,h,m){if(a=a.options,u){u={};for(var T=0;T<h.length;T++)u["$"+h[T]]=!0;for(h=0;h<a.length;h++)T=u.hasOwnProperty("$"+a[h].value),a[h].selected!==T&&(a[h].selected=T),T&&m&&(a[h].defaultSelected=!0)}else{for(h=""+Qn(h),u=null,T=0;T<a.length;T++){if(a[T].value===h){a[T].selected=!0,m&&(a[T].defaultSelected=!0);return}u!==null||a[T].disabled||(u=a[T])}u!==null&&(u.selected=!0)}}function K0(a,u,h){if(u!=null&&(u=""+Qn(u),u!==a.value&&(a.value=u),h==null)){a.defaultValue!==u&&(a.defaultValue=u);return}a.defaultValue=h!=null?""+Qn(h):""}function ka(a,u,h,m){if(u==null){if(m!=null){if(h!=null)throw Error(r(92));if(ae(m)){if(1<m.length)throw Error(r(93));m=m[0]}h=m}h==null&&(h=""),u=h}h=Qn(u),a.defaultValue=h,m=a.textContent,m===h&&m!==""&&m!==null&&(a.value=m),Jt(a)}function Br(a,u){if(u){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=u;return}}a.textContent=u}var Y0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dc(a,u,h){var m=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="":m?a.setProperty(u,h):typeof h!="number"||h===0||Y0.has(u)?u==="float"?a.cssFloat=h:a[u]=(""+h).trim():a[u]=h+"px"}function Mc(a,u,h){if(u!=null&&typeof u!="object")throw Error(r(62));if(a=a.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||u!=null&&u.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var T in u)m=u[T],u.hasOwnProperty(T)&&h[T]!==m&&Dc(a,T,m)}else for(var S in u)u.hasOwnProperty(S)&&Dc(a,S,u[S])}function Qu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var X0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ra=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zu(a){return Ra.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ui(){}var Pc=null;function gi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Na=null,cs=null;function Wo(a){var u=Ye(a);if(u&&(a=u.stateNode)){var h=a[te]||null;e:switch(a=u.stateNode,u.type){case"input":if(Ju(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Vr(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var m=h[u];if(m!==a&&m.form===a.form){var T=m[te]||null;if(!T)throw Error(r(90));Ju(m,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(u=0;u<h.length;u++)m=h[u],m.form===a.form&&jo(m)}break e;case"textarea":K0(a,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&Ia(a,!!h.multiple,u,!1)}}}var el=!1;function Da(a,u,h){if(el)return a(u,h);el=!0;try{var m=a(u);return m}finally{if(el=!1,(Na!==null||cs!==null)&&(zh(),Na&&(u=Na,a=cs,cs=Na=null,Wo(u),a)))for(u=0;u<a.length;u++)Wo(a[u])}}function Vi(a,u){var h=a.stateNode;if(h===null)return null;var m=h[te]||null;if(m===null)return null;h=m[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ko=!1;if(xi)try{var sn={};Object.defineProperty(sn,"passive",{get:function(){Ko=!0}}),window.addEventListener("test",sn,sn),window.removeEventListener("test",sn,sn)}catch{Ko=!1}var fs=null,Lc=null,Yo=null;function Oc(){if(Yo)return Yo;var a,u=Lc,h=u.length,m,T="value"in fs?fs.value:fs.textContent,S=T.length;for(a=0;a<h&&u[a]===T[a];a++);var B=h-a;for(m=1;m<=B&&u[h-m]===T[S-m];m++);return Yo=T.slice(a,1<m?1-m:void 0)}function Xo(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function Gs(){return!0}function Bi(){return!1}function rr(a){function u(h,m,T,S,B){this._reactName=h,this._targetInst=T,this.type=m,this.nativeEvent=S,this.target=B,this.currentTarget=null;for(var W in a)a.hasOwnProperty(W)&&(h=a[W],this[W]=h?h(S):S[W]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Gs:Bi,this.isPropagationStopped=Bi,this}return g(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),u}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hs=rr(js),Ma=g({},js,{view:0,detail:0}),Fc=rr(Ma),Pa,tl,ds,nl=g({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:La,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ds&&(ds&&a.type==="mousemove"?(Pa=a.screenX-ds.screenX,tl=a.screenY-ds.screenY):tl=Pa=0,ds=a),Pa)},movementY:function(a){return"movementY"in a?a.movementY:tl}}),Uc=rr(nl),Jo=g({},nl,{dataTransfer:0}),J0=rr(Jo),Q0=g({},Ma,{relatedTarget:0}),Qo=rr(Q0),Vc=g({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),Z0=rr(Vc),rl=g({},js,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),eh=rr(rl),th=g({},js,{data:0}),ps=rr(th),nh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ih={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sh(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=ih[a])?!!u[a]:!1}function La(){return sh}var Nr=g({},Ma,{key:function(a){if(a.key){var u=nh[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Xo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?rh[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:La,charCode:function(a){return a.type==="keypress"?Xo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Xo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ah=rr(Nr),oh=g({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$s=rr(oh),v=g({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:La}),F=rr(v),H=g({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q=rr(H),me=g({},nl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),we=rr(me),je=g({},js,{newState:0,oldState:0}),yt=rr(je),kn=[9,13,27,32],Gt=xi&&"CompositionEvent"in window,yn=null;xi&&"documentMode"in document&&(yn=document.documentMode);var yi=xi&&"TextEvent"in window&&!yn,ms=xi&&(!Gt||yn&&8<yn&&11>=yn),qi=" ",Hi=!1;function Zo(a,u){switch(a){case"keyup":return kn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function il(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var sl=!1;function kR(a,u){switch(a){case"compositionend":return il(u);case"keypress":return u.which!==32?null:(Hi=!0,qi);case"textInput":return a=u.data,a===qi&&Hi?null:a;default:return null}}function RR(a,u){if(sl)return a==="compositionend"||!Gt&&Zo(a,u)?(a=Oc(),Yo=Lc=fs=null,sl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ms&&u.locale!=="ko"?null:u.data;default:return null}}var NR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A_(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!NR[a.type]:u==="textarea"}function C_(a,u,h,m){Na?cs?cs.push(m):cs=[m]:Na=m,u=Xh(u,"onChange"),0<u.length&&(h=new hs("onChange","change",null,h,m),a.push({event:h,listeners:u}))}var Bc=null,qc=null;function DR(a){lE(a,0)}function uh(a){var u=Ve(a);if(jo(u))return a}function I_(a,u){if(a==="change")return u}var k_=!1;if(xi){var Am;if(xi){var Cm="oninput"in document;if(!Cm){var R_=document.createElement("div");R_.setAttribute("oninput","return;"),Cm=typeof R_.oninput=="function"}Am=Cm}else Am=!1;k_=Am&&(!document.documentMode||9<document.documentMode)}function N_(){Bc&&(Bc.detachEvent("onpropertychange",D_),qc=Bc=null)}function D_(a){if(a.propertyName==="value"&&uh(qc)){var u=[];C_(u,qc,a,gi(a)),Da(DR,u)}}function MR(a,u,h){a==="focusin"?(N_(),Bc=u,qc=h,Bc.attachEvent("onpropertychange",D_)):a==="focusout"&&N_()}function PR(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return uh(qc)}function LR(a,u){if(a==="click")return uh(u)}function OR(a,u){if(a==="input"||a==="change")return uh(u)}function FR(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var ni=typeof Object.is=="function"?Object.is:FR;function Hc(a,u){if(ni(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var h=Object.keys(a),m=Object.keys(u);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var T=h[m];if(!Ge.call(u,T)||!ni(a[T],u[T]))return!1}return!0}function M_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function P_(a,u){var h=M_(a);a=0;for(var m;h;){if(h.nodeType===3){if(m=a+h.textContent.length,a<=u&&m>=u)return{node:h,offset:u-a};a=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=M_(h)}}function L_(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?L_(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function O_(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var u=ls(a.document);u instanceof a.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)a=u.contentWindow;else break;u=ls(a.document)}return u}function Im(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}var UR=xi&&"documentMode"in document&&11>=document.documentMode,al=null,km=null,zc=null,Rm=!1;function F_(a,u,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Rm||al==null||al!==ls(m)||(m=al,"selectionStart"in m&&Im(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),zc&&Hc(zc,m)||(zc=m,m=Xh(km,"onSelect"),0<m.length&&(u=new hs("onSelect","select",null,u,h),a.push({event:u,listeners:m}),u.target=al)))}function eu(a,u){var h={};return h[a.toLowerCase()]=u.toLowerCase(),h["Webkit"+a]="webkit"+u,h["Moz"+a]="moz"+u,h}var ol={animationend:eu("Animation","AnimationEnd"),animationiteration:eu("Animation","AnimationIteration"),animationstart:eu("Animation","AnimationStart"),transitionrun:eu("Transition","TransitionRun"),transitionstart:eu("Transition","TransitionStart"),transitioncancel:eu("Transition","TransitionCancel"),transitionend:eu("Transition","TransitionEnd")},Nm={},U_={};xi&&(U_=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function tu(a){if(Nm[a])return Nm[a];if(!ol[a])return a;var u=ol[a],h;for(h in u)if(u.hasOwnProperty(h)&&h in U_)return Nm[a]=u[h];return a}var V_=tu("animationend"),B_=tu("animationiteration"),q_=tu("animationstart"),VR=tu("transitionrun"),BR=tu("transitionstart"),qR=tu("transitioncancel"),H_=tu("transitionend"),z_=new Map,Dm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dm.push("scrollEnd");function zi(a,u){z_.set(a,u),cn(u,[a])}var lh=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},vi=[],ul=0,Mm=0;function ch(){for(var a=ul,u=Mm=ul=0;u<a;){var h=vi[u];vi[u++]=null;var m=vi[u];vi[u++]=null;var T=vi[u];vi[u++]=null;var S=vi[u];if(vi[u++]=null,m!==null&&T!==null){var B=m.pending;B===null?T.next=T:(T.next=B.next,B.next=T),m.pending=T}S!==0&&G_(h,T,S)}}function fh(a,u,h,m){vi[ul++]=a,vi[ul++]=u,vi[ul++]=h,vi[ul++]=m,Mm|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Pm(a,u,h,m){return fh(a,u,h,m),hh(a)}function nu(a,u){return fh(a,null,null,u),hh(a)}function G_(a,u,h){a.lanes|=h;var m=a.alternate;m!==null&&(m.lanes|=h);for(var T=!1,S=a.return;S!==null;)S.childLanes|=h,m=S.alternate,m!==null&&(m.childLanes|=h),S.tag===22&&(a=S.stateNode,a===null||a._visibility&1||(T=!0)),a=S,S=S.return;return a.tag===3?(S=a.stateNode,T&&u!==null&&(T=31-Tn(h),a=S.hiddenUpdates,m=a[T],m===null?a[T]=[u]:m.push(u),u.lane=h|536870912),S):null}function hh(a){if(50<hf)throw hf=0,zg=null,Error(r(185));for(var u=a.return;u!==null;)a=u,u=a.return;return a.tag===3?a.stateNode:null}var ll={};function HR(a,u,h,m){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(a,u,h,m){return new HR(a,u,h,m)}function Lm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ws(a,u){var h=a.alternate;return h===null?(h=ri(a.tag,u,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=u,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,u=a.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function j_(a,u){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=u,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,u=h.dependencies,a.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),a}function dh(a,u,h,m,T,S){var B=0;if(m=a,typeof a=="function")Lm(a)&&(B=1);else if(typeof a=="string")B=WN(a,h,ee.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case R:return a=ri(31,h,u,T),a.elementType=R,a.lanes=S,a;case b:return ru(h.children,T,S,u);case C:B=8,T|=24;break;case I:return a=ri(12,h,u,T|2),a.elementType=I,a.lanes=S,a;case D:return a=ri(13,h,u,T),a.elementType=D,a.lanes=S,a;case V:return a=ri(19,h,u,T),a.elementType=V,a.lanes=S,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:B=10;break e;case M:B=9;break e;case P:B=11;break e;case N:B=14;break e;case k:B=16,m=null;break e}B=29,h=Error(r(130,a===null?"null":typeof a,"")),m=null}return u=ri(B,h,u,T),u.elementType=a,u.type=m,u.lanes=S,u}function ru(a,u,h,m){return a=ri(7,a,m,u),a.lanes=h,a}function Om(a,u,h){return a=ri(6,a,null,u),a.lanes=h,a}function $_(a){var u=ri(18,null,null,0);return u.stateNode=a,u}function Fm(a,u,h){return u=ri(4,a.children!==null?a.children:[],a.key,u),u.lanes=h,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}var W_=new WeakMap;function _i(a,u){if(typeof a=="object"&&a!==null){var h=W_.get(a);return h!==void 0?h:(u={value:a,source:u,stack:nt(u)},W_.set(a,u),u)}return{value:a,source:u,stack:nt(u)}}var cl=[],fl=0,ph=null,Gc=0,Ti=[],Ei=0,Oa=null,gs=1,xs="";function Ks(a,u){cl[fl++]=Gc,cl[fl++]=ph,ph=a,Gc=u}function K_(a,u,h){Ti[Ei++]=gs,Ti[Ei++]=xs,Ti[Ei++]=Oa,Oa=a;var m=gs;a=xs;var T=32-Tn(m)-1;m&=~(1<<T),h+=1;var S=32-Tn(u)+T;if(30<S){var B=T-T%5;S=(m&(1<<B)-1).toString(32),m>>=B,T-=B,gs=1<<32-Tn(u)+T|h<<T|m,xs=S+a}else gs=1<<S|h<<T|m,xs=a}function Um(a){a.return!==null&&(Ks(a,1),K_(a,1,0))}function Vm(a){for(;a===ph;)ph=cl[--fl],cl[fl]=null,Gc=cl[--fl],cl[fl]=null;for(;a===Oa;)Oa=Ti[--Ei],Ti[Ei]=null,xs=Ti[--Ei],Ti[Ei]=null,gs=Ti[--Ei],Ti[Ei]=null}function Y_(a,u){Ti[Ei++]=gs,Ti[Ei++]=xs,Ti[Ei++]=Oa,gs=u.id,xs=u.overflow,Oa=a}var ir=null,pn=null,Mt=!1,Fa=null,bi=!1,Bm=Error(r(519));function Ua(a){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jc(_i(u,a)),Bm}function X_(a){var u=a.stateNode,h=a.type,m=a.memoizedProps;switch(u[Z]=a,u[te]=m,h){case"dialog":Ct("cancel",u),Ct("close",u);break;case"iframe":case"object":case"embed":Ct("load",u);break;case"video":case"audio":for(h=0;h<pf.length;h++)Ct(pf[h],u);break;case"source":Ct("error",u);break;case"img":case"image":case"link":Ct("error",u),Ct("load",u);break;case"details":Ct("toggle",u);break;case"input":Ct("invalid",u),W0(u,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Ct("invalid",u);break;case"textarea":Ct("invalid",u),ka(u,m.value,m.defaultValue,m.children)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||m.suppressHydrationWarning===!0||dE(u.textContent,h)?(m.popover!=null&&(Ct("beforetoggle",u),Ct("toggle",u)),m.onScroll!=null&&Ct("scroll",u),m.onScrollEnd!=null&&Ct("scrollend",u),m.onClick!=null&&(u.onclick=Ui),u=!0):u=!1,u||Ua(a,!0)}function J_(a){for(ir=a.return;ir;)switch(ir.tag){case 5:case 31:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:ir=ir.return}}function hl(a){if(a!==ir)return!1;if(!Mt)return J_(a),Mt=!0,!1;var u=a.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||i1(a.type,a.memoizedProps)),h=!h),h&&pn&&Ua(a),J_(a),u===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));pn=EE(a)}else if(u===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));pn=EE(a)}else u===27?(u=pn,Qa(a.type)?(a=l1,l1=null,pn=a):pn=u):pn=ir?Si(a.stateNode.nextSibling):null;return!0}function iu(){pn=ir=null,Mt=!1}function qm(){var a=Fa;return a!==null&&(Gr===null?Gr=a:Gr.push.apply(Gr,a),Fa=null),a}function jc(a){Fa===null?Fa=[a]:Fa.push(a)}var Hm=j(null),su=null,Ys=null;function Va(a,u,h){K(Hm,u._currentValue),u._currentValue=h}function Xs(a){a._currentValue=Hm.current,z(Hm)}function zm(a,u,h){for(;a!==null;){var m=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,m!==null&&(m.childLanes|=u)):m!==null&&(m.childLanes&u)!==u&&(m.childLanes|=u),a===h)break;a=a.return}}function Gm(a,u,h,m){var T=a.child;for(T!==null&&(T.return=a);T!==null;){var S=T.dependencies;if(S!==null){var B=T.child;S=S.firstContext;e:for(;S!==null;){var W=S;S=T;for(var oe=0;oe<u.length;oe++)if(W.context===u[oe]){S.lanes|=h,W=S.alternate,W!==null&&(W.lanes|=h),zm(S.return,h,a),m||(B=null);break e}S=W.next}}else if(T.tag===18){if(B=T.return,B===null)throw Error(r(341));B.lanes|=h,S=B.alternate,S!==null&&(S.lanes|=h),zm(B,h,a),B=null}else B=T.child;if(B!==null)B.return=T;else for(B=T;B!==null;){if(B===a){B=null;break}if(T=B.sibling,T!==null){T.return=B.return,B=T;break}B=B.return}T=B}}function dl(a,u,h,m){a=null;for(var T=u,S=!1;T!==null;){if(!S){if((T.flags&524288)!==0)S=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var B=T.alternate;if(B===null)throw Error(r(387));if(B=B.memoizedProps,B!==null){var W=T.type;ni(T.pendingProps.value,B.value)||(a!==null?a.push(W):a=[W])}}else if(T===ke.current){if(B=T.alternate,B===null)throw Error(r(387));B.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(a!==null?a.push(vf):a=[vf])}T=T.return}a!==null&&Gm(u,a,h,m),u.flags|=262144}function mh(a){for(a=a.firstContext;a!==null;){if(!ni(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function au(a){su=a,Ys=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function sr(a){return Q_(su,a)}function gh(a,u){return su===null&&au(a),Q_(a,u)}function Q_(a,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},Ys===null){if(a===null)throw Error(r(308));Ys=u,a.dependencies={lanes:0,firstContext:u},a.flags|=524288}else Ys=Ys.next=u;return h}var zR=typeof AbortController<"u"?AbortController:function(){var a=[],u=this.signal={aborted:!1,addEventListener:function(h,m){a.push(m)}};this.abort=function(){u.aborted=!0,a.forEach(function(h){return h()})}},GR=t.unstable_scheduleCallback,jR=t.unstable_NormalPriority,On={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jm(){return{controller:new zR,data:new Map,refCount:0}}function $c(a){a.refCount--,a.refCount===0&&GR(jR,function(){a.controller.abort()})}var Wc=null,$m=0,pl=0,ml=null;function $R(a,u){if(Wc===null){var h=Wc=[];$m=0,pl=Yg(),ml={status:"pending",value:void 0,then:function(m){h.push(m)}}}return $m++,u.then(Z_,Z_),u}function Z_(){if(--$m===0&&Wc!==null){ml!==null&&(ml.status="fulfilled");var a=Wc;Wc=null,pl=0,ml=null;for(var u=0;u<a.length;u++)(0,a[u])()}}function WR(a,u){var h=[],m={status:"pending",value:null,reason:null,then:function(T){h.push(T)}};return a.then(function(){m.status="fulfilled",m.value=u;for(var T=0;T<h.length;T++)(0,h[T])(u)},function(T){for(m.status="rejected",m.reason=T,T=0;T<h.length;T++)(0,h[T])(void 0)}),m}var e2=se.S;se.S=function(a,u){FT=st(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&$R(a,u),e2!==null&&e2(a,u)};var ou=j(null);function Wm(){var a=ou.current;return a!==null?a:fn.pooledCache}function xh(a,u){u===null?K(ou,ou.current):K(ou,u.pool)}function t2(){var a=Wm();return a===null?null:{parent:On._currentValue,pool:a}}var gl=Error(r(460)),Km=Error(r(474)),yh=Error(r(542)),vh={then:function(){}};function n2(a){return a=a.status,a==="fulfilled"||a==="rejected"}function r2(a,u,h){switch(h=a[h],h===void 0?a.push(u):h!==u&&(u.then(Ui,Ui),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,s2(a),a;default:if(typeof u.status=="string")u.then(Ui,Ui);else{if(a=fn,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=u,a.status="pending",a.then(function(m){if(u.status==="pending"){var T=u;T.status="fulfilled",T.value=m}},function(m){if(u.status==="pending"){var T=u;T.status="rejected",T.reason=m}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,s2(a),a}throw lu=u,gl}}function uu(a){try{var u=a._init;return u(a._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(lu=h,gl):h}}var lu=null;function i2(){if(lu===null)throw Error(r(459));var a=lu;return lu=null,a}function s2(a){if(a===gl||a===yh)throw Error(r(483))}var xl=null,Kc=0;function _h(a){var u=Kc;return Kc+=1,xl===null&&(xl=[]),r2(xl,a,u)}function Yc(a,u){u=u.props.ref,a.ref=u!==void 0?u:null}function Th(a,u){throw u.$$typeof===p?Error(r(525)):(a=Object.prototype.toString.call(u),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a)))}function a2(a){function u(de,le){if(a){var ge=de.deletions;ge===null?(de.deletions=[le],de.flags|=16):ge.push(le)}}function h(de,le){if(!a)return null;for(;le!==null;)u(de,le),le=le.sibling;return null}function m(de){for(var le=new Map;de!==null;)de.key!==null?le.set(de.key,de):le.set(de.index,de),de=de.sibling;return le}function T(de,le){return de=Ws(de,le),de.index=0,de.sibling=null,de}function S(de,le,ge){return de.index=ge,a?(ge=de.alternate,ge!==null?(ge=ge.index,ge<le?(de.flags|=67108866,le):ge):(de.flags|=67108866,le)):(de.flags|=1048576,le)}function B(de){return a&&de.alternate===null&&(de.flags|=67108866),de}function W(de,le,ge,Pe){return le===null||le.tag!==6?(le=Om(ge,de.mode,Pe),le.return=de,le):(le=T(le,ge),le.return=de,le)}function oe(de,le,ge,Pe){var rt=ge.type;return rt===b?Me(de,le,ge.props.children,Pe,ge.key):le!==null&&(le.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===k&&uu(rt)===le.type)?(le=T(le,ge.props),Yc(le,ge),le.return=de,le):(le=dh(ge.type,ge.key,ge.props,null,de.mode,Pe),Yc(le,ge),le.return=de,le)}function ve(de,le,ge,Pe){return le===null||le.tag!==4||le.stateNode.containerInfo!==ge.containerInfo||le.stateNode.implementation!==ge.implementation?(le=Fm(ge,de.mode,Pe),le.return=de,le):(le=T(le,ge.children||[]),le.return=de,le)}function Me(de,le,ge,Pe,rt){return le===null||le.tag!==7?(le=ru(ge,de.mode,Pe,rt),le.return=de,le):(le=T(le,ge),le.return=de,le)}function Oe(de,le,ge){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return le=Om(""+le,de.mode,ge),le.return=de,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case x:return ge=dh(le.type,le.key,le.props,null,de.mode,ge),Yc(ge,le),ge.return=de,ge;case _:return le=Fm(le,de.mode,ge),le.return=de,le;case k:return le=uu(le),Oe(de,le,ge)}if(ae(le)||U(le))return le=ru(le,de.mode,ge,null),le.return=de,le;if(typeof le.then=="function")return Oe(de,_h(le),ge);if(le.$$typeof===A)return Oe(de,gh(de,le),ge);Th(de,le)}return null}function Ee(de,le,ge,Pe){var rt=le!==null?le.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return rt!==null?null:W(de,le,""+ge,Pe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case x:return ge.key===rt?oe(de,le,ge,Pe):null;case _:return ge.key===rt?ve(de,le,ge,Pe):null;case k:return ge=uu(ge),Ee(de,le,ge,Pe)}if(ae(ge)||U(ge))return rt!==null?null:Me(de,le,ge,Pe,null);if(typeof ge.then=="function")return Ee(de,le,_h(ge),Pe);if(ge.$$typeof===A)return Ee(de,le,gh(de,ge),Pe);Th(de,ge)}return null}function Se(de,le,ge,Pe,rt){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return de=de.get(ge)||null,W(le,de,""+Pe,rt);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case x:return de=de.get(Pe.key===null?ge:Pe.key)||null,oe(le,de,Pe,rt);case _:return de=de.get(Pe.key===null?ge:Pe.key)||null,ve(le,de,Pe,rt);case k:return Pe=uu(Pe),Se(de,le,ge,Pe,rt)}if(ae(Pe)||U(Pe))return de=de.get(ge)||null,Me(le,de,Pe,rt,null);if(typeof Pe.then=="function")return Se(de,le,ge,_h(Pe),rt);if(Pe.$$typeof===A)return Se(de,le,ge,gh(le,Pe),rt);Th(le,Pe)}return null}function Qe(de,le,ge,Pe){for(var rt=null,Bt=null,tt=le,Tt=le=0,kt=null;tt!==null&&Tt<ge.length;Tt++){tt.index>Tt?(kt=tt,tt=null):kt=tt.sibling;var qt=Ee(de,tt,ge[Tt],Pe);if(qt===null){tt===null&&(tt=kt);break}a&&tt&&qt.alternate===null&&u(de,tt),le=S(qt,le,Tt),Bt===null?rt=qt:Bt.sibling=qt,Bt=qt,tt=kt}if(Tt===ge.length)return h(de,tt),Mt&&Ks(de,Tt),rt;if(tt===null){for(;Tt<ge.length;Tt++)tt=Oe(de,ge[Tt],Pe),tt!==null&&(le=S(tt,le,Tt),Bt===null?rt=tt:Bt.sibling=tt,Bt=tt);return Mt&&Ks(de,Tt),rt}for(tt=m(tt);Tt<ge.length;Tt++)kt=Se(tt,de,Tt,ge[Tt],Pe),kt!==null&&(a&&kt.alternate!==null&&tt.delete(kt.key===null?Tt:kt.key),le=S(kt,le,Tt),Bt===null?rt=kt:Bt.sibling=kt,Bt=kt);return a&&tt.forEach(function(ro){return u(de,ro)}),Mt&&Ks(de,Tt),rt}function at(de,le,ge,Pe){if(ge==null)throw Error(r(151));for(var rt=null,Bt=null,tt=le,Tt=le=0,kt=null,qt=ge.next();tt!==null&&!qt.done;Tt++,qt=ge.next()){tt.index>Tt?(kt=tt,tt=null):kt=tt.sibling;var ro=Ee(de,tt,qt.value,Pe);if(ro===null){tt===null&&(tt=kt);break}a&&tt&&ro.alternate===null&&u(de,tt),le=S(ro,le,Tt),Bt===null?rt=ro:Bt.sibling=ro,Bt=ro,tt=kt}if(qt.done)return h(de,tt),Mt&&Ks(de,Tt),rt;if(tt===null){for(;!qt.done;Tt++,qt=ge.next())qt=Oe(de,qt.value,Pe),qt!==null&&(le=S(qt,le,Tt),Bt===null?rt=qt:Bt.sibling=qt,Bt=qt);return Mt&&Ks(de,Tt),rt}for(tt=m(tt);!qt.done;Tt++,qt=ge.next())qt=Se(tt,de,Tt,qt.value,Pe),qt!==null&&(a&&qt.alternate!==null&&tt.delete(qt.key===null?Tt:qt.key),le=S(qt,le,Tt),Bt===null?rt=qt:Bt.sibling=qt,Bt=qt);return a&&tt.forEach(function(i8){return u(de,i8)}),Mt&&Ks(de,Tt),rt}function un(de,le,ge,Pe){if(typeof ge=="object"&&ge!==null&&ge.type===b&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case x:e:{for(var rt=ge.key;le!==null;){if(le.key===rt){if(rt=ge.type,rt===b){if(le.tag===7){h(de,le.sibling),Pe=T(le,ge.props.children),Pe.return=de,de=Pe;break e}}else if(le.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===k&&uu(rt)===le.type){h(de,le.sibling),Pe=T(le,ge.props),Yc(Pe,ge),Pe.return=de,de=Pe;break e}h(de,le);break}else u(de,le);le=le.sibling}ge.type===b?(Pe=ru(ge.props.children,de.mode,Pe,ge.key),Pe.return=de,de=Pe):(Pe=dh(ge.type,ge.key,ge.props,null,de.mode,Pe),Yc(Pe,ge),Pe.return=de,de=Pe)}return B(de);case _:e:{for(rt=ge.key;le!==null;){if(le.key===rt)if(le.tag===4&&le.stateNode.containerInfo===ge.containerInfo&&le.stateNode.implementation===ge.implementation){h(de,le.sibling),Pe=T(le,ge.children||[]),Pe.return=de,de=Pe;break e}else{h(de,le);break}else u(de,le);le=le.sibling}Pe=Fm(ge,de.mode,Pe),Pe.return=de,de=Pe}return B(de);case k:return ge=uu(ge),un(de,le,ge,Pe)}if(ae(ge))return Qe(de,le,ge,Pe);if(U(ge)){if(rt=U(ge),typeof rt!="function")throw Error(r(150));return ge=rt.call(ge),at(de,le,ge,Pe)}if(typeof ge.then=="function")return un(de,le,_h(ge),Pe);if(ge.$$typeof===A)return un(de,le,gh(de,ge),Pe);Th(de,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint"?(ge=""+ge,le!==null&&le.tag===6?(h(de,le.sibling),Pe=T(le,ge),Pe.return=de,de=Pe):(h(de,le),Pe=Om(ge,de.mode,Pe),Pe.return=de,de=Pe),B(de)):h(de,le)}return function(de,le,ge,Pe){try{Kc=0;var rt=un(de,le,ge,Pe);return xl=null,rt}catch(tt){if(tt===gl||tt===yh)throw tt;var Bt=ri(29,tt,null,de.mode);return Bt.lanes=Pe,Bt.return=de,Bt}finally{}}}var cu=a2(!0),o2=a2(!1),Ba=!1;function Ym(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xm(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function qa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ha(a,u,h){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(jt&2)!==0){var T=m.pending;return T===null?u.next=u:(u.next=T.next,T.next=u),m.pending=u,u=hh(a),G_(a,null,h),u}return fh(a,m,u,h),hh(a)}function Xc(a,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var m=u.lanes;m&=a.pendingLanes,h|=m,u.lanes=h,Hs(a,h)}}function Jm(a,u){var h=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var T=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var B={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};S===null?T=S=B:S=S.next=B,h=h.next}while(h!==null);S===null?T=S=u:S=S.next=u}else T=S=u;h={baseState:m.baseState,firstBaseUpdate:T,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=u}var Qm=!1;function Jc(){if(Qm){var a=ml;if(a!==null)throw a}}function Qc(a,u,h,m){Qm=!1;var T=a.updateQueue;Ba=!1;var S=T.firstBaseUpdate,B=T.lastBaseUpdate,W=T.shared.pending;if(W!==null){T.shared.pending=null;var oe=W,ve=oe.next;oe.next=null,B===null?S=ve:B.next=ve,B=oe;var Me=a.alternate;Me!==null&&(Me=Me.updateQueue,W=Me.lastBaseUpdate,W!==B&&(W===null?Me.firstBaseUpdate=ve:W.next=ve,Me.lastBaseUpdate=oe))}if(S!==null){var Oe=T.baseState;B=0,Me=ve=oe=null,W=S;do{var Ee=W.lane&-536870913,Se=Ee!==W.lane;if(Se?(It&Ee)===Ee:(m&Ee)===Ee){Ee!==0&&Ee===pl&&(Qm=!0),Me!==null&&(Me=Me.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var Qe=a,at=W;Ee=u;var un=h;switch(at.tag){case 1:if(Qe=at.payload,typeof Qe=="function"){Oe=Qe.call(un,Oe,Ee);break e}Oe=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=at.payload,Ee=typeof Qe=="function"?Qe.call(un,Oe,Ee):Qe,Ee==null)break e;Oe=g({},Oe,Ee);break e;case 2:Ba=!0}}Ee=W.callback,Ee!==null&&(a.flags|=64,Se&&(a.flags|=8192),Se=T.callbacks,Se===null?T.callbacks=[Ee]:Se.push(Ee))}else Se={lane:Ee,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Me===null?(ve=Me=Se,oe=Oe):Me=Me.next=Se,B|=Ee;if(W=W.next,W===null){if(W=T.shared.pending,W===null)break;Se=W,W=Se.next,Se.next=null,T.lastBaseUpdate=Se,T.shared.pending=null}}while(!0);Me===null&&(oe=Oe),T.baseState=oe,T.firstBaseUpdate=ve,T.lastBaseUpdate=Me,S===null&&(T.shared.lanes=0),Wa|=B,a.lanes=B,a.memoizedState=Oe}}function u2(a,u){if(typeof a!="function")throw Error(r(191,a));a.call(u)}function l2(a,u){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)u2(h[a],u)}var yl=j(null),Eh=j(0);function c2(a,u){a=sa,K(Eh,a),K(yl,u),sa=a|u.baseLanes}function Zm(){K(Eh,sa),K(yl,yl.current)}function eg(){sa=Eh.current,z(yl),z(Eh)}var ii=j(null),wi=null;function za(a){var u=a.alternate;K(Rn,Rn.current&1),K(ii,a),wi===null&&(u===null||yl.current!==null||u.memoizedState!==null)&&(wi=a)}function tg(a){K(Rn,Rn.current),K(ii,a),wi===null&&(wi=a)}function f2(a){a.tag===22?(K(Rn,Rn.current),K(ii,a),wi===null&&(wi=a)):Ga()}function Ga(){K(Rn,Rn.current),K(ii,ii.current)}function si(a){z(ii),wi===a&&(wi=null),z(Rn)}var Rn=j(0);function bh(a){for(var u=a;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||o1(h)||u1(h)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Js=0,vt=null,an=null,Fn=null,wh=!1,vl=!1,fu=!1,Sh=0,Zc=0,_l=null,KR=0;function wn(){throw Error(r(321))}function ng(a,u){if(u===null)return!1;for(var h=0;h<u.length&&h<a.length;h++)if(!ni(a[h],u[h]))return!1;return!0}function rg(a,u,h,m,T,S){return Js=S,vt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,se.H=a===null||a.memoizedState===null?K2:yg,fu=!1,S=h(m,T),fu=!1,vl&&(S=d2(u,h,m,T)),h2(a),S}function h2(a){se.H=nf;var u=an!==null&&an.next!==null;if(Js=0,Fn=an=vt=null,wh=!1,Zc=0,_l=null,u)throw Error(r(300));a===null||Un||(a=a.dependencies,a!==null&&mh(a)&&(Un=!0))}function d2(a,u,h,m){vt=a;var T=0;do{if(vl&&(_l=null),Zc=0,vl=!1,25<=T)throw Error(r(301));if(T+=1,Fn=an=null,a.updateQueue!=null){var S=a.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}se.H=Y2,S=u(h,m)}while(vl);return S}function YR(){var a=se.H,u=a.useState()[0];return u=typeof u.then=="function"?ef(u):u,a=a.useState()[0],(an!==null?an.memoizedState:null)!==a&&(vt.flags|=1024),u}function ig(){var a=Sh!==0;return Sh=0,a}function sg(a,u,h){u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~h}function ag(a){if(wh){for(a=a.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}wh=!1}Js=0,Fn=an=vt=null,vl=!1,Zc=Sh=0,_l=null}function Dr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?vt.memoizedState=Fn=a:Fn=Fn.next=a,Fn}function Nn(){if(an===null){var a=vt.alternate;a=a!==null?a.memoizedState:null}else a=an.next;var u=Fn===null?vt.memoizedState:Fn.next;if(u!==null)Fn=u,an=a;else{if(a===null)throw vt.alternate===null?Error(r(467)):Error(r(310));an=a,a={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},Fn===null?vt.memoizedState=Fn=a:Fn=Fn.next=a}return Fn}function Ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ef(a){var u=Zc;return Zc+=1,_l===null&&(_l=[]),a=r2(_l,a,u),u=vt,(Fn===null?u.memoizedState:Fn.next)===null&&(u=u.alternate,se.H=u===null||u.memoizedState===null?K2:yg),a}function Ch(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return ef(a);if(a.$$typeof===A)return sr(a)}throw Error(r(438,String(a)))}function og(a){var u=null,h=vt.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var m=vt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(u={data:m.data.map(function(T){return T.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=Ah(),vt.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(a),m=0;m<a;m++)h[m]=O;return u.index++,h}function Qs(a,u){return typeof u=="function"?u(a):u}function Ih(a){var u=Nn();return ug(u,an,a)}function ug(a,u,h){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=h;var T=a.baseQueue,S=m.pending;if(S!==null){if(T!==null){var B=T.next;T.next=S.next,S.next=B}u.baseQueue=T=S,m.pending=null}if(S=a.baseState,T===null)a.memoizedState=S;else{u=T.next;var W=B=null,oe=null,ve=u,Me=!1;do{var Oe=ve.lane&-536870913;if(Oe!==ve.lane?(It&Oe)===Oe:(Js&Oe)===Oe){var Ee=ve.revertLane;if(Ee===0)oe!==null&&(oe=oe.next={lane:0,revertLane:0,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),Oe===pl&&(Me=!0);else if((Js&Ee)===Ee){ve=ve.next,Ee===pl&&(Me=!0);continue}else Oe={lane:0,revertLane:ve.revertLane,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},oe===null?(W=oe=Oe,B=S):oe=oe.next=Oe,vt.lanes|=Ee,Wa|=Ee;Oe=ve.action,fu&&h(S,Oe),S=ve.hasEagerState?ve.eagerState:h(S,Oe)}else Ee={lane:Oe,revertLane:ve.revertLane,gesture:ve.gesture,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},oe===null?(W=oe=Ee,B=S):oe=oe.next=Ee,vt.lanes|=Oe,Wa|=Oe;ve=ve.next}while(ve!==null&&ve!==u);if(oe===null?B=S:oe.next=W,!ni(S,a.memoizedState)&&(Un=!0,Me&&(h=ml,h!==null)))throw h;a.memoizedState=S,a.baseState=B,a.baseQueue=oe,m.lastRenderedState=S}return T===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function lg(a){var u=Nn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=a;var m=h.dispatch,T=h.pending,S=u.memoizedState;if(T!==null){h.pending=null;var B=T=T.next;do S=a(S,B.action),B=B.next;while(B!==T);ni(S,u.memoizedState)||(Un=!0),u.memoizedState=S,u.baseQueue===null&&(u.baseState=S),h.lastRenderedState=S}return[S,m]}function p2(a,u,h){var m=vt,T=Nn(),S=Mt;if(S){if(h===void 0)throw Error(r(407));h=h()}else h=u();var B=!ni((an||T).memoizedState,h);if(B&&(T.memoizedState=h,Un=!0),T=T.queue,hg(x2.bind(null,m,T,a),[a]),T.getSnapshot!==u||B||Fn!==null&&Fn.memoizedState.tag&1){if(m.flags|=2048,Tl(9,{destroy:void 0},g2.bind(null,m,T,h,u),null),fn===null)throw Error(r(349));S||(Js&127)!==0||m2(m,u,h)}return h}function m2(a,u,h){a.flags|=16384,a={getSnapshot:u,value:h},u=vt.updateQueue,u===null?(u=Ah(),vt.updateQueue=u,u.stores=[a]):(h=u.stores,h===null?u.stores=[a]:h.push(a))}function g2(a,u,h,m){u.value=h,u.getSnapshot=m,y2(u)&&v2(a)}function x2(a,u,h){return h(function(){y2(u)&&v2(a)})}function y2(a){var u=a.getSnapshot;a=a.value;try{var h=u();return!ni(a,h)}catch{return!0}}function v2(a){var u=nu(a,2);u!==null&&jr(u,a,2)}function cg(a){var u=Dr();if(typeof a=="function"){var h=a;if(a=h(),fu){kr(!0);try{h()}finally{kr(!1)}}}return u.memoizedState=u.baseState=a,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:a},u}function _2(a,u,h,m){return a.baseState=h,ug(a,an,typeof m=="function"?m:Qs)}function XR(a,u,h,m,T){if(Nh(a))throw Error(r(485));if(a=u.action,a!==null){var S={payload:T,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){S.listeners.push(B)}};se.T!==null?h(!0):S.isTransition=!1,m(S),h=u.pending,h===null?(S.next=u.pending=S,T2(u,S)):(S.next=h.next,u.pending=h.next=S)}}function T2(a,u){var h=u.action,m=u.payload,T=a.state;if(u.isTransition){var S=se.T,B={};se.T=B;try{var W=h(T,m),oe=se.S;oe!==null&&oe(B,W),E2(a,u,W)}catch(ve){fg(a,u,ve)}finally{S!==null&&B.types!==null&&(S.types=B.types),se.T=S}}else try{S=h(T,m),E2(a,u,S)}catch(ve){fg(a,u,ve)}}function E2(a,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){b2(a,u,m)},function(m){return fg(a,u,m)}):b2(a,u,h)}function b2(a,u,h){u.status="fulfilled",u.value=h,w2(u),a.state=h,u=a.pending,u!==null&&(h=u.next,h===u?a.pending=null:(h=h.next,u.next=h,T2(a,h)))}function fg(a,u,h){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do u.status="rejected",u.reason=h,w2(u),u=u.next;while(u!==m)}a.action=null}function w2(a){a=a.listeners;for(var u=0;u<a.length;u++)(0,a[u])()}function S2(a,u){return u}function A2(a,u){if(Mt){var h=fn.formState;if(h!==null){e:{var m=vt;if(Mt){if(pn){t:{for(var T=pn,S=bi;T.nodeType!==8;){if(!S){T=null;break t}if(T=Si(T.nextSibling),T===null){T=null;break t}}S=T.data,T=S==="F!"||S==="F"?T:null}if(T){pn=Si(T.nextSibling),m=T.data==="F!";break e}}Ua(m)}m=!1}m&&(u=h[0])}}return h=Dr(),h.memoizedState=h.baseState=u,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:S2,lastRenderedState:u},h.queue=m,h=j2.bind(null,vt,m),m.dispatch=h,m=cg(!1),S=xg.bind(null,vt,!1,m.queue),m=Dr(),T={state:u,dispatch:null,action:a,pending:null},m.queue=T,h=XR.bind(null,vt,T,S,h),T.dispatch=h,m.memoizedState=a,[u,h,!1]}function C2(a){var u=Nn();return I2(u,an,a)}function I2(a,u,h){if(u=ug(a,u,S2)[0],a=Ih(Qs)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var m=ef(u)}catch(B){throw B===gl?yh:B}else m=u;u=Nn();var T=u.queue,S=T.dispatch;return h!==u.memoizedState&&(vt.flags|=2048,Tl(9,{destroy:void 0},JR.bind(null,T,h),null)),[m,S,a]}function JR(a,u){a.action=u}function k2(a){var u=Nn(),h=an;if(h!==null)return I2(u,h,a);Nn(),u=u.memoizedState,h=Nn();var m=h.queue.dispatch;return h.memoizedState=a,[u,m,!1]}function Tl(a,u,h,m){return a={tag:a,create:h,deps:m,inst:u,next:null},u=vt.updateQueue,u===null&&(u=Ah(),vt.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=a.next=a:(m=h.next,h.next=a,a.next=m,u.lastEffect=a),a}function R2(){return Nn().memoizedState}function kh(a,u,h,m){var T=Dr();vt.flags|=a,T.memoizedState=Tl(1|u,{destroy:void 0},h,m===void 0?null:m)}function Rh(a,u,h,m){var T=Nn();m=m===void 0?null:m;var S=T.memoizedState.inst;an!==null&&m!==null&&ng(m,an.memoizedState.deps)?T.memoizedState=Tl(u,S,h,m):(vt.flags|=a,T.memoizedState=Tl(1|u,S,h,m))}function N2(a,u){kh(8390656,8,a,u)}function hg(a,u){Rh(2048,8,a,u)}function QR(a){vt.flags|=4;var u=vt.updateQueue;if(u===null)u=Ah(),vt.updateQueue=u,u.events=[a];else{var h=u.events;h===null?u.events=[a]:h.push(a)}}function D2(a){var u=Nn().memoizedState;return QR({ref:u,nextImpl:a}),function(){if((jt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function M2(a,u){return Rh(4,2,a,u)}function P2(a,u){return Rh(4,4,a,u)}function L2(a,u){if(typeof u=="function"){a=a();var h=u(a);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function O2(a,u,h){h=h!=null?h.concat([a]):null,Rh(4,4,L2.bind(null,u,a),h)}function dg(){}function F2(a,u){var h=Nn();u=u===void 0?null:u;var m=h.memoizedState;return u!==null&&ng(u,m[1])?m[0]:(h.memoizedState=[a,u],a)}function U2(a,u){var h=Nn();u=u===void 0?null:u;var m=h.memoizedState;if(u!==null&&ng(u,m[1]))return m[0];if(m=a(),fu){kr(!0);try{a()}finally{kr(!1)}}return h.memoizedState=[m,u],m}function pg(a,u,h){return h===void 0||(Js&1073741824)!==0&&(It&261930)===0?a.memoizedState=u:(a.memoizedState=h,a=VT(),vt.lanes|=a,Wa|=a,h)}function V2(a,u,h,m){return ni(h,u)?h:yl.current!==null?(a=pg(a,h,m),ni(a,u)||(Un=!0),a):(Js&42)===0||(Js&1073741824)!==0&&(It&261930)===0?(Un=!0,a.memoizedState=h):(a=VT(),vt.lanes|=a,Wa|=a,u)}function B2(a,u,h,m,T){var S=ue.p;ue.p=S!==0&&8>S?S:8;var B=se.T,W={};se.T=W,xg(a,!1,u,h);try{var oe=T(),ve=se.S;if(ve!==null&&ve(W,oe),oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var Me=WR(oe,m);tf(a,u,Me,ui(a))}else tf(a,u,m,ui(a))}catch(Oe){tf(a,u,{then:function(){},status:"rejected",reason:Oe},ui())}finally{ue.p=S,B!==null&&W.types!==null&&(B.types=W.types),se.T=B}}function ZR(){}function mg(a,u,h,m){if(a.tag!==5)throw Error(r(476));var T=q2(a).queue;B2(a,T,u,Ce,h===null?ZR:function(){return H2(a),h(m)})}function q2(a){var u=a.memoizedState;if(u!==null)return u;u={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:Ce},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:h},next:null},a.memoizedState=u,a=a.alternate,a!==null&&(a.memoizedState=u),u}function H2(a){var u=q2(a);u.next===null&&(u=a.alternate.memoizedState),tf(a,u.next.queue,{},ui())}function gg(){return sr(vf)}function z2(){return Nn().memoizedState}function G2(){return Nn().memoizedState}function eN(a){for(var u=a.return;u!==null;){switch(u.tag){case 24:case 3:var h=ui();a=qa(h);var m=Ha(u,a,h);m!==null&&(jr(m,u,h),Xc(m,u,h)),u={cache:jm()},a.payload=u;return}u=u.return}}function tN(a,u,h){var m=ui();h={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Nh(a)?$2(u,h):(h=Pm(a,u,h,m),h!==null&&(jr(h,a,m),W2(h,u,m)))}function j2(a,u,h){var m=ui();tf(a,u,h,m)}function tf(a,u,h,m){var T={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Nh(a))$2(u,T);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=u.lastRenderedReducer,S!==null))try{var B=u.lastRenderedState,W=S(B,h);if(T.hasEagerState=!0,T.eagerState=W,ni(W,B))return fh(a,u,T,0),fn===null&&ch(),!1}catch{}finally{}if(h=Pm(a,u,T,m),h!==null)return jr(h,a,m),W2(h,u,m),!0}return!1}function xg(a,u,h,m){if(m={lane:2,revertLane:Yg(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Nh(a)){if(u)throw Error(r(479))}else u=Pm(a,h,m,2),u!==null&&jr(u,a,2)}function Nh(a){var u=a.alternate;return a===vt||u!==null&&u===vt}function $2(a,u){vl=wh=!0;var h=a.pending;h===null?u.next=u:(u.next=h.next,h.next=u),a.pending=u}function W2(a,u,h){if((h&4194048)!==0){var m=u.lanes;m&=a.pendingLanes,h|=m,u.lanes=h,Hs(a,h)}}var nf={readContext:sr,use:Ch,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useLayoutEffect:wn,useInsertionEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useSyncExternalStore:wn,useId:wn,useHostTransitionStatus:wn,useFormState:wn,useActionState:wn,useOptimistic:wn,useMemoCache:wn,useCacheRefresh:wn};nf.useEffectEvent=wn;var K2={readContext:sr,use:Ch,useCallback:function(a,u){return Dr().memoizedState=[a,u===void 0?null:u],a},useContext:sr,useEffect:N2,useImperativeHandle:function(a,u,h){h=h!=null?h.concat([a]):null,kh(4194308,4,L2.bind(null,u,a),h)},useLayoutEffect:function(a,u){return kh(4194308,4,a,u)},useInsertionEffect:function(a,u){kh(4,2,a,u)},useMemo:function(a,u){var h=Dr();u=u===void 0?null:u;var m=a();if(fu){kr(!0);try{a()}finally{kr(!1)}}return h.memoizedState=[m,u],m},useReducer:function(a,u,h){var m=Dr();if(h!==void 0){var T=h(u);if(fu){kr(!0);try{h(u)}finally{kr(!1)}}}else T=u;return m.memoizedState=m.baseState=T,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:T},m.queue=a,a=a.dispatch=tN.bind(null,vt,a),[m.memoizedState,a]},useRef:function(a){var u=Dr();return a={current:a},u.memoizedState=a},useState:function(a){a=cg(a);var u=a.queue,h=j2.bind(null,vt,u);return u.dispatch=h,[a.memoizedState,h]},useDebugValue:dg,useDeferredValue:function(a,u){var h=Dr();return pg(h,a,u)},useTransition:function(){var a=cg(!1);return a=B2.bind(null,vt,a.queue,!0,!1),Dr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,u,h){var m=vt,T=Dr();if(Mt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),fn===null)throw Error(r(349));(It&127)!==0||m2(m,u,h)}T.memoizedState=h;var S={value:h,getSnapshot:u};return T.queue=S,N2(x2.bind(null,m,S,a),[a]),m.flags|=2048,Tl(9,{destroy:void 0},g2.bind(null,m,S,h,u),null),h},useId:function(){var a=Dr(),u=fn.identifierPrefix;if(Mt){var h=xs,m=gs;h=(m&~(1<<32-Tn(m)-1)).toString(32)+h,u="_"+u+"R_"+h,h=Sh++,0<h&&(u+="H"+h.toString(32)),u+="_"}else h=KR++,u="_"+u+"r_"+h.toString(32)+"_";return a.memoizedState=u},useHostTransitionStatus:gg,useFormState:A2,useActionState:A2,useOptimistic:function(a){var u=Dr();u.memoizedState=u.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=xg.bind(null,vt,!0,h),h.dispatch=u,[a,u]},useMemoCache:og,useCacheRefresh:function(){return Dr().memoizedState=eN.bind(null,vt)},useEffectEvent:function(a){var u=Dr(),h={impl:a};return u.memoizedState=h,function(){if((jt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},yg={readContext:sr,use:Ch,useCallback:F2,useContext:sr,useEffect:hg,useImperativeHandle:O2,useInsertionEffect:M2,useLayoutEffect:P2,useMemo:U2,useReducer:Ih,useRef:R2,useState:function(){return Ih(Qs)},useDebugValue:dg,useDeferredValue:function(a,u){var h=Nn();return V2(h,an.memoizedState,a,u)},useTransition:function(){var a=Ih(Qs)[0],u=Nn().memoizedState;return[typeof a=="boolean"?a:ef(a),u]},useSyncExternalStore:p2,useId:z2,useHostTransitionStatus:gg,useFormState:C2,useActionState:C2,useOptimistic:function(a,u){var h=Nn();return _2(h,an,a,u)},useMemoCache:og,useCacheRefresh:G2};yg.useEffectEvent=D2;var Y2={readContext:sr,use:Ch,useCallback:F2,useContext:sr,useEffect:hg,useImperativeHandle:O2,useInsertionEffect:M2,useLayoutEffect:P2,useMemo:U2,useReducer:lg,useRef:R2,useState:function(){return lg(Qs)},useDebugValue:dg,useDeferredValue:function(a,u){var h=Nn();return an===null?pg(h,a,u):V2(h,an.memoizedState,a,u)},useTransition:function(){var a=lg(Qs)[0],u=Nn().memoizedState;return[typeof a=="boolean"?a:ef(a),u]},useSyncExternalStore:p2,useId:z2,useHostTransitionStatus:gg,useFormState:k2,useActionState:k2,useOptimistic:function(a,u){var h=Nn();return an!==null?_2(h,an,a,u):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:og,useCacheRefresh:G2};Y2.useEffectEvent=D2;function vg(a,u,h,m){u=a.memoizedState,h=h(m,u),h=h==null?u:g({},u,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var _g={enqueueSetState:function(a,u,h){a=a._reactInternals;var m=ui(),T=qa(m);T.payload=u,h!=null&&(T.callback=h),u=Ha(a,T,m),u!==null&&(jr(u,a,m),Xc(u,a,m))},enqueueReplaceState:function(a,u,h){a=a._reactInternals;var m=ui(),T=qa(m);T.tag=1,T.payload=u,h!=null&&(T.callback=h),u=Ha(a,T,m),u!==null&&(jr(u,a,m),Xc(u,a,m))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var h=ui(),m=qa(h);m.tag=2,u!=null&&(m.callback=u),u=Ha(a,m,h),u!==null&&(jr(u,a,h),Xc(u,a,h))}};function X2(a,u,h,m,T,S,B){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,S,B):u.prototype&&u.prototype.isPureReactComponent?!Hc(h,m)||!Hc(T,S):!0}function J2(a,u,h,m){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,m),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,m),u.state!==a&&_g.enqueueReplaceState(u,u.state,null)}function hu(a,u){var h=u;if("ref"in u){h={};for(var m in u)m!=="ref"&&(h[m]=u[m])}if(a=a.defaultProps){h===u&&(h=g({},h));for(var T in a)h[T]===void 0&&(h[T]=a[T])}return h}function Q2(a){lh(a)}function Z2(a){console.error(a)}function eT(a){lh(a)}function Dh(a,u){try{var h=a.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(m){setTimeout(function(){throw m})}}function tT(a,u,h){try{var m=a.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Tg(a,u,h){return h=qa(h),h.tag=3,h.payload={element:null},h.callback=function(){Dh(a,u)},h}function nT(a){return a=qa(a),a.tag=3,a}function rT(a,u,h,m){var T=h.type.getDerivedStateFromError;if(typeof T=="function"){var S=m.value;a.payload=function(){return T(S)},a.callback=function(){tT(u,h,m)}}var B=h.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(a.callback=function(){tT(u,h,m),typeof T!="function"&&(Ka===null?Ka=new Set([this]):Ka.add(this));var W=m.stack;this.componentDidCatch(m.value,{componentStack:W!==null?W:""})})}function nN(a,u,h,m,T){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(u=h.alternate,u!==null&&dl(u,h,T,!0),h=ii.current,h!==null){switch(h.tag){case 31:case 13:return wi===null?Gh():h.alternate===null&&Sn===0&&(Sn=3),h.flags&=-257,h.flags|=65536,h.lanes=T,m===vh?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([m]):u.add(m),$g(a,m,T)),!1;case 22:return h.flags|=65536,m===vh?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([m]):h.add(m)),$g(a,m,T)),!1}throw Error(r(435,h.tag))}return $g(a,m,T),Gh(),!1}if(Mt)return u=ii.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=T,m!==Bm&&(a=Error(r(422),{cause:m}),jc(_i(a,h)))):(m!==Bm&&(u=Error(r(423),{cause:m}),jc(_i(u,h))),a=a.current.alternate,a.flags|=65536,T&=-T,a.lanes|=T,m=_i(m,h),T=Tg(a.stateNode,m,T),Jm(a,T),Sn!==4&&(Sn=2)),!1;var S=Error(r(520),{cause:m});if(S=_i(S,h),ff===null?ff=[S]:ff.push(S),Sn!==4&&(Sn=2),u===null)return!0;m=_i(m,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,a=T&-T,h.lanes|=a,a=Tg(h.stateNode,m,a),Jm(h,a),!1;case 1:if(u=h.type,S=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ka===null||!Ka.has(S))))return h.flags|=65536,T&=-T,h.lanes|=T,T=nT(T),rT(T,a,h,m),Jm(h,T),!1}h=h.return}while(h!==null);return!1}var Eg=Error(r(461)),Un=!1;function ar(a,u,h,m){u.child=a===null?o2(u,null,h,m):cu(u,a.child,h,m)}function iT(a,u,h,m,T){h=h.render;var S=u.ref;if("ref"in m){var B={};for(var W in m)W!=="ref"&&(B[W]=m[W])}else B=m;return au(u),m=rg(a,u,h,B,S,T),W=ig(),a!==null&&!Un?(sg(a,u,T),Zs(a,u,T)):(Mt&&W&&Um(u),u.flags|=1,ar(a,u,m,T),u.child)}function sT(a,u,h,m,T){if(a===null){var S=h.type;return typeof S=="function"&&!Lm(S)&&S.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=S,aT(a,u,S,m,T)):(a=dh(h.type,null,m,u,u.mode,T),a.ref=u.ref,a.return=u,u.child=a)}if(S=a.child,!Rg(a,T)){var B=S.memoizedProps;if(h=h.compare,h=h!==null?h:Hc,h(B,m)&&a.ref===u.ref)return Zs(a,u,T)}return u.flags|=1,a=Ws(S,m),a.ref=u.ref,a.return=u,u.child=a}function aT(a,u,h,m,T){if(a!==null){var S=a.memoizedProps;if(Hc(S,m)&&a.ref===u.ref)if(Un=!1,u.pendingProps=m=S,Rg(a,T))(a.flags&131072)!==0&&(Un=!0);else return u.lanes=a.lanes,Zs(a,u,T)}return bg(a,u,h,m,T)}function oT(a,u,h,m){var T=m.children,S=a!==null?a.memoizedState:null;if(a===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((u.flags&128)!==0){if(S=S!==null?S.baseLanes|h:h,a!==null){for(m=u.child=a.child,T=0;m!==null;)T=T|m.lanes|m.childLanes,m=m.sibling;m=T&~S}else m=0,u.child=null;return uT(a,u,S,h,m)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},a!==null&&xh(u,S!==null?S.cachePool:null),S!==null?c2(u,S):Zm(),f2(u);else return m=u.lanes=536870912,uT(a,u,S!==null?S.baseLanes|h:h,h,m)}else S!==null?(xh(u,S.cachePool),c2(u,S),Ga(),u.memoizedState=null):(a!==null&&xh(u,null),Zm(),Ga());return ar(a,u,T,h),u.child}function rf(a,u){return a!==null&&a.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function uT(a,u,h,m,T){var S=Wm();return S=S===null?null:{parent:On._currentValue,pool:S},u.memoizedState={baseLanes:h,cachePool:S},a!==null&&xh(u,null),Zm(),f2(u),a!==null&&dl(a,u,m,!0),u.childLanes=T,null}function Mh(a,u){return u=Lh({mode:u.mode,children:u.children},a.mode),u.ref=a.ref,a.child=u,u.return=a,u}function lT(a,u,h){return cu(u,a.child,null,h),a=Mh(u,u.pendingProps),a.flags|=2,si(u),u.memoizedState=null,a}function rN(a,u,h){var m=u.pendingProps,T=(u.flags&128)!==0;if(u.flags&=-129,a===null){if(Mt){if(m.mode==="hidden")return a=Mh(u,m),u.lanes=536870912,rf(null,a);if(tg(u),(a=pn)?(a=TE(a,bi),a=a!==null&&a.data==="&"?a:null,a!==null&&(u.memoizedState={dehydrated:a,treeContext:Oa!==null?{id:gs,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},h=$_(a),h.return=u,u.child=h,ir=u,pn=null)):a=null,a===null)throw Ua(u);return u.lanes=536870912,null}return Mh(u,m)}var S=a.memoizedState;if(S!==null){var B=S.dehydrated;if(tg(u),T)if(u.flags&256)u.flags&=-257,u=lT(a,u,h);else if(u.memoizedState!==null)u.child=a.child,u.flags|=128,u=null;else throw Error(r(558));else if(Un||dl(a,u,h,!1),T=(h&a.childLanes)!==0,Un||T){if(m=fn,m!==null&&(B=Go(m,h),B!==0&&B!==S.retryLane))throw S.retryLane=B,nu(a,B),jr(m,a,B),Eg;Gh(),u=lT(a,u,h)}else a=S.treeContext,pn=Si(B.nextSibling),ir=u,Mt=!0,Fa=null,bi=!1,a!==null&&Y_(u,a),u=Mh(u,m),u.flags|=4096;return u}return a=Ws(a.child,{mode:m.mode,children:m.children}),a.ref=u.ref,u.child=a,a.return=u,a}function Ph(a,u){var h=u.ref;if(h===null)a!==null&&a.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(a===null||a.ref!==h)&&(u.flags|=4194816)}}function bg(a,u,h,m,T){return au(u),h=rg(a,u,h,m,void 0,T),m=ig(),a!==null&&!Un?(sg(a,u,T),Zs(a,u,T)):(Mt&&m&&Um(u),u.flags|=1,ar(a,u,h,T),u.child)}function cT(a,u,h,m,T,S){return au(u),u.updateQueue=null,h=d2(u,m,h,T),h2(a),m=ig(),a!==null&&!Un?(sg(a,u,S),Zs(a,u,S)):(Mt&&m&&Um(u),u.flags|=1,ar(a,u,h,S),u.child)}function fT(a,u,h,m,T){if(au(u),u.stateNode===null){var S=ll,B=h.contextType;typeof B=="object"&&B!==null&&(S=sr(B)),S=new h(m,S),u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=_g,u.stateNode=S,S._reactInternals=u,S=u.stateNode,S.props=m,S.state=u.memoizedState,S.refs={},Ym(u),B=h.contextType,S.context=typeof B=="object"&&B!==null?sr(B):ll,S.state=u.memoizedState,B=h.getDerivedStateFromProps,typeof B=="function"&&(vg(u,h,B,m),S.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(B=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),B!==S.state&&_g.enqueueReplaceState(S,S.state,null),Qc(u,m,S,T),Jc(),S.state=u.memoizedState),typeof S.componentDidMount=="function"&&(u.flags|=4194308),m=!0}else if(a===null){S=u.stateNode;var W=u.memoizedProps,oe=hu(h,W);S.props=oe;var ve=S.context,Me=h.contextType;B=ll,typeof Me=="object"&&Me!==null&&(B=sr(Me));var Oe=h.getDerivedStateFromProps;Me=typeof Oe=="function"||typeof S.getSnapshotBeforeUpdate=="function",W=u.pendingProps!==W,Me||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(W||ve!==B)&&J2(u,S,m,B),Ba=!1;var Ee=u.memoizedState;S.state=Ee,Qc(u,m,S,T),Jc(),ve=u.memoizedState,W||Ee!==ve||Ba?(typeof Oe=="function"&&(vg(u,h,Oe,m),ve=u.memoizedState),(oe=Ba||X2(u,h,oe,m,Ee,ve,B))?(Me||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(u.flags|=4194308)):(typeof S.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=m,u.memoizedState=ve),S.props=m,S.state=ve,S.context=B,m=oe):(typeof S.componentDidMount=="function"&&(u.flags|=4194308),m=!1)}else{S=u.stateNode,Xm(a,u),B=u.memoizedProps,Me=hu(h,B),S.props=Me,Oe=u.pendingProps,Ee=S.context,ve=h.contextType,oe=ll,typeof ve=="object"&&ve!==null&&(oe=sr(ve)),W=h.getDerivedStateFromProps,(ve=typeof W=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(B!==Oe||Ee!==oe)&&J2(u,S,m,oe),Ba=!1,Ee=u.memoizedState,S.state=Ee,Qc(u,m,S,T),Jc();var Se=u.memoizedState;B!==Oe||Ee!==Se||Ba||a!==null&&a.dependencies!==null&&mh(a.dependencies)?(typeof W=="function"&&(vg(u,h,W,m),Se=u.memoizedState),(Me=Ba||X2(u,h,Me,m,Ee,Se,oe)||a!==null&&a.dependencies!==null&&mh(a.dependencies))?(ve||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,Se,oe),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,Se,oe)),typeof S.componentDidUpdate=="function"&&(u.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof S.componentDidUpdate!="function"||B===a.memoizedProps&&Ee===a.memoizedState||(u.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&Ee===a.memoizedState||(u.flags|=1024),u.memoizedProps=m,u.memoizedState=Se),S.props=m,S.state=Se,S.context=oe,m=Me):(typeof S.componentDidUpdate!="function"||B===a.memoizedProps&&Ee===a.memoizedState||(u.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&Ee===a.memoizedState||(u.flags|=1024),m=!1)}return S=m,Ph(a,u),m=(u.flags&128)!==0,S||m?(S=u.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:S.render(),u.flags|=1,a!==null&&m?(u.child=cu(u,a.child,null,T),u.child=cu(u,null,h,T)):ar(a,u,h,T),u.memoizedState=S.state,a=u.child):a=Zs(a,u,T),a}function hT(a,u,h,m){return iu(),u.flags|=256,ar(a,u,h,m),u.child}var wg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sg(a){return{baseLanes:a,cachePool:t2()}}function Ag(a,u,h){return a=a!==null?a.childLanes&~h:0,u&&(a|=oi),a}function dT(a,u,h){var m=u.pendingProps,T=!1,S=(u.flags&128)!==0,B;if((B=S)||(B=a!==null&&a.memoizedState===null?!1:(Rn.current&2)!==0),B&&(T=!0,u.flags&=-129),B=(u.flags&32)!==0,u.flags&=-33,a===null){if(Mt){if(T?za(u):Ga(),(a=pn)?(a=TE(a,bi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(u.memoizedState={dehydrated:a,treeContext:Oa!==null?{id:gs,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},h=$_(a),h.return=u,u.child=h,ir=u,pn=null)):a=null,a===null)throw Ua(u);return u1(a)?u.lanes=32:u.lanes=536870912,null}var W=m.children;return m=m.fallback,T?(Ga(),T=u.mode,W=Lh({mode:"hidden",children:W},T),m=ru(m,T,h,null),W.return=u,m.return=u,W.sibling=m,u.child=W,m=u.child,m.memoizedState=Sg(h),m.childLanes=Ag(a,B,h),u.memoizedState=wg,rf(null,m)):(za(u),Cg(u,W))}var oe=a.memoizedState;if(oe!==null&&(W=oe.dehydrated,W!==null)){if(S)u.flags&256?(za(u),u.flags&=-257,u=Ig(a,u,h)):u.memoizedState!==null?(Ga(),u.child=a.child,u.flags|=128,u=null):(Ga(),W=m.fallback,T=u.mode,m=Lh({mode:"visible",children:m.children},T),W=ru(W,T,h,null),W.flags|=2,m.return=u,W.return=u,m.sibling=W,u.child=m,cu(u,a.child,null,h),m=u.child,m.memoizedState=Sg(h),m.childLanes=Ag(a,B,h),u.memoizedState=wg,u=rf(null,m));else if(za(u),u1(W)){if(B=W.nextSibling&&W.nextSibling.dataset,B)var ve=B.dgst;B=ve,m=Error(r(419)),m.stack="",m.digest=B,jc({value:m,source:null,stack:null}),u=Ig(a,u,h)}else if(Un||dl(a,u,h,!1),B=(h&a.childLanes)!==0,Un||B){if(B=fn,B!==null&&(m=Go(B,h),m!==0&&m!==oe.retryLane))throw oe.retryLane=m,nu(a,m),jr(B,a,m),Eg;o1(W)||Gh(),u=Ig(a,u,h)}else o1(W)?(u.flags|=192,u.child=a.child,u=null):(a=oe.treeContext,pn=Si(W.nextSibling),ir=u,Mt=!0,Fa=null,bi=!1,a!==null&&Y_(u,a),u=Cg(u,m.children),u.flags|=4096);return u}return T?(Ga(),W=m.fallback,T=u.mode,oe=a.child,ve=oe.sibling,m=Ws(oe,{mode:"hidden",children:m.children}),m.subtreeFlags=oe.subtreeFlags&65011712,ve!==null?W=Ws(ve,W):(W=ru(W,T,h,null),W.flags|=2),W.return=u,m.return=u,m.sibling=W,u.child=m,rf(null,m),m=u.child,W=a.child.memoizedState,W===null?W=Sg(h):(T=W.cachePool,T!==null?(oe=On._currentValue,T=T.parent!==oe?{parent:oe,pool:oe}:T):T=t2(),W={baseLanes:W.baseLanes|h,cachePool:T}),m.memoizedState=W,m.childLanes=Ag(a,B,h),u.memoizedState=wg,rf(a.child,m)):(za(u),h=a.child,a=h.sibling,h=Ws(h,{mode:"visible",children:m.children}),h.return=u,h.sibling=null,a!==null&&(B=u.deletions,B===null?(u.deletions=[a],u.flags|=16):B.push(a)),u.child=h,u.memoizedState=null,h)}function Cg(a,u){return u=Lh({mode:"visible",children:u},a.mode),u.return=a,a.child=u}function Lh(a,u){return a=ri(22,a,null,u),a.lanes=0,a}function Ig(a,u,h){return cu(u,a.child,null,h),a=Cg(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function pT(a,u,h){a.lanes|=u;var m=a.alternate;m!==null&&(m.lanes|=u),zm(a.return,u,h)}function kg(a,u,h,m,T,S){var B=a.memoizedState;B===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:T,treeForkCount:S}:(B.isBackwards=u,B.rendering=null,B.renderingStartTime=0,B.last=m,B.tail=h,B.tailMode=T,B.treeForkCount=S)}function mT(a,u,h){var m=u.pendingProps,T=m.revealOrder,S=m.tail;m=m.children;var B=Rn.current,W=(B&2)!==0;if(W?(B=B&1|2,u.flags|=128):B&=1,K(Rn,B),ar(a,u,m,h),m=Mt?Gc:0,!W&&a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&pT(a,h,u);else if(a.tag===19)pT(a,h,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(T){case"forwards":for(h=u.child,T=null;h!==null;)a=h.alternate,a!==null&&bh(a)===null&&(T=h),h=h.sibling;h=T,h===null?(T=u.child,u.child=null):(T=h.sibling,h.sibling=null),kg(u,!1,T,h,S,m);break;case"backwards":case"unstable_legacy-backwards":for(h=null,T=u.child,u.child=null;T!==null;){if(a=T.alternate,a!==null&&bh(a)===null){u.child=T;break}a=T.sibling,T.sibling=h,h=T,T=a}kg(u,!0,h,null,S,m);break;case"together":kg(u,!1,null,null,void 0,m);break;default:u.memoizedState=null}return u.child}function Zs(a,u,h){if(a!==null&&(u.dependencies=a.dependencies),Wa|=u.lanes,(h&u.childLanes)===0)if(a!==null){if(dl(a,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(a!==null&&u.child!==a.child)throw Error(r(153));if(u.child!==null){for(a=u.child,h=Ws(a,a.pendingProps),u.child=h,h.return=u;a.sibling!==null;)a=a.sibling,h=h.sibling=Ws(a,a.pendingProps),h.return=u;h.sibling=null}return u.child}function Rg(a,u){return(a.lanes&u)!==0?!0:(a=a.dependencies,!!(a!==null&&mh(a)))}function iN(a,u,h){switch(u.tag){case 3:Re(u,u.stateNode.containerInfo),Va(u,On,a.memoizedState.cache),iu();break;case 27:case 5:Ne(u);break;case 4:Re(u,u.stateNode.containerInfo);break;case 10:Va(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,tg(u),null;break;case 13:var m=u.memoizedState;if(m!==null)return m.dehydrated!==null?(za(u),u.flags|=128,null):(h&u.child.childLanes)!==0?dT(a,u,h):(za(u),a=Zs(a,u,h),a!==null?a.sibling:null);za(u);break;case 19:var T=(a.flags&128)!==0;if(m=(h&u.childLanes)!==0,m||(dl(a,u,h,!1),m=(h&u.childLanes)!==0),T){if(m)return mT(a,u,h);u.flags|=128}if(T=u.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),K(Rn,Rn.current),m)break;return null;case 22:return u.lanes=0,oT(a,u,h,u.pendingProps);case 24:Va(u,On,a.memoizedState.cache)}return Zs(a,u,h)}function gT(a,u,h){if(a!==null)if(a.memoizedProps!==u.pendingProps)Un=!0;else{if(!Rg(a,h)&&(u.flags&128)===0)return Un=!1,iN(a,u,h);Un=(a.flags&131072)!==0}else Un=!1,Mt&&(u.flags&1048576)!==0&&K_(u,Gc,u.index);switch(u.lanes=0,u.tag){case 16:e:{var m=u.pendingProps;if(a=uu(u.elementType),u.type=a,typeof a=="function")Lm(a)?(m=hu(a,m),u.tag=1,u=fT(null,u,a,m,h)):(u.tag=0,u=bg(null,u,a,m,h));else{if(a!=null){var T=a.$$typeof;if(T===P){u.tag=11,u=iT(null,u,a,m,h);break e}else if(T===N){u.tag=14,u=sT(null,u,a,m,h);break e}}throw u=he(a)||a,Error(r(306,u,""))}}return u;case 0:return bg(a,u,u.type,u.pendingProps,h);case 1:return m=u.type,T=hu(m,u.pendingProps),fT(a,u,m,T,h);case 3:e:{if(Re(u,u.stateNode.containerInfo),a===null)throw Error(r(387));m=u.pendingProps;var S=u.memoizedState;T=S.element,Xm(a,u),Qc(u,m,null,h);var B=u.memoizedState;if(m=B.cache,Va(u,On,m),m!==S.cache&&Gm(u,[On],h,!0),Jc(),m=B.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:B.cache},u.updateQueue.baseState=S,u.memoizedState=S,u.flags&256){u=hT(a,u,m,h);break e}else if(m!==T){T=_i(Error(r(424)),u),jc(T),u=hT(a,u,m,h);break e}else{switch(a=u.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(pn=Si(a.firstChild),ir=u,Mt=!0,Fa=null,bi=!0,h=o2(u,null,m,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(iu(),m===T){u=Zs(a,u,h);break e}ar(a,u,m,h)}u=u.child}return u;case 26:return Ph(a,u),a===null?(h=CE(u.type,null,u.pendingProps,null))?u.memoizedState=h:Mt||(h=u.type,a=u.pendingProps,m=Jh(pe.current).createElement(h),m[Z]=u,m[te]=a,or(m,h,a),Ze(m),u.stateNode=m):u.memoizedState=CE(u.type,a.memoizedProps,u.pendingProps,a.memoizedState),null;case 27:return Ne(u),a===null&&Mt&&(m=u.stateNode=wE(u.type,u.pendingProps,pe.current),ir=u,bi=!0,T=pn,Qa(u.type)?(l1=T,pn=Si(m.firstChild)):pn=T),ar(a,u,u.pendingProps.children,h),Ph(a,u),a===null&&(u.flags|=4194304),u.child;case 5:return a===null&&Mt&&((T=m=pn)&&(m=PN(m,u.type,u.pendingProps,bi),m!==null?(u.stateNode=m,ir=u,pn=Si(m.firstChild),bi=!1,T=!0):T=!1),T||Ua(u)),Ne(u),T=u.type,S=u.pendingProps,B=a!==null?a.memoizedProps:null,m=S.children,i1(T,S)?m=null:B!==null&&i1(T,B)&&(u.flags|=32),u.memoizedState!==null&&(T=rg(a,u,YR,null,null,h),vf._currentValue=T),Ph(a,u),ar(a,u,m,h),u.child;case 6:return a===null&&Mt&&((a=h=pn)&&(h=LN(h,u.pendingProps,bi),h!==null?(u.stateNode=h,ir=u,pn=null,a=!0):a=!1),a||Ua(u)),null;case 13:return dT(a,u,h);case 4:return Re(u,u.stateNode.containerInfo),m=u.pendingProps,a===null?u.child=cu(u,null,m,h):ar(a,u,m,h),u.child;case 11:return iT(a,u,u.type,u.pendingProps,h);case 7:return ar(a,u,u.pendingProps,h),u.child;case 8:return ar(a,u,u.pendingProps.children,h),u.child;case 12:return ar(a,u,u.pendingProps.children,h),u.child;case 10:return m=u.pendingProps,Va(u,u.type,m.value),ar(a,u,m.children,h),u.child;case 9:return T=u.type._context,m=u.pendingProps.children,au(u),T=sr(T),m=m(T),u.flags|=1,ar(a,u,m,h),u.child;case 14:return sT(a,u,u.type,u.pendingProps,h);case 15:return aT(a,u,u.type,u.pendingProps,h);case 19:return mT(a,u,h);case 31:return rN(a,u,h);case 22:return oT(a,u,h,u.pendingProps);case 24:return au(u),m=sr(On),a===null?(T=Wm(),T===null&&(T=fn,S=jm(),T.pooledCache=S,S.refCount++,S!==null&&(T.pooledCacheLanes|=h),T=S),u.memoizedState={parent:m,cache:T},Ym(u),Va(u,On,T)):((a.lanes&h)!==0&&(Xm(a,u),Qc(u,null,null,h),Jc()),T=a.memoizedState,S=u.memoizedState,T.parent!==m?(T={parent:m,cache:m},u.memoizedState=T,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=T),Va(u,On,m)):(m=S.cache,Va(u,On,m),m!==T.cache&&Gm(u,[On],h,!0))),ar(a,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function ea(a){a.flags|=4}function Ng(a,u,h,m,T){if((u=(a.mode&32)!==0)&&(u=!1),u){if(a.flags|=16777216,(T&335544128)===T)if(a.stateNode.complete)a.flags|=8192;else if(zT())a.flags|=8192;else throw lu=vh,Km}else a.flags&=-16777217}function xT(a,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!DE(u))if(zT())a.flags|=8192;else throw lu=vh,Km}function Oh(a,u){u!==null&&(a.flags|=4),a.flags&16384&&(u=a.tag!==22?Xu():536870912,a.lanes|=u,Sl|=u)}function sf(a,u){if(!Mt)switch(a.tailMode){case"hidden":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function mn(a){var u=a.alternate!==null&&a.alternate.child===a.child,h=0,m=0;if(u)for(var T=a.child;T!==null;)h|=T.lanes|T.childLanes,m|=T.subtreeFlags&65011712,m|=T.flags&65011712,T.return=a,T=T.sibling;else for(T=a.child;T!==null;)h|=T.lanes|T.childLanes,m|=T.subtreeFlags,m|=T.flags,T.return=a,T=T.sibling;return a.subtreeFlags|=m,a.childLanes=h,u}function sN(a,u,h){var m=u.pendingProps;switch(Vm(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(u),null;case 1:return mn(u),null;case 3:return h=u.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),Xs(On),Ae(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(hl(u)?ea(u):a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,qm())),mn(u),null;case 26:var T=u.type,S=u.memoizedState;return a===null?(ea(u),S!==null?(mn(u),xT(u,S)):(mn(u),Ng(u,T,null,m,h))):S?S!==a.memoizedState?(ea(u),mn(u),xT(u,S)):(mn(u),u.flags&=-16777217):(a=a.memoizedProps,a!==m&&ea(u),mn(u),Ng(u,T,a,m,h)),null;case 27:if(ce(u),h=pe.current,T=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==m&&ea(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return mn(u),null}a=ee.current,hl(u)?X_(u):(a=wE(T,m,h),u.stateNode=a,ea(u))}return mn(u),null;case 5:if(ce(u),T=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==m&&ea(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return mn(u),null}if(S=ee.current,hl(u))X_(u);else{var B=Jh(pe.current);switch(S){case 1:S=B.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:S=B.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":S=B.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":S=B.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":S=B.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof m.is=="string"?B.createElement("select",{is:m.is}):B.createElement("select"),m.multiple?S.multiple=!0:m.size&&(S.size=m.size);break;default:S=typeof m.is=="string"?B.createElement(T,{is:m.is}):B.createElement(T)}}S[Z]=u,S[te]=m;e:for(B=u.child;B!==null;){if(B.tag===5||B.tag===6)S.appendChild(B.stateNode);else if(B.tag!==4&&B.tag!==27&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===u)break e;for(;B.sibling===null;){if(B.return===null||B.return===u)break e;B=B.return}B.sibling.return=B.return,B=B.sibling}u.stateNode=S;e:switch(or(S,T,m),T){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ea(u)}}return mn(u),Ng(u,u.type,a===null?null:a.memoizedProps,u.pendingProps,h),null;case 6:if(a&&u.stateNode!=null)a.memoizedProps!==m&&ea(u);else{if(typeof m!="string"&&u.stateNode===null)throw Error(r(166));if(a=pe.current,hl(u)){if(a=u.stateNode,h=u.memoizedProps,m=null,T=ir,T!==null)switch(T.tag){case 27:case 5:m=T.memoizedProps}a[Z]=u,a=!!(a.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||dE(a.nodeValue,h)),a||Ua(u,!0)}else a=Jh(a).createTextNode(m),a[Z]=u,u.stateNode=a}return mn(u),null;case 31:if(h=u.memoizedState,a===null||a.memoizedState!==null){if(m=hl(u),h!==null){if(a===null){if(!m)throw Error(r(318));if(a=u.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Z]=u}else iu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;mn(u),a=!1}else h=qm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=h),a=!0;if(!a)return u.flags&256?(si(u),u):(si(u),null);if((u.flags&128)!==0)throw Error(r(558))}return mn(u),null;case 13:if(m=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(T=hl(u),m!==null&&m.dehydrated!==null){if(a===null){if(!T)throw Error(r(318));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[Z]=u}else iu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;mn(u),T=!1}else T=qm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=T),T=!0;if(!T)return u.flags&256?(si(u),u):(si(u),null)}return si(u),(u.flags&128)!==0?(u.lanes=h,u):(h=m!==null,a=a!==null&&a.memoizedState!==null,h&&(m=u.child,T=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(T=m.alternate.memoizedState.cachePool.pool),S=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==T&&(m.flags|=2048)),h!==a&&h&&(u.child.flags|=8192),Oh(u,u.updateQueue),mn(u),null);case 4:return Ae(),a===null&&Zg(u.stateNode.containerInfo),mn(u),null;case 10:return Xs(u.type),mn(u),null;case 19:if(z(Rn),m=u.memoizedState,m===null)return mn(u),null;if(T=(u.flags&128)!==0,S=m.rendering,S===null)if(T)sf(m,!1);else{if(Sn!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(S=bh(a),S!==null){for(u.flags|=128,sf(m,!1),a=S.updateQueue,u.updateQueue=a,Oh(u,a),u.subtreeFlags=0,a=h,h=u.child;h!==null;)j_(h,a),h=h.sibling;return K(Rn,Rn.current&1|2),Mt&&Ks(u,m.treeForkCount),u.child}a=a.sibling}m.tail!==null&&st()>qh&&(u.flags|=128,T=!0,sf(m,!1),u.lanes=4194304)}else{if(!T)if(a=bh(S),a!==null){if(u.flags|=128,T=!0,a=a.updateQueue,u.updateQueue=a,Oh(u,a),sf(m,!0),m.tail===null&&m.tailMode==="hidden"&&!S.alternate&&!Mt)return mn(u),null}else 2*st()-m.renderingStartTime>qh&&h!==536870912&&(u.flags|=128,T=!0,sf(m,!1),u.lanes=4194304);m.isBackwards?(S.sibling=u.child,u.child=S):(a=m.last,a!==null?a.sibling=S:u.child=S,m.last=S)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=st(),a.sibling=null,h=Rn.current,K(Rn,T?h&1|2:h&1),Mt&&Ks(u,m.treeForkCount),a):(mn(u),null);case 22:case 23:return si(u),eg(),m=u.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(u.flags|=8192):m&&(u.flags|=8192),m?(h&536870912)!==0&&(u.flags&128)===0&&(mn(u),u.subtreeFlags&6&&(u.flags|=8192)):mn(u),h=u.updateQueue,h!==null&&Oh(u,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048),a!==null&&z(ou),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),Xs(On),mn(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function aN(a,u){switch(Vm(u),u.tag){case 1:return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return Xs(On),Ae(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 26:case 27:case 5:return ce(u),null;case 31:if(u.memoizedState!==null){if(si(u),u.alternate===null)throw Error(r(340));iu()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 13:if(si(u),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(r(340));iu()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return z(Rn),null;case 4:return Ae(),null;case 10:return Xs(u.type),null;case 22:case 23:return si(u),eg(),a!==null&&z(ou),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 24:return Xs(On),null;case 25:return null;default:return null}}function yT(a,u){switch(Vm(u),u.tag){case 3:Xs(On),Ae();break;case 26:case 27:case 5:ce(u);break;case 4:Ae();break;case 31:u.memoizedState!==null&&si(u);break;case 13:si(u);break;case 19:z(Rn);break;case 10:Xs(u.type);break;case 22:case 23:si(u),eg(),a!==null&&z(ou);break;case 24:Xs(On)}}function af(a,u){try{var h=u.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var T=m.next;h=T;do{if((h.tag&a)===a){m=void 0;var S=h.create,B=h.inst;m=S(),B.destroy=m}h=h.next}while(h!==T)}}catch(W){Zt(u,u.return,W)}}function ja(a,u,h){try{var m=u.updateQueue,T=m!==null?m.lastEffect:null;if(T!==null){var S=T.next;m=S;do{if((m.tag&a)===a){var B=m.inst,W=B.destroy;if(W!==void 0){B.destroy=void 0,T=u;var oe=h,ve=W;try{ve()}catch(Me){Zt(T,oe,Me)}}}m=m.next}while(m!==S)}}catch(Me){Zt(u,u.return,Me)}}function vT(a){var u=a.updateQueue;if(u!==null){var h=a.stateNode;try{l2(u,h)}catch(m){Zt(a,a.return,m)}}}function _T(a,u,h){h.props=hu(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(m){Zt(a,u,m)}}function of(a,u){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof h=="function"?a.refCleanup=h(m):h.current=m}}catch(T){Zt(a,u,T)}}function ys(a,u){var h=a.ref,m=a.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(T){Zt(a,u,T)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(T){Zt(a,u,T)}else h.current=null}function TT(a){var u=a.type,h=a.memoizedProps,m=a.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break e;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(T){Zt(a,a.return,T)}}function Dg(a,u,h){try{var m=a.stateNode;IN(m,a.type,h,u),m[te]=u}catch(T){Zt(a,a.return,T)}}function ET(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Qa(a.type)||a.tag===4}function Mg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||ET(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Qa(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Pg(a,u,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(a),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Ui));else if(m!==4&&(m===27&&Qa(a.type)&&(h=a.stateNode,u=null),a=a.child,a!==null))for(Pg(a,u,h),a=a.sibling;a!==null;)Pg(a,u,h),a=a.sibling}function Fh(a,u,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,u?h.insertBefore(a,u):h.appendChild(a);else if(m!==4&&(m===27&&Qa(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(Fh(a,u,h),a=a.sibling;a!==null;)Fh(a,u,h),a=a.sibling}function bT(a){var u=a.stateNode,h=a.memoizedProps;try{for(var m=a.type,T=u.attributes;T.length;)u.removeAttributeNode(T[0]);or(u,m,h),u[Z]=a,u[te]=h}catch(S){Zt(a,a.return,S)}}var ta=!1,Vn=!1,Lg=!1,wT=typeof WeakSet=="function"?WeakSet:Set,Zn=null;function oN(a,u){if(a=a.containerInfo,n1=id,a=O_(a),Im(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var T=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var B=0,W=-1,oe=-1,ve=0,Me=0,Oe=a,Ee=null;t:for(;;){for(var Se;Oe!==h||T!==0&&Oe.nodeType!==3||(W=B+T),Oe!==S||m!==0&&Oe.nodeType!==3||(oe=B+m),Oe.nodeType===3&&(B+=Oe.nodeValue.length),(Se=Oe.firstChild)!==null;)Ee=Oe,Oe=Se;for(;;){if(Oe===a)break t;if(Ee===h&&++ve===T&&(W=B),Ee===S&&++Me===m&&(oe=B),(Se=Oe.nextSibling)!==null)break;Oe=Ee,Ee=Oe.parentNode}Oe=Se}h=W===-1||oe===-1?null:{start:W,end:oe}}else h=null}h=h||{start:0,end:0}}else h=null;for(r1={focusedElem:a,selectionRange:h},id=!1,Zn=u;Zn!==null;)if(u=Zn,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Zn=a;else for(;Zn!==null;){switch(u=Zn,S=u.alternate,a=u.flags,u.tag){case 0:if((a&4)!==0&&(a=u.updateQueue,a=a!==null?a.events:null,a!==null))for(h=0;h<a.length;h++)T=a[h],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&S!==null){a=void 0,h=u,T=S.memoizedProps,S=S.memoizedState,m=h.stateNode;try{var Qe=hu(h.type,T);a=m.getSnapshotBeforeUpdate(Qe,S),m.__reactInternalSnapshotBeforeUpdate=a}catch(at){Zt(h,h.return,at)}}break;case 3:if((a&1024)!==0){if(a=u.stateNode.containerInfo,h=a.nodeType,h===9)a1(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":a1(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=u.sibling,a!==null){a.return=u.return,Zn=a;break}Zn=u.return}}function ST(a,u,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:ra(a,h),m&4&&af(5,h);break;case 1:if(ra(a,h),m&4)if(a=h.stateNode,u===null)try{a.componentDidMount()}catch(B){Zt(h,h.return,B)}else{var T=hu(h.type,u.memoizedProps);u=u.memoizedState;try{a.componentDidUpdate(T,u,a.__reactInternalSnapshotBeforeUpdate)}catch(B){Zt(h,h.return,B)}}m&64&&vT(h),m&512&&of(h,h.return);break;case 3:if(ra(a,h),m&64&&(a=h.updateQueue,a!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{l2(a,u)}catch(B){Zt(h,h.return,B)}}break;case 27:u===null&&m&4&&bT(h);case 26:case 5:ra(a,h),u===null&&m&4&&TT(h),m&512&&of(h,h.return);break;case 12:ra(a,h);break;case 31:ra(a,h),m&4&&IT(a,h);break;case 13:ra(a,h),m&4&&kT(a,h),m&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=gN.bind(null,h),ON(a,h))));break;case 22:if(m=h.memoizedState!==null||ta,!m){u=u!==null&&u.memoizedState!==null||Vn,T=ta;var S=Vn;ta=m,(Vn=u)&&!S?ia(a,h,(h.subtreeFlags&8772)!==0):ra(a,h),ta=T,Vn=S}break;case 30:break;default:ra(a,h)}}function AT(a){var u=a.alternate;u!==null&&(a.alternate=null,AT(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&Be(u)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var vn=null,qr=!1;function na(a,u,h){for(h=h.child;h!==null;)CT(a,u,h),h=h.sibling}function CT(a,u,h){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(St,h)}catch{}switch(h.tag){case 26:Vn||ys(h,u),na(a,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Vn||ys(h,u);var m=vn,T=qr;Qa(h.type)&&(vn=h.stateNode,qr=!1),na(a,u,h),gf(h.stateNode),vn=m,qr=T;break;case 5:Vn||ys(h,u);case 6:if(m=vn,T=qr,vn=null,na(a,u,h),vn=m,qr=T,vn!==null)if(qr)try{(vn.nodeType===9?vn.body:vn.nodeName==="HTML"?vn.ownerDocument.body:vn).removeChild(h.stateNode)}catch(S){Zt(h,u,S)}else try{vn.removeChild(h.stateNode)}catch(S){Zt(h,u,S)}break;case 18:vn!==null&&(qr?(a=vn,vE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),Ml(a)):vE(vn,h.stateNode));break;case 4:m=vn,T=qr,vn=h.stateNode.containerInfo,qr=!0,na(a,u,h),vn=m,qr=T;break;case 0:case 11:case 14:case 15:ja(2,h,u),Vn||ja(4,h,u),na(a,u,h);break;case 1:Vn||(ys(h,u),m=h.stateNode,typeof m.componentWillUnmount=="function"&&_T(h,u,m)),na(a,u,h);break;case 21:na(a,u,h);break;case 22:Vn=(m=Vn)||h.memoizedState!==null,na(a,u,h),Vn=m;break;default:na(a,u,h)}}function IT(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Ml(a)}catch(h){Zt(u,u.return,h)}}}function kT(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Ml(a)}catch(h){Zt(u,u.return,h)}}function uN(a){switch(a.tag){case 31:case 13:case 19:var u=a.stateNode;return u===null&&(u=a.stateNode=new wT),u;case 22:return a=a.stateNode,u=a._retryCache,u===null&&(u=a._retryCache=new wT),u;default:throw Error(r(435,a.tag))}}function Uh(a,u){var h=uN(a);u.forEach(function(m){if(!h.has(m)){h.add(m);var T=xN.bind(null,a,m);m.then(T,T)}})}function Hr(a,u){var h=u.deletions;if(h!==null)for(var m=0;m<h.length;m++){var T=h[m],S=a,B=u,W=B;e:for(;W!==null;){switch(W.tag){case 27:if(Qa(W.type)){vn=W.stateNode,qr=!1;break e}break;case 5:vn=W.stateNode,qr=!1;break e;case 3:case 4:vn=W.stateNode.containerInfo,qr=!0;break e}W=W.return}if(vn===null)throw Error(r(160));CT(S,B,T),vn=null,qr=!1,S=T.alternate,S!==null&&(S.return=null),T.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)RT(u,a),u=u.sibling}var Gi=null;function RT(a,u){var h=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Hr(u,a),zr(a),m&4&&(ja(3,a,a.return),af(3,a),ja(5,a,a.return));break;case 1:Hr(u,a),zr(a),m&512&&(Vn||h===null||ys(h,h.return)),m&64&&ta&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var T=Gi;if(Hr(u,a),zr(a),m&512&&(Vn||h===null||ys(h,h.return)),m&4){var S=h!==null?h.memoizedState:null;if(m=a.memoizedState,h===null)if(m===null)if(a.stateNode===null){e:{m=a.type,h=a.memoizedProps,T=T.ownerDocument||T;t:switch(m){case"title":S=T.getElementsByTagName("title")[0],(!S||S[_e]||S[Z]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=T.createElement(m),T.head.insertBefore(S,T.querySelector("head > title"))),or(S,m,h),S[Z]=a,Ze(S),m=S;break e;case"link":var B=RE("link","href",T).get(m+(h.href||""));if(B){for(var W=0;W<B.length;W++)if(S=B[W],S.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&S.getAttribute("rel")===(h.rel==null?null:h.rel)&&S.getAttribute("title")===(h.title==null?null:h.title)&&S.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){B.splice(W,1);break t}}S=T.createElement(m),or(S,m,h),T.head.appendChild(S);break;case"meta":if(B=RE("meta","content",T).get(m+(h.content||""))){for(W=0;W<B.length;W++)if(S=B[W],S.getAttribute("content")===(h.content==null?null:""+h.content)&&S.getAttribute("name")===(h.name==null?null:h.name)&&S.getAttribute("property")===(h.property==null?null:h.property)&&S.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&S.getAttribute("charset")===(h.charSet==null?null:h.charSet)){B.splice(W,1);break t}}S=T.createElement(m),or(S,m,h),T.head.appendChild(S);break;default:throw Error(r(468,m))}S[Z]=a,Ze(S),m=S}a.stateNode=m}else NE(T,a.type,a.stateNode);else a.stateNode=kE(T,m,a.memoizedProps);else S!==m?(S===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):S.count--,m===null?NE(T,a.type,a.stateNode):kE(T,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Dg(a,a.memoizedProps,h.memoizedProps)}break;case 27:Hr(u,a),zr(a),m&512&&(Vn||h===null||ys(h,h.return)),h!==null&&m&4&&Dg(a,a.memoizedProps,h.memoizedProps);break;case 5:if(Hr(u,a),zr(a),m&512&&(Vn||h===null||ys(h,h.return)),a.flags&32){T=a.stateNode;try{Br(T,"")}catch(Qe){Zt(a,a.return,Qe)}}m&4&&a.stateNode!=null&&(T=a.memoizedProps,Dg(a,T,h!==null?h.memoizedProps:T)),m&1024&&(Lg=!0);break;case 6:if(Hr(u,a),zr(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,h=a.stateNode;try{h.nodeValue=m}catch(Qe){Zt(a,a.return,Qe)}}break;case 3:if(ed=null,T=Gi,Gi=Qh(u.containerInfo),Hr(u,a),Gi=T,zr(a),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Ml(u.containerInfo)}catch(Qe){Zt(a,a.return,Qe)}Lg&&(Lg=!1,NT(a));break;case 4:m=Gi,Gi=Qh(a.stateNode.containerInfo),Hr(u,a),zr(a),Gi=m;break;case 12:Hr(u,a),zr(a);break;case 31:Hr(u,a),zr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Uh(a,m)));break;case 13:Hr(u,a),zr(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Bh=st()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Uh(a,m)));break;case 22:T=a.memoizedState!==null;var oe=h!==null&&h.memoizedState!==null,ve=ta,Me=Vn;if(ta=ve||T,Vn=Me||oe,Hr(u,a),Vn=Me,ta=ve,zr(a),m&8192)e:for(u=a.stateNode,u._visibility=T?u._visibility&-2:u._visibility|1,T&&(h===null||oe||ta||Vn||du(a)),h=null,u=a;;){if(u.tag===5||u.tag===26){if(h===null){oe=h=u;try{if(S=oe.stateNode,T)B=S.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{W=oe.stateNode;var Oe=oe.memoizedProps.style,Ee=Oe!=null&&Oe.hasOwnProperty("display")?Oe.display:null;W.style.display=Ee==null||typeof Ee=="boolean"?"":(""+Ee).trim()}}catch(Qe){Zt(oe,oe.return,Qe)}}}else if(u.tag===6){if(h===null){oe=u;try{oe.stateNode.nodeValue=T?"":oe.memoizedProps}catch(Qe){Zt(oe,oe.return,Qe)}}}else if(u.tag===18){if(h===null){oe=u;try{var Se=oe.stateNode;T?_E(Se,!0):_E(oe.stateNode,!1)}catch(Qe){Zt(oe,oe.return,Qe)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}m&4&&(m=a.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,Uh(a,h))));break;case 19:Hr(u,a),zr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Uh(a,m)));break;case 30:break;case 21:break;default:Hr(u,a),zr(a)}}function zr(a){var u=a.flags;if(u&2){try{for(var h,m=a.return;m!==null;){if(ET(m)){h=m;break}m=m.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var T=h.stateNode,S=Mg(a);Fh(a,S,T);break;case 5:var B=h.stateNode;h.flags&32&&(Br(B,""),h.flags&=-33);var W=Mg(a);Fh(a,W,B);break;case 3:case 4:var oe=h.stateNode.containerInfo,ve=Mg(a);Pg(a,ve,oe);break;default:throw Error(r(161))}}catch(Me){Zt(a,a.return,Me)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function NT(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var u=a;NT(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),a=a.sibling}}function ra(a,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)ST(a,u.alternate,u),u=u.sibling}function du(a){for(a=a.child;a!==null;){var u=a;switch(u.tag){case 0:case 11:case 14:case 15:ja(4,u,u.return),du(u);break;case 1:ys(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&_T(u,u.return,h),du(u);break;case 27:gf(u.stateNode);case 26:case 5:ys(u,u.return),du(u);break;case 22:u.memoizedState===null&&du(u);break;case 30:du(u);break;default:du(u)}a=a.sibling}}function ia(a,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var m=u.alternate,T=a,S=u,B=S.flags;switch(S.tag){case 0:case 11:case 15:ia(T,S,h),af(4,S);break;case 1:if(ia(T,S,h),m=S,T=m.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(ve){Zt(m,m.return,ve)}if(m=S,T=m.updateQueue,T!==null){var W=m.stateNode;try{var oe=T.shared.hiddenCallbacks;if(oe!==null)for(T.shared.hiddenCallbacks=null,T=0;T<oe.length;T++)u2(oe[T],W)}catch(ve){Zt(m,m.return,ve)}}h&&B&64&&vT(S),of(S,S.return);break;case 27:bT(S);case 26:case 5:ia(T,S,h),h&&m===null&&B&4&&TT(S),of(S,S.return);break;case 12:ia(T,S,h);break;case 31:ia(T,S,h),h&&B&4&&IT(T,S);break;case 13:ia(T,S,h),h&&B&4&&kT(T,S);break;case 22:S.memoizedState===null&&ia(T,S,h),of(S,S.return);break;case 30:break;default:ia(T,S,h)}u=u.sibling}}function Og(a,u){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(a=u.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&$c(h))}function Fg(a,u){a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&$c(a))}function ji(a,u,h,m){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)DT(a,u,h,m),u=u.sibling}function DT(a,u,h,m){var T=u.flags;switch(u.tag){case 0:case 11:case 15:ji(a,u,h,m),T&2048&&af(9,u);break;case 1:ji(a,u,h,m);break;case 3:ji(a,u,h,m),T&2048&&(a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&$c(a)));break;case 12:if(T&2048){ji(a,u,h,m),a=u.stateNode;try{var S=u.memoizedProps,B=S.id,W=S.onPostCommit;typeof W=="function"&&W(B,u.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(oe){Zt(u,u.return,oe)}}else ji(a,u,h,m);break;case 31:ji(a,u,h,m);break;case 13:ji(a,u,h,m);break;case 23:break;case 22:S=u.stateNode,B=u.alternate,u.memoizedState!==null?S._visibility&2?ji(a,u,h,m):uf(a,u):S._visibility&2?ji(a,u,h,m):(S._visibility|=2,El(a,u,h,m,(u.subtreeFlags&10256)!==0||!1)),T&2048&&Og(B,u);break;case 24:ji(a,u,h,m),T&2048&&Fg(u.alternate,u);break;default:ji(a,u,h,m)}}function El(a,u,h,m,T){for(T=T&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var S=a,B=u,W=h,oe=m,ve=B.flags;switch(B.tag){case 0:case 11:case 15:El(S,B,W,oe,T),af(8,B);break;case 23:break;case 22:var Me=B.stateNode;B.memoizedState!==null?Me._visibility&2?El(S,B,W,oe,T):uf(S,B):(Me._visibility|=2,El(S,B,W,oe,T)),T&&ve&2048&&Og(B.alternate,B);break;case 24:El(S,B,W,oe,T),T&&ve&2048&&Fg(B.alternate,B);break;default:El(S,B,W,oe,T)}u=u.sibling}}function uf(a,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=a,m=u,T=m.flags;switch(m.tag){case 22:uf(h,m),T&2048&&Og(m.alternate,m);break;case 24:uf(h,m),T&2048&&Fg(m.alternate,m);break;default:uf(h,m)}u=u.sibling}}var lf=8192;function bl(a,u,h){if(a.subtreeFlags&lf)for(a=a.child;a!==null;)MT(a,u,h),a=a.sibling}function MT(a,u,h){switch(a.tag){case 26:bl(a,u,h),a.flags&lf&&a.memoizedState!==null&&KN(h,Gi,a.memoizedState,a.memoizedProps);break;case 5:bl(a,u,h);break;case 3:case 4:var m=Gi;Gi=Qh(a.stateNode.containerInfo),bl(a,u,h),Gi=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=lf,lf=16777216,bl(a,u,h),lf=m):bl(a,u,h));break;default:bl(a,u,h)}}function PT(a){var u=a.alternate;if(u!==null&&(a=u.child,a!==null)){u.child=null;do u=a.sibling,a.sibling=null,a=u;while(a!==null)}}function cf(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];Zn=m,OT(m,a)}PT(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)LT(a),a=a.sibling}function LT(a){switch(a.tag){case 0:case 11:case 15:cf(a),a.flags&2048&&ja(9,a,a.return);break;case 3:cf(a);break;case 12:cf(a);break;case 22:var u=a.stateNode;a.memoizedState!==null&&u._visibility&2&&(a.return===null||a.return.tag!==13)?(u._visibility&=-3,Vh(a)):cf(a);break;default:cf(a)}}function Vh(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];Zn=m,OT(m,a)}PT(a)}for(a=a.child;a!==null;){switch(u=a,u.tag){case 0:case 11:case 15:ja(8,u,u.return),Vh(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,Vh(u));break;default:Vh(u)}a=a.sibling}}function OT(a,u){for(;Zn!==null;){var h=Zn;switch(h.tag){case 0:case 11:case 15:ja(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:$c(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,Zn=m;else e:for(h=a;Zn!==null;){m=Zn;var T=m.sibling,S=m.return;if(AT(m),m===h){Zn=null;break e}if(T!==null){T.return=S,Zn=T;break e}Zn=S}}}var lN={getCacheForType:function(a){var u=sr(On),h=u.data.get(a);return h===void 0&&(h=a(),u.data.set(a,h)),h},cacheSignal:function(){return sr(On).controller.signal}},cN=typeof WeakMap=="function"?WeakMap:Map,jt=0,fn=null,At=null,It=0,Qt=0,ai=null,$a=!1,wl=!1,Ug=!1,sa=0,Sn=0,Wa=0,pu=0,Vg=0,oi=0,Sl=0,ff=null,Gr=null,Bg=!1,Bh=0,FT=0,qh=1/0,Hh=null,Ka=null,$n=0,Ya=null,Al=null,aa=0,qg=0,Hg=null,UT=null,hf=0,zg=null;function ui(){return(jt&2)!==0&&It!==0?It&-It:se.T!==null?Yg():G()}function VT(){if(oi===0)if((It&536870912)===0||Mt){var a=Vs;Vs<<=1,(Vs&3932160)===0&&(Vs=262144),oi=a}else oi=536870912;return a=ii.current,a!==null&&(a.flags|=32),oi}function jr(a,u,h){(a===fn&&(Qt===2||Qt===9)||a.cancelPendingCommit!==null)&&(Cl(a,0),Xa(a,It,oi,!1)),Bs(a,h),((jt&2)===0||a!==fn)&&(a===fn&&((jt&2)===0&&(pu|=h),Sn===4&&Xa(a,It,oi,!1)),vs(a))}function BT(a,u,h){if((jt&6)!==0)throw Error(r(327));var m=!h&&(u&127)===0&&(u&a.expiredLanes)===0||Zr(a,u),T=m?dN(a,u):jg(a,u,!0),S=m;do{if(T===0){wl&&!m&&Xa(a,u,0,!1);break}else{if(h=a.current.alternate,S&&!fN(h)){T=jg(a,u,!1),S=!1;continue}if(T===2){if(S=u,a.errorRecoveryDisabledLanes&S)var B=0;else B=a.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){u=B;e:{var W=a;T=ff;var oe=W.current.memoizedState.isDehydrated;if(oe&&(Cl(W,B).flags|=256),B=jg(W,B,!1),B!==2){if(Ug&&!oe){W.errorRecoveryDisabledLanes|=S,pu|=S,T=4;break e}S=Gr,Gr=T,S!==null&&(Gr===null?Gr=S:Gr.push.apply(Gr,S))}T=B}if(S=!1,T!==2)continue}}if(T===1){Cl(a,0),Xa(a,u,0,!0);break}e:{switch(m=a,S=T,S){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Xa(m,u,oi,!$a);break e;case 2:Gr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(T=Bh+300-st(),10<T)){if(Xa(m,u,oi,!$a),pi(m,0,!0)!==0)break e;aa=u,m.timeoutHandle=xE(qT.bind(null,m,h,Gr,Hh,Bg,u,oi,pu,Sl,$a,S,"Throttled",-0,0),T);break e}qT(m,h,Gr,Hh,Bg,u,oi,pu,Sl,$a,S,null,-0,0)}}break}while(!0);vs(a)}function qT(a,u,h,m,T,S,B,W,oe,ve,Me,Oe,Ee,Se){if(a.timeoutHandle=-1,Oe=u.subtreeFlags,Oe&8192||(Oe&16785408)===16785408){Oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ui},MT(u,S,Oe);var Qe=(S&62914560)===S?Bh-st():(S&4194048)===S?FT-st():0;if(Qe=YN(Oe,Qe),Qe!==null){aa=S,a.cancelPendingCommit=Qe(YT.bind(null,a,u,S,h,m,T,B,W,oe,Me,Oe,null,Ee,Se)),Xa(a,S,B,!ve);return}}YT(a,u,S,h,m,T,B,W,oe)}function fN(a){for(var u=a;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var T=h[m],S=T.getSnapshot;T=T.value;try{if(!ni(S(),T))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Xa(a,u,h,m){u&=~Vg,u&=~pu,a.suspendedLanes|=u,a.pingedLanes&=~u,m&&(a.warmLanes|=u),m=a.expirationTimes;for(var T=u;0<T;){var S=31-Tn(T),B=1<<S;m[S]=-1,T&=~B}h!==0&&qs(a,h,u)}function zh(){return(jt&6)===0?(df(0),!1):!0}function Gg(){if(At!==null){if(Qt===0)var a=At.return;else a=At,Ys=su=null,ag(a),xl=null,Kc=0,a=At;for(;a!==null;)yT(a.alternate,a),a=a.return;At=null}}function Cl(a,u){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,NN(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),aa=0,Gg(),fn=a,At=h=Ws(a.current,null),It=u,Qt=0,ai=null,$a=!1,wl=Zr(a,u),Ug=!1,Sl=oi=Vg=pu=Wa=Sn=0,Gr=ff=null,Bg=!1,(u&8)!==0&&(u|=u&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=u;0<m;){var T=31-Tn(m),S=1<<T;u|=a[T],m&=~S}return sa=u,ch(),h}function HT(a,u){vt=null,se.H=nf,u===gl||u===yh?(u=i2(),Qt=3):u===Km?(u=i2(),Qt=4):Qt=u===Eg?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ai=u,At===null&&(Sn=1,Dh(a,_i(u,a.current)))}function zT(){var a=ii.current;return a===null?!0:(It&4194048)===It?wi===null:(It&62914560)===It||(It&536870912)!==0?a===wi:!1}function GT(){var a=se.H;return se.H=nf,a===null?nf:a}function jT(){var a=se.A;return se.A=lN,a}function Gh(){Sn=4,$a||(It&4194048)!==It&&ii.current!==null||(wl=!0),(Wa&134217727)===0&&(pu&134217727)===0||fn===null||Xa(fn,It,oi,!1)}function jg(a,u,h){var m=jt;jt|=2;var T=GT(),S=jT();(fn!==a||It!==u)&&(Hh=null,Cl(a,u)),u=!1;var B=Sn;e:do try{if(Qt!==0&&At!==null){var W=At,oe=ai;switch(Qt){case 8:Gg(),B=6;break e;case 3:case 2:case 9:case 6:ii.current===null&&(u=!0);var ve=Qt;if(Qt=0,ai=null,Il(a,W,oe,ve),h&&wl){B=0;break e}break;default:ve=Qt,Qt=0,ai=null,Il(a,W,oe,ve)}}hN(),B=Sn;break}catch(Me){HT(a,Me)}while(!0);return u&&a.shellSuspendCounter++,Ys=su=null,jt=m,se.H=T,se.A=S,At===null&&(fn=null,It=0,ch()),B}function hN(){for(;At!==null;)$T(At)}function dN(a,u){var h=jt;jt|=2;var m=GT(),T=jT();fn!==a||It!==u?(Hh=null,qh=st()+500,Cl(a,u)):wl=Zr(a,u);e:do try{if(Qt!==0&&At!==null){u=At;var S=ai;t:switch(Qt){case 1:Qt=0,ai=null,Il(a,u,S,1);break;case 2:case 9:if(n2(S)){Qt=0,ai=null,WT(u);break}u=function(){Qt!==2&&Qt!==9||fn!==a||(Qt=7),vs(a)},S.then(u,u);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:n2(S)?(Qt=0,ai=null,WT(u)):(Qt=0,ai=null,Il(a,u,S,7));break;case 5:var B=null;switch(At.tag){case 26:B=At.memoizedState;case 5:case 27:var W=At;if(B?DE(B):W.stateNode.complete){Qt=0,ai=null;var oe=W.sibling;if(oe!==null)At=oe;else{var ve=W.return;ve!==null?(At=ve,jh(ve)):At=null}break t}}Qt=0,ai=null,Il(a,u,S,5);break;case 6:Qt=0,ai=null,Il(a,u,S,6);break;case 8:Gg(),Sn=6;break e;default:throw Error(r(462))}}pN();break}catch(Me){HT(a,Me)}while(!0);return Ys=su=null,se.H=m,se.A=T,jt=h,At!==null?0:(fn=null,It=0,ch(),Sn)}function pN(){for(;At!==null&&!ot();)$T(At)}function $T(a){var u=gT(a.alternate,a,sa);a.memoizedProps=a.pendingProps,u===null?jh(a):At=u}function WT(a){var u=a,h=u.alternate;switch(u.tag){case 15:case 0:u=cT(h,u,u.pendingProps,u.type,void 0,It);break;case 11:u=cT(h,u,u.pendingProps,u.type.render,u.ref,It);break;case 5:ag(u);default:yT(h,u),u=At=j_(u,sa),u=gT(h,u,sa)}a.memoizedProps=a.pendingProps,u===null?jh(a):At=u}function Il(a,u,h,m){Ys=su=null,ag(u),xl=null,Kc=0;var T=u.return;try{if(nN(a,T,u,h,It)){Sn=1,Dh(a,_i(h,a.current)),At=null;return}}catch(S){if(T!==null)throw At=T,S;Sn=1,Dh(a,_i(h,a.current)),At=null;return}u.flags&32768?(Mt||m===1?a=!0:wl||(It&536870912)!==0?a=!1:($a=a=!0,(m===2||m===9||m===3||m===6)&&(m=ii.current,m!==null&&m.tag===13&&(m.flags|=16384))),KT(u,a)):jh(u)}function jh(a){var u=a;do{if((u.flags&32768)!==0){KT(u,$a);return}a=u.return;var h=sN(u.alternate,u,sa);if(h!==null){At=h;return}if(u=u.sibling,u!==null){At=u;return}At=u=a}while(u!==null);Sn===0&&(Sn=5)}function KT(a,u){do{var h=aN(a.alternate,a);if(h!==null){h.flags&=32767,At=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(a=a.sibling,a!==null)){At=a;return}At=a=h}while(a!==null);Sn=6,At=null}function YT(a,u,h,m,T,S,B,W,oe){a.cancelPendingCommit=null;do $h();while($n!==0);if((jt&6)!==0)throw Error(r(327));if(u!==null){if(u===a.current)throw Error(r(177));if(S=u.lanes|u.childLanes,S|=Mm,kc(a,h,S,B,W,oe),a===fn&&(At=fn=null,It=0),Al=u,Ya=a,aa=h,qg=S,Hg=T,UT=m,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,yN(wt,function(){return eE(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||m){m=se.T,se.T=null,T=ue.p,ue.p=2,B=jt,jt|=4;try{oN(a,u,h)}finally{jt=B,ue.p=T,se.T=m}}$n=1,XT(),JT(),QT()}}function XT(){if($n===1){$n=0;var a=Ya,u=Al,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=se.T,se.T=null;var m=ue.p;ue.p=2;var T=jt;jt|=4;try{RT(u,a);var S=r1,B=O_(a.containerInfo),W=S.focusedElem,oe=S.selectionRange;if(B!==W&&W&&W.ownerDocument&&L_(W.ownerDocument.documentElement,W)){if(oe!==null&&Im(W)){var ve=oe.start,Me=oe.end;if(Me===void 0&&(Me=ve),"selectionStart"in W)W.selectionStart=ve,W.selectionEnd=Math.min(Me,W.value.length);else{var Oe=W.ownerDocument||document,Ee=Oe&&Oe.defaultView||window;if(Ee.getSelection){var Se=Ee.getSelection(),Qe=W.textContent.length,at=Math.min(oe.start,Qe),un=oe.end===void 0?at:Math.min(oe.end,Qe);!Se.extend&&at>un&&(B=un,un=at,at=B);var de=P_(W,at),le=P_(W,un);if(de&&le&&(Se.rangeCount!==1||Se.anchorNode!==de.node||Se.anchorOffset!==de.offset||Se.focusNode!==le.node||Se.focusOffset!==le.offset)){var ge=Oe.createRange();ge.setStart(de.node,de.offset),Se.removeAllRanges(),at>un?(Se.addRange(ge),Se.extend(le.node,le.offset)):(ge.setEnd(le.node,le.offset),Se.addRange(ge))}}}}for(Oe=[],Se=W;Se=Se.parentNode;)Se.nodeType===1&&Oe.push({element:Se,left:Se.scrollLeft,top:Se.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Oe.length;W++){var Pe=Oe[W];Pe.element.scrollLeft=Pe.left,Pe.element.scrollTop=Pe.top}}id=!!n1,r1=n1=null}finally{jt=T,ue.p=m,se.T=h}}a.current=u,$n=2}}function JT(){if($n===2){$n=0;var a=Ya,u=Al,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=se.T,se.T=null;var m=ue.p;ue.p=2;var T=jt;jt|=4;try{ST(a,u.alternate,u)}finally{jt=T,ue.p=m,se.T=h}}$n=3}}function QT(){if($n===4||$n===3){$n=0,ut();var a=Ya,u=Al,h=aa,m=UT;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?$n=5:($n=0,Al=Ya=null,ZT(a,a.pendingLanes));var T=a.pendingLanes;if(T===0&&(Ka=null),Li(h),u=u.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(St,u,void 0,(u.current.flags&128)===128)}catch{}if(m!==null){u=se.T,T=ue.p,ue.p=2,se.T=null;try{for(var S=a.onRecoverableError,B=0;B<m.length;B++){var W=m[B];S(W.value,{componentStack:W.stack})}}finally{se.T=u,ue.p=T}}(aa&3)!==0&&$h(),vs(a),T=a.pendingLanes,(h&261930)!==0&&(T&42)!==0?a===zg?hf++:(hf=0,zg=a):hf=0,df(0)}}function ZT(a,u){(a.pooledCacheLanes&=u)===0&&(u=a.pooledCache,u!=null&&(a.pooledCache=null,$c(u)))}function $h(){return XT(),JT(),QT(),eE()}function eE(){if($n!==5)return!1;var a=Ya,u=qg;qg=0;var h=Li(aa),m=se.T,T=ue.p;try{ue.p=32>h?32:h,se.T=null,h=Hg,Hg=null;var S=Ya,B=aa;if($n=0,Al=Ya=null,aa=0,(jt&6)!==0)throw Error(r(331));var W=jt;if(jt|=4,LT(S.current),DT(S,S.current,B,h),jt=W,df(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(St,S)}catch{}return!0}finally{ue.p=T,se.T=m,ZT(a,u)}}function tE(a,u,h){u=_i(h,u),u=Tg(a.stateNode,u,2),a=Ha(a,u,2),a!==null&&(Bs(a,2),vs(a))}function Zt(a,u,h){if(a.tag===3)tE(a,a,h);else for(;u!==null;){if(u.tag===3){tE(u,a,h);break}else if(u.tag===1){var m=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ka===null||!Ka.has(m))){a=_i(h,a),h=nT(2),m=Ha(u,h,2),m!==null&&(rT(h,m,u,a),Bs(m,2),vs(m));break}}u=u.return}}function $g(a,u,h){var m=a.pingCache;if(m===null){m=a.pingCache=new cN;var T=new Set;m.set(u,T)}else T=m.get(u),T===void 0&&(T=new Set,m.set(u,T));T.has(h)||(Ug=!0,T.add(h),a=mN.bind(null,a,u,h),u.then(a,a))}function mN(a,u,h){var m=a.pingCache;m!==null&&m.delete(u),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,fn===a&&(It&h)===h&&(Sn===4||Sn===3&&(It&62914560)===It&&300>st()-Bh?(jt&2)===0&&Cl(a,0):Vg|=h,Sl===It&&(Sl=0)),vs(a)}function nE(a,u){u===0&&(u=Xu()),a=nu(a,u),a!==null&&(Bs(a,u),vs(a))}function gN(a){var u=a.memoizedState,h=0;u!==null&&(h=u.retryLane),nE(a,h)}function xN(a,u){var h=0;switch(a.tag){case 31:case 13:var m=a.stateNode,T=a.memoizedState;T!==null&&(h=T.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(u),nE(a,h)}function yN(a,u){return We(a,u)}var Wh=null,kl=null,Wg=!1,Kh=!1,Kg=!1,Ja=0;function vs(a){a!==kl&&a.next===null&&(kl===null?Wh=kl=a:kl=kl.next=a),Kh=!0,Wg||(Wg=!0,_N())}function df(a,u){if(!Kg&&Kh){Kg=!0;do for(var h=!1,m=Wh;m!==null;){if(a!==0){var T=m.pendingLanes;if(T===0)var S=0;else{var B=m.suspendedLanes,W=m.pingedLanes;S=(1<<31-Tn(42|a)+1)-1,S&=T&~(B&~W),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(h=!0,aE(m,S))}else S=It,S=pi(m,m===fn?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||Zr(m,S)||(h=!0,aE(m,S));m=m.next}while(h);Kg=!1}}function vN(){rE()}function rE(){Kh=Wg=!1;var a=0;Ja!==0&&RN()&&(a=Ja);for(var u=st(),h=null,m=Wh;m!==null;){var T=m.next,S=iE(m,u);S===0?(m.next=null,h===null?Wh=T:h.next=T,T===null&&(kl=h)):(h=m,(a!==0||(S&3)!==0)&&(Kh=!0)),m=T}$n!==0&&$n!==5||df(a),Ja!==0&&(Ja=0)}function iE(a,u){for(var h=a.suspendedLanes,m=a.pingedLanes,T=a.expirationTimes,S=a.pendingLanes&-62914561;0<S;){var B=31-Tn(S),W=1<<B,oe=T[B];oe===-1?((W&h)===0||(W&m)!==0)&&(T[B]=Ic(W,u)):oe<=u&&(a.expiredLanes|=W),S&=~W}if(u=fn,h=It,h=pi(a,a===u?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,h===0||a===u&&(Qt===2||Qt===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Kt(m),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||Zr(a,h)){if(u=h&-h,u===a.callbackPriority)return u;switch(m!==null&&Kt(m),Li(h)){case 2:case 8:h=tn;break;case 32:h=wt;break;case 268435456:h=ht;break;default:h=wt}return m=sE.bind(null,a),h=We(h,m),a.callbackPriority=u,a.callbackNode=h,u}return m!==null&&m!==null&&Kt(m),a.callbackPriority=2,a.callbackNode=null,2}function sE(a,u){if($n!==0&&$n!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if($h()&&a.callbackNode!==h)return null;var m=It;return m=pi(a,a===fn?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(BT(a,m,u),iE(a,st()),a.callbackNode!=null&&a.callbackNode===h?sE.bind(null,a):null)}function aE(a,u){if($h())return null;BT(a,u,!0)}function _N(){DN(function(){(jt&6)!==0?We(dt,vN):rE()})}function Yg(){if(Ja===0){var a=pl;a===0&&(a=Qr,Qr<<=1,(Qr&261888)===0&&(Qr=256)),Ja=a}return Ja}function oE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Zu(""+a)}function uE(a,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,a.id&&h.setAttribute("form",a.id),u.parentNode.insertBefore(h,u),a=new FormData(a),h.parentNode.removeChild(h),a}function TN(a,u,h,m,T){if(u==="submit"&&h&&h.stateNode===T){var S=oE((T[te]||null).action),B=m.submitter;B&&(u=(u=B[te]||null)?oE(u.formAction):B.getAttribute("formAction"),u!==null&&(S=u,B=null));var W=new hs("action","action",null,m,T);a.push({event:W,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Ja!==0){var oe=B?uE(T,B):new FormData(T);mg(h,{pending:!0,data:oe,method:T.method,action:S},null,oe)}}else typeof S=="function"&&(W.preventDefault(),oe=B?uE(T,B):new FormData(T),mg(h,{pending:!0,data:oe,method:T.method,action:S},S,oe))},currentTarget:T}]})}}for(var Xg=0;Xg<Dm.length;Xg++){var Jg=Dm[Xg],EN=Jg.toLowerCase(),bN=Jg[0].toUpperCase()+Jg.slice(1);zi(EN,"on"+bN)}zi(V_,"onAnimationEnd"),zi(B_,"onAnimationIteration"),zi(q_,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(VR,"onTransitionRun"),zi(BR,"onTransitionStart"),zi(qR,"onTransitionCancel"),zi(H_,"onTransitionEnd"),pr("onMouseEnter",["mouseout","mouseover"]),pr("onMouseLeave",["mouseout","mouseover"]),pr("onPointerEnter",["pointerout","pointerover"]),pr("onPointerLeave",["pointerout","pointerover"]),cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pf));function lE(a,u){u=(u&4)!==0;for(var h=0;h<a.length;h++){var m=a[h],T=m.event;m=m.listeners;e:{var S=void 0;if(u)for(var B=m.length-1;0<=B;B--){var W=m[B],oe=W.instance,ve=W.currentTarget;if(W=W.listener,oe!==S&&T.isPropagationStopped())break e;S=W,T.currentTarget=ve;try{S(T)}catch(Me){lh(Me)}T.currentTarget=null,S=oe}else for(B=0;B<m.length;B++){if(W=m[B],oe=W.instance,ve=W.currentTarget,W=W.listener,oe!==S&&T.isPropagationStopped())break e;S=W,T.currentTarget=ve;try{S(T)}catch(Me){lh(Me)}T.currentTarget=null,S=oe}}}}function Ct(a,u){var h=u[xe];h===void 0&&(h=u[xe]=new Set);var m=a+"__bubble";h.has(m)||(cE(u,a,2,!1),h.add(m))}function Qg(a,u,h){var m=0;u&&(m|=4),cE(h,a,m,u)}var Yh="_reactListening"+Math.random().toString(36).slice(2);function Zg(a){if(!a[Yh]){a[Yh]=!0,Yt.forEach(function(h){h!=="selectionchange"&&(wN.has(h)||Qg(h,!1,a),Qg(h,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[Yh]||(u[Yh]=!0,Qg("selectionchange",!1,u))}}function cE(a,u,h,m){switch(VE(u)){case 2:var T=QN;break;case 8:T=ZN;break;default:T=p1}h=T.bind(null,u,h,a),T=void 0,!Ko||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(T=!0),m?T!==void 0?a.addEventListener(u,h,{capture:!0,passive:T}):a.addEventListener(u,h,!0):T!==void 0?a.addEventListener(u,h,{passive:T}):a.addEventListener(u,h,!1)}function e1(a,u,h,m,T){var S=m;if((u&1)===0&&(u&2)===0&&m!==null)e:for(;;){if(m===null)return;var B=m.tag;if(B===3||B===4){var W=m.stateNode.containerInfo;if(W===T)break;if(B===4)for(B=m.return;B!==null;){var oe=B.tag;if((oe===3||oe===4)&&B.stateNode.containerInfo===T)return;B=B.return}for(;W!==null;){if(B=ze(W),B===null)return;if(oe=B.tag,oe===5||oe===6||oe===26||oe===27){m=S=B;continue e}W=W.parentNode}}m=m.return}Da(function(){var ve=S,Me=gi(h),Oe=[];e:{var Ee=z_.get(a);if(Ee!==void 0){var Se=hs,Qe=a;switch(a){case"keypress":if(Xo(h)===0)break e;case"keydown":case"keyup":Se=ah;break;case"focusin":Qe="focus",Se=Qo;break;case"focusout":Qe="blur",Se=Qo;break;case"beforeblur":case"afterblur":Se=Qo;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=J0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=F;break;case V_:case B_:case q_:Se=Z0;break;case H_:Se=Q;break;case"scroll":case"scrollend":Se=Fc;break;case"wheel":Se=we;break;case"copy":case"cut":case"paste":Se=eh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=$s;break;case"toggle":case"beforetoggle":Se=yt}var at=(u&4)!==0,un=!at&&(a==="scroll"||a==="scrollend"),de=at?Ee!==null?Ee+"Capture":null:Ee;at=[];for(var le=ve,ge;le!==null;){var Pe=le;if(ge=Pe.stateNode,Pe=Pe.tag,Pe!==5&&Pe!==26&&Pe!==27||ge===null||de===null||(Pe=Vi(le,de),Pe!=null&&at.push(mf(le,Pe,ge))),un)break;le=le.return}0<at.length&&(Ee=new Se(Ee,Qe,null,h,Me),Oe.push({event:Ee,listeners:at}))}}if((u&7)===0){e:{if(Ee=a==="mouseover"||a==="pointerover",Se=a==="mouseout"||a==="pointerout",Ee&&h!==Pc&&(Qe=h.relatedTarget||h.fromElement)&&(ze(Qe)||Qe[ie]))break e;if((Se||Ee)&&(Ee=Me.window===Me?Me:(Ee=Me.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Se?(Qe=h.relatedTarget||h.toElement,Se=ve,Qe=Qe?ze(Qe):null,Qe!==null&&(un=s(Qe),at=Qe.tag,Qe!==un||at!==5&&at!==27&&at!==6)&&(Qe=null)):(Se=null,Qe=ve),Se!==Qe)){if(at=Uc,Pe="onMouseLeave",de="onMouseEnter",le="mouse",(a==="pointerout"||a==="pointerover")&&(at=$s,Pe="onPointerLeave",de="onPointerEnter",le="pointer"),un=Se==null?Ee:Ve(Se),ge=Qe==null?Ee:Ve(Qe),Ee=new at(Pe,le+"leave",Se,h,Me),Ee.target=un,Ee.relatedTarget=ge,Pe=null,ze(Me)===ve&&(at=new at(de,le+"enter",Qe,h,Me),at.target=ge,at.relatedTarget=un,Pe=at),un=Pe,Se&&Qe)t:{for(at=SN,de=Se,le=Qe,ge=0,Pe=de;Pe;Pe=at(Pe))ge++;Pe=0;for(var rt=le;rt;rt=at(rt))Pe++;for(;0<ge-Pe;)de=at(de),ge--;for(;0<Pe-ge;)le=at(le),Pe--;for(;ge--;){if(de===le||le!==null&&de===le.alternate){at=de;break t}de=at(de),le=at(le)}at=null}else at=null;Se!==null&&fE(Oe,Ee,Se,at,!1),Qe!==null&&un!==null&&fE(Oe,un,Qe,at,!0)}}e:{if(Ee=ve?Ve(ve):window,Se=Ee.nodeName&&Ee.nodeName.toLowerCase(),Se==="select"||Se==="input"&&Ee.type==="file")var Bt=I_;else if(A_(Ee))if(k_)Bt=OR;else{Bt=PR;var tt=MR}else Se=Ee.nodeName,!Se||Se.toLowerCase()!=="input"||Ee.type!=="checkbox"&&Ee.type!=="radio"?ve&&Qu(ve.elementType)&&(Bt=I_):Bt=LR;if(Bt&&(Bt=Bt(a,ve))){C_(Oe,Bt,h,Me);break e}tt&&tt(a,Ee,ve),a==="focusout"&&ve&&Ee.type==="number"&&ve.memoizedProps.value!=null&&Nc(Ee,"number",Ee.value)}switch(tt=ve?Ve(ve):window,a){case"focusin":(A_(tt)||tt.contentEditable==="true")&&(al=tt,km=ve,zc=null);break;case"focusout":zc=km=al=null;break;case"mousedown":Rm=!0;break;case"contextmenu":case"mouseup":case"dragend":Rm=!1,F_(Oe,h,Me);break;case"selectionchange":if(UR)break;case"keydown":case"keyup":F_(Oe,h,Me)}var Tt;if(Gt)e:{switch(a){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else sl?Zo(a,h)&&(kt="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(kt="onCompositionStart");kt&&(ms&&h.locale!=="ko"&&(sl||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&sl&&(Tt=Oc()):(fs=Me,Lc="value"in fs?fs.value:fs.textContent,sl=!0)),tt=Xh(ve,kt),0<tt.length&&(kt=new ps(kt,a,null,h,Me),Oe.push({event:kt,listeners:tt}),Tt?kt.data=Tt:(Tt=il(h),Tt!==null&&(kt.data=Tt)))),(Tt=yi?kR(a,h):RR(a,h))&&(kt=Xh(ve,"onBeforeInput"),0<kt.length&&(tt=new ps("onBeforeInput","beforeinput",null,h,Me),Oe.push({event:tt,listeners:kt}),tt.data=Tt)),TN(Oe,a,ve,h,Me)}lE(Oe,u)})}function mf(a,u,h){return{instance:a,listener:u,currentTarget:h}}function Xh(a,u){for(var h=u+"Capture",m=[];a!==null;){var T=a,S=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||S===null||(T=Vi(a,h),T!=null&&m.unshift(mf(a,T,S)),T=Vi(a,u),T!=null&&m.push(mf(a,T,S))),a.tag===3)return m;a=a.return}return[]}function SN(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function fE(a,u,h,m,T){for(var S=u._reactName,B=[];h!==null&&h!==m;){var W=h,oe=W.alternate,ve=W.stateNode;if(W=W.tag,oe!==null&&oe===m)break;W!==5&&W!==26&&W!==27||ve===null||(oe=ve,T?(ve=Vi(h,S),ve!=null&&B.unshift(mf(h,ve,oe))):T||(ve=Vi(h,S),ve!=null&&B.push(mf(h,ve,oe)))),h=h.return}B.length!==0&&a.push({event:u,listeners:B})}var AN=/\r\n?/g,CN=/\u0000|\uFFFD/g;function hE(a){return(typeof a=="string"?a:""+a).replace(AN,`
    -`).replace(CN,"")}function dE(a,u){return u=hE(u),hE(a)===u}function on(a,u,h,m,T,S){switch(h){case"children":typeof m=="string"?u==="body"||u==="textarea"&&m===""||Br(a,m):(typeof m=="number"||typeof m=="bigint")&&u!=="body"&&Br(a,""+m);break;case"className":ti(a,"class",m);break;case"tabIndex":ti(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(a,h,m);break;case"style":Mc(a,m,S);break;case"data":if(u!=="object"){ti(a,"data",m);break}case"src":case"href":if(m===""&&(u!=="a"||h!=="href")){a.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(h);break}m=Zu(""+m),a.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(h==="formAction"?(u!=="input"&&on(a,u,"name",T.name,T,null),on(a,u,"formEncType",T.formEncType,T,null),on(a,u,"formMethod",T.formMethod,T,null),on(a,u,"formTarget",T.formTarget,T,null)):(on(a,u,"encType",T.encType,T,null),on(a,u,"method",T.method,T,null),on(a,u,"target",T.target,T,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(h);break}m=Zu(""+m),a.setAttribute(h,m);break;case"onClick":m!=null&&(a.onclick=Ui);break;case"onScroll":m!=null&&Ct("scroll",a);break;case"onScrollEnd":m!=null&&Ct("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(T.children!=null)throw Error(r(60));a.innerHTML=h}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}h=Zu(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(h,""+m):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":m===!0?a.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(h,m):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(h,m):a.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(h):a.setAttribute(h,m);break;case"popover":Ct("beforetoggle",a),Ct("toggle",a),mr(a,"popover",m);break;case"xlinkActuate":Ln(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ln(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ln(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ln(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ln(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ln(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ln(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ln(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ln(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":mr(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=X0.get(h)||h,mr(a,h,m))}}function t1(a,u,h,m,T,S){switch(h){case"style":Mc(a,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(T.children!=null)throw Error(r(60));a.innerHTML=h}}break;case"children":typeof m=="string"?Br(a,m):(typeof m=="number"||typeof m=="bigint")&&Br(a,""+m);break;case"onScroll":m!=null&&Ct("scroll",a);break;case"onScrollEnd":m!=null&&Ct("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xt.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(T=h.endsWith("Capture"),u=h.slice(2,T?h.length-7:void 0),S=a[te]||null,S=S!=null?S[h]:null,typeof S=="function"&&a.removeEventListener(u,S,T),typeof m=="function")){typeof S!="function"&&S!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(u,m,T);break e}h in a?a[h]=m:m===!0?a.setAttribute(h,""):mr(a,h,m)}}}function or(a,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",a),Ct("load",a);var m=!1,T=!1,S;for(S in h)if(h.hasOwnProperty(S)){var B=h[S];if(B!=null)switch(S){case"src":m=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:on(a,u,S,B,h,null)}}T&&on(a,u,"srcSet",h.srcSet,h,null),m&&on(a,u,"src",h.src,h,null);return;case"input":Ct("invalid",a);var W=S=B=T=null,oe=null,ve=null;for(m in h)if(h.hasOwnProperty(m)){var Me=h[m];if(Me!=null)switch(m){case"name":T=Me;break;case"type":B=Me;break;case"checked":oe=Me;break;case"defaultChecked":ve=Me;break;case"value":S=Me;break;case"defaultValue":W=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,u));break;default:on(a,u,m,Me,h,null)}}W0(a,S,W,oe,ve,B,T,!1);return;case"select":Ct("invalid",a),m=B=S=null;for(T in h)if(h.hasOwnProperty(T)&&(W=h[T],W!=null))switch(T){case"value":S=W;break;case"defaultValue":B=W;break;case"multiple":m=W;default:on(a,u,T,W,h,null)}u=S,h=B,a.multiple=!!m,u!=null?Ia(a,!!m,u,!1):h!=null&&Ia(a,!!m,h,!0);return;case"textarea":Ct("invalid",a),S=T=m=null;for(B in h)if(h.hasOwnProperty(B)&&(W=h[B],W!=null))switch(B){case"value":m=W;break;case"defaultValue":T=W;break;case"children":S=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(91));break;default:on(a,u,B,W,h,null)}ka(a,m,T,S);return;case"option":for(oe in h)if(h.hasOwnProperty(oe)&&(m=h[oe],m!=null))switch(oe){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:on(a,u,oe,m,h,null)}return;case"dialog":Ct("beforetoggle",a),Ct("toggle",a),Ct("cancel",a),Ct("close",a);break;case"iframe":case"object":Ct("load",a);break;case"video":case"audio":for(m=0;m<pf.length;m++)Ct(pf[m],a);break;case"image":Ct("error",a),Ct("load",a);break;case"details":Ct("toggle",a);break;case"embed":case"source":case"link":Ct("error",a),Ct("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in h)if(h.hasOwnProperty(ve)&&(m=h[ve],m!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:on(a,u,ve,m,h,null)}return;default:if(Qu(u)){for(Me in h)h.hasOwnProperty(Me)&&(m=h[Me],m!==void 0&&t1(a,u,Me,m,h,void 0));return}}for(W in h)h.hasOwnProperty(W)&&(m=h[W],m!=null&&on(a,u,W,m,h,null))}function IN(a,u,h,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,S=null,B=null,W=null,oe=null,ve=null,Me=null;for(Se in h){var Oe=h[Se];if(h.hasOwnProperty(Se)&&Oe!=null)switch(Se){case"checked":break;case"value":break;case"defaultValue":oe=Oe;default:m.hasOwnProperty(Se)||on(a,u,Se,null,m,Oe)}}for(var Ee in m){var Se=m[Ee];if(Oe=h[Ee],m.hasOwnProperty(Ee)&&(Se!=null||Oe!=null))switch(Ee){case"type":S=Se;break;case"name":T=Se;break;case"checked":ve=Se;break;case"defaultChecked":Me=Se;break;case"value":B=Se;break;case"defaultValue":W=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,u));break;default:Se!==Oe&&on(a,u,Ee,Se,m,Oe)}}Ju(a,B,W,oe,ve,Me,S,T);return;case"select":Se=B=W=Ee=null;for(S in h)if(oe=h[S],h.hasOwnProperty(S)&&oe!=null)switch(S){case"value":break;case"multiple":Se=oe;default:m.hasOwnProperty(S)||on(a,u,S,null,m,oe)}for(T in m)if(S=m[T],oe=h[T],m.hasOwnProperty(T)&&(S!=null||oe!=null))switch(T){case"value":Ee=S;break;case"defaultValue":W=S;break;case"multiple":B=S;default:S!==oe&&on(a,u,T,S,m,oe)}u=W,h=B,m=Se,Ee!=null?Ia(a,!!h,Ee,!1):!!m!=!!h&&(u!=null?Ia(a,!!h,u,!0):Ia(a,!!h,h?[]:"",!1));return;case"textarea":Se=Ee=null;for(W in h)if(T=h[W],h.hasOwnProperty(W)&&T!=null&&!m.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:on(a,u,W,null,m,T)}for(B in m)if(T=m[B],S=h[B],m.hasOwnProperty(B)&&(T!=null||S!=null))switch(B){case"value":Ee=T;break;case"defaultValue":Se=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==S&&on(a,u,B,T,m,S)}K0(a,Ee,Se);return;case"option":for(var Qe in h)if(Ee=h[Qe],h.hasOwnProperty(Qe)&&Ee!=null&&!m.hasOwnProperty(Qe))switch(Qe){case"selected":a.selected=!1;break;default:on(a,u,Qe,null,m,Ee)}for(oe in m)if(Ee=m[oe],Se=h[oe],m.hasOwnProperty(oe)&&Ee!==Se&&(Ee!=null||Se!=null))switch(oe){case"selected":a.selected=Ee&&typeof Ee!="function"&&typeof Ee!="symbol";break;default:on(a,u,oe,Ee,m,Se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in h)Ee=h[at],h.hasOwnProperty(at)&&Ee!=null&&!m.hasOwnProperty(at)&&on(a,u,at,null,m,Ee);for(ve in m)if(Ee=m[ve],Se=h[ve],m.hasOwnProperty(ve)&&Ee!==Se&&(Ee!=null||Se!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,u));break;default:on(a,u,ve,Ee,m,Se)}return;default:if(Qu(u)){for(var un in h)Ee=h[un],h.hasOwnProperty(un)&&Ee!==void 0&&!m.hasOwnProperty(un)&&t1(a,u,un,void 0,m,Ee);for(Me in m)Ee=m[Me],Se=h[Me],!m.hasOwnProperty(Me)||Ee===Se||Ee===void 0&&Se===void 0||t1(a,u,Me,Ee,m,Se);return}}for(var de in h)Ee=h[de],h.hasOwnProperty(de)&&Ee!=null&&!m.hasOwnProperty(de)&&on(a,u,de,null,m,Ee);for(Oe in m)Ee=m[Oe],Se=h[Oe],!m.hasOwnProperty(Oe)||Ee===Se||Ee==null&&Se==null||on(a,u,Oe,Ee,m,Se)}function pE(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kN(){if(typeof performance.getEntriesByType=="function"){for(var a=0,u=0,h=performance.getEntriesByType("resource"),m=0;m<h.length;m++){var T=h[m],S=T.transferSize,B=T.initiatorType,W=T.duration;if(S&&W&&pE(B)){for(B=0,W=T.responseEnd,m+=1;m<h.length;m++){var oe=h[m],ve=oe.startTime;if(ve>W)break;var Me=oe.transferSize,Oe=oe.initiatorType;Me&&pE(Oe)&&(oe=oe.responseEnd,B+=Me*(oe<W?1:(W-ve)/(oe-ve)))}if(--m,u+=8*(S+B)/(T.duration/1e3),a++,10<a)break}}if(0<a)return u/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var n1=null,r1=null;function Jh(a){return a.nodeType===9?a:a.ownerDocument}function mE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gE(a,u){if(a===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&u==="foreignObject"?0:a}function i1(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var s1=null;function RN(){var a=window.event;return a&&a.type==="popstate"?a===s1?!1:(s1=a,!0):(s1=null,!1)}var xE=typeof setTimeout=="function"?setTimeout:void 0,NN=typeof clearTimeout=="function"?clearTimeout:void 0,yE=typeof Promise=="function"?Promise:void 0,DN=typeof queueMicrotask=="function"?queueMicrotask:typeof yE<"u"?function(a){return yE.resolve(null).then(a).catch(MN)}:xE;function MN(a){setTimeout(function(){throw a})}function Qa(a){return a==="head"}function vE(a,u){var h=u,m=0;do{var T=h.nextSibling;if(a.removeChild(h),T&&T.nodeType===8)if(h=T.data,h==="/$"||h==="/&"){if(m===0){a.removeChild(T),Ml(u);return}m--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")m++;else if(h==="html")gf(a.ownerDocument.documentElement);else if(h==="head"){h=a.ownerDocument.head,gf(h);for(var S=h.firstChild;S;){var B=S.nextSibling,W=S.nodeName;S[_e]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&S.rel.toLowerCase()==="stylesheet"||h.removeChild(S),S=B}}else h==="body"&&gf(a.ownerDocument.body);h=T}while(h);Ml(u)}function _E(a,u){var h=a;a=0;do{var m=h.nextSibling;if(h.nodeType===1?u?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(u?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),m&&m.nodeType===8)if(h=m.data,h==="/$"){if(a===0)break;a--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||a++;h=m}while(h)}function a1(a){var u=a.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":a1(h),Be(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function PN(a,u,h,m){for(;a.nodeType===1;){var T=h;if(a.nodeName.toLowerCase()!==u.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[_e])switch(u){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(S=a.getAttribute("rel"),S==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(S!==T.rel||a.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||a.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||a.getAttribute("title")!==(T.title==null?null:T.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(S=a.getAttribute("src"),(S!==(T.src==null?null:T.src)||a.getAttribute("type")!==(T.type==null?null:T.type)||a.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&S&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(u==="input"&&a.type==="hidden"){var S=T.name==null?null:""+T.name;if(T.type==="hidden"&&a.getAttribute("name")===S)return a}else return a;if(a=Si(a.nextSibling),a===null)break}return null}function LN(a,u,h){if(u==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=Si(a.nextSibling),a===null))return null;return a}function TE(a,u){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Si(a.nextSibling),a===null))return null;return a}function o1(a){return a.data==="$?"||a.data==="$~"}function u1(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function ON(a,u){var h=a.ownerDocument;if(a.data==="$~")a._reactRetry=u;else if(a.data!=="$?"||h.readyState!=="loading")u();else{var m=function(){u(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Si(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return a}var l1=null;function EE(a){a=a.nextSibling;for(var u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"||h==="/&"){if(u===0)return Si(a.nextSibling);u--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||u++}a=a.nextSibling}return null}function bE(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(u===0)return a;u--}else h!=="/$"&&h!=="/&"||u++}a=a.previousSibling}return null}function wE(a,u,h){switch(u=Jh(h),a){case"html":if(a=u.documentElement,!a)throw Error(r(452));return a;case"head":if(a=u.head,!a)throw Error(r(453));return a;case"body":if(a=u.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function gf(a){for(var u=a.attributes;u.length;)a.removeAttributeNode(u[0]);Be(a)}var Ai=new Map,SE=new Set;function Qh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var oa=ue.d;ue.d={f:FN,r:UN,D:VN,C:BN,L:qN,m:HN,X:GN,S:zN,M:jN};function FN(){var a=oa.f(),u=zh();return a||u}function UN(a){var u=Ye(a);u!==null&&u.tag===5&&u.type==="form"?H2(u):oa.r(a)}var Rl=typeof document>"u"?null:document;function AE(a,u,h){var m=Rl;if(m&&typeof u=="string"&&u){var T=Vr(u);T='link[rel="'+a+'"][href="'+T+'"]',typeof h=="string"&&(T+='[crossorigin="'+h+'"]'),SE.has(T)||(SE.add(T),a={rel:a,crossOrigin:h,href:u},m.querySelector(T)===null&&(u=m.createElement("link"),or(u,"link",a),Ze(u),m.head.appendChild(u)))}}function VN(a){oa.D(a),AE("dns-prefetch",a,null)}function BN(a,u){oa.C(a,u),AE("preconnect",a,u)}function qN(a,u,h){oa.L(a,u,h);var m=Rl;if(m&&a&&u){var T='link[rel="preload"][as="'+Vr(u)+'"]';u==="image"&&h&&h.imageSrcSet?(T+='[imagesrcset="'+Vr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(T+='[imagesizes="'+Vr(h.imageSizes)+'"]')):T+='[href="'+Vr(a)+'"]';var S=T;switch(u){case"style":S=Nl(a);break;case"script":S=Dl(a)}Ai.has(S)||(a=g({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:a,as:u},h),Ai.set(S,a),m.querySelector(T)!==null||u==="style"&&m.querySelector(xf(S))||u==="script"&&m.querySelector(yf(S))||(u=m.createElement("link"),or(u,"link",a),Ze(u),m.head.appendChild(u)))}}function HN(a,u){oa.m(a,u);var h=Rl;if(h&&a){var m=u&&typeof u.as=="string"?u.as:"script",T='link[rel="modulepreload"][as="'+Vr(m)+'"][href="'+Vr(a)+'"]',S=T;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Dl(a)}if(!Ai.has(S)&&(a=g({rel:"modulepreload",href:a},u),Ai.set(S,a),h.querySelector(T)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(yf(S)))return}m=h.createElement("link"),or(m,"link",a),Ze(m),h.head.appendChild(m)}}}function zN(a,u,h){oa.S(a,u,h);var m=Rl;if(m&&a){var T=$e(m).hoistableStyles,S=Nl(a);u=u||"default";var B=T.get(S);if(!B){var W={loading:0,preload:null};if(B=m.querySelector(xf(S)))W.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":u},h),(h=Ai.get(S))&&c1(a,h);var oe=B=m.createElement("link");Ze(oe),or(oe,"link",a),oe._p=new Promise(function(ve,Me){oe.onload=ve,oe.onerror=Me}),oe.addEventListener("load",function(){W.loading|=1}),oe.addEventListener("error",function(){W.loading|=2}),W.loading|=4,Zh(B,u,m)}B={type:"stylesheet",instance:B,count:1,state:W},T.set(S,B)}}}function GN(a,u){oa.X(a,u);var h=Rl;if(h&&a){var m=$e(h).hoistableScripts,T=Dl(a),S=m.get(T);S||(S=h.querySelector(yf(T)),S||(a=g({src:a,async:!0},u),(u=Ai.get(T))&&f1(a,u),S=h.createElement("script"),Ze(S),or(S,"link",a),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(T,S))}}function jN(a,u){oa.M(a,u);var h=Rl;if(h&&a){var m=$e(h).hoistableScripts,T=Dl(a),S=m.get(T);S||(S=h.querySelector(yf(T)),S||(a=g({src:a,async:!0,type:"module"},u),(u=Ai.get(T))&&f1(a,u),S=h.createElement("script"),Ze(S),or(S,"link",a),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(T,S))}}function CE(a,u,h,m){var T=(T=pe.current)?Qh(T):null;if(!T)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=Nl(h.href),h=$e(T).hoistableStyles,m=h.get(u),m||(m={type:"style",instance:null,count:0,state:null},h.set(u,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=Nl(h.href);var S=$e(T).hoistableStyles,B=S.get(a);if(B||(T=T.ownerDocument||T,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(a,B),(S=T.querySelector(xf(a)))&&!S._p&&(B.instance=S,B.state.loading=5),Ai.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ai.set(a,h),S||$N(T,a,h,B.state))),u&&m===null)throw Error(r(528,""));return B}if(u&&m!==null)throw Error(r(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Dl(h),h=$e(T).hoistableScripts,m=h.get(u),m||(m={type:"script",instance:null,count:0,state:null},h.set(u,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Nl(a){return'href="'+Vr(a)+'"'}function xf(a){return'link[rel="stylesheet"]['+a+"]"}function IE(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function $N(a,u,h,m){a.querySelector('link[rel="preload"][as="style"]['+u+"]")?m.loading=1:(u=a.createElement("link"),m.preload=u,u.addEventListener("load",function(){return m.loading|=1}),u.addEventListener("error",function(){return m.loading|=2}),or(u,"link",h),Ze(u),a.head.appendChild(u))}function Dl(a){return'[src="'+Vr(a)+'"]'}function yf(a){return"script[async]"+a}function kE(a,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var m=a.querySelector('style[data-href~="'+Vr(h.href)+'"]');if(m)return u.instance=m,Ze(m),m;var T=g({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Ze(m),or(m,"style",T),Zh(m,h.precedence,a),u.instance=m;case"stylesheet":T=Nl(h.href);var S=a.querySelector(xf(T));if(S)return u.state.loading|=4,u.instance=S,Ze(S),S;m=IE(h),(T=Ai.get(T))&&c1(m,T),S=(a.ownerDocument||a).createElement("link"),Ze(S);var B=S;return B._p=new Promise(function(W,oe){B.onload=W,B.onerror=oe}),or(S,"link",m),u.state.loading|=4,Zh(S,h.precedence,a),u.instance=S;case"script":return S=Dl(h.src),(T=a.querySelector(yf(S)))?(u.instance=T,Ze(T),T):(m=h,(T=Ai.get(S))&&(m=g({},h),f1(m,T)),a=a.ownerDocument||a,T=a.createElement("script"),Ze(T),or(T,"link",m),a.head.appendChild(T),u.instance=T);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(m=u.instance,u.state.loading|=4,Zh(m,h.precedence,a));return u.instance}function Zh(a,u,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=m.length?m[m.length-1]:null,S=T,B=0;B<m.length;B++){var W=m[B];if(W.dataset.precedence===u)S=W;else if(S!==T)break}S?S.parentNode.insertBefore(a,S.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(a,u.firstChild))}function c1(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.title==null&&(a.title=u.title)}function f1(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.integrity==null&&(a.integrity=u.integrity)}var ed=null;function RE(a,u,h){if(ed===null){var m=new Map,T=ed=new Map;T.set(h,m)}else T=ed,m=T.get(h),m||(m=new Map,T.set(h,m));if(m.has(a))return m;for(m.set(a,null),h=h.getElementsByTagName(a),T=0;T<h.length;T++){var S=h[T];if(!(S[_e]||S[Z]||a==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var B=S.getAttribute(u)||"";B=a+B;var W=m.get(B);W?W.push(S):m.set(B,[S])}}return m}function NE(a,u,h){a=a.ownerDocument||a,a.head.insertBefore(h,u==="title"?a.querySelector("head > title"):null)}function WN(a,u,h){if(h===1||u.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return a=u.disabled,typeof u.precedence=="string"&&a==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function DE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function KN(a,u,h,m){if(h.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var T=Nl(m.href),S=u.querySelector(xf(T));if(S){u=S._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(a.count++,a=td.bind(a),u.then(a,a)),h.state.loading|=4,h.instance=S,Ze(S);return}S=u.ownerDocument||u,m=IE(m),(T=Ai.get(T))&&c1(m,T),S=S.createElement("link"),Ze(S);var B=S;B._p=new Promise(function(W,oe){B.onload=W,B.onerror=oe}),or(S,"link",m),h.instance=S}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(a.count++,h=td.bind(a),u.addEventListener("load",h),u.addEventListener("error",h))}}var h1=0;function YN(a,u){return a.stylesheets&&a.count===0&&rd(a,a.stylesheets),0<a.count||0<a.imgCount?function(h){var m=setTimeout(function(){if(a.stylesheets&&rd(a,a.stylesheets),a.unsuspend){var S=a.unsuspend;a.unsuspend=null,S()}},6e4+u);0<a.imgBytes&&h1===0&&(h1=62500*kN());var T=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&rd(a,a.stylesheets),a.unsuspend)){var S=a.unsuspend;a.unsuspend=null,S()}},(a.imgBytes>h1?50:800)+u);return a.unsuspend=h,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(T)}}:null}function td(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var nd=null;function rd(a,u){a.stylesheets=null,a.unsuspend!==null&&(a.count++,nd=new Map,u.forEach(XN,a),nd=null,td.call(a))}function XN(a,u){if(!(u.state.loading&4)){var h=nd.get(a);if(h)var m=h.get(null);else{h=new Map,nd.set(a,h);for(var T=a.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<T.length;S++){var B=T[S];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(h.set(B.dataset.precedence,B),m=B)}m&&h.set(null,m)}T=u.instance,B=T.getAttribute("data-precedence"),S=h.get(B)||m,S===m&&h.set(null,T),h.set(B,T),this.count++,m=td.bind(this),T.addEventListener("load",m),T.addEventListener("error",m),S?S.parentNode.insertBefore(T,S.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(T,a.firstChild)),u.state.loading|=4}}var vf={$$typeof:A,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function JN(a,u,h,m,T,S,B,W,oe){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=m,this.onUncaughtError=T,this.onCaughtError=S,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=oe,this.incompleteTransitions=new Map}function ME(a,u,h,m,T,S,B,W,oe,ve,Me,Oe){return a=new JN(a,u,h,B,oe,ve,Me,Oe,W),u=1,S===!0&&(u|=24),S=ri(3,null,null,u),a.current=S,S.stateNode=a,u=jm(),u.refCount++,a.pooledCache=u,u.refCount++,S.memoizedState={element:m,isDehydrated:h,cache:u},Ym(S),a}function PE(a){return a?(a=ll,a):ll}function LE(a,u,h,m,T,S){T=PE(T),m.context===null?m.context=T:m.pendingContext=T,m=qa(u),m.payload={element:h},S=S===void 0?null:S,S!==null&&(m.callback=S),h=Ha(a,m,u),h!==null&&(jr(h,a,u),Xc(h,a,u))}function OE(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<u?h:u}}function d1(a,u){OE(a,u),(a=a.alternate)&&OE(a,u)}function FE(a){if(a.tag===13||a.tag===31){var u=nu(a,67108864);u!==null&&jr(u,a,67108864),d1(a,67108864)}}function UE(a){if(a.tag===13||a.tag===31){var u=ui();u=zs(u);var h=nu(a,u);h!==null&&jr(h,a,u),d1(a,u)}}var id=!0;function QN(a,u,h,m){var T=se.T;se.T=null;var S=ue.p;try{ue.p=2,p1(a,u,h,m)}finally{ue.p=S,se.T=T}}function ZN(a,u,h,m){var T=se.T;se.T=null;var S=ue.p;try{ue.p=8,p1(a,u,h,m)}finally{ue.p=S,se.T=T}}function p1(a,u,h,m){if(id){var T=m1(m);if(T===null)e1(a,u,m,sd,h),BE(a,m);else if(t8(T,a,u,h,m))m.stopPropagation();else if(BE(a,m),u&4&&-1<e8.indexOf(a)){for(;T!==null;){var S=Ye(T);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var B=Rr(S.pendingLanes);if(B!==0){var W=S;for(W.pendingLanes|=2,W.entangledLanes|=2;B;){var oe=1<<31-Tn(B);W.entanglements[1]|=oe,B&=~oe}vs(S),(jt&6)===0&&(qh=st()+500,df(0))}}break;case 31:case 13:W=nu(S,2),W!==null&&jr(W,S,2),zh(),d1(S,2)}if(S=m1(m),S===null&&e1(a,u,m,sd,h),S===T)break;T=S}T!==null&&m.stopPropagation()}else e1(a,u,m,null,h)}}function m1(a){return a=gi(a),g1(a)}var sd=null;function g1(a){if(sd=null,a=ze(a),a!==null){var u=s(a);if(u===null)a=null;else{var h=u.tag;if(h===13){if(a=o(u),a!==null)return a;a=null}else if(h===31){if(a=l(u),a!==null)return a;a=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null)}}return sd=a,null}function VE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case dt:return 2;case tn:return 8;case wt:case Pn:return 32;case ht:return 268435456;default:return 32}default:return 32}}var x1=!1,Za=null,eo=null,to=null,_f=new Map,Tf=new Map,no=[],e8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BE(a,u){switch(a){case"focusin":case"focusout":Za=null;break;case"dragenter":case"dragleave":eo=null;break;case"mouseover":case"mouseout":to=null;break;case"pointerover":case"pointerout":_f.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tf.delete(u.pointerId)}}function Ef(a,u,h,m,T,S){return a===null||a.nativeEvent!==S?(a={blockedOn:u,domEventName:h,eventSystemFlags:m,nativeEvent:S,targetContainers:[T]},u!==null&&(u=Ye(u),u!==null&&FE(u)),a):(a.eventSystemFlags|=m,u=a.targetContainers,T!==null&&u.indexOf(T)===-1&&u.push(T),a)}function t8(a,u,h,m,T){switch(u){case"focusin":return Za=Ef(Za,a,u,h,m,T),!0;case"dragenter":return eo=Ef(eo,a,u,h,m,T),!0;case"mouseover":return to=Ef(to,a,u,h,m,T),!0;case"pointerover":var S=T.pointerId;return _f.set(S,Ef(_f.get(S)||null,a,u,h,m,T)),!0;case"gotpointercapture":return S=T.pointerId,Tf.set(S,Ef(Tf.get(S)||null,a,u,h,m,T)),!0}return!1}function qE(a){var u=ze(a.target);if(u!==null){var h=s(u);if(h!==null){if(u=h.tag,u===13){if(u=o(h),u!==null){a.blockedOn=u,ne(a.priority,function(){UE(h)});return}}else if(u===31){if(u=l(h),u!==null){a.blockedOn=u,ne(a.priority,function(){UE(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ad(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var h=m1(a.nativeEvent);if(h===null){h=a.nativeEvent;var m=new h.constructor(h.type,h);Pc=m,h.target.dispatchEvent(m),Pc=null}else return u=Ye(h),u!==null&&FE(u),a.blockedOn=h,!1;u.shift()}return!0}function HE(a,u,h){ad(a)&&h.delete(u)}function n8(){x1=!1,Za!==null&&ad(Za)&&(Za=null),eo!==null&&ad(eo)&&(eo=null),to!==null&&ad(to)&&(to=null),_f.forEach(HE),Tf.forEach(HE)}function od(a,u){a.blockedOn===u&&(a.blockedOn=null,x1||(x1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,n8)))}var ud=null;function zE(a){ud!==a&&(ud=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ud===a&&(ud=null);for(var u=0;u<a.length;u+=3){var h=a[u],m=a[u+1],T=a[u+2];if(typeof m!="function"){if(g1(m||h)===null)continue;break}var S=Ye(h);S!==null&&(a.splice(u,3),u-=3,mg(S,{pending:!0,data:T,method:h.method,action:m},m,T))}}))}function Ml(a){function u(oe){return od(oe,a)}Za!==null&&od(Za,a),eo!==null&&od(eo,a),to!==null&&od(to,a),_f.forEach(u),Tf.forEach(u);for(var h=0;h<no.length;h++){var m=no[h];m.blockedOn===a&&(m.blockedOn=null)}for(;0<no.length&&(h=no[0],h.blockedOn===null);)qE(h),h.blockedOn===null&&no.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var T=h[m],S=h[m+1],B=T[te]||null;if(typeof S=="function")B||zE(h);else if(B){var W=null;if(S&&S.hasAttribute("formAction")){if(T=S,B=S[te]||null)W=B.formAction;else if(g1(T)!==null)continue}else W=B.action;typeof W=="function"?h[m+1]=W:(h.splice(m,3),m-=3),zE(h)}}}function GE(){function a(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(B){return T=B})},focusReset:"manual",scroll:"manual"})}function u(){T!==null&&(T(),T=null),m||setTimeout(h,20)}function h(){if(!m&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,T=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(h,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),T!==null&&(T(),T=null)}}}function y1(a){this._internalRoot=a}ld.prototype.render=y1.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(r(409));var h=u.current,m=ui();LE(h,m,a,u,null,null)},ld.prototype.unmount=y1.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;LE(a.current,2,null,a,null,null),zh(),u[ie]=null}};function ld(a){this._internalRoot=a}ld.prototype.unstable_scheduleHydration=function(a){if(a){var u=G();a={blockedOn:null,target:a,priority:u};for(var h=0;h<no.length&&u!==0&&u<no[h].priority;h++);no.splice(h,0,a),h===0&&qE(a)}};var jE=e.version;if(jE!=="19.2.0")throw Error(r(527,jE,"19.2.0"));ue.findDOMNode=function(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=c(u),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var r8={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{St=cd.inject(r8),rn=cd}catch{}}return wf.createRoot=function(a,u){if(!i(a))throw Error(r(299));var h=!1,m="",T=Q2,S=Z2,B=eT;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(T=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(B=u.onRecoverableError)),u=ME(a,1,!1,null,null,h,m,null,T,S,B,GE),a[ie]=u.current,Zg(a),new y1(u)},wf.hydrateRoot=function(a,u,h){if(!i(a))throw Error(r(299));var m=!1,T="",S=Q2,B=Z2,W=eT,oe=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(T=h.identifierPrefix),h.onUncaughtError!==void 0&&(S=h.onUncaughtError),h.onCaughtError!==void 0&&(B=h.onCaughtError),h.onRecoverableError!==void 0&&(W=h.onRecoverableError),h.formState!==void 0&&(oe=h.formState)),u=ME(a,1,!0,u,h??null,m,T,oe,S,B,W,GE),u.context=PE(null),h=u.current,m=ui(),m=zs(m),T=qa(m),T.callback=null,Ha(h,T,m),h=m,u.current.lanes=h,Bs(u,h),vs(u),a[ie]=u.current,Zg(a),new ld(u)},wf.version="19.2.0",wf}var tb;function x8(){if(tb)return T1.exports;tb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),T1.exports=g8(),T1.exports}var y8=x8();const v8=Fp(y8),en=()=>w.jsxs("svg",{className:"animate-spin h-5 w-5 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),_8=()=>{};var nb={};/**
    +`+m.stack}}var Ge=Object.prototype.hasOwnProperty,We=t.unstable_scheduleCallback,Yt=t.unstable_cancelCallback,ot=t.unstable_shouldYield,ut=t.unstable_requestPaint,st=t.unstable_now,bt=t.unstable_getCurrentPriorityLevel,dt=t.unstable_ImmediatePriority,tn=t.unstable_UserBlockingPriority,wt=t.unstable_NormalPriority,Pn=t.unstable_LowPriority,ht=t.unstable_IdlePriority,Ut=t.log,nn=t.unstable_setDisableYieldValue,St=null,rn=null;function kr(a){if(typeof Ut=="function"&&nn(a),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(St,a)}catch{}}var Tn=Math.clz32?Math.clz32:Go,Ju=Math.log,Vs=Math.LN2;function Go(a){return a>>>=0,a===0?32:31-(Ju(a)/Vs|0)|0}var Qr=256,Bs=262144,bn=4194304;function Rr(a){var u=a&42;if(u!==0)return u;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function pi(a,u,h){var m=a.pendingLanes;if(m===0)return 0;var T=0,S=a.suspendedLanes,B=a.pingedLanes;a=a.warmLanes;var W=m&134217727;return W!==0?(m=W&~S,m!==0?T=Rr(m):(B&=W,B!==0?T=Rr(B):h||(h=W&~a,h!==0&&(T=Rr(h))))):(W=m&~S,W!==0?T=Rr(W):B!==0?T=Rr(B):h||(h=m&~a,h!==0&&(T=Rr(h)))),T===0?0:u!==0&&u!==T&&(u&S)===0&&(S=T&-T,h=u&-u,S>=h||S===32&&(h&4194048)!==0)?u:T}function Zr(a,u){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&u)===0}function kc(a,u){switch(a){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qu(){var a=bn;return bn<<=1,(bn&62914560)===0&&(bn=4194304),a}function mi(a){for(var u=[],h=0;31>h;h++)u.push(a);return u}function qs(a,u){a.pendingLanes|=u,u!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Rc(a,u,h,m,T,S){var B=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var W=a.entanglements,ue=a.expirationTimes,Te=a.hiddenUpdates;for(h=B&~h;0<h;){var Me=31-Tn(h),Oe=1<<Me;W[Me]=0,ue[Me]=-1;var we=Te[Me];if(we!==null)for(Te[Me]=null,Me=0;Me<we.length;Me++){var Ae=we[Me];Ae!==null&&(Ae.lane&=-536870913)}h&=~Oe}m!==0&&Hs(a,m,0),S!==0&&T===0&&a.tag!==0&&(a.suspendedLanes|=S&~(B&~u))}function Hs(a,u,h){a.pendingLanes|=u,a.suspendedLanes&=~u;var m=31-Tn(u);a.entangledLanes|=u,a.entanglements[m]=a.entanglements[m]|1073741824|h&261930}function zs(a,u){var h=a.entangledLanes|=u;for(a=a.entanglements;h;){var m=31-Tn(h),T=1<<m;T&u|a[m]&u&&(a[m]|=u),h&=~T}}function jo(a,u){var h=u&-u;return h=(h&42)!==0?1:Gs(h),(h&(a.suspendedLanes|u))!==0?0:h}function Gs(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Li(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function j(){var a=se.p;return a!==0?a:(a=window.event,a===void 0?32:qE(a.type))}function ne(a,u){var h=se.p;try{return se.p=a,u()}finally{se.p=h}}var J=Math.random().toString(36).slice(2),Z="__reactFiber$"+J,te="__reactProps$"+J,ie="__reactContainer$"+J,ve="__reactEvents$"+J,De="__reactListeners$"+J,_e="__reactHandles$"+J,be="__reactResources$"+J,Ee="__reactMarker$"+J;function Be(a){delete a[Z],delete a[te],delete a[ve],delete a[De],delete a[_e]}function ze(a){var u=a[Z];if(u)return u;for(var h=a.parentNode;h;){if(u=h[ie]||h[Z]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(a=SE(a);a!==null;){if(h=a[Z])return h;a=SE(a)}return u}a=h,h=a.parentNode}return null}function Ye(a){if(a=a[Z]||a[ie]){var u=a.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return a}return null}function Ve(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a.stateNode;throw Error(r(33))}function $e(a){var u=a[be];return u||(u=a[be]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Ze(a){a[Ee]=!0}var Xt=new Set,Jt={};function cn(a,u){pr(a,u),pr(a+"Capture",u)}function pr(a,u){for(Jt[a]=u,a=0;a<u.length;a++)Xt.add(u[a])}var Oi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fi={},ei={};function Ca(a){return Ge.call(ei,a)?!0:Ge.call(Fi,a)?!1:Oi.test(a)?ei[a]=!0:(Fi[a]=!0,!1)}function mr(a,u,h){if(Ca(u))if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(u);return;case"boolean":var m=u.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(u);return}}a.setAttribute(u,""+h)}}function ti(a,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttribute(u,""+h)}}function Ln(a,u,h,m){if(m===null)a.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(u,h,""+m)}}function Qn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ia(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Nc(a,u,h){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,u);if(!a.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var T=m.get,S=m.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return T.call(this)},set:function(B){h=""+B,S.call(this,B)}}),Object.defineProperty(a,u,{enumerable:m.enumerable}),{getValue:function(){return h},setValue:function(B){h=""+B},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Qt(a){if(!a._valueTracker){var u=Ia(a)?"checked":"value";a._valueTracker=Nc(a,u,""+a[u])}}function $o(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var h=u.getValue(),m="";return a&&(m=Ia(a)?a.checked?"true":"false":a.value),a=m,a!==h?(u.setValue(a),!0):!1}function ls(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Wo=/[\n"\\]/g;function Vr(a){return a.replace(Wo,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Zu(a,u,h,m,T,S,B,W){a.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?a.type=B:a.removeAttribute("type"),u!=null?B==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+Qn(u)):a.value!==""+Qn(u)&&(a.value=""+Qn(u)):B!=="submit"&&B!=="reset"||a.removeAttribute("value"),u!=null?Dc(a,B,Qn(u)):h!=null?Dc(a,B,Qn(h)):m!=null&&a.removeAttribute("value"),T==null&&S!=null&&(a.defaultChecked=!!S),T!=null&&(a.checked=T&&typeof T!="function"&&typeof T!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?a.name=""+Qn(W):a.removeAttribute("name")}function K0(a,u,h,m,T,S,B,W){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(a.type=S),u!=null||h!=null){if(!(S!=="submit"&&S!=="reset"||u!=null)){Qt(a);return}h=h!=null?""+Qn(h):"",u=u!=null?""+Qn(u):h,W||u===a.value||(a.value=u),a.defaultValue=u}m=m??T,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=W?a.checked:!!m,a.defaultChecked=!!m,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(a.name=B),Qt(a)}function Dc(a,u,h){u==="number"&&ls(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function ka(a,u,h,m){if(a=a.options,u){u={};for(var T=0;T<h.length;T++)u["$"+h[T]]=!0;for(h=0;h<a.length;h++)T=u.hasOwnProperty("$"+a[h].value),a[h].selected!==T&&(a[h].selected=T),T&&m&&(a[h].defaultSelected=!0)}else{for(h=""+Qn(h),u=null,T=0;T<a.length;T++){if(a[T].value===h){a[T].selected=!0,m&&(a[T].defaultSelected=!0);return}u!==null||a[T].disabled||(u=a[T])}u!==null&&(u.selected=!0)}}function Y0(a,u,h){if(u!=null&&(u=""+Qn(u),u!==a.value&&(a.value=u),h==null)){a.defaultValue!==u&&(a.defaultValue=u);return}a.defaultValue=h!=null?""+Qn(h):""}function Ra(a,u,h,m){if(u==null){if(m!=null){if(h!=null)throw Error(r(92));if(oe(m)){if(1<m.length)throw Error(r(93));m=m[0]}h=m}h==null&&(h=""),u=h}h=Qn(u),a.defaultValue=h,m=a.textContent,m===h&&m!==""&&m!==null&&(a.value=m),Qt(a)}function Br(a,u){if(u){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=u;return}}a.textContent=u}var X0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mc(a,u,h){var m=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="":m?a.setProperty(u,h):typeof h!="number"||h===0||X0.has(u)?u==="float"?a.cssFloat=h:a[u]=(""+h).trim():a[u]=h+"px"}function Pc(a,u,h){if(u!=null&&typeof u!="object")throw Error(r(62));if(a=a.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||u!=null&&u.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var T in u)m=u[T],u.hasOwnProperty(T)&&h[T]!==m&&Mc(a,T,m)}else for(var S in u)u.hasOwnProperty(S)&&Mc(a,S,u[S])}function el(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var J0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Na=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tl(a){return Na.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ui(){}var Lc=null;function gi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Da=null,cs=null;function Ko(a){var u=Ye(a);if(u&&(a=u.stateNode)){var h=a[te]||null;e:switch(a=u.stateNode,u.type){case"input":if(Zu(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Vr(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var m=h[u];if(m!==a&&m.form===a.form){var T=m[te]||null;if(!T)throw Error(r(90));Zu(m,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(u=0;u<h.length;u++)m=h[u],m.form===a.form&&$o(m)}break e;case"textarea":Y0(a,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&ka(a,!!h.multiple,u,!1)}}}var nl=!1;function Ma(a,u,h){if(nl)return a(u,h);nl=!0;try{var m=a(u);return m}finally{if(nl=!1,(Da!==null||cs!==null)&&(Gh(),Da&&(u=Da,a=cs,cs=Da=null,Ko(u),a)))for(u=0;u<a.length;u++)Ko(a[u])}}function Vi(a,u){var h=a.stateNode;if(h===null)return null;var m=h[te]||null;if(m===null)return null;h=m[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yo=!1;if(xi)try{var sn={};Object.defineProperty(sn,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",sn,sn),window.removeEventListener("test",sn,sn)}catch{Yo=!1}var fs=null,Oc=null,Xo=null;function Fc(){if(Xo)return Xo;var a,u=Oc,h=u.length,m,T="value"in fs?fs.value:fs.textContent,S=T.length;for(a=0;a<h&&u[a]===T[a];a++);var B=h-a;for(m=1;m<=B&&u[h-m]===T[S-m];m++);return Xo=T.slice(a,1<m?1-m:void 0)}function Jo(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function js(){return!0}function Bi(){return!1}function rr(a){function u(h,m,T,S,B){this._reactName=h,this._targetInst=T,this.type=m,this.nativeEvent=S,this.target=B,this.currentTarget=null;for(var W in a)a.hasOwnProperty(W)&&(h=a[W],this[W]=h?h(S):S[W]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?js:Bi,this.isPropagationStopped=Bi,this}return g(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=js)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=js)},persist:function(){},isPersistent:js}),u}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hs=rr($s),Pa=g({},$s,{view:0,detail:0}),Uc=rr(Pa),La,rl,ds,il=g({},Pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ds&&(ds&&a.type==="mousemove"?(La=a.screenX-ds.screenX,rl=a.screenY-ds.screenY):rl=La=0,ds=a),La)},movementY:function(a){return"movementY"in a?a.movementY:rl}}),Vc=rr(il),Qo=g({},il,{dataTransfer:0}),Q0=rr(Qo),Z0=g({},Pa,{relatedTarget:0}),Zo=rr(Z0),Bc=g({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),eh=rr(Bc),sl=g({},$s,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),th=rr(sl),nh=g({},$s,{data:0}),ps=rr(nh),rh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ih={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ah(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=sh[a])?!!u[a]:!1}function Oa(){return ah}var Nr=g({},Pa,{key:function(a){if(a.key){var u=rh[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Jo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?ih[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(a){return a.type==="keypress"?Jo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Jo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),oh=rr(Nr),uh=g({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ws=rr(uh),v=g({},Pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),O=rr(v),H=g({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q=rr(H),xe=g({},il,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Se=rr(xe),je=g({},$s,{newState:0,oldState:0}),yt=rr(je),kn=[9,13,27,32],Gt=xi&&"CompositionEvent"in window,yn=null;xi&&"documentMode"in document&&(yn=document.documentMode);var yi=xi&&"TextEvent"in window&&!yn,ms=xi&&(!Gt||yn&&8<yn&&11>=yn),qi=" ",Hi=!1;function eu(a,u){switch(a){case"keyup":return kn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function al(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ol=!1;function LR(a,u){switch(a){case"compositionend":return al(u);case"keypress":return u.which!==32?null:(Hi=!0,qi);case"textInput":return a=u.data,a===qi&&Hi?null:a;default:return null}}function OR(a,u){if(ol)return a==="compositionend"||!Gt&&eu(a,u)?(a=Fc(),Xo=Oc=fs=null,ol=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ms&&u.locale!=="ko"?null:u.data;default:return null}}var FR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I_(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!FR[a.type]:u==="textarea"}function k_(a,u,h,m){Da?cs?cs.push(m):cs=[m]:Da=m,u=Jh(u,"onChange"),0<u.length&&(h=new hs("onChange","change",null,h,m),a.push({event:h,listeners:u}))}var qc=null,Hc=null;function UR(a){fE(a,0)}function lh(a){var u=Ve(a);if($o(u))return a}function R_(a,u){if(a==="change")return u}var N_=!1;if(xi){var km;if(xi){var Rm="oninput"in document;if(!Rm){var D_=document.createElement("div");D_.setAttribute("oninput","return;"),Rm=typeof D_.oninput=="function"}km=Rm}else km=!1;N_=km&&(!document.documentMode||9<document.documentMode)}function M_(){qc&&(qc.detachEvent("onpropertychange",P_),Hc=qc=null)}function P_(a){if(a.propertyName==="value"&&lh(Hc)){var u=[];k_(u,Hc,a,gi(a)),Ma(UR,u)}}function VR(a,u,h){a==="focusin"?(M_(),qc=u,Hc=h,qc.attachEvent("onpropertychange",P_)):a==="focusout"&&M_()}function BR(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return lh(Hc)}function qR(a,u){if(a==="click")return lh(u)}function HR(a,u){if(a==="input"||a==="change")return lh(u)}function zR(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var ni=typeof Object.is=="function"?Object.is:zR;function zc(a,u){if(ni(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var h=Object.keys(a),m=Object.keys(u);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var T=h[m];if(!Ge.call(u,T)||!ni(a[T],u[T]))return!1}return!0}function L_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function O_(a,u){var h=L_(a);a=0;for(var m;h;){if(h.nodeType===3){if(m=a+h.textContent.length,a<=u&&m>=u)return{node:h,offset:u-a};a=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=L_(h)}}function F_(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?F_(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function U_(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var u=ls(a.document);u instanceof a.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)a=u.contentWindow;else break;u=ls(a.document)}return u}function Nm(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}var GR=xi&&"documentMode"in document&&11>=document.documentMode,ul=null,Dm=null,Gc=null,Mm=!1;function V_(a,u,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Mm||ul==null||ul!==ls(m)||(m=ul,"selectionStart"in m&&Nm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Gc&&zc(Gc,m)||(Gc=m,m=Jh(Dm,"onSelect"),0<m.length&&(u=new hs("onSelect","select",null,u,h),a.push({event:u,listeners:m}),u.target=ul)))}function tu(a,u){var h={};return h[a.toLowerCase()]=u.toLowerCase(),h["Webkit"+a]="webkit"+u,h["Moz"+a]="moz"+u,h}var ll={animationend:tu("Animation","AnimationEnd"),animationiteration:tu("Animation","AnimationIteration"),animationstart:tu("Animation","AnimationStart"),transitionrun:tu("Transition","TransitionRun"),transitionstart:tu("Transition","TransitionStart"),transitioncancel:tu("Transition","TransitionCancel"),transitionend:tu("Transition","TransitionEnd")},Pm={},B_={};xi&&(B_=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function nu(a){if(Pm[a])return Pm[a];if(!ll[a])return a;var u=ll[a],h;for(h in u)if(u.hasOwnProperty(h)&&h in B_)return Pm[a]=u[h];return a}var q_=nu("animationend"),H_=nu("animationiteration"),z_=nu("animationstart"),jR=nu("transitionrun"),$R=nu("transitionstart"),WR=nu("transitioncancel"),G_=nu("transitionend"),j_=new Map,Lm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lm.push("scrollEnd");function zi(a,u){j_.set(a,u),cn(u,[a])}var ch=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},vi=[],cl=0,Om=0;function fh(){for(var a=cl,u=Om=cl=0;u<a;){var h=vi[u];vi[u++]=null;var m=vi[u];vi[u++]=null;var T=vi[u];vi[u++]=null;var S=vi[u];if(vi[u++]=null,m!==null&&T!==null){var B=m.pending;B===null?T.next=T:(T.next=B.next,B.next=T),m.pending=T}S!==0&&$_(h,T,S)}}function hh(a,u,h,m){vi[cl++]=a,vi[cl++]=u,vi[cl++]=h,vi[cl++]=m,Om|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Fm(a,u,h,m){return hh(a,u,h,m),dh(a)}function ru(a,u){return hh(a,null,null,u),dh(a)}function $_(a,u,h){a.lanes|=h;var m=a.alternate;m!==null&&(m.lanes|=h);for(var T=!1,S=a.return;S!==null;)S.childLanes|=h,m=S.alternate,m!==null&&(m.childLanes|=h),S.tag===22&&(a=S.stateNode,a===null||a._visibility&1||(T=!0)),a=S,S=S.return;return a.tag===3?(S=a.stateNode,T&&u!==null&&(T=31-Tn(h),a=S.hiddenUpdates,m=a[T],m===null?a[T]=[u]:m.push(u),u.lane=h|536870912),S):null}function dh(a){if(50<df)throw df=0,$g=null,Error(r(185));for(var u=a.return;u!==null;)a=u,u=a.return;return a.tag===3?a.stateNode:null}var fl={};function KR(a,u,h,m){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(a,u,h,m){return new KR(a,u,h,m)}function Um(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ks(a,u){var h=a.alternate;return h===null?(h=ri(a.tag,u,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=u,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,u=a.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function W_(a,u){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=u,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,u=h.dependencies,a.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),a}function ph(a,u,h,m,T,S){var B=0;if(m=a,typeof a=="function")Um(a)&&(B=1);else if(typeof a=="string")B=ZN(a,h,ee.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case R:return a=ri(31,h,u,T),a.elementType=R,a.lanes=S,a;case b:return iu(h.children,T,S,u);case C:B=8,T|=24;break;case I:return a=ri(12,h,u,T|2),a.elementType=I,a.lanes=S,a;case M:return a=ri(13,h,u,T),a.elementType=M,a.lanes=S,a;case U:return a=ri(19,h,u,T),a.elementType=U,a.lanes=S,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case A:B=10;break e;case D:B=9;break e;case P:B=11;break e;case N:B=14;break e;case k:B=16,m=null;break e}B=29,h=Error(r(130,a===null?"null":typeof a,"")),m=null}return u=ri(B,h,u,T),u.elementType=a,u.type=m,u.lanes=S,u}function iu(a,u,h,m){return a=ri(7,a,m,u),a.lanes=h,a}function Vm(a,u,h){return a=ri(6,a,null,u),a.lanes=h,a}function K_(a){var u=ri(18,null,null,0);return u.stateNode=a,u}function Bm(a,u,h){return u=ri(4,a.children!==null?a.children:[],a.key,u),u.lanes=h,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}var Y_=new WeakMap;function _i(a,u){if(typeof a=="object"&&a!==null){var h=Y_.get(a);return h!==void 0?h:(u={value:a,source:u,stack:nt(u)},Y_.set(a,u),u)}return{value:a,source:u,stack:nt(u)}}var hl=[],dl=0,mh=null,jc=0,Ti=[],Ei=0,Fa=null,gs=1,xs="";function Ys(a,u){hl[dl++]=jc,hl[dl++]=mh,mh=a,jc=u}function X_(a,u,h){Ti[Ei++]=gs,Ti[Ei++]=xs,Ti[Ei++]=Fa,Fa=a;var m=gs;a=xs;var T=32-Tn(m)-1;m&=~(1<<T),h+=1;var S=32-Tn(u)+T;if(30<S){var B=T-T%5;S=(m&(1<<B)-1).toString(32),m>>=B,T-=B,gs=1<<32-Tn(u)+T|h<<T|m,xs=S+a}else gs=1<<S|h<<T|m,xs=a}function qm(a){a.return!==null&&(Ys(a,1),X_(a,1,0))}function Hm(a){for(;a===mh;)mh=hl[--dl],hl[dl]=null,jc=hl[--dl],hl[dl]=null;for(;a===Fa;)Fa=Ti[--Ei],Ti[Ei]=null,xs=Ti[--Ei],Ti[Ei]=null,gs=Ti[--Ei],Ti[Ei]=null}function J_(a,u){Ti[Ei++]=gs,Ti[Ei++]=xs,Ti[Ei++]=Fa,gs=u.id,xs=u.overflow,Fa=a}var ir=null,pn=null,Mt=!1,Ua=null,bi=!1,zm=Error(r(519));function Va(a){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $c(_i(u,a)),zm}function Q_(a){var u=a.stateNode,h=a.type,m=a.memoizedProps;switch(u[Z]=a,u[te]=m,h){case"dialog":Ct("cancel",u),Ct("close",u);break;case"iframe":case"object":case"embed":Ct("load",u);break;case"video":case"audio":for(h=0;h<mf.length;h++)Ct(mf[h],u);break;case"source":Ct("error",u);break;case"img":case"image":case"link":Ct("error",u),Ct("load",u);break;case"details":Ct("toggle",u);break;case"input":Ct("invalid",u),K0(u,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Ct("invalid",u);break;case"textarea":Ct("invalid",u),Ra(u,m.value,m.defaultValue,m.children)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||m.suppressHydrationWarning===!0||mE(u.textContent,h)?(m.popover!=null&&(Ct("beforetoggle",u),Ct("toggle",u)),m.onScroll!=null&&Ct("scroll",u),m.onScrollEnd!=null&&Ct("scrollend",u),m.onClick!=null&&(u.onclick=Ui),u=!0):u=!1,u||Va(a,!0)}function Z_(a){for(ir=a.return;ir;)switch(ir.tag){case 5:case 31:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:ir=ir.return}}function pl(a){if(a!==ir)return!1;if(!Mt)return Z_(a),Mt=!0,!1;var u=a.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||o1(a.type,a.memoizedProps)),h=!h),h&&pn&&Va(a),Z_(a),u===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));pn=wE(a)}else if(u===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));pn=wE(a)}else u===27?(u=pn,Za(a.type)?(a=h1,h1=null,pn=a):pn=u):pn=ir?Si(a.stateNode.nextSibling):null;return!0}function su(){pn=ir=null,Mt=!1}function Gm(){var a=Ua;return a!==null&&(Gr===null?Gr=a:Gr.push.apply(Gr,a),Ua=null),a}function $c(a){Ua===null?Ua=[a]:Ua.push(a)}var jm=G(null),au=null,Xs=null;function Ba(a,u,h){K(jm,u._currentValue),u._currentValue=h}function Js(a){a._currentValue=jm.current,z(jm)}function $m(a,u,h){for(;a!==null;){var m=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,m!==null&&(m.childLanes|=u)):m!==null&&(m.childLanes&u)!==u&&(m.childLanes|=u),a===h)break;a=a.return}}function Wm(a,u,h,m){var T=a.child;for(T!==null&&(T.return=a);T!==null;){var S=T.dependencies;if(S!==null){var B=T.child;S=S.firstContext;e:for(;S!==null;){var W=S;S=T;for(var ue=0;ue<u.length;ue++)if(W.context===u[ue]){S.lanes|=h,W=S.alternate,W!==null&&(W.lanes|=h),$m(S.return,h,a),m||(B=null);break e}S=W.next}}else if(T.tag===18){if(B=T.return,B===null)throw Error(r(341));B.lanes|=h,S=B.alternate,S!==null&&(S.lanes|=h),$m(B,h,a),B=null}else B=T.child;if(B!==null)B.return=T;else for(B=T;B!==null;){if(B===a){B=null;break}if(T=B.sibling,T!==null){T.return=B.return,B=T;break}B=B.return}T=B}}function ml(a,u,h,m){a=null;for(var T=u,S=!1;T!==null;){if(!S){if((T.flags&524288)!==0)S=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var B=T.alternate;if(B===null)throw Error(r(387));if(B=B.memoizedProps,B!==null){var W=T.type;ni(T.pendingProps.value,B.value)||(a!==null?a.push(W):a=[W])}}else if(T===ke.current){if(B=T.alternate,B===null)throw Error(r(387));B.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(a!==null?a.push(_f):a=[_f])}T=T.return}a!==null&&Wm(u,a,h,m),u.flags|=262144}function gh(a){for(a=a.firstContext;a!==null;){if(!ni(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ou(a){au=a,Xs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function sr(a){return e2(au,a)}function xh(a,u){return au===null&&ou(a),e2(a,u)}function e2(a,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},Xs===null){if(a===null)throw Error(r(308));Xs=u,a.dependencies={lanes:0,firstContext:u},a.flags|=524288}else Xs=Xs.next=u;return h}var YR=typeof AbortController<"u"?AbortController:function(){var a=[],u=this.signal={aborted:!1,addEventListener:function(h,m){a.push(m)}};this.abort=function(){u.aborted=!0,a.forEach(function(h){return h()})}},XR=t.unstable_scheduleCallback,JR=t.unstable_NormalPriority,On={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Km(){return{controller:new YR,data:new Map,refCount:0}}function Wc(a){a.refCount--,a.refCount===0&&XR(JR,function(){a.controller.abort()})}var Kc=null,Ym=0,gl=0,xl=null;function QR(a,u){if(Kc===null){var h=Kc=[];Ym=0,gl=Qg(),xl={status:"pending",value:void 0,then:function(m){h.push(m)}}}return Ym++,u.then(t2,t2),u}function t2(){if(--Ym===0&&Kc!==null){xl!==null&&(xl.status="fulfilled");var a=Kc;Kc=null,gl=0,xl=null;for(var u=0;u<a.length;u++)(0,a[u])()}}function ZR(a,u){var h=[],m={status:"pending",value:null,reason:null,then:function(T){h.push(T)}};return a.then(function(){m.status="fulfilled",m.value=u;for(var T=0;T<h.length;T++)(0,h[T])(u)},function(T){for(m.status="rejected",m.reason=T,T=0;T<h.length;T++)(0,h[T])(void 0)}),m}var n2=ae.S;ae.S=function(a,u){VT=st(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&QR(a,u),n2!==null&&n2(a,u)};var uu=G(null);function Xm(){var a=uu.current;return a!==null?a:fn.pooledCache}function yh(a,u){u===null?K(uu,uu.current):K(uu,u.pool)}function r2(){var a=Xm();return a===null?null:{parent:On._currentValue,pool:a}}var yl=Error(r(460)),Jm=Error(r(474)),vh=Error(r(542)),_h={then:function(){}};function i2(a){return a=a.status,a==="fulfilled"||a==="rejected"}function s2(a,u,h){switch(h=a[h],h===void 0?a.push(u):h!==u&&(u.then(Ui,Ui),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,o2(a),a;default:if(typeof u.status=="string")u.then(Ui,Ui);else{if(a=fn,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=u,a.status="pending",a.then(function(m){if(u.status==="pending"){var T=u;T.status="fulfilled",T.value=m}},function(m){if(u.status==="pending"){var T=u;T.status="rejected",T.reason=m}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,o2(a),a}throw cu=u,yl}}function lu(a){try{var u=a._init;return u(a._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(cu=h,yl):h}}var cu=null;function a2(){if(cu===null)throw Error(r(459));var a=cu;return cu=null,a}function o2(a){if(a===yl||a===vh)throw Error(r(483))}var vl=null,Yc=0;function Th(a){var u=Yc;return Yc+=1,vl===null&&(vl=[]),s2(vl,a,u)}function Xc(a,u){u=u.props.ref,a.ref=u!==void 0?u:null}function Eh(a,u){throw u.$$typeof===p?Error(r(525)):(a=Object.prototype.toString.call(u),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a)))}function u2(a){function u(de,le){if(a){var ye=de.deletions;ye===null?(de.deletions=[le],de.flags|=16):ye.push(le)}}function h(de,le){if(!a)return null;for(;le!==null;)u(de,le),le=le.sibling;return null}function m(de){for(var le=new Map;de!==null;)de.key!==null?le.set(de.key,de):le.set(de.index,de),de=de.sibling;return le}function T(de,le){return de=Ks(de,le),de.index=0,de.sibling=null,de}function S(de,le,ye){return de.index=ye,a?(ye=de.alternate,ye!==null?(ye=ye.index,ye<le?(de.flags|=67108866,le):ye):(de.flags|=67108866,le)):(de.flags|=1048576,le)}function B(de){return a&&de.alternate===null&&(de.flags|=67108866),de}function W(de,le,ye,Pe){return le===null||le.tag!==6?(le=Vm(ye,de.mode,Pe),le.return=de,le):(le=T(le,ye),le.return=de,le)}function ue(de,le,ye,Pe){var rt=ye.type;return rt===b?Me(de,le,ye.props.children,Pe,ye.key):le!==null&&(le.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===k&&lu(rt)===le.type)?(le=T(le,ye.props),Xc(le,ye),le.return=de,le):(le=ph(ye.type,ye.key,ye.props,null,de.mode,Pe),Xc(le,ye),le.return=de,le)}function Te(de,le,ye,Pe){return le===null||le.tag!==4||le.stateNode.containerInfo!==ye.containerInfo||le.stateNode.implementation!==ye.implementation?(le=Bm(ye,de.mode,Pe),le.return=de,le):(le=T(le,ye.children||[]),le.return=de,le)}function Me(de,le,ye,Pe,rt){return le===null||le.tag!==7?(le=iu(ye,de.mode,Pe,rt),le.return=de,le):(le=T(le,ye),le.return=de,le)}function Oe(de,le,ye){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return le=Vm(""+le,de.mode,ye),le.return=de,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case x:return ye=ph(le.type,le.key,le.props,null,de.mode,ye),Xc(ye,le),ye.return=de,ye;case _:return le=Bm(le,de.mode,ye),le.return=de,le;case k:return le=lu(le),Oe(de,le,ye)}if(oe(le)||F(le))return le=iu(le,de.mode,ye,null),le.return=de,le;if(typeof le.then=="function")return Oe(de,Th(le),ye);if(le.$$typeof===A)return Oe(de,xh(de,le),ye);Eh(de,le)}return null}function we(de,le,ye,Pe){var rt=le!==null?le.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return rt!==null?null:W(de,le,""+ye,Pe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case x:return ye.key===rt?ue(de,le,ye,Pe):null;case _:return ye.key===rt?Te(de,le,ye,Pe):null;case k:return ye=lu(ye),we(de,le,ye,Pe)}if(oe(ye)||F(ye))return rt!==null?null:Me(de,le,ye,Pe,null);if(typeof ye.then=="function")return we(de,le,Th(ye),Pe);if(ye.$$typeof===A)return we(de,le,xh(de,ye),Pe);Eh(de,ye)}return null}function Ae(de,le,ye,Pe,rt){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return de=de.get(ye)||null,W(le,de,""+Pe,rt);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case x:return de=de.get(Pe.key===null?ye:Pe.key)||null,ue(le,de,Pe,rt);case _:return de=de.get(Pe.key===null?ye:Pe.key)||null,Te(le,de,Pe,rt);case k:return Pe=lu(Pe),Ae(de,le,ye,Pe,rt)}if(oe(Pe)||F(Pe))return de=de.get(ye)||null,Me(le,de,Pe,rt,null);if(typeof Pe.then=="function")return Ae(de,le,ye,Th(Pe),rt);if(Pe.$$typeof===A)return Ae(de,le,ye,xh(le,Pe),rt);Eh(le,Pe)}return null}function Qe(de,le,ye,Pe){for(var rt=null,Bt=null,tt=le,Tt=le=0,kt=null;tt!==null&&Tt<ye.length;Tt++){tt.index>Tt?(kt=tt,tt=null):kt=tt.sibling;var qt=we(de,tt,ye[Tt],Pe);if(qt===null){tt===null&&(tt=kt);break}a&&tt&&qt.alternate===null&&u(de,tt),le=S(qt,le,Tt),Bt===null?rt=qt:Bt.sibling=qt,Bt=qt,tt=kt}if(Tt===ye.length)return h(de,tt),Mt&&Ys(de,Tt),rt;if(tt===null){for(;Tt<ye.length;Tt++)tt=Oe(de,ye[Tt],Pe),tt!==null&&(le=S(tt,le,Tt),Bt===null?rt=tt:Bt.sibling=tt,Bt=tt);return Mt&&Ys(de,Tt),rt}for(tt=m(tt);Tt<ye.length;Tt++)kt=Ae(tt,de,Tt,ye[Tt],Pe),kt!==null&&(a&&kt.alternate!==null&&tt.delete(kt.key===null?Tt:kt.key),le=S(kt,le,Tt),Bt===null?rt=kt:Bt.sibling=kt,Bt=kt);return a&&tt.forEach(function(io){return u(de,io)}),Mt&&Ys(de,Tt),rt}function at(de,le,ye,Pe){if(ye==null)throw Error(r(151));for(var rt=null,Bt=null,tt=le,Tt=le=0,kt=null,qt=ye.next();tt!==null&&!qt.done;Tt++,qt=ye.next()){tt.index>Tt?(kt=tt,tt=null):kt=tt.sibling;var io=we(de,tt,qt.value,Pe);if(io===null){tt===null&&(tt=kt);break}a&&tt&&io.alternate===null&&u(de,tt),le=S(io,le,Tt),Bt===null?rt=io:Bt.sibling=io,Bt=io,tt=kt}if(qt.done)return h(de,tt),Mt&&Ys(de,Tt),rt;if(tt===null){for(;!qt.done;Tt++,qt=ye.next())qt=Oe(de,qt.value,Pe),qt!==null&&(le=S(qt,le,Tt),Bt===null?rt=qt:Bt.sibling=qt,Bt=qt);return Mt&&Ys(de,Tt),rt}for(tt=m(tt);!qt.done;Tt++,qt=ye.next())qt=Ae(tt,de,Tt,qt.value,Pe),qt!==null&&(a&&qt.alternate!==null&&tt.delete(qt.key===null?Tt:qt.key),le=S(qt,le,Tt),Bt===null?rt=qt:Bt.sibling=qt,Bt=qt);return a&&tt.forEach(function(c8){return u(de,c8)}),Mt&&Ys(de,Tt),rt}function un(de,le,ye,Pe){if(typeof ye=="object"&&ye!==null&&ye.type===b&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case x:e:{for(var rt=ye.key;le!==null;){if(le.key===rt){if(rt=ye.type,rt===b){if(le.tag===7){h(de,le.sibling),Pe=T(le,ye.props.children),Pe.return=de,de=Pe;break e}}else if(le.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===k&&lu(rt)===le.type){h(de,le.sibling),Pe=T(le,ye.props),Xc(Pe,ye),Pe.return=de,de=Pe;break e}h(de,le);break}else u(de,le);le=le.sibling}ye.type===b?(Pe=iu(ye.props.children,de.mode,Pe,ye.key),Pe.return=de,de=Pe):(Pe=ph(ye.type,ye.key,ye.props,null,de.mode,Pe),Xc(Pe,ye),Pe.return=de,de=Pe)}return B(de);case _:e:{for(rt=ye.key;le!==null;){if(le.key===rt)if(le.tag===4&&le.stateNode.containerInfo===ye.containerInfo&&le.stateNode.implementation===ye.implementation){h(de,le.sibling),Pe=T(le,ye.children||[]),Pe.return=de,de=Pe;break e}else{h(de,le);break}else u(de,le);le=le.sibling}Pe=Bm(ye,de.mode,Pe),Pe.return=de,de=Pe}return B(de);case k:return ye=lu(ye),un(de,le,ye,Pe)}if(oe(ye))return Qe(de,le,ye,Pe);if(F(ye)){if(rt=F(ye),typeof rt!="function")throw Error(r(150));return ye=rt.call(ye),at(de,le,ye,Pe)}if(typeof ye.then=="function")return un(de,le,Th(ye),Pe);if(ye.$$typeof===A)return un(de,le,xh(de,ye),Pe);Eh(de,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,le!==null&&le.tag===6?(h(de,le.sibling),Pe=T(le,ye),Pe.return=de,de=Pe):(h(de,le),Pe=Vm(ye,de.mode,Pe),Pe.return=de,de=Pe),B(de)):h(de,le)}return function(de,le,ye,Pe){try{Yc=0;var rt=un(de,le,ye,Pe);return vl=null,rt}catch(tt){if(tt===yl||tt===vh)throw tt;var Bt=ri(29,tt,null,de.mode);return Bt.lanes=Pe,Bt.return=de,Bt}finally{}}}var fu=u2(!0),l2=u2(!1),qa=!1;function Qm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zm(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ha(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function za(a,u,h){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(jt&2)!==0){var T=m.pending;return T===null?u.next=u:(u.next=T.next,T.next=u),m.pending=u,u=dh(a),$_(a,null,h),u}return hh(a,m,u,h),dh(a)}function Jc(a,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var m=u.lanes;m&=a.pendingLanes,h|=m,u.lanes=h,zs(a,h)}}function eg(a,u){var h=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var T=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var B={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};S===null?T=S=B:S=S.next=B,h=h.next}while(h!==null);S===null?T=S=u:S=S.next=u}else T=S=u;h={baseState:m.baseState,firstBaseUpdate:T,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=u}var tg=!1;function Qc(){if(tg){var a=xl;if(a!==null)throw a}}function Zc(a,u,h,m){tg=!1;var T=a.updateQueue;qa=!1;var S=T.firstBaseUpdate,B=T.lastBaseUpdate,W=T.shared.pending;if(W!==null){T.shared.pending=null;var ue=W,Te=ue.next;ue.next=null,B===null?S=Te:B.next=Te,B=ue;var Me=a.alternate;Me!==null&&(Me=Me.updateQueue,W=Me.lastBaseUpdate,W!==B&&(W===null?Me.firstBaseUpdate=Te:W.next=Te,Me.lastBaseUpdate=ue))}if(S!==null){var Oe=T.baseState;B=0,Me=Te=ue=null,W=S;do{var we=W.lane&-536870913,Ae=we!==W.lane;if(Ae?(It&we)===we:(m&we)===we){we!==0&&we===gl&&(tg=!0),Me!==null&&(Me=Me.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var Qe=a,at=W;we=u;var un=h;switch(at.tag){case 1:if(Qe=at.payload,typeof Qe=="function"){Oe=Qe.call(un,Oe,we);break e}Oe=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=at.payload,we=typeof Qe=="function"?Qe.call(un,Oe,we):Qe,we==null)break e;Oe=g({},Oe,we);break e;case 2:qa=!0}}we=W.callback,we!==null&&(a.flags|=64,Ae&&(a.flags|=8192),Ae=T.callbacks,Ae===null?T.callbacks=[we]:Ae.push(we))}else Ae={lane:we,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Me===null?(Te=Me=Ae,ue=Oe):Me=Me.next=Ae,B|=we;if(W=W.next,W===null){if(W=T.shared.pending,W===null)break;Ae=W,W=Ae.next,Ae.next=null,T.lastBaseUpdate=Ae,T.shared.pending=null}}while(!0);Me===null&&(ue=Oe),T.baseState=ue,T.firstBaseUpdate=Te,T.lastBaseUpdate=Me,S===null&&(T.shared.lanes=0),Ka|=B,a.lanes=B,a.memoizedState=Oe}}function c2(a,u){if(typeof a!="function")throw Error(r(191,a));a.call(u)}function f2(a,u){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)c2(h[a],u)}var _l=G(null),bh=G(0);function h2(a,u){a=aa,K(bh,a),K(_l,u),aa=a|u.baseLanes}function ng(){K(bh,aa),K(_l,_l.current)}function rg(){aa=bh.current,z(_l),z(bh)}var ii=G(null),wi=null;function Ga(a){var u=a.alternate;K(Rn,Rn.current&1),K(ii,a),wi===null&&(u===null||_l.current!==null||u.memoizedState!==null)&&(wi=a)}function ig(a){K(Rn,Rn.current),K(ii,a),wi===null&&(wi=a)}function d2(a){a.tag===22?(K(Rn,Rn.current),K(ii,a),wi===null&&(wi=a)):ja()}function ja(){K(Rn,Rn.current),K(ii,ii.current)}function si(a){z(ii),wi===a&&(wi=null),z(Rn)}var Rn=G(0);function wh(a){for(var u=a;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||c1(h)||f1(h)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Qs=0,vt=null,an=null,Fn=null,Sh=!1,Tl=!1,hu=!1,Ah=0,ef=0,El=null,eN=0;function wn(){throw Error(r(321))}function sg(a,u){if(u===null)return!1;for(var h=0;h<u.length&&h<a.length;h++)if(!ni(a[h],u[h]))return!1;return!0}function ag(a,u,h,m,T,S){return Qs=S,vt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,ae.H=a===null||a.memoizedState===null?X2:Tg,hu=!1,S=h(m,T),hu=!1,Tl&&(S=m2(u,h,m,T)),p2(a),S}function p2(a){ae.H=rf;var u=an!==null&&an.next!==null;if(Qs=0,Fn=an=vt=null,Sh=!1,ef=0,El=null,u)throw Error(r(300));a===null||Un||(a=a.dependencies,a!==null&&gh(a)&&(Un=!0))}function m2(a,u,h,m){vt=a;var T=0;do{if(Tl&&(El=null),ef=0,Tl=!1,25<=T)throw Error(r(301));if(T+=1,Fn=an=null,a.updateQueue!=null){var S=a.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}ae.H=J2,S=u(h,m)}while(Tl);return S}function tN(){var a=ae.H,u=a.useState()[0];return u=typeof u.then=="function"?tf(u):u,a=a.useState()[0],(an!==null?an.memoizedState:null)!==a&&(vt.flags|=1024),u}function og(){var a=Ah!==0;return Ah=0,a}function ug(a,u,h){u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~h}function lg(a){if(Sh){for(a=a.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}Sh=!1}Qs=0,Fn=an=vt=null,Tl=!1,ef=Ah=0,El=null}function Dr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?vt.memoizedState=Fn=a:Fn=Fn.next=a,Fn}function Nn(){if(an===null){var a=vt.alternate;a=a!==null?a.memoizedState:null}else a=an.next;var u=Fn===null?vt.memoizedState:Fn.next;if(u!==null)Fn=u,an=a;else{if(a===null)throw vt.alternate===null?Error(r(467)):Error(r(310));an=a,a={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},Fn===null?vt.memoizedState=Fn=a:Fn=Fn.next=a}return Fn}function Ch(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tf(a){var u=ef;return ef+=1,El===null&&(El=[]),a=s2(El,a,u),u=vt,(Fn===null?u.memoizedState:Fn.next)===null&&(u=u.alternate,ae.H=u===null||u.memoizedState===null?X2:Tg),a}function Ih(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return tf(a);if(a.$$typeof===A)return sr(a)}throw Error(r(438,String(a)))}function cg(a){var u=null,h=vt.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var m=vt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(u={data:m.data.map(function(T){return T.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=Ch(),vt.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(a),m=0;m<a;m++)h[m]=V;return u.index++,h}function Zs(a,u){return typeof u=="function"?u(a):u}function kh(a){var u=Nn();return fg(u,an,a)}function fg(a,u,h){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=h;var T=a.baseQueue,S=m.pending;if(S!==null){if(T!==null){var B=T.next;T.next=S.next,S.next=B}u.baseQueue=T=S,m.pending=null}if(S=a.baseState,T===null)a.memoizedState=S;else{u=T.next;var W=B=null,ue=null,Te=u,Me=!1;do{var Oe=Te.lane&-536870913;if(Oe!==Te.lane?(It&Oe)===Oe:(Qs&Oe)===Oe){var we=Te.revertLane;if(we===0)ue!==null&&(ue=ue.next={lane:0,revertLane:0,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),Oe===gl&&(Me=!0);else if((Qs&we)===we){Te=Te.next,we===gl&&(Me=!0);continue}else Oe={lane:0,revertLane:Te.revertLane,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},ue===null?(W=ue=Oe,B=S):ue=ue.next=Oe,vt.lanes|=we,Ka|=we;Oe=Te.action,hu&&h(S,Oe),S=Te.hasEagerState?Te.eagerState:h(S,Oe)}else we={lane:Oe,revertLane:Te.revertLane,gesture:Te.gesture,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},ue===null?(W=ue=we,B=S):ue=ue.next=we,vt.lanes|=Oe,Ka|=Oe;Te=Te.next}while(Te!==null&&Te!==u);if(ue===null?B=S:ue.next=W,!ni(S,a.memoizedState)&&(Un=!0,Me&&(h=xl,h!==null)))throw h;a.memoizedState=S,a.baseState=B,a.baseQueue=ue,m.lastRenderedState=S}return T===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function hg(a){var u=Nn(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=a;var m=h.dispatch,T=h.pending,S=u.memoizedState;if(T!==null){h.pending=null;var B=T=T.next;do S=a(S,B.action),B=B.next;while(B!==T);ni(S,u.memoizedState)||(Un=!0),u.memoizedState=S,u.baseQueue===null&&(u.baseState=S),h.lastRenderedState=S}return[S,m]}function g2(a,u,h){var m=vt,T=Nn(),S=Mt;if(S){if(h===void 0)throw Error(r(407));h=h()}else h=u();var B=!ni((an||T).memoizedState,h);if(B&&(T.memoizedState=h,Un=!0),T=T.queue,mg(v2.bind(null,m,T,a),[a]),T.getSnapshot!==u||B||Fn!==null&&Fn.memoizedState.tag&1){if(m.flags|=2048,bl(9,{destroy:void 0},y2.bind(null,m,T,h,u),null),fn===null)throw Error(r(349));S||(Qs&127)!==0||x2(m,u,h)}return h}function x2(a,u,h){a.flags|=16384,a={getSnapshot:u,value:h},u=vt.updateQueue,u===null?(u=Ch(),vt.updateQueue=u,u.stores=[a]):(h=u.stores,h===null?u.stores=[a]:h.push(a))}function y2(a,u,h,m){u.value=h,u.getSnapshot=m,_2(u)&&T2(a)}function v2(a,u,h){return h(function(){_2(u)&&T2(a)})}function _2(a){var u=a.getSnapshot;a=a.value;try{var h=u();return!ni(a,h)}catch{return!0}}function T2(a){var u=ru(a,2);u!==null&&jr(u,a,2)}function dg(a){var u=Dr();if(typeof a=="function"){var h=a;if(a=h(),hu){kr(!0);try{h()}finally{kr(!1)}}}return u.memoizedState=u.baseState=a,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:a},u}function E2(a,u,h,m){return a.baseState=h,fg(a,an,typeof m=="function"?m:Zs)}function nN(a,u,h,m,T){if(Dh(a))throw Error(r(485));if(a=u.action,a!==null){var S={payload:T,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){S.listeners.push(B)}};ae.T!==null?h(!0):S.isTransition=!1,m(S),h=u.pending,h===null?(S.next=u.pending=S,b2(u,S)):(S.next=h.next,u.pending=h.next=S)}}function b2(a,u){var h=u.action,m=u.payload,T=a.state;if(u.isTransition){var S=ae.T,B={};ae.T=B;try{var W=h(T,m),ue=ae.S;ue!==null&&ue(B,W),w2(a,u,W)}catch(Te){pg(a,u,Te)}finally{S!==null&&B.types!==null&&(S.types=B.types),ae.T=S}}else try{S=h(T,m),w2(a,u,S)}catch(Te){pg(a,u,Te)}}function w2(a,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){S2(a,u,m)},function(m){return pg(a,u,m)}):S2(a,u,h)}function S2(a,u,h){u.status="fulfilled",u.value=h,A2(u),a.state=h,u=a.pending,u!==null&&(h=u.next,h===u?a.pending=null:(h=h.next,u.next=h,b2(a,h)))}function pg(a,u,h){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do u.status="rejected",u.reason=h,A2(u),u=u.next;while(u!==m)}a.action=null}function A2(a){a=a.listeners;for(var u=0;u<a.length;u++)(0,a[u])()}function C2(a,u){return u}function I2(a,u){if(Mt){var h=fn.formState;if(h!==null){e:{var m=vt;if(Mt){if(pn){t:{for(var T=pn,S=bi;T.nodeType!==8;){if(!S){T=null;break t}if(T=Si(T.nextSibling),T===null){T=null;break t}}S=T.data,T=S==="F!"||S==="F"?T:null}if(T){pn=Si(T.nextSibling),m=T.data==="F!";break e}}Va(m)}m=!1}m&&(u=h[0])}}return h=Dr(),h.memoizedState=h.baseState=u,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C2,lastRenderedState:u},h.queue=m,h=W2.bind(null,vt,m),m.dispatch=h,m=dg(!1),S=_g.bind(null,vt,!1,m.queue),m=Dr(),T={state:u,dispatch:null,action:a,pending:null},m.queue=T,h=nN.bind(null,vt,T,S,h),T.dispatch=h,m.memoizedState=a,[u,h,!1]}function k2(a){var u=Nn();return R2(u,an,a)}function R2(a,u,h){if(u=fg(a,u,C2)[0],a=kh(Zs)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var m=tf(u)}catch(B){throw B===yl?vh:B}else m=u;u=Nn();var T=u.queue,S=T.dispatch;return h!==u.memoizedState&&(vt.flags|=2048,bl(9,{destroy:void 0},rN.bind(null,T,h),null)),[m,S,a]}function rN(a,u){a.action=u}function N2(a){var u=Nn(),h=an;if(h!==null)return R2(u,h,a);Nn(),u=u.memoizedState,h=Nn();var m=h.queue.dispatch;return h.memoizedState=a,[u,m,!1]}function bl(a,u,h,m){return a={tag:a,create:h,deps:m,inst:u,next:null},u=vt.updateQueue,u===null&&(u=Ch(),vt.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=a.next=a:(m=h.next,h.next=a,a.next=m,u.lastEffect=a),a}function D2(){return Nn().memoizedState}function Rh(a,u,h,m){var T=Dr();vt.flags|=a,T.memoizedState=bl(1|u,{destroy:void 0},h,m===void 0?null:m)}function Nh(a,u,h,m){var T=Nn();m=m===void 0?null:m;var S=T.memoizedState.inst;an!==null&&m!==null&&sg(m,an.memoizedState.deps)?T.memoizedState=bl(u,S,h,m):(vt.flags|=a,T.memoizedState=bl(1|u,S,h,m))}function M2(a,u){Rh(8390656,8,a,u)}function mg(a,u){Nh(2048,8,a,u)}function iN(a){vt.flags|=4;var u=vt.updateQueue;if(u===null)u=Ch(),vt.updateQueue=u,u.events=[a];else{var h=u.events;h===null?u.events=[a]:h.push(a)}}function P2(a){var u=Nn().memoizedState;return iN({ref:u,nextImpl:a}),function(){if((jt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function L2(a,u){return Nh(4,2,a,u)}function O2(a,u){return Nh(4,4,a,u)}function F2(a,u){if(typeof u=="function"){a=a();var h=u(a);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function U2(a,u,h){h=h!=null?h.concat([a]):null,Nh(4,4,F2.bind(null,u,a),h)}function gg(){}function V2(a,u){var h=Nn();u=u===void 0?null:u;var m=h.memoizedState;return u!==null&&sg(u,m[1])?m[0]:(h.memoizedState=[a,u],a)}function B2(a,u){var h=Nn();u=u===void 0?null:u;var m=h.memoizedState;if(u!==null&&sg(u,m[1]))return m[0];if(m=a(),hu){kr(!0);try{a()}finally{kr(!1)}}return h.memoizedState=[m,u],m}function xg(a,u,h){return h===void 0||(Qs&1073741824)!==0&&(It&261930)===0?a.memoizedState=u:(a.memoizedState=h,a=qT(),vt.lanes|=a,Ka|=a,h)}function q2(a,u,h,m){return ni(h,u)?h:_l.current!==null?(a=xg(a,h,m),ni(a,u)||(Un=!0),a):(Qs&42)===0||(Qs&1073741824)!==0&&(It&261930)===0?(Un=!0,a.memoizedState=h):(a=qT(),vt.lanes|=a,Ka|=a,u)}function H2(a,u,h,m,T){var S=se.p;se.p=S!==0&&8>S?S:8;var B=ae.T,W={};ae.T=W,_g(a,!1,u,h);try{var ue=T(),Te=ae.S;if(Te!==null&&Te(W,ue),ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Me=ZR(ue,m);nf(a,u,Me,ui(a))}else nf(a,u,m,ui(a))}catch(Oe){nf(a,u,{then:function(){},status:"rejected",reason:Oe},ui())}finally{se.p=S,B!==null&&W.types!==null&&(B.types=W.types),ae.T=B}}function sN(){}function yg(a,u,h,m){if(a.tag!==5)throw Error(r(476));var T=z2(a).queue;H2(a,T,u,me,h===null?sN:function(){return G2(a),h(m)})}function z2(a){var u=a.memoizedState;if(u!==null)return u;u={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:me},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:h},next:null},a.memoizedState=u,a=a.alternate,a!==null&&(a.memoizedState=u),u}function G2(a){var u=z2(a);u.next===null&&(u=a.alternate.memoizedState),nf(a,u.next.queue,{},ui())}function vg(){return sr(_f)}function j2(){return Nn().memoizedState}function $2(){return Nn().memoizedState}function aN(a){for(var u=a.return;u!==null;){switch(u.tag){case 24:case 3:var h=ui();a=Ha(h);var m=za(u,a,h);m!==null&&(jr(m,u,h),Jc(m,u,h)),u={cache:Km()},a.payload=u;return}u=u.return}}function oN(a,u,h){var m=ui();h={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Dh(a)?K2(u,h):(h=Fm(a,u,h,m),h!==null&&(jr(h,a,m),Y2(h,u,m)))}function W2(a,u,h){var m=ui();nf(a,u,h,m)}function nf(a,u,h,m){var T={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Dh(a))K2(u,T);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=u.lastRenderedReducer,S!==null))try{var B=u.lastRenderedState,W=S(B,h);if(T.hasEagerState=!0,T.eagerState=W,ni(W,B))return hh(a,u,T,0),fn===null&&fh(),!1}catch{}finally{}if(h=Fm(a,u,T,m),h!==null)return jr(h,a,m),Y2(h,u,m),!0}return!1}function _g(a,u,h,m){if(m={lane:2,revertLane:Qg(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Dh(a)){if(u)throw Error(r(479))}else u=Fm(a,h,m,2),u!==null&&jr(u,a,2)}function Dh(a){var u=a.alternate;return a===vt||u!==null&&u===vt}function K2(a,u){Tl=Sh=!0;var h=a.pending;h===null?u.next=u:(u.next=h.next,h.next=u),a.pending=u}function Y2(a,u,h){if((h&4194048)!==0){var m=u.lanes;m&=a.pendingLanes,h|=m,u.lanes=h,zs(a,h)}}var rf={readContext:sr,use:Ih,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useLayoutEffect:wn,useInsertionEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useSyncExternalStore:wn,useId:wn,useHostTransitionStatus:wn,useFormState:wn,useActionState:wn,useOptimistic:wn,useMemoCache:wn,useCacheRefresh:wn};rf.useEffectEvent=wn;var X2={readContext:sr,use:Ih,useCallback:function(a,u){return Dr().memoizedState=[a,u===void 0?null:u],a},useContext:sr,useEffect:M2,useImperativeHandle:function(a,u,h){h=h!=null?h.concat([a]):null,Rh(4194308,4,F2.bind(null,u,a),h)},useLayoutEffect:function(a,u){return Rh(4194308,4,a,u)},useInsertionEffect:function(a,u){Rh(4,2,a,u)},useMemo:function(a,u){var h=Dr();u=u===void 0?null:u;var m=a();if(hu){kr(!0);try{a()}finally{kr(!1)}}return h.memoizedState=[m,u],m},useReducer:function(a,u,h){var m=Dr();if(h!==void 0){var T=h(u);if(hu){kr(!0);try{h(u)}finally{kr(!1)}}}else T=u;return m.memoizedState=m.baseState=T,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:T},m.queue=a,a=a.dispatch=oN.bind(null,vt,a),[m.memoizedState,a]},useRef:function(a){var u=Dr();return a={current:a},u.memoizedState=a},useState:function(a){a=dg(a);var u=a.queue,h=W2.bind(null,vt,u);return u.dispatch=h,[a.memoizedState,h]},useDebugValue:gg,useDeferredValue:function(a,u){var h=Dr();return xg(h,a,u)},useTransition:function(){var a=dg(!1);return a=H2.bind(null,vt,a.queue,!0,!1),Dr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,u,h){var m=vt,T=Dr();if(Mt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),fn===null)throw Error(r(349));(It&127)!==0||x2(m,u,h)}T.memoizedState=h;var S={value:h,getSnapshot:u};return T.queue=S,M2(v2.bind(null,m,S,a),[a]),m.flags|=2048,bl(9,{destroy:void 0},y2.bind(null,m,S,h,u),null),h},useId:function(){var a=Dr(),u=fn.identifierPrefix;if(Mt){var h=xs,m=gs;h=(m&~(1<<32-Tn(m)-1)).toString(32)+h,u="_"+u+"R_"+h,h=Ah++,0<h&&(u+="H"+h.toString(32)),u+="_"}else h=eN++,u="_"+u+"r_"+h.toString(32)+"_";return a.memoizedState=u},useHostTransitionStatus:vg,useFormState:I2,useActionState:I2,useOptimistic:function(a){var u=Dr();u.memoizedState=u.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=_g.bind(null,vt,!0,h),h.dispatch=u,[a,u]},useMemoCache:cg,useCacheRefresh:function(){return Dr().memoizedState=aN.bind(null,vt)},useEffectEvent:function(a){var u=Dr(),h={impl:a};return u.memoizedState=h,function(){if((jt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},Tg={readContext:sr,use:Ih,useCallback:V2,useContext:sr,useEffect:mg,useImperativeHandle:U2,useInsertionEffect:L2,useLayoutEffect:O2,useMemo:B2,useReducer:kh,useRef:D2,useState:function(){return kh(Zs)},useDebugValue:gg,useDeferredValue:function(a,u){var h=Nn();return q2(h,an.memoizedState,a,u)},useTransition:function(){var a=kh(Zs)[0],u=Nn().memoizedState;return[typeof a=="boolean"?a:tf(a),u]},useSyncExternalStore:g2,useId:j2,useHostTransitionStatus:vg,useFormState:k2,useActionState:k2,useOptimistic:function(a,u){var h=Nn();return E2(h,an,a,u)},useMemoCache:cg,useCacheRefresh:$2};Tg.useEffectEvent=P2;var J2={readContext:sr,use:Ih,useCallback:V2,useContext:sr,useEffect:mg,useImperativeHandle:U2,useInsertionEffect:L2,useLayoutEffect:O2,useMemo:B2,useReducer:hg,useRef:D2,useState:function(){return hg(Zs)},useDebugValue:gg,useDeferredValue:function(a,u){var h=Nn();return an===null?xg(h,a,u):q2(h,an.memoizedState,a,u)},useTransition:function(){var a=hg(Zs)[0],u=Nn().memoizedState;return[typeof a=="boolean"?a:tf(a),u]},useSyncExternalStore:g2,useId:j2,useHostTransitionStatus:vg,useFormState:N2,useActionState:N2,useOptimistic:function(a,u){var h=Nn();return an!==null?E2(h,an,a,u):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:cg,useCacheRefresh:$2};J2.useEffectEvent=P2;function Eg(a,u,h,m){u=a.memoizedState,h=h(m,u),h=h==null?u:g({},u,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var bg={enqueueSetState:function(a,u,h){a=a._reactInternals;var m=ui(),T=Ha(m);T.payload=u,h!=null&&(T.callback=h),u=za(a,T,m),u!==null&&(jr(u,a,m),Jc(u,a,m))},enqueueReplaceState:function(a,u,h){a=a._reactInternals;var m=ui(),T=Ha(m);T.tag=1,T.payload=u,h!=null&&(T.callback=h),u=za(a,T,m),u!==null&&(jr(u,a,m),Jc(u,a,m))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var h=ui(),m=Ha(h);m.tag=2,u!=null&&(m.callback=u),u=za(a,m,h),u!==null&&(jr(u,a,h),Jc(u,a,h))}};function Q2(a,u,h,m,T,S,B){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,S,B):u.prototype&&u.prototype.isPureReactComponent?!zc(h,m)||!zc(T,S):!0}function Z2(a,u,h,m){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,m),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,m),u.state!==a&&bg.enqueueReplaceState(u,u.state,null)}function du(a,u){var h=u;if("ref"in u){h={};for(var m in u)m!=="ref"&&(h[m]=u[m])}if(a=a.defaultProps){h===u&&(h=g({},h));for(var T in a)h[T]===void 0&&(h[T]=a[T])}return h}function eT(a){ch(a)}function tT(a){console.error(a)}function nT(a){ch(a)}function Mh(a,u){try{var h=a.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(m){setTimeout(function(){throw m})}}function rT(a,u,h){try{var m=a.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function wg(a,u,h){return h=Ha(h),h.tag=3,h.payload={element:null},h.callback=function(){Mh(a,u)},h}function iT(a){return a=Ha(a),a.tag=3,a}function sT(a,u,h,m){var T=h.type.getDerivedStateFromError;if(typeof T=="function"){var S=m.value;a.payload=function(){return T(S)},a.callback=function(){rT(u,h,m)}}var B=h.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(a.callback=function(){rT(u,h,m),typeof T!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var W=m.stack;this.componentDidCatch(m.value,{componentStack:W!==null?W:""})})}function uN(a,u,h,m,T){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(u=h.alternate,u!==null&&ml(u,h,T,!0),h=ii.current,h!==null){switch(h.tag){case 31:case 13:return wi===null?jh():h.alternate===null&&Sn===0&&(Sn=3),h.flags&=-257,h.flags|=65536,h.lanes=T,m===_h?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([m]):u.add(m),Yg(a,m,T)),!1;case 22:return h.flags|=65536,m===_h?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([m]):h.add(m)),Yg(a,m,T)),!1}throw Error(r(435,h.tag))}return Yg(a,m,T),jh(),!1}if(Mt)return u=ii.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=T,m!==zm&&(a=Error(r(422),{cause:m}),$c(_i(a,h)))):(m!==zm&&(u=Error(r(423),{cause:m}),$c(_i(u,h))),a=a.current.alternate,a.flags|=65536,T&=-T,a.lanes|=T,m=_i(m,h),T=wg(a.stateNode,m,T),eg(a,T),Sn!==4&&(Sn=2)),!1;var S=Error(r(520),{cause:m});if(S=_i(S,h),hf===null?hf=[S]:hf.push(S),Sn!==4&&(Sn=2),u===null)return!0;m=_i(m,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,a=T&-T,h.lanes|=a,a=wg(h.stateNode,m,a),eg(h,a),!1;case 1:if(u=h.type,S=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ya===null||!Ya.has(S))))return h.flags|=65536,T&=-T,h.lanes|=T,T=iT(T),sT(T,a,h,m),eg(h,T),!1}h=h.return}while(h!==null);return!1}var Sg=Error(r(461)),Un=!1;function ar(a,u,h,m){u.child=a===null?l2(u,null,h,m):fu(u,a.child,h,m)}function aT(a,u,h,m,T){h=h.render;var S=u.ref;if("ref"in m){var B={};for(var W in m)W!=="ref"&&(B[W]=m[W])}else B=m;return ou(u),m=ag(a,u,h,B,S,T),W=og(),a!==null&&!Un?(ug(a,u,T),ea(a,u,T)):(Mt&&W&&qm(u),u.flags|=1,ar(a,u,m,T),u.child)}function oT(a,u,h,m,T){if(a===null){var S=h.type;return typeof S=="function"&&!Um(S)&&S.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=S,uT(a,u,S,m,T)):(a=ph(h.type,null,m,u,u.mode,T),a.ref=u.ref,a.return=u,u.child=a)}if(S=a.child,!Mg(a,T)){var B=S.memoizedProps;if(h=h.compare,h=h!==null?h:zc,h(B,m)&&a.ref===u.ref)return ea(a,u,T)}return u.flags|=1,a=Ks(S,m),a.ref=u.ref,a.return=u,u.child=a}function uT(a,u,h,m,T){if(a!==null){var S=a.memoizedProps;if(zc(S,m)&&a.ref===u.ref)if(Un=!1,u.pendingProps=m=S,Mg(a,T))(a.flags&131072)!==0&&(Un=!0);else return u.lanes=a.lanes,ea(a,u,T)}return Ag(a,u,h,m,T)}function lT(a,u,h,m){var T=m.children,S=a!==null?a.memoizedState:null;if(a===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((u.flags&128)!==0){if(S=S!==null?S.baseLanes|h:h,a!==null){for(m=u.child=a.child,T=0;m!==null;)T=T|m.lanes|m.childLanes,m=m.sibling;m=T&~S}else m=0,u.child=null;return cT(a,u,S,h,m)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},a!==null&&yh(u,S!==null?S.cachePool:null),S!==null?h2(u,S):ng(),d2(u);else return m=u.lanes=536870912,cT(a,u,S!==null?S.baseLanes|h:h,h,m)}else S!==null?(yh(u,S.cachePool),h2(u,S),ja(),u.memoizedState=null):(a!==null&&yh(u,null),ng(),ja());return ar(a,u,T,h),u.child}function sf(a,u){return a!==null&&a.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function cT(a,u,h,m,T){var S=Xm();return S=S===null?null:{parent:On._currentValue,pool:S},u.memoizedState={baseLanes:h,cachePool:S},a!==null&&yh(u,null),ng(),d2(u),a!==null&&ml(a,u,m,!0),u.childLanes=T,null}function Ph(a,u){return u=Oh({mode:u.mode,children:u.children},a.mode),u.ref=a.ref,a.child=u,u.return=a,u}function fT(a,u,h){return fu(u,a.child,null,h),a=Ph(u,u.pendingProps),a.flags|=2,si(u),u.memoizedState=null,a}function lN(a,u,h){var m=u.pendingProps,T=(u.flags&128)!==0;if(u.flags&=-129,a===null){if(Mt){if(m.mode==="hidden")return a=Ph(u,m),u.lanes=536870912,sf(null,a);if(ig(u),(a=pn)?(a=bE(a,bi),a=a!==null&&a.data==="&"?a:null,a!==null&&(u.memoizedState={dehydrated:a,treeContext:Fa!==null?{id:gs,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},h=K_(a),h.return=u,u.child=h,ir=u,pn=null)):a=null,a===null)throw Va(u);return u.lanes=536870912,null}return Ph(u,m)}var S=a.memoizedState;if(S!==null){var B=S.dehydrated;if(ig(u),T)if(u.flags&256)u.flags&=-257,u=fT(a,u,h);else if(u.memoizedState!==null)u.child=a.child,u.flags|=128,u=null;else throw Error(r(558));else if(Un||ml(a,u,h,!1),T=(h&a.childLanes)!==0,Un||T){if(m=fn,m!==null&&(B=jo(m,h),B!==0&&B!==S.retryLane))throw S.retryLane=B,ru(a,B),jr(m,a,B),Sg;jh(),u=fT(a,u,h)}else a=S.treeContext,pn=Si(B.nextSibling),ir=u,Mt=!0,Ua=null,bi=!1,a!==null&&J_(u,a),u=Ph(u,m),u.flags|=4096;return u}return a=Ks(a.child,{mode:m.mode,children:m.children}),a.ref=u.ref,u.child=a,a.return=u,a}function Lh(a,u){var h=u.ref;if(h===null)a!==null&&a.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(a===null||a.ref!==h)&&(u.flags|=4194816)}}function Ag(a,u,h,m,T){return ou(u),h=ag(a,u,h,m,void 0,T),m=og(),a!==null&&!Un?(ug(a,u,T),ea(a,u,T)):(Mt&&m&&qm(u),u.flags|=1,ar(a,u,h,T),u.child)}function hT(a,u,h,m,T,S){return ou(u),u.updateQueue=null,h=m2(u,m,h,T),p2(a),m=og(),a!==null&&!Un?(ug(a,u,S),ea(a,u,S)):(Mt&&m&&qm(u),u.flags|=1,ar(a,u,h,S),u.child)}function dT(a,u,h,m,T){if(ou(u),u.stateNode===null){var S=fl,B=h.contextType;typeof B=="object"&&B!==null&&(S=sr(B)),S=new h(m,S),u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=bg,u.stateNode=S,S._reactInternals=u,S=u.stateNode,S.props=m,S.state=u.memoizedState,S.refs={},Qm(u),B=h.contextType,S.context=typeof B=="object"&&B!==null?sr(B):fl,S.state=u.memoizedState,B=h.getDerivedStateFromProps,typeof B=="function"&&(Eg(u,h,B,m),S.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(B=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),B!==S.state&&bg.enqueueReplaceState(S,S.state,null),Zc(u,m,S,T),Qc(),S.state=u.memoizedState),typeof S.componentDidMount=="function"&&(u.flags|=4194308),m=!0}else if(a===null){S=u.stateNode;var W=u.memoizedProps,ue=du(h,W);S.props=ue;var Te=S.context,Me=h.contextType;B=fl,typeof Me=="object"&&Me!==null&&(B=sr(Me));var Oe=h.getDerivedStateFromProps;Me=typeof Oe=="function"||typeof S.getSnapshotBeforeUpdate=="function",W=u.pendingProps!==W,Me||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(W||Te!==B)&&Z2(u,S,m,B),qa=!1;var we=u.memoizedState;S.state=we,Zc(u,m,S,T),Qc(),Te=u.memoizedState,W||we!==Te||qa?(typeof Oe=="function"&&(Eg(u,h,Oe,m),Te=u.memoizedState),(ue=qa||Q2(u,h,ue,m,we,Te,B))?(Me||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(u.flags|=4194308)):(typeof S.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=m,u.memoizedState=Te),S.props=m,S.state=Te,S.context=B,m=ue):(typeof S.componentDidMount=="function"&&(u.flags|=4194308),m=!1)}else{S=u.stateNode,Zm(a,u),B=u.memoizedProps,Me=du(h,B),S.props=Me,Oe=u.pendingProps,we=S.context,Te=h.contextType,ue=fl,typeof Te=="object"&&Te!==null&&(ue=sr(Te)),W=h.getDerivedStateFromProps,(Te=typeof W=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(B!==Oe||we!==ue)&&Z2(u,S,m,ue),qa=!1,we=u.memoizedState,S.state=we,Zc(u,m,S,T),Qc();var Ae=u.memoizedState;B!==Oe||we!==Ae||qa||a!==null&&a.dependencies!==null&&gh(a.dependencies)?(typeof W=="function"&&(Eg(u,h,W,m),Ae=u.memoizedState),(Me=qa||Q2(u,h,Me,m,we,Ae,ue)||a!==null&&a.dependencies!==null&&gh(a.dependencies))?(Te||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,Ae,ue),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,Ae,ue)),typeof S.componentDidUpdate=="function"&&(u.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof S.componentDidUpdate!="function"||B===a.memoizedProps&&we===a.memoizedState||(u.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&we===a.memoizedState||(u.flags|=1024),u.memoizedProps=m,u.memoizedState=Ae),S.props=m,S.state=Ae,S.context=ue,m=Me):(typeof S.componentDidUpdate!="function"||B===a.memoizedProps&&we===a.memoizedState||(u.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&we===a.memoizedState||(u.flags|=1024),m=!1)}return S=m,Lh(a,u),m=(u.flags&128)!==0,S||m?(S=u.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:S.render(),u.flags|=1,a!==null&&m?(u.child=fu(u,a.child,null,T),u.child=fu(u,null,h,T)):ar(a,u,h,T),u.memoizedState=S.state,a=u.child):a=ea(a,u,T),a}function pT(a,u,h,m){return su(),u.flags|=256,ar(a,u,h,m),u.child}var Cg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ig(a){return{baseLanes:a,cachePool:r2()}}function kg(a,u,h){return a=a!==null?a.childLanes&~h:0,u&&(a|=oi),a}function mT(a,u,h){var m=u.pendingProps,T=!1,S=(u.flags&128)!==0,B;if((B=S)||(B=a!==null&&a.memoizedState===null?!1:(Rn.current&2)!==0),B&&(T=!0,u.flags&=-129),B=(u.flags&32)!==0,u.flags&=-33,a===null){if(Mt){if(T?Ga(u):ja(),(a=pn)?(a=bE(a,bi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(u.memoizedState={dehydrated:a,treeContext:Fa!==null?{id:gs,overflow:xs}:null,retryLane:536870912,hydrationErrors:null},h=K_(a),h.return=u,u.child=h,ir=u,pn=null)):a=null,a===null)throw Va(u);return f1(a)?u.lanes=32:u.lanes=536870912,null}var W=m.children;return m=m.fallback,T?(ja(),T=u.mode,W=Oh({mode:"hidden",children:W},T),m=iu(m,T,h,null),W.return=u,m.return=u,W.sibling=m,u.child=W,m=u.child,m.memoizedState=Ig(h),m.childLanes=kg(a,B,h),u.memoizedState=Cg,sf(null,m)):(Ga(u),Rg(u,W))}var ue=a.memoizedState;if(ue!==null&&(W=ue.dehydrated,W!==null)){if(S)u.flags&256?(Ga(u),u.flags&=-257,u=Ng(a,u,h)):u.memoizedState!==null?(ja(),u.child=a.child,u.flags|=128,u=null):(ja(),W=m.fallback,T=u.mode,m=Oh({mode:"visible",children:m.children},T),W=iu(W,T,h,null),W.flags|=2,m.return=u,W.return=u,m.sibling=W,u.child=m,fu(u,a.child,null,h),m=u.child,m.memoizedState=Ig(h),m.childLanes=kg(a,B,h),u.memoizedState=Cg,u=sf(null,m));else if(Ga(u),f1(W)){if(B=W.nextSibling&&W.nextSibling.dataset,B)var Te=B.dgst;B=Te,m=Error(r(419)),m.stack="",m.digest=B,$c({value:m,source:null,stack:null}),u=Ng(a,u,h)}else if(Un||ml(a,u,h,!1),B=(h&a.childLanes)!==0,Un||B){if(B=fn,B!==null&&(m=jo(B,h),m!==0&&m!==ue.retryLane))throw ue.retryLane=m,ru(a,m),jr(B,a,m),Sg;c1(W)||jh(),u=Ng(a,u,h)}else c1(W)?(u.flags|=192,u.child=a.child,u=null):(a=ue.treeContext,pn=Si(W.nextSibling),ir=u,Mt=!0,Ua=null,bi=!1,a!==null&&J_(u,a),u=Rg(u,m.children),u.flags|=4096);return u}return T?(ja(),W=m.fallback,T=u.mode,ue=a.child,Te=ue.sibling,m=Ks(ue,{mode:"hidden",children:m.children}),m.subtreeFlags=ue.subtreeFlags&65011712,Te!==null?W=Ks(Te,W):(W=iu(W,T,h,null),W.flags|=2),W.return=u,m.return=u,m.sibling=W,u.child=m,sf(null,m),m=u.child,W=a.child.memoizedState,W===null?W=Ig(h):(T=W.cachePool,T!==null?(ue=On._currentValue,T=T.parent!==ue?{parent:ue,pool:ue}:T):T=r2(),W={baseLanes:W.baseLanes|h,cachePool:T}),m.memoizedState=W,m.childLanes=kg(a,B,h),u.memoizedState=Cg,sf(a.child,m)):(Ga(u),h=a.child,a=h.sibling,h=Ks(h,{mode:"visible",children:m.children}),h.return=u,h.sibling=null,a!==null&&(B=u.deletions,B===null?(u.deletions=[a],u.flags|=16):B.push(a)),u.child=h,u.memoizedState=null,h)}function Rg(a,u){return u=Oh({mode:"visible",children:u},a.mode),u.return=a,a.child=u}function Oh(a,u){return a=ri(22,a,null,u),a.lanes=0,a}function Ng(a,u,h){return fu(u,a.child,null,h),a=Rg(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function gT(a,u,h){a.lanes|=u;var m=a.alternate;m!==null&&(m.lanes|=u),$m(a.return,u,h)}function Dg(a,u,h,m,T,S){var B=a.memoizedState;B===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:T,treeForkCount:S}:(B.isBackwards=u,B.rendering=null,B.renderingStartTime=0,B.last=m,B.tail=h,B.tailMode=T,B.treeForkCount=S)}function xT(a,u,h){var m=u.pendingProps,T=m.revealOrder,S=m.tail;m=m.children;var B=Rn.current,W=(B&2)!==0;if(W?(B=B&1|2,u.flags|=128):B&=1,K(Rn,B),ar(a,u,m,h),m=Mt?jc:0,!W&&a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&gT(a,h,u);else if(a.tag===19)gT(a,h,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(T){case"forwards":for(h=u.child,T=null;h!==null;)a=h.alternate,a!==null&&wh(a)===null&&(T=h),h=h.sibling;h=T,h===null?(T=u.child,u.child=null):(T=h.sibling,h.sibling=null),Dg(u,!1,T,h,S,m);break;case"backwards":case"unstable_legacy-backwards":for(h=null,T=u.child,u.child=null;T!==null;){if(a=T.alternate,a!==null&&wh(a)===null){u.child=T;break}a=T.sibling,T.sibling=h,h=T,T=a}Dg(u,!0,h,null,S,m);break;case"together":Dg(u,!1,null,null,void 0,m);break;default:u.memoizedState=null}return u.child}function ea(a,u,h){if(a!==null&&(u.dependencies=a.dependencies),Ka|=u.lanes,(h&u.childLanes)===0)if(a!==null){if(ml(a,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(a!==null&&u.child!==a.child)throw Error(r(153));if(u.child!==null){for(a=u.child,h=Ks(a,a.pendingProps),u.child=h,h.return=u;a.sibling!==null;)a=a.sibling,h=h.sibling=Ks(a,a.pendingProps),h.return=u;h.sibling=null}return u.child}function Mg(a,u){return(a.lanes&u)!==0?!0:(a=a.dependencies,!!(a!==null&&gh(a)))}function cN(a,u,h){switch(u.tag){case 3:Re(u,u.stateNode.containerInfo),Ba(u,On,a.memoizedState.cache),su();break;case 27:case 5:Ne(u);break;case 4:Re(u,u.stateNode.containerInfo);break;case 10:Ba(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,ig(u),null;break;case 13:var m=u.memoizedState;if(m!==null)return m.dehydrated!==null?(Ga(u),u.flags|=128,null):(h&u.child.childLanes)!==0?mT(a,u,h):(Ga(u),a=ea(a,u,h),a!==null?a.sibling:null);Ga(u);break;case 19:var T=(a.flags&128)!==0;if(m=(h&u.childLanes)!==0,m||(ml(a,u,h,!1),m=(h&u.childLanes)!==0),T){if(m)return xT(a,u,h);u.flags|=128}if(T=u.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),K(Rn,Rn.current),m)break;return null;case 22:return u.lanes=0,lT(a,u,h,u.pendingProps);case 24:Ba(u,On,a.memoizedState.cache)}return ea(a,u,h)}function yT(a,u,h){if(a!==null)if(a.memoizedProps!==u.pendingProps)Un=!0;else{if(!Mg(a,h)&&(u.flags&128)===0)return Un=!1,cN(a,u,h);Un=(a.flags&131072)!==0}else Un=!1,Mt&&(u.flags&1048576)!==0&&X_(u,jc,u.index);switch(u.lanes=0,u.tag){case 16:e:{var m=u.pendingProps;if(a=lu(u.elementType),u.type=a,typeof a=="function")Um(a)?(m=du(a,m),u.tag=1,u=dT(null,u,a,m,h)):(u.tag=0,u=Ag(null,u,a,m,h));else{if(a!=null){var T=a.$$typeof;if(T===P){u.tag=11,u=aT(null,u,a,m,h);break e}else if(T===N){u.tag=14,u=oT(null,u,a,m,h);break e}}throw u=ce(a)||a,Error(r(306,u,""))}}return u;case 0:return Ag(a,u,u.type,u.pendingProps,h);case 1:return m=u.type,T=du(m,u.pendingProps),dT(a,u,m,T,h);case 3:e:{if(Re(u,u.stateNode.containerInfo),a===null)throw Error(r(387));m=u.pendingProps;var S=u.memoizedState;T=S.element,Zm(a,u),Zc(u,m,null,h);var B=u.memoizedState;if(m=B.cache,Ba(u,On,m),m!==S.cache&&Wm(u,[On],h,!0),Qc(),m=B.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:B.cache},u.updateQueue.baseState=S,u.memoizedState=S,u.flags&256){u=pT(a,u,m,h);break e}else if(m!==T){T=_i(Error(r(424)),u),$c(T),u=pT(a,u,m,h);break e}else{switch(a=u.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(pn=Si(a.firstChild),ir=u,Mt=!0,Ua=null,bi=!0,h=l2(u,null,m,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(su(),m===T){u=ea(a,u,h);break e}ar(a,u,m,h)}u=u.child}return u;case 26:return Lh(a,u),a===null?(h=kE(u.type,null,u.pendingProps,null))?u.memoizedState=h:Mt||(h=u.type,a=u.pendingProps,m=Qh(pe.current).createElement(h),m[Z]=u,m[te]=a,or(m,h,a),Ze(m),u.stateNode=m):u.memoizedState=kE(u.type,a.memoizedProps,u.pendingProps,a.memoizedState),null;case 27:return Ne(u),a===null&&Mt&&(m=u.stateNode=AE(u.type,u.pendingProps,pe.current),ir=u,bi=!0,T=pn,Za(u.type)?(h1=T,pn=Si(m.firstChild)):pn=T),ar(a,u,u.pendingProps.children,h),Lh(a,u),a===null&&(u.flags|=4194304),u.child;case 5:return a===null&&Mt&&((T=m=pn)&&(m=BN(m,u.type,u.pendingProps,bi),m!==null?(u.stateNode=m,ir=u,pn=Si(m.firstChild),bi=!1,T=!0):T=!1),T||Va(u)),Ne(u),T=u.type,S=u.pendingProps,B=a!==null?a.memoizedProps:null,m=S.children,o1(T,S)?m=null:B!==null&&o1(T,B)&&(u.flags|=32),u.memoizedState!==null&&(T=ag(a,u,tN,null,null,h),_f._currentValue=T),Lh(a,u),ar(a,u,m,h),u.child;case 6:return a===null&&Mt&&((a=h=pn)&&(h=qN(h,u.pendingProps,bi),h!==null?(u.stateNode=h,ir=u,pn=null,a=!0):a=!1),a||Va(u)),null;case 13:return mT(a,u,h);case 4:return Re(u,u.stateNode.containerInfo),m=u.pendingProps,a===null?u.child=fu(u,null,m,h):ar(a,u,m,h),u.child;case 11:return aT(a,u,u.type,u.pendingProps,h);case 7:return ar(a,u,u.pendingProps,h),u.child;case 8:return ar(a,u,u.pendingProps.children,h),u.child;case 12:return ar(a,u,u.pendingProps.children,h),u.child;case 10:return m=u.pendingProps,Ba(u,u.type,m.value),ar(a,u,m.children,h),u.child;case 9:return T=u.type._context,m=u.pendingProps.children,ou(u),T=sr(T),m=m(T),u.flags|=1,ar(a,u,m,h),u.child;case 14:return oT(a,u,u.type,u.pendingProps,h);case 15:return uT(a,u,u.type,u.pendingProps,h);case 19:return xT(a,u,h);case 31:return lN(a,u,h);case 22:return lT(a,u,h,u.pendingProps);case 24:return ou(u),m=sr(On),a===null?(T=Xm(),T===null&&(T=fn,S=Km(),T.pooledCache=S,S.refCount++,S!==null&&(T.pooledCacheLanes|=h),T=S),u.memoizedState={parent:m,cache:T},Qm(u),Ba(u,On,T)):((a.lanes&h)!==0&&(Zm(a,u),Zc(u,null,null,h),Qc()),T=a.memoizedState,S=u.memoizedState,T.parent!==m?(T={parent:m,cache:m},u.memoizedState=T,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=T),Ba(u,On,m)):(m=S.cache,Ba(u,On,m),m!==T.cache&&Wm(u,[On],h,!0))),ar(a,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function ta(a){a.flags|=4}function Pg(a,u,h,m,T){if((u=(a.mode&32)!==0)&&(u=!1),u){if(a.flags|=16777216,(T&335544128)===T)if(a.stateNode.complete)a.flags|=8192;else if(jT())a.flags|=8192;else throw cu=_h,Jm}else a.flags&=-16777217}function vT(a,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!PE(u))if(jT())a.flags|=8192;else throw cu=_h,Jm}function Fh(a,u){u!==null&&(a.flags|=4),a.flags&16384&&(u=a.tag!==22?Qu():536870912,a.lanes|=u,Cl|=u)}function af(a,u){if(!Mt)switch(a.tailMode){case"hidden":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function mn(a){var u=a.alternate!==null&&a.alternate.child===a.child,h=0,m=0;if(u)for(var T=a.child;T!==null;)h|=T.lanes|T.childLanes,m|=T.subtreeFlags&65011712,m|=T.flags&65011712,T.return=a,T=T.sibling;else for(T=a.child;T!==null;)h|=T.lanes|T.childLanes,m|=T.subtreeFlags,m|=T.flags,T.return=a,T=T.sibling;return a.subtreeFlags|=m,a.childLanes=h,u}function fN(a,u,h){var m=u.pendingProps;switch(Hm(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(u),null;case 1:return mn(u),null;case 3:return h=u.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),Js(On),Ce(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(pl(u)?ta(u):a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Gm())),mn(u),null;case 26:var T=u.type,S=u.memoizedState;return a===null?(ta(u),S!==null?(mn(u),vT(u,S)):(mn(u),Pg(u,T,null,m,h))):S?S!==a.memoizedState?(ta(u),mn(u),vT(u,S)):(mn(u),u.flags&=-16777217):(a=a.memoizedProps,a!==m&&ta(u),mn(u),Pg(u,T,a,m,h)),null;case 27:if(he(u),h=pe.current,T=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==m&&ta(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return mn(u),null}a=ee.current,pl(u)?Q_(u):(a=AE(T,m,h),u.stateNode=a,ta(u))}return mn(u),null;case 5:if(he(u),T=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==m&&ta(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return mn(u),null}if(S=ee.current,pl(u))Q_(u);else{var B=Qh(pe.current);switch(S){case 1:S=B.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:S=B.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":S=B.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":S=B.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":S=B.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof m.is=="string"?B.createElement("select",{is:m.is}):B.createElement("select"),m.multiple?S.multiple=!0:m.size&&(S.size=m.size);break;default:S=typeof m.is=="string"?B.createElement(T,{is:m.is}):B.createElement(T)}}S[Z]=u,S[te]=m;e:for(B=u.child;B!==null;){if(B.tag===5||B.tag===6)S.appendChild(B.stateNode);else if(B.tag!==4&&B.tag!==27&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===u)break e;for(;B.sibling===null;){if(B.return===null||B.return===u)break e;B=B.return}B.sibling.return=B.return,B=B.sibling}u.stateNode=S;e:switch(or(S,T,m),T){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&ta(u)}}return mn(u),Pg(u,u.type,a===null?null:a.memoizedProps,u.pendingProps,h),null;case 6:if(a&&u.stateNode!=null)a.memoizedProps!==m&&ta(u);else{if(typeof m!="string"&&u.stateNode===null)throw Error(r(166));if(a=pe.current,pl(u)){if(a=u.stateNode,h=u.memoizedProps,m=null,T=ir,T!==null)switch(T.tag){case 27:case 5:m=T.memoizedProps}a[Z]=u,a=!!(a.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||mE(a.nodeValue,h)),a||Va(u,!0)}else a=Qh(a).createTextNode(m),a[Z]=u,u.stateNode=a}return mn(u),null;case 31:if(h=u.memoizedState,a===null||a.memoizedState!==null){if(m=pl(u),h!==null){if(a===null){if(!m)throw Error(r(318));if(a=u.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Z]=u}else su(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;mn(u),a=!1}else h=Gm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=h),a=!0;if(!a)return u.flags&256?(si(u),u):(si(u),null);if((u.flags&128)!==0)throw Error(r(558))}return mn(u),null;case 13:if(m=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(T=pl(u),m!==null&&m.dehydrated!==null){if(a===null){if(!T)throw Error(r(318));if(T=u.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(r(317));T[Z]=u}else su(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;mn(u),T=!1}else T=Gm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=T),T=!0;if(!T)return u.flags&256?(si(u),u):(si(u),null)}return si(u),(u.flags&128)!==0?(u.lanes=h,u):(h=m!==null,a=a!==null&&a.memoizedState!==null,h&&(m=u.child,T=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(T=m.alternate.memoizedState.cachePool.pool),S=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==T&&(m.flags|=2048)),h!==a&&h&&(u.child.flags|=8192),Fh(u,u.updateQueue),mn(u),null);case 4:return Ce(),a===null&&n1(u.stateNode.containerInfo),mn(u),null;case 10:return Js(u.type),mn(u),null;case 19:if(z(Rn),m=u.memoizedState,m===null)return mn(u),null;if(T=(u.flags&128)!==0,S=m.rendering,S===null)if(T)af(m,!1);else{if(Sn!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(S=wh(a),S!==null){for(u.flags|=128,af(m,!1),a=S.updateQueue,u.updateQueue=a,Fh(u,a),u.subtreeFlags=0,a=h,h=u.child;h!==null;)W_(h,a),h=h.sibling;return K(Rn,Rn.current&1|2),Mt&&Ys(u,m.treeForkCount),u.child}a=a.sibling}m.tail!==null&&st()>Hh&&(u.flags|=128,T=!0,af(m,!1),u.lanes=4194304)}else{if(!T)if(a=wh(S),a!==null){if(u.flags|=128,T=!0,a=a.updateQueue,u.updateQueue=a,Fh(u,a),af(m,!0),m.tail===null&&m.tailMode==="hidden"&&!S.alternate&&!Mt)return mn(u),null}else 2*st()-m.renderingStartTime>Hh&&h!==536870912&&(u.flags|=128,T=!0,af(m,!1),u.lanes=4194304);m.isBackwards?(S.sibling=u.child,u.child=S):(a=m.last,a!==null?a.sibling=S:u.child=S,m.last=S)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=st(),a.sibling=null,h=Rn.current,K(Rn,T?h&1|2:h&1),Mt&&Ys(u,m.treeForkCount),a):(mn(u),null);case 22:case 23:return si(u),rg(),m=u.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(u.flags|=8192):m&&(u.flags|=8192),m?(h&536870912)!==0&&(u.flags&128)===0&&(mn(u),u.subtreeFlags&6&&(u.flags|=8192)):mn(u),h=u.updateQueue,h!==null&&Fh(u,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048),a!==null&&z(uu),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),Js(On),mn(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function hN(a,u){switch(Hm(u),u.tag){case 1:return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return Js(On),Ce(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 26:case 27:case 5:return he(u),null;case 31:if(u.memoizedState!==null){if(si(u),u.alternate===null)throw Error(r(340));su()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 13:if(si(u),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(r(340));su()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return z(Rn),null;case 4:return Ce(),null;case 10:return Js(u.type),null;case 22:case 23:return si(u),rg(),a!==null&&z(uu),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 24:return Js(On),null;case 25:return null;default:return null}}function _T(a,u){switch(Hm(u),u.tag){case 3:Js(On),Ce();break;case 26:case 27:case 5:he(u);break;case 4:Ce();break;case 31:u.memoizedState!==null&&si(u);break;case 13:si(u);break;case 19:z(Rn);break;case 10:Js(u.type);break;case 22:case 23:si(u),rg(),a!==null&&z(uu);break;case 24:Js(On)}}function of(a,u){try{var h=u.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var T=m.next;h=T;do{if((h.tag&a)===a){m=void 0;var S=h.create,B=h.inst;m=S(),B.destroy=m}h=h.next}while(h!==T)}}catch(W){en(u,u.return,W)}}function $a(a,u,h){try{var m=u.updateQueue,T=m!==null?m.lastEffect:null;if(T!==null){var S=T.next;m=S;do{if((m.tag&a)===a){var B=m.inst,W=B.destroy;if(W!==void 0){B.destroy=void 0,T=u;var ue=h,Te=W;try{Te()}catch(Me){en(T,ue,Me)}}}m=m.next}while(m!==S)}}catch(Me){en(u,u.return,Me)}}function TT(a){var u=a.updateQueue;if(u!==null){var h=a.stateNode;try{f2(u,h)}catch(m){en(a,a.return,m)}}}function ET(a,u,h){h.props=du(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(m){en(a,u,m)}}function uf(a,u){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof h=="function"?a.refCleanup=h(m):h.current=m}}catch(T){en(a,u,T)}}function ys(a,u){var h=a.ref,m=a.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(T){en(a,u,T)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(T){en(a,u,T)}else h.current=null}function bT(a){var u=a.type,h=a.memoizedProps,m=a.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break e;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(T){en(a,a.return,T)}}function Lg(a,u,h){try{var m=a.stateNode;PN(m,a.type,h,u),m[te]=u}catch(T){en(a,a.return,T)}}function wT(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Za(a.type)||a.tag===4}function Og(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||wT(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Za(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Fg(a,u,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(a),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Ui));else if(m!==4&&(m===27&&Za(a.type)&&(h=a.stateNode,u=null),a=a.child,a!==null))for(Fg(a,u,h),a=a.sibling;a!==null;)Fg(a,u,h),a=a.sibling}function Uh(a,u,h){var m=a.tag;if(m===5||m===6)a=a.stateNode,u?h.insertBefore(a,u):h.appendChild(a);else if(m!==4&&(m===27&&Za(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(Uh(a,u,h),a=a.sibling;a!==null;)Uh(a,u,h),a=a.sibling}function ST(a){var u=a.stateNode,h=a.memoizedProps;try{for(var m=a.type,T=u.attributes;T.length;)u.removeAttributeNode(T[0]);or(u,m,h),u[Z]=a,u[te]=h}catch(S){en(a,a.return,S)}}var na=!1,Vn=!1,Ug=!1,AT=typeof WeakSet=="function"?WeakSet:Set,Zn=null;function dN(a,u){if(a=a.containerInfo,s1=sd,a=U_(a),Nm(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var T=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var B=0,W=-1,ue=-1,Te=0,Me=0,Oe=a,we=null;t:for(;;){for(var Ae;Oe!==h||T!==0&&Oe.nodeType!==3||(W=B+T),Oe!==S||m!==0&&Oe.nodeType!==3||(ue=B+m),Oe.nodeType===3&&(B+=Oe.nodeValue.length),(Ae=Oe.firstChild)!==null;)we=Oe,Oe=Ae;for(;;){if(Oe===a)break t;if(we===h&&++Te===T&&(W=B),we===S&&++Me===m&&(ue=B),(Ae=Oe.nextSibling)!==null)break;Oe=we,we=Oe.parentNode}Oe=Ae}h=W===-1||ue===-1?null:{start:W,end:ue}}else h=null}h=h||{start:0,end:0}}else h=null;for(a1={focusedElem:a,selectionRange:h},sd=!1,Zn=u;Zn!==null;)if(u=Zn,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Zn=a;else for(;Zn!==null;){switch(u=Zn,S=u.alternate,a=u.flags,u.tag){case 0:if((a&4)!==0&&(a=u.updateQueue,a=a!==null?a.events:null,a!==null))for(h=0;h<a.length;h++)T=a[h],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&S!==null){a=void 0,h=u,T=S.memoizedProps,S=S.memoizedState,m=h.stateNode;try{var Qe=du(h.type,T);a=m.getSnapshotBeforeUpdate(Qe,S),m.__reactInternalSnapshotBeforeUpdate=a}catch(at){en(h,h.return,at)}}break;case 3:if((a&1024)!==0){if(a=u.stateNode.containerInfo,h=a.nodeType,h===9)l1(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":l1(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=u.sibling,a!==null){a.return=u.return,Zn=a;break}Zn=u.return}}function CT(a,u,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:ia(a,h),m&4&&of(5,h);break;case 1:if(ia(a,h),m&4)if(a=h.stateNode,u===null)try{a.componentDidMount()}catch(B){en(h,h.return,B)}else{var T=du(h.type,u.memoizedProps);u=u.memoizedState;try{a.componentDidUpdate(T,u,a.__reactInternalSnapshotBeforeUpdate)}catch(B){en(h,h.return,B)}}m&64&&TT(h),m&512&&uf(h,h.return);break;case 3:if(ia(a,h),m&64&&(a=h.updateQueue,a!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{f2(a,u)}catch(B){en(h,h.return,B)}}break;case 27:u===null&&m&4&&ST(h);case 26:case 5:ia(a,h),u===null&&m&4&&bT(h),m&512&&uf(h,h.return);break;case 12:ia(a,h);break;case 31:ia(a,h),m&4&&RT(a,h);break;case 13:ia(a,h),m&4&&NT(a,h),m&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=EN.bind(null,h),HN(a,h))));break;case 22:if(m=h.memoizedState!==null||na,!m){u=u!==null&&u.memoizedState!==null||Vn,T=na;var S=Vn;na=m,(Vn=u)&&!S?sa(a,h,(h.subtreeFlags&8772)!==0):ia(a,h),na=T,Vn=S}break;case 30:break;default:ia(a,h)}}function IT(a){var u=a.alternate;u!==null&&(a.alternate=null,IT(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&Be(u)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var vn=null,qr=!1;function ra(a,u,h){for(h=h.child;h!==null;)kT(a,u,h),h=h.sibling}function kT(a,u,h){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(St,h)}catch{}switch(h.tag){case 26:Vn||ys(h,u),ra(a,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Vn||ys(h,u);var m=vn,T=qr;Za(h.type)&&(vn=h.stateNode,qr=!1),ra(a,u,h),xf(h.stateNode),vn=m,qr=T;break;case 5:Vn||ys(h,u);case 6:if(m=vn,T=qr,vn=null,ra(a,u,h),vn=m,qr=T,vn!==null)if(qr)try{(vn.nodeType===9?vn.body:vn.nodeName==="HTML"?vn.ownerDocument.body:vn).removeChild(h.stateNode)}catch(S){en(h,u,S)}else try{vn.removeChild(h.stateNode)}catch(S){en(h,u,S)}break;case 18:vn!==null&&(qr?(a=vn,TE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),Ll(a)):TE(vn,h.stateNode));break;case 4:m=vn,T=qr,vn=h.stateNode.containerInfo,qr=!0,ra(a,u,h),vn=m,qr=T;break;case 0:case 11:case 14:case 15:$a(2,h,u),Vn||$a(4,h,u),ra(a,u,h);break;case 1:Vn||(ys(h,u),m=h.stateNode,typeof m.componentWillUnmount=="function"&&ET(h,u,m)),ra(a,u,h);break;case 21:ra(a,u,h);break;case 22:Vn=(m=Vn)||h.memoizedState!==null,ra(a,u,h),Vn=m;break;default:ra(a,u,h)}}function RT(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Ll(a)}catch(h){en(u,u.return,h)}}}function NT(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Ll(a)}catch(h){en(u,u.return,h)}}function pN(a){switch(a.tag){case 31:case 13:case 19:var u=a.stateNode;return u===null&&(u=a.stateNode=new AT),u;case 22:return a=a.stateNode,u=a._retryCache,u===null&&(u=a._retryCache=new AT),u;default:throw Error(r(435,a.tag))}}function Vh(a,u){var h=pN(a);u.forEach(function(m){if(!h.has(m)){h.add(m);var T=bN.bind(null,a,m);m.then(T,T)}})}function Hr(a,u){var h=u.deletions;if(h!==null)for(var m=0;m<h.length;m++){var T=h[m],S=a,B=u,W=B;e:for(;W!==null;){switch(W.tag){case 27:if(Za(W.type)){vn=W.stateNode,qr=!1;break e}break;case 5:vn=W.stateNode,qr=!1;break e;case 3:case 4:vn=W.stateNode.containerInfo,qr=!0;break e}W=W.return}if(vn===null)throw Error(r(160));kT(S,B,T),vn=null,qr=!1,S=T.alternate,S!==null&&(S.return=null),T.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)DT(u,a),u=u.sibling}var Gi=null;function DT(a,u){var h=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Hr(u,a),zr(a),m&4&&($a(3,a,a.return),of(3,a),$a(5,a,a.return));break;case 1:Hr(u,a),zr(a),m&512&&(Vn||h===null||ys(h,h.return)),m&64&&na&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var T=Gi;if(Hr(u,a),zr(a),m&512&&(Vn||h===null||ys(h,h.return)),m&4){var S=h!==null?h.memoizedState:null;if(m=a.memoizedState,h===null)if(m===null)if(a.stateNode===null){e:{m=a.type,h=a.memoizedProps,T=T.ownerDocument||T;t:switch(m){case"title":S=T.getElementsByTagName("title")[0],(!S||S[Ee]||S[Z]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=T.createElement(m),T.head.insertBefore(S,T.querySelector("head > title"))),or(S,m,h),S[Z]=a,Ze(S),m=S;break e;case"link":var B=DE("link","href",T).get(m+(h.href||""));if(B){for(var W=0;W<B.length;W++)if(S=B[W],S.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&S.getAttribute("rel")===(h.rel==null?null:h.rel)&&S.getAttribute("title")===(h.title==null?null:h.title)&&S.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){B.splice(W,1);break t}}S=T.createElement(m),or(S,m,h),T.head.appendChild(S);break;case"meta":if(B=DE("meta","content",T).get(m+(h.content||""))){for(W=0;W<B.length;W++)if(S=B[W],S.getAttribute("content")===(h.content==null?null:""+h.content)&&S.getAttribute("name")===(h.name==null?null:h.name)&&S.getAttribute("property")===(h.property==null?null:h.property)&&S.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&S.getAttribute("charset")===(h.charSet==null?null:h.charSet)){B.splice(W,1);break t}}S=T.createElement(m),or(S,m,h),T.head.appendChild(S);break;default:throw Error(r(468,m))}S[Z]=a,Ze(S),m=S}a.stateNode=m}else ME(T,a.type,a.stateNode);else a.stateNode=NE(T,m,a.memoizedProps);else S!==m?(S===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):S.count--,m===null?ME(T,a.type,a.stateNode):NE(T,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Lg(a,a.memoizedProps,h.memoizedProps)}break;case 27:Hr(u,a),zr(a),m&512&&(Vn||h===null||ys(h,h.return)),h!==null&&m&4&&Lg(a,a.memoizedProps,h.memoizedProps);break;case 5:if(Hr(u,a),zr(a),m&512&&(Vn||h===null||ys(h,h.return)),a.flags&32){T=a.stateNode;try{Br(T,"")}catch(Qe){en(a,a.return,Qe)}}m&4&&a.stateNode!=null&&(T=a.memoizedProps,Lg(a,T,h!==null?h.memoizedProps:T)),m&1024&&(Ug=!0);break;case 6:if(Hr(u,a),zr(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,h=a.stateNode;try{h.nodeValue=m}catch(Qe){en(a,a.return,Qe)}}break;case 3:if(td=null,T=Gi,Gi=Zh(u.containerInfo),Hr(u,a),Gi=T,zr(a),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Ll(u.containerInfo)}catch(Qe){en(a,a.return,Qe)}Ug&&(Ug=!1,MT(a));break;case 4:m=Gi,Gi=Zh(a.stateNode.containerInfo),Hr(u,a),zr(a),Gi=m;break;case 12:Hr(u,a),zr(a);break;case 31:Hr(u,a),zr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Vh(a,m)));break;case 13:Hr(u,a),zr(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(qh=st()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Vh(a,m)));break;case 22:T=a.memoizedState!==null;var ue=h!==null&&h.memoizedState!==null,Te=na,Me=Vn;if(na=Te||T,Vn=Me||ue,Hr(u,a),Vn=Me,na=Te,zr(a),m&8192)e:for(u=a.stateNode,u._visibility=T?u._visibility&-2:u._visibility|1,T&&(h===null||ue||na||Vn||pu(a)),h=null,u=a;;){if(u.tag===5||u.tag===26){if(h===null){ue=h=u;try{if(S=ue.stateNode,T)B=S.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{W=ue.stateNode;var Oe=ue.memoizedProps.style,we=Oe!=null&&Oe.hasOwnProperty("display")?Oe.display:null;W.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(Qe){en(ue,ue.return,Qe)}}}else if(u.tag===6){if(h===null){ue=u;try{ue.stateNode.nodeValue=T?"":ue.memoizedProps}catch(Qe){en(ue,ue.return,Qe)}}}else if(u.tag===18){if(h===null){ue=u;try{var Ae=ue.stateNode;T?EE(Ae,!0):EE(ue.stateNode,!1)}catch(Qe){en(ue,ue.return,Qe)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}m&4&&(m=a.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,Vh(a,h))));break;case 19:Hr(u,a),zr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Vh(a,m)));break;case 30:break;case 21:break;default:Hr(u,a),zr(a)}}function zr(a){var u=a.flags;if(u&2){try{for(var h,m=a.return;m!==null;){if(wT(m)){h=m;break}m=m.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var T=h.stateNode,S=Og(a);Uh(a,S,T);break;case 5:var B=h.stateNode;h.flags&32&&(Br(B,""),h.flags&=-33);var W=Og(a);Uh(a,W,B);break;case 3:case 4:var ue=h.stateNode.containerInfo,Te=Og(a);Fg(a,Te,ue);break;default:throw Error(r(161))}}catch(Me){en(a,a.return,Me)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function MT(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var u=a;MT(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),a=a.sibling}}function ia(a,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)CT(a,u.alternate,u),u=u.sibling}function pu(a){for(a=a.child;a!==null;){var u=a;switch(u.tag){case 0:case 11:case 14:case 15:$a(4,u,u.return),pu(u);break;case 1:ys(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&ET(u,u.return,h),pu(u);break;case 27:xf(u.stateNode);case 26:case 5:ys(u,u.return),pu(u);break;case 22:u.memoizedState===null&&pu(u);break;case 30:pu(u);break;default:pu(u)}a=a.sibling}}function sa(a,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var m=u.alternate,T=a,S=u,B=S.flags;switch(S.tag){case 0:case 11:case 15:sa(T,S,h),of(4,S);break;case 1:if(sa(T,S,h),m=S,T=m.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Te){en(m,m.return,Te)}if(m=S,T=m.updateQueue,T!==null){var W=m.stateNode;try{var ue=T.shared.hiddenCallbacks;if(ue!==null)for(T.shared.hiddenCallbacks=null,T=0;T<ue.length;T++)c2(ue[T],W)}catch(Te){en(m,m.return,Te)}}h&&B&64&&TT(S),uf(S,S.return);break;case 27:ST(S);case 26:case 5:sa(T,S,h),h&&m===null&&B&4&&bT(S),uf(S,S.return);break;case 12:sa(T,S,h);break;case 31:sa(T,S,h),h&&B&4&&RT(T,S);break;case 13:sa(T,S,h),h&&B&4&&NT(T,S);break;case 22:S.memoizedState===null&&sa(T,S,h),uf(S,S.return);break;case 30:break;default:sa(T,S,h)}u=u.sibling}}function Vg(a,u){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(a=u.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&Wc(h))}function Bg(a,u){a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&Wc(a))}function ji(a,u,h,m){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)PT(a,u,h,m),u=u.sibling}function PT(a,u,h,m){var T=u.flags;switch(u.tag){case 0:case 11:case 15:ji(a,u,h,m),T&2048&&of(9,u);break;case 1:ji(a,u,h,m);break;case 3:ji(a,u,h,m),T&2048&&(a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&Wc(a)));break;case 12:if(T&2048){ji(a,u,h,m),a=u.stateNode;try{var S=u.memoizedProps,B=S.id,W=S.onPostCommit;typeof W=="function"&&W(B,u.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ue){en(u,u.return,ue)}}else ji(a,u,h,m);break;case 31:ji(a,u,h,m);break;case 13:ji(a,u,h,m);break;case 23:break;case 22:S=u.stateNode,B=u.alternate,u.memoizedState!==null?S._visibility&2?ji(a,u,h,m):lf(a,u):S._visibility&2?ji(a,u,h,m):(S._visibility|=2,wl(a,u,h,m,(u.subtreeFlags&10256)!==0||!1)),T&2048&&Vg(B,u);break;case 24:ji(a,u,h,m),T&2048&&Bg(u.alternate,u);break;default:ji(a,u,h,m)}}function wl(a,u,h,m,T){for(T=T&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var S=a,B=u,W=h,ue=m,Te=B.flags;switch(B.tag){case 0:case 11:case 15:wl(S,B,W,ue,T),of(8,B);break;case 23:break;case 22:var Me=B.stateNode;B.memoizedState!==null?Me._visibility&2?wl(S,B,W,ue,T):lf(S,B):(Me._visibility|=2,wl(S,B,W,ue,T)),T&&Te&2048&&Vg(B.alternate,B);break;case 24:wl(S,B,W,ue,T),T&&Te&2048&&Bg(B.alternate,B);break;default:wl(S,B,W,ue,T)}u=u.sibling}}function lf(a,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=a,m=u,T=m.flags;switch(m.tag){case 22:lf(h,m),T&2048&&Vg(m.alternate,m);break;case 24:lf(h,m),T&2048&&Bg(m.alternate,m);break;default:lf(h,m)}u=u.sibling}}var cf=8192;function Sl(a,u,h){if(a.subtreeFlags&cf)for(a=a.child;a!==null;)LT(a,u,h),a=a.sibling}function LT(a,u,h){switch(a.tag){case 26:Sl(a,u,h),a.flags&cf&&a.memoizedState!==null&&e8(h,Gi,a.memoizedState,a.memoizedProps);break;case 5:Sl(a,u,h);break;case 3:case 4:var m=Gi;Gi=Zh(a.stateNode.containerInfo),Sl(a,u,h),Gi=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=cf,cf=16777216,Sl(a,u,h),cf=m):Sl(a,u,h));break;default:Sl(a,u,h)}}function OT(a){var u=a.alternate;if(u!==null&&(a=u.child,a!==null)){u.child=null;do u=a.sibling,a.sibling=null,a=u;while(a!==null)}}function ff(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];Zn=m,UT(m,a)}OT(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)FT(a),a=a.sibling}function FT(a){switch(a.tag){case 0:case 11:case 15:ff(a),a.flags&2048&&$a(9,a,a.return);break;case 3:ff(a);break;case 12:ff(a);break;case 22:var u=a.stateNode;a.memoizedState!==null&&u._visibility&2&&(a.return===null||a.return.tag!==13)?(u._visibility&=-3,Bh(a)):ff(a);break;default:ff(a)}}function Bh(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];Zn=m,UT(m,a)}OT(a)}for(a=a.child;a!==null;){switch(u=a,u.tag){case 0:case 11:case 15:$a(8,u,u.return),Bh(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,Bh(u));break;default:Bh(u)}a=a.sibling}}function UT(a,u){for(;Zn!==null;){var h=Zn;switch(h.tag){case 0:case 11:case 15:$a(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Wc(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,Zn=m;else e:for(h=a;Zn!==null;){m=Zn;var T=m.sibling,S=m.return;if(IT(m),m===h){Zn=null;break e}if(T!==null){T.return=S,Zn=T;break e}Zn=S}}}var mN={getCacheForType:function(a){var u=sr(On),h=u.data.get(a);return h===void 0&&(h=a(),u.data.set(a,h)),h},cacheSignal:function(){return sr(On).controller.signal}},gN=typeof WeakMap=="function"?WeakMap:Map,jt=0,fn=null,At=null,It=0,Zt=0,ai=null,Wa=!1,Al=!1,qg=!1,aa=0,Sn=0,Ka=0,mu=0,Hg=0,oi=0,Cl=0,hf=null,Gr=null,zg=!1,qh=0,VT=0,Hh=1/0,zh=null,Ya=null,$n=0,Xa=null,Il=null,oa=0,Gg=0,jg=null,BT=null,df=0,$g=null;function ui(){return(jt&2)!==0&&It!==0?It&-It:ae.T!==null?Qg():j()}function qT(){if(oi===0)if((It&536870912)===0||Mt){var a=Bs;Bs<<=1,(Bs&3932160)===0&&(Bs=262144),oi=a}else oi=536870912;return a=ii.current,a!==null&&(a.flags|=32),oi}function jr(a,u,h){(a===fn&&(Zt===2||Zt===9)||a.cancelPendingCommit!==null)&&(kl(a,0),Ja(a,It,oi,!1)),qs(a,h),((jt&2)===0||a!==fn)&&(a===fn&&((jt&2)===0&&(mu|=h),Sn===4&&Ja(a,It,oi,!1)),vs(a))}function HT(a,u,h){if((jt&6)!==0)throw Error(r(327));var m=!h&&(u&127)===0&&(u&a.expiredLanes)===0||Zr(a,u),T=m?vN(a,u):Kg(a,u,!0),S=m;do{if(T===0){Al&&!m&&Ja(a,u,0,!1);break}else{if(h=a.current.alternate,S&&!xN(h)){T=Kg(a,u,!1),S=!1;continue}if(T===2){if(S=u,a.errorRecoveryDisabledLanes&S)var B=0;else B=a.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){u=B;e:{var W=a;T=hf;var ue=W.current.memoizedState.isDehydrated;if(ue&&(kl(W,B).flags|=256),B=Kg(W,B,!1),B!==2){if(qg&&!ue){W.errorRecoveryDisabledLanes|=S,mu|=S,T=4;break e}S=Gr,Gr=T,S!==null&&(Gr===null?Gr=S:Gr.push.apply(Gr,S))}T=B}if(S=!1,T!==2)continue}}if(T===1){kl(a,0),Ja(a,u,0,!0);break}e:{switch(m=a,S=T,S){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Ja(m,u,oi,!Wa);break e;case 2:Gr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(T=qh+300-st(),10<T)){if(Ja(m,u,oi,!Wa),pi(m,0,!0)!==0)break e;oa=u,m.timeoutHandle=vE(zT.bind(null,m,h,Gr,zh,zg,u,oi,mu,Cl,Wa,S,"Throttled",-0,0),T);break e}zT(m,h,Gr,zh,zg,u,oi,mu,Cl,Wa,S,null,-0,0)}}break}while(!0);vs(a)}function zT(a,u,h,m,T,S,B,W,ue,Te,Me,Oe,we,Ae){if(a.timeoutHandle=-1,Oe=u.subtreeFlags,Oe&8192||(Oe&16785408)===16785408){Oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ui},LT(u,S,Oe);var Qe=(S&62914560)===S?qh-st():(S&4194048)===S?VT-st():0;if(Qe=t8(Oe,Qe),Qe!==null){oa=S,a.cancelPendingCommit=Qe(JT.bind(null,a,u,S,h,m,T,B,W,ue,Me,Oe,null,we,Ae)),Ja(a,S,B,!Te);return}}JT(a,u,S,h,m,T,B,W,ue)}function xN(a){for(var u=a;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var T=h[m],S=T.getSnapshot;T=T.value;try{if(!ni(S(),T))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Ja(a,u,h,m){u&=~Hg,u&=~mu,a.suspendedLanes|=u,a.pingedLanes&=~u,m&&(a.warmLanes|=u),m=a.expirationTimes;for(var T=u;0<T;){var S=31-Tn(T),B=1<<S;m[S]=-1,T&=~B}h!==0&&Hs(a,h,u)}function Gh(){return(jt&6)===0?(pf(0),!1):!0}function Wg(){if(At!==null){if(Zt===0)var a=At.return;else a=At,Xs=au=null,lg(a),vl=null,Yc=0,a=At;for(;a!==null;)_T(a.alternate,a),a=a.return;At=null}}function kl(a,u){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,FN(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),oa=0,Wg(),fn=a,At=h=Ks(a.current,null),It=u,Zt=0,ai=null,Wa=!1,Al=Zr(a,u),qg=!1,Cl=oi=Hg=mu=Ka=Sn=0,Gr=hf=null,zg=!1,(u&8)!==0&&(u|=u&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=u;0<m;){var T=31-Tn(m),S=1<<T;u|=a[T],m&=~S}return aa=u,fh(),h}function GT(a,u){vt=null,ae.H=rf,u===yl||u===vh?(u=a2(),Zt=3):u===Jm?(u=a2(),Zt=4):Zt=u===Sg?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ai=u,At===null&&(Sn=1,Mh(a,_i(u,a.current)))}function jT(){var a=ii.current;return a===null?!0:(It&4194048)===It?wi===null:(It&62914560)===It||(It&536870912)!==0?a===wi:!1}function $T(){var a=ae.H;return ae.H=rf,a===null?rf:a}function WT(){var a=ae.A;return ae.A=mN,a}function jh(){Sn=4,Wa||(It&4194048)!==It&&ii.current!==null||(Al=!0),(Ka&134217727)===0&&(mu&134217727)===0||fn===null||Ja(fn,It,oi,!1)}function Kg(a,u,h){var m=jt;jt|=2;var T=$T(),S=WT();(fn!==a||It!==u)&&(zh=null,kl(a,u)),u=!1;var B=Sn;e:do try{if(Zt!==0&&At!==null){var W=At,ue=ai;switch(Zt){case 8:Wg(),B=6;break e;case 3:case 2:case 9:case 6:ii.current===null&&(u=!0);var Te=Zt;if(Zt=0,ai=null,Rl(a,W,ue,Te),h&&Al){B=0;break e}break;default:Te=Zt,Zt=0,ai=null,Rl(a,W,ue,Te)}}yN(),B=Sn;break}catch(Me){GT(a,Me)}while(!0);return u&&a.shellSuspendCounter++,Xs=au=null,jt=m,ae.H=T,ae.A=S,At===null&&(fn=null,It=0,fh()),B}function yN(){for(;At!==null;)KT(At)}function vN(a,u){var h=jt;jt|=2;var m=$T(),T=WT();fn!==a||It!==u?(zh=null,Hh=st()+500,kl(a,u)):Al=Zr(a,u);e:do try{if(Zt!==0&&At!==null){u=At;var S=ai;t:switch(Zt){case 1:Zt=0,ai=null,Rl(a,u,S,1);break;case 2:case 9:if(i2(S)){Zt=0,ai=null,YT(u);break}u=function(){Zt!==2&&Zt!==9||fn!==a||(Zt=7),vs(a)},S.then(u,u);break e;case 3:Zt=7;break e;case 4:Zt=5;break e;case 7:i2(S)?(Zt=0,ai=null,YT(u)):(Zt=0,ai=null,Rl(a,u,S,7));break;case 5:var B=null;switch(At.tag){case 26:B=At.memoizedState;case 5:case 27:var W=At;if(B?PE(B):W.stateNode.complete){Zt=0,ai=null;var ue=W.sibling;if(ue!==null)At=ue;else{var Te=W.return;Te!==null?(At=Te,$h(Te)):At=null}break t}}Zt=0,ai=null,Rl(a,u,S,5);break;case 6:Zt=0,ai=null,Rl(a,u,S,6);break;case 8:Wg(),Sn=6;break e;default:throw Error(r(462))}}_N();break}catch(Me){GT(a,Me)}while(!0);return Xs=au=null,ae.H=m,ae.A=T,jt=h,At!==null?0:(fn=null,It=0,fh(),Sn)}function _N(){for(;At!==null&&!ot();)KT(At)}function KT(a){var u=yT(a.alternate,a,aa);a.memoizedProps=a.pendingProps,u===null?$h(a):At=u}function YT(a){var u=a,h=u.alternate;switch(u.tag){case 15:case 0:u=hT(h,u,u.pendingProps,u.type,void 0,It);break;case 11:u=hT(h,u,u.pendingProps,u.type.render,u.ref,It);break;case 5:lg(u);default:_T(h,u),u=At=W_(u,aa),u=yT(h,u,aa)}a.memoizedProps=a.pendingProps,u===null?$h(a):At=u}function Rl(a,u,h,m){Xs=au=null,lg(u),vl=null,Yc=0;var T=u.return;try{if(uN(a,T,u,h,It)){Sn=1,Mh(a,_i(h,a.current)),At=null;return}}catch(S){if(T!==null)throw At=T,S;Sn=1,Mh(a,_i(h,a.current)),At=null;return}u.flags&32768?(Mt||m===1?a=!0:Al||(It&536870912)!==0?a=!1:(Wa=a=!0,(m===2||m===9||m===3||m===6)&&(m=ii.current,m!==null&&m.tag===13&&(m.flags|=16384))),XT(u,a)):$h(u)}function $h(a){var u=a;do{if((u.flags&32768)!==0){XT(u,Wa);return}a=u.return;var h=fN(u.alternate,u,aa);if(h!==null){At=h;return}if(u=u.sibling,u!==null){At=u;return}At=u=a}while(u!==null);Sn===0&&(Sn=5)}function XT(a,u){do{var h=hN(a.alternate,a);if(h!==null){h.flags&=32767,At=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(a=a.sibling,a!==null)){At=a;return}At=a=h}while(a!==null);Sn=6,At=null}function JT(a,u,h,m,T,S,B,W,ue){a.cancelPendingCommit=null;do Wh();while($n!==0);if((jt&6)!==0)throw Error(r(327));if(u!==null){if(u===a.current)throw Error(r(177));if(S=u.lanes|u.childLanes,S|=Om,Rc(a,h,S,B,W,ue),a===fn&&(At=fn=null,It=0),Il=u,Xa=a,oa=h,Gg=S,jg=T,BT=m,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,wN(wt,function(){return nE(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||m){m=ae.T,ae.T=null,T=se.p,se.p=2,B=jt,jt|=4;try{dN(a,u,h)}finally{jt=B,se.p=T,ae.T=m}}$n=1,QT(),ZT(),eE()}}function QT(){if($n===1){$n=0;var a=Xa,u=Il,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=ae.T,ae.T=null;var m=se.p;se.p=2;var T=jt;jt|=4;try{DT(u,a);var S=a1,B=U_(a.containerInfo),W=S.focusedElem,ue=S.selectionRange;if(B!==W&&W&&W.ownerDocument&&F_(W.ownerDocument.documentElement,W)){if(ue!==null&&Nm(W)){var Te=ue.start,Me=ue.end;if(Me===void 0&&(Me=Te),"selectionStart"in W)W.selectionStart=Te,W.selectionEnd=Math.min(Me,W.value.length);else{var Oe=W.ownerDocument||document,we=Oe&&Oe.defaultView||window;if(we.getSelection){var Ae=we.getSelection(),Qe=W.textContent.length,at=Math.min(ue.start,Qe),un=ue.end===void 0?at:Math.min(ue.end,Qe);!Ae.extend&&at>un&&(B=un,un=at,at=B);var de=O_(W,at),le=O_(W,un);if(de&&le&&(Ae.rangeCount!==1||Ae.anchorNode!==de.node||Ae.anchorOffset!==de.offset||Ae.focusNode!==le.node||Ae.focusOffset!==le.offset)){var ye=Oe.createRange();ye.setStart(de.node,de.offset),Ae.removeAllRanges(),at>un?(Ae.addRange(ye),Ae.extend(le.node,le.offset)):(ye.setEnd(le.node,le.offset),Ae.addRange(ye))}}}}for(Oe=[],Ae=W;Ae=Ae.parentNode;)Ae.nodeType===1&&Oe.push({element:Ae,left:Ae.scrollLeft,top:Ae.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Oe.length;W++){var Pe=Oe[W];Pe.element.scrollLeft=Pe.left,Pe.element.scrollTop=Pe.top}}sd=!!s1,a1=s1=null}finally{jt=T,se.p=m,ae.T=h}}a.current=u,$n=2}}function ZT(){if($n===2){$n=0;var a=Xa,u=Il,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=ae.T,ae.T=null;var m=se.p;se.p=2;var T=jt;jt|=4;try{CT(a,u.alternate,u)}finally{jt=T,se.p=m,ae.T=h}}$n=3}}function eE(){if($n===4||$n===3){$n=0,ut();var a=Xa,u=Il,h=oa,m=BT;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?$n=5:($n=0,Il=Xa=null,tE(a,a.pendingLanes));var T=a.pendingLanes;if(T===0&&(Ya=null),Li(h),u=u.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(St,u,void 0,(u.current.flags&128)===128)}catch{}if(m!==null){u=ae.T,T=se.p,se.p=2,ae.T=null;try{for(var S=a.onRecoverableError,B=0;B<m.length;B++){var W=m[B];S(W.value,{componentStack:W.stack})}}finally{ae.T=u,se.p=T}}(oa&3)!==0&&Wh(),vs(a),T=a.pendingLanes,(h&261930)!==0&&(T&42)!==0?a===$g?df++:(df=0,$g=a):df=0,pf(0)}}function tE(a,u){(a.pooledCacheLanes&=u)===0&&(u=a.pooledCache,u!=null&&(a.pooledCache=null,Wc(u)))}function Wh(){return QT(),ZT(),eE(),nE()}function nE(){if($n!==5)return!1;var a=Xa,u=Gg;Gg=0;var h=Li(oa),m=ae.T,T=se.p;try{se.p=32>h?32:h,ae.T=null,h=jg,jg=null;var S=Xa,B=oa;if($n=0,Il=Xa=null,oa=0,(jt&6)!==0)throw Error(r(331));var W=jt;if(jt|=4,FT(S.current),PT(S,S.current,B,h),jt=W,pf(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(St,S)}catch{}return!0}finally{se.p=T,ae.T=m,tE(a,u)}}function rE(a,u,h){u=_i(h,u),u=wg(a.stateNode,u,2),a=za(a,u,2),a!==null&&(qs(a,2),vs(a))}function en(a,u,h){if(a.tag===3)rE(a,a,h);else for(;u!==null;){if(u.tag===3){rE(u,a,h);break}else if(u.tag===1){var m=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ya===null||!Ya.has(m))){a=_i(h,a),h=iT(2),m=za(u,h,2),m!==null&&(sT(h,m,u,a),qs(m,2),vs(m));break}}u=u.return}}function Yg(a,u,h){var m=a.pingCache;if(m===null){m=a.pingCache=new gN;var T=new Set;m.set(u,T)}else T=m.get(u),T===void 0&&(T=new Set,m.set(u,T));T.has(h)||(qg=!0,T.add(h),a=TN.bind(null,a,u,h),u.then(a,a))}function TN(a,u,h){var m=a.pingCache;m!==null&&m.delete(u),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,fn===a&&(It&h)===h&&(Sn===4||Sn===3&&(It&62914560)===It&&300>st()-qh?(jt&2)===0&&kl(a,0):Hg|=h,Cl===It&&(Cl=0)),vs(a)}function iE(a,u){u===0&&(u=Qu()),a=ru(a,u),a!==null&&(qs(a,u),vs(a))}function EN(a){var u=a.memoizedState,h=0;u!==null&&(h=u.retryLane),iE(a,h)}function bN(a,u){var h=0;switch(a.tag){case 31:case 13:var m=a.stateNode,T=a.memoizedState;T!==null&&(h=T.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(u),iE(a,h)}function wN(a,u){return We(a,u)}var Kh=null,Nl=null,Xg=!1,Yh=!1,Jg=!1,Qa=0;function vs(a){a!==Nl&&a.next===null&&(Nl===null?Kh=Nl=a:Nl=Nl.next=a),Yh=!0,Xg||(Xg=!0,AN())}function pf(a,u){if(!Jg&&Yh){Jg=!0;do for(var h=!1,m=Kh;m!==null;){if(a!==0){var T=m.pendingLanes;if(T===0)var S=0;else{var B=m.suspendedLanes,W=m.pingedLanes;S=(1<<31-Tn(42|a)+1)-1,S&=T&~(B&~W),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(h=!0,uE(m,S))}else S=It,S=pi(m,m===fn?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||Zr(m,S)||(h=!0,uE(m,S));m=m.next}while(h);Jg=!1}}function SN(){sE()}function sE(){Yh=Xg=!1;var a=0;Qa!==0&&ON()&&(a=Qa);for(var u=st(),h=null,m=Kh;m!==null;){var T=m.next,S=aE(m,u);S===0?(m.next=null,h===null?Kh=T:h.next=T,T===null&&(Nl=h)):(h=m,(a!==0||(S&3)!==0)&&(Yh=!0)),m=T}$n!==0&&$n!==5||pf(a),Qa!==0&&(Qa=0)}function aE(a,u){for(var h=a.suspendedLanes,m=a.pingedLanes,T=a.expirationTimes,S=a.pendingLanes&-62914561;0<S;){var B=31-Tn(S),W=1<<B,ue=T[B];ue===-1?((W&h)===0||(W&m)!==0)&&(T[B]=kc(W,u)):ue<=u&&(a.expiredLanes|=W),S&=~W}if(u=fn,h=It,h=pi(a,a===u?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,h===0||a===u&&(Zt===2||Zt===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Yt(m),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||Zr(a,h)){if(u=h&-h,u===a.callbackPriority)return u;switch(m!==null&&Yt(m),Li(h)){case 2:case 8:h=tn;break;case 32:h=wt;break;case 268435456:h=ht;break;default:h=wt}return m=oE.bind(null,a),h=We(h,m),a.callbackPriority=u,a.callbackNode=h,u}return m!==null&&m!==null&&Yt(m),a.callbackPriority=2,a.callbackNode=null,2}function oE(a,u){if($n!==0&&$n!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(Wh()&&a.callbackNode!==h)return null;var m=It;return m=pi(a,a===fn?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(HT(a,m,u),aE(a,st()),a.callbackNode!=null&&a.callbackNode===h?oE.bind(null,a):null)}function uE(a,u){if(Wh())return null;HT(a,u,!0)}function AN(){UN(function(){(jt&6)!==0?We(dt,SN):sE()})}function Qg(){if(Qa===0){var a=gl;a===0&&(a=Qr,Qr<<=1,(Qr&261888)===0&&(Qr=256)),Qa=a}return Qa}function lE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:tl(""+a)}function cE(a,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,a.id&&h.setAttribute("form",a.id),u.parentNode.insertBefore(h,u),a=new FormData(a),h.parentNode.removeChild(h),a}function CN(a,u,h,m,T){if(u==="submit"&&h&&h.stateNode===T){var S=lE((T[te]||null).action),B=m.submitter;B&&(u=(u=B[te]||null)?lE(u.formAction):B.getAttribute("formAction"),u!==null&&(S=u,B=null));var W=new hs("action","action",null,m,T);a.push({event:W,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Qa!==0){var ue=B?cE(T,B):new FormData(T);yg(h,{pending:!0,data:ue,method:T.method,action:S},null,ue)}}else typeof S=="function"&&(W.preventDefault(),ue=B?cE(T,B):new FormData(T),yg(h,{pending:!0,data:ue,method:T.method,action:S},S,ue))},currentTarget:T}]})}}for(var Zg=0;Zg<Lm.length;Zg++){var e1=Lm[Zg],IN=e1.toLowerCase(),kN=e1[0].toUpperCase()+e1.slice(1);zi(IN,"on"+kN)}zi(q_,"onAnimationEnd"),zi(H_,"onAnimationIteration"),zi(z_,"onAnimationStart"),zi("dblclick","onDoubleClick"),zi("focusin","onFocus"),zi("focusout","onBlur"),zi(jR,"onTransitionRun"),zi($R,"onTransitionStart"),zi(WR,"onTransitionCancel"),zi(G_,"onTransitionEnd"),pr("onMouseEnter",["mouseout","mouseover"]),pr("onMouseLeave",["mouseout","mouseover"]),pr("onPointerEnter",["pointerout","pointerover"]),pr("onPointerLeave",["pointerout","pointerover"]),cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mf));function fE(a,u){u=(u&4)!==0;for(var h=0;h<a.length;h++){var m=a[h],T=m.event;m=m.listeners;e:{var S=void 0;if(u)for(var B=m.length-1;0<=B;B--){var W=m[B],ue=W.instance,Te=W.currentTarget;if(W=W.listener,ue!==S&&T.isPropagationStopped())break e;S=W,T.currentTarget=Te;try{S(T)}catch(Me){ch(Me)}T.currentTarget=null,S=ue}else for(B=0;B<m.length;B++){if(W=m[B],ue=W.instance,Te=W.currentTarget,W=W.listener,ue!==S&&T.isPropagationStopped())break e;S=W,T.currentTarget=Te;try{S(T)}catch(Me){ch(Me)}T.currentTarget=null,S=ue}}}}function Ct(a,u){var h=u[ve];h===void 0&&(h=u[ve]=new Set);var m=a+"__bubble";h.has(m)||(hE(u,a,2,!1),h.add(m))}function t1(a,u,h){var m=0;u&&(m|=4),hE(h,a,m,u)}var Xh="_reactListening"+Math.random().toString(36).slice(2);function n1(a){if(!a[Xh]){a[Xh]=!0,Xt.forEach(function(h){h!=="selectionchange"&&(RN.has(h)||t1(h,!1,a),t1(h,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[Xh]||(u[Xh]=!0,t1("selectionchange",!1,u))}}function hE(a,u,h,m){switch(qE(u)){case 2:var T=i8;break;case 8:T=s8;break;default:T=x1}h=T.bind(null,u,h,a),T=void 0,!Yo||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(T=!0),m?T!==void 0?a.addEventListener(u,h,{capture:!0,passive:T}):a.addEventListener(u,h,!0):T!==void 0?a.addEventListener(u,h,{passive:T}):a.addEventListener(u,h,!1)}function r1(a,u,h,m,T){var S=m;if((u&1)===0&&(u&2)===0&&m!==null)e:for(;;){if(m===null)return;var B=m.tag;if(B===3||B===4){var W=m.stateNode.containerInfo;if(W===T)break;if(B===4)for(B=m.return;B!==null;){var ue=B.tag;if((ue===3||ue===4)&&B.stateNode.containerInfo===T)return;B=B.return}for(;W!==null;){if(B=ze(W),B===null)return;if(ue=B.tag,ue===5||ue===6||ue===26||ue===27){m=S=B;continue e}W=W.parentNode}}m=m.return}Ma(function(){var Te=S,Me=gi(h),Oe=[];e:{var we=j_.get(a);if(we!==void 0){var Ae=hs,Qe=a;switch(a){case"keypress":if(Jo(h)===0)break e;case"keydown":case"keyup":Ae=oh;break;case"focusin":Qe="focus",Ae=Zo;break;case"focusout":Qe="blur",Ae=Zo;break;case"beforeblur":case"afterblur":Ae=Zo;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=Vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=Q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=O;break;case q_:case H_:case z_:Ae=eh;break;case G_:Ae=Q;break;case"scroll":case"scrollend":Ae=Uc;break;case"wheel":Ae=Se;break;case"copy":case"cut":case"paste":Ae=th;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=Ws;break;case"toggle":case"beforetoggle":Ae=yt}var at=(u&4)!==0,un=!at&&(a==="scroll"||a==="scrollend"),de=at?we!==null?we+"Capture":null:we;at=[];for(var le=Te,ye;le!==null;){var Pe=le;if(ye=Pe.stateNode,Pe=Pe.tag,Pe!==5&&Pe!==26&&Pe!==27||ye===null||de===null||(Pe=Vi(le,de),Pe!=null&&at.push(gf(le,Pe,ye))),un)break;le=le.return}0<at.length&&(we=new Ae(we,Qe,null,h,Me),Oe.push({event:we,listeners:at}))}}if((u&7)===0){e:{if(we=a==="mouseover"||a==="pointerover",Ae=a==="mouseout"||a==="pointerout",we&&h!==Lc&&(Qe=h.relatedTarget||h.fromElement)&&(ze(Qe)||Qe[ie]))break e;if((Ae||we)&&(we=Me.window===Me?Me:(we=Me.ownerDocument)?we.defaultView||we.parentWindow:window,Ae?(Qe=h.relatedTarget||h.toElement,Ae=Te,Qe=Qe?ze(Qe):null,Qe!==null&&(un=s(Qe),at=Qe.tag,Qe!==un||at!==5&&at!==27&&at!==6)&&(Qe=null)):(Ae=null,Qe=Te),Ae!==Qe)){if(at=Vc,Pe="onMouseLeave",de="onMouseEnter",le="mouse",(a==="pointerout"||a==="pointerover")&&(at=Ws,Pe="onPointerLeave",de="onPointerEnter",le="pointer"),un=Ae==null?we:Ve(Ae),ye=Qe==null?we:Ve(Qe),we=new at(Pe,le+"leave",Ae,h,Me),we.target=un,we.relatedTarget=ye,Pe=null,ze(Me)===Te&&(at=new at(de,le+"enter",Qe,h,Me),at.target=ye,at.relatedTarget=un,Pe=at),un=Pe,Ae&&Qe)t:{for(at=NN,de=Ae,le=Qe,ye=0,Pe=de;Pe;Pe=at(Pe))ye++;Pe=0;for(var rt=le;rt;rt=at(rt))Pe++;for(;0<ye-Pe;)de=at(de),ye--;for(;0<Pe-ye;)le=at(le),Pe--;for(;ye--;){if(de===le||le!==null&&de===le.alternate){at=de;break t}de=at(de),le=at(le)}at=null}else at=null;Ae!==null&&dE(Oe,we,Ae,at,!1),Qe!==null&&un!==null&&dE(Oe,un,Qe,at,!0)}}e:{if(we=Te?Ve(Te):window,Ae=we.nodeName&&we.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&we.type==="file")var Bt=R_;else if(I_(we))if(N_)Bt=HR;else{Bt=BR;var tt=VR}else Ae=we.nodeName,!Ae||Ae.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?Te&&el(Te.elementType)&&(Bt=R_):Bt=qR;if(Bt&&(Bt=Bt(a,Te))){k_(Oe,Bt,h,Me);break e}tt&&tt(a,we,Te),a==="focusout"&&Te&&we.type==="number"&&Te.memoizedProps.value!=null&&Dc(we,"number",we.value)}switch(tt=Te?Ve(Te):window,a){case"focusin":(I_(tt)||tt.contentEditable==="true")&&(ul=tt,Dm=Te,Gc=null);break;case"focusout":Gc=Dm=ul=null;break;case"mousedown":Mm=!0;break;case"contextmenu":case"mouseup":case"dragend":Mm=!1,V_(Oe,h,Me);break;case"selectionchange":if(GR)break;case"keydown":case"keyup":V_(Oe,h,Me)}var Tt;if(Gt)e:{switch(a){case"compositionstart":var kt="onCompositionStart";break e;case"compositionend":kt="onCompositionEnd";break e;case"compositionupdate":kt="onCompositionUpdate";break e}kt=void 0}else ol?eu(a,h)&&(kt="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(kt="onCompositionStart");kt&&(ms&&h.locale!=="ko"&&(ol||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&ol&&(Tt=Fc()):(fs=Me,Oc="value"in fs?fs.value:fs.textContent,ol=!0)),tt=Jh(Te,kt),0<tt.length&&(kt=new ps(kt,a,null,h,Me),Oe.push({event:kt,listeners:tt}),Tt?kt.data=Tt:(Tt=al(h),Tt!==null&&(kt.data=Tt)))),(Tt=yi?LR(a,h):OR(a,h))&&(kt=Jh(Te,"onBeforeInput"),0<kt.length&&(tt=new ps("onBeforeInput","beforeinput",null,h,Me),Oe.push({event:tt,listeners:kt}),tt.data=Tt)),CN(Oe,a,Te,h,Me)}fE(Oe,u)})}function gf(a,u,h){return{instance:a,listener:u,currentTarget:h}}function Jh(a,u){for(var h=u+"Capture",m=[];a!==null;){var T=a,S=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||S===null||(T=Vi(a,h),T!=null&&m.unshift(gf(a,T,S)),T=Vi(a,u),T!=null&&m.push(gf(a,T,S))),a.tag===3)return m;a=a.return}return[]}function NN(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function dE(a,u,h,m,T){for(var S=u._reactName,B=[];h!==null&&h!==m;){var W=h,ue=W.alternate,Te=W.stateNode;if(W=W.tag,ue!==null&&ue===m)break;W!==5&&W!==26&&W!==27||Te===null||(ue=Te,T?(Te=Vi(h,S),Te!=null&&B.unshift(gf(h,Te,ue))):T||(Te=Vi(h,S),Te!=null&&B.push(gf(h,Te,ue)))),h=h.return}B.length!==0&&a.push({event:u,listeners:B})}var DN=/\r\n?/g,MN=/\u0000|\uFFFD/g;function pE(a){return(typeof a=="string"?a:""+a).replace(DN,`
    +`).replace(MN,"")}function mE(a,u){return u=pE(u),pE(a)===u}function on(a,u,h,m,T,S){switch(h){case"children":typeof m=="string"?u==="body"||u==="textarea"&&m===""||Br(a,m):(typeof m=="number"||typeof m=="bigint")&&u!=="body"&&Br(a,""+m);break;case"className":ti(a,"class",m);break;case"tabIndex":ti(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(a,h,m);break;case"style":Pc(a,m,S);break;case"data":if(u!=="object"){ti(a,"data",m);break}case"src":case"href":if(m===""&&(u!=="a"||h!=="href")){a.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(h);break}m=tl(""+m),a.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(h==="formAction"?(u!=="input"&&on(a,u,"name",T.name,T,null),on(a,u,"formEncType",T.formEncType,T,null),on(a,u,"formMethod",T.formMethod,T,null),on(a,u,"formTarget",T.formTarget,T,null)):(on(a,u,"encType",T.encType,T,null),on(a,u,"method",T.method,T,null),on(a,u,"target",T.target,T,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(h);break}m=tl(""+m),a.setAttribute(h,m);break;case"onClick":m!=null&&(a.onclick=Ui);break;case"onScroll":m!=null&&Ct("scroll",a);break;case"onScrollEnd":m!=null&&Ct("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(T.children!=null)throw Error(r(60));a.innerHTML=h}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}h=tl(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(h,""+m):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":m===!0?a.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(h,m):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(h,m):a.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(h):a.setAttribute(h,m);break;case"popover":Ct("beforetoggle",a),Ct("toggle",a),mr(a,"popover",m);break;case"xlinkActuate":Ln(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ln(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ln(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ln(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ln(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ln(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ln(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ln(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ln(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":mr(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=J0.get(h)||h,mr(a,h,m))}}function i1(a,u,h,m,T,S){switch(h){case"style":Pc(a,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(h=m.__html,h!=null){if(T.children!=null)throw Error(r(60));a.innerHTML=h}}break;case"children":typeof m=="string"?Br(a,m):(typeof m=="number"||typeof m=="bigint")&&Br(a,""+m);break;case"onScroll":m!=null&&Ct("scroll",a);break;case"onScrollEnd":m!=null&&Ct("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jt.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(T=h.endsWith("Capture"),u=h.slice(2,T?h.length-7:void 0),S=a[te]||null,S=S!=null?S[h]:null,typeof S=="function"&&a.removeEventListener(u,S,T),typeof m=="function")){typeof S!="function"&&S!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(u,m,T);break e}h in a?a[h]=m:m===!0?a.setAttribute(h,""):mr(a,h,m)}}}function or(a,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",a),Ct("load",a);var m=!1,T=!1,S;for(S in h)if(h.hasOwnProperty(S)){var B=h[S];if(B!=null)switch(S){case"src":m=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:on(a,u,S,B,h,null)}}T&&on(a,u,"srcSet",h.srcSet,h,null),m&&on(a,u,"src",h.src,h,null);return;case"input":Ct("invalid",a);var W=S=B=T=null,ue=null,Te=null;for(m in h)if(h.hasOwnProperty(m)){var Me=h[m];if(Me!=null)switch(m){case"name":T=Me;break;case"type":B=Me;break;case"checked":ue=Me;break;case"defaultChecked":Te=Me;break;case"value":S=Me;break;case"defaultValue":W=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,u));break;default:on(a,u,m,Me,h,null)}}K0(a,S,W,ue,Te,B,T,!1);return;case"select":Ct("invalid",a),m=B=S=null;for(T in h)if(h.hasOwnProperty(T)&&(W=h[T],W!=null))switch(T){case"value":S=W;break;case"defaultValue":B=W;break;case"multiple":m=W;default:on(a,u,T,W,h,null)}u=S,h=B,a.multiple=!!m,u!=null?ka(a,!!m,u,!1):h!=null&&ka(a,!!m,h,!0);return;case"textarea":Ct("invalid",a),S=T=m=null;for(B in h)if(h.hasOwnProperty(B)&&(W=h[B],W!=null))switch(B){case"value":m=W;break;case"defaultValue":T=W;break;case"children":S=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(91));break;default:on(a,u,B,W,h,null)}Ra(a,m,T,S);return;case"option":for(ue in h)if(h.hasOwnProperty(ue)&&(m=h[ue],m!=null))switch(ue){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:on(a,u,ue,m,h,null)}return;case"dialog":Ct("beforetoggle",a),Ct("toggle",a),Ct("cancel",a),Ct("close",a);break;case"iframe":case"object":Ct("load",a);break;case"video":case"audio":for(m=0;m<mf.length;m++)Ct(mf[m],a);break;case"image":Ct("error",a),Ct("load",a);break;case"details":Ct("toggle",a);break;case"embed":case"source":case"link":Ct("error",a),Ct("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Te in h)if(h.hasOwnProperty(Te)&&(m=h[Te],m!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:on(a,u,Te,m,h,null)}return;default:if(el(u)){for(Me in h)h.hasOwnProperty(Me)&&(m=h[Me],m!==void 0&&i1(a,u,Me,m,h,void 0));return}}for(W in h)h.hasOwnProperty(W)&&(m=h[W],m!=null&&on(a,u,W,m,h,null))}function PN(a,u,h,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,S=null,B=null,W=null,ue=null,Te=null,Me=null;for(Ae in h){var Oe=h[Ae];if(h.hasOwnProperty(Ae)&&Oe!=null)switch(Ae){case"checked":break;case"value":break;case"defaultValue":ue=Oe;default:m.hasOwnProperty(Ae)||on(a,u,Ae,null,m,Oe)}}for(var we in m){var Ae=m[we];if(Oe=h[we],m.hasOwnProperty(we)&&(Ae!=null||Oe!=null))switch(we){case"type":S=Ae;break;case"name":T=Ae;break;case"checked":Te=Ae;break;case"defaultChecked":Me=Ae;break;case"value":B=Ae;break;case"defaultValue":W=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,u));break;default:Ae!==Oe&&on(a,u,we,Ae,m,Oe)}}Zu(a,B,W,ue,Te,Me,S,T);return;case"select":Ae=B=W=we=null;for(S in h)if(ue=h[S],h.hasOwnProperty(S)&&ue!=null)switch(S){case"value":break;case"multiple":Ae=ue;default:m.hasOwnProperty(S)||on(a,u,S,null,m,ue)}for(T in m)if(S=m[T],ue=h[T],m.hasOwnProperty(T)&&(S!=null||ue!=null))switch(T){case"value":we=S;break;case"defaultValue":W=S;break;case"multiple":B=S;default:S!==ue&&on(a,u,T,S,m,ue)}u=W,h=B,m=Ae,we!=null?ka(a,!!h,we,!1):!!m!=!!h&&(u!=null?ka(a,!!h,u,!0):ka(a,!!h,h?[]:"",!1));return;case"textarea":Ae=we=null;for(W in h)if(T=h[W],h.hasOwnProperty(W)&&T!=null&&!m.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:on(a,u,W,null,m,T)}for(B in m)if(T=m[B],S=h[B],m.hasOwnProperty(B)&&(T!=null||S!=null))switch(B){case"value":we=T;break;case"defaultValue":Ae=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:T!==S&&on(a,u,B,T,m,S)}Y0(a,we,Ae);return;case"option":for(var Qe in h)if(we=h[Qe],h.hasOwnProperty(Qe)&&we!=null&&!m.hasOwnProperty(Qe))switch(Qe){case"selected":a.selected=!1;break;default:on(a,u,Qe,null,m,we)}for(ue in m)if(we=m[ue],Ae=h[ue],m.hasOwnProperty(ue)&&we!==Ae&&(we!=null||Ae!=null))switch(ue){case"selected":a.selected=we&&typeof we!="function"&&typeof we!="symbol";break;default:on(a,u,ue,we,m,Ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in h)we=h[at],h.hasOwnProperty(at)&&we!=null&&!m.hasOwnProperty(at)&&on(a,u,at,null,m,we);for(Te in m)if(we=m[Te],Ae=h[Te],m.hasOwnProperty(Te)&&we!==Ae&&(we!=null||Ae!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,u));break;default:on(a,u,Te,we,m,Ae)}return;default:if(el(u)){for(var un in h)we=h[un],h.hasOwnProperty(un)&&we!==void 0&&!m.hasOwnProperty(un)&&i1(a,u,un,void 0,m,we);for(Me in m)we=m[Me],Ae=h[Me],!m.hasOwnProperty(Me)||we===Ae||we===void 0&&Ae===void 0||i1(a,u,Me,we,m,Ae);return}}for(var de in h)we=h[de],h.hasOwnProperty(de)&&we!=null&&!m.hasOwnProperty(de)&&on(a,u,de,null,m,we);for(Oe in m)we=m[Oe],Ae=h[Oe],!m.hasOwnProperty(Oe)||we===Ae||we==null&&Ae==null||on(a,u,Oe,we,m,Ae)}function gE(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LN(){if(typeof performance.getEntriesByType=="function"){for(var a=0,u=0,h=performance.getEntriesByType("resource"),m=0;m<h.length;m++){var T=h[m],S=T.transferSize,B=T.initiatorType,W=T.duration;if(S&&W&&gE(B)){for(B=0,W=T.responseEnd,m+=1;m<h.length;m++){var ue=h[m],Te=ue.startTime;if(Te>W)break;var Me=ue.transferSize,Oe=ue.initiatorType;Me&&gE(Oe)&&(ue=ue.responseEnd,B+=Me*(ue<W?1:(W-Te)/(ue-Te)))}if(--m,u+=8*(S+B)/(T.duration/1e3),a++,10<a)break}}if(0<a)return u/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var s1=null,a1=null;function Qh(a){return a.nodeType===9?a:a.ownerDocument}function xE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yE(a,u){if(a===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&u==="foreignObject"?0:a}function o1(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var u1=null;function ON(){var a=window.event;return a&&a.type==="popstate"?a===u1?!1:(u1=a,!0):(u1=null,!1)}var vE=typeof setTimeout=="function"?setTimeout:void 0,FN=typeof clearTimeout=="function"?clearTimeout:void 0,_E=typeof Promise=="function"?Promise:void 0,UN=typeof queueMicrotask=="function"?queueMicrotask:typeof _E<"u"?function(a){return _E.resolve(null).then(a).catch(VN)}:vE;function VN(a){setTimeout(function(){throw a})}function Za(a){return a==="head"}function TE(a,u){var h=u,m=0;do{var T=h.nextSibling;if(a.removeChild(h),T&&T.nodeType===8)if(h=T.data,h==="/$"||h==="/&"){if(m===0){a.removeChild(T),Ll(u);return}m--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")m++;else if(h==="html")xf(a.ownerDocument.documentElement);else if(h==="head"){h=a.ownerDocument.head,xf(h);for(var S=h.firstChild;S;){var B=S.nextSibling,W=S.nodeName;S[Ee]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&S.rel.toLowerCase()==="stylesheet"||h.removeChild(S),S=B}}else h==="body"&&xf(a.ownerDocument.body);h=T}while(h);Ll(u)}function EE(a,u){var h=a;a=0;do{var m=h.nextSibling;if(h.nodeType===1?u?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(u?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),m&&m.nodeType===8)if(h=m.data,h==="/$"){if(a===0)break;a--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||a++;h=m}while(h)}function l1(a){var u=a.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":l1(h),Be(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function BN(a,u,h,m){for(;a.nodeType===1;){var T=h;if(a.nodeName.toLowerCase()!==u.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Ee])switch(u){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(S=a.getAttribute("rel"),S==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(S!==T.rel||a.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||a.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||a.getAttribute("title")!==(T.title==null?null:T.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(S=a.getAttribute("src"),(S!==(T.src==null?null:T.src)||a.getAttribute("type")!==(T.type==null?null:T.type)||a.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&S&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(u==="input"&&a.type==="hidden"){var S=T.name==null?null:""+T.name;if(T.type==="hidden"&&a.getAttribute("name")===S)return a}else return a;if(a=Si(a.nextSibling),a===null)break}return null}function qN(a,u,h){if(u==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=Si(a.nextSibling),a===null))return null;return a}function bE(a,u){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Si(a.nextSibling),a===null))return null;return a}function c1(a){return a.data==="$?"||a.data==="$~"}function f1(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function HN(a,u){var h=a.ownerDocument;if(a.data==="$~")a._reactRetry=u;else if(a.data!=="$?"||h.readyState!=="loading")u();else{var m=function(){u(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Si(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return a}var h1=null;function wE(a){a=a.nextSibling;for(var u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"||h==="/&"){if(u===0)return Si(a.nextSibling);u--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||u++}a=a.nextSibling}return null}function SE(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(u===0)return a;u--}else h!=="/$"&&h!=="/&"||u++}a=a.previousSibling}return null}function AE(a,u,h){switch(u=Qh(h),a){case"html":if(a=u.documentElement,!a)throw Error(r(452));return a;case"head":if(a=u.head,!a)throw Error(r(453));return a;case"body":if(a=u.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function xf(a){for(var u=a.attributes;u.length;)a.removeAttributeNode(u[0]);Be(a)}var Ai=new Map,CE=new Set;function Zh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ua=se.d;se.d={f:zN,r:GN,D:jN,C:$N,L:WN,m:KN,X:XN,S:YN,M:JN};function zN(){var a=ua.f(),u=Gh();return a||u}function GN(a){var u=Ye(a);u!==null&&u.tag===5&&u.type==="form"?G2(u):ua.r(a)}var Dl=typeof document>"u"?null:document;function IE(a,u,h){var m=Dl;if(m&&typeof u=="string"&&u){var T=Vr(u);T='link[rel="'+a+'"][href="'+T+'"]',typeof h=="string"&&(T+='[crossorigin="'+h+'"]'),CE.has(T)||(CE.add(T),a={rel:a,crossOrigin:h,href:u},m.querySelector(T)===null&&(u=m.createElement("link"),or(u,"link",a),Ze(u),m.head.appendChild(u)))}}function jN(a){ua.D(a),IE("dns-prefetch",a,null)}function $N(a,u){ua.C(a,u),IE("preconnect",a,u)}function WN(a,u,h){ua.L(a,u,h);var m=Dl;if(m&&a&&u){var T='link[rel="preload"][as="'+Vr(u)+'"]';u==="image"&&h&&h.imageSrcSet?(T+='[imagesrcset="'+Vr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(T+='[imagesizes="'+Vr(h.imageSizes)+'"]')):T+='[href="'+Vr(a)+'"]';var S=T;switch(u){case"style":S=Ml(a);break;case"script":S=Pl(a)}Ai.has(S)||(a=g({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:a,as:u},h),Ai.set(S,a),m.querySelector(T)!==null||u==="style"&&m.querySelector(yf(S))||u==="script"&&m.querySelector(vf(S))||(u=m.createElement("link"),or(u,"link",a),Ze(u),m.head.appendChild(u)))}}function KN(a,u){ua.m(a,u);var h=Dl;if(h&&a){var m=u&&typeof u.as=="string"?u.as:"script",T='link[rel="modulepreload"][as="'+Vr(m)+'"][href="'+Vr(a)+'"]',S=T;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Pl(a)}if(!Ai.has(S)&&(a=g({rel:"modulepreload",href:a},u),Ai.set(S,a),h.querySelector(T)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(vf(S)))return}m=h.createElement("link"),or(m,"link",a),Ze(m),h.head.appendChild(m)}}}function YN(a,u,h){ua.S(a,u,h);var m=Dl;if(m&&a){var T=$e(m).hoistableStyles,S=Ml(a);u=u||"default";var B=T.get(S);if(!B){var W={loading:0,preload:null};if(B=m.querySelector(yf(S)))W.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":u},h),(h=Ai.get(S))&&d1(a,h);var ue=B=m.createElement("link");Ze(ue),or(ue,"link",a),ue._p=new Promise(function(Te,Me){ue.onload=Te,ue.onerror=Me}),ue.addEventListener("load",function(){W.loading|=1}),ue.addEventListener("error",function(){W.loading|=2}),W.loading|=4,ed(B,u,m)}B={type:"stylesheet",instance:B,count:1,state:W},T.set(S,B)}}}function XN(a,u){ua.X(a,u);var h=Dl;if(h&&a){var m=$e(h).hoistableScripts,T=Pl(a),S=m.get(T);S||(S=h.querySelector(vf(T)),S||(a=g({src:a,async:!0},u),(u=Ai.get(T))&&p1(a,u),S=h.createElement("script"),Ze(S),or(S,"link",a),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(T,S))}}function JN(a,u){ua.M(a,u);var h=Dl;if(h&&a){var m=$e(h).hoistableScripts,T=Pl(a),S=m.get(T);S||(S=h.querySelector(vf(T)),S||(a=g({src:a,async:!0,type:"module"},u),(u=Ai.get(T))&&p1(a,u),S=h.createElement("script"),Ze(S),or(S,"link",a),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(T,S))}}function kE(a,u,h,m){var T=(T=pe.current)?Zh(T):null;if(!T)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=Ml(h.href),h=$e(T).hoistableStyles,m=h.get(u),m||(m={type:"style",instance:null,count:0,state:null},h.set(u,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=Ml(h.href);var S=$e(T).hoistableStyles,B=S.get(a);if(B||(T=T.ownerDocument||T,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(a,B),(S=T.querySelector(yf(a)))&&!S._p&&(B.instance=S,B.state.loading=5),Ai.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ai.set(a,h),S||QN(T,a,h,B.state))),u&&m===null)throw Error(r(528,""));return B}if(u&&m!==null)throw Error(r(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Pl(h),h=$e(T).hoistableScripts,m=h.get(u),m||(m={type:"script",instance:null,count:0,state:null},h.set(u,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Ml(a){return'href="'+Vr(a)+'"'}function yf(a){return'link[rel="stylesheet"]['+a+"]"}function RE(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function QN(a,u,h,m){a.querySelector('link[rel="preload"][as="style"]['+u+"]")?m.loading=1:(u=a.createElement("link"),m.preload=u,u.addEventListener("load",function(){return m.loading|=1}),u.addEventListener("error",function(){return m.loading|=2}),or(u,"link",h),Ze(u),a.head.appendChild(u))}function Pl(a){return'[src="'+Vr(a)+'"]'}function vf(a){return"script[async]"+a}function NE(a,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var m=a.querySelector('style[data-href~="'+Vr(h.href)+'"]');if(m)return u.instance=m,Ze(m),m;var T=g({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Ze(m),or(m,"style",T),ed(m,h.precedence,a),u.instance=m;case"stylesheet":T=Ml(h.href);var S=a.querySelector(yf(T));if(S)return u.state.loading|=4,u.instance=S,Ze(S),S;m=RE(h),(T=Ai.get(T))&&d1(m,T),S=(a.ownerDocument||a).createElement("link"),Ze(S);var B=S;return B._p=new Promise(function(W,ue){B.onload=W,B.onerror=ue}),or(S,"link",m),u.state.loading|=4,ed(S,h.precedence,a),u.instance=S;case"script":return S=Pl(h.src),(T=a.querySelector(vf(S)))?(u.instance=T,Ze(T),T):(m=h,(T=Ai.get(S))&&(m=g({},h),p1(m,T)),a=a.ownerDocument||a,T=a.createElement("script"),Ze(T),or(T,"link",m),a.head.appendChild(T),u.instance=T);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(m=u.instance,u.state.loading|=4,ed(m,h.precedence,a));return u.instance}function ed(a,u,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=m.length?m[m.length-1]:null,S=T,B=0;B<m.length;B++){var W=m[B];if(W.dataset.precedence===u)S=W;else if(S!==T)break}S?S.parentNode.insertBefore(a,S.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(a,u.firstChild))}function d1(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.title==null&&(a.title=u.title)}function p1(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.integrity==null&&(a.integrity=u.integrity)}var td=null;function DE(a,u,h){if(td===null){var m=new Map,T=td=new Map;T.set(h,m)}else T=td,m=T.get(h),m||(m=new Map,T.set(h,m));if(m.has(a))return m;for(m.set(a,null),h=h.getElementsByTagName(a),T=0;T<h.length;T++){var S=h[T];if(!(S[Ee]||S[Z]||a==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var B=S.getAttribute(u)||"";B=a+B;var W=m.get(B);W?W.push(S):m.set(B,[S])}}return m}function ME(a,u,h){a=a.ownerDocument||a,a.head.insertBefore(h,u==="title"?a.querySelector("head > title"):null)}function ZN(a,u,h){if(h===1||u.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return a=u.disabled,typeof u.precedence=="string"&&a==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function PE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function e8(a,u,h,m){if(h.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var T=Ml(m.href),S=u.querySelector(yf(T));if(S){u=S._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(a.count++,a=nd.bind(a),u.then(a,a)),h.state.loading|=4,h.instance=S,Ze(S);return}S=u.ownerDocument||u,m=RE(m),(T=Ai.get(T))&&d1(m,T),S=S.createElement("link"),Ze(S);var B=S;B._p=new Promise(function(W,ue){B.onload=W,B.onerror=ue}),or(S,"link",m),h.instance=S}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(a.count++,h=nd.bind(a),u.addEventListener("load",h),u.addEventListener("error",h))}}var m1=0;function t8(a,u){return a.stylesheets&&a.count===0&&id(a,a.stylesheets),0<a.count||0<a.imgCount?function(h){var m=setTimeout(function(){if(a.stylesheets&&id(a,a.stylesheets),a.unsuspend){var S=a.unsuspend;a.unsuspend=null,S()}},6e4+u);0<a.imgBytes&&m1===0&&(m1=62500*LN());var T=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&id(a,a.stylesheets),a.unsuspend)){var S=a.unsuspend;a.unsuspend=null,S()}},(a.imgBytes>m1?50:800)+u);return a.unsuspend=h,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(T)}}:null}function nd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)id(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var rd=null;function id(a,u){a.stylesheets=null,a.unsuspend!==null&&(a.count++,rd=new Map,u.forEach(n8,a),rd=null,nd.call(a))}function n8(a,u){if(!(u.state.loading&4)){var h=rd.get(a);if(h)var m=h.get(null);else{h=new Map,rd.set(a,h);for(var T=a.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<T.length;S++){var B=T[S];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(h.set(B.dataset.precedence,B),m=B)}m&&h.set(null,m)}T=u.instance,B=T.getAttribute("data-precedence"),S=h.get(B)||m,S===m&&h.set(null,T),h.set(B,T),this.count++,m=nd.bind(this),T.addEventListener("load",m),T.addEventListener("error",m),S?S.parentNode.insertBefore(T,S.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(T,a.firstChild)),u.state.loading|=4}}var _f={$$typeof:A,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function r8(a,u,h,m,T,S,B,W,ue){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=m,this.onUncaughtError=T,this.onCaughtError=S,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function LE(a,u,h,m,T,S,B,W,ue,Te,Me,Oe){return a=new r8(a,u,h,B,ue,Te,Me,Oe,W),u=1,S===!0&&(u|=24),S=ri(3,null,null,u),a.current=S,S.stateNode=a,u=Km(),u.refCount++,a.pooledCache=u,u.refCount++,S.memoizedState={element:m,isDehydrated:h,cache:u},Qm(S),a}function OE(a){return a?(a=fl,a):fl}function FE(a,u,h,m,T,S){T=OE(T),m.context===null?m.context=T:m.pendingContext=T,m=Ha(u),m.payload={element:h},S=S===void 0?null:S,S!==null&&(m.callback=S),h=za(a,m,u),h!==null&&(jr(h,a,u),Jc(h,a,u))}function UE(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<u?h:u}}function g1(a,u){UE(a,u),(a=a.alternate)&&UE(a,u)}function VE(a){if(a.tag===13||a.tag===31){var u=ru(a,67108864);u!==null&&jr(u,a,67108864),g1(a,67108864)}}function BE(a){if(a.tag===13||a.tag===31){var u=ui();u=Gs(u);var h=ru(a,u);h!==null&&jr(h,a,u),g1(a,u)}}var sd=!0;function i8(a,u,h,m){var T=ae.T;ae.T=null;var S=se.p;try{se.p=2,x1(a,u,h,m)}finally{se.p=S,ae.T=T}}function s8(a,u,h,m){var T=ae.T;ae.T=null;var S=se.p;try{se.p=8,x1(a,u,h,m)}finally{se.p=S,ae.T=T}}function x1(a,u,h,m){if(sd){var T=y1(m);if(T===null)r1(a,u,m,ad,h),HE(a,m);else if(o8(T,a,u,h,m))m.stopPropagation();else if(HE(a,m),u&4&&-1<a8.indexOf(a)){for(;T!==null;){var S=Ye(T);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var B=Rr(S.pendingLanes);if(B!==0){var W=S;for(W.pendingLanes|=2,W.entangledLanes|=2;B;){var ue=1<<31-Tn(B);W.entanglements[1]|=ue,B&=~ue}vs(S),(jt&6)===0&&(Hh=st()+500,pf(0))}}break;case 31:case 13:W=ru(S,2),W!==null&&jr(W,S,2),Gh(),g1(S,2)}if(S=y1(m),S===null&&r1(a,u,m,ad,h),S===T)break;T=S}T!==null&&m.stopPropagation()}else r1(a,u,m,null,h)}}function y1(a){return a=gi(a),v1(a)}var ad=null;function v1(a){if(ad=null,a=ze(a),a!==null){var u=s(a);if(u===null)a=null;else{var h=u.tag;if(h===13){if(a=o(u),a!==null)return a;a=null}else if(h===31){if(a=l(u),a!==null)return a;a=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null)}}return ad=a,null}function qE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case dt:return 2;case tn:return 8;case wt:case Pn:return 32;case ht:return 268435456;default:return 32}default:return 32}}var _1=!1,eo=null,to=null,no=null,Tf=new Map,Ef=new Map,ro=[],a8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function HE(a,u){switch(a){case"focusin":case"focusout":eo=null;break;case"dragenter":case"dragleave":to=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":Tf.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ef.delete(u.pointerId)}}function bf(a,u,h,m,T,S){return a===null||a.nativeEvent!==S?(a={blockedOn:u,domEventName:h,eventSystemFlags:m,nativeEvent:S,targetContainers:[T]},u!==null&&(u=Ye(u),u!==null&&VE(u)),a):(a.eventSystemFlags|=m,u=a.targetContainers,T!==null&&u.indexOf(T)===-1&&u.push(T),a)}function o8(a,u,h,m,T){switch(u){case"focusin":return eo=bf(eo,a,u,h,m,T),!0;case"dragenter":return to=bf(to,a,u,h,m,T),!0;case"mouseover":return no=bf(no,a,u,h,m,T),!0;case"pointerover":var S=T.pointerId;return Tf.set(S,bf(Tf.get(S)||null,a,u,h,m,T)),!0;case"gotpointercapture":return S=T.pointerId,Ef.set(S,bf(Ef.get(S)||null,a,u,h,m,T)),!0}return!1}function zE(a){var u=ze(a.target);if(u!==null){var h=s(u);if(h!==null){if(u=h.tag,u===13){if(u=o(h),u!==null){a.blockedOn=u,ne(a.priority,function(){BE(h)});return}}else if(u===31){if(u=l(h),u!==null){a.blockedOn=u,ne(a.priority,function(){BE(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function od(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var h=y1(a.nativeEvent);if(h===null){h=a.nativeEvent;var m=new h.constructor(h.type,h);Lc=m,h.target.dispatchEvent(m),Lc=null}else return u=Ye(h),u!==null&&VE(u),a.blockedOn=h,!1;u.shift()}return!0}function GE(a,u,h){od(a)&&h.delete(u)}function u8(){_1=!1,eo!==null&&od(eo)&&(eo=null),to!==null&&od(to)&&(to=null),no!==null&&od(no)&&(no=null),Tf.forEach(GE),Ef.forEach(GE)}function ud(a,u){a.blockedOn===u&&(a.blockedOn=null,_1||(_1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,u8)))}var ld=null;function jE(a){ld!==a&&(ld=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ld===a&&(ld=null);for(var u=0;u<a.length;u+=3){var h=a[u],m=a[u+1],T=a[u+2];if(typeof m!="function"){if(v1(m||h)===null)continue;break}var S=Ye(h);S!==null&&(a.splice(u,3),u-=3,yg(S,{pending:!0,data:T,method:h.method,action:m},m,T))}}))}function Ll(a){function u(ue){return ud(ue,a)}eo!==null&&ud(eo,a),to!==null&&ud(to,a),no!==null&&ud(no,a),Tf.forEach(u),Ef.forEach(u);for(var h=0;h<ro.length;h++){var m=ro[h];m.blockedOn===a&&(m.blockedOn=null)}for(;0<ro.length&&(h=ro[0],h.blockedOn===null);)zE(h),h.blockedOn===null&&ro.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var T=h[m],S=h[m+1],B=T[te]||null;if(typeof S=="function")B||jE(h);else if(B){var W=null;if(S&&S.hasAttribute("formAction")){if(T=S,B=S[te]||null)W=B.formAction;else if(v1(T)!==null)continue}else W=B.action;typeof W=="function"?h[m+1]=W:(h.splice(m,3),m-=3),jE(h)}}}function $E(){function a(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(B){return T=B})},focusReset:"manual",scroll:"manual"})}function u(){T!==null&&(T(),T=null),m||setTimeout(h,20)}function h(){if(!m&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,T=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(h,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),T!==null&&(T(),T=null)}}}function T1(a){this._internalRoot=a}cd.prototype.render=T1.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(r(409));var h=u.current,m=ui();FE(h,m,a,u,null,null)},cd.prototype.unmount=T1.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;FE(a.current,2,null,a,null,null),Gh(),u[ie]=null}};function cd(a){this._internalRoot=a}cd.prototype.unstable_scheduleHydration=function(a){if(a){var u=j();a={blockedOn:null,target:a,priority:u};for(var h=0;h<ro.length&&u!==0&&u<ro[h].priority;h++);ro.splice(h,0,a),h===0&&zE(a)}};var WE=e.version;if(WE!=="19.2.0")throw Error(r(527,WE,"19.2.0"));se.findDOMNode=function(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=c(u),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var l8={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{St=fd.inject(l8),rn=fd}catch{}}return Sf.createRoot=function(a,u){if(!i(a))throw Error(r(299));var h=!1,m="",T=eT,S=tT,B=nT;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(T=u.onUncaughtError),u.onCaughtError!==void 0&&(S=u.onCaughtError),u.onRecoverableError!==void 0&&(B=u.onRecoverableError)),u=LE(a,1,!1,null,null,h,m,null,T,S,B,$E),a[ie]=u.current,n1(a),new T1(u)},Sf.hydrateRoot=function(a,u,h){if(!i(a))throw Error(r(299));var m=!1,T="",S=eT,B=tT,W=nT,ue=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(T=h.identifierPrefix),h.onUncaughtError!==void 0&&(S=h.onUncaughtError),h.onCaughtError!==void 0&&(B=h.onCaughtError),h.onRecoverableError!==void 0&&(W=h.onRecoverableError),h.formState!==void 0&&(ue=h.formState)),u=LE(a,1,!0,u,h??null,m,T,ue,S,B,W,$E),u.context=OE(null),h=u.current,m=ui(),m=Gs(m),T=Ha(m),T.callback=null,za(h,T,m),h=m,u.current.lanes=h,qs(u,h),vs(u),a[ie]=u.current,n1(a),new cd(u)},Sf.version="19.2.0",Sf}var rb;function b8(){if(rb)return w1.exports;rb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),w1.exports=E8(),w1.exports}var w8=b8();const S8=Vp(w8),Kt=()=>w.jsxs("svg",{className:"animate-spin h-5 w-5 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),A8=()=>{};var ib={};/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const TC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},T8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],f=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},EC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,f=i+2<t.length,c=f?t[i+2]:0,d=s>>2,g=(s&3)<<4|l>>4;let p=(l&15)<<2|c>>6,x=c&63;f||(x=64,o||(p=64)),r.push(n[d],n[g],n[p],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):T8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||g==null)throw new E8;const p=s<<2|l>>4;if(r.push(p),c!==64){const x=l<<4&240|c>>2;if(r.push(x),g!==64){const _=c<<6&192|g;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class E8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b8=function(t){const e=TC(t);return EC.encodeByteArray(e,!0)},Xd=function(t){return b8(t).replace(/\./g,"")},bC=function(t){try{return EC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
    + */const SC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},C8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],f=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},AC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,f=i+2<t.length,c=f?t[i+2]:0,d=s>>2,g=(s&3)<<4|l>>4;let p=(l&15)<<2|c>>6,x=c&63;f||(x=64,o||(p=64)),r.push(n[d],n[g],n[p],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||g==null)throw new I8;const p=s<<2|l>>4;if(r.push(p),c!==64){const x=l<<4&240|c>>2;if(r.push(x),g!==64){const _=c<<6&192|g;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class I8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k8=function(t){const e=SC(t);return AC.encodeByteArray(e,!0)},Jd=function(t){return k8(t).replace(/\./g,"")},CC=function(t){try{return AC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
      * @license
      * Copyright 2022 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function w8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
    + */function R8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
      * @license
      * Copyright 2022 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const S8=()=>w8().__FIREBASE_DEFAULTS__,A8=()=>{if(typeof process>"u"||typeof nb>"u")return;const t=nb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},C8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bC(t[1]);return e&&JSON.parse(e)},Up=()=>{try{return _8()||S8()||A8()||C8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wC=t=>{var e,n;return(n=(e=Up())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},SC=t=>{const e=wC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},AC=()=>{var t;return(t=Up())==null?void 0:t.config},CC=t=>{var e;return(e=Up())==null?void 0:e[`_${t}`]};/**
    + */const N8=()=>R8().__FIREBASE_DEFAULTS__,D8=()=>{if(typeof process>"u"||typeof ib>"u")return;const t=ib.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},M8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&CC(t[1]);return e&&JSON.parse(e)},Bp=()=>{try{return A8()||N8()||D8()||M8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IC=t=>{var e,n;return(n=(e=Bp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},kC=t=>{const e=IC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},RC=()=>{var t;return(t=Bp())==null?void 0:t.config},NC=t=>{var e;return(e=Bp())==null?void 0:e[`_${t}`]};/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class I8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
    + */class P8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
      * @license
      * Copyright 2025 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function Lo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ny(t){return(await fetch(t,{credentials:"include"})).ok}/**
    + */function Fo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ly(t){return(await fetch(t,{credentials:"include"})).ok}/**
      * @license
      * Copyright 2021 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function k8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Xd(JSON.stringify(n)),Xd(JSON.stringify(o)),""].join(".")}const Uf={};function R8(){const t={prod:[],emulator:[]};for(const e of Object.keys(Uf))Uf[e]?t.emulator.push(e):t.prod.push(e);return t}function N8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let rb=!1;function Dy(t,e){if(typeof window>"u"||typeof document>"u"||!Lo(window.location.host)||Uf[t]===e||Uf[t]||rb)return;Uf[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=R8().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function f(p,x){p.setAttribute("width","24"),p.setAttribute("id",x),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{rb=!0,o()},p}function d(p,x){p.setAttribute("id",x),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function g(){const p=N8(r),x=n("text"),_=document.getElementById(x)||document.createElement("span"),b=n("learnmore"),C=document.getElementById(b)||document.createElement("a"),I=n("preprendIcon"),M=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const A=p.element;l(A),d(C,b);const P=c();f(M,I),A.append(M,_,C,P),document.body.appendChild(A)}s?(_.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
    + */function L8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Jd(JSON.stringify(n)),Jd(JSON.stringify(o)),""].join(".")}const Vf={};function O8(){const t={prod:[],emulator:[]};for(const e of Object.keys(Vf))Vf[e]?t.emulator.push(e):t.prod.push(e);return t}function F8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sb=!1;function Oy(t,e){if(typeof window>"u"||typeof document>"u"||!Fo(window.location.host)||Vf[t]===e||Vf[t]||sb)return;Vf[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=O8().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function f(p,x){p.setAttribute("width","24"),p.setAttribute("id",x),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{sb=!0,o()},p}function d(p,x){p.setAttribute("id",x),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function g(){const p=F8(r),x=n("text"),_=document.getElementById(x)||document.createElement("span"),b=n("learnmore"),C=document.getElementById(b)||document.createElement("a"),I=n("preprendIcon"),D=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const A=p.element;l(A),d(C,b);const P=c();f(D,I),A.append(D,_,C,P),document.body.appendChild(A)}s?(_.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
     <path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
     </g>
     <defs>
     <clipPath id="clip0_6013_33858">
     <rect width="24" height="24" fill="white"/>
     </clipPath>
    -</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
    +</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
     <path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
     </g>
     <defs>
     <clipPath id="clip0_6083_34804">
     <rect width="24" height="24" fill="white"/>
     </clipPath>
     </defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function Ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ar())}function M8(){var e;const t=(e=Up())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function O8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F8(){const t=Ar();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function U8(){return!M8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V8(){try{return typeof indexedDB=="object"}catch{return!1}}function B8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
    + */function Ar(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ar())}function V8(){var e;const t=(e=Bp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function B8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function q8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function H8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function z8(){const t=Ar();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function G8(){return!V8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j8(){try{return typeof indexedDB=="object"}catch{return!1}}function $8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const q8="FirebaseError";class Ms extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=q8,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,b0.prototype.create)}}class b0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?H8(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ms(i,l,r)}}function H8(t,e){return t.replace(z8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const z8=/\{\$([^}]+)}/g;function G8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Su(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ib(s)&&ib(o)){if(!Su(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ib(t){return t!==null&&typeof t=="object"}/**
    + */const W8="FirebaseError";class Ps extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=W8,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,w0.prototype.create)}}class w0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?K8(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ps(i,l,r)}}function K8(t,e){return t.replace(Y8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Y8=/\{\$([^}]+)}/g;function X8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Au(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ab(s)&&ab(o)){if(!Au(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ab(t){return t!==null&&typeof t=="object"}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function w0(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function If(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function kf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function j8(t,e){const n=new $8(t,e);return n.subscribe.bind(n)}class $8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");W8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=S1),i.error===void 0&&(i.error=S1),i.complete===void 0&&(i.complete=S1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function S1(){}/**
    + */function S0(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Rf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function J8(t,e){const n=new Q8(t,e);return n.subscribe.bind(n)}class Q8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Z8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=I1),i.error===void 0&&(i.error=I1),i.complete===void 0&&(i.complete=I1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Z8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function I1(){}/**
      * @license
      * Copyright 2021 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function Cn(t){return t&&t._delegate?t._delegate:t}class wo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
    + */function Cn(t){return t&&t._delegate?t._delegate:t}class Ao{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const yu="[DEFAULT]";/**
    + */const vu="[DEFAULT]";/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class K8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new I8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(X8(e))try{this.getOrInitializeService({instanceIdentifier:yu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=yu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yu){return this.instances.has(e)}getOptions(e=yu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Y8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yu){return this.component?this.component.multipleInstances?e:yu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Y8(t){return t===yu?void 0:t}function X8(t){return t.instantiationMode==="EAGER"}/**
    + */class eD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new P8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nD(e))try{this.getOrInitializeService({instanceIdentifier:vu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=vu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vu){return this.instances.has(e)}getOptions(e=vu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vu){return this.component?this.component.multipleInstances?e:vu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tD(t){return t===vu?void 0:t}function nD(t){return t.instantiationMode==="EAGER"}/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class J8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new K8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
    + */class rD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */var Rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Rt||(Rt={}));const Q8={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},Z8=Rt.INFO,eD={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},tD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=eD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class My{constructor(e){this.name=e,this._logLevel=Z8,this._logHandler=tD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Q8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const nD=(t,e)=>e.some(n=>t instanceof n);let sb,ab;function rD(){return sb||(sb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iD(){return ab||(ab=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IC=new WeakMap,Px=new WeakMap,kC=new WeakMap,A1=new WeakMap,Py=new WeakMap;function sD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(go(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&IC.set(n,t)}).catch(()=>{}),Py.set(e,t),e}function aD(t){if(Px.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Px.set(t,e)}let Lx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Px.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return go(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oD(t){Lx=t(Lx)}function uD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(C1(this),e,...n);return kC.set(r,e.sort?e.sort():[e]),go(r)}:iD().includes(t)?function(...e){return t.apply(C1(this),e),go(IC.get(this))}:function(...e){return go(t.apply(C1(this),e))}}function lD(t){return typeof t=="function"?uD(t):(t instanceof IDBTransaction&&aD(t),nD(t,rD())?new Proxy(t,Lx):t)}function go(t){if(t instanceof IDBRequest)return sD(t);if(A1.has(t))return A1.get(t);const e=lD(t);return e!==t&&(A1.set(t,e),Py.set(e,t)),e}const C1=t=>Py.get(t);function cD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=go(o);return r&&o.addEventListener("upgradeneeded",f=>{r(go(o.result),f.oldVersion,f.newVersion,go(o.transaction),f)}),n&&o.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),l.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const fD=["get","getKey","getAll","getAllKeys","count"],hD=["put","add","delete","clear"],I1=new Map;function ob(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(I1.get(e))return I1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fD.includes(n)))return;const s=async function(o,...l){const f=this.transaction(o,i?"readwrite":"readonly");let c=f.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&f.done]))[0]};return I1.set(e,s),s}oD(t=>({...t,get:(e,n,r)=>ob(e,n)||t.get(e,n,r),has:(e,n)=>!!ob(e,n)||t.has(e,n)}));/**
    + */var Rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Rt||(Rt={}));const iD={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},sD=Rt.INFO,aD={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},oD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=aD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fy{constructor(e){this.name=e,this._logLevel=sD,this._logHandler=oD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const uD=(t,e)=>e.some(n=>t instanceof n);let ob,ub;function lD(){return ob||(ob=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cD(){return ub||(ub=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DC=new WeakMap,Fx=new WeakMap,MC=new WeakMap,k1=new WeakMap,Uy=new WeakMap;function fD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(yo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DC.set(n,t)}).catch(()=>{}),Uy.set(e,t),e}function hD(t){if(Fx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Fx.set(t,e)}let Ux={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dD(t){Ux=t(Ux)}function pD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(R1(this),e,...n);return MC.set(r,e.sort?e.sort():[e]),yo(r)}:cD().includes(t)?function(...e){return t.apply(R1(this),e),yo(DC.get(this))}:function(...e){return yo(t.apply(R1(this),e))}}function mD(t){return typeof t=="function"?pD(t):(t instanceof IDBTransaction&&hD(t),uD(t,lD())?new Proxy(t,Ux):t)}function yo(t){if(t instanceof IDBRequest)return fD(t);if(k1.has(t))return k1.get(t);const e=mD(t);return e!==t&&(k1.set(t,e),Uy.set(e,t)),e}const R1=t=>Uy.get(t);function gD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=yo(o);return r&&o.addEventListener("upgradeneeded",f=>{r(yo(o.result),f.oldVersion,f.newVersion,yo(o.transaction),f)}),n&&o.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),l.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const xD=["get","getKey","getAll","getAllKeys","count"],yD=["put","add","delete","clear"],N1=new Map;function lb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(N1.get(e))return N1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xD.includes(n)))return;const s=async function(o,...l){const f=this.transaction(o,i?"readwrite":"readonly");let c=f.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&f.done]))[0]};return N1.set(e,s),s}dD(t=>({...t,get:(e,n,r)=>lb(e,n)||t.get(e,n,r),has:(e,n)=>!!lb(e,n)||t.has(e,n)}));/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class dD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ox="@firebase/app",ub="0.14.4";/**
    + */class vD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_D(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _D(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vx="@firebase/app",cb="0.14.4";/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const ya=new My("@firebase/app"),mD="@firebase/app-compat",gD="@firebase/analytics-compat",xD="@firebase/analytics",yD="@firebase/app-check-compat",vD="@firebase/app-check",_D="@firebase/auth",TD="@firebase/auth-compat",ED="@firebase/database",bD="@firebase/data-connect",wD="@firebase/database-compat",SD="@firebase/functions",AD="@firebase/functions-compat",CD="@firebase/installations",ID="@firebase/installations-compat",kD="@firebase/messaging",RD="@firebase/messaging-compat",ND="@firebase/performance",DD="@firebase/performance-compat",MD="@firebase/remote-config",PD="@firebase/remote-config-compat",LD="@firebase/storage",OD="@firebase/storage-compat",FD="@firebase/firestore",UD="@firebase/ai",VD="@firebase/firestore-compat",BD="firebase",qD="12.4.0";/**
    + */const va=new Fy("@firebase/app"),TD="@firebase/app-compat",ED="@firebase/analytics-compat",bD="@firebase/analytics",wD="@firebase/app-check-compat",SD="@firebase/app-check",AD="@firebase/auth",CD="@firebase/auth-compat",ID="@firebase/database",kD="@firebase/data-connect",RD="@firebase/database-compat",ND="@firebase/functions",DD="@firebase/functions-compat",MD="@firebase/installations",PD="@firebase/installations-compat",LD="@firebase/messaging",OD="@firebase/messaging-compat",FD="@firebase/performance",UD="@firebase/performance-compat",VD="@firebase/remote-config",BD="@firebase/remote-config-compat",qD="@firebase/storage",HD="@firebase/storage-compat",zD="@firebase/firestore",GD="@firebase/ai",jD="@firebase/firestore-compat",$D="firebase",WD="12.4.0";/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const Fx="[DEFAULT]",HD={[Ox]:"fire-core",[mD]:"fire-core-compat",[xD]:"fire-analytics",[gD]:"fire-analytics-compat",[vD]:"fire-app-check",[yD]:"fire-app-check-compat",[_D]:"fire-auth",[TD]:"fire-auth-compat",[ED]:"fire-rtdb",[bD]:"fire-data-connect",[wD]:"fire-rtdb-compat",[SD]:"fire-fn",[AD]:"fire-fn-compat",[CD]:"fire-iid",[ID]:"fire-iid-compat",[kD]:"fire-fcm",[RD]:"fire-fcm-compat",[ND]:"fire-perf",[DD]:"fire-perf-compat",[MD]:"fire-rc",[PD]:"fire-rc-compat",[LD]:"fire-gcs",[OD]:"fire-gcs-compat",[FD]:"fire-fst",[VD]:"fire-fst-compat",[UD]:"fire-vertex","fire-js":"fire-js",[BD]:"fire-js-all"};/**
    + */const Bx="[DEFAULT]",KD={[Vx]:"fire-core",[TD]:"fire-core-compat",[bD]:"fire-analytics",[ED]:"fire-analytics-compat",[SD]:"fire-app-check",[wD]:"fire-app-check-compat",[AD]:"fire-auth",[CD]:"fire-auth-compat",[ID]:"fire-rtdb",[kD]:"fire-data-connect",[RD]:"fire-rtdb-compat",[ND]:"fire-fn",[DD]:"fire-fn-compat",[MD]:"fire-iid",[PD]:"fire-iid-compat",[LD]:"fire-fcm",[OD]:"fire-fcm-compat",[FD]:"fire-perf",[UD]:"fire-perf-compat",[VD]:"fire-rc",[BD]:"fire-rc-compat",[qD]:"fire-gcs",[HD]:"fire-gcs-compat",[zD]:"fire-fst",[jD]:"fire-fst-compat",[GD]:"fire-vertex","fire-js":"fire-js",[$D]:"fire-js-all"};/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const Jd=new Map,zD=new Map,Ux=new Map;function lb(t,e){try{t.container.addComponent(e)}catch(n){ya.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Au(t){const e=t.name;if(Ux.has(e))return ya.debug(`There were multiple attempts to register component ${e}.`),!1;Ux.set(e,t);for(const n of Jd.values())lb(n,t);for(const n of zD.values())lb(n,t);return!0}function Vp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ci(t){return t==null?!1:t.settings!==void 0}/**
    + */const Qd=new Map,YD=new Map,qx=new Map;function fb(t,e){try{t.container.addComponent(e)}catch(n){va.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cu(t){const e=t.name;if(qx.has(e))return va.debug(`There were multiple attempts to register component ${e}.`),!1;qx.set(e,t);for(const n of Qd.values())fb(n,t);for(const n of YD.values())fb(n,t);return!0}function qp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ci(t){return t==null?!1:t.settings!==void 0}/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const GD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xo=new b0("app","Firebase",GD);/**
    + */const XD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vo=new w0("app","Firebase",XD);/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class jD{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xo.create("app-deleted",{appName:this._name})}}/**
    + */class JD{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vo.create("app-deleted",{appName:this._name})}}/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const hc=qD;function RC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Fx,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw xo.create("bad-app-name",{appName:String(i)});if(n||(n=AC()),!n)throw xo.create("no-options");const s=Jd.get(i);if(s){if(Su(n,s.options)&&Su(r,s.config))return s;throw xo.create("duplicate-app",{appName:i})}const o=new J8(i);for(const f of Ux.values())o.addComponent(f);const l=new jD(n,r,o);return Jd.set(i,l),l}function Ly(t=Fx){const e=Jd.get(t);if(!e&&t===Fx&&AC())return RC();if(!e)throw xo.create("no-app",{appName:t});return e}function Ss(t,e,n){let r=HD[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ya.warn(o.join(" "));return}Au(new wo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
    + */const pc=WD;function PC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Bx,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw vo.create("bad-app-name",{appName:String(i)});if(n||(n=RC()),!n)throw vo.create("no-options");const s=Qd.get(i);if(s){if(Au(n,s.options)&&Au(r,s.config))return s;throw vo.create("duplicate-app",{appName:i})}const o=new rD(i);for(const f of qx.values())o.addComponent(f);const l=new JD(n,r,o);return Qd.set(i,l),l}function Vy(t=Bx){const e=Qd.get(t);if(!e&&t===Bx&&RC())return PC();if(!e)throw vo.create("no-app",{appName:t});return e}function Ss(t,e,n){let r=KD[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),va.warn(o.join(" "));return}Cu(new Ao(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
      * @license
      * Copyright 2021 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const $D="firebase-heartbeat-database",WD=1,n0="firebase-heartbeat-store";let k1=null;function NC(){return k1||(k1=cD($D,WD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(n0)}catch(n){console.warn(n)}}}}).catch(t=>{throw xo.create("idb-open",{originalErrorMessage:t.message})})),k1}async function KD(t){try{const n=(await NC()).transaction(n0),r=await n.objectStore(n0).get(DC(t));return await n.done,r}catch(e){if(e instanceof Ms)ya.warn(e.message);else{const n=xo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ya.warn(n.message)}}}async function cb(t,e){try{const r=(await NC()).transaction(n0,"readwrite");await r.objectStore(n0).put(e,DC(t)),await r.done}catch(n){if(n instanceof Ms)ya.warn(n.message);else{const r=xo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ya.warn(r.message)}}}function DC(t){return`${t.name}!${t.options.appId}`}/**
    + */const QD="firebase-heartbeat-database",ZD=1,r0="firebase-heartbeat-store";let D1=null;function LC(){return D1||(D1=gD(QD,ZD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(r0)}catch(n){console.warn(n)}}}}).catch(t=>{throw vo.create("idb-open",{originalErrorMessage:t.message})})),D1}async function e5(t){try{const n=(await LC()).transaction(r0),r=await n.objectStore(r0).get(OC(t));return await n.done,r}catch(e){if(e instanceof Ps)va.warn(e.message);else{const n=vo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});va.warn(n.message)}}}async function hb(t,e){try{const r=(await LC()).transaction(r0,"readwrite");await r.objectStore(r0).put(e,OC(t)),await r.done}catch(n){if(n instanceof Ps)va.warn(n.message);else{const r=vo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});va.warn(r.message)}}}function OC(t){return`${t.name}!${t.options.appId}`}/**
      * @license
      * Copyright 2021 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const YD=1024,XD=30;class JD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>XD){const o=e5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ya.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fb(),{heartbeatsToSend:r,unsentEntries:i}=QD(this._heartbeatsCache.heartbeats),s=Xd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ya.warn(n),""}}}function fb(){return new Date().toISOString().substring(0,10)}function QD(t,e=YD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),hb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ZD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V8()?B8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return cb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function hb(t){return Xd(JSON.stringify({version:2,heartbeats:t})).length}function e5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
    + */const t5=1024,n5=30;class r5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new s5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=db();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>n5){const o=a5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){va.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=db(),{heartbeatsToSend:r,unsentEntries:i}=i5(this._heartbeatsCache.heartbeats),s=Jd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return va.warn(n),""}}}function db(){return new Date().toISOString().substring(0,10)}function i5(t,e=t5){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),pb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class s5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j8()?$8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await e5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return hb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return hb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function pb(t){return Jd(JSON.stringify({version:2,heartbeats:t})).length}function a5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function t5(t){Au(new wo("platform-logger",e=>new dD(e),"PRIVATE")),Au(new wo("heartbeat",e=>new JD(e),"PRIVATE")),Ss(Ox,ub,t),Ss(Ox,ub,"esm2020"),Ss("fire-js","")}t5("");var n5="firebase",r5="12.4.0";/**
    + */function o5(t){Cu(new Ao("platform-logger",e=>new vD(e),"PRIVATE")),Cu(new Ao("heartbeat",e=>new r5(e),"PRIVATE")),Ss(Vx,cb,t),Ss(Vx,cb,"esm2020"),Ss("fire-js","")}o5("");var u5="firebase",l5="12.4.0";/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */Ss(n5,r5,"app");function MC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const i5=MC,PC=new b0("auth","Firebase",MC());/**
    + */Ss(u5,l5,"app");function FC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c5=FC,UC=new w0("auth","Firebase",FC());/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const Qd=new My("@firebase/auth");function s5(t,...e){Qd.logLevel<=Rt.WARN&&Qd.warn(`Auth (${hc}): ${t}`,...e)}function Od(t,...e){Qd.logLevel<=Rt.ERROR&&Qd.error(`Auth (${hc}): ${t}`,...e)}/**
    + */const Zd=new Fy("@firebase/auth");function f5(t,...e){Zd.logLevel<=Rt.WARN&&Zd.warn(`Auth (${pc}): ${t}`,...e)}function Fd(t,...e){Zd.logLevel<=Rt.ERROR&&Zd.error(`Auth (${pc}): ${t}`,...e)}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function Di(t,...e){throw Fy(t,...e)}function ss(t,...e){return Fy(t,...e)}function Oy(t,e,n){const r={...i5(),[e]:n};return new b0("auth","Firebase",r).create(e,{appName:t.name})}function yo(t){return Oy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function a5(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Di(t,"argument-error"),Oy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PC.create(t,...e)}function lt(t,e,...n){if(!t)throw Fy(e,...n)}function da(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Od(e),new Error(e)}function va(t,e){t||da(e)}/**
    + */function Di(t,...e){throw qy(t,...e)}function ss(t,...e){return qy(t,...e)}function By(t,e,n){const r={...c5(),[e]:n};return new w0("auth","Firebase",r).create(e,{appName:t.name})}function _o(t){return By(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function h5(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Di(t,"argument-error"),By(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return UC.create(t,...e)}function lt(t,e,...n){if(!t)throw qy(e,...n)}function pa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Fd(e),new Error(e)}function _a(t,e){t||pa(e)}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function Vx(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function o5(){return db()==="http:"||db()==="https:"}function db(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
    + */function Hx(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function d5(){return mb()==="http:"||mb()==="https:"}function mb(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function u5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o5()||L8()||"connection"in navigator)?navigator.onLine:!0}function l5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
    + */function p5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d5()||q8()||"connection"in navigator)?navigator.onLine:!0}function m5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class S0{constructor(e,n){this.shortDelay=e,this.longDelay=n,va(n>e,"Short delay should be less than long delay!"),this.isMobile=D8()||O8()}get(){return u5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
    + */class A0{constructor(e,n){this.shortDelay=e,this.longDelay=n,_a(n>e,"Short delay should be less than long delay!"),this.isMobile=U8()||H8()}get(){return p5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function Uy(t,e){va(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
    + */function Hy(t,e){_a(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class LC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;da("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;da("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;da("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
    + */class VC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const c5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
    + */const g5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const f5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],h5=new S0(3e4,6e4);function Lu(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Oo(t,e,n,r,i={}){return OC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=w0({key:t.config.apiKey,...o}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:f,...s};return P8()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Lo(t.emulatorConfig.host)&&(c.credentials="include"),LC.fetch()(await FC(t,t.config.apiHost,n,l),c)})}async function OC(t,e,n){t._canInitEmulator=!1;const r={...c5,...e};try{const i=new p5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw fd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[f,c]=l.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw fd(t,"credential-already-in-use",o);if(f==="EMAIL_EXISTS")throw fd(t,"email-already-in-use",o);if(f==="USER_DISABLED")throw fd(t,"user-disabled",o);const d=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Oy(t,d,c);Di(t,d)}}catch(i){if(i instanceof Ms)throw i;Di(t,"network-request-failed",{message:String(i)})}}async function Bp(t,e,n,r,i={}){const s=await Oo(t,e,n,r,i);return"mfaPendingCredential"in s&&Di(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function FC(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Uy(t.config,i):`${t.config.apiScheme}://${i}`;return f5.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function d5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class p5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ss(this.auth,"network-request-failed")),h5.get())})}}function fd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ss(t,e,r);return i.customData._tokenResponse=n,i}function pb(t){return t!==void 0&&t.enterprise!==void 0}class m5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return d5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function g5(t,e){return Oo(t,"GET","/v2/recaptchaConfig",Lu(t,e))}/**
    + */const x5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],y5=new A0(3e4,6e4);function Ou(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Uo(t,e,n,r,i={}){return BC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=S0({key:t.config.apiKey,...o}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:f,...s};return B8()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Fo(t.emulatorConfig.host)&&(c.credentials="include"),VC.fetch()(await qC(t,t.config.apiHost,n,l),c)})}async function BC(t,e,n){t._canInitEmulator=!1;const r={...g5,...e};try{const i=new _5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw hd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[f,c]=l.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw hd(t,"credential-already-in-use",o);if(f==="EMAIL_EXISTS")throw hd(t,"email-already-in-use",o);if(f==="USER_DISABLED")throw hd(t,"user-disabled",o);const d=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw By(t,d,c);Di(t,d)}}catch(i){if(i instanceof Ps)throw i;Di(t,"network-request-failed",{message:String(i)})}}async function Hp(t,e,n,r,i={}){const s=await Uo(t,e,n,r,i);return"mfaPendingCredential"in s&&Di(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function qC(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Hy(t.config,i):`${t.config.apiScheme}://${i}`;return x5.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function v5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ss(this.auth,"network-request-failed")),y5.get())})}}function hd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ss(t,e,r);return i.customData._tokenResponse=n,i}function gb(t){return t!==void 0&&t.enterprise!==void 0}class T5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return v5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function E5(t,e){return Uo(t,"GET","/v2/recaptchaConfig",Ou(t,e))}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */async function x5(t,e){return Oo(t,"POST","/v1/accounts:delete",e)}async function Zd(t,e){return Oo(t,"POST","/v1/accounts:lookup",e)}/**
    + */async function b5(t,e){return Uo(t,"POST","/v1/accounts:delete",e)}async function ep(t,e){return Uo(t,"POST","/v1/accounts:lookup",e)}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function Vf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function y5(t,e=!1){const n=Cn(t),r=await n.getIdToken(e),i=Vy(r);lt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Vf(R1(i.auth_time)),issuedAtTime:Vf(R1(i.iat)),expirationTime:Vf(R1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function R1(t){return Number(t)*1e3}function Vy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Od("JWT malformed, contained fewer than 3 sections"),null;try{const i=bC(n);return i?JSON.parse(i):(Od("Failed to decode base64 JWT payload"),null)}catch(i){return Od("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function mb(t){const e=Vy(t);return lt(e,"internal-error"),lt(typeof e.exp<"u","internal-error"),lt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
    + */function Bf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function w5(t,e=!1){const n=Cn(t),r=await n.getIdToken(e),i=zy(r);lt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Bf(M1(i.auth_time)),issuedAtTime:Bf(M1(i.iat)),expirationTime:Bf(M1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function M1(t){return Number(t)*1e3}function zy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Fd("JWT malformed, contained fewer than 3 sections"),null;try{const i=CC(n);return i?JSON.parse(i):(Fd("Failed to decode base64 JWT payload"),null)}catch(i){return Fd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function xb(t){const e=zy(t);return lt(e,"internal-error"),lt(typeof e.exp<"u","internal-error"),lt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */async function r0(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ms&&v5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function v5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
    + */async function i0(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ps&&S5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function S5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class _5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
    + */class A5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class Bx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vf(this.lastLoginAt),this.creationTime=Vf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
    + */class zx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bf(this.lastLoginAt),this.creationTime=Bf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */async function ep(t){var g;const e=t.auth,n=await t.getIdToken(),r=await r0(t,Zd(e,{idToken:n}));lt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(g=i.providerUserInfo)!=null&&g.length?UC(i.providerUserInfo):[],o=E5(t.providerData,s),l=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=l?f:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Bx(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function T5(t){const e=Cn(t);await ep(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function E5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
    + */async function tp(t){var g;const e=t.auth,n=await t.getIdToken(),r=await i0(t,ep(e,{idToken:n}));lt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(g=i.providerUserInfo)!=null&&g.length?HC(i.providerUserInfo):[],o=I5(t.providerData,s),l=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=l?f:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new zx(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function C5(t){const e=Cn(t);await tp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function I5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function HC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */async function b5(t,e){const n=await OC(t,{},async()=>{const r=w0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await FC(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:l,body:r};return t.emulatorConfig&&Lo(t.emulatorConfig.host)&&(f.credentials="include"),LC.fetch()(o,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function w5(t,e){return Oo(t,"POST","/v2/accounts:revokeToken",Lu(t,e))}/**
    + */async function k5(t,e){const n=await BC(t,{},async()=>{const r=S0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await qC(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:l,body:r};return t.emulatorConfig&&Fo(t.emulatorConfig.host)&&(f.credentials="include"),VC.fetch()(o,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function R5(t,e){return Uo(t,"POST","/v2/accounts:revokeToken",Ou(t,e))}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lt(e.idToken,"internal-error"),lt(typeof e.idToken<"u","internal-error"),lt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){lt(e.length!==0,"internal-error");const n=mb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(lt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await b5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new zl;return r&&(lt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(lt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(lt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zl,this.toJSON())}_performRefresh(){return da("not implemented")}}/**
    + */class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lt(e.idToken,"internal-error"),lt(typeof e.idToken<"u","internal-error"),lt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){lt(e.length!==0,"internal-error");const n=xb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(lt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await k5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new jl;return r&&(lt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(lt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(lt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return pa("not implemented")}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function io(t,e){lt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ts{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new _5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Bx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await r0(this,this.stsTokenManager.getToken(this.auth,e));return lt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return y5(this,e)}reload(){return T5(this)}_assign(e){this!==e&&(lt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ts({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ep(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(yo(this.auth));const e=await this.getIdToken();return await r0(this,x5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,f=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:g,emailVerified:p,isAnonymous:x,providerData:_,stsTokenManager:b}=n;lt(g&&b,e,"internal-error");const C=zl.fromJSON(this.name,b);lt(typeof g=="string",e,"internal-error"),io(r,e.name),io(i,e.name),lt(typeof p=="boolean",e,"internal-error"),lt(typeof x=="boolean",e,"internal-error"),io(s,e.name),io(o,e.name),io(l,e.name),io(f,e.name),io(c,e.name),io(d,e.name);const I=new ts({uid:g,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:x,photoURL:o,phoneNumber:s,tenantId:l,stsTokenManager:C,createdAt:c,lastLoginAt:d});return _&&Array.isArray(_)&&(I.providerData=_.map(M=>({...M}))),f&&(I._redirectEventId=f),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new zl;i.updateFromServerResponse(n);const s=new ts({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ep(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];lt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?UC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new zl;l.updateFromIdToken(r);const f=new ts({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Bx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,c),f}}/**
    + */function so(t,e){lt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ts{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new A5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new zx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await i0(this,this.stsTokenManager.getToken(this.auth,e));return lt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return w5(this,e)}reload(){return C5(this)}_assign(e){this!==e&&(lt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ts({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await tp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(_o(this.auth));const e=await this.getIdToken();return await i0(this,b5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,f=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:g,emailVerified:p,isAnonymous:x,providerData:_,stsTokenManager:b}=n;lt(g&&b,e,"internal-error");const C=jl.fromJSON(this.name,b);lt(typeof g=="string",e,"internal-error"),so(r,e.name),so(i,e.name),lt(typeof p=="boolean",e,"internal-error"),lt(typeof x=="boolean",e,"internal-error"),so(s,e.name),so(o,e.name),so(l,e.name),so(f,e.name),so(c,e.name),so(d,e.name);const I=new ts({uid:g,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:x,photoURL:o,phoneNumber:s,tenantId:l,stsTokenManager:C,createdAt:c,lastLoginAt:d});return _&&Array.isArray(_)&&(I.providerData=_.map(D=>({...D}))),f&&(I._redirectEventId=f),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new jl;i.updateFromServerResponse(n);const s=new ts({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await tp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];lt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?HC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new jl;l.updateFromIdToken(r);const f=new ts({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new zx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,c),f}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const gb=new Map;function pa(t){va(t instanceof Function,"Expected a class definition");let e=gb.get(t);return e?(va(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gb.set(t,e),e)}/**
    + */const yb=new Map;function ma(t){_a(t instanceof Function,"Expected a class definition");let e=yb.get(t);return e?(_a(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yb.set(t,e),e)}/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class VC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VC.type="NONE";const xb=VC;/**
    + */class zC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zC.type="NONE";const vb=zC;/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function Fd(t,e,n){return`firebase:${t}:${e}:${n}`}class Gl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Fd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Fd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Zd(this.auth,{idToken:e}).catch(()=>{});return n?ts._fromGetAccountInfoResponse(this.auth,n,e):null}return ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Gl(pa(xb),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||pa(xb);const o=Fd(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const d=await c._get(o);if(d){let g;if(typeof d=="string"){const p=await Zd(e,{idToken:d}).catch(()=>{});if(!p)break;g=await ts._fromGetAccountInfoResponse(e,p,d)}else g=ts._fromJSON(e,d);c!==s&&(l=g),s=c;break}}catch{}const f=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new Gl(s,e,r):(s=f[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Gl(s,e,r))}}/**
    + */function Ud(t,e,n){return`firebase:${t}:${e}:${n}`}class $l{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ud(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ud("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ep(this.auth,{idToken:e}).catch(()=>{});return n?ts._fromGetAccountInfoResponse(this.auth,n,e):null}return ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $l(ma(vb),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ma(vb);const o=Ud(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const d=await c._get(o);if(d){let g;if(typeof d=="string"){const p=await ep(e,{idToken:d}).catch(()=>{});if(!p)break;g=await ts._fromGetAccountInfoResponse(e,p,d)}else g=ts._fromJSON(e,d);c!==s&&(l=g),s=c;break}}catch{}const f=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new $l(s,e,r):(s=f[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new $l(s,e,r))}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function yb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jC(e))return"Blackberry";if($C(e))return"Webos";if(qC(e))return"Safari";if((e.includes("chrome/")||HC(e))&&!e.includes("edge/"))return"Chrome";if(GC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function BC(t=Ar()){return/firefox\//i.test(t)}function qC(t=Ar()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HC(t=Ar()){return/crios\//i.test(t)}function zC(t=Ar()){return/iemobile/i.test(t)}function GC(t=Ar()){return/android/i.test(t)}function jC(t=Ar()){return/blackberry/i.test(t)}function $C(t=Ar()){return/webos/i.test(t)}function By(t=Ar()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function S5(t=Ar()){var e;return By(t)&&!!((e=window.navigator)!=null&&e.standalone)}function A5(){return F8()&&document.documentMode===10}function WC(t=Ar()){return By(t)||GC(t)||$C(t)||jC(t)||/windows phone/i.test(t)||zC(t)}/**
    + */function _b(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YC(e))return"Blackberry";if(XC(e))return"Webos";if(jC(e))return"Safari";if((e.includes("chrome/")||$C(e))&&!e.includes("edge/"))return"Chrome";if(KC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GC(t=Ar()){return/firefox\//i.test(t)}function jC(t=Ar()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $C(t=Ar()){return/crios\//i.test(t)}function WC(t=Ar()){return/iemobile/i.test(t)}function KC(t=Ar()){return/android/i.test(t)}function YC(t=Ar()){return/blackberry/i.test(t)}function XC(t=Ar()){return/webos/i.test(t)}function Gy(t=Ar()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function N5(t=Ar()){var e;return Gy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function D5(){return z8()&&document.documentMode===10}function JC(t=Ar()){return Gy(t)||KC(t)||XC(t)||YC(t)||/windows phone/i.test(t)||WC(t)}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function KC(t,e=[]){let n;switch(t){case"Browser":n=yb(Ar());break;case"Worker":n=`${yb(Ar())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hc}/${r}`}/**
    + */function QC(t,e=[]){let n;switch(t){case"Browser":n=_b(Ar());break;case"Worker":n=`${_b(Ar())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pc}/${r}`}/**
      * @license
      * Copyright 2022 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class C5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const f=e(s);o(f)}catch(f){l(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
    + */class M5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const f=e(s);o(f)}catch(f){l(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
      * @license
      * Copyright 2023 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */async function I5(t,e={}){return Oo(t,"GET","/v2/passwordPolicy",Lu(t,e))}/**
    + */async function P5(t,e={}){return Uo(t,"GET","/v2/passwordPolicy",Ou(t,e))}/**
      * @license
      * Copyright 2023 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const k5=6;class R5{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??k5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
    + */const L5=6;class O5{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??L5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class N5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vb(this),this.idTokenSubscription=new vb(this),this.beforeStateQueue=new C5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pa(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Gl.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Zd(this,{idToken:e}),r=await ts._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(ci(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!o||o===l)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ep(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=l5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ci(this.app))return Promise.reject(yo(this));const n=e?Cn(e):null;return n&&lt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&lt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(yo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ci(this.app)?Promise.reject(yo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await I5(this),n=new R5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new b0("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await w5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&pa(e)||this._popupRedirectResolver;lt(n,this,"argument-error"),this.redirectPersistenceManager=await Gl.create(this,[pa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(lt(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{o=!0,f()}}else{const f=e.addObserver(n);return()=>{o=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&s5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ou(t){return Cn(t)}class vb{constructor(e){this.auth=e,this.observer=null,this.addObserver=j8(n=>this.observer=n)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
    + */class F5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tb(this),this.idTokenSubscription=new Tb(this),this.beforeStateQueue=new M5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ma(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await $l.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ep(this,{idToken:e}),r=await ts._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(ci(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!o||o===l)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await tp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=m5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ci(this.app))return Promise.reject(_o(this));const n=e?Cn(e):null;return n&&lt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&lt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(_o(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ci(this.app)?Promise.reject(_o(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ma(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await P5(this),n=new O5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new w0("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await R5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ma(e)||this._popupRedirectResolver;lt(n,this,"argument-error"),this.redirectPersistenceManager=await $l.create(this,[ma(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(lt(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{o=!0,f()}}else{const f=e.addObserver(n);return()=>{o=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&f5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Fu(t){return Cn(t)}class Tb{constructor(e){this.auth=e,this.observer=null,this.addObserver=J8(n=>this.observer=n)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */let qp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function D5(t){qp=t}function YC(t){return qp.loadJS(t)}function M5(){return qp.recaptchaEnterpriseScript}function P5(){return qp.gapiScript}function L5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class O5{constructor(){this.enterprise=new F5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class F5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const U5="recaptcha-enterprise",XC="NO_RECAPTCHA";class V5{constructor(e){this.type=U5,this.auth=Ou(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{g5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new m5(f);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(f=>{l(f)})})}function i(s,o,l){const f=window.grecaptcha;pb(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(XC)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new O5().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&pb(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let f=M5();f.length!==0&&(f+=l),YC(f).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function _b(t,e,n,r=!1,i=!1){const s=new V5(t);let o;if(i)o=XC;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const f=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const f=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Tb(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await _b(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await _b(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
    + */let zp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function U5(t){zp=t}function ZC(t){return zp.loadJS(t)}function V5(){return zp.recaptchaEnterpriseScript}function B5(){return zp.gapiScript}function q5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class H5{constructor(){this.enterprise=new z5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class z5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const G5="recaptcha-enterprise",e4="NO_RECAPTCHA";class j5{constructor(e){this.type=G5,this.auth=Fu(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{E5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new T5(f);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(f=>{l(f)})})}function i(s,o,l){const f=window.grecaptcha;gb(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(e4)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new H5().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&gb(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let f=V5();f.length!==0&&(f+=l),ZC(f).then(()=>{i(l,s,o)}).catch(c=>{o(c)})}}).catch(l=>{o(l)})})}}async function Eb(t,e,n,r=!1,i=!1){const s=new j5(t);let o;if(i)o=e4;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const f=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const f=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function bb(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Eb(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Eb(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function B5(t,e){const n=Vp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Su(s,e??{}))return i;Di(i,"already-initialized")}return n.initialize({options:e})}function q5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(pa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function H5(t,e,n){const r=Ou(t);lt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=JC(e),{host:o,port:l}=z5(e),f=l===null?"":`:${l}`,c={url:`${s}//${o}${f}/`},d=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){lt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),lt(Su(c,r.config.emulator)&&Su(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Lo(o)?(Ny(`${s}//${o}${f}`),Dy("Auth",!0)):G5()}function JC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function z5(t){const e=JC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Eb(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Eb(o)}}}function Eb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function G5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
    + */function $5(t,e){const n=qp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Au(s,e??{}))return i;Di(i,"already-initialized")}return n.initialize({options:e})}function W5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ma);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function K5(t,e,n){const r=Fu(t);lt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=t4(e),{host:o,port:l}=Y5(e),f=l===null?"":`:${l}`,c={url:`${s}//${o}${f}/`},d=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){lt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),lt(Au(c,r.config.emulator)&&Au(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Fo(o)?(Ly(`${s}//${o}${f}`),Oy("Auth",!0)):X5()}function t4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Y5(t){const e=t4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:wb(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:wb(o)}}}function wb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function X5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class qy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return da("not implemented")}_getIdTokenResponse(e){return da("not implemented")}_linkToIdToken(e,n){return da("not implemented")}_getReauthenticationResolver(e){return da("not implemented")}}async function j5(t,e){return Oo(t,"POST","/v1/accounts:signUp",e)}/**
    + */class jy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pa("not implemented")}_getIdTokenResponse(e){return pa("not implemented")}_linkToIdToken(e,n){return pa("not implemented")}_getReauthenticationResolver(e){return pa("not implemented")}}async function J5(t,e){return Uo(t,"POST","/v1/accounts:signUp",e)}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */async function $5(t,e){return Bp(t,"POST","/v1/accounts:signInWithPassword",Lu(t,e))}/**
    + */async function Q5(t,e){return Hp(t,"POST","/v1/accounts:signInWithPassword",Ou(t,e))}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */async function W5(t,e){return Bp(t,"POST","/v1/accounts:signInWithEmailLink",Lu(t,e))}async function K5(t,e){return Bp(t,"POST","/v1/accounts:signInWithEmailLink",Lu(t,e))}/**
    + */async function Z5(t,e){return Hp(t,"POST","/v1/accounts:signInWithEmailLink",Ou(t,e))}async function eM(t,e){return Hp(t,"POST","/v1/accounts:signInWithEmailLink",Ou(t,e))}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class i0 extends qy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new i0(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new i0(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tb(e,n,"signInWithPassword",$5);case"emailLink":return W5(e,{email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tb(e,r,"signUpPassword",j5);case"emailLink":return K5(e,{idToken:n,email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
    + */class s0 extends jy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new s0(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new s0(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bb(e,n,"signInWithPassword",Q5);case"emailLink":return Z5(e,{email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bb(e,r,"signUpPassword",J5);case"emailLink":return eM(e,{idToken:n,email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */async function jl(t,e){return Bp(t,"POST","/v1/accounts:signInWithIdp",Lu(t,e))}/**
    + */async function Wl(t,e){return Hp(t,"POST","/v1/accounts:signInWithIdp",Ou(t,e))}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const Y5="http://localhost";class Cu extends qy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Cu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return jl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,jl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jl(e,n)}buildRequest(){const e={requestUri:Y5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=w0(n)}return e}}/**
    + */const tM="http://localhost";class Iu extends jy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Iu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Iu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Wl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wl(e,n)}buildRequest(){const e={requestUri:tM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=S0(n)}return e}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function X5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function J5(t){const e=If(kf(t)).link,n=e?If(kf(e)).deep_link_id:null,r=If(kf(t)).deep_link_id;return(r?If(kf(r)).link:null)||r||n||e||t}class Hy{constructor(e){const n=If(kf(e)),r=n.apiKey??null,i=n.oobCode??null,s=X5(n.mode??null);lt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=J5(e);try{return new Hy(n)}catch{return null}}}/**
    + */function nM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rM(t){const e=kf(Rf(t)).link,n=e?kf(Rf(e)).deep_link_id:null,r=kf(Rf(t)).deep_link_id;return(r?kf(Rf(r)).link:null)||r||n||e||t}class $y{constructor(e){const n=kf(Rf(e)),r=n.apiKey??null,i=n.oobCode??null,s=nM(n.mode??null);lt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=rM(e);try{return new $y(n)}catch{return null}}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class dc{constructor(){this.providerId=dc.PROVIDER_ID}static credential(e,n){return i0._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Hy.parseLink(n);return lt(r,"argument-error"),i0._fromEmailAndCode(e,r.code,r.tenantId)}}dc.PROVIDER_ID="password";dc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";dc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
    + */class mc{constructor(){this.providerId=mc.PROVIDER_ID}static credential(e,n){return s0._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$y.parseLink(n);return lt(r,"argument-error"),s0._fromEmailAndCode(e,r.code,r.tenantId)}}mc.PROVIDER_ID="password";mc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class zy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
    + */class Wy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class A0 extends zy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
    + */class C0 extends Wy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class oo extends A0{constructor(){super("facebook.com")}static credential(e){return Cu._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.FACEBOOK_SIGN_IN_METHOD="facebook.com";oo.PROVIDER_ID="facebook.com";/**
    + */class lo extends C0{constructor(){super("facebook.com")}static credential(e){return Iu._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lo.credential(e.oauthAccessToken)}catch{return null}}}lo.FACEBOOK_SIGN_IN_METHOD="facebook.com";lo.PROVIDER_ID="facebook.com";/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class ha extends A0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cu._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ha.credential(n,r)}catch{return null}}}ha.GOOGLE_SIGN_IN_METHOD="google.com";ha.PROVIDER_ID="google.com";/**
    + */class da extends C0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Iu._fromParams({providerId:da.PROVIDER_ID,signInMethod:da.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return da.credentialFromTaggedObject(e)}static credentialFromError(e){return da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return da.credential(n,r)}catch{return null}}}da.GOOGLE_SIGN_IN_METHOD="google.com";da.PROVIDER_ID="google.com";/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class uo extends A0{constructor(){super("github.com")}static credential(e){return Cu._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uo.credential(e.oauthAccessToken)}catch{return null}}}uo.GITHUB_SIGN_IN_METHOD="github.com";uo.PROVIDER_ID="github.com";/**
    + */class co extends C0{constructor(){super("github.com")}static credential(e){return Iu._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.GITHUB_SIGN_IN_METHOD="github.com";co.PROVIDER_ID="github.com";/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class lo extends A0{constructor(){super("twitter.com")}static credential(e,n){return Cu._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return lo.credential(n,r)}catch{return null}}}lo.TWITTER_SIGN_IN_METHOD="twitter.com";lo.PROVIDER_ID="twitter.com";/**
    + */class fo extends C0{constructor(){super("twitter.com")}static credential(e,n){return Iu._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fo.credential(n,r)}catch{return null}}}fo.TWITTER_SIGN_IN_METHOD="twitter.com";fo.PROVIDER_ID="twitter.com";/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class tc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ts._fromIdTokenResponse(e,r,i),o=bb(r);return new tc({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=bb(r);return new tc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function bb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
    + */class rc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ts._fromIdTokenResponse(e,r,i),o=Sb(r);return new rc({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Sb(r);return new rc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Sb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class tp extends Ms{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,tp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new tp(e,n,r,i)}}function QC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?tp._fromErrorAndOperation(t,s,e,r):s})}async function Q5(t,e,n=!1){const r=await r0(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return tc._forOperation(t,"link",r)}/**
    + */class np extends Ps{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,np.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new np(e,n,r,i)}}function n4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?np._fromErrorAndOperation(t,s,e,r):s})}async function iM(t,e,n=!1){const r=await i0(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return rc._forOperation(t,"link",r)}/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */async function Z5(t,e,n=!1){const{auth:r}=t;if(ci(r.app))return Promise.reject(yo(r));const i="reauthenticate";try{const s=await r0(t,QC(r,i,e,t),n);lt(s.idToken,r,"internal-error");const o=Vy(s.idToken);lt(o,r,"internal-error");const{sub:l}=o;return lt(t.uid===l,r,"user-mismatch"),tc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Di(r,"user-mismatch"),s}}/**
    + */async function sM(t,e,n=!1){const{auth:r}=t;if(ci(r.app))return Promise.reject(_o(r));const i="reauthenticate";try{const s=await i0(t,n4(r,i,e,t),n);lt(s.idToken,r,"internal-error");const o=zy(s.idToken);lt(o,r,"internal-error");const{sub:l}=o;return lt(t.uid===l,r,"user-mismatch"),rc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Di(r,"user-mismatch"),s}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */async function ZC(t,e,n=!1){if(ci(t.app))return Promise.reject(yo(t));const r="signIn",i=await QC(t,r,e),s=await tc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function eM(t,e){return ZC(Ou(t),e)}/**
    + */async function r4(t,e,n=!1){if(ci(t.app))return Promise.reject(_o(t));const r="signIn",i=await n4(t,r,e),s=await rc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function aM(t,e){return r4(Fu(t),e)}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */async function tM(t){const e=Ou(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function nM(t,e,n){return ci(t.app)?Promise.reject(yo(t)):eM(Cn(t),dc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&tM(t),r})}function rM(t,e,n,r){return Cn(t).onIdTokenChanged(e,n,r)}function iM(t,e,n){return Cn(t).beforeAuthStateChanged(e,n)}function sM(t,e,n,r){return Cn(t).onAuthStateChanged(e,n,r)}const np="__sak";/**
    + */async function oM(t){const e=Fu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function uM(t,e,n){return ci(t.app)?Promise.reject(_o(t)):aM(Cn(t),mc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oM(t),r})}function lM(t,e,n,r){return Cn(t).onIdTokenChanged(e,n,r)}function cM(t,e,n){return Cn(t).beforeAuthStateChanged(e,n)}function fM(t,e,n,r){return Cn(t).onAuthStateChanged(e,n,r)}const rp="__sak";/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class e4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(np,"1"),this.storage.removeItem(np),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
    + */class i4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rp,"1"),this.storage.removeItem(rp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const aM=1e3,oM=10;class t4 extends e4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,f)=>{this.notifyListeners(o,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);A5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,oM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},aM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}t4.type="LOCAL";const uM=t4;/**
    + */const hM=1e3,dM=10;class s4 extends i4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,f)=>{this.notifyListeners(o,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);D5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,dM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},hM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}s4.type="LOCAL";const pM=s4;/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class n4 extends e4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}n4.type="SESSION";const r4=n4;/**
    + */class a4 extends i4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}a4.type="SESSION";const o4=a4;/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function lM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
    + */function mM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class Hp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),f=await lM(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hp.receivers=[];/**
    + */class Gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Gp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),f=await mM(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gp.receivers=[];/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function Gy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
    + */function Ky(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class cM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,f)=>{const c=Gy("",20);i.port1.start();const d=setTimeout(()=>{f(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const p=g;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(d),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
    + */class gM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,f)=>{const c=Ky("",20);i.port1.start();const d=setTimeout(()=>{f(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const p=g;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(d),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function As(){return window}function fM(t){As().location.href=t}/**
    + */function As(){return window}function xM(t){As().location.href=t}/**
      * @license
      * Copyright 2020 Google LLC.
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function i4(){return typeof As().WorkerGlobalScope<"u"&&typeof As().importScripts=="function"}async function hM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function pM(){return i4()?self:null}/**
    + */function u4(){return typeof As().WorkerGlobalScope<"u"&&typeof As().importScripts=="function"}async function yM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function _M(){return u4()?self:null}/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const s4="firebaseLocalStorageDb",mM=1,rp="firebaseLocalStorage",a4="fbase_key";class C0{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zp(t,e){return t.transaction([rp],e?"readwrite":"readonly").objectStore(rp)}function gM(){const t=indexedDB.deleteDatabase(s4);return new C0(t).toPromise()}function qx(){const t=indexedDB.open(s4,mM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rp,{keyPath:a4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rp)?e(r):(r.close(),await gM(),e(await qx()))})})}async function wb(t,e,n){const r=zp(t,!0).put({[a4]:e,value:n});return new C0(r).toPromise()}async function xM(t,e){const n=zp(t,!1).get(e),r=await new C0(n).toPromise();return r===void 0?null:r.value}function Sb(t,e){const n=zp(t,!0).delete(e);return new C0(n).toPromise()}const yM=800,vM=3;class o4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hp._getInstance(pM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await hM(),!this.activeServiceWorker)return;this.sender=new cM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qx();return await wb(e,np,"1"),await Sb(e,np),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>xM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=zp(i,!1).getAll();return new C0(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o4.type="LOCAL";const _M=o4;new S0(3e4,6e4);/**
    + */const l4="firebaseLocalStorageDb",TM=1,ip="firebaseLocalStorage",c4="fbase_key";class I0{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jp(t,e){return t.transaction([ip],e?"readwrite":"readonly").objectStore(ip)}function EM(){const t=indexedDB.deleteDatabase(l4);return new I0(t).toPromise()}function Gx(){const t=indexedDB.open(l4,TM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ip,{keyPath:c4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ip)?e(r):(r.close(),await EM(),e(await Gx()))})})}async function Ab(t,e,n){const r=jp(t,!0).put({[c4]:e,value:n});return new I0(r).toPromise()}async function bM(t,e){const n=jp(t,!1).get(e),r=await new I0(n).toPromise();return r===void 0?null:r.value}function Cb(t,e){const n=jp(t,!0).delete(e);return new I0(n).toPromise()}const wM=800,SM=3;class f4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gp._getInstance(_M()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await yM(),!this.activeServiceWorker)return;this.sender=new gM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gx();return await Ab(e,rp,"1"),await Cb(e,rp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ab(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>bM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=jp(i,!1).getAll();return new I0(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f4.type="LOCAL";const AM=f4;new A0(3e4,6e4);/**
      * @license
      * Copyright 2021 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function u4(t,e){return e?pa(e):(lt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
    + */function h4(t,e){return e?ma(e):(lt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class jy extends qy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TM(t){return ZC(t.auth,new jy(t),t.bypassAuthState)}function EM(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),Z5(n,new jy(t),t.bypassAuthState)}async function bM(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),Q5(n,new jy(t),t.bypassAuthState)}/**
    + */class Yy extends jy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function CM(t){return r4(t.auth,new Yy(t),t.bypassAuthState)}function IM(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),sM(n,new Yy(t),t.bypassAuthState)}async function kM(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),iM(n,new Yy(t),t.bypassAuthState)}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class l4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(f))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TM;case"linkViaPopup":case"linkViaRedirect":return bM;case"reauthViaPopup":case"reauthViaRedirect":return EM;default:Di(this.auth,"internal-error")}}resolve(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
    + */class d4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(f))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CM;case"linkViaPopup":case"linkViaRedirect":return kM;case"reauthViaPopup":case"reauthViaRedirect":return IM;default:Di(this.auth,"internal-error")}}resolve(e){_a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const wM=new S0(2e3,1e4);async function SM(t,e,n){if(ci(t.app))return Promise.reject(ss(t,"operation-not-supported-in-this-environment"));const r=Ou(t);a5(t,e,zy);const i=u4(r,n);return new _u(r,"signInViaPopup",e,i).executeNotNull()}class _u extends l4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,_u.currentPopupAction&&_u.currentPopupAction.cancel(),_u.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return lt(e,this.auth,"internal-error"),e}async onExecution(){va(this.filter.length===1,"Popup operations only handle one event");const e=Gy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ss(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ss(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_u.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ss(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wM.get())};e()}}_u.currentPopupAction=null;/**
    + */const RM=new A0(2e3,1e4);async function NM(t,e,n){if(ci(t.app))return Promise.reject(ss(t,"operation-not-supported-in-this-environment"));const r=Fu(t);h5(t,e,Wy);const i=h4(r,n);return new Tu(r,"signInViaPopup",e,i).executeNotNull()}class Tu extends d4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Tu.currentPopupAction&&Tu.currentPopupAction.cancel(),Tu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return lt(e,this.auth,"internal-error"),e}async onExecution(){_a(this.filter.length===1,"Popup operations only handle one event");const e=Ky();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ss(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ss(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ss(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RM.get())};e()}}Tu.currentPopupAction=null;/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const AM="pendingRedirect",Ud=new Map;class CM extends l4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ud.get(this.auth._key());if(!e){try{const r=await IM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ud.set(this.auth._key(),e)}return this.bypassAuthState||Ud.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IM(t,e){const n=NM(e),r=RM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function kM(t,e){Ud.set(t._key(),e)}function RM(t){return pa(t._redirectPersistence)}function NM(t){return Fd(AM,t.config.apiKey,t.name)}async function DM(t,e,n=!1){if(ci(t.app))return Promise.reject(yo(t));const r=Ou(t),i=u4(r,e),o=await new CM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
    + */const DM="pendingRedirect",Vd=new Map;class MM extends d4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Vd.get(this.auth._key());if(!e){try{const r=await PM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Vd.set(this.auth._key(),e)}return this.bypassAuthState||Vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PM(t,e){const n=FM(e),r=OM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function LM(t,e){Vd.set(t._key(),e)}function OM(t){return ma(t._redirectPersistence)}function FM(t){return Ud(DM,t.config.apiKey,t.name)}async function UM(t,e,n=!1){if(ci(t.app))return Promise.reject(_o(t));const r=Fu(t),i=h4(r,e),o=await new MM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const MM=600*1e3;class PM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!c4(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ss(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ab(e))}saveEventToCache(e){this.cachedEventUids.add(Ab(e)),this.lastProcessedEventTime=Date.now()}}function Ab(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function c4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function LM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c4(t);default:return!1}}/**
    + */const VM=600*1e3;class BM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!p4(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ss(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ib(e))}saveEventToCache(e){this.cachedEventUids.add(Ib(e)),this.lastProcessedEventTime=Date.now()}}function Ib(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function p4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p4(t);default:return!1}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */async function OM(t,e={}){return Oo(t,"GET","/v1/projects",e)}/**
    + */async function HM(t,e={}){return Uo(t,"GET","/v1/projects",e)}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const FM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UM=/^https?/;async function VM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OM(t);for(const n of e)try{if(BM(n))return}catch{}Di(t,"unauthorized-domain")}function BM(t){const e=Vx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!UM.test(n))return!1;if(FM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
    + */const zM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GM=/^https?/;async function jM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await HM(t);for(const n of e)try{if($M(n))return}catch{}Di(t,"unauthorized-domain")}function $M(t){const e=Hx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!GM.test(n))return!1;if(zM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
      * @license
      * Copyright 2020 Google LLC.
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const qM=new S0(3e4,6e4);function Cb(){const t=As().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HM(t){return new Promise((e,n)=>{var i,s,o;function r(){Cb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cb(),n(ss(t,"network-request-failed"))},timeout:qM.get()})}if((s=(i=As().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=As().gapi)!=null&&o.load)r();else{const l=L5("iframefcb");return As()[l]=()=>{gapi.load?r():n(ss(t,"network-request-failed"))},YC(`${P5()}?onload=${l}`).catch(f=>n(f))}}).catch(e=>{throw Vd=null,e})}let Vd=null;function zM(t){return Vd=Vd||HM(t),Vd}/**
    + */const WM=new A0(3e4,6e4);function kb(){const t=As().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KM(t){return new Promise((e,n)=>{var i,s,o;function r(){kb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kb(),n(ss(t,"network-request-failed"))},timeout:WM.get()})}if((s=(i=As().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=As().gapi)!=null&&o.load)r();else{const l=q5("iframefcb");return As()[l]=()=>{gapi.load?r():n(ss(t,"network-request-failed"))},ZC(`${B5()}?onload=${l}`).catch(f=>n(f))}}).catch(e=>{throw Bd=null,e})}let Bd=null;function YM(t){return Bd=Bd||KM(t),Bd}/**
      * @license
      * Copyright 2020 Google LLC.
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const GM=new S0(5e3,15e3),jM="__/auth/iframe",$M="emulator/auth/iframe",WM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YM(t){const e=t.config;lt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Uy(e,$M):`https://${t.config.authDomain}/${jM}`,r={apiKey:e.apiKey,appName:t.name,v:hc},i=KM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${w0(r).slice(1)}`}async function XM(t){const e=await zM(t),n=As().gapi;return lt(n,t,"internal-error"),e.open({where:document.body,url:YM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ss(t,"network-request-failed"),l=As().setTimeout(()=>{s(o)},GM.get());function f(){As().clearTimeout(l),i(r)}r.ping(f).then(f,()=>{s(o)})}))}/**
    + */const XM=new A0(5e3,15e3),JM="__/auth/iframe",QM="emulator/auth/iframe",ZM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tP(t){const e=t.config;lt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hy(e,QM):`https://${t.config.authDomain}/${JM}`,r={apiKey:e.apiKey,appName:t.name,v:pc},i=eP.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${S0(r).slice(1)}`}async function nP(t){const e=await YM(t),n=As().gapi;return lt(n,t,"internal-error"),e.open({where:document.body,url:tP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ss(t,"network-request-failed"),l=As().setTimeout(()=>{s(o)},XM.get());function f(){As().clearTimeout(l),i(r)}r.ping(f).then(f,()=>{s(o)})}))}/**
      * @license
      * Copyright 2020 Google LLC.
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const JM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QM=500,ZM=600,eP="_blank",tP="http://localhost";class Ib{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nP(t,e,n,r=QM,i=ZM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const f={...JM,width:r.toString(),height:i.toString(),top:s,left:o},c=Ar().toLowerCase();n&&(l=HC(c)?eP:n),BC(c)&&(e=e||tP,f.scrollbars="yes");const d=Object.entries(f).reduce((p,[x,_])=>`${p}${x}=${_},`,"");if(S5(c)&&l!=="_self")return rP(e||"",l),new Ib(null);const g=window.open(e||"",l,d);lt(g,t,"popup-blocked");try{g.focus()}catch{}return new Ib(g)}function rP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
    + */const rP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iP=500,sP=600,aP="_blank",oP="http://localhost";class Rb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uP(t,e,n,r=iP,i=sP){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const f={...rP,width:r.toString(),height:i.toString(),top:s,left:o},c=Ar().toLowerCase();n&&(l=$C(c)?aP:n),GC(c)&&(e=e||oP,f.scrollbars="yes");const d=Object.entries(f).reduce((p,[x,_])=>`${p}${x}=${_},`,"");if(N5(c)&&l!=="_self")return lP(e||"",l),new Rb(null);const g=window.open(e||"",l,d);lt(g,t,"popup-blocked");try{g.focus()}catch{}return new Rb(g)}function lP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
      * @license
      * Copyright 2021 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const iP="__/auth/handler",sP="emulator/auth/handler",aP=encodeURIComponent("fac");async function kb(t,e,n,r,i,s){lt(t.config.authDomain,t,"auth-domain-config-required"),lt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:hc,eventId:i};if(e instanceof zy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",G8(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,g]of Object.entries({}))o[d]=g}if(e instanceof A0){const d=e.getScopes().filter(g=>g!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const f=await t._getAppCheckToken(),c=f?`#${aP}=${encodeURIComponent(f)}`:"";return`${oP(t)}?${w0(l).slice(1)}${c}`}function oP({config:t}){return t.emulator?Uy(t,sP):`https://${t.authDomain}/${iP}`}/**
    + */const cP="__/auth/handler",fP="emulator/auth/handler",hP=encodeURIComponent("fac");async function Nb(t,e,n,r,i,s){lt(t.config.authDomain,t,"auth-domain-config-required"),lt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pc,eventId:i};if(e instanceof Wy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",X8(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,g]of Object.entries({}))o[d]=g}if(e instanceof C0){const d=e.getScopes().filter(g=>g!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const f=await t._getAppCheckToken(),c=f?`#${hP}=${encodeURIComponent(f)}`:"";return`${dP(t)}?${S0(l).slice(1)}${c}`}function dP({config:t}){return t.emulator?Hy(t,fP):`https://${t.authDomain}/${cP}`}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const N1="webStorageSupport";class uP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r4,this._completeRedirectFn=DM,this._overrideRedirectResult=kM}async _openPopup(e,n,r,i){var o;va((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await kb(e,n,r,Vx(),i);return nP(e,s,Gy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await kb(e,n,r,Vx(),i);return fM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(va(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await XM(e),r=new PM(e);return n.register("authEvent",i=>(lt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(N1,{type:N1},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[N1];s!==void 0&&n(!!s),Di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WC()||qC()||By()}}const lP=uP;var Rb="@firebase/auth",Nb="1.11.0";/**
    + */const P1="webStorageSupport";class pP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o4,this._completeRedirectFn=UM,this._overrideRedirectResult=LM}async _openPopup(e,n,r,i){var o;_a((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Nb(e,n,r,Hx(),i);return uP(e,s,Ky())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Nb(e,n,r,Hx(),i);return xM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(_a(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nP(e),r=new BM(e);return n.register("authEvent",i=>(lt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(P1,{type:P1},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[P1];s!==void 0&&n(!!s),Di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JC()||jC()||Gy()}}const mP=pP;var Db="@firebase/auth",Mb="1.11.0";/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class cP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
    + */class gP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function fP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hP(t){Au(new wo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;lt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KC(t)},c=new N5(r,i,s,f);return q5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Au(new wo("auth-internal",e=>{const n=Ou(e.getProvider("auth").getImmediate());return(r=>new cP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(Rb,Nb,fP(t)),Ss(Rb,Nb,"esm2020")}/**
    + */function xP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yP(t){Cu(new Ao("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;lt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QC(t)},c=new F5(r,i,s,f);return W5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cu(new Ao("auth-internal",e=>{const n=Fu(e.getProvider("auth").getImmediate());return(r=>new gP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(Db,Mb,xP(t)),Ss(Db,Mb,"esm2020")}/**
      * @license
      * Copyright 2021 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const dP=300,pP=CC("authIdTokenMaxAge")||dP;let Db=null;const mP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pP)return;const i=n==null?void 0:n.token;Db!==i&&(Db=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function gP(t=Ly()){const e=Vp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=B5(t,{popupRedirectResolver:lP,persistence:[_M,uM,r4]}),r=CC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=mP(s.toString());iM(n,o,()=>o(n.currentUser)),rM(n,l=>o(l))}}const i=wC("auth");return i&&H5(n,`http://${i}`),n}function xP(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}D5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ss("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",xP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hP("Browser");var Mb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
    + */const vP=300,_P=NC("authIdTokenMaxAge")||vP;let Pb=null;const TP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_P)return;const i=n==null?void 0:n.token;Pb!==i&&(Pb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function EP(t=Vy()){const e=qp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$5(t,{popupRedirectResolver:mP,persistence:[AM,pM,o4]}),r=NC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=TP(s.toString());cM(n,o,()=>o(n.currentUser)),lM(n,l=>o(l))}}const i=IC("auth");return i&&K5(n,`http://${i}`),n}function bP(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}U5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ss("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",bP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yP("Browser");var Lb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
     Copyright The Closure Library Authors.
     SPDX-License-Identifier: Apache-2.0
    -*/var vo,f4;(function(){var t;/** @license
    +*/var To,m4;(function(){var t;/** @license
     
      Copyright The Closure Library Authors.
      SPDX-License-Identifier: Apache-2.0
    -*/function e(N,k){function R(){}R.prototype=k.prototype,N.F=k.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(O,L,U){for(var q=Array(arguments.length-2),he=2;he<arguments.length;he++)q[he-2]=arguments[he];return k.prototype[L].apply(O,q)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,k,R){R||(R=0);const O=Array(16);if(typeof k=="string")for(var L=0;L<16;++L)O[L]=k.charCodeAt(R++)|k.charCodeAt(R++)<<8|k.charCodeAt(R++)<<16|k.charCodeAt(R++)<<24;else for(L=0;L<16;++L)O[L]=k[R++]|k[R++]<<8|k[R++]<<16|k[R++]<<24;k=N.g[0],R=N.g[1],L=N.g[2];let U=N.g[3],q;q=k+(U^R&(L^U))+O[0]+3614090360&4294967295,k=R+(q<<7&4294967295|q>>>25),q=U+(L^k&(R^L))+O[1]+3905402710&4294967295,U=k+(q<<12&4294967295|q>>>20),q=L+(R^U&(k^R))+O[2]+606105819&4294967295,L=U+(q<<17&4294967295|q>>>15),q=R+(k^L&(U^k))+O[3]+3250441966&4294967295,R=L+(q<<22&4294967295|q>>>10),q=k+(U^R&(L^U))+O[4]+4118548399&4294967295,k=R+(q<<7&4294967295|q>>>25),q=U+(L^k&(R^L))+O[5]+1200080426&4294967295,U=k+(q<<12&4294967295|q>>>20),q=L+(R^U&(k^R))+O[6]+2821735955&4294967295,L=U+(q<<17&4294967295|q>>>15),q=R+(k^L&(U^k))+O[7]+4249261313&4294967295,R=L+(q<<22&4294967295|q>>>10),q=k+(U^R&(L^U))+O[8]+1770035416&4294967295,k=R+(q<<7&4294967295|q>>>25),q=U+(L^k&(R^L))+O[9]+2336552879&4294967295,U=k+(q<<12&4294967295|q>>>20),q=L+(R^U&(k^R))+O[10]+4294925233&4294967295,L=U+(q<<17&4294967295|q>>>15),q=R+(k^L&(U^k))+O[11]+2304563134&4294967295,R=L+(q<<22&4294967295|q>>>10),q=k+(U^R&(L^U))+O[12]+1804603682&4294967295,k=R+(q<<7&4294967295|q>>>25),q=U+(L^k&(R^L))+O[13]+4254626195&4294967295,U=k+(q<<12&4294967295|q>>>20),q=L+(R^U&(k^R))+O[14]+2792965006&4294967295,L=U+(q<<17&4294967295|q>>>15),q=R+(k^L&(U^k))+O[15]+1236535329&4294967295,R=L+(q<<22&4294967295|q>>>10),q=k+(L^U&(R^L))+O[1]+4129170786&4294967295,k=R+(q<<5&4294967295|q>>>27),q=U+(R^L&(k^R))+O[6]+3225465664&4294967295,U=k+(q<<9&4294967295|q>>>23),q=L+(k^R&(U^k))+O[11]+643717713&4294967295,L=U+(q<<14&4294967295|q>>>18),q=R+(U^k&(L^U))+O[0]+3921069994&4294967295,R=L+(q<<20&4294967295|q>>>12),q=k+(L^U&(R^L))+O[5]+3593408605&4294967295,k=R+(q<<5&4294967295|q>>>27),q=U+(R^L&(k^R))+O[10]+38016083&4294967295,U=k+(q<<9&4294967295|q>>>23),q=L+(k^R&(U^k))+O[15]+3634488961&4294967295,L=U+(q<<14&4294967295|q>>>18),q=R+(U^k&(L^U))+O[4]+3889429448&4294967295,R=L+(q<<20&4294967295|q>>>12),q=k+(L^U&(R^L))+O[9]+568446438&4294967295,k=R+(q<<5&4294967295|q>>>27),q=U+(R^L&(k^R))+O[14]+3275163606&4294967295,U=k+(q<<9&4294967295|q>>>23),q=L+(k^R&(U^k))+O[3]+4107603335&4294967295,L=U+(q<<14&4294967295|q>>>18),q=R+(U^k&(L^U))+O[8]+1163531501&4294967295,R=L+(q<<20&4294967295|q>>>12),q=k+(L^U&(R^L))+O[13]+2850285829&4294967295,k=R+(q<<5&4294967295|q>>>27),q=U+(R^L&(k^R))+O[2]+4243563512&4294967295,U=k+(q<<9&4294967295|q>>>23),q=L+(k^R&(U^k))+O[7]+1735328473&4294967295,L=U+(q<<14&4294967295|q>>>18),q=R+(U^k&(L^U))+O[12]+2368359562&4294967295,R=L+(q<<20&4294967295|q>>>12),q=k+(R^L^U)+O[5]+4294588738&4294967295,k=R+(q<<4&4294967295|q>>>28),q=U+(k^R^L)+O[8]+2272392833&4294967295,U=k+(q<<11&4294967295|q>>>21),q=L+(U^k^R)+O[11]+1839030562&4294967295,L=U+(q<<16&4294967295|q>>>16),q=R+(L^U^k)+O[14]+4259657740&4294967295,R=L+(q<<23&4294967295|q>>>9),q=k+(R^L^U)+O[1]+2763975236&4294967295,k=R+(q<<4&4294967295|q>>>28),q=U+(k^R^L)+O[4]+1272893353&4294967295,U=k+(q<<11&4294967295|q>>>21),q=L+(U^k^R)+O[7]+4139469664&4294967295,L=U+(q<<16&4294967295|q>>>16),q=R+(L^U^k)+O[10]+3200236656&4294967295,R=L+(q<<23&4294967295|q>>>9),q=k+(R^L^U)+O[13]+681279174&4294967295,k=R+(q<<4&4294967295|q>>>28),q=U+(k^R^L)+O[0]+3936430074&4294967295,U=k+(q<<11&4294967295|q>>>21),q=L+(U^k^R)+O[3]+3572445317&4294967295,L=U+(q<<16&4294967295|q>>>16),q=R+(L^U^k)+O[6]+76029189&4294967295,R=L+(q<<23&4294967295|q>>>9),q=k+(R^L^U)+O[9]+3654602809&4294967295,k=R+(q<<4&4294967295|q>>>28),q=U+(k^R^L)+O[12]+3873151461&4294967295,U=k+(q<<11&4294967295|q>>>21),q=L+(U^k^R)+O[15]+530742520&4294967295,L=U+(q<<16&4294967295|q>>>16),q=R+(L^U^k)+O[2]+3299628645&4294967295,R=L+(q<<23&4294967295|q>>>9),q=k+(L^(R|~U))+O[0]+4096336452&4294967295,k=R+(q<<6&4294967295|q>>>26),q=U+(R^(k|~L))+O[7]+1126891415&4294967295,U=k+(q<<10&4294967295|q>>>22),q=L+(k^(U|~R))+O[14]+2878612391&4294967295,L=U+(q<<15&4294967295|q>>>17),q=R+(U^(L|~k))+O[5]+4237533241&4294967295,R=L+(q<<21&4294967295|q>>>11),q=k+(L^(R|~U))+O[12]+1700485571&4294967295,k=R+(q<<6&4294967295|q>>>26),q=U+(R^(k|~L))+O[3]+2399980690&4294967295,U=k+(q<<10&4294967295|q>>>22),q=L+(k^(U|~R))+O[10]+4293915773&4294967295,L=U+(q<<15&4294967295|q>>>17),q=R+(U^(L|~k))+O[1]+2240044497&4294967295,R=L+(q<<21&4294967295|q>>>11),q=k+(L^(R|~U))+O[8]+1873313359&4294967295,k=R+(q<<6&4294967295|q>>>26),q=U+(R^(k|~L))+O[15]+4264355552&4294967295,U=k+(q<<10&4294967295|q>>>22),q=L+(k^(U|~R))+O[6]+2734768916&4294967295,L=U+(q<<15&4294967295|q>>>17),q=R+(U^(L|~k))+O[13]+1309151649&4294967295,R=L+(q<<21&4294967295|q>>>11),q=k+(L^(R|~U))+O[4]+4149444226&4294967295,k=R+(q<<6&4294967295|q>>>26),q=U+(R^(k|~L))+O[11]+3174756917&4294967295,U=k+(q<<10&4294967295|q>>>22),q=L+(k^(U|~R))+O[2]+718787259&4294967295,L=U+(q<<15&4294967295|q>>>17),q=R+(U^(L|~k))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+k&4294967295,N.g[1]=N.g[1]+(L+(q<<21&4294967295|q>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+U&4294967295}r.prototype.v=function(N,k){k===void 0&&(k=N.length);const R=k-this.blockSize,O=this.C;let L=this.h,U=0;for(;U<k;){if(L==0)for(;U<=R;)i(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<k;)if(O[L++]=N.charCodeAt(U++),L==this.blockSize){i(this,O),L=0;break}}else for(;U<k;)if(O[L++]=N[U++],L==this.blockSize){i(this,O),L=0;break}}this.h=L,this.o+=k},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var k=1;k<N.length-8;++k)N[k]=0;k=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=k&255,k/=256;for(this.v(N),N=Array(16),k=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)N[k++]=this.g[R]>>>O&255;return N};function s(N,k){var R=l;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=k(N)}function o(N,k){this.h=k;const R=[];let O=!0;for(let L=N.length-1;L>=0;L--){const U=N[L]|0;O&&U==k||(R[L]=U,O=!1)}this.g=R}var l={};function f(N){return-128<=N&&N<128?s(N,function(k){return new o([k|0],k<0?-1:0)}):new o([N|0],N<0?-1:0)}function c(N){if(isNaN(N)||!isFinite(N))return g;if(N<0)return C(c(-N));const k=[];let R=1;for(let O=0;N>=R;O++)k[O]=N/R|0,R*=4294967296;return new o(k,0)}function d(N,k){if(N.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(N.charAt(0)=="-")return C(d(N.substring(1),k));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=c(Math.pow(k,8));let O=g;for(let U=0;U<N.length;U+=8){var L=Math.min(8,N.length-U);const q=parseInt(N.substring(U,U+L),k);L<8?(L=c(Math.pow(k,L)),O=O.j(L).add(c(q))):(O=O.j(R),O=O.add(c(q)))}return O}var g=f(0),p=f(1),x=f(16777216);t=o.prototype,t.m=function(){if(b(this))return-C(this).m();let N=0,k=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);N+=(O>=0?O:4294967296+O)*k,k*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(_(this))return"0";if(b(this))return"-"+C(this).toString(N);const k=c(Math.pow(N,6));var R=this;let O="";for(;;){const L=P(R,k).g;R=I(R,L.j(k));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=L,_(R))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function _(N){if(N.h!=0)return!1;for(let k=0;k<N.g.length;k++)if(N.g[k]!=0)return!1;return!0}function b(N){return N.h==-1}t.l=function(N){return N=I(this,N),b(N)?-1:_(N)?0:1};function C(N){const k=N.g.length,R=[];for(let O=0;O<k;O++)R[O]=~N.g[O];return new o(R,~N.h).add(p)}t.abs=function(){return b(this)?C(this):this},t.add=function(N){const k=Math.max(this.g.length,N.g.length),R=[];let O=0;for(let L=0;L<=k;L++){let U=O+(this.i(L)&65535)+(N.i(L)&65535),q=(U>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);O=q>>>16,U&=65535,q&=65535,R[L]=q<<16|U}return new o(R,R[R.length-1]&-2147483648?-1:0)};function I(N,k){return N.add(C(k))}t.j=function(N){if(_(this)||_(N))return g;if(b(this))return b(N)?C(this).j(C(N)):C(C(this).j(N));if(b(N))return C(this.j(C(N)));if(this.l(x)<0&&N.l(x)<0)return c(this.m()*N.m());const k=this.g.length+N.g.length,R=[];for(var O=0;O<2*k;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let L=0;L<N.g.length;L++){const U=this.i(O)>>>16,q=this.i(O)&65535,he=N.i(L)>>>16,ae=N.i(L)&65535;R[2*O+2*L]+=q*ae,M(R,2*O+2*L),R[2*O+2*L+1]+=U*ae,M(R,2*O+2*L+1),R[2*O+2*L+1]+=q*he,M(R,2*O+2*L+1),R[2*O+2*L+2]+=U*he,M(R,2*O+2*L+2)}for(N=0;N<k;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=k;N<2*k;N++)R[N]=0;return new o(R,0)};function M(N,k){for(;(N[k]&65535)!=N[k];)N[k+1]+=N[k]>>>16,N[k]&=65535,k++}function A(N,k){this.g=N,this.h=k}function P(N,k){if(_(k))throw Error("division by zero");if(_(N))return new A(g,g);if(b(N))return k=P(C(N),k),new A(C(k.g),C(k.h));if(b(k))return k=P(N,C(k)),new A(C(k.g),k.h);if(N.g.length>30){if(b(N)||b(k))throw Error("slowDivide_ only works with positive integers.");for(var R=p,O=k;O.l(N)<=0;)R=D(R),O=D(O);var L=V(R,1),U=V(O,1);for(O=V(O,2),R=V(R,2);!_(O);){var q=U.add(O);q.l(N)<=0&&(L=L.add(R),U=q),O=V(O,1),R=V(R,1)}return k=I(N,L.j(k)),new A(L,k)}for(L=g;N.l(k)>=0;){for(R=Math.max(1,Math.floor(N.m()/k.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=c(R),q=U.j(k);b(q)||q.l(N)>0;)R-=O,U=c(R),q=U.j(k);_(U)&&(U=p),L=L.add(U),N=I(N,q)}return new A(L,N)}t.B=function(N){return P(this,N).h},t.and=function(N){const k=Math.max(this.g.length,N.g.length),R=[];for(let O=0;O<k;O++)R[O]=this.i(O)&N.i(O);return new o(R,this.h&N.h)},t.or=function(N){const k=Math.max(this.g.length,N.g.length),R=[];for(let O=0;O<k;O++)R[O]=this.i(O)|N.i(O);return new o(R,this.h|N.h)},t.xor=function(N){const k=Math.max(this.g.length,N.g.length),R=[];for(let O=0;O<k;O++)R[O]=this.i(O)^N.i(O);return new o(R,this.h^N.h)};function D(N){const k=N.g.length+1,R=[];for(let O=0;O<k;O++)R[O]=N.i(O)<<1|N.i(O-1)>>>31;return new o(R,N.h)}function V(N,k){const R=k>>5;k%=32;const O=N.g.length-R,L=[];for(let U=0;U<O;U++)L[U]=k>0?N.i(U+R)>>>k|N.i(U+R+1)<<32-k:N.i(U+R);return new o(L,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,f4=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,vo=o}).apply(typeof Mb<"u"?Mb:typeof self<"u"?self:typeof window<"u"?window:{});var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
    +*/function e(N,k){function R(){}R.prototype=k.prototype,N.F=k.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(V,L,F){for(var q=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)q[ce-2]=arguments[ce];return k.prototype[L].apply(V,q)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,k,R){R||(R=0);const V=Array(16);if(typeof k=="string")for(var L=0;L<16;++L)V[L]=k.charCodeAt(R++)|k.charCodeAt(R++)<<8|k.charCodeAt(R++)<<16|k.charCodeAt(R++)<<24;else for(L=0;L<16;++L)V[L]=k[R++]|k[R++]<<8|k[R++]<<16|k[R++]<<24;k=N.g[0],R=N.g[1],L=N.g[2];let F=N.g[3],q;q=k+(F^R&(L^F))+V[0]+3614090360&4294967295,k=R+(q<<7&4294967295|q>>>25),q=F+(L^k&(R^L))+V[1]+3905402710&4294967295,F=k+(q<<12&4294967295|q>>>20),q=L+(R^F&(k^R))+V[2]+606105819&4294967295,L=F+(q<<17&4294967295|q>>>15),q=R+(k^L&(F^k))+V[3]+3250441966&4294967295,R=L+(q<<22&4294967295|q>>>10),q=k+(F^R&(L^F))+V[4]+4118548399&4294967295,k=R+(q<<7&4294967295|q>>>25),q=F+(L^k&(R^L))+V[5]+1200080426&4294967295,F=k+(q<<12&4294967295|q>>>20),q=L+(R^F&(k^R))+V[6]+2821735955&4294967295,L=F+(q<<17&4294967295|q>>>15),q=R+(k^L&(F^k))+V[7]+4249261313&4294967295,R=L+(q<<22&4294967295|q>>>10),q=k+(F^R&(L^F))+V[8]+1770035416&4294967295,k=R+(q<<7&4294967295|q>>>25),q=F+(L^k&(R^L))+V[9]+2336552879&4294967295,F=k+(q<<12&4294967295|q>>>20),q=L+(R^F&(k^R))+V[10]+4294925233&4294967295,L=F+(q<<17&4294967295|q>>>15),q=R+(k^L&(F^k))+V[11]+2304563134&4294967295,R=L+(q<<22&4294967295|q>>>10),q=k+(F^R&(L^F))+V[12]+1804603682&4294967295,k=R+(q<<7&4294967295|q>>>25),q=F+(L^k&(R^L))+V[13]+4254626195&4294967295,F=k+(q<<12&4294967295|q>>>20),q=L+(R^F&(k^R))+V[14]+2792965006&4294967295,L=F+(q<<17&4294967295|q>>>15),q=R+(k^L&(F^k))+V[15]+1236535329&4294967295,R=L+(q<<22&4294967295|q>>>10),q=k+(L^F&(R^L))+V[1]+4129170786&4294967295,k=R+(q<<5&4294967295|q>>>27),q=F+(R^L&(k^R))+V[6]+3225465664&4294967295,F=k+(q<<9&4294967295|q>>>23),q=L+(k^R&(F^k))+V[11]+643717713&4294967295,L=F+(q<<14&4294967295|q>>>18),q=R+(F^k&(L^F))+V[0]+3921069994&4294967295,R=L+(q<<20&4294967295|q>>>12),q=k+(L^F&(R^L))+V[5]+3593408605&4294967295,k=R+(q<<5&4294967295|q>>>27),q=F+(R^L&(k^R))+V[10]+38016083&4294967295,F=k+(q<<9&4294967295|q>>>23),q=L+(k^R&(F^k))+V[15]+3634488961&4294967295,L=F+(q<<14&4294967295|q>>>18),q=R+(F^k&(L^F))+V[4]+3889429448&4294967295,R=L+(q<<20&4294967295|q>>>12),q=k+(L^F&(R^L))+V[9]+568446438&4294967295,k=R+(q<<5&4294967295|q>>>27),q=F+(R^L&(k^R))+V[14]+3275163606&4294967295,F=k+(q<<9&4294967295|q>>>23),q=L+(k^R&(F^k))+V[3]+4107603335&4294967295,L=F+(q<<14&4294967295|q>>>18),q=R+(F^k&(L^F))+V[8]+1163531501&4294967295,R=L+(q<<20&4294967295|q>>>12),q=k+(L^F&(R^L))+V[13]+2850285829&4294967295,k=R+(q<<5&4294967295|q>>>27),q=F+(R^L&(k^R))+V[2]+4243563512&4294967295,F=k+(q<<9&4294967295|q>>>23),q=L+(k^R&(F^k))+V[7]+1735328473&4294967295,L=F+(q<<14&4294967295|q>>>18),q=R+(F^k&(L^F))+V[12]+2368359562&4294967295,R=L+(q<<20&4294967295|q>>>12),q=k+(R^L^F)+V[5]+4294588738&4294967295,k=R+(q<<4&4294967295|q>>>28),q=F+(k^R^L)+V[8]+2272392833&4294967295,F=k+(q<<11&4294967295|q>>>21),q=L+(F^k^R)+V[11]+1839030562&4294967295,L=F+(q<<16&4294967295|q>>>16),q=R+(L^F^k)+V[14]+4259657740&4294967295,R=L+(q<<23&4294967295|q>>>9),q=k+(R^L^F)+V[1]+2763975236&4294967295,k=R+(q<<4&4294967295|q>>>28),q=F+(k^R^L)+V[4]+1272893353&4294967295,F=k+(q<<11&4294967295|q>>>21),q=L+(F^k^R)+V[7]+4139469664&4294967295,L=F+(q<<16&4294967295|q>>>16),q=R+(L^F^k)+V[10]+3200236656&4294967295,R=L+(q<<23&4294967295|q>>>9),q=k+(R^L^F)+V[13]+681279174&4294967295,k=R+(q<<4&4294967295|q>>>28),q=F+(k^R^L)+V[0]+3936430074&4294967295,F=k+(q<<11&4294967295|q>>>21),q=L+(F^k^R)+V[3]+3572445317&4294967295,L=F+(q<<16&4294967295|q>>>16),q=R+(L^F^k)+V[6]+76029189&4294967295,R=L+(q<<23&4294967295|q>>>9),q=k+(R^L^F)+V[9]+3654602809&4294967295,k=R+(q<<4&4294967295|q>>>28),q=F+(k^R^L)+V[12]+3873151461&4294967295,F=k+(q<<11&4294967295|q>>>21),q=L+(F^k^R)+V[15]+530742520&4294967295,L=F+(q<<16&4294967295|q>>>16),q=R+(L^F^k)+V[2]+3299628645&4294967295,R=L+(q<<23&4294967295|q>>>9),q=k+(L^(R|~F))+V[0]+4096336452&4294967295,k=R+(q<<6&4294967295|q>>>26),q=F+(R^(k|~L))+V[7]+1126891415&4294967295,F=k+(q<<10&4294967295|q>>>22),q=L+(k^(F|~R))+V[14]+2878612391&4294967295,L=F+(q<<15&4294967295|q>>>17),q=R+(F^(L|~k))+V[5]+4237533241&4294967295,R=L+(q<<21&4294967295|q>>>11),q=k+(L^(R|~F))+V[12]+1700485571&4294967295,k=R+(q<<6&4294967295|q>>>26),q=F+(R^(k|~L))+V[3]+2399980690&4294967295,F=k+(q<<10&4294967295|q>>>22),q=L+(k^(F|~R))+V[10]+4293915773&4294967295,L=F+(q<<15&4294967295|q>>>17),q=R+(F^(L|~k))+V[1]+2240044497&4294967295,R=L+(q<<21&4294967295|q>>>11),q=k+(L^(R|~F))+V[8]+1873313359&4294967295,k=R+(q<<6&4294967295|q>>>26),q=F+(R^(k|~L))+V[15]+4264355552&4294967295,F=k+(q<<10&4294967295|q>>>22),q=L+(k^(F|~R))+V[6]+2734768916&4294967295,L=F+(q<<15&4294967295|q>>>17),q=R+(F^(L|~k))+V[13]+1309151649&4294967295,R=L+(q<<21&4294967295|q>>>11),q=k+(L^(R|~F))+V[4]+4149444226&4294967295,k=R+(q<<6&4294967295|q>>>26),q=F+(R^(k|~L))+V[11]+3174756917&4294967295,F=k+(q<<10&4294967295|q>>>22),q=L+(k^(F|~R))+V[2]+718787259&4294967295,L=F+(q<<15&4294967295|q>>>17),q=R+(F^(L|~k))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+k&4294967295,N.g[1]=N.g[1]+(L+(q<<21&4294967295|q>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+F&4294967295}r.prototype.v=function(N,k){k===void 0&&(k=N.length);const R=k-this.blockSize,V=this.C;let L=this.h,F=0;for(;F<k;){if(L==0)for(;F<=R;)i(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<k;)if(V[L++]=N.charCodeAt(F++),L==this.blockSize){i(this,V),L=0;break}}else for(;F<k;)if(V[L++]=N[F++],L==this.blockSize){i(this,V),L=0;break}}this.h=L,this.o+=k},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var k=1;k<N.length-8;++k)N[k]=0;k=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=k&255,k/=256;for(this.v(N),N=Array(16),k=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)N[k++]=this.g[R]>>>V&255;return N};function s(N,k){var R=l;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=k(N)}function o(N,k){this.h=k;const R=[];let V=!0;for(let L=N.length-1;L>=0;L--){const F=N[L]|0;V&&F==k||(R[L]=F,V=!1)}this.g=R}var l={};function f(N){return-128<=N&&N<128?s(N,function(k){return new o([k|0],k<0?-1:0)}):new o([N|0],N<0?-1:0)}function c(N){if(isNaN(N)||!isFinite(N))return g;if(N<0)return C(c(-N));const k=[];let R=1;for(let V=0;N>=R;V++)k[V]=N/R|0,R*=4294967296;return new o(k,0)}function d(N,k){if(N.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(N.charAt(0)=="-")return C(d(N.substring(1),k));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=c(Math.pow(k,8));let V=g;for(let F=0;F<N.length;F+=8){var L=Math.min(8,N.length-F);const q=parseInt(N.substring(F,F+L),k);L<8?(L=c(Math.pow(k,L)),V=V.j(L).add(c(q))):(V=V.j(R),V=V.add(c(q)))}return V}var g=f(0),p=f(1),x=f(16777216);t=o.prototype,t.m=function(){if(b(this))return-C(this).m();let N=0,k=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);N+=(V>=0?V:4294967296+V)*k,k*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(_(this))return"0";if(b(this))return"-"+C(this).toString(N);const k=c(Math.pow(N,6));var R=this;let V="";for(;;){const L=P(R,k).g;R=I(R,L.j(k));let F=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=L,_(R))return F+V;for(;F.length<6;)F="0"+F;V=F+V}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function _(N){if(N.h!=0)return!1;for(let k=0;k<N.g.length;k++)if(N.g[k]!=0)return!1;return!0}function b(N){return N.h==-1}t.l=function(N){return N=I(this,N),b(N)?-1:_(N)?0:1};function C(N){const k=N.g.length,R=[];for(let V=0;V<k;V++)R[V]=~N.g[V];return new o(R,~N.h).add(p)}t.abs=function(){return b(this)?C(this):this},t.add=function(N){const k=Math.max(this.g.length,N.g.length),R=[];let V=0;for(let L=0;L<=k;L++){let F=V+(this.i(L)&65535)+(N.i(L)&65535),q=(F>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);V=q>>>16,F&=65535,q&=65535,R[L]=q<<16|F}return new o(R,R[R.length-1]&-2147483648?-1:0)};function I(N,k){return N.add(C(k))}t.j=function(N){if(_(this)||_(N))return g;if(b(this))return b(N)?C(this).j(C(N)):C(C(this).j(N));if(b(N))return C(this.j(C(N)));if(this.l(x)<0&&N.l(x)<0)return c(this.m()*N.m());const k=this.g.length+N.g.length,R=[];for(var V=0;V<2*k;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let L=0;L<N.g.length;L++){const F=this.i(V)>>>16,q=this.i(V)&65535,ce=N.i(L)>>>16,oe=N.i(L)&65535;R[2*V+2*L]+=q*oe,D(R,2*V+2*L),R[2*V+2*L+1]+=F*oe,D(R,2*V+2*L+1),R[2*V+2*L+1]+=q*ce,D(R,2*V+2*L+1),R[2*V+2*L+2]+=F*ce,D(R,2*V+2*L+2)}for(N=0;N<k;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=k;N<2*k;N++)R[N]=0;return new o(R,0)};function D(N,k){for(;(N[k]&65535)!=N[k];)N[k+1]+=N[k]>>>16,N[k]&=65535,k++}function A(N,k){this.g=N,this.h=k}function P(N,k){if(_(k))throw Error("division by zero");if(_(N))return new A(g,g);if(b(N))return k=P(C(N),k),new A(C(k.g),C(k.h));if(b(k))return k=P(N,C(k)),new A(C(k.g),k.h);if(N.g.length>30){if(b(N)||b(k))throw Error("slowDivide_ only works with positive integers.");for(var R=p,V=k;V.l(N)<=0;)R=M(R),V=M(V);var L=U(R,1),F=U(V,1);for(V=U(V,2),R=U(R,2);!_(V);){var q=F.add(V);q.l(N)<=0&&(L=L.add(R),F=q),V=U(V,1),R=U(R,1)}return k=I(N,L.j(k)),new A(L,k)}for(L=g;N.l(k)>=0;){for(R=Math.max(1,Math.floor(N.m()/k.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),F=c(R),q=F.j(k);b(q)||q.l(N)>0;)R-=V,F=c(R),q=F.j(k);_(F)&&(F=p),L=L.add(F),N=I(N,q)}return new A(L,N)}t.B=function(N){return P(this,N).h},t.and=function(N){const k=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<k;V++)R[V]=this.i(V)&N.i(V);return new o(R,this.h&N.h)},t.or=function(N){const k=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<k;V++)R[V]=this.i(V)|N.i(V);return new o(R,this.h|N.h)},t.xor=function(N){const k=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<k;V++)R[V]=this.i(V)^N.i(V);return new o(R,this.h^N.h)};function M(N){const k=N.g.length+1,R=[];for(let V=0;V<k;V++)R[V]=N.i(V)<<1|N.i(V-1)>>>31;return new o(R,N.h)}function U(N,k){const R=k>>5;k%=32;const V=N.g.length-R,L=[];for(let F=0;F<V;F++)L[F]=k>0?N.i(F+R)>>>k|N.i(F+R+1)<<32-k:N.i(F+R);return new o(L,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,m4=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,To=o}).apply(typeof Lb<"u"?Lb:typeof self<"u"?self:typeof window<"u"?window:{});var dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
     Copyright The Closure Library Authors.
     SPDX-License-Identifier: Apache-2.0
    -*/var h4,Rf,d4,Bd,Hx,p4,m4,g4;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof hd=="object"&&hd];for(var F=0;F<v.length;++F){var H=v[F];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}var r=n(this);function i(v,F){if(F)e:{var H=r;v=v.split(".");for(var Q=0;Q<v.length-1;Q++){var me=v[Q];if(!(me in H))break e;H=H[me]}v=v[v.length-1],Q=H[v],F=F(Q),F!=Q&&F!=null&&e(H,v,{configurable:!0,writable:!0,value:F})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(F){var H=[],Q;for(Q in F)Object.prototype.hasOwnProperty.call(F,Q)&&H.push([Q,F[Q]]);return H}});/** @license
    +*/var g4,Nf,x4,qd,jx,y4,v4,_4;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof dd=="object"&&dd];for(var O=0;O<v.length;++O){var H=v[O];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}var r=n(this);function i(v,O){if(O)e:{var H=r;v=v.split(".");for(var Q=0;Q<v.length-1;Q++){var xe=v[Q];if(!(xe in H))break e;H=H[xe]}v=v[v.length-1],Q=H[v],O=O(Q),O!=Q&&O!=null&&e(H,v,{configurable:!0,writable:!0,value:O})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(O){var H=[],Q;for(Q in O)Object.prototype.hasOwnProperty.call(O,Q)&&H.push([Q,O[Q]]);return H}});/** @license
     
      Copyright The Closure Library Authors.
      SPDX-License-Identifier: Apache-2.0
    -*/var s=s||{},o=this||self;function l(v){var F=typeof v;return F=="object"&&v!=null||F=="function"}function f(v,F,H){return v.call.apply(v.bind,arguments)}function c(v,F,H){return c=f,c.apply(null,arguments)}function d(v,F){var H=Array.prototype.slice.call(arguments,1);return function(){var Q=H.slice();return Q.push.apply(Q,arguments),v.apply(this,Q)}}function g(v,F){function H(){}H.prototype=F.prototype,v.Z=F.prototype,v.prototype=new H,v.prototype.constructor=v,v.Ob=function(Q,me,we){for(var je=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)je[yt-2]=arguments[yt];return F.prototype[me].apply(Q,je)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function x(v){const F=v.length;if(F>0){const H=Array(F);for(let Q=0;Q<F;Q++)H[Q]=v[Q];return H}return[]}function _(v,F){for(let Q=1;Q<arguments.length;Q++){const me=arguments[Q];var H=typeof me;if(H=H!="object"?H:me?Array.isArray(me)?"array":H:"null",H=="array"||H=="object"&&typeof me.length=="number"){H=v.length||0;const we=me.length||0;v.length=H+we;for(let je=0;je<we;je++)v[H+je]=me[je]}else v.push(me)}}class b{constructor(F,H){this.i=F,this.j=H,this.h=0,this.g=null}get(){let F;return this.h>0?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function C(v){o.setTimeout(()=>{throw v},0)}function I(){var v=N;let F=null;return v.g&&(F=v.g,v.g=v.g.next,v.g||(v.h=null),F.next=null),F}class M{constructor(){this.h=this.g=null}add(F,H){const Q=A.get();Q.set(F,H),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var A=new b(()=>new P,v=>v.reset());class P{constructor(){this.next=this.g=this.h=null}set(F,H){this.h=F,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let D,V=!1,N=new M,k=()=>{const v=Promise.resolve(void 0);D=()=>{v.then(R)}};function R(){for(var v;v=I();){try{v.h.call(v.g)}catch(H){C(H)}var F=A;F.j(v),F.h<100&&(F.h++,v.next=F.g,F.g=v)}V=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(v,F){this.type=v,this.g=this.target=F,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var v=!1,F=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const H=()=>{};o.addEventListener("test",H,F),o.removeEventListener("test",H,F)}catch{}return v})();function q(v){return/^[\s\xa0]*$/.test(v)}function he(v,F){L.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,F)}g(he,L),he.prototype.init=function(v,F){const H=this.type=v.type,Q=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=F,F=v.relatedTarget,F||(H=="mouseover"?F=v.fromElement:H=="mouseout"&&(F=v.toElement)),this.relatedTarget=F,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&he.Z.h.call(this)},he.prototype.h=function(){he.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),se=0;function ue(v,F,H,Q,me){this.listener=v,this.proxy=null,this.src=F,this.type=H,this.capture=!!Q,this.ha=me,this.key=++se,this.da=this.fa=!1}function Ce(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function J(v,F,H){for(const Q in v)F.call(H,v[Q],Q,v)}function be(v,F){for(const H in v)F.call(void 0,v[H],H,v)}function j(v){const F={};for(const H in v)F[H]=v[H];return F}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(v,F){let H,Q;for(let me=1;me<arguments.length;me++){Q=arguments[me];for(H in Q)v[H]=Q[H];for(let we=0;we<z.length;we++)H=z[we],Object.prototype.hasOwnProperty.call(Q,H)&&(v[H]=Q[H])}}function ee(v){this.src=v,this.g={},this.h=0}ee.prototype.add=function(v,F,H,Q,me){const we=v.toString();v=this.g[we],v||(v=this.g[we]=[],this.h++);const je=pe(v,F,Q,me);return je>-1?(F=v[je],H||(F.fa=!1)):(F=new ue(F,this.src,we,!!Q,me),F.fa=H,v.push(F)),F};function re(v,F){const H=F.type;if(H in v.g){var Q=v.g[H],me=Array.prototype.indexOf.call(Q,F,void 0),we;(we=me>=0)&&Array.prototype.splice.call(Q,me,1),we&&(Ce(F),v.g[H].length==0&&(delete v.g[H],v.h--))}}function pe(v,F,H,Q){for(let me=0;me<v.length;++me){const we=v[me];if(!we.da&&we.listener==F&&we.capture==!!H&&we.ha==Q)return me}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Re={};function Ae(v,F,H,Q,me){if(Array.isArray(F)){for(let we=0;we<F.length;we++)Ae(v,F[we],H,Q,me);return null}return H=nt(H),v&&v[ae]?v.J(F,H,l(Q)?!!Q.capture:!1,me):Ne(v,F,H,!1,Q,me)}function Ne(v,F,H,Q,me,we){if(!F)throw Error("Invalid event type");const je=l(me)?!!me.capture:!!me;let yt=qe(v);if(yt||(v[ke]=yt=new ee(v)),H=yt.add(F,H,Q,je,we),H.proxy)return H;if(Q=ce(),H.proxy=Q,Q.src=v,Q.listener=H,v.addEventListener)U||(me=je),me===void 0&&(me=!1),v.addEventListener(F.toString(),Q,me);else if(v.attachEvent)v.attachEvent(Fe(F.toString()),Q);else if(v.addListener&&v.removeListener)v.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return H}function ce(){function v(H){return F.call(v.src,v.listener,H)}const F=Ke;return v}function Y(v,F,H,Q,me){if(Array.isArray(F))for(var we=0;we<F.length;we++)Y(v,F[we],H,Q,me);else Q=l(Q)?!!Q.capture:!!Q,H=nt(H),v&&v[ae]?(v=v.i,we=String(F).toString(),we in v.g&&(F=v.g[we],H=pe(F,H,Q,me),H>-1&&(Ce(F[H]),Array.prototype.splice.call(F,H,1),F.length==0&&(delete v.g[we],v.h--)))):v&&(v=qe(v))&&(F=v.g[F.toString()],v=-1,F&&(v=pe(F,H,Q,me)),(H=v>-1?F[v]:null)&&Ie(H))}function Ie(v){if(typeof v!="number"&&v&&!v.da){var F=v.src;if(F&&F[ae])re(F.i,v);else{var H=v.type,Q=v.proxy;F.removeEventListener?F.removeEventListener(H,Q,v.capture):F.detachEvent?F.detachEvent(Fe(H),Q):F.addListener&&F.removeListener&&F.removeListener(Q),(H=qe(F))?(re(H,v),H.h==0&&(H.src=null,F[ke]=null)):Ce(v)}}}function Fe(v){return v in Re?Re[v]:Re[v]="on"+v}function Ke(v,F){if(v.da)v=!0;else{F=new he(F,this);const H=v.listener,Q=v.ha||v.src;v.fa&&Ie(v),v=H.call(Q,F)}return v}function qe(v){return v=v[ke],v instanceof ee?v:null}var He="__closure_events_fn_"+(Math.random()*1e9>>>0);function nt(v){return typeof v=="function"?v:(v[He]||(v[He]=function(F){return v.handleEvent(F)}),v[He])}function Ge(){O.call(this),this.i=new ee(this),this.M=this,this.G=null}g(Ge,O),Ge.prototype[ae]=!0,Ge.prototype.removeEventListener=function(v,F,H,Q){Y(this,v,F,H,Q)};function We(v,F){var H,Q=v.G;if(Q)for(H=[];Q;Q=Q.G)H.push(Q);if(v=v.M,Q=F.type||F,typeof F=="string")F=new L(F,v);else if(F instanceof L)F.target=F.target||v;else{var me=F;F=new L(Q,v),K(F,me)}me=!0;let we,je;if(H)for(je=H.length-1;je>=0;je--)we=F.g=H[je],me=Kt(we,Q,!0,F)&&me;if(we=F.g=v,me=Kt(we,Q,!0,F)&&me,me=Kt(we,Q,!1,F)&&me,H)for(je=0;je<H.length;je++)we=F.g=H[je],me=Kt(we,Q,!1,F)&&me}Ge.prototype.N=function(){if(Ge.Z.N.call(this),this.i){var v=this.i;for(const F in v.g){const H=v.g[F];for(let Q=0;Q<H.length;Q++)Ce(H[Q]);delete v.g[F],v.h--}}this.G=null},Ge.prototype.J=function(v,F,H,Q){return this.i.add(String(v),F,!1,H,Q)},Ge.prototype.K=function(v,F,H,Q){return this.i.add(String(v),F,!0,H,Q)};function Kt(v,F,H,Q){if(F=v.i.g[String(F)],!F)return!0;F=F.concat();let me=!0;for(let we=0;we<F.length;++we){const je=F[we];if(je&&!je.da&&je.capture==H){const yt=je.listener,kn=je.ha||je.src;je.fa&&re(v.i,je),me=yt.call(kn,Q)!==!1&&me}}return me&&!Q.defaultPrevented}function ot(v,F){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=c(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(F)>2147483647?-1:o.setTimeout(v,F||0)}function ut(v){v.g=ot(()=>{v.g=null,v.i&&(v.i=!1,ut(v))},v.l);const F=v.h;v.h=null,v.m.apply(null,F)}class st extends O{constructor(F,H){super(),this.m=F,this.l=H,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:ut(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bt(v){O.call(this),this.h=v,this.g={}}g(bt,O);var dt=[];function tn(v){J(v.g,function(F,H){this.g.hasOwnProperty(H)&&Ie(F)},v),v.g={}}bt.prototype.N=function(){bt.Z.N.call(this),tn(this)},bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wt=o.JSON.stringify,Pn=o.JSON.parse,ht=class{stringify(v){return o.JSON.stringify(v,void 0)}parse(v){return o.JSON.parse(v,void 0)}};function Ut(){}function nn(){}var St={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rn(){L.call(this,"d")}g(rn,L);function kr(){L.call(this,"c")}g(kr,L);var Tn={},Yu=null;function Us(){return Yu=Yu||new Ge}Tn.Ia="serverreachability";function zo(v){L.call(this,Tn.Ia,v)}g(zo,L);function Qr(v){const F=Us();We(F,new zo(F))}Tn.STAT_EVENT="statevent";function Vs(v,F){L.call(this,Tn.STAT_EVENT,v),this.stat=F}g(Vs,L);function bn(v){const F=Us();We(F,new Vs(F,v))}Tn.Ja="timingevent";function Rr(v,F){L.call(this,Tn.Ja,v),this.size=F}g(Rr,L);function pi(v,F){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){v()},F)}function Zr(){this.g=!0}Zr.prototype.ua=function(){this.g=!1};function Ic(v,F,H,Q,me,we){v.info(function(){if(v.g)if(we){var je="",yt=we.split("&");for(let Gt=0;Gt<yt.length;Gt++){var kn=yt[Gt].split("=");if(kn.length>1){const yn=kn[0];kn=kn[1];const yi=yn.split("_");je=yi.length>=2&&yi[1]=="type"?je+(yn+"="+kn+"&"):je+(yn+"=redacted&")}}}else je=null;else je=we;return"XMLHTTP REQ ("+Q+") [attempt "+me+"]: "+F+`
    +*/var s=s||{},o=this||self;function l(v){var O=typeof v;return O=="object"&&v!=null||O=="function"}function f(v,O,H){return v.call.apply(v.bind,arguments)}function c(v,O,H){return c=f,c.apply(null,arguments)}function d(v,O){var H=Array.prototype.slice.call(arguments,1);return function(){var Q=H.slice();return Q.push.apply(Q,arguments),v.apply(this,Q)}}function g(v,O){function H(){}H.prototype=O.prototype,v.Z=O.prototype,v.prototype=new H,v.prototype.constructor=v,v.Ob=function(Q,xe,Se){for(var je=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)je[yt-2]=arguments[yt];return O.prototype[xe].apply(Q,je)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function x(v){const O=v.length;if(O>0){const H=Array(O);for(let Q=0;Q<O;Q++)H[Q]=v[Q];return H}return[]}function _(v,O){for(let Q=1;Q<arguments.length;Q++){const xe=arguments[Q];var H=typeof xe;if(H=H!="object"?H:xe?Array.isArray(xe)?"array":H:"null",H=="array"||H=="object"&&typeof xe.length=="number"){H=v.length||0;const Se=xe.length||0;v.length=H+Se;for(let je=0;je<Se;je++)v[H+je]=xe[je]}else v.push(xe)}}class b{constructor(O,H){this.i=O,this.j=H,this.h=0,this.g=null}get(){let O;return this.h>0?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function C(v){o.setTimeout(()=>{throw v},0)}function I(){var v=N;let O=null;return v.g&&(O=v.g,v.g=v.g.next,v.g||(v.h=null),O.next=null),O}class D{constructor(){this.h=this.g=null}add(O,H){const Q=A.get();Q.set(O,H),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var A=new b(()=>new P,v=>v.reset());class P{constructor(){this.next=this.g=this.h=null}set(O,H){this.h=O,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let M,U=!1,N=new D,k=()=>{const v=Promise.resolve(void 0);M=()=>{v.then(R)}};function R(){for(var v;v=I();){try{v.h.call(v.g)}catch(H){C(H)}var O=A;O.j(v),O.h<100&&(O.h++,v.next=O.g,O.g=v)}U=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(v,O){this.type=v,this.g=this.target=O,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var v=!1,O=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const H=()=>{};o.addEventListener("test",H,O),o.removeEventListener("test",H,O)}catch{}return v})();function q(v){return/^[\s\xa0]*$/.test(v)}function ce(v,O){L.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,O)}g(ce,L),ce.prototype.init=function(v,O){const H=this.type=v.type,Q=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=O,O=v.relatedTarget,O||(H=="mouseover"?O=v.fromElement:H=="mouseout"&&(O=v.toElement)),this.relatedTarget=O,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&ce.Z.h.call(this)},ce.prototype.h=function(){ce.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),ae=0;function se(v,O,H,Q,xe){this.listener=v,this.proxy=null,this.src=O,this.type=H,this.capture=!!Q,this.ha=xe,this.key=++ae,this.da=this.fa=!1}function me(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function X(v,O,H){for(const Q in v)O.call(H,v[Q],Q,v)}function ge(v,O){for(const H in v)O.call(void 0,v[H],H,v)}function G(v){const O={};for(const H in v)O[H]=v[H];return O}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(v,O){let H,Q;for(let xe=1;xe<arguments.length;xe++){Q=arguments[xe];for(H in Q)v[H]=Q[H];for(let Se=0;Se<z.length;Se++)H=z[Se],Object.prototype.hasOwnProperty.call(Q,H)&&(v[H]=Q[H])}}function ee(v){this.src=v,this.g={},this.h=0}ee.prototype.add=function(v,O,H,Q,xe){const Se=v.toString();v=this.g[Se],v||(v=this.g[Se]=[],this.h++);const je=pe(v,O,Q,xe);return je>-1?(O=v[je],H||(O.fa=!1)):(O=new se(O,this.src,Se,!!Q,xe),O.fa=H,v.push(O)),O};function re(v,O){const H=O.type;if(H in v.g){var Q=v.g[H],xe=Array.prototype.indexOf.call(Q,O,void 0),Se;(Se=xe>=0)&&Array.prototype.splice.call(Q,xe,1),Se&&(me(O),v.g[H].length==0&&(delete v.g[H],v.h--))}}function pe(v,O,H,Q){for(let xe=0;xe<v.length;++xe){const Se=v[xe];if(!Se.da&&Se.listener==O&&Se.capture==!!H&&Se.ha==Q)return xe}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Re={};function Ce(v,O,H,Q,xe){if(Array.isArray(O)){for(let Se=0;Se<O.length;Se++)Ce(v,O[Se],H,Q,xe);return null}return H=nt(H),v&&v[oe]?v.J(O,H,l(Q)?!!Q.capture:!1,xe):Ne(v,O,H,!1,Q,xe)}function Ne(v,O,H,Q,xe,Se){if(!O)throw Error("Invalid event type");const je=l(xe)?!!xe.capture:!!xe;let yt=qe(v);if(yt||(v[ke]=yt=new ee(v)),H=yt.add(O,H,Q,je,Se),H.proxy)return H;if(Q=he(),H.proxy=Q,Q.src=v,Q.listener=H,v.addEventListener)F||(xe=je),xe===void 0&&(xe=!1),v.addEventListener(O.toString(),Q,xe);else if(v.attachEvent)v.attachEvent(Fe(O.toString()),Q);else if(v.addListener&&v.removeListener)v.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return H}function he(){function v(H){return O.call(v.src,v.listener,H)}const O=Ke;return v}function Y(v,O,H,Q,xe){if(Array.isArray(O))for(var Se=0;Se<O.length;Se++)Y(v,O[Se],H,Q,xe);else Q=l(Q)?!!Q.capture:!!Q,H=nt(H),v&&v[oe]?(v=v.i,Se=String(O).toString(),Se in v.g&&(O=v.g[Se],H=pe(O,H,Q,xe),H>-1&&(me(O[H]),Array.prototype.splice.call(O,H,1),O.length==0&&(delete v.g[Se],v.h--)))):v&&(v=qe(v))&&(O=v.g[O.toString()],v=-1,O&&(v=pe(O,H,Q,xe)),(H=v>-1?O[v]:null)&&Ie(H))}function Ie(v){if(typeof v!="number"&&v&&!v.da){var O=v.src;if(O&&O[oe])re(O.i,v);else{var H=v.type,Q=v.proxy;O.removeEventListener?O.removeEventListener(H,Q,v.capture):O.detachEvent?O.detachEvent(Fe(H),Q):O.addListener&&O.removeListener&&O.removeListener(Q),(H=qe(O))?(re(H,v),H.h==0&&(H.src=null,O[ke]=null)):me(v)}}}function Fe(v){return v in Re?Re[v]:Re[v]="on"+v}function Ke(v,O){if(v.da)v=!0;else{O=new ce(O,this);const H=v.listener,Q=v.ha||v.src;v.fa&&Ie(v),v=H.call(Q,O)}return v}function qe(v){return v=v[ke],v instanceof ee?v:null}var He="__closure_events_fn_"+(Math.random()*1e9>>>0);function nt(v){return typeof v=="function"?v:(v[He]||(v[He]=function(O){return v.handleEvent(O)}),v[He])}function Ge(){V.call(this),this.i=new ee(this),this.M=this,this.G=null}g(Ge,V),Ge.prototype[oe]=!0,Ge.prototype.removeEventListener=function(v,O,H,Q){Y(this,v,O,H,Q)};function We(v,O){var H,Q=v.G;if(Q)for(H=[];Q;Q=Q.G)H.push(Q);if(v=v.M,Q=O.type||O,typeof O=="string")O=new L(O,v);else if(O instanceof L)O.target=O.target||v;else{var xe=O;O=new L(Q,v),K(O,xe)}xe=!0;let Se,je;if(H)for(je=H.length-1;je>=0;je--)Se=O.g=H[je],xe=Yt(Se,Q,!0,O)&&xe;if(Se=O.g=v,xe=Yt(Se,Q,!0,O)&&xe,xe=Yt(Se,Q,!1,O)&&xe,H)for(je=0;je<H.length;je++)Se=O.g=H[je],xe=Yt(Se,Q,!1,O)&&xe}Ge.prototype.N=function(){if(Ge.Z.N.call(this),this.i){var v=this.i;for(const O in v.g){const H=v.g[O];for(let Q=0;Q<H.length;Q++)me(H[Q]);delete v.g[O],v.h--}}this.G=null},Ge.prototype.J=function(v,O,H,Q){return this.i.add(String(v),O,!1,H,Q)},Ge.prototype.K=function(v,O,H,Q){return this.i.add(String(v),O,!0,H,Q)};function Yt(v,O,H,Q){if(O=v.i.g[String(O)],!O)return!0;O=O.concat();let xe=!0;for(let Se=0;Se<O.length;++Se){const je=O[Se];if(je&&!je.da&&je.capture==H){const yt=je.listener,kn=je.ha||je.src;je.fa&&re(v.i,je),xe=yt.call(kn,Q)!==!1&&xe}}return xe&&!Q.defaultPrevented}function ot(v,O){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=c(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(O)>2147483647?-1:o.setTimeout(v,O||0)}function ut(v){v.g=ot(()=>{v.g=null,v.i&&(v.i=!1,ut(v))},v.l);const O=v.h;v.h=null,v.m.apply(null,O)}class st extends V{constructor(O,H){super(),this.m=O,this.l=H,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:ut(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bt(v){V.call(this),this.h=v,this.g={}}g(bt,V);var dt=[];function tn(v){X(v.g,function(O,H){this.g.hasOwnProperty(H)&&Ie(O)},v),v.g={}}bt.prototype.N=function(){bt.Z.N.call(this),tn(this)},bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wt=o.JSON.stringify,Pn=o.JSON.parse,ht=class{stringify(v){return o.JSON.stringify(v,void 0)}parse(v){return o.JSON.parse(v,void 0)}};function Ut(){}function nn(){}var St={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function rn(){L.call(this,"d")}g(rn,L);function kr(){L.call(this,"c")}g(kr,L);var Tn={},Ju=null;function Vs(){return Ju=Ju||new Ge}Tn.Ia="serverreachability";function Go(v){L.call(this,Tn.Ia,v)}g(Go,L);function Qr(v){const O=Vs();We(O,new Go(O))}Tn.STAT_EVENT="statevent";function Bs(v,O){L.call(this,Tn.STAT_EVENT,v),this.stat=O}g(Bs,L);function bn(v){const O=Vs();We(O,new Bs(O,v))}Tn.Ja="timingevent";function Rr(v,O){L.call(this,Tn.Ja,v),this.size=O}g(Rr,L);function pi(v,O){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){v()},O)}function Zr(){this.g=!0}Zr.prototype.ua=function(){this.g=!1};function kc(v,O,H,Q,xe,Se){v.info(function(){if(v.g)if(Se){var je="",yt=Se.split("&");for(let Gt=0;Gt<yt.length;Gt++){var kn=yt[Gt].split("=");if(kn.length>1){const yn=kn[0];kn=kn[1];const yi=yn.split("_");je=yi.length>=2&&yi[1]=="type"?je+(yn+"="+kn+"&"):je+(yn+"=redacted&")}}}else je=null;else je=Se;return"XMLHTTP REQ ("+Q+") [attempt "+xe+"]: "+O+`
     `+H+`
    -`+je})}function Xu(v,F,H,Q,me,we,je){v.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+me+"]: "+F+`
    +`+je})}function Qu(v,O,H,Q,xe,Se,je){v.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+xe+"]: "+O+`
     `+H+`
    -`+we+" "+je})}function mi(v,F,H,Q){v.info(function(){return"XMLHTTP TEXT ("+F+"): "+kc(v,H)+(Q?" "+Q:"")})}function Bs(v,F){v.info(function(){return"TIMEOUT: "+F})}Zr.prototype.info=function(){};function kc(v,F){if(!v.g)return F;if(!F)return null;try{const we=JSON.parse(F);if(we){for(v=0;v<we.length;v++)if(Array.isArray(we[v])){var H=we[v];if(!(H.length<2)){var Q=H[1];if(Array.isArray(Q)&&!(Q.length<1)){var me=Q[0];if(me!="noop"&&me!="stop"&&me!="close")for(let je=1;je<Q.length;je++)Q[je]=""}}}}return wt(we)}catch{return F}}var qs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Go;function zs(){}g(zs,Ut),zs.prototype.g=function(){return new XMLHttpRequest},Go=new zs;function Li(v){return encodeURIComponent(String(v))}function G(v){var F=1;v=v.split(":");const H=[];for(;F>0&&v.length;)H.push(v.shift()),F--;return v.length&&H.push(v.join(":")),H}function ne(v,F,H,Q){this.j=v,this.i=F,this.l=H,this.S=Q||1,this.V=new bt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new X}function X(){this.i=null,this.g="",this.h=!1}var Z={},te={};function ie(v,F,H){v.M=1,v.A=jo(Ln(F)),v.u=H,v.R=!0,xe(v,null)}function xe(v,F){v.F=Date.now(),_e(v),v.B=Ln(v.A);var H=v.B,Q=v.S;Array.isArray(Q)||(Q=[String(Q)]),Qu(H.i,"t",Q),v.C=0,H=v.j.L,v.h=new X,v.g=ih(v.j,H?F:null,!v.u),v.P>0&&(v.O=new st(c(v.Y,v,v.g),v.P)),F=v.V,H=v.g,Q=v.ba;var me="readystatechange";Array.isArray(me)||(me&&(dt[0]=me.toString()),me=dt);for(let we=0;we<me.length;we++){const je=Ae(H,me[we],Q||F.handleEvent,!1,F.h||F);if(!je)break;F.g[je.key]=je}F=v.J?j(v.J):{},v.u?(v.v||(v.v="POST"),F["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,F)):(v.v="GET",v.g.ea(v.B,v.v,null,F)),Qr(),Ic(v.i,v.v,v.B,v.l,v.S,v.u)}ne.prototype.ba=function(v){v=v.target;const F=this.O;F&&Bi(v)==3?F.j():this.Y(v)},ne.prototype.Y=function(v){try{if(v==this.g)e:{const yt=Bi(this.g),kn=this.g.ya(),Gt=this.g.ca();if(!(yt<3)&&(yt!=3||this.g&&(this.h.h||this.g.la()||rr(this.g)))){this.K||yt!=4||kn==7||(kn==8||Gt<=0?Qr(3):Qr(2)),ze(this);var F=this.g.ca();this.X=F;var H=De(this);if(this.o=F==200,Xu(this.i,this.v,this.B,this.l,this.S,yt,F),this.o){if(this.U&&!this.L){t:{if(this.g){var Q,me=this.g;if((Q=me.g?me.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Q)){var we=Q;break t}}we=null}if(v=we)mi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$e(this,v);else{this.o=!1,this.m=3,bn(12),Ve(this),Ye(this);break e}}if(this.R){v=!0;let yn;for(;!this.K&&this.C<H.length;)if(yn=Te(this,H),yn==te){yt==4&&(this.m=4,bn(14),v=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==Z){this.m=4,bn(15),mi(this.i,this.l,H,"[Invalid Chunk]"),v=!1;break}else mi(this.i,this.l,yn,null),$e(this,yn);if(ye(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||H.length!=0||this.h.h||(this.m=1,bn(16),v=!1),this.o=this.o&&v,!v)mi(this.i,this.l,H,"[Invalid Chunked Response]"),Ve(this),Ye(this);else if(H.length>0&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.aa&&!je.P&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Vc(je),je.P=!0,bn(11))}}else mi(this.i,this.l,H,null),$e(this,H);yt==4&&Ve(this),this.o&&!this.K&&(yt==4?eh(this.j,this):(this.o=!1,_e(this)))}else js(this.g),F==400&&H.indexOf("Unknown SID")>0?(this.m=3,bn(12)):(this.m=0,bn(13)),Ve(this),Ye(this)}}}catch{}finally{}};function De(v){if(!ye(v))return v.g.la();const F=rr(v.g);if(F==="")return"";let H="";const Q=F.length,me=Bi(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return Ve(v),Ye(v),"";v.h.i=new o.TextDecoder}for(let we=0;we<Q;we++)v.h.h=!0,H+=v.h.i.decode(F[we],{stream:!(me&&we==Q-1)});return F.length=0,v.h.g+=H,v.C=0,v.h.g}function ye(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function Te(v,F){var H=v.C,Q=F.indexOf(`
    -`,H);return Q==-1?te:(H=Number(F.substring(H,Q)),isNaN(H)?Z:(Q+=1,Q+H>F.length?te:(F=F.slice(Q,Q+H),v.C=Q+H,F)))}ne.prototype.cancel=function(){this.K=!0,Ve(this)};function _e(v){v.T=Date.now()+v.H,Be(v,v.H)}function Be(v,F){if(v.D!=null)throw Error("WatchDog timer not null");v.D=pi(c(v.aa,v),F)}function ze(v){v.D&&(o.clearTimeout(v.D),v.D=null)}ne.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Bs(this.i,this.B),this.M!=2&&(Qr(),bn(17)),Ve(this),this.m=2,Ye(this)):Be(this,this.T-v)};function Ye(v){v.j.I==0||v.K||eh(v.j,v)}function Ve(v){ze(v);var F=v.O;F&&typeof F.dispose=="function"&&F.dispose(),v.O=null,tn(v.V),v.g&&(F=v.g,v.g=null,F.abort(),F.dispose())}function $e(v,F){try{var H=v.j;if(H.I!=0&&(H.g==v||pr(H.h,v))){if(!v.L&&pr(H.h,v)&&H.I==3){try{var Q=H.Ba.g.parse(F)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var me=Q;if(me[0]==0){e:if(!H.v){if(H.g)if(H.g.F+3e3<v.F)rl(H),Pa(H);else break e;Qo(H),bn(18)}}else H.xa=me[1],0<H.xa-H.K&&me[2]<37500&&H.F&&H.A==0&&!H.C&&(H.C=pi(c(H.Va,H),6e3));cn(H.h)<=1&&H.ta&&(H.ta=void 0)}else ps(H,11)}else if((v.L||H.g==v)&&rl(H),!q(F))for(me=H.Ba.g.parse(F),F=0;F<me.length;F++){let Gt=me[F];const yn=Gt[0];if(!(yn<=H.K))if(H.K=yn,Gt=Gt[1],H.I==2)if(Gt[0]=="c"){H.M=Gt[1],H.ba=Gt[2];const yi=Gt[3];yi!=null&&(H.ka=yi,H.j.info("VER="+H.ka));const ms=Gt[4];ms!=null&&(H.za=ms,H.j.info("SVER="+H.za));const qi=Gt[5];qi!=null&&typeof qi=="number"&&qi>0&&(Q=1.5*qi,H.O=Q,H.j.info("backChannelRequestTimeoutMs_="+Q)),Q=H;const Hi=v.g;if(Hi){const Zo=Hi.g?Hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zo){var we=Q.h;we.g||Zo.indexOf("spdy")==-1&&Zo.indexOf("quic")==-1&&Zo.indexOf("h2")==-1||(we.j=we.l,we.g=new Set,we.h&&(Oi(we,we.h),we.h=null))}if(Q.G){const il=Hi.g?Hi.g.getResponseHeader("X-HTTP-Session-Id"):null;il&&(Q.wa=il,Jt(Q.J,Q.G,il))}}H.I=3,H.l&&H.l.ra(),H.aa&&(H.T=Date.now()-v.F,H.j.info("Handshake RTT: "+H.T+"ms")),Q=H;var je=v;if(Q.na=rh(Q,Q.L?Q.ba:null,Q.W),je.L){Fi(Q.h,je);var yt=je,kn=Q.O;kn&&(yt.H=kn),yt.D&&(ze(yt),_e(yt)),Q.g=je}else Q0(Q);H.i.length>0&&ds(H)}else Gt[0]!="stop"&&Gt[0]!="close"||ps(H,7);else H.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?ps(H,7):Fc(H):Gt[0]!="noop"&&H.l&&H.l.qa(Gt),H.A=0)}}Qr(4)}catch{}}var Ze=class{constructor(v,F){this.g=v,this.map=F}};function Yt(v){this.l=v||10,o.PerformanceNavigationTiming?(v=o.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xt(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function cn(v){return v.h?1:v.g?v.g.size:0}function pr(v,F){return v.h?v.h==F:v.g?v.g.has(F):!1}function Oi(v,F){v.g?v.g.add(F):v.h=F}function Fi(v,F){v.h&&v.h==F?v.h=null:v.g&&v.g.has(F)&&v.g.delete(F)}Yt.prototype.cancel=function(){if(this.i=ei(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function ei(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let F=v.i;for(const H of v.g.values())F=F.concat(H.G);return F}return x(v.i)}var Aa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mr(v,F){if(v){v=v.split("&");for(let H=0;H<v.length;H++){const Q=v[H].indexOf("=");let me,we=null;Q>=0?(me=v[H].substring(0,Q),we=v[H].substring(Q+1)):me=v[H],F(me,we?decodeURIComponent(we.replace(/\+/g," ")):"")}}}function ti(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let F;v instanceof ti?(this.l=v.l,Qn(this,v.j),this.o=v.o,this.g=v.g,Ca(this,v.u),this.h=v.h,Rc(this,X0(v.i)),this.m=v.m):v&&(F=String(v).match(Aa))?(this.l=!1,Qn(this,F[1]||"",!0),this.o=ls(F[2]||""),this.g=ls(F[3]||"",!0),Ca(this,F[4]),this.h=ls(F[5]||"",!0),Rc(this,F[6]||"",!0),this.m=ls(F[7]||"")):(this.l=!1,this.i=new ka(null,this.l))}ti.prototype.toString=function(){const v=[];var F=this.j;F&&v.push($o(F,Ju,!0),":");var H=this.g;return(H||F=="file")&&(v.push("//"),(F=this.o)&&v.push($o(F,Ju,!0),"@"),v.push(Li(H).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H=this.u,H!=null&&v.push(":",String(H))),(H=this.h)&&(this.g&&H.charAt(0)!="/"&&v.push("/"),v.push($o(H,H.charAt(0)=="/"?Nc:W0,!0))),(H=this.i.toString())&&v.push("?",H),(H=this.m)&&v.push("#",$o(H,K0)),v.join("")},ti.prototype.resolve=function(v){const F=Ln(this);let H=!!v.j;H?Qn(F,v.j):H=!!v.o,H?F.o=v.o:H=!!v.g,H?F.g=v.g:H=v.u!=null;var Q=v.h;if(H)Ca(F,v.u);else if(H=!!v.h){if(Q.charAt(0)!="/")if(this.g&&!this.h)Q="/"+Q;else{var me=F.h.lastIndexOf("/");me!=-1&&(Q=F.h.slice(0,me+1)+Q)}if(me=Q,me==".."||me==".")Q="";else if(me.indexOf("./")!=-1||me.indexOf("/.")!=-1){Q=me.lastIndexOf("/",0)==0,me=me.split("/");const we=[];for(let je=0;je<me.length;){const yt=me[je++];yt=="."?Q&&je==me.length&&we.push(""):yt==".."?((we.length>1||we.length==1&&we[0]!="")&&we.pop(),Q&&je==me.length&&we.push("")):(we.push(yt),Q=!0)}Q=we.join("/")}else Q=me}return H?F.h=Q:H=v.i.toString()!=="",H?Rc(F,X0(v.i)):H=!!v.m,H&&(F.m=v.m),F};function Ln(v){return new ti(v)}function Qn(v,F,H){v.j=H?ls(F,!0):F,v.j&&(v.j=v.j.replace(/:$/,""))}function Ca(v,F){if(F){if(F=Number(F),isNaN(F)||F<0)throw Error("Bad port number "+F);v.u=F}else v.u=null}function Rc(v,F,H){F instanceof ka?(v.i=F,Zu(v.i,v.l)):(H||(F=$o(F,Ia)),v.i=new ka(F,v.l))}function Jt(v,F,H){v.i.set(F,H)}function jo(v){return Jt(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function ls(v,F){return v?F?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function $o(v,F,H){return typeof v=="string"?(v=encodeURI(v).replace(F,Vr),H&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Vr(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Ju=/[#\/\?@]/g,W0=/[#\?:]/g,Nc=/[#\?]/g,Ia=/[#\?@]/g,K0=/#/g;function ka(v,F){this.h=this.g=null,this.i=v||null,this.j=!!F}function Br(v){v.g||(v.g=new Map,v.h=0,v.i&&mr(v.i,function(F,H){v.add(decodeURIComponent(F.replace(/\+/g," ")),H)}))}t=ka.prototype,t.add=function(v,F){Br(this),this.i=null,v=Ra(this,v);let H=this.g.get(v);return H||this.g.set(v,H=[]),H.push(F),this.h+=1,this};function Y0(v,F){Br(v),F=Ra(v,F),v.g.has(F)&&(v.i=null,v.h-=v.g.get(F).length,v.g.delete(F))}function Dc(v,F){return Br(v),F=Ra(v,F),v.g.has(F)}t.forEach=function(v,F){Br(this),this.g.forEach(function(H,Q){H.forEach(function(me){v.call(F,me,Q,this)},this)},this)};function Mc(v,F){Br(v);let H=[];if(typeof F=="string")Dc(v,F)&&(H=H.concat(v.g.get(Ra(v,F))));else for(v=Array.from(v.g.values()),F=0;F<v.length;F++)H=H.concat(v[F]);return H}t.set=function(v,F){return Br(this),this.i=null,v=Ra(this,v),Dc(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[F]),this.h+=1,this},t.get=function(v,F){return v?(v=Mc(this,v),v.length>0?String(v[0]):F):F};function Qu(v,F,H){Y0(v,F),H.length>0&&(v.i=null,v.g.set(Ra(v,F),x(H)),v.h+=H.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],F=Array.from(this.g.keys());for(let Q=0;Q<F.length;Q++){var H=F[Q];const me=Li(H);H=Mc(this,H);for(let we=0;we<H.length;we++){let je=me;H[we]!==""&&(je+="="+Li(H[we])),v.push(je)}}return this.i=v.join("&")};function X0(v){const F=new ka;return F.i=v.i,v.g&&(F.g=new Map(v.g),F.h=v.h),F}function Ra(v,F){return F=String(F),v.j&&(F=F.toLowerCase()),F}function Zu(v,F){F&&!v.j&&(Br(v),v.i=null,v.g.forEach(function(H,Q){const me=Q.toLowerCase();Q!=me&&(Y0(this,Q),Qu(this,me,H))},v)),v.j=F}function Ui(v,F){const H=new Zr;if(o.Image){const Q=new Image;Q.onload=d(gi,H,"TestLoadImage: loaded",!0,F,Q),Q.onerror=d(gi,H,"TestLoadImage: error",!1,F,Q),Q.onabort=d(gi,H,"TestLoadImage: abort",!1,F,Q),Q.ontimeout=d(gi,H,"TestLoadImage: timeout",!1,F,Q),o.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=v}else F(!1)}function Pc(v,F){const H=new Zr,Q=new AbortController,me=setTimeout(()=>{Q.abort(),gi(H,"TestPingServer: timeout",!1,F)},1e4);fetch(v,{signal:Q.signal}).then(we=>{clearTimeout(me),we.ok?gi(H,"TestPingServer: ok",!0,F):gi(H,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(me),gi(H,"TestPingServer: error",!1,F)})}function gi(v,F,H,Q,me){try{me&&(me.onload=null,me.onerror=null,me.onabort=null,me.ontimeout=null),Q(H)}catch{}}function Na(){this.g=new ht}function cs(v){this.i=v.Sb||null,this.h=v.ab||!1}g(cs,Ut),cs.prototype.g=function(){return new Wo(this.i,this.h)};function Wo(v,F){Ge.call(this),this.H=v,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Wo,Ge),t=Wo.prototype,t.open=function(v,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=F,this.readyState=1,Vi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const F={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(F.body=v),(this.H||o).fetch(new Request(this.D,F)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Da(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;el(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function el(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var F=v.value?v.value:new Uint8Array(0);(F=this.B.decode(F,{stream:!v.done}))&&(this.response=this.responseText+=F)}v.done?Da(this):Vi(this),this.readyState==3&&el(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,Da(this))},t.Na=function(v){this.g&&(this.response=v,Da(this))},t.ga=function(){this.g&&Da(this)};function Da(v){v.readyState=4,v.l=null,v.j=null,v.B=null,Vi(v)}t.setRequestHeader=function(v,F){this.A.append(v,F)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],F=this.h.entries();for(var H=F.next();!H.done;)H=H.value,v.push(H[0]+": "+H[1]),H=F.next();return v.join(`\r
    -`)};function Vi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Wo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function xi(v){let F="";return J(v,function(H,Q){F+=Q,F+=":",F+=H,F+=`\r
    -`}),F}function Ko(v,F,H){e:{for(Q in H){var Q=!1;break e}Q=!0}Q||(H=xi(H),typeof v=="string"?H!=null&&Li(H):Jt(v,F,H))}function sn(v){Ge.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(sn,Ge);var fs=/^https?$/i,Lc=["POST","PUT"];t=sn.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,F,H,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);F=F?F.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Go.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(F,String(v),!0),this.B=!1}catch(we){Yo(this,we);return}if(v=H||"",H=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var me in Q)H.set(me,Q[me]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const we of Q.keys())H.set(we,Q.get(we));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(H.keys()).find(we=>we.toLowerCase()=="content-type"),me=o.FormData&&v instanceof o.FormData,!(Array.prototype.indexOf.call(Lc,F,void 0)>=0)||Q||me||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[we,je]of H)this.g.setRequestHeader(we,je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(we){Yo(this,we)}};function Yo(v,F){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=F,v.o=5,Oc(v),Gs(v)}function Oc(v){v.A||(v.A=!0,We(v,"complete"),We(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,We(this,"complete"),We(this,"abort"),Gs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gs(this,!0)),sn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Xo(this):this.Xa())},t.Xa=function(){Xo(this)};function Xo(v){if(v.h&&typeof s<"u"){if(v.v&&Bi(v)==4)setTimeout(v.Ca.bind(v),0);else if(We(v,"readystatechange"),Bi(v)==4){v.h=!1;try{const we=v.ca();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var H;if(!(H=F)){var Q;if(Q=we===0){let je=String(v.D).match(Aa)[1]||null;!je&&o.self&&o.self.location&&(je=o.self.location.protocol.slice(0,-1)),Q=!fs.test(je?je.toLowerCase():"")}H=Q}if(H)We(v,"complete"),We(v,"success");else{v.o=6;try{var me=Bi(v)>2?v.g.statusText:""}catch{me=""}v.l=me+" ["+v.ca()+"]",Oc(v)}}finally{Gs(v)}}}}function Gs(v,F){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const H=v.g;v.g=null,F||We(v,"ready");try{H.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Bi(v){return v.g?v.g.readyState:0}t.ca=function(){try{return Bi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var F=this.g.responseText;return v&&F.indexOf(v)==0&&(F=F.substring(v.length)),Pn(F)}};function rr(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function js(v){const F={};v=(v.g&&Bi(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
    -`);for(let Q=0;Q<v.length;Q++){if(q(v[Q]))continue;var H=G(v[Q]);const me=H[0];if(H=H[1],typeof H!="string")continue;H=H.trim();const we=F[me]||[];F[me]=we,we.push(H)}be(F,function(Q){return Q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hs(v,F,H){return H&&H.internalChannelParams&&H.internalChannelParams[v]||F}function Ma(v){this.za=0,this.i=[],this.j=new Zr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hs("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hs("baseRetryDelayMs",5e3,v),this.Za=hs("retryDelaySeedMs",1e4,v),this.Ta=hs("forwardChannelMaxRetries",2,v),this.va=hs("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new Yt(v&&v.concurrentRequestLimit),this.Ba=new Na,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ma.prototype,t.ka=8,t.I=1,t.connect=function(v,F,H,Q){bn(0),this.W=v,this.H=F||{},H&&Q!==void 0&&(this.H.OSID=H,this.H.OAID=Q),this.F=this.X,this.J=rh(this,null,this.W),ds(this)};function Fc(v){if(tl(v),v.I==3){var F=v.V++,H=Ln(v.J);if(Jt(H,"SID",v.M),Jt(H,"RID",F),Jt(H,"TYPE","terminate"),Jo(v,H),F=new ne(v,v.j,F),F.M=2,F.A=jo(Ln(H)),H=!1,o.navigator&&o.navigator.sendBeacon)try{H=o.navigator.sendBeacon(F.A.toString(),"")}catch{}!H&&o.Image&&(new Image().src=F.A,H=!0),H||(F.g=ih(F.j,null),F.g.ea(F.A)),F.F=Date.now(),_e(F)}nh(v)}function Pa(v){v.g&&(Vc(v),v.g.cancel(),v.g=null)}function tl(v){Pa(v),v.v&&(o.clearTimeout(v.v),v.v=null),rl(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&o.clearTimeout(v.m),v.m=null)}function ds(v){if(!Xt(v.h)&&!v.m){v.m=!0;var F=v.Ea;D||k(),V||(D(),V=!0),N.add(F,v),v.D=0}}function nl(v,F){return cn(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=F.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=pi(c(v.Ea,v,F),th(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const me=new ne(this,this.j,v);let we=this.o;if(this.U&&(we?(we=j(we),K(we,this.U)):we=this.U),this.u!==null||this.R||(me.J=we,we=null),this.S)e:{for(var F=0,H=0;H<this.i.length;H++){t:{var Q=this.i[H];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(F+=Q,F>4096){F=H;break e}if(F===4096||H===this.i.length-1){F=H+1;break e}}F=1e3}else F=1e3;F=J0(this,me,F),H=Ln(this.J),Jt(H,"RID",v),Jt(H,"CVER",22),this.G&&Jt(H,"X-HTTP-Session-Id",this.G),Jo(this,H),we&&(this.R?F="headers="+Li(xi(we))+"&"+F:this.u&&Ko(H,this.u,we)),Oi(this.h,me),this.Ra&&Jt(H,"TYPE","init"),this.S?(Jt(H,"$req",F),Jt(H,"SID","null"),me.U=!0,ie(me,H,null)):ie(me,H,F),this.I=2}}else this.I==3&&(v?Uc(this,v):this.i.length==0||Xt(this.h)||Uc(this))};function Uc(v,F){var H;F?H=F.l:H=v.V++;const Q=Ln(v.J);Jt(Q,"SID",v.M),Jt(Q,"RID",H),Jt(Q,"AID",v.K),Jo(v,Q),v.u&&v.o&&Ko(Q,v.u,v.o),H=new ne(v,v.j,H,v.D+1),v.u===null&&(H.J=v.o),F&&(v.i=F.G.concat(v.i)),F=J0(v,H,1e3),H.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),Oi(v.h,H),ie(H,Q,F)}function Jo(v,F){v.H&&J(v.H,function(H,Q){Jt(F,Q,H)}),v.l&&J({},function(H,Q){Jt(F,Q,H)})}function J0(v,F,H){H=Math.min(v.i.length,H);const Q=v.l?c(v.l.Ka,v.l,v):null;e:{var me=v.i;let yt=-1;for(;;){const kn=["count="+H];yt==-1?H>0?(yt=me[0].g,kn.push("ofs="+yt)):yt=0:kn.push("ofs="+yt);let Gt=!0;for(let yn=0;yn<H;yn++){var we=me[yn].g;const yi=me[yn].map;if(we-=yt,we<0)yt=Math.max(0,me[yn].g-100),Gt=!1;else try{we="req"+we+"_"||"";try{var je=yi instanceof Map?yi:Object.entries(yi);for(const[ms,qi]of je){let Hi=qi;l(qi)&&(Hi=wt(qi)),kn.push(we+ms+"="+encodeURIComponent(Hi))}}catch(ms){throw kn.push(we+"type="+encodeURIComponent("_badmap")),ms}}catch{Q&&Q(yi)}}if(Gt){je=kn.join("&");break e}}je=void 0}return v=v.i.splice(0,H),F.G=v,je}function Q0(v){if(!v.g&&!v.v){v.Y=1;var F=v.Da;D||k(),V||(D(),V=!0),N.add(F,v),v.A=0}}function Qo(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=pi(c(v.Da,v),th(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,Z0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=pi(c(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bn(10),Pa(this),Z0(this))};function Vc(v){v.B!=null&&(o.clearTimeout(v.B),v.B=null)}function Z0(v){v.g=new ne(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var F=Ln(v.na);Jt(F,"RID","rpc"),Jt(F,"SID",v.M),Jt(F,"AID",v.K),Jt(F,"CI",v.F?"0":"1"),!v.F&&v.ia&&Jt(F,"TO",v.ia),Jt(F,"TYPE","xmlhttp"),Jo(v,F),v.u&&v.o&&Ko(F,v.u,v.o),v.O&&(v.g.H=v.O);var H=v.g;v=v.ba,H.M=1,H.A=jo(Ln(F)),H.u=null,H.R=!0,xe(H,v)}t.Va=function(){this.C!=null&&(this.C=null,Pa(this),Qo(this),bn(19))};function rl(v){v.C!=null&&(o.clearTimeout(v.C),v.C=null)}function eh(v,F){var H=null;if(v.g==F){rl(v),Vc(v),v.g=null;var Q=2}else if(pr(v.h,F))H=F.G,Fi(v.h,F),Q=1;else return;if(v.I!=0){if(F.o)if(Q==1){H=F.u?F.u.length:0,F=Date.now()-F.F;var me=v.D;Q=Us(),We(Q,new Rr(Q,H)),ds(v)}else Q0(v);else if(me=F.m,me==3||me==0&&F.X>0||!(Q==1&&nl(v,F)||Q==2&&Qo(v)))switch(H&&H.length>0&&(F=v.h,F.i=F.i.concat(H)),me){case 1:ps(v,5);break;case 4:ps(v,10);break;case 3:ps(v,6);break;default:ps(v,2)}}}function th(v,F){let H=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(H*=2),H*F}function ps(v,F){if(v.j.info("Error code "+F),F==2){var H=c(v.bb,v),Q=v.Ua;const me=!Q;Q=new ti(Q||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Qn(Q,"https"),jo(Q),me?Ui(Q.toString(),H):Pc(Q.toString(),H)}else bn(2);v.I=0,v.l&&v.l.pa(F),nh(v),tl(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),bn(2)):(this.j.info("Failed to ping google.com"),bn(1))};function nh(v){if(v.I=0,v.ja=[],v.l){const F=ei(v.h);(F.length!=0||v.i.length!=0)&&(_(v.ja,F),_(v.ja,v.i),v.h.i.length=0,x(v.i),v.i.length=0),v.l.oa()}}function rh(v,F,H){var Q=H instanceof ti?Ln(H):new ti(H);if(Q.g!="")F&&(Q.g=F+"."+Q.g),Ca(Q,Q.u);else{var me=o.location;Q=me.protocol,F=F?F+"."+me.hostname:me.hostname,me=+me.port;const we=new ti(null);Q&&Qn(we,Q),F&&(we.g=F),me&&Ca(we,me),H&&(we.h=H),Q=we}return H=v.G,F=v.wa,H&&F&&Jt(Q,H,F),Jt(Q,"VER",v.ka),Jo(v,Q),Q}function ih(v,F,H){if(F&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return F=v.Aa&&!v.ma?new sn(new cs({ab:H})):new sn(v.ma),F.Fa(v.L),F}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sh(){}t=sh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function La(){}La.prototype.g=function(v,F){return new Nr(v,F)};function Nr(v,F){Ge.call(this),this.g=new Ma(F),this.l=v,this.h=F&&F.messageUrlParams||null,v=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(v?v["X-WebChannel-Content-Type"]=F.messageContentType:v={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.sa&&(v?v["X-WebChannel-Client-Profile"]=F.sa:v={"X-WebChannel-Client-Profile":F.sa}),this.g.U=v,(v=F&&F.Qb)&&!q(v)&&(this.g.u=v),this.A=F&&F.supportsCrossDomainXhr||!1,this.v=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!q(F)&&(this.g.G=F,v=this.h,v!==null&&F in v&&(v=this.h,F in v&&delete v[F])),this.j=new $s(this)}g(Nr,Ge),Nr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nr.prototype.close=function(){Fc(this.g)},Nr.prototype.o=function(v){var F=this.g;if(typeof v=="string"){var H={};H.__data__=v,v=H}else this.v&&(H={},H.__data__=wt(v),v=H);F.i.push(new Ze(F.Ya++,v)),F.I==3&&ds(F)},Nr.prototype.N=function(){this.g.l=null,delete this.j,Fc(this.g),delete this.g,Nr.Z.N.call(this)};function ah(v){rn.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var F=v.__sm__;if(F){e:{for(const H in F){v=H;break e}v=void 0}(this.i=v)&&(v=this.i,F=F!==null&&v in F?F[v]:void 0),this.data=F}else this.data=v}g(ah,rn);function oh(){kr.call(this),this.status=1}g(oh,kr);function $s(v){this.g=v}g($s,sh),$s.prototype.ra=function(){We(this.g,"a")},$s.prototype.qa=function(v){We(this.g,new ah(v))},$s.prototype.pa=function(v){We(this.g,new oh)},$s.prototype.oa=function(){We(this.g,"b")},La.prototype.createWebChannel=La.prototype.g,Nr.prototype.send=Nr.prototype.o,Nr.prototype.open=Nr.prototype.m,Nr.prototype.close=Nr.prototype.close,g4=function(){return new La},m4=function(){return Us()},p4=Tn,Hx={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qs.NO_ERROR=0,qs.TIMEOUT=8,qs.HTTP_ERROR=6,Bd=qs,Hs.COMPLETE="complete",d4=Hs,nn.EventType=St,St.OPEN="a",St.CLOSE="b",St.ERROR="c",St.MESSAGE="d",Ge.prototype.listen=Ge.prototype.J,Rf=nn,sn.prototype.listenOnce=sn.prototype.K,sn.prototype.getLastError=sn.prototype.Ha,sn.prototype.getLastErrorCode=sn.prototype.ya,sn.prototype.getStatus=sn.prototype.ca,sn.prototype.getResponseJson=sn.prototype.La,sn.prototype.getResponseText=sn.prototype.la,sn.prototype.send=sn.prototype.ea,sn.prototype.setWithCredentials=sn.prototype.Fa,h4=sn}).apply(typeof hd<"u"?hd:typeof self<"u"?self:typeof window<"u"?window:{});const Pb="@firebase/firestore",Lb="4.9.2";/**
    +`+Se+" "+je})}function mi(v,O,H,Q){v.info(function(){return"XMLHTTP TEXT ("+O+"): "+Rc(v,H)+(Q?" "+Q:"")})}function qs(v,O){v.info(function(){return"TIMEOUT: "+O})}Zr.prototype.info=function(){};function Rc(v,O){if(!v.g)return O;if(!O)return null;try{const Se=JSON.parse(O);if(Se){for(v=0;v<Se.length;v++)if(Array.isArray(Se[v])){var H=Se[v];if(!(H.length<2)){var Q=H[1];if(Array.isArray(Q)&&!(Q.length<1)){var xe=Q[0];if(xe!="noop"&&xe!="stop"&&xe!="close")for(let je=1;je<Q.length;je++)Q[je]=""}}}}return wt(Se)}catch{return O}}var Hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jo;function Gs(){}g(Gs,Ut),Gs.prototype.g=function(){return new XMLHttpRequest},jo=new Gs;function Li(v){return encodeURIComponent(String(v))}function j(v){var O=1;v=v.split(":");const H=[];for(;O>0&&v.length;)H.push(v.shift()),O--;return v.length&&H.push(v.join(":")),H}function ne(v,O,H,Q){this.j=v,this.i=O,this.l=H,this.S=Q||1,this.V=new bt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new J}function J(){this.i=null,this.g="",this.h=!1}var Z={},te={};function ie(v,O,H){v.M=1,v.A=$o(Ln(O)),v.u=H,v.R=!0,ve(v,null)}function ve(v,O){v.F=Date.now(),Ee(v),v.B=Ln(v.A);var H=v.B,Q=v.S;Array.isArray(Q)||(Q=[String(Q)]),el(H.i,"t",Q),v.C=0,H=v.j.L,v.h=new J,v.g=sh(v.j,H?O:null,!v.u),v.P>0&&(v.O=new st(c(v.Y,v,v.g),v.P)),O=v.V,H=v.g,Q=v.ba;var xe="readystatechange";Array.isArray(xe)||(xe&&(dt[0]=xe.toString()),xe=dt);for(let Se=0;Se<xe.length;Se++){const je=Ce(H,xe[Se],Q||O.handleEvent,!1,O.h||O);if(!je)break;O.g[je.key]=je}O=v.J?G(v.J):{},v.u?(v.v||(v.v="POST"),O["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,O)):(v.v="GET",v.g.ea(v.B,v.v,null,O)),Qr(),kc(v.i,v.v,v.B,v.l,v.S,v.u)}ne.prototype.ba=function(v){v=v.target;const O=this.O;O&&Bi(v)==3?O.j():this.Y(v)},ne.prototype.Y=function(v){try{if(v==this.g)e:{const yt=Bi(this.g),kn=this.g.ya(),Gt=this.g.ca();if(!(yt<3)&&(yt!=3||this.g&&(this.h.h||this.g.la()||rr(this.g)))){this.K||yt!=4||kn==7||(kn==8||Gt<=0?Qr(3):Qr(2)),ze(this);var O=this.g.ca();this.X=O;var H=De(this);if(this.o=O==200,Qu(this.i,this.v,this.B,this.l,this.S,yt,O),this.o){if(this.U&&!this.L){t:{if(this.g){var Q,xe=this.g;if((Q=xe.g?xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Q)){var Se=Q;break t}}Se=null}if(v=Se)mi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$e(this,v);else{this.o=!1,this.m=3,bn(12),Ve(this),Ye(this);break e}}if(this.R){v=!0;let yn;for(;!this.K&&this.C<H.length;)if(yn=be(this,H),yn==te){yt==4&&(this.m=4,bn(14),v=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==Z){this.m=4,bn(15),mi(this.i,this.l,H,"[Invalid Chunk]"),v=!1;break}else mi(this.i,this.l,yn,null),$e(this,yn);if(_e(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||H.length!=0||this.h.h||(this.m=1,bn(16),v=!1),this.o=this.o&&v,!v)mi(this.i,this.l,H,"[Invalid Chunked Response]"),Ve(this),Ye(this);else if(H.length>0&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.aa&&!je.P&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Bc(je),je.P=!0,bn(11))}}else mi(this.i,this.l,H,null),$e(this,H);yt==4&&Ve(this),this.o&&!this.K&&(yt==4?th(this.j,this):(this.o=!1,Ee(this)))}else $s(this.g),O==400&&H.indexOf("Unknown SID")>0?(this.m=3,bn(12)):(this.m=0,bn(13)),Ve(this),Ye(this)}}}catch{}finally{}};function De(v){if(!_e(v))return v.g.la();const O=rr(v.g);if(O==="")return"";let H="";const Q=O.length,xe=Bi(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return Ve(v),Ye(v),"";v.h.i=new o.TextDecoder}for(let Se=0;Se<Q;Se++)v.h.h=!0,H+=v.h.i.decode(O[Se],{stream:!(xe&&Se==Q-1)});return O.length=0,v.h.g+=H,v.C=0,v.h.g}function _e(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function be(v,O){var H=v.C,Q=O.indexOf(`
    +`,H);return Q==-1?te:(H=Number(O.substring(H,Q)),isNaN(H)?Z:(Q+=1,Q+H>O.length?te:(O=O.slice(Q,Q+H),v.C=Q+H,O)))}ne.prototype.cancel=function(){this.K=!0,Ve(this)};function Ee(v){v.T=Date.now()+v.H,Be(v,v.H)}function Be(v,O){if(v.D!=null)throw Error("WatchDog timer not null");v.D=pi(c(v.aa,v),O)}function ze(v){v.D&&(o.clearTimeout(v.D),v.D=null)}ne.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(qs(this.i,this.B),this.M!=2&&(Qr(),bn(17)),Ve(this),this.m=2,Ye(this)):Be(this,this.T-v)};function Ye(v){v.j.I==0||v.K||th(v.j,v)}function Ve(v){ze(v);var O=v.O;O&&typeof O.dispose=="function"&&O.dispose(),v.O=null,tn(v.V),v.g&&(O=v.g,v.g=null,O.abort(),O.dispose())}function $e(v,O){try{var H=v.j;if(H.I!=0&&(H.g==v||pr(H.h,v))){if(!v.L&&pr(H.h,v)&&H.I==3){try{var Q=H.Ba.g.parse(O)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var xe=Q;if(xe[0]==0){e:if(!H.v){if(H.g)if(H.g.F+3e3<v.F)sl(H),La(H);else break e;Zo(H),bn(18)}}else H.xa=xe[1],0<H.xa-H.K&&xe[2]<37500&&H.F&&H.A==0&&!H.C&&(H.C=pi(c(H.Va,H),6e3));cn(H.h)<=1&&H.ta&&(H.ta=void 0)}else ps(H,11)}else if((v.L||H.g==v)&&sl(H),!q(O))for(xe=H.Ba.g.parse(O),O=0;O<xe.length;O++){let Gt=xe[O];const yn=Gt[0];if(!(yn<=H.K))if(H.K=yn,Gt=Gt[1],H.I==2)if(Gt[0]=="c"){H.M=Gt[1],H.ba=Gt[2];const yi=Gt[3];yi!=null&&(H.ka=yi,H.j.info("VER="+H.ka));const ms=Gt[4];ms!=null&&(H.za=ms,H.j.info("SVER="+H.za));const qi=Gt[5];qi!=null&&typeof qi=="number"&&qi>0&&(Q=1.5*qi,H.O=Q,H.j.info("backChannelRequestTimeoutMs_="+Q)),Q=H;const Hi=v.g;if(Hi){const eu=Hi.g?Hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(eu){var Se=Q.h;Se.g||eu.indexOf("spdy")==-1&&eu.indexOf("quic")==-1&&eu.indexOf("h2")==-1||(Se.j=Se.l,Se.g=new Set,Se.h&&(Oi(Se,Se.h),Se.h=null))}if(Q.G){const al=Hi.g?Hi.g.getResponseHeader("X-HTTP-Session-Id"):null;al&&(Q.wa=al,Qt(Q.J,Q.G,al))}}H.I=3,H.l&&H.l.ra(),H.aa&&(H.T=Date.now()-v.F,H.j.info("Handshake RTT: "+H.T+"ms")),Q=H;var je=v;if(Q.na=ih(Q,Q.L?Q.ba:null,Q.W),je.L){Fi(Q.h,je);var yt=je,kn=Q.O;kn&&(yt.H=kn),yt.D&&(ze(yt),Ee(yt)),Q.g=je}else Z0(Q);H.i.length>0&&ds(H)}else Gt[0]!="stop"&&Gt[0]!="close"||ps(H,7);else H.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?ps(H,7):Uc(H):Gt[0]!="noop"&&H.l&&H.l.qa(Gt),H.A=0)}}Qr(4)}catch{}}var Ze=class{constructor(v,O){this.g=v,this.map=O}};function Xt(v){this.l=v||10,o.PerformanceNavigationTiming?(v=o.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jt(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function cn(v){return v.h?1:v.g?v.g.size:0}function pr(v,O){return v.h?v.h==O:v.g?v.g.has(O):!1}function Oi(v,O){v.g?v.g.add(O):v.h=O}function Fi(v,O){v.h&&v.h==O?v.h=null:v.g&&v.g.has(O)&&v.g.delete(O)}Xt.prototype.cancel=function(){if(this.i=ei(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function ei(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let O=v.i;for(const H of v.g.values())O=O.concat(H.G);return O}return x(v.i)}var Ca=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mr(v,O){if(v){v=v.split("&");for(let H=0;H<v.length;H++){const Q=v[H].indexOf("=");let xe,Se=null;Q>=0?(xe=v[H].substring(0,Q),Se=v[H].substring(Q+1)):xe=v[H],O(xe,Se?decodeURIComponent(Se.replace(/\+/g," ")):"")}}}function ti(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let O;v instanceof ti?(this.l=v.l,Qn(this,v.j),this.o=v.o,this.g=v.g,Ia(this,v.u),this.h=v.h,Nc(this,J0(v.i)),this.m=v.m):v&&(O=String(v).match(Ca))?(this.l=!1,Qn(this,O[1]||"",!0),this.o=ls(O[2]||""),this.g=ls(O[3]||"",!0),Ia(this,O[4]),this.h=ls(O[5]||"",!0),Nc(this,O[6]||"",!0),this.m=ls(O[7]||"")):(this.l=!1,this.i=new Ra(null,this.l))}ti.prototype.toString=function(){const v=[];var O=this.j;O&&v.push(Wo(O,Zu,!0),":");var H=this.g;return(H||O=="file")&&(v.push("//"),(O=this.o)&&v.push(Wo(O,Zu,!0),"@"),v.push(Li(H).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H=this.u,H!=null&&v.push(":",String(H))),(H=this.h)&&(this.g&&H.charAt(0)!="/"&&v.push("/"),v.push(Wo(H,H.charAt(0)=="/"?Dc:K0,!0))),(H=this.i.toString())&&v.push("?",H),(H=this.m)&&v.push("#",Wo(H,Y0)),v.join("")},ti.prototype.resolve=function(v){const O=Ln(this);let H=!!v.j;H?Qn(O,v.j):H=!!v.o,H?O.o=v.o:H=!!v.g,H?O.g=v.g:H=v.u!=null;var Q=v.h;if(H)Ia(O,v.u);else if(H=!!v.h){if(Q.charAt(0)!="/")if(this.g&&!this.h)Q="/"+Q;else{var xe=O.h.lastIndexOf("/");xe!=-1&&(Q=O.h.slice(0,xe+1)+Q)}if(xe=Q,xe==".."||xe==".")Q="";else if(xe.indexOf("./")!=-1||xe.indexOf("/.")!=-1){Q=xe.lastIndexOf("/",0)==0,xe=xe.split("/");const Se=[];for(let je=0;je<xe.length;){const yt=xe[je++];yt=="."?Q&&je==xe.length&&Se.push(""):yt==".."?((Se.length>1||Se.length==1&&Se[0]!="")&&Se.pop(),Q&&je==xe.length&&Se.push("")):(Se.push(yt),Q=!0)}Q=Se.join("/")}else Q=xe}return H?O.h=Q:H=v.i.toString()!=="",H?Nc(O,J0(v.i)):H=!!v.m,H&&(O.m=v.m),O};function Ln(v){return new ti(v)}function Qn(v,O,H){v.j=H?ls(O,!0):O,v.j&&(v.j=v.j.replace(/:$/,""))}function Ia(v,O){if(O){if(O=Number(O),isNaN(O)||O<0)throw Error("Bad port number "+O);v.u=O}else v.u=null}function Nc(v,O,H){O instanceof Ra?(v.i=O,tl(v.i,v.l)):(H||(O=Wo(O,ka)),v.i=new Ra(O,v.l))}function Qt(v,O,H){v.i.set(O,H)}function $o(v){return Qt(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function ls(v,O){return v?O?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Wo(v,O,H){return typeof v=="string"?(v=encodeURI(v).replace(O,Vr),H&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Vr(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Zu=/[#\/\?@]/g,K0=/[#\?:]/g,Dc=/[#\?]/g,ka=/[#\?@]/g,Y0=/#/g;function Ra(v,O){this.h=this.g=null,this.i=v||null,this.j=!!O}function Br(v){v.g||(v.g=new Map,v.h=0,v.i&&mr(v.i,function(O,H){v.add(decodeURIComponent(O.replace(/\+/g," ")),H)}))}t=Ra.prototype,t.add=function(v,O){Br(this),this.i=null,v=Na(this,v);let H=this.g.get(v);return H||this.g.set(v,H=[]),H.push(O),this.h+=1,this};function X0(v,O){Br(v),O=Na(v,O),v.g.has(O)&&(v.i=null,v.h-=v.g.get(O).length,v.g.delete(O))}function Mc(v,O){return Br(v),O=Na(v,O),v.g.has(O)}t.forEach=function(v,O){Br(this),this.g.forEach(function(H,Q){H.forEach(function(xe){v.call(O,xe,Q,this)},this)},this)};function Pc(v,O){Br(v);let H=[];if(typeof O=="string")Mc(v,O)&&(H=H.concat(v.g.get(Na(v,O))));else for(v=Array.from(v.g.values()),O=0;O<v.length;O++)H=H.concat(v[O]);return H}t.set=function(v,O){return Br(this),this.i=null,v=Na(this,v),Mc(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[O]),this.h+=1,this},t.get=function(v,O){return v?(v=Pc(this,v),v.length>0?String(v[0]):O):O};function el(v,O,H){X0(v,O),H.length>0&&(v.i=null,v.g.set(Na(v,O),x(H)),v.h+=H.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],O=Array.from(this.g.keys());for(let Q=0;Q<O.length;Q++){var H=O[Q];const xe=Li(H);H=Pc(this,H);for(let Se=0;Se<H.length;Se++){let je=xe;H[Se]!==""&&(je+="="+Li(H[Se])),v.push(je)}}return this.i=v.join("&")};function J0(v){const O=new Ra;return O.i=v.i,v.g&&(O.g=new Map(v.g),O.h=v.h),O}function Na(v,O){return O=String(O),v.j&&(O=O.toLowerCase()),O}function tl(v,O){O&&!v.j&&(Br(v),v.i=null,v.g.forEach(function(H,Q){const xe=Q.toLowerCase();Q!=xe&&(X0(this,Q),el(this,xe,H))},v)),v.j=O}function Ui(v,O){const H=new Zr;if(o.Image){const Q=new Image;Q.onload=d(gi,H,"TestLoadImage: loaded",!0,O,Q),Q.onerror=d(gi,H,"TestLoadImage: error",!1,O,Q),Q.onabort=d(gi,H,"TestLoadImage: abort",!1,O,Q),Q.ontimeout=d(gi,H,"TestLoadImage: timeout",!1,O,Q),o.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=v}else O(!1)}function Lc(v,O){const H=new Zr,Q=new AbortController,xe=setTimeout(()=>{Q.abort(),gi(H,"TestPingServer: timeout",!1,O)},1e4);fetch(v,{signal:Q.signal}).then(Se=>{clearTimeout(xe),Se.ok?gi(H,"TestPingServer: ok",!0,O):gi(H,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(xe),gi(H,"TestPingServer: error",!1,O)})}function gi(v,O,H,Q,xe){try{xe&&(xe.onload=null,xe.onerror=null,xe.onabort=null,xe.ontimeout=null),Q(H)}catch{}}function Da(){this.g=new ht}function cs(v){this.i=v.Sb||null,this.h=v.ab||!1}g(cs,Ut),cs.prototype.g=function(){return new Ko(this.i,this.h)};function Ko(v,O){Ge.call(this),this.H=v,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Ko,Ge),t=Ko.prototype,t.open=function(v,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=O,this.readyState=1,Vi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const O={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(O.body=v),(this.H||o).fetch(new Request(this.D,O)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ma(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;nl(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function nl(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var O=v.value?v.value:new Uint8Array(0);(O=this.B.decode(O,{stream:!v.done}))&&(this.response=this.responseText+=O)}v.done?Ma(this):Vi(this),this.readyState==3&&nl(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,Ma(this))},t.Na=function(v){this.g&&(this.response=v,Ma(this))},t.ga=function(){this.g&&Ma(this)};function Ma(v){v.readyState=4,v.l=null,v.j=null,v.B=null,Vi(v)}t.setRequestHeader=function(v,O){this.A.append(v,O)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],O=this.h.entries();for(var H=O.next();!H.done;)H=H.value,v.push(H[0]+": "+H[1]),H=O.next();return v.join(`\r
    +`)};function Vi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Ko.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function xi(v){let O="";return X(v,function(H,Q){O+=Q,O+=":",O+=H,O+=`\r
    +`}),O}function Yo(v,O,H){e:{for(Q in H){var Q=!1;break e}Q=!0}Q||(H=xi(H),typeof v=="string"?H!=null&&Li(H):Qt(v,O,H))}function sn(v){Ge.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(sn,Ge);var fs=/^https?$/i,Oc=["POST","PUT"];t=sn.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,O,H,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);O=O?O.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jo.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(O,String(v),!0),this.B=!1}catch(Se){Xo(this,Se);return}if(v=H||"",H=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var xe in Q)H.set(xe,Q[xe]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const Se of Q.keys())H.set(Se,Q.get(Se));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(H.keys()).find(Se=>Se.toLowerCase()=="content-type"),xe=o.FormData&&v instanceof o.FormData,!(Array.prototype.indexOf.call(Oc,O,void 0)>=0)||Q||xe||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Se,je]of H)this.g.setRequestHeader(Se,je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(Se){Xo(this,Se)}};function Xo(v,O){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=O,v.o=5,Fc(v),js(v)}function Fc(v){v.A||(v.A=!0,We(v,"complete"),We(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,We(this,"complete"),We(this,"abort"),js(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),js(this,!0)),sn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Jo(this):this.Xa())},t.Xa=function(){Jo(this)};function Jo(v){if(v.h&&typeof s<"u"){if(v.v&&Bi(v)==4)setTimeout(v.Ca.bind(v),0);else if(We(v,"readystatechange"),Bi(v)==4){v.h=!1;try{const Se=v.ca();e:switch(Se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var H;if(!(H=O)){var Q;if(Q=Se===0){let je=String(v.D).match(Ca)[1]||null;!je&&o.self&&o.self.location&&(je=o.self.location.protocol.slice(0,-1)),Q=!fs.test(je?je.toLowerCase():"")}H=Q}if(H)We(v,"complete"),We(v,"success");else{v.o=6;try{var xe=Bi(v)>2?v.g.statusText:""}catch{xe=""}v.l=xe+" ["+v.ca()+"]",Fc(v)}}finally{js(v)}}}}function js(v,O){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const H=v.g;v.g=null,O||We(v,"ready");try{H.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Bi(v){return v.g?v.g.readyState:0}t.ca=function(){try{return Bi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var O=this.g.responseText;return v&&O.indexOf(v)==0&&(O=O.substring(v.length)),Pn(O)}};function rr(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function $s(v){const O={};v=(v.g&&Bi(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
    +`);for(let Q=0;Q<v.length;Q++){if(q(v[Q]))continue;var H=j(v[Q]);const xe=H[0];if(H=H[1],typeof H!="string")continue;H=H.trim();const Se=O[xe]||[];O[xe]=Se,Se.push(H)}ge(O,function(Q){return Q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hs(v,O,H){return H&&H.internalChannelParams&&H.internalChannelParams[v]||O}function Pa(v){this.za=0,this.i=[],this.j=new Zr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hs("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hs("baseRetryDelayMs",5e3,v),this.Za=hs("retryDelaySeedMs",1e4,v),this.Ta=hs("forwardChannelMaxRetries",2,v),this.va=hs("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new Xt(v&&v.concurrentRequestLimit),this.Ba=new Da,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Pa.prototype,t.ka=8,t.I=1,t.connect=function(v,O,H,Q){bn(0),this.W=v,this.H=O||{},H&&Q!==void 0&&(this.H.OSID=H,this.H.OAID=Q),this.F=this.X,this.J=ih(this,null,this.W),ds(this)};function Uc(v){if(rl(v),v.I==3){var O=v.V++,H=Ln(v.J);if(Qt(H,"SID",v.M),Qt(H,"RID",O),Qt(H,"TYPE","terminate"),Qo(v,H),O=new ne(v,v.j,O),O.M=2,O.A=$o(Ln(H)),H=!1,o.navigator&&o.navigator.sendBeacon)try{H=o.navigator.sendBeacon(O.A.toString(),"")}catch{}!H&&o.Image&&(new Image().src=O.A,H=!0),H||(O.g=sh(O.j,null),O.g.ea(O.A)),O.F=Date.now(),Ee(O)}rh(v)}function La(v){v.g&&(Bc(v),v.g.cancel(),v.g=null)}function rl(v){La(v),v.v&&(o.clearTimeout(v.v),v.v=null),sl(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&o.clearTimeout(v.m),v.m=null)}function ds(v){if(!Jt(v.h)&&!v.m){v.m=!0;var O=v.Ea;M||k(),U||(M(),U=!0),N.add(O,v),v.D=0}}function il(v,O){return cn(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=O.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=pi(c(v.Ea,v,O),nh(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const xe=new ne(this,this.j,v);let Se=this.o;if(this.U&&(Se?(Se=G(Se),K(Se,this.U)):Se=this.U),this.u!==null||this.R||(xe.J=Se,Se=null),this.S)e:{for(var O=0,H=0;H<this.i.length;H++){t:{var Q=this.i[H];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(O+=Q,O>4096){O=H;break e}if(O===4096||H===this.i.length-1){O=H+1;break e}}O=1e3}else O=1e3;O=Q0(this,xe,O),H=Ln(this.J),Qt(H,"RID",v),Qt(H,"CVER",22),this.G&&Qt(H,"X-HTTP-Session-Id",this.G),Qo(this,H),Se&&(this.R?O="headers="+Li(xi(Se))+"&"+O:this.u&&Yo(H,this.u,Se)),Oi(this.h,xe),this.Ra&&Qt(H,"TYPE","init"),this.S?(Qt(H,"$req",O),Qt(H,"SID","null"),xe.U=!0,ie(xe,H,null)):ie(xe,H,O),this.I=2}}else this.I==3&&(v?Vc(this,v):this.i.length==0||Jt(this.h)||Vc(this))};function Vc(v,O){var H;O?H=O.l:H=v.V++;const Q=Ln(v.J);Qt(Q,"SID",v.M),Qt(Q,"RID",H),Qt(Q,"AID",v.K),Qo(v,Q),v.u&&v.o&&Yo(Q,v.u,v.o),H=new ne(v,v.j,H,v.D+1),v.u===null&&(H.J=v.o),O&&(v.i=O.G.concat(v.i)),O=Q0(v,H,1e3),H.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),Oi(v.h,H),ie(H,Q,O)}function Qo(v,O){v.H&&X(v.H,function(H,Q){Qt(O,Q,H)}),v.l&&X({},function(H,Q){Qt(O,Q,H)})}function Q0(v,O,H){H=Math.min(v.i.length,H);const Q=v.l?c(v.l.Ka,v.l,v):null;e:{var xe=v.i;let yt=-1;for(;;){const kn=["count="+H];yt==-1?H>0?(yt=xe[0].g,kn.push("ofs="+yt)):yt=0:kn.push("ofs="+yt);let Gt=!0;for(let yn=0;yn<H;yn++){var Se=xe[yn].g;const yi=xe[yn].map;if(Se-=yt,Se<0)yt=Math.max(0,xe[yn].g-100),Gt=!1;else try{Se="req"+Se+"_"||"";try{var je=yi instanceof Map?yi:Object.entries(yi);for(const[ms,qi]of je){let Hi=qi;l(qi)&&(Hi=wt(qi)),kn.push(Se+ms+"="+encodeURIComponent(Hi))}}catch(ms){throw kn.push(Se+"type="+encodeURIComponent("_badmap")),ms}}catch{Q&&Q(yi)}}if(Gt){je=kn.join("&");break e}}je=void 0}return v=v.i.splice(0,H),O.G=v,je}function Z0(v){if(!v.g&&!v.v){v.Y=1;var O=v.Da;M||k(),U||(M(),U=!0),N.add(O,v),v.A=0}}function Zo(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=pi(c(v.Da,v),nh(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,eh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=pi(c(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bn(10),La(this),eh(this))};function Bc(v){v.B!=null&&(o.clearTimeout(v.B),v.B=null)}function eh(v){v.g=new ne(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var O=Ln(v.na);Qt(O,"RID","rpc"),Qt(O,"SID",v.M),Qt(O,"AID",v.K),Qt(O,"CI",v.F?"0":"1"),!v.F&&v.ia&&Qt(O,"TO",v.ia),Qt(O,"TYPE","xmlhttp"),Qo(v,O),v.u&&v.o&&Yo(O,v.u,v.o),v.O&&(v.g.H=v.O);var H=v.g;v=v.ba,H.M=1,H.A=$o(Ln(O)),H.u=null,H.R=!0,ve(H,v)}t.Va=function(){this.C!=null&&(this.C=null,La(this),Zo(this),bn(19))};function sl(v){v.C!=null&&(o.clearTimeout(v.C),v.C=null)}function th(v,O){var H=null;if(v.g==O){sl(v),Bc(v),v.g=null;var Q=2}else if(pr(v.h,O))H=O.G,Fi(v.h,O),Q=1;else return;if(v.I!=0){if(O.o)if(Q==1){H=O.u?O.u.length:0,O=Date.now()-O.F;var xe=v.D;Q=Vs(),We(Q,new Rr(Q,H)),ds(v)}else Z0(v);else if(xe=O.m,xe==3||xe==0&&O.X>0||!(Q==1&&il(v,O)||Q==2&&Zo(v)))switch(H&&H.length>0&&(O=v.h,O.i=O.i.concat(H)),xe){case 1:ps(v,5);break;case 4:ps(v,10);break;case 3:ps(v,6);break;default:ps(v,2)}}}function nh(v,O){let H=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(H*=2),H*O}function ps(v,O){if(v.j.info("Error code "+O),O==2){var H=c(v.bb,v),Q=v.Ua;const xe=!Q;Q=new ti(Q||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Qn(Q,"https"),$o(Q),xe?Ui(Q.toString(),H):Lc(Q.toString(),H)}else bn(2);v.I=0,v.l&&v.l.pa(O),rh(v),rl(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),bn(2)):(this.j.info("Failed to ping google.com"),bn(1))};function rh(v){if(v.I=0,v.ja=[],v.l){const O=ei(v.h);(O.length!=0||v.i.length!=0)&&(_(v.ja,O),_(v.ja,v.i),v.h.i.length=0,x(v.i),v.i.length=0),v.l.oa()}}function ih(v,O,H){var Q=H instanceof ti?Ln(H):new ti(H);if(Q.g!="")O&&(Q.g=O+"."+Q.g),Ia(Q,Q.u);else{var xe=o.location;Q=xe.protocol,O=O?O+"."+xe.hostname:xe.hostname,xe=+xe.port;const Se=new ti(null);Q&&Qn(Se,Q),O&&(Se.g=O),xe&&Ia(Se,xe),H&&(Se.h=H),Q=Se}return H=v.G,O=v.wa,H&&O&&Qt(Q,H,O),Qt(Q,"VER",v.ka),Qo(v,Q),Q}function sh(v,O,H){if(O&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return O=v.Aa&&!v.ma?new sn(new cs({ab:H})):new sn(v.ma),O.Fa(v.L),O}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ah(){}t=ah.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Oa(){}Oa.prototype.g=function(v,O){return new Nr(v,O)};function Nr(v,O){Ge.call(this),this.g=new Pa(O),this.l=v,this.h=O&&O.messageUrlParams||null,v=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(v?v["X-WebChannel-Content-Type"]=O.messageContentType:v={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.sa&&(v?v["X-WebChannel-Client-Profile"]=O.sa:v={"X-WebChannel-Client-Profile":O.sa}),this.g.U=v,(v=O&&O.Qb)&&!q(v)&&(this.g.u=v),this.A=O&&O.supportsCrossDomainXhr||!1,this.v=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!q(O)&&(this.g.G=O,v=this.h,v!==null&&O in v&&(v=this.h,O in v&&delete v[O])),this.j=new Ws(this)}g(Nr,Ge),Nr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nr.prototype.close=function(){Uc(this.g)},Nr.prototype.o=function(v){var O=this.g;if(typeof v=="string"){var H={};H.__data__=v,v=H}else this.v&&(H={},H.__data__=wt(v),v=H);O.i.push(new Ze(O.Ya++,v)),O.I==3&&ds(O)},Nr.prototype.N=function(){this.g.l=null,delete this.j,Uc(this.g),delete this.g,Nr.Z.N.call(this)};function oh(v){rn.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var O=v.__sm__;if(O){e:{for(const H in O){v=H;break e}v=void 0}(this.i=v)&&(v=this.i,O=O!==null&&v in O?O[v]:void 0),this.data=O}else this.data=v}g(oh,rn);function uh(){kr.call(this),this.status=1}g(uh,kr);function Ws(v){this.g=v}g(Ws,ah),Ws.prototype.ra=function(){We(this.g,"a")},Ws.prototype.qa=function(v){We(this.g,new oh(v))},Ws.prototype.pa=function(v){We(this.g,new uh)},Ws.prototype.oa=function(){We(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,Nr.prototype.send=Nr.prototype.o,Nr.prototype.open=Nr.prototype.m,Nr.prototype.close=Nr.prototype.close,_4=function(){return new Oa},v4=function(){return Vs()},y4=Tn,jx={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Hs.NO_ERROR=0,Hs.TIMEOUT=8,Hs.HTTP_ERROR=6,qd=Hs,zs.COMPLETE="complete",x4=zs,nn.EventType=St,St.OPEN="a",St.CLOSE="b",St.ERROR="c",St.MESSAGE="d",Ge.prototype.listen=Ge.prototype.J,Nf=nn,sn.prototype.listenOnce=sn.prototype.K,sn.prototype.getLastError=sn.prototype.Ha,sn.prototype.getLastErrorCode=sn.prototype.ya,sn.prototype.getStatus=sn.prototype.ca,sn.prototype.getResponseJson=sn.prototype.La,sn.prototype.getResponseText=sn.prototype.la,sn.prototype.send=sn.prototype.ea,sn.prototype.setWithCredentials=sn.prototype.Fa,g4=sn}).apply(typeof dd<"u"?dd:typeof self<"u"?self:typeof window<"u"?window:{});const Ob="@firebase/firestore",Fb="4.9.2";/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
      */class vr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vr.UNAUTHENTICATED=new vr(null),vr.GOOGLE_CREDENTIALS=new vr("google-credentials-uid"),vr.FIRST_PARTY=new vr("first-party-uid"),vr.MOCK_USER=new vr("mock-user");/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */let pc="12.3.0";/**
    + */let gc="12.3.0";/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const Iu=new My("@firebase/firestore");function Ol(){return Iu.logLevel}function Je(t,...e){if(Iu.logLevel<=Rt.DEBUG){const n=e.map($y);Iu.debug(`Firestore (${pc}): ${t}`,...n)}}function _a(t,...e){if(Iu.logLevel<=Rt.ERROR){const n=e.map($y);Iu.error(`Firestore (${pc}): ${t}`,...n)}}function nc(t,...e){if(Iu.logLevel<=Rt.WARN){const n=e.map($y);Iu.warn(`Firestore (${pc}): ${t}`,...n)}}function $y(t){if(typeof t=="string")return t;try{/**
    + */const ku=new Fy("@firebase/firestore");function Ul(){return ku.logLevel}function Je(t,...e){if(ku.logLevel<=Rt.DEBUG){const n=e.map(Xy);ku.debug(`Firestore (${gc}): ${t}`,...n)}}function Ta(t,...e){if(ku.logLevel<=Rt.ERROR){const n=e.map(Xy);ku.error(`Firestore (${gc}): ${t}`,...n)}}function ic(t,...e){if(ku.logLevel<=Rt.WARN){const n=e.map(Xy);ku.warn(`Firestore (${gc}): ${t}`,...n)}}function Xy(t){if(typeof t=="string")return t;try{/**
     * @license
     * Copyright 2020 Google LLC
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *   http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function ct(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,x4(t,r,n)}function x4(t,e,n){let r=`FIRESTORE (${pc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw _a(r),new Error(r)}function Wt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||x4(e,i,r)}function xt(t,e){return t}/**
    + */function ct(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,T4(t,r,n)}function T4(t,e,n){let r=`FIRESTORE (${gc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ta(r),new Error(r)}function Wt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||T4(e,i,r)}function xt(t,e){return t}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xe extends Ms{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
    + */const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xe extends Ps{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class _o{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
    + */class Eo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class y4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(vr.UNAUTHENTICATED)))}shutdown(){}}class vP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class _P{constructor(e){this.t=e,this.currentUser=vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Wt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new _o;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _o,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},l=f=>{Je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((f=>l(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?l(f):(Je("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _o)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Wt(typeof r.accessToken=="string",31837,{l:r}),new y4(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Wt(e===null||typeof e=="string",2055,{h:e}),new vr(e)}}class TP{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=vr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EP{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new TP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(vr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ob{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Wt(this.o===void 0,3512);const r=s=>{s.error!=null&&Je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Je("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ob(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ob(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
    + */class E4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(vr.UNAUTHENTICATED)))}shutdown(){}}class SP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class AP{constructor(e){this.t=e,this.currentUser=vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Wt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new Eo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Eo,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},l=f=>{Je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((f=>l(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?l(f):(Je("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Eo)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Wt(typeof r.accessToken=="string",31837,{l:r}),new E4(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Wt(e===null||typeof e=="string",2055,{h:e}),new vr(e)}}class CP{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=vr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IP{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new CP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(vr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ub{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Wt(this.o===void 0,3512);const r=s=>{s.error!=null&&Je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Je("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{Je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ub(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ub(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function wP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
    + */function RP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class Wy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=wP(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Nt(t,e){return t<e?-1:t>e?1:0}function zx(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return D1(i)===D1(s)?Nt(i,s):D1(i)?1:-1}return Nt(t.length,e.length)}const SP=55296,AP=57343;function D1(t){const e=t.charCodeAt(0);return e>=SP&&e<=AP}function rc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
    + */class Jy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=RP(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Nt(t,e){return t<e?-1:t>e?1:0}function $x(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return L1(i)===L1(s)?Nt(i,s):L1(i)?1:-1}return Nt(t.length,e.length)}const NP=55296,DP=57343;function L1(t){const e=t.charCodeAt(0);return e>=NP&&e<=DP}function sc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const Fb="__name__";class ws{constructor(e,n,r){n===void 0?n=0:n>e.length&&ct(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ct(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ws.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ws?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ws.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Nt(e.length,n.length)}static compareSegments(e,n){const r=ws.isNumericId(e),i=ws.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ws.extractNumericId(e).compare(ws.extractNumericId(n)):zx(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vo.fromString(e.substring(4,e.length-2))}}class hn extends ws{construct(e,n,r){return new hn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Xe(Le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new hn(n)}static emptyPath(){return new hn([])}}const CP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cr extends ws{construct(e,n,r){return new cr(e,n,r)}static isValidIdentifier(e){return CP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fb}static keyField(){return new cr([Fb])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Xe(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Xe(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Xe(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new Xe(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cr(n)}static emptyPath(){return new cr([])}}/**
    + */const Vb="__name__";class ws{constructor(e,n,r){n===void 0?n=0:n>e.length&&ct(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ct(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ws.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ws?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ws.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Nt(e.length,n.length)}static compareSegments(e,n){const r=ws.isNumericId(e),i=ws.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ws.extractNumericId(e).compare(ws.extractNumericId(n)):$x(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return To.fromString(e.substring(4,e.length-2))}}class hn extends ws{construct(e,n,r){return new hn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Xe(Le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new hn(n)}static emptyPath(){return new hn([])}}const MP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cr extends ws{construct(e,n,r){return new cr(e,n,r)}static isValidIdentifier(e){return MP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vb}static keyField(){return new cr([Vb])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Xe(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Xe(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Xe(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new Xe(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cr(n)}static emptyPath(){return new cr([])}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
      */class it{constructor(e){this.path=e}static fromPath(e){return new it(hn.fromString(e))}static fromName(e){return new it(hn.fromString(e).popFirst(5))}static empty(){return new it(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&hn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return hn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new it(new hn(e.slice()))}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function v4(t,e,n){if(!n)throw new Xe(Le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function IP(t,e,n,r){if(e===!0&&r===!0)throw new Xe(Le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ub(t){if(!it.isDocumentKey(t))throw new Xe(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Vb(t){if(it.isDocumentKey(t))throw new Xe(Le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Gp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ct(12329,{type:typeof t})}function So(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Xe(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gp(t);throw new Xe(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
    + */function b4(t,e,n){if(!n)throw new Xe(Le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PP(t,e,n,r){if(e===!0&&r===!0)throw new Xe(Le.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Bb(t){if(!it.isDocumentKey(t))throw new Xe(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qb(t){if(it.isDocumentKey(t))throw new Xe(Le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function w4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function $p(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ct(12329,{type:typeof t})}function Co(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Xe(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$p(t);throw new Xe(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
      * @license
      * Copyright 2025 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function jn(t,e){const n={typeString:t};return e&&(n.value=e),n}function I0(t,e){if(!_4(t))throw new Xe(Le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Xe(Le.INVALID_ARGUMENT,n);return!0}/**
    + */function jn(t,e){const n={typeString:t};return e&&(n.value=e),n}function k0(t,e){if(!w4(t))throw new Xe(Le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Xe(Le.INVALID_ARGUMENT,n);return!0}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const Bb=-62135596800,qb=1e6;class xn{static now(){return xn.fromMillis(Date.now())}static fromDate(e){return xn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*qb);return new xn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Xe(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Xe(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Bb)throw new Xe(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Xe(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qb}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(I0(e,xn._jsonSchema))return new xn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Bb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xn._jsonSchemaVersion="firestore/timestamp/1.0",xn._jsonSchema={type:jn("string",xn._jsonSchemaVersion),seconds:jn("number"),nanoseconds:jn("number")};/**
    + */const Hb=-62135596800,zb=1e6;class xn{static now(){return xn.fromMillis(Date.now())}static fromDate(e){return xn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*zb);return new xn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Xe(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Xe(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Hb)throw new Xe(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Xe(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zb}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(k0(e,xn._jsonSchema))return new xn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Hb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xn._jsonSchemaVersion="firestore/timestamp/1.0",xn._jsonSchema={type:jn("string",xn._jsonSchemaVersion),seconds:jn("number"),nanoseconds:jn("number")};/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
      */class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new xn(0,0))}static max(){return new pt(new xn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
      * @license
      * Copyright 2021 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const s0=-1;function kP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pt.fromTimestamp(r===1e9?new xn(n+1,0):new xn(n,r));return new Ao(i,it.empty(),e)}function RP(t){return new Ao(t.readTime,t.key,s0)}class Ao{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ao(pt.min(),it.empty(),s0)}static max(){return new Ao(pt.max(),it.empty(),s0)}}function NP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=it.comparator(t.documentKey,e.documentKey),n!==0?n:Nt(t.largestBatchId,e.largestBatchId))}/**
    + */const a0=-1;function LP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pt.fromTimestamp(r===1e9?new xn(n+1,0):new xn(n,r));return new Io(i,it.empty(),e)}function OP(t){return new Io(t.readTime,t.key,a0)}class Io{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Io(pt.min(),it.empty(),a0)}static max(){return new Io(pt.max(),it.empty(),a0)}}function FP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=it.comparator(t.documentKey,e.documentKey),n!==0?n:Nt(t.largestBatchId,e.largestBatchId))}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const DP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
    + */const UP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */async function mc(t){if(t.code!==Le.FAILED_PRECONDITION||t.message!==DP)throw t;Je("LocalStore","Unexpectedly lost primary lease")}/**
    + */async function xc(t){if(t.code!==Le.FAILED_PRECONDITION||t.message!==UP)throw t;Je("LocalStore","Unexpectedly lost primary lease")}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class Ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ue(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ue?n:Ue.resolve(n)}catch(n){return Ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ue.reject(n)}static resolve(e){return new Ue(((n,r)=>{n(e)}))}static reject(e){return new Ue(((n,r)=>{r(e)}))}static waitFor(e){return new Ue(((n,r)=>{let i=0,s=0,o=!1;e.forEach((l=>{++i,l.next((()=>{++s,o&&s===i&&n()}),(f=>r(f)))})),o=!0,s===i&&n()}))}static or(e){let n=Ue.resolve(!1);for(const r of e)n=n.next((i=>i?Ue.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Ue(((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let f=0;f<s;f++){const c=f;n(e[c]).next((d=>{o[c]=d,++l,l===s&&r(o)}),(d=>i(d)))}}))}static doWhile(e,n){return new Ue(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function PP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function gc(t){return t.name==="IndexedDbTransactionError"}/**
    + */class Ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ue(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ue?n:Ue.resolve(n)}catch(n){return Ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ue.reject(n)}static resolve(e){return new Ue(((n,r)=>{n(e)}))}static reject(e){return new Ue(((n,r)=>{r(e)}))}static waitFor(e){return new Ue(((n,r)=>{let i=0,s=0,o=!1;e.forEach((l=>{++i,l.next((()=>{++s,o&&s===i&&n()}),(f=>r(f)))})),o=!0,s===i&&n()}))}static or(e){let n=Ue.resolve(!1);for(const r of e)n=n.next((i=>i?Ue.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new Ue(((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let f=0;f<s;f++){const c=f;n(e[c]).next((d=>{o[c]=d,++l,l===s&&r(o)}),(d=>i(d)))}}))}static doWhile(e,n){return new Ue(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function BP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yc(t){return t.name==="IndexedDbTransactionError"}/**
      * @license
      * Copyright 2018 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class jp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jp.ce=-1;/**
    + */class Wp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wp.ce=-1;/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const Ky=-1;function $p(t){return t==null}function ip(t){return t===0&&1/t==-1/0}function LP(t){return typeof t=="number"&&Number.isInteger(t)&&!ip(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
    + */const Qy=-1;function Kp(t){return t==null}function sp(t){return t===0&&1/t==-1/0}function qP(t){return typeof t=="number"&&Number.isInteger(t)&&!sp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const T4="";function OP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Hb(e)),e=FP(t.get(n),e);return Hb(e)}function FP(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case T4:n+="";break;default:n+=s}}return n}function Hb(t){return t+T4+""}/**
    + */const S4="";function HP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Gb(e)),e=zP(t.get(n),e);return Gb(e)}function zP(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case S4:n+="";break;default:n+=s}}return n}function Gb(t){return t+S4+""}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function zb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function E4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
    + */function jb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function A4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class En{constructor(e,n){this.comparator=e,this.root=n||ur.EMPTY}insert(e,n){return new En(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ur.BLACK,null,null))}remove(e){return new En(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ur.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dd(this.root,e,this.comparator,!1)}getReverseIterator(){return new dd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dd(this.root,e,this.comparator,!0)}}class dd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ur{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ur.RED,this.left=i??ur.EMPTY,this.right=s??ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ur(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ur.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ct(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ct(27949);return e+(this.isRed()?0:1)}}ur.EMPTY=null,ur.RED=!0,ur.BLACK=!1;ur.EMPTY=new class{constructor(){this.size=0}get key(){throw ct(57766)}get value(){throw ct(16141)}get color(){throw ct(16727)}get left(){throw ct(29726)}get right(){throw ct(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ur(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
    + */class En{constructor(e,n){this.comparator=e,this.root=n||ur.EMPTY}insert(e,n){return new En(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ur.BLACK,null,null))}remove(e){return new En(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ur.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pd(this.root,e,this.comparator,!0)}}class pd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ur{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ur.RED,this.left=i??ur.EMPTY,this.right=s??ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ur(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ur.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ct(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ct(27949);return e+(this.isRed()?0:1)}}ur.EMPTY=null,ur.RED=!0,ur.BLACK=!1;ur.EMPTY=new class{constructor(){this.size=0}get key(){throw ct(57766)}get value(){throw ct(16141)}get color(){throw ct(16727)}get left(){throw ct(29726)}get right(){throw ct(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ur(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class Xn{constructor(e){this.comparator=e,this.data=new En(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gb(this.data.getIterator())}getIteratorFrom(e){return new Gb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Xn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xn(this.comparator);return n.data=e,n}}class Gb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
    + */class Xn{constructor(e){this.comparator=e,this.data=new En(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $b(this.data.getIterator())}getIteratorFrom(e){return new $b(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Xn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xn(this.comparator);return n.data=e,n}}class $b{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class hi{constructor(e){this.fields=e,e.sort(cr.comparator)}static empty(){return new hi([])}unionWith(e){let n=new Xn(cr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
    + */class hi{constructor(e){this.fields=e,e.sort(cr.comparator)}static empty(){return new hi([])}unionWith(e){let n=new Xn(cr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
      * @license
      * Copyright 2023 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class b4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
    + */class C4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class dr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new b4("Invalid base64 string: "+s):s}})(e);return new dr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new dr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dr.EMPTY_BYTE_STRING=new dr("");const UP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Co(t){if(Wt(!!t,39018),typeof t=="string"){let e=0;const n=UP.exec(t);if(Wt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mn(t.seconds),nanos:Mn(t.nanos)}}function Mn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Io(t){return typeof t=="string"?dr.fromBase64String(t):dr.fromUint8Array(t)}/**
    + */class dr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new C4("Invalid base64 string: "+s):s}})(e);return new dr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new dr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dr.EMPTY_BYTE_STRING=new dr("");const GP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ko(t){if(Wt(!!t,39018),typeof t=="string"){let e=0;const n=GP.exec(t);if(Wt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mn(t.seconds),nanos:Mn(t.nanos)}}function Mn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ro(t){return typeof t=="string"?dr.fromBase64String(t):dr.fromUint8Array(t)}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const w4="server_timestamp",S4="__type__",A4="__previous_value__",C4="__local_write_time__";function Yy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[S4])==null?void 0:r.stringValue)===w4}function Wp(t){const e=t.mapValue.fields[A4];return Yy(e)?Wp(e):e}function a0(t){const e=Co(t.mapValue.fields[C4].timestampValue);return new xn(e.seconds,e.nanos)}/**
    + */const I4="server_timestamp",k4="__type__",R4="__previous_value__",N4="__local_write_time__";function Zy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[k4])==null?void 0:r.stringValue)===I4}function Yp(t){const e=t.mapValue.fields[R4];return Zy(e)?Yp(e):e}function o0(t){const e=ko(t.mapValue.fields[N4].timestampValue);return new xn(e.seconds,e.nanos)}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class VP{constructor(e,n,r,i,s,o,l,f,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=f,this.useFetchStreams=c,this.isUsingEmulator=d}}const sp="(default)";class o0{constructor(e,n){this.projectId=e,this.database=n||sp}static empty(){return new o0("","")}get isDefaultDatabase(){return this.database===sp}isEqual(e){return e instanceof o0&&e.projectId===this.projectId&&e.database===this.database}}/**
    + */class jP{constructor(e,n,r,i,s,o,l,f,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=f,this.useFetchStreams=c,this.isUsingEmulator=d}}const ap="(default)";class u0{constructor(e,n){this.projectId=e,this.database=n||ap}static empty(){return new u0("","")}get isDefaultDatabase(){return this.database===ap}isEqual(e){return e instanceof u0&&e.projectId===this.projectId&&e.database===this.database}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const I4="__type__",BP="__max__",pd={mapValue:{}},k4="__vector__",ap="value";function ko(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yy(t)?4:HP(t)?9007199254740991:qP(t)?10:11:ct(28295,{value:t})}function Ns(t,e){if(t===e)return!0;const n=ko(t);if(n!==ko(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return a0(t).isEqual(a0(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Co(i.timestampValue),l=Co(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Io(i.bytesValue).isEqual(Io(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Mn(i.geoPointValue.latitude)===Mn(s.geoPointValue.latitude)&&Mn(i.geoPointValue.longitude)===Mn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Mn(i.integerValue)===Mn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Mn(i.doubleValue),l=Mn(s.doubleValue);return o===l?ip(o)===ip(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return rc(t.arrayValue.values||[],e.arrayValue.values||[],Ns);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(zb(o)!==zb(l))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(l[f]===void 0||!Ns(o[f],l[f])))return!1;return!0})(t,e);default:return ct(52216,{left:t})}}function u0(t,e){return(t.values||[]).find((n=>Ns(n,e)))!==void 0}function ic(t,e){if(t===e)return 0;const n=ko(t),r=ko(e);if(n!==r)return Nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(t.booleanValue,e.booleanValue);case 2:return(function(s,o){const l=Mn(s.integerValue||s.doubleValue),f=Mn(o.integerValue||o.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1})(t,e);case 3:return jb(t.timestampValue,e.timestampValue);case 4:return jb(a0(t),a0(e));case 5:return zx(t.stringValue,e.stringValue);case 6:return(function(s,o){const l=Io(s),f=Io(o);return l.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,o){const l=s.split("/"),f=o.split("/");for(let c=0;c<l.length&&c<f.length;c++){const d=Nt(l[c],f[c]);if(d!==0)return d}return Nt(l.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,o){const l=Nt(Mn(s.latitude),Mn(o.latitude));return l!==0?l:Nt(Mn(s.longitude),Mn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return $b(t.arrayValue,e.arrayValue);case 10:return(function(s,o){var p,x,_,b;const l=s.fields||{},f=o.fields||{},c=(p=l[ap])==null?void 0:p.arrayValue,d=(x=f[ap])==null?void 0:x.arrayValue,g=Nt(((_=c==null?void 0:c.values)==null?void 0:_.length)||0,((b=d==null?void 0:d.values)==null?void 0:b.length)||0);return g!==0?g:$b(c,d)})(t.mapValue,e.mapValue);case 11:return(function(s,o){if(s===pd.mapValue&&o===pd.mapValue)return 0;if(s===pd.mapValue)return 1;if(o===pd.mapValue)return-1;const l=s.fields||{},f=Object.keys(l),c=o.fields||{},d=Object.keys(c);f.sort(),d.sort();for(let g=0;g<f.length&&g<d.length;++g){const p=zx(f[g],d[g]);if(p!==0)return p;const x=ic(l[f[g]],c[d[g]]);if(x!==0)return x}return Nt(f.length,d.length)})(t.mapValue,e.mapValue);default:throw ct(23264,{he:n})}}function jb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Nt(t,e);const n=Co(t),r=Co(e),i=Nt(n.seconds,r.seconds);return i!==0?i:Nt(n.nanos,r.nanos)}function $b(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ic(n[i],r[i]);if(s)return s}return Nt(n.length,r.length)}function sc(t){return Gx(t)}function Gx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Co(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Io(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return it.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Gx(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Gx(n.fields[o])}`;return i+"}"})(t.mapValue):ct(61005,{value:t})}function qd(t){switch(ko(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wp(t);return e?16+qd(e):16;case 5:return 2*t.stringValue.length;case 6:return Io(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+qd(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Fo(r.fields,((s,o)=>{i+=s.length+qd(o)})),i})(t.mapValue);default:throw ct(13486,{value:t})}}function Wb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jx(t){return!!t&&"integerValue"in t}function Xy(t){return!!t&&"arrayValue"in t}function Kb(t){return!!t&&"nullValue"in t}function Yb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hd(t){return!!t&&"mapValue"in t}function qP(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[I4])==null?void 0:r.stringValue)===k4}function Bf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Fo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Bf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bf(t.arrayValue.values[n]);return e}return{...t}}function HP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===BP}/**
    + */const D4="__type__",$P="__max__",md={mapValue:{}},M4="__vector__",op="value";function No(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zy(t)?4:KP(t)?9007199254740991:WP(t)?10:11:ct(28295,{value:t})}function Ns(t,e){if(t===e)return!0;const n=No(t);if(n!==No(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return o0(t).isEqual(o0(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ko(i.timestampValue),l=ko(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Ro(i.bytesValue).isEqual(Ro(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Mn(i.geoPointValue.latitude)===Mn(s.geoPointValue.latitude)&&Mn(i.geoPointValue.longitude)===Mn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Mn(i.integerValue)===Mn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Mn(i.doubleValue),l=Mn(s.doubleValue);return o===l?sp(o)===sp(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return sc(t.arrayValue.values||[],e.arrayValue.values||[],Ns);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(jb(o)!==jb(l))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(l[f]===void 0||!Ns(o[f],l[f])))return!1;return!0})(t,e);default:return ct(52216,{left:t})}}function l0(t,e){return(t.values||[]).find((n=>Ns(n,e)))!==void 0}function ac(t,e){if(t===e)return 0;const n=No(t),r=No(e);if(n!==r)return Nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(t.booleanValue,e.booleanValue);case 2:return(function(s,o){const l=Mn(s.integerValue||s.doubleValue),f=Mn(o.integerValue||o.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1})(t,e);case 3:return Wb(t.timestampValue,e.timestampValue);case 4:return Wb(o0(t),o0(e));case 5:return $x(t.stringValue,e.stringValue);case 6:return(function(s,o){const l=Ro(s),f=Ro(o);return l.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,o){const l=s.split("/"),f=o.split("/");for(let c=0;c<l.length&&c<f.length;c++){const d=Nt(l[c],f[c]);if(d!==0)return d}return Nt(l.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,o){const l=Nt(Mn(s.latitude),Mn(o.latitude));return l!==0?l:Nt(Mn(s.longitude),Mn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Kb(t.arrayValue,e.arrayValue);case 10:return(function(s,o){var p,x,_,b;const l=s.fields||{},f=o.fields||{},c=(p=l[op])==null?void 0:p.arrayValue,d=(x=f[op])==null?void 0:x.arrayValue,g=Nt(((_=c==null?void 0:c.values)==null?void 0:_.length)||0,((b=d==null?void 0:d.values)==null?void 0:b.length)||0);return g!==0?g:Kb(c,d)})(t.mapValue,e.mapValue);case 11:return(function(s,o){if(s===md.mapValue&&o===md.mapValue)return 0;if(s===md.mapValue)return 1;if(o===md.mapValue)return-1;const l=s.fields||{},f=Object.keys(l),c=o.fields||{},d=Object.keys(c);f.sort(),d.sort();for(let g=0;g<f.length&&g<d.length;++g){const p=$x(f[g],d[g]);if(p!==0)return p;const x=ac(l[f[g]],c[d[g]]);if(x!==0)return x}return Nt(f.length,d.length)})(t.mapValue,e.mapValue);default:throw ct(23264,{he:n})}}function Wb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Nt(t,e);const n=ko(t),r=ko(e),i=Nt(n.seconds,r.seconds);return i!==0?i:Nt(n.nanos,r.nanos)}function Kb(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ac(n[i],r[i]);if(s)return s}return Nt(n.length,r.length)}function oc(t){return Wx(t)}function Wx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ko(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ro(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return it.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Wx(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Wx(n.fields[o])}`;return i+"}"})(t.mapValue):ct(61005,{value:t})}function Hd(t){switch(No(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yp(t);return e?16+Hd(e):16;case 5:return 2*t.stringValue.length;case 6:return Ro(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Hd(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Vo(r.fields,((s,o)=>{i+=s.length+Hd(o)})),i})(t.mapValue);default:throw ct(13486,{value:t})}}function Yb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Kx(t){return!!t&&"integerValue"in t}function ev(t){return!!t&&"arrayValue"in t}function Xb(t){return!!t&&"nullValue"in t}function Jb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zd(t){return!!t&&"mapValue"in t}function WP(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[D4])==null?void 0:r.stringValue)===M4}function qf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Vo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=qf(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qf(t.arrayValue.values[n]);return e}return{...t}}function KP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===$P}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class Yr{constructor(e){this.value=e}static empty(){return new Yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bf(n)}setAll(e){let n=cr.emptyPath(),r={},i=[];e.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Bf(o):i.push(l.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Hd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Hd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fo(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Yr(Bf(this.value))}}function R4(t){const e=[];return Fo(t.fields,((n,r)=>{const i=new cr([n]);if(Hd(r)){const s=R4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new hi(e)}/**
    + */class Yr{constructor(e){this.value=e}static empty(){return new Yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qf(n)}setAll(e){let n=cr.emptyPath(),r={},i=[];e.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=qf(o):i.push(l.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Vo(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Yr(qf(this.value))}}function P4(t){const e=[];return Vo(t.fields,((n,r)=>{const i=new cr([n]);if(zd(r)){const s=P4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new hi(e)}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
      */class Tr{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Tr(e,0,pt.min(),pt.min(),pt.min(),Yr.empty(),0)}static newFoundDocument(e,n,r,i){return new Tr(e,1,n,pt.min(),r,i,0)}static newNoDocument(e,n){return new Tr(e,2,n,pt.min(),pt.min(),Yr.empty(),0)}static newUnknownDocument(e,n){return new Tr(e,3,n,pt.min(),pt.min(),Yr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
      * @license
      * Copyright 2022 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class op{constructor(e,n){this.position=e,this.inclusive=n}}function Xb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=it.comparator(it.fromName(o.referenceValue),n.key):r=ic(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ns(t.position[n],e.position[n]))return!1;return!0}/**
    + */class up{constructor(e,n){this.position=e,this.inclusive=n}}function Qb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=it.comparator(it.fromName(o.referenceValue),n.key):r=ac(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Zb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ns(t.position[n],e.position[n]))return!1;return!0}/**
      * @license
      * Copyright 2022 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class l0{constructor(e,n="asc"){this.field=e,this.dir=n}}function zP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
    + */class c0{constructor(e,n="asc"){this.field=e,this.dir=n}}function YP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
      * @license
      * Copyright 2022 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class N4{}class Gn extends N4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jP(e,n,r):n==="array-contains"?new KP(e,r):n==="in"?new YP(e,r):n==="not-in"?new XP(e,r):n==="array-contains-any"?new JP(e,r):new Gn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $P(e,r):new WP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ic(n,this.value)):n!==null&&ko(this.value)===ko(n)&&this.matchesComparison(ic(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class os extends N4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new os(e,n)}matches(e){return D4(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function D4(t){return t.op==="and"}function M4(t){return GP(t)&&D4(t)}function GP(t){for(const e of t.filters)if(e instanceof os)return!1;return!0}function $x(t){if(t instanceof Gn)return t.field.canonicalString()+t.op.toString()+sc(t.value);if(M4(t))return t.filters.map((e=>$x(e))).join(",");{const e=t.filters.map((n=>$x(n))).join(",");return`${t.op}(${e})`}}function P4(t,e){return t instanceof Gn?(function(r,i){return i instanceof Gn&&r.op===i.op&&r.field.isEqual(i.field)&&Ns(r.value,i.value)})(t,e):t instanceof os?(function(r,i){return i instanceof os&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,o,l)=>s&&P4(o,i.filters[l])),!0):!1})(t,e):void ct(19439)}function L4(t){return t instanceof Gn?(function(n){return`${n.field.canonicalString()} ${n.op} ${sc(n.value)}`})(t):t instanceof os?(function(n){return n.op.toString()+" {"+n.getFilters().map(L4).join(" ,")+"}"})(t):"Filter"}class jP extends Gn{constructor(e,n,r){super(e,n,r),this.key=it.fromName(r.referenceValue)}matches(e){const n=it.comparator(e.key,this.key);return this.matchesComparison(n)}}class $P extends Gn{constructor(e,n){super(e,"in",n),this.keys=O4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class WP extends Gn{constructor(e,n){super(e,"not-in",n),this.keys=O4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function O4(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>it.fromName(r.referenceValue)))}class KP extends Gn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xy(n)&&u0(n.arrayValue,this.value)}}class YP extends Gn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&u0(this.value.arrayValue,n)}}class XP extends Gn{constructor(e,n){super(e,"not-in",n)}matches(e){if(u0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!u0(this.value.arrayValue,n)}}class JP extends Gn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>u0(this.value.arrayValue,r)))}}/**
    + */class L4{}class Gn extends L4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new JP(e,n,r):n==="array-contains"?new e9(e,r):n==="in"?new t9(e,r):n==="not-in"?new n9(e,r):n==="array-contains-any"?new r9(e,r):new Gn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new QP(e,r):new ZP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ac(n,this.value)):n!==null&&No(this.value)===No(n)&&this.matchesComparison(ac(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class os extends L4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new os(e,n)}matches(e){return O4(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function O4(t){return t.op==="and"}function F4(t){return XP(t)&&O4(t)}function XP(t){for(const e of t.filters)if(e instanceof os)return!1;return!0}function Yx(t){if(t instanceof Gn)return t.field.canonicalString()+t.op.toString()+oc(t.value);if(F4(t))return t.filters.map((e=>Yx(e))).join(",");{const e=t.filters.map((n=>Yx(n))).join(",");return`${t.op}(${e})`}}function U4(t,e){return t instanceof Gn?(function(r,i){return i instanceof Gn&&r.op===i.op&&r.field.isEqual(i.field)&&Ns(r.value,i.value)})(t,e):t instanceof os?(function(r,i){return i instanceof os&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,o,l)=>s&&U4(o,i.filters[l])),!0):!1})(t,e):void ct(19439)}function V4(t){return t instanceof Gn?(function(n){return`${n.field.canonicalString()} ${n.op} ${oc(n.value)}`})(t):t instanceof os?(function(n){return n.op.toString()+" {"+n.getFilters().map(V4).join(" ,")+"}"})(t):"Filter"}class JP extends Gn{constructor(e,n,r){super(e,n,r),this.key=it.fromName(r.referenceValue)}matches(e){const n=it.comparator(e.key,this.key);return this.matchesComparison(n)}}class QP extends Gn{constructor(e,n){super(e,"in",n),this.keys=B4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ZP extends Gn{constructor(e,n){super(e,"not-in",n),this.keys=B4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function B4(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>it.fromName(r.referenceValue)))}class e9 extends Gn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ev(n)&&l0(n.arrayValue,this.value)}}class t9 extends Gn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&l0(this.value.arrayValue,n)}}class n9 extends Gn{constructor(e,n){super(e,"not-in",n)}matches(e){if(l0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!l0(this.value.arrayValue,n)}}class r9 extends Gn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ev(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>l0(this.value.arrayValue,r)))}}/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class QP{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function Qb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new QP(t,e,n,r,i,s,o)}function Jy(t){const e=xt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>$x(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),$p(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>sc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>sc(r))).join(",")),e.Te=n}return e.Te}function Qy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!P4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Jb(t.startAt,e.startAt)&&Jb(t.endAt,e.endAt)}function Wx(t){return it.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
    + */class i9{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function ew(t,e=null,n=[],r=[],i=null,s=null,o=null){return new i9(t,e,n,r,i,s,o)}function tv(t){const e=xt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Yx(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Kp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>oc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>oc(r))).join(",")),e.Te=n}return e.Te}function nv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!YP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!U4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zb(t.startAt,e.startAt)&&Zb(t.endAt,e.endAt)}function Xx(t){return it.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class xc{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ZP(t,e,n,r,i,s,o,l){return new xc(t,e,n,r,i,s,o,l)}function F4(t){return new xc(t)}function Zb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function U4(t){return t.collectionGroup!==null}function qf(t){const e=xt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Xn(cr.comparator);return o.filters.forEach((f=>{f.getFlattenedFilters().forEach((c=>{c.isInequality()&&(l=l.add(c.field))}))})),l})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new l0(s,r))})),n.has(cr.keyField().canonicalString())||e.Ie.push(new l0(cr.keyField(),r))}return e.Ie}function Cs(t){const e=xt(t);return e.Ee||(e.Ee=e9(e,qf(t))),e.Ee}function e9(t,e){if(t.limitType==="F")return Qb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new l0(i.field,s)}));const n=t.endAt?new op(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new op(t.startAt.position,t.startAt.inclusive):null;return Qb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Kx(t,e){const n=t.filters.concat([e]);return new xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Yx(t,e,n){return new xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kp(t,e){return Qy(Cs(t),Cs(e))&&t.limitType===e.limitType}function V4(t){return`${Jy(Cs(t))}|lt:${t.limitType}`}function Fl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>L4(i))).join(", ")}]`),$p(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>sc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>sc(i))).join(",")),`Target(${r})`})(Cs(t))}; limitType=${t.limitType})`}function Yp(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):it.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of qf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,l,f){const c=Xb(o,l,f);return o.inclusive?c<=0:c<0})(r.startAt,qf(r),i)||r.endAt&&!(function(o,l,f){const c=Xb(o,l,f);return o.inclusive?c>=0:c>0})(r.endAt,qf(r),i))})(t,e)}function t9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function B4(t){return(e,n)=>{let r=!1;for(const i of qf(t)){const s=n9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function n9(t,e,n){const r=t.field.isKeyField()?it.comparator(e.key,n.key):(function(s,o,l){const f=o.data.field(s),c=l.data.field(s);return f!==null&&c!==null?ic(f,c):ct(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ct(19790,{direction:t.dir})}}/**
    + */class vc{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function s9(t,e,n,r,i,s,o,l){return new vc(t,e,n,r,i,s,o,l)}function q4(t){return new vc(t)}function tw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function H4(t){return t.collectionGroup!==null}function Hf(t){const e=xt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Xn(cr.comparator);return o.filters.forEach((f=>{f.getFlattenedFilters().forEach((c=>{c.isInequality()&&(l=l.add(c.field))}))})),l})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new c0(s,r))})),n.has(cr.keyField().canonicalString())||e.Ie.push(new c0(cr.keyField(),r))}return e.Ie}function Cs(t){const e=xt(t);return e.Ee||(e.Ee=a9(e,Hf(t))),e.Ee}function a9(t,e){if(t.limitType==="F")return ew(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new c0(i.field,s)}));const n=t.endAt?new up(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new up(t.startAt.position,t.startAt.inclusive):null;return ew(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jx(t,e){const n=t.filters.concat([e]);return new vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qx(t,e,n){return new vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xp(t,e){return nv(Cs(t),Cs(e))&&t.limitType===e.limitType}function z4(t){return`${tv(Cs(t))}|lt:${t.limitType}`}function Vl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>V4(i))).join(", ")}]`),Kp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>oc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>oc(i))).join(",")),`Target(${r})`})(Cs(t))}; limitType=${t.limitType})`}function Jp(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):it.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Hf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,l,f){const c=Qb(o,l,f);return o.inclusive?c<=0:c<0})(r.startAt,Hf(r),i)||r.endAt&&!(function(o,l,f){const c=Qb(o,l,f);return o.inclusive?c>=0:c>0})(r.endAt,Hf(r),i))})(t,e)}function o9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function G4(t){return(e,n)=>{let r=!1;for(const i of Hf(t)){const s=u9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function u9(t,e,n){const r=t.field.isKeyField()?it.comparator(e.key,n.key):(function(s,o,l){const f=o.data.field(s),c=l.data.field(s);return f!==null&&c!==null?ac(f,c):ct(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ct(19790,{direction:t.dir})}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class Fu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fo(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return E4(this.inner)}size(){return this.innerSize}}/**
    + */class Uu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Vo(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return A4(this.inner)}size(){return this.innerSize}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const r9=new En(it.comparator);function Ta(){return r9}const q4=new En(it.comparator);function Nf(...t){let e=q4;for(const n of t)e=e.insert(n.key,n);return e}function H4(t){let e=q4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Tu(){return Hf()}function z4(){return Hf()}function Hf(){return new Fu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const i9=new En(it.comparator),s9=new Xn(it.comparator);function Dt(...t){let e=s9;for(const n of t)e=e.add(n);return e}const a9=new Xn(Nt);function o9(){return a9}/**
    + */const l9=new En(it.comparator);function Ea(){return l9}const j4=new En(it.comparator);function Df(...t){let e=j4;for(const n of t)e=e.insert(n.key,n);return e}function $4(t){let e=j4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Eu(){return zf()}function W4(){return zf()}function zf(){return new Uu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const c9=new En(it.comparator),f9=new Xn(it.comparator);function Dt(...t){let e=f9;for(const n of t)e=e.add(n);return e}const h9=new Xn(Nt);function d9(){return h9}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function Zy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ip(e)?"-0":e}}function G4(t){return{integerValue:""+t}}function u9(t,e){return LP(e)?G4(e):Zy(t,e)}/**
    + */function rv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sp(e)?"-0":e}}function K4(t){return{integerValue:""+t}}function p9(t,e){return qP(e)?K4(e):rv(t,e)}/**
      * @license
      * Copyright 2018 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class Xp{constructor(){this._=void 0}}function l9(t,e,n){return t instanceof c0?(function(i,s){const o={fields:{[S4]:{stringValue:w4},[C4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Yy(s)&&(s=Wp(s)),s&&(o.fields[A4]=s),{mapValue:o}})(n,e):t instanceof f0?$4(t,e):t instanceof h0?W4(t,e):(function(i,s){const o=j4(i,s),l=ew(o)+ew(i.Ae);return jx(o)&&jx(i.Ae)?G4(l):Zy(i.serializer,l)})(t,e)}function c9(t,e,n){return t instanceof f0?$4(t,e):t instanceof h0?W4(t,e):n}function j4(t,e){return t instanceof up?(function(r){return jx(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class c0 extends Xp{}class f0 extends Xp{constructor(e){super(),this.elements=e}}function $4(t,e){const n=K4(e);for(const r of t.elements)n.some((i=>Ns(i,r)))||n.push(r);return{arrayValue:{values:n}}}class h0 extends Xp{constructor(e){super(),this.elements=e}}function W4(t,e){let n=K4(e);for(const r of t.elements)n=n.filter((i=>!Ns(i,r)));return{arrayValue:{values:n}}}class up extends Xp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ew(t){return Mn(t.integerValue||t.doubleValue)}function K4(t){return Xy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
    + */class Qp{constructor(){this._=void 0}}function m9(t,e,n){return t instanceof f0?(function(i,s){const o={fields:{[k4]:{stringValue:I4},[N4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Zy(s)&&(s=Yp(s)),s&&(o.fields[R4]=s),{mapValue:o}})(n,e):t instanceof h0?X4(t,e):t instanceof d0?J4(t,e):(function(i,s){const o=Y4(i,s),l=nw(o)+nw(i.Ae);return Kx(o)&&Kx(i.Ae)?K4(l):rv(i.serializer,l)})(t,e)}function g9(t,e,n){return t instanceof h0?X4(t,e):t instanceof d0?J4(t,e):n}function Y4(t,e){return t instanceof lp?(function(r){return Kx(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class f0 extends Qp{}class h0 extends Qp{constructor(e){super(),this.elements=e}}function X4(t,e){const n=Q4(e);for(const r of t.elements)n.some((i=>Ns(i,r)))||n.push(r);return{arrayValue:{values:n}}}class d0 extends Qp{constructor(e){super(),this.elements=e}}function J4(t,e){let n=Q4(e);for(const r of t.elements)n=n.filter((i=>!Ns(i,r)));return{arrayValue:{values:n}}}class lp extends Qp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function nw(t){return Mn(t.integerValue||t.doubleValue)}function Q4(t){return ev(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class f9{constructor(e,n){this.field=e,this.transform=n}}function h9(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof f0&&i instanceof f0||r instanceof h0&&i instanceof h0?rc(r.elements,i.elements,Ns):r instanceof up&&i instanceof up?Ns(r.Ae,i.Ae):r instanceof c0&&i instanceof c0})(t.transform,e.transform)}class d9{constructor(e,n){this.version=e,this.transformResults=n}}class Jr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jr}static exists(e){return new Jr(void 0,e)}static updateTime(e){return new Jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jp{}function Y4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qp(t.key,Jr.none()):new k0(t.key,t.data,Jr.none());{const n=t.data,r=Yr.empty();let i=new Xn(cr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Uo(t.key,r,new hi(i.toArray()),Jr.none())}}function p9(t,e,n){t instanceof k0?(function(i,s,o){const l=i.value.clone(),f=nw(i.fieldTransforms,s,o.transformResults);l.setAll(f),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Uo?(function(i,s,o){if(!zd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=nw(i.fieldTransforms,s,o.transformResults),f=s.data;f.setAll(X4(i)),f.setAll(l),s.convertToFoundDocument(o.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function zf(t,e,n,r){return t instanceof k0?(function(s,o,l,f){if(!zd(s.precondition,o))return l;const c=s.value.clone(),d=rw(s.fieldTransforms,f,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof Uo?(function(s,o,l,f){if(!zd(s.precondition,o))return l;const c=rw(s.fieldTransforms,f,o),d=o.data;return d.setAll(X4(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,o,l){return zd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,n)}function m9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=j4(r.transform,i||null);s!=null&&(n===null&&(n=Yr.empty()),n.set(r.field,s))}return n||null}function tw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&rc(r,i,((s,o)=>h9(s,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class k0 extends Jp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Uo extends Jp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function X4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function nw(t,e,n){const r=new Map;Wt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,c9(o,l,n[i]))}return r}function rw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,l9(s,o,e))}return r}class Qp extends Jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g9 extends Jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
    + */class x9{constructor(e,n){this.field=e,this.transform=n}}function y9(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof h0&&i instanceof h0||r instanceof d0&&i instanceof d0?sc(r.elements,i.elements,Ns):r instanceof lp&&i instanceof lp?Ns(r.Ae,i.Ae):r instanceof f0&&i instanceof f0})(t.transform,e.transform)}class v9{constructor(e,n){this.version=e,this.transformResults=n}}class Jr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jr}static exists(e){return new Jr(void 0,e)}static updateTime(e){return new Jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zp{}function Z4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new em(t.key,Jr.none()):new R0(t.key,t.data,Jr.none());{const n=t.data,r=Yr.empty();let i=new Xn(cr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Bo(t.key,r,new hi(i.toArray()),Jr.none())}}function _9(t,e,n){t instanceof R0?(function(i,s,o){const l=i.value.clone(),f=iw(i.fieldTransforms,s,o.transformResults);l.setAll(f),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Bo?(function(i,s,o){if(!Gd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=iw(i.fieldTransforms,s,o.transformResults),f=s.data;f.setAll(eI(i)),f.setAll(l),s.convertToFoundDocument(o.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Gf(t,e,n,r){return t instanceof R0?(function(s,o,l,f){if(!Gd(s.precondition,o))return l;const c=s.value.clone(),d=sw(s.fieldTransforms,f,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null})(t,e,n,r):t instanceof Bo?(function(s,o,l,f){if(!Gd(s.precondition,o))return l;const c=sw(s.fieldTransforms,f,o),d=o.data;return d.setAll(eI(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,o,l){return Gd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,n)}function T9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Y4(r.transform,i||null);s!=null&&(n===null&&(n=Yr.empty()),n.set(r.field,s))}return n||null}function rw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&sc(r,i,((s,o)=>y9(s,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class R0 extends Zp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bo extends Zp{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function eI(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function iw(t,e,n){const r=new Map;Wt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,g9(o,l,n[i]))}return r}function sw(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,m9(s,o,e))}return r}class em extends Zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E9 extends Zp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class x9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&p9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=z4();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const f=Y4(o,l);f!==null&&r.set(i.key,f),o.isValidDocument()||o.convertToNoDocument(pt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Dt())}isEqual(e){return this.batchId===e.batchId&&rc(this.mutations,e.mutations,((n,r)=>tw(n,r)))&&rc(this.baseMutations,e.baseMutations,((n,r)=>tw(n,r)))}}class ev{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Wt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return i9})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new ev(e,n,r,i)}}/**
    + */class b9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&_9(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=W4();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const f=Z4(o,l);f!==null&&r.set(i.key,f),o.isValidDocument()||o.convertToNoDocument(pt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Dt())}isEqual(e){return this.batchId===e.batchId&&sc(this.mutations,e.mutations,((n,r)=>rw(n,r)))&&sc(this.baseMutations,e.baseMutations,((n,r)=>rw(n,r)))}}class iv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Wt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return c9})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new iv(e,n,r,i)}}/**
      * @license
      * Copyright 2022 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class y9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
    + */class w9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
           largestBatchId: ${this.largestBatchId},
           mutation: ${this.mutation.toString()}
         }`}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class v9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
    + */class S9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */var qn,Lt;function _9(t){switch(t){case Le.OK:return ct(64938);case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0;default:return ct(15467,{code:t})}}function J4(t){if(t===void 0)return _a("GRPC error has no .code"),Le.UNKNOWN;switch(t){case qn.OK:return Le.OK;case qn.CANCELLED:return Le.CANCELLED;case qn.UNKNOWN:return Le.UNKNOWN;case qn.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case qn.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case qn.INTERNAL:return Le.INTERNAL;case qn.UNAVAILABLE:return Le.UNAVAILABLE;case qn.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case qn.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case qn.NOT_FOUND:return Le.NOT_FOUND;case qn.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case qn.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case qn.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case qn.ABORTED:return Le.ABORTED;case qn.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case qn.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case qn.DATA_LOSS:return Le.DATA_LOSS;default:return ct(39323,{code:t})}}(Lt=qn||(qn={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
    + */var qn,Lt;function A9(t){switch(t){case Le.OK:return ct(64938);case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0;default:return ct(15467,{code:t})}}function tI(t){if(t===void 0)return Ta("GRPC error has no .code"),Le.UNKNOWN;switch(t){case qn.OK:return Le.OK;case qn.CANCELLED:return Le.CANCELLED;case qn.UNKNOWN:return Le.UNKNOWN;case qn.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case qn.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case qn.INTERNAL:return Le.INTERNAL;case qn.UNAVAILABLE:return Le.UNAVAILABLE;case qn.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case qn.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case qn.NOT_FOUND:return Le.NOT_FOUND;case qn.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case qn.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case qn.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case qn.ABORTED:return Le.ABORTED;case qn.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case qn.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case qn.DATA_LOSS:return Le.DATA_LOSS;default:return ct(39323,{code:t})}}(Lt=qn||(qn={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
      * @license
      * Copyright 2023 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function T9(){return new TextEncoder}/**
    + */function C9(){return new TextEncoder}/**
      * @license
      * Copyright 2022 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const E9=new vo([4294967295,4294967295],0);function iw(t){const e=T9().encode(t),n=new f4;return n.update(e),new Uint8Array(n.digest())}function sw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new vo([n,r],0),new vo([i,s],0)]}class tv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Df(`Invalid padding: ${n}`);if(r<0)throw new Df(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Df(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Df(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=vo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(vo.fromNumber(r)));return i.compare(E9)===1&&(i=new vo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=iw(e),[r,i]=sw(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new tv(s,i,n);return r.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const n=iw(e),[r,i]=sw(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Df extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
    + */const I9=new To([4294967295,4294967295],0);function aw(t){const e=C9().encode(t),n=new m4;return n.update(e),new Uint8Array(n.digest())}function ow(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new To([n,r],0),new To([i,s],0)]}class sv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mf(`Invalid padding: ${n}`);if(r<0)throw new Mf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=To.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(To.fromNumber(r)));return i.compare(I9)===1&&(i=new To([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=aw(e),[r,i]=ow(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new sv(s,i,n);return r.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const n=aw(e),[r,i]=ow(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Mf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class Zp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,R0.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zp(pt.min(),i,new En(Nt),Ta(),Dt())}}class R0{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new R0(r,n,Dt(),Dt(),Dt())}}/**
    + */class tm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,N0.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new tm(pt.min(),i,new En(Nt),Ea(),Dt())}}class N0{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new N0(r,n,Dt(),Dt(),Dt())}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class Gd{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Q4{constructor(e,n){this.targetId=e,this.Ce=n}}class Z4{constructor(e,n,r=dr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class aw{constructor(){this.ve=0,this.Fe=ow(),this.Me=dr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Dt(),n=Dt(),r=Dt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ct(38017,{changeType:s})}})),new R0(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ow()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class b9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ta(),this.Je=md(),this.He=md(),this.Ye=new En(Nt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ct(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Wx(s))if(r===0){const o=new it(s.path);this.et(n,o,Tr.newNoDocument(o,pt.min()))}else Wt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),f=l?this.ct(l,e,o):1;if(f!==0){this.it(n);const c=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Io(r).toUint8Array()}catch(f){if(f instanceof b4)return nc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{l=new tv(o,i,s)}catch(f){return nc(f instanceof Df?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,o)=>{const l=this.ot(o);if(l){if(s.current&&Wx(l.target)){const f=new it(l.target.path);this.It(f).has(o)||this.Et(o,f)||this.et(o,f,Tr.newNoDocument(f,e))}s.Be&&(n.set(o,s.ke()),s.qe())}}));let r=Dt();this.He.forEach(((s,o)=>{let l=!0;o.forEachWhile((f=>{const c=this.ot(f);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new Zp(e,n,this.Ye,this.je,r);return this.je=Ta(),this.Je=md(),this.He=md(),this.Ye=new En(Nt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new aw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Xn(Nt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Xn(Nt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Je("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new aw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function md(){return new En(it.comparator)}function ow(){return new En(it.comparator)}const w9={asc:"ASCENDING",desc:"DESCENDING"},S9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A9={and:"AND",or:"OR"};class C9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xx(t,e){return t.useProto3Json||$p(e)?e:{value:e}}function lp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function I9(t,e){return lp(t,e.toTimestamp())}function Is(t){return Wt(!!t,49232),pt.fromTimestamp((function(n){const r=Co(n);return new xn(r.seconds,r.nanos)})(t))}function nv(t,e){return Jx(t,e).canonicalString()}function Jx(t,e){const n=(function(i){return new hn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function tI(t){const e=hn.fromString(t);return Wt(aI(e),10190,{key:e.toString()}),e}function Qx(t,e){return nv(t.databaseId,e.path)}function M1(t,e){const n=tI(e);if(n.get(1)!==t.databaseId.projectId)throw new Xe(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Xe(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new it(rI(n))}function nI(t,e){return nv(t.databaseId,e)}function k9(t){const e=tI(t);return e.length===4?hn.emptyPath():rI(e)}function Zx(t){return new hn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rI(t){return Wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function uw(t,e,n){return{name:Qx(t,e),fields:n.value.mapValue.fields}}function R9(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ct(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(c,d){return c.useProto3Json?(Wt(d===void 0||typeof d=="string",58123),dr.fromBase64String(d||"")):(Wt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),dr.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(c){const d=c.code===void 0?Le.UNKNOWN:J4(c.code);return new Xe(d,c.message||"")})(o);n=new Z4(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=M1(t,r.document.name),s=Is(r.document.updateTime),o=r.document.createTime?Is(r.document.createTime):pt.min(),l=new Yr({mapValue:{fields:r.document.fields}}),f=Tr.newFoundDocument(i,s,o,l),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Gd(c,d,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=M1(t,r.document),s=r.readTime?Is(r.readTime):pt.min(),o=Tr.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Gd([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=M1(t,r.document),s=r.removedTargetIds||[];n=new Gd([],s,i,null)}else{if(!("filter"in e))return ct(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new v9(i,s),l=r.targetId;n=new Q4(l,o)}}return n}function N9(t,e){let n;if(e instanceof k0)n={update:uw(t,e.key,e.value)};else if(e instanceof Qp)n={delete:Qx(t,e.key)};else if(e instanceof Uo)n={update:uw(t,e.key,e.data),updateMask:B9(e.fieldMask)};else{if(!(e instanceof g9))return ct(16599,{Vt:e.type});n={verify:Qx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,o){const l=o.transform;if(l instanceof c0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof f0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof h0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof up)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw ct(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:I9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ct(27497)})(t,e.precondition)),n}function D9(t,e){return t&&t.length>0?(Wt(e!==void 0,14353),t.map((n=>(function(i,s){let o=i.updateTime?Is(i.updateTime):Is(s);return o.isEqual(pt.min())&&(o=Is(s)),new d9(o,i.transformResults||[])})(n,e)))):[]}function M9(t,e){return{documents:[nI(t,e.path)]}}function P9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nI(t,i);const s=(function(c){if(c.length!==0)return sI(os.create(c,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const o=(function(c){if(c.length!==0)return c.map((d=>(function(p){return{field:Ul(p.field),direction:F9(p.dir)}})(d)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Xx(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:i}}function L9(t){let e=k9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Wt(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=(function(g){const p=iI(g);return p instanceof os&&M4(p)?p.getFilters():[p]})(n.where));let o=[];n.orderBy&&(o=(function(g){return g.map((p=>(function(_){return new l0(Vl(_.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(p)))})(n.orderBy));let l=null;n.limit&&(l=(function(g){let p;return p=typeof g=="object"?g.value:g,$p(p)?null:p})(n.limit));let f=null;n.startAt&&(f=(function(g){const p=!!g.before,x=g.values||[];return new op(x,p)})(n.startAt));let c=null;return n.endAt&&(c=(function(g){const p=!g.before,x=g.values||[];return new op(x,p)})(n.endAt)),ZP(e,i,o,s,l,"F",f,c)}function O9(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vl(n.unaryFilter.field);return Gn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vl(n.unaryFilter.field);return Gn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Vl(n.unaryFilter.field);return Gn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Vl(n.unaryFilter.field);return Gn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ct(61313);default:return ct(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Gn.create(Vl(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ct(58110);default:return ct(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return os.create(n.compositeFilter.filters.map((r=>iI(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ct(1026)}})(n.compositeFilter.op))})(t):ct(30097,{filter:t})}function F9(t){return w9[t]}function U9(t){return S9[t]}function V9(t){return A9[t]}function Ul(t){return{fieldPath:t.canonicalString()}}function Vl(t){return cr.fromServerFormat(t.fieldPath)}function sI(t){return t instanceof Gn?(function(n){if(n.op==="=="){if(Yb(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NAN"}};if(Kb(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Yb(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NOT_NAN"}};if(Kb(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ul(n.field),op:U9(n.op),value:n.value}}})(t):t instanceof os?(function(n){const r=n.getFilters().map((i=>sI(i)));return r.length===1?r[0]:{compositeFilter:{op:V9(n.op),filters:r}}})(t):ct(54877,{filter:t})}function B9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function aI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
    + */class jd{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class nI{constructor(e,n){this.targetId=e,this.Ce=n}}class rI{constructor(e,n,r=dr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class uw{constructor(){this.ve=0,this.Fe=lw(),this.Me=dr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Dt(),n=Dt(),r=Dt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ct(38017,{changeType:s})}})),new N0(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=lw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class k9{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ea(),this.Je=gd(),this.He=gd(),this.Ye=new En(Nt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ct(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Xx(s))if(r===0){const o=new it(s.path);this.et(n,o,Tr.newNoDocument(o,pt.min()))}else Wt(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),f=l?this.ct(l,e,o):1;if(f!==0){this.it(n);const c=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Ro(r).toUint8Array()}catch(f){if(f instanceof C4)return ic("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{l=new sv(o,i,s)}catch(f){return ic(f instanceof Mf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,o)=>{const l=this.ot(o);if(l){if(s.current&&Xx(l.target)){const f=new it(l.target.path);this.It(f).has(o)||this.Et(o,f)||this.et(o,f,Tr.newNoDocument(f,e))}s.Be&&(n.set(o,s.ke()),s.qe())}}));let r=Dt();this.He.forEach(((s,o)=>{let l=!0;o.forEachWhile((f=>{const c=this.ot(f);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new tm(e,n,this.Ye,this.je,r);return this.je=Ea(),this.Je=gd(),this.He=gd(),this.Ye=new En(Nt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new uw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Xn(Nt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Xn(Nt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Je("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new uw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gd(){return new En(it.comparator)}function lw(){return new En(it.comparator)}const R9={asc:"ASCENDING",desc:"DESCENDING"},N9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D9={and:"AND",or:"OR"};class M9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zx(t,e){return t.useProto3Json||Kp(e)?e:{value:e}}function cp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function P9(t,e){return cp(t,e.toTimestamp())}function Is(t){return Wt(!!t,49232),pt.fromTimestamp((function(n){const r=ko(n);return new xn(r.seconds,r.nanos)})(t))}function av(t,e){return ey(t,e).canonicalString()}function ey(t,e){const n=(function(i){return new hn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function sI(t){const e=hn.fromString(t);return Wt(cI(e),10190,{key:e.toString()}),e}function ty(t,e){return av(t.databaseId,e.path)}function O1(t,e){const n=sI(e);if(n.get(1)!==t.databaseId.projectId)throw new Xe(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Xe(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new it(oI(n))}function aI(t,e){return av(t.databaseId,e)}function L9(t){const e=sI(t);return e.length===4?hn.emptyPath():oI(e)}function ny(t){return new hn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oI(t){return Wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cw(t,e,n){return{name:ty(t,e),fields:n.value.mapValue.fields}}function O9(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ct(39313,{state:c})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(c,d){return c.useProto3Json?(Wt(d===void 0||typeof d=="string",58123),dr.fromBase64String(d||"")):(Wt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),dr.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(c){const d=c.code===void 0?Le.UNKNOWN:tI(c.code);return new Xe(d,c.message||"")})(o);n=new rI(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=O1(t,r.document.name),s=Is(r.document.updateTime),o=r.document.createTime?Is(r.document.createTime):pt.min(),l=new Yr({mapValue:{fields:r.document.fields}}),f=Tr.newFoundDocument(i,s,o,l),c=r.targetIds||[],d=r.removedTargetIds||[];n=new jd(c,d,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=O1(t,r.document),s=r.readTime?Is(r.readTime):pt.min(),o=Tr.newNoDocument(i,s),l=r.removedTargetIds||[];n=new jd([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=O1(t,r.document),s=r.removedTargetIds||[];n=new jd([],s,i,null)}else{if(!("filter"in e))return ct(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new S9(i,s),l=r.targetId;n=new nI(l,o)}}return n}function F9(t,e){let n;if(e instanceof R0)n={update:cw(t,e.key,e.value)};else if(e instanceof em)n={delete:ty(t,e.key)};else if(e instanceof Bo)n={update:cw(t,e.key,e.data),updateMask:$9(e.fieldMask)};else{if(!(e instanceof E9))return ct(16599,{Vt:e.type});n={verify:ty(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,o){const l=o.transform;if(l instanceof f0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof h0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof d0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof lp)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw ct(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:P9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ct(27497)})(t,e.precondition)),n}function U9(t,e){return t&&t.length>0?(Wt(e!==void 0,14353),t.map((n=>(function(i,s){let o=i.updateTime?Is(i.updateTime):Is(s);return o.isEqual(pt.min())&&(o=Is(s)),new v9(o,i.transformResults||[])})(n,e)))):[]}function V9(t,e){return{documents:[aI(t,e.path)]}}function B9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aI(t,i);const s=(function(c){if(c.length!==0)return lI(os.create(c,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const o=(function(c){if(c.length!==0)return c.map((d=>(function(p){return{field:Bl(p.field),direction:z9(p.dir)}})(d)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Zx(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(c){return{before:c.inclusive,values:c.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(c){return{before:!c.inclusive,values:c.position}})(e.endAt)),{ft:n,parent:i}}function q9(t){let e=L9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Wt(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=(function(g){const p=uI(g);return p instanceof os&&F4(p)?p.getFilters():[p]})(n.where));let o=[];n.orderBy&&(o=(function(g){return g.map((p=>(function(_){return new c0(ql(_.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(_.direction))})(p)))})(n.orderBy));let l=null;n.limit&&(l=(function(g){let p;return p=typeof g=="object"?g.value:g,Kp(p)?null:p})(n.limit));let f=null;n.startAt&&(f=(function(g){const p=!!g.before,x=g.values||[];return new up(x,p)})(n.startAt));let c=null;return n.endAt&&(c=(function(g){const p=!g.before,x=g.values||[];return new up(x,p)})(n.endAt)),s9(e,i,o,s,l,"F",f,c)}function H9(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ql(n.unaryFilter.field);return Gn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ql(n.unaryFilter.field);return Gn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ql(n.unaryFilter.field);return Gn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ql(n.unaryFilter.field);return Gn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ct(61313);default:return ct(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Gn.create(ql(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ct(58110);default:return ct(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return os.create(n.compositeFilter.filters.map((r=>uI(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ct(1026)}})(n.compositeFilter.op))})(t):ct(30097,{filter:t})}function z9(t){return R9[t]}function G9(t){return N9[t]}function j9(t){return D9[t]}function Bl(t){return{fieldPath:t.canonicalString()}}function ql(t){return cr.fromServerFormat(t.fieldPath)}function lI(t){return t instanceof Gn?(function(n){if(n.op==="=="){if(Jb(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NAN"}};if(Xb(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jb(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NOT_NAN"}};if(Xb(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bl(n.field),op:G9(n.op),value:n.value}}})(t):t instanceof os?(function(n){const r=n.getFilters().map((i=>lI(i)));return r.length===1?r[0]:{compositeFilter:{op:j9(n.op),filters:r}}})(t):ct(54877,{filter:t})}function $9(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function cI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class fo{constructor(e,n,r,i,s=pt.min(),o=pt.min(),l=dr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=f}withSequenceNumber(e){return new fo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
    + */class po{constructor(e,n,r,i,s=pt.min(),o=pt.min(),l=dr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=f}withSequenceNumber(e){return new po(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class q9{constructor(e){this.yt=e}}function H9(t){const e=L9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yx(e,e.limit,"L"):e}/**
    + */class W9{constructor(e){this.yt=e}}function K9(t){const e=q9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qx(e,e.limit,"L"):e}/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class z9{constructor(){this.Cn=new G9}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ue.resolve()}getCollectionParents(e,n){return Ue.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ue.resolve()}deleteFieldIndex(e,n){return Ue.resolve()}deleteAllFieldIndexes(e){return Ue.resolve()}createTargetIndexes(e,n){return Ue.resolve()}getDocumentsMatchingTarget(e,n){return Ue.resolve(null)}getIndexType(e,n){return Ue.resolve(0)}getFieldIndexes(e,n){return Ue.resolve([])}getNextCollectionGroupToUpdate(e){return Ue.resolve(null)}getMinOffset(e,n){return Ue.resolve(Ao.min())}getMinOffsetFromCollectionGroup(e,n){return Ue.resolve(Ao.min())}updateCollectionGroup(e,n,r){return Ue.resolve()}updateIndexEntries(e,n){return Ue.resolve()}}class G9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xn(hn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xn(hn.comparator)).toArray()}}/**
    + */class Y9{constructor(){this.Cn=new X9}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ue.resolve()}getCollectionParents(e,n){return Ue.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ue.resolve()}deleteFieldIndex(e,n){return Ue.resolve()}deleteAllFieldIndexes(e){return Ue.resolve()}createTargetIndexes(e,n){return Ue.resolve()}getDocumentsMatchingTarget(e,n){return Ue.resolve(null)}getIndexType(e,n){return Ue.resolve(0)}getFieldIndexes(e,n){return Ue.resolve([])}getNextCollectionGroupToUpdate(e){return Ue.resolve(null)}getMinOffset(e,n){return Ue.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,n){return Ue.resolve(Io.min())}updateCollectionGroup(e,n,r){return Ue.resolve()}updateIndexEntries(e,n){return Ue.resolve()}}class X9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xn(hn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xn(hn.comparator)).toArray()}}/**
      * @license
      * Copyright 2018 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const lw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oI=41943040;class Kr{static withCacheSize(e){return new Kr(e,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
    + */const fw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fI=41943040;class Kr{static withCacheSize(e){return new Kr(e,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */Kr.DEFAULT_COLLECTION_PERCENTILE=10,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kr.DEFAULT=new Kr(oI,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kr.DISABLED=new Kr(-1,0,0);/**
    + */Kr.DEFAULT_COLLECTION_PERCENTILE=10,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kr.DEFAULT=new Kr(fI,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kr.DISABLED=new Kr(-1,0,0);/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class ac{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ac(0)}static cr(){return new ac(-1)}}/**
    + */class uc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new uc(0)}static cr(){return new uc(-1)}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const cw="LruGarbageCollector",j9=1048576;function fw([t,e],[n,r]){const i=Nt(t,n);return i===0?Nt(e,r):i}class $9{constructor(e){this.Ir=e,this.buffer=new Xn(fw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class W9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Je(cw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){gc(n)?Je(cw,"Ignoring IndexedDB error during garbage collection: ",n):await mc(n)}await this.Vr(3e5)}))}}class K9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ue.resolve(jp.ce);const r=new $9(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Je("LruGarbageCollector","Garbage collection skipped; disabled"),Ue.resolve(lw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Je("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,l,f,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,l=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(c=Date.now(),Ol()<=Rt.DEBUG&&Je("LruGarbageCollector",`LRU Garbage Collection
    + */const hw="LruGarbageCollector",J9=1048576;function dw([t,e],[n,r]){const i=Nt(t,n);return i===0?Nt(e,r):i}class Q9{constructor(e){this.Ir=e,this.buffer=new Xn(dw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Z9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Je(hw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yc(n)?Je(hw,"Ignoring IndexedDB error during garbage collection: ",n):await xc(n)}await this.Vr(3e5)}))}}class eL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ue.resolve(Wp.ce);const r=new Q9(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Je("LruGarbageCollector","Garbage collection skipped; disabled"),Ue.resolve(fw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Je("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,l,f,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,o=Date.now(),this.nthSequenceNumber(e,i)))).next((g=>(r=g,l=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(c=Date.now(),Ul()<=Rt.DEBUG&&Je("LruGarbageCollector",`LRU Garbage Collection
         Counted targets in ${o-d}ms
         Determined least recently used ${i} in `+(l-o)+`ms
         Removed ${s} targets in `+(f-l)+`ms
         Removed ${g} documents in `+(c-f)+`ms
    -Total Duration: ${c-d}ms`),Ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function Y9(t,e){return new K9(t,e)}/**
    +Total Duration: ${c-d}ms`),Ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g}))))}}function tL(t,e){return new eL(t,e)}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class X9{constructor(){this.changes=new Fu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ue.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
    + */class nL{constructor(){this.changes=new Uu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ue.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
      *//**
      * @license
      * Copyright 2022 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class J9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
    + */class rL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class Q9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&zf(r.mutation,i,hi.empty(),xn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Dt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Dt()){const i=Tu();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let o=Nf();return s.forEach(((l,f)=>{o=o.insert(l,f.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Tu();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Dt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(e,n,r,i){let s=Ta();const o=Hf(),l=(function(){return Hf()})();return n.forEach(((f,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Uo)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),zf(d.mutation,c,d.mutation.getFieldMask(),xn.now())):o.set(c.key,hi.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((c,d)=>o.set(c,d))),n.forEach(((c,d)=>l.set(c,new J9(d,o.get(c)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=Hf();let i=new En(((o,l)=>o-l)),s=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const l of o)l.keys().forEach((f=>{const c=n.get(f);if(c===null)return;let d=r.get(f)||hi.empty();d=l.applyToLocalView(c,d),r.set(f,d);const g=(i.get(l.batchId)||Dt()).add(f);i=i.insert(l.batchId,g)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const f=l.getNext(),c=f.key,d=f.value,g=z4();d.forEach((p=>{if(!s.has(p)){const x=Y4(n.get(p),r.get(p));x!==null&&g.set(p,x),s=s.add(p)}})),o.push(this.documentOverlayCache.saveOverlays(e,c,g))}return Ue.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return it.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):U4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ue.resolve(Tu());let l=s0,f=s;return o.next((c=>Ue.forEach(c,((d,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(d)?Ue.resolve():this.remoteDocumentCache.getEntry(e,d).next((p=>{f=f.insert(d,p)}))))).next((()=>this.populateOverlays(e,c,s))).next((()=>this.computeViews(e,f,c,Dt()))).next((d=>({batchId:l,changes:H4(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new it(n)).next((r=>{let i=Nf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Nf();return this.indexManager.getCollectionParents(e,s).next((l=>Ue.forEach(l,(f=>{const c=(function(g,p){return new xc(p,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next((d=>{d.forEach(((g,p)=>{o=o.insert(g,p)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((o=>{s.forEach(((f,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Tr.newInvalidDocument(d)))}));let l=Nf();return o.forEach(((f,c)=>{const d=s.get(f);d!==void 0&&zf(d.mutation,c,hi.empty(),xn.now()),Yp(n,c)&&(l=l.insert(f,c))})),l}))}}/**
    + */class iL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Gf(r.mutation,i,hi.empty(),xn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Dt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Dt()){const i=Eu();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let o=Df();return s.forEach(((l,f)=>{o=o.insert(l,f.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Eu();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Dt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(e,n,r,i){let s=Ea();const o=zf(),l=(function(){return zf()})();return n.forEach(((f,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Bo)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Gf(d.mutation,c,d.mutation.getFieldMask(),xn.now())):o.set(c.key,hi.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((c,d)=>o.set(c,d))),n.forEach(((c,d)=>l.set(c,new rL(d,o.get(c)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=zf();let i=new En(((o,l)=>o-l)),s=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const l of o)l.keys().forEach((f=>{const c=n.get(f);if(c===null)return;let d=r.get(f)||hi.empty();d=l.applyToLocalView(c,d),r.set(f,d);const g=(i.get(l.batchId)||Dt()).add(f);i=i.insert(l.batchId,g)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const f=l.getNext(),c=f.key,d=f.value,g=W4();d.forEach((p=>{if(!s.has(p)){const x=Z4(n.get(p),r.get(p));x!==null&&g.set(p,x),s=s.add(p)}})),o.push(this.documentOverlayCache.saveOverlays(e,c,g))}return Ue.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return it.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):H4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ue.resolve(Eu());let l=a0,f=s;return o.next((c=>Ue.forEach(c,((d,g)=>(l<g.largestBatchId&&(l=g.largestBatchId),s.get(d)?Ue.resolve():this.remoteDocumentCache.getEntry(e,d).next((p=>{f=f.insert(d,p)}))))).next((()=>this.populateOverlays(e,c,s))).next((()=>this.computeViews(e,f,c,Dt()))).next((d=>({batchId:l,changes:$4(d)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new it(n)).next((r=>{let i=Df();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Df();return this.indexManager.getCollectionParents(e,s).next((l=>Ue.forEach(l,(f=>{const c=(function(g,p){return new vc(p,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next((d=>{d.forEach(((g,p)=>{o=o.insert(g,p)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((o=>{s.forEach(((f,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Tr.newInvalidDocument(d)))}));let l=Df();return o.forEach(((f,c)=>{const d=s.get(f);d!==void 0&&Gf(d.mutation,c,hi.empty(),xn.now()),Jp(n,c)&&(l=l.insert(f,c))})),l}))}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class Z9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ue.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Is(i.createTime)}})(n)),Ue.resolve()}getNamedQuery(e,n){return Ue.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:H9(i.bundledQuery),readTime:Is(i.readTime)}})(n)),Ue.resolve()}}/**
    + */class sL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ue.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Is(i.createTime)}})(n)),Ue.resolve()}getNamedQuery(e,n){return Ue.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:K9(i.bundledQuery),readTime:Is(i.readTime)}})(n)),Ue.resolve()}}/**
      * @license
      * Copyright 2022 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class eL{constructor(){this.overlays=new En(it.comparator),this.qr=new Map}getOverlay(e,n){return Ue.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Tu();return Ue.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),Ue.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Ue.resolve()}getOverlaysForCollection(e,n,r){const i=Tu(),s=n.length+1,o=new it(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const f=l.getNext().value,c=f.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Ue.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new En(((c,d)=>c-d));const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Tu(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=Tu(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((c,d)=>l.set(c,d))),!(l.size()>=i)););return Ue.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new y9(n,r));let s=this.qr.get(n);s===void 0&&(s=Dt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
    + */class aL{constructor(){this.overlays=new En(it.comparator),this.qr=new Map}getOverlay(e,n){return Ue.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Eu();return Ue.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),Ue.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),Ue.resolve()}getOverlaysForCollection(e,n,r){const i=Eu(),s=n.length+1,o=new it(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const f=l.getNext().value,c=f.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return Ue.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new En(((c,d)=>c-d));const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Eu(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=Eu(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((c,d)=>l.set(c,d))),!(l.size()>=i)););return Ue.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new w9(n,r));let s=this.qr.get(n);s===void 0&&(s=Dt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
      * @license
      * Copyright 2024 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class tL{constructor(){this.sessionToken=dr.EMPTY_BYTE_STRING}getSessionToken(e){return Ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ue.resolve()}}/**
    + */class oL{constructor(){this.sessionToken=dr.EMPTY_BYTE_STRING}getSessionToken(e){return Ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ue.resolve()}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class rv{constructor(){this.Qr=new Xn(er.$r),this.Ur=new Xn(er.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new er(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new er(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new it(new hn([])),r=new er(n,e),i=new er(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new it(new hn([])),r=new er(n,e),i=new er(n,e+1);let s=Dt();return this.Ur.forEachInRange([r,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const n=new er(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class er{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return it.comparator(e.key,n.key)||Nt(e.Yr,n.Yr)}static Kr(e,n){return Nt(e.Yr,n.Yr)||it.comparator(e.key,n.key)}}/**
    + */class ov{constructor(){this.Qr=new Xn(er.$r),this.Ur=new Xn(er.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new er(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new er(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new it(new hn([])),r=new er(n,e),i=new er(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new it(new hn([])),r=new er(n,e),i=new er(n,e+1);let s=Dt();return this.Ur.forEachInRange([r,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const n=new er(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class er{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return it.comparator(e.key,n.key)||Nt(e.Yr,n.Yr)}static Kr(e,n){return Nt(e.Yr,n.Yr)||it.comparator(e.key,n.key)}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class nL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xn(er.$r)}checkEmpty(e){return Ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new x9(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new er(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Ue.resolve(o)}lookupMutationBatch(e,n){return Ue.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Ue.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ue.resolve(this.mutationQueue.length===0?Ky:this.tr-1)}getAllMutationBatches(e){return Ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new er(n,0),i=new er(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(o=>{const l=this.Xr(o.Yr);s.push(l)})),Ue.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xn(Nt);return n.forEach((i=>{const s=new er(i,0),o=new er(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(l=>{r=r.add(l.Yr)}))})),Ue.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;it.isDocumentKey(s)||(s=s.child(""));const o=new er(new it(s),0);let l=new Xn(Nt);return this.Zr.forEachWhile((f=>{const c=f.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(f.Yr)),!0)}),o),Ue.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Wt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ue.forEach(n.mutations,(i=>{const s=new er(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new er(n,0),i=this.Zr.firstAfterOrEqual(r);return Ue.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ue.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
    + */class uL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xn(er.$r)}checkEmpty(e){return Ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new b9(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new er(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Ue.resolve(o)}lookupMutationBatch(e,n){return Ue.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return Ue.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ue.resolve(this.mutationQueue.length===0?Qy:this.tr-1)}getAllMutationBatches(e){return Ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new er(n,0),i=new er(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(o=>{const l=this.Xr(o.Yr);s.push(l)})),Ue.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xn(Nt);return n.forEach((i=>{const s=new er(i,0),o=new er(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(l=>{r=r.add(l.Yr)}))})),Ue.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;it.isDocumentKey(s)||(s=s.child(""));const o=new er(new it(s),0);let l=new Xn(Nt);return this.Zr.forEachWhile((f=>{const c=f.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(f.Yr)),!0)}),o),Ue.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Wt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ue.forEach(n.mutations,(i=>{const s=new er(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new er(n,0),i=this.Zr.firstAfterOrEqual(r);return Ue.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ue.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class rL{constructor(e){this.ri=e,this.docs=(function(){return new En(it.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ue.resolve(r?r.document.mutableCopy():Tr.newInvalidDocument(n))}getEntries(e,n){let r=Ta();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tr.newInvalidDocument(i))})),Ue.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ta();const o=n.path,l=new it(o.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(l);for(;f.hasNext();){const{key:c,value:{document:d}}=f.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||NP(RP(d),r)<=0||(i.has(d.key)||Yp(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Ue.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ct(9500)}ii(e,n){return Ue.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new iL(this)}getSize(e){return Ue.resolve(this.size)}}class iL extends X9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Ue.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
    + */class lL{constructor(e){this.ri=e,this.docs=(function(){return new En(it.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ue.resolve(r?r.document.mutableCopy():Tr.newInvalidDocument(n))}getEntries(e,n){let r=Ea();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tr.newInvalidDocument(i))})),Ue.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ea();const o=n.path,l=new it(o.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(l);for(;f.hasNext();){const{key:c,value:{document:d}}=f.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||FP(OP(d),r)<=0||(i.has(d.key)||Jp(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return Ue.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ct(9500)}ii(e,n){return Ue.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new cL(this)}getSize(e){return Ue.resolve(this.size)}}class cL extends nL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Ue.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class sL{constructor(e){this.persistence=e,this.si=new Fu((n=>Jy(n)),Qy),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.oi=0,this._i=new rv,this.targetCount=0,this.ai=ac.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Ue.resolve()}getLastRemoteSnapshotVersion(e){return Ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ue.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ac(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ue.resolve()}updateTargetData(e,n){return this.Pr(n),Ue.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ue.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),Ue.waitFor(s).next((()=>i))}getTargetCount(e){return Ue.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ue.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ue.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),Ue.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ue.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ue.resolve(r)}containsKey(e,n){return Ue.resolve(this._i.containsKey(n))}}/**
    + */class fL{constructor(e){this.persistence=e,this.si=new Uu((n=>tv(n)),nv),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.oi=0,this._i=new ov,this.targetCount=0,this.ai=uc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Ue.resolve()}getLastRemoteSnapshotVersion(e){return Ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ue.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new uc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ue.resolve()}updateTargetData(e,n){return this.Pr(n),Ue.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ue.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),Ue.waitFor(s).next((()=>i))}getTargetCount(e){return Ue.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ue.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ue.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),Ue.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ue.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ue.resolve(r)}containsKey(e,n){return Ue.resolve(this._i.containsKey(n))}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class uI{constructor(e,n){this.ui={},this.overlays={},this.ci=new jp(0),this.li=!1,this.li=!0,this.hi=new tL,this.referenceDelegate=e(this),this.Pi=new sL(this),this.indexManager=new z9,this.remoteDocumentCache=(function(i){return new rL(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new q9(n),this.Ii=new Z9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new nL(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Je("MemoryPersistence","Starting transaction:",e);const i=new aL(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return Ue.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class aL extends MP{constructor(e){super(),this.currentSequenceNumber=e}}class iv{constructor(e){this.persistence=e,this.Ri=new rv,this.Vi=null}static mi(e){return new iv(e)}get fi(){if(this.Vi)return this.Vi;throw ct(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ue.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ue.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ue.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ue.forEach(this.fi,(r=>{const i=it.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,pt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ue.or([()=>Ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class cp{constructor(e,n){this.persistence=e,this.pi=new Fu((r=>OP(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=Y9(this,n)}static mi(e,n){return new cp(e,n)}Ei(){}di(e){return Ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ue.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Ue.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((l=>{l||(r++,s.removeEntry(o,pt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ue.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ue.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ue.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ue.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qd(e.data.value)),n}br(e,n,r){return Ue.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Ue.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
    + */class hI{constructor(e,n){this.ui={},this.overlays={},this.ci=new Wp(0),this.li=!1,this.li=!0,this.hi=new oL,this.referenceDelegate=e(this),this.Pi=new fL(this),this.indexManager=new Y9,this.remoteDocumentCache=(function(i){return new lL(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new W9(n),this.Ii=new sL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new uL(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Je("MemoryPersistence","Starting transaction:",e);const i=new hL(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return Ue.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class hL extends VP{constructor(e){super(),this.currentSequenceNumber=e}}class uv{constructor(e){this.persistence=e,this.Ri=new ov,this.Vi=null}static mi(e){return new uv(e)}get fi(){if(this.Vi)return this.Vi;throw ct(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ue.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ue.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ue.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ue.forEach(this.fi,(r=>{const i=it.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,pt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ue.or([()=>Ue.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class fp{constructor(e,n){this.persistence=e,this.pi=new Uu((r=>HP(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=tL(this,n)}static mi(e,n){return new fp(e,n)}Ei(){}di(e){return Ue.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ue.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?Ue.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((l=>{l||(r++,s.removeEntry(o,pt.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ue.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ue.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ue.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ue.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hd(e.data.value)),n}br(e,n,r){return Ue.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Ue.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class sv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Dt(),i=Dt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new sv(e,n.fromCache,r,i)}}/**
    + */class lv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Dt(),i=Dt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new lv(e,n.fromCache,r,i)}}/**
      * @license
      * Copyright 2023 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class oL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
    + */class dL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class uL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return U8()?8:PP(Ar())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new oL;return this.Ss(e,n,o).next((l=>{if(s.result=l,this.Vs)return this.bs(e,n,o,l.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ol()<=Rt.DEBUG&&Je("QueryEngine","SDK will not create cache indexes for query:",Fl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ue.resolve()):(Ol()<=Rt.DEBUG&&Je("QueryEngine","Query:",Fl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ol()<=Rt.DEBUG&&Je("QueryEngine","The SDK decides to create cache indexes for query:",Fl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cs(n))):Ue.resolve())}ys(e,n){if(Zb(n))return Ue.resolve(null);let r=Cs(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Yx(n,null,"F"),r=Cs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const o=Dt(...s);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,r).next((f=>{const c=this.Ds(n,l);return this.Cs(n,c,o,f.readTime)?this.ys(e,Yx(n,null,"F")):this.vs(e,c,n,f)}))))})))))}ws(e,n,r,i){return Zb(n)||i.isEqual(pt.min())?Ue.resolve(null):this.ps.getDocuments(e,r).next((s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?Ue.resolve(null):(Ol()<=Rt.DEBUG&&Je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fl(n)),this.vs(e,o,n,kP(i,s0)).next((l=>l)))}))}Ds(e,n){let r=new Xn(B4(e));return n.forEach(((i,s)=>{Yp(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Ol()<=Rt.DEBUG&&Je("QueryEngine","Using full collection scan to execute query:",Fl(n)),this.ps.getDocumentsMatchingQuery(e,n,Ao.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
    + */class pL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return G8()?8:BP(Ar())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new dL;return this.Ss(e,n,o).next((l=>{if(s.result=l,this.Vs)return this.bs(e,n,o,l.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ul()<=Rt.DEBUG&&Je("QueryEngine","SDK will not create cache indexes for query:",Vl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ue.resolve()):(Ul()<=Rt.DEBUG&&Je("QueryEngine","Query:",Vl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ul()<=Rt.DEBUG&&Je("QueryEngine","The SDK decides to create cache indexes for query:",Vl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cs(n))):Ue.resolve())}ys(e,n){if(tw(n))return Ue.resolve(null);let r=Cs(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Qx(n,null,"F"),r=Cs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const o=Dt(...s);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,r).next((f=>{const c=this.Ds(n,l);return this.Cs(n,c,o,f.readTime)?this.ys(e,Qx(n,null,"F")):this.vs(e,c,n,f)}))))})))))}ws(e,n,r,i){return tw(n)||i.isEqual(pt.min())?Ue.resolve(null):this.ps.getDocuments(e,r).next((s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?Ue.resolve(null):(Ul()<=Rt.DEBUG&&Je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vl(n)),this.vs(e,o,n,LP(i,a0)).next((l=>l)))}))}Ds(e,n){let r=new Xn(G4(e));return n.forEach(((i,s)=>{Jp(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Ul()<=Rt.DEBUG&&Je("QueryEngine","Using full collection scan to execute query:",Vl(n)),this.ps.getDocumentsMatchingQuery(e,n,Io.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const av="LocalStore",lL=3e8;class cL{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new En(Nt),this.xs=new Fu((s=>Jy(s)),Qy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function fL(t,e,n,r){return new cL(t,e,n,r)}async function lI(t,e){const n=xt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const o=[],l=[];let f=Dt();for(const c of i){o.push(c.batchId);for(const d of c.mutations)f=f.add(d.key)}for(const c of s){l.push(c.batchId);for(const d of c.mutations)f=f.add(d.key)}return n.localDocuments.getDocuments(r,f).next((c=>({Ls:c,removedBatchIds:o,addedBatchIds:l})))}))}))}function hL(t,e){const n=xt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,f,c,d){const g=c.batch,p=g.keys();let x=Ue.resolve();return p.forEach((_=>{x=x.next((()=>d.getEntry(f,_))).next((b=>{const C=c.docVersions.get(_);Wt(C!==null,48541),b.version.compareTo(C)<0&&(g.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),d.addEntry(b)))}))})),x.next((()=>l.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let f=Dt();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(f=f.add(l.batch.mutations[c].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function cI(t){const e=xt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function dL(t,e){const n=xt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((d,g)=>{const p=i.get(g);if(!p)return;l.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,d.addedDocuments,g))));let x=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?x=x.withResumeToken(dr.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):d.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(d.resumeToken,r)),i=i.insert(g,x),(function(b,C,I){return b.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=lL?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(p,x,d)&&l.push(n.Pi.updateTargetData(s,x))}));let f=Ta(),c=Dt();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))})),l.push(pL(s,o,e.documentUpdates).next((d=>{f=d.ks,c=d.qs}))),!r.isEqual(pt.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));l.push(d)}return Ue.waitFor(l).next((()=>o.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,c))).next((()=>f))})).then((s=>(n.Ms=i,s)))}function pL(t,e,n){let r=Dt(),i=Dt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let o=Ta();return n.forEach(((l,f)=>{const c=s.get(l);f.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),f.isNoDocument()&&f.version.isEqual(pt.min())?(e.removeEntry(l,f.readTime),o=o.insert(l,f)):!c.isValidDocument()||f.version.compareTo(c.version)>0||f.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(f),o=o.insert(l,f)):Je(av,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",f.version)})),{ks:o,qs:i}}))}function mL(t,e){const n=xt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ky),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function gL(t,e){const n=xt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,Ue.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new fo(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function ey(t,e,n){const r=xt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!gc(o))throw o;Je(av,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function hw(t,e,n){const r=xt(t);let i=pt.min(),s=Dt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(f,c,d){const g=xt(f),p=g.xs.get(d);return p!==void 0?Ue.resolve(g.Ms.get(p)):g.Pi.getTargetData(c,d)})(r,o,Cs(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:pt.min(),n?s:Dt()))).next((l=>(xL(r,t9(e),l),{documents:l,Qs:s})))))}function xL(t,e,n){let r=t.Os.get(e)||pt.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class dw{constructor(){this.activeTargetIds=o9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yL{constructor(){this.Mo=new dw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new dw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
    + */const cv="LocalStore",mL=3e8;class gL{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new En(Nt),this.xs=new Uu((s=>tv(s)),nv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function xL(t,e,n,r){return new gL(t,e,n,r)}async function dI(t,e){const n=xt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const o=[],l=[];let f=Dt();for(const c of i){o.push(c.batchId);for(const d of c.mutations)f=f.add(d.key)}for(const c of s){l.push(c.batchId);for(const d of c.mutations)f=f.add(d.key)}return n.localDocuments.getDocuments(r,f).next((c=>({Ls:c,removedBatchIds:o,addedBatchIds:l})))}))}))}function yL(t,e){const n=xt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,f,c,d){const g=c.batch,p=g.keys();let x=Ue.resolve();return p.forEach((_=>{x=x.next((()=>d.getEntry(f,_))).next((b=>{const C=c.docVersions.get(_);Wt(C!==null,48541),b.version.compareTo(C)<0&&(g.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),d.addEntry(b)))}))})),x.next((()=>l.mutationQueue.removeMutationBatch(f,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let f=Dt();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(f=f.add(l.batch.mutations[c].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function pI(t){const e=xt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function vL(t,e){const n=xt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((d,g)=>{const p=i.get(g);if(!p)return;l.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,d.addedDocuments,g))));let x=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?x=x.withResumeToken(dr.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):d.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(d.resumeToken,r)),i=i.insert(g,x),(function(b,C,I){return b.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=mL?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(p,x,d)&&l.push(n.Pi.updateTargetData(s,x))}));let f=Ea(),c=Dt();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))})),l.push(_L(s,o,e.documentUpdates).next((d=>{f=d.ks,c=d.qs}))),!r.isEqual(pt.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));l.push(d)}return Ue.waitFor(l).next((()=>o.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,c))).next((()=>f))})).then((s=>(n.Ms=i,s)))}function _L(t,e,n){let r=Dt(),i=Dt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let o=Ea();return n.forEach(((l,f)=>{const c=s.get(l);f.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),f.isNoDocument()&&f.version.isEqual(pt.min())?(e.removeEntry(l,f.readTime),o=o.insert(l,f)):!c.isValidDocument()||f.version.compareTo(c.version)>0||f.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(f),o=o.insert(l,f)):Je(cv,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",f.version)})),{ks:o,qs:i}}))}function TL(t,e){const n=xt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Qy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function EL(t,e){const n=xt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,Ue.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new po(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function ry(t,e,n){const r=xt(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!yc(o))throw o;Je(cv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function pw(t,e,n){const r=xt(t);let i=pt.min(),s=Dt();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(f,c,d){const g=xt(f),p=g.xs.get(d);return p!==void 0?Ue.resolve(g.Ms.get(p)):g.Pi.getTargetData(c,d)})(r,o,Cs(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:pt.min(),n?s:Dt()))).next((l=>(bL(r,o9(e),l),{documents:l,Qs:s})))))}function bL(t,e,n){let r=t.Os.get(e)||pt.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class mw{constructor(){this.activeTargetIds=d9()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wL{constructor(){this.Mo=new mw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class vL{Oo(e){}shutdown(){}}/**
    + */class SL{Oo(e){}shutdown(){}}/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const pw="ConnectivityMonitor";class mw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Je(pw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Je(pw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
    + */const gw="ConnectivityMonitor";class xw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Je(gw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Je(gw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
      * @license
      * Copyright 2023 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */let gd=null;function ty(){return gd===null?gd=(function(){return 268435456+Math.round(2147483648*Math.random())})():gd++,"0x"+gd.toString(16)}/**
    + */let xd=null;function iy(){return xd===null?xd=(function(){return 268435456+Math.round(2147483648*Math.random())})():xd++,"0x"+xd.toString(16)}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const P1="RestConnection",_L={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===sp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=ty(),l=this.zo(e,n.toUriEncodedString());Je(P1,`Sending RPC '${e}' ${o}:`,l,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,s);const{host:c}=new URL(l),d=Lo(c);return this.Jo(e,l,f,r,d).then((g=>(Je(P1,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw nc(P1,`RPC '${e}' ${o} failed with error: `,g,"url: ",l,"request:",r),g}))}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=_L[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
    + */const F1="RestConnection",AL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===ap?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=iy(),l=this.zo(e,n.toUriEncodedString());Je(F1,`Sending RPC '${e}' ${o}:`,l,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,s);const{host:c}=new URL(l),d=Fo(c);return this.Jo(e,l,f,r,d).then((g=>(Je(F1,`Received RPC '${e}' ${o}: `,g),g)),(g=>{throw ic(F1,`RPC '${e}' ${o} failed with error: `,g,"url: ",l,"request:",r),g}))}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=AL[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class EL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
    + */class IL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const xr="WebChannelConnection";class bL extends TL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=ty();return new Promise(((l,f)=>{const c=new h4;c.setWithCredentials(!0),c.listenOnce(d4.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case Bd.NO_ERROR:const g=c.getResponseJson();Je(xr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case Bd.TIMEOUT:Je(xr,`RPC '${e}' ${o} timed out`),f(new Xe(Le.DEADLINE_EXCEEDED,"Request time out"));break;case Bd.HTTP_ERROR:const p=c.getStatus();if(Je(xr,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let x=c.getResponseJson();Array.isArray(x)&&(x=x[0]);const _=x==null?void 0:x.error;if(_&&_.status&&_.message){const b=(function(I){const M=I.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(M)>=0?M:Le.UNKNOWN})(_.status);f(new Xe(b,_.message))}else f(new Xe(Le.UNKNOWN,"Server responded with status "+c.getStatus()))}else f(new Xe(Le.UNAVAILABLE,"Connection failed."));break;default:ct(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Je(xr,`RPC '${e}' ${o} completed.`)}}));const d=JSON.stringify(i);Je(xr,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)}))}T_(e,n,r){const i=ty(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=g4(),l=m4(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(f.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const d=s.join("");Je(xr,`Creating RPC '${e}' stream ${i}: ${d}`,f);const g=o.createWebChannel(d,f);this.I_(g);let p=!1,x=!1;const _=new EL({Yo:C=>{x?Je(xr,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(p||(Je(xr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),p=!0),Je(xr,`RPC '${e}' stream ${i} sending:`,C),g.send(C))},Zo:()=>g.close()}),b=(C,I,M)=>{C.listen(I,(A=>{try{M(A)}catch(P){setTimeout((()=>{throw P}),0)}}))};return b(g,Rf.EventType.OPEN,(()=>{x||(Je(xr,`RPC '${e}' stream ${i} transport opened.`),_.o_())})),b(g,Rf.EventType.CLOSE,(()=>{x||(x=!0,Je(xr,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(g))})),b(g,Rf.EventType.ERROR,(C=>{x||(x=!0,nc(xr,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),_.a_(new Xe(Le.UNAVAILABLE,"The operation could not be completed")))})),b(g,Rf.EventType.MESSAGE,(C=>{var I;if(!x){const M=C.data[0];Wt(!!M,16349);const A=M,P=(A==null?void 0:A.error)||((I=A[0])==null?void 0:I.error);if(P){Je(xr,`RPC '${e}' stream ${i} received error:`,P);const D=P.status;let V=(function(R){const O=qn[R];if(O!==void 0)return J4(O)})(D),N=P.message;V===void 0&&(V=Le.INTERNAL,N="Unknown error status: "+D+" with message "+P.message),x=!0,_.a_(new Xe(V,N)),g.close()}else Je(xr,`RPC '${e}' stream ${i} received:`,M),_.u_(M)}})),b(l,p4.STAT_EVENT,(C=>{C.stat===Hx.PROXY?Je(xr,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Hx.NOPROXY&&Je(xr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function L1(){return typeof document<"u"?document:null}/**
    + */const xr="WebChannelConnection";class kL extends CL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=iy();return new Promise(((l,f)=>{const c=new g4;c.setWithCredentials(!0),c.listenOnce(x4.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case qd.NO_ERROR:const g=c.getResponseJson();Je(xr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),l(g);break;case qd.TIMEOUT:Je(xr,`RPC '${e}' ${o} timed out`),f(new Xe(Le.DEADLINE_EXCEEDED,"Request time out"));break;case qd.HTTP_ERROR:const p=c.getStatus();if(Je(xr,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let x=c.getResponseJson();Array.isArray(x)&&(x=x[0]);const _=x==null?void 0:x.error;if(_&&_.status&&_.message){const b=(function(I){const D=I.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(D)>=0?D:Le.UNKNOWN})(_.status);f(new Xe(b,_.message))}else f(new Xe(Le.UNKNOWN,"Server responded with status "+c.getStatus()))}else f(new Xe(Le.UNAVAILABLE,"Connection failed."));break;default:ct(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Je(xr,`RPC '${e}' ${o} completed.`)}}));const d=JSON.stringify(i);Je(xr,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)}))}T_(e,n,r){const i=iy(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_4(),l=v4(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(f.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const d=s.join("");Je(xr,`Creating RPC '${e}' stream ${i}: ${d}`,f);const g=o.createWebChannel(d,f);this.I_(g);let p=!1,x=!1;const _=new IL({Yo:C=>{x?Je(xr,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(p||(Je(xr,`Opening RPC '${e}' stream ${i} transport.`),g.open(),p=!0),Je(xr,`RPC '${e}' stream ${i} sending:`,C),g.send(C))},Zo:()=>g.close()}),b=(C,I,D)=>{C.listen(I,(A=>{try{D(A)}catch(P){setTimeout((()=>{throw P}),0)}}))};return b(g,Nf.EventType.OPEN,(()=>{x||(Je(xr,`RPC '${e}' stream ${i} transport opened.`),_.o_())})),b(g,Nf.EventType.CLOSE,(()=>{x||(x=!0,Je(xr,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(g))})),b(g,Nf.EventType.ERROR,(C=>{x||(x=!0,ic(xr,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),_.a_(new Xe(Le.UNAVAILABLE,"The operation could not be completed")))})),b(g,Nf.EventType.MESSAGE,(C=>{var I;if(!x){const D=C.data[0];Wt(!!D,16349);const A=D,P=(A==null?void 0:A.error)||((I=A[0])==null?void 0:I.error);if(P){Je(xr,`RPC '${e}' stream ${i} received error:`,P);const M=P.status;let U=(function(R){const V=qn[R];if(V!==void 0)return tI(V)})(M),N=P.message;U===void 0&&(U=Le.INTERNAL,N="Unknown error status: "+M+" with message "+P.message),x=!0,_.a_(new Xe(U,N)),g.close()}else Je(xr,`RPC '${e}' stream ${i} received:`,D),_.u_(D)}})),b(l,y4.STAT_EVENT,(C=>{C.stat===jx.PROXY?Je(xr,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===jx.NOPROXY&&Je(xr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{_.__()}),0),_}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function U1(){return typeof document<"u"?document:null}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function em(t){return new C9(t,!0)}/**
    + */function nm(t){return new M9(t,!0)}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class fI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
    + */class mI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const gw="PersistentStream";class hI{constructor(e,n,r,i,s,o,l,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Le.RESOURCE_EXHAUSTED?(_a(n.toString()),_a("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Xe(Le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Je(gw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Je(gw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wL extends hI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=R9(this.serializer,e),r=(function(s){if(!("targetChange"in s))return pt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?pt.min():o.readTime?Is(o.readTime):pt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Zx(this.serializer),n.addTarget=(function(s,o){let l;const f=o.target;if(l=Wx(f)?{documents:M9(s,f)}:{query:P9(s,f).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=eI(s,o.resumeToken);const c=Xx(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(pt.min())>0){l.readTime=lp(s,o.snapshotVersion.toTimestamp());const c=Xx(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l})(this.serializer,e);const r=O9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Zx(this.serializer),n.removeTarget=e,this.q_(n)}}class SL extends hI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=D9(e.writeResults,e.commitTime),r=Is(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Zx(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>N9(this.serializer,r)))};this.q_(n)}}/**
    + */const yw="PersistentStream";class gI{constructor(e,n,r,i,s,o,l,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Le.RESOURCE_EXHAUSTED?(Ta(n.toString()),Ta("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Xe(Le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Je(yw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Je(yw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RL extends gI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=O9(this.serializer,e),r=(function(s){if(!("targetChange"in s))return pt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?pt.min():o.readTime?Is(o.readTime):pt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ny(this.serializer),n.addTarget=(function(s,o){let l;const f=o.target;if(l=Xx(f)?{documents:V9(s,f)}:{query:B9(s,f).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=iI(s,o.resumeToken);const c=Zx(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(pt.min())>0){l.readTime=cp(s,o.snapshotVersion.toTimestamp());const c=Zx(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l})(this.serializer,e);const r=H9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ny(this.serializer),n.removeTarget=e,this.q_(n)}}class NL extends gI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=U9(e.writeResults,e.commitTime),r=Is(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ny(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>F9(this.serializer,r)))};this.q_(n)}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class AL{}class CL extends AL{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Xe(Le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,Jx(n,r),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Xe(Le.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,Jx(n,r),i,o,l,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Xe(Le.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class IL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
    -This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_a(n),this.aa=!1):Je("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
    + */class DL{}class ML extends DL{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Xe(Le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,ey(n,r),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Xe(Le.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,ey(n,r),i,o,l,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Xe(Le.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class PL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
    +This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ta(n),this.aa=!1):Je("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const ku="RemoteStore";class kL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Uu(this)&&(Je(ku,"Restarting streams for network reachability change."),await(async function(f){const c=xt(f);c.Ea.add(4),await N0(c),c.Ra.set("Unknown"),c.Ea.delete(4),await tm(c)})(this))}))})),this.Ra=new IL(r,i)}}async function tm(t){if(Uu(t))for(const e of t.da)await e(!0)}async function N0(t){for(const e of t.da)await e(!1)}function dI(t,e){const n=xt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cv(n)?lv(n):yc(n).O_()&&uv(n,e))}function ov(t,e){const n=xt(t),r=yc(n);n.Ia.delete(e),r.O_()&&pI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Uu(n)&&n.Ra.set("Unknown"))}function uv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yc(t).Y_(e)}function pI(t,e){t.Va.Ue(e),yc(t).Z_(e)}function lv(t){t.Va=new b9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),yc(t).start(),t.Ra.ua()}function cv(t){return Uu(t)&&!yc(t).x_()&&t.Ia.size>0}function Uu(t){return xt(t).Ea.size===0}function mI(t){t.Va=void 0}async function RL(t){t.Ra.set("Online")}async function NL(t){t.Ia.forEach(((e,n)=>{uv(t,e)}))}async function DL(t,e){mI(t),cv(t)?(t.Ra.ha(e),lv(t)):t.Ra.set("Unknown")}async function ML(t,e,n){if(t.Ra.set("Online"),e instanceof Z4&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){Je(ku,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fp(t,r)}else if(e instanceof Gd?t.Va.Ze(e):e instanceof Q4?t.Va.st(e):t.Va.tt(e),!n.isEqual(pt.min()))try{const r=await cI(t.localStore);n.compareTo(r)>=0&&await(function(s,o){const l=s.Va.Tt(o);return l.targetChanges.forEach(((f,c)=>{if(f.resumeToken.approximateByteSize()>0){const d=s.Ia.get(c);d&&s.Ia.set(c,d.withResumeToken(f.resumeToken,o))}})),l.targetMismatches.forEach(((f,c)=>{const d=s.Ia.get(f);if(!d)return;s.Ia.set(f,d.withResumeToken(dr.EMPTY_BYTE_STRING,d.snapshotVersion)),pI(s,f);const g=new fo(d.target,f,c,d.sequenceNumber);uv(s,g)})),s.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Je(ku,"Failed to raise snapshot:",r),await fp(t,r)}}async function fp(t,e,n){if(!gc(e))throw e;t.Ea.add(1),await N0(t),t.Ra.set("Offline"),n||(n=()=>cI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Je(ku,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await tm(t)}))}function gI(t,e){return e().catch((n=>fp(t,n,e)))}async function nm(t){const e=xt(t),n=Ro(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ky;for(;PL(e);)try{const i=await mL(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,LL(e,i)}catch(i){await fp(e,i)}xI(e)&&yI(e)}function PL(t){return Uu(t)&&t.Ta.length<10}function LL(t,e){t.Ta.push(e);const n=Ro(t);n.O_()&&n.X_&&n.ea(e.mutations)}function xI(t){return Uu(t)&&!Ro(t).x_()&&t.Ta.length>0}function yI(t){Ro(t).start()}async function OL(t){Ro(t).ra()}async function FL(t){const e=Ro(t);for(const n of t.Ta)e.ea(n.mutations)}async function UL(t,e,n){const r=t.Ta.shift(),i=ev.from(r,e,n);await gI(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await nm(t)}async function VL(t,e){e&&Ro(t).X_&&await(async function(r,i){if((function(o){return _9(o)&&o!==Le.ABORTED})(i.code)){const s=r.Ta.shift();Ro(r).B_(),await gI(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await nm(r)}})(t,e),xI(t)&&yI(t)}async function xw(t,e){const n=xt(t);n.asyncQueue.verifyOperationInProgress(),Je(ku,"RemoteStore received new credentials");const r=Uu(n);n.Ea.add(3),await N0(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await tm(n)}async function BL(t,e){const n=xt(t);e?(n.Ea.delete(2),await tm(n)):e||(n.Ea.add(2),await N0(n),n.Ra.set("Unknown"))}function yc(t){return t.ma||(t.ma=(function(n,r,i){const s=xt(n);return s.sa(),new wL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:RL.bind(null,t),t_:NL.bind(null,t),r_:DL.bind(null,t),H_:ML.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),cv(t)?lv(t):t.Ra.set("Unknown")):(await t.ma.stop(),mI(t))}))),t.ma}function Ro(t){return t.fa||(t.fa=(function(n,r,i){const s=xt(n);return s.sa(),new SL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:OL.bind(null,t),r_:VL.bind(null,t),ta:FL.bind(null,t),na:UL.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await nm(t)):(await t.fa.stop(),t.Ta.length>0&&(Je(ku,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
    + */const Ru="RemoteStore";class LL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{Vu(this)&&(Je(Ru,"Restarting streams for network reachability change."),await(async function(f){const c=xt(f);c.Ea.add(4),await D0(c),c.Ra.set("Unknown"),c.Ea.delete(4),await rm(c)})(this))}))})),this.Ra=new PL(r,i)}}async function rm(t){if(Vu(t))for(const e of t.da)await e(!0)}async function D0(t){for(const e of t.da)await e(!1)}function xI(t,e){const n=xt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),pv(n)?dv(n):_c(n).O_()&&hv(n,e))}function fv(t,e){const n=xt(t),r=_c(n);n.Ia.delete(e),r.O_()&&yI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Vu(n)&&n.Ra.set("Unknown"))}function hv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_c(t).Y_(e)}function yI(t,e){t.Va.Ue(e),_c(t).Z_(e)}function dv(t){t.Va=new k9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_c(t).start(),t.Ra.ua()}function pv(t){return Vu(t)&&!_c(t).x_()&&t.Ia.size>0}function Vu(t){return xt(t).Ea.size===0}function vI(t){t.Va=void 0}async function OL(t){t.Ra.set("Online")}async function FL(t){t.Ia.forEach(((e,n)=>{hv(t,e)}))}async function UL(t,e){vI(t),pv(t)?(t.Ra.ha(e),dv(t)):t.Ra.set("Unknown")}async function VL(t,e,n){if(t.Ra.set("Online"),e instanceof rI&&e.state===2&&e.cause)try{await(async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))})(t,e)}catch(r){Je(Ru,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hp(t,r)}else if(e instanceof jd?t.Va.Ze(e):e instanceof nI?t.Va.st(e):t.Va.tt(e),!n.isEqual(pt.min()))try{const r=await pI(t.localStore);n.compareTo(r)>=0&&await(function(s,o){const l=s.Va.Tt(o);return l.targetChanges.forEach(((f,c)=>{if(f.resumeToken.approximateByteSize()>0){const d=s.Ia.get(c);d&&s.Ia.set(c,d.withResumeToken(f.resumeToken,o))}})),l.targetMismatches.forEach(((f,c)=>{const d=s.Ia.get(f);if(!d)return;s.Ia.set(f,d.withResumeToken(dr.EMPTY_BYTE_STRING,d.snapshotVersion)),yI(s,f);const g=new po(d.target,f,c,d.sequenceNumber);hv(s,g)})),s.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Je(Ru,"Failed to raise snapshot:",r),await hp(t,r)}}async function hp(t,e,n){if(!yc(e))throw e;t.Ea.add(1),await D0(t),t.Ra.set("Offline"),n||(n=()=>pI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Je(Ru,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await rm(t)}))}function _I(t,e){return e().catch((n=>hp(t,n,e)))}async function im(t){const e=xt(t),n=Do(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qy;for(;BL(e);)try{const i=await TL(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,qL(e,i)}catch(i){await hp(e,i)}TI(e)&&EI(e)}function BL(t){return Vu(t)&&t.Ta.length<10}function qL(t,e){t.Ta.push(e);const n=Do(t);n.O_()&&n.X_&&n.ea(e.mutations)}function TI(t){return Vu(t)&&!Do(t).x_()&&t.Ta.length>0}function EI(t){Do(t).start()}async function HL(t){Do(t).ra()}async function zL(t){const e=Do(t);for(const n of t.Ta)e.ea(n.mutations)}async function GL(t,e,n){const r=t.Ta.shift(),i=iv.from(r,e,n);await _I(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await im(t)}async function jL(t,e){e&&Do(t).X_&&await(async function(r,i){if((function(o){return A9(o)&&o!==Le.ABORTED})(i.code)){const s=r.Ta.shift();Do(r).B_(),await _I(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await im(r)}})(t,e),TI(t)&&EI(t)}async function vw(t,e){const n=xt(t);n.asyncQueue.verifyOperationInProgress(),Je(Ru,"RemoteStore received new credentials");const r=Vu(n);n.Ea.add(3),await D0(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await rm(n)}async function $L(t,e){const n=xt(t);e?(n.Ea.delete(2),await rm(n)):e||(n.Ea.add(2),await D0(n),n.Ra.set("Unknown"))}function _c(t){return t.ma||(t.ma=(function(n,r,i){const s=xt(n);return s.sa(),new RL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:OL.bind(null,t),t_:FL.bind(null,t),r_:UL.bind(null,t),H_:VL.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),pv(t)?dv(t):t.Ra.set("Unknown")):(await t.ma.stop(),vI(t))}))),t.ma}function Do(t){return t.fa||(t.fa=(function(n,r,i){const s=xt(n);return s.sa(),new NL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:HL.bind(null,t),r_:jL.bind(null,t),ta:zL.bind(null,t),na:GL.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await im(t)):(await t.fa.stop(),t.Ta.length>0&&(Je(Ru,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class fv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _o,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new fv(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Xe(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hv(t,e){if(_a("AsyncQueue",`${e}: ${t}`),gc(t))return new Xe(Le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
    + */class mv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Eo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new mv(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Xe(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gv(t,e){if(Ta("AsyncQueue",`${e}: ${t}`),yc(t))return new Xe(Le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class $l{static emptySet(e){return new $l(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||it.comparator(n.key,r.key):(n,r)=>it.comparator(n.key,r.key),this.keyedMap=Nf(),this.sortedSet=new En(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $l)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
    + */class Kl{static emptySet(e){return new Kl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||it.comparator(n.key,r.key):(n,r)=>it.comparator(n.key,r.key),this.keyedMap=Df(),this.sortedSet=new En(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Kl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
       `+e.join(`  
     `)+`
    -)`}copy(e,n){const r=new $l;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
    +)`}copy(e,n){const r=new Kl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class yw{constructor(){this.ga=new En(it.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ct(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class oc{constructor(e,n,r,i,s,o,l,f,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=f,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new oc(e,n,$l.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
    + */class _w{constructor(){this.ga=new En(it.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ct(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class lc{constructor(e,n,r,i,s,o,l,f,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=f,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new lc(e,n,Kl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class qL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class HL{constructor(){this.queries=vw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=xt(n),s=i.queries;i.queries=vw(),s.forEach(((o,l)=>{for(const f of l.Sa)f.onError(r)}))})(this,new Xe(Le.ABORTED,"Firestore shutting down"))}}function vw(){return new Fu((t=>V4(t)),Kp)}async function zL(t,e){const n=xt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new qL,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=hv(o,`Initialization of query '${Fl(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&dv(n)}async function GL(t,e){const n=xt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jL(t,e){const n=xt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&dv(n)}function $L(t,e,n){const r=xt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function dv(t){t.Ca.forEach((e=>{e.next()}))}var ny,_w;(_w=ny||(ny={})).Ma="default",_w.Cache="cache";class WL{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new oc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ny.Cache}}/**
    + */class WL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class KL{constructor(){this.queries=Tw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=xt(n),s=i.queries;i.queries=Tw(),s.forEach(((o,l)=>{for(const f of l.Sa)f.onError(r)}))})(this,new Xe(Le.ABORTED,"Firestore shutting down"))}}function Tw(){return new Uu((t=>z4(t)),Xp)}async function YL(t,e){const n=xt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new WL,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=gv(o,`Initialization of query '${Vl(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&xv(n)}async function XL(t,e){const n=xt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function JL(t,e){const n=xt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&xv(n)}function QL(t,e,n){const r=xt(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function xv(t){t.Ca.forEach((e=>{e.next()}))}var sy,Ew;(Ew=sy||(sy={})).Ma="default",Ew.Cache="cache";class ZL{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new lc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=lc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sy.Cache}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class vI{constructor(e){this.key=e}}class _I{constructor(e){this.key=e}}class KL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Dt(),this.mutatedKeys=Dt(),this.eu=B4(e),this.tu=new $l(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new yw,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,g)=>{const p=i.get(d),x=Yp(this.query,g)?g:null,_=!!p&&this.mutatedKeys.has(p.key),b=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let C=!1;p&&x?p.data.isEqual(x.data)?_!==b&&(r.track({type:3,doc:x}),C=!0):this.su(p,x)||(r.track({type:2,doc:x}),C=!0,(f&&this.eu(x,f)>0||c&&this.eu(x,c)<0)&&(l=!0)):!p&&x?(r.track({type:0,doc:x}),C=!0):p&&!x&&(r.track({type:1,doc:p}),C=!0,(f||c)&&(l=!0)),C&&(x?(o=o.add(x),s=b?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((d,g)=>(function(x,_){const b=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct(20277,{Rt:C})}};return b(x)-b(_)})(d.type,g.type)||this.eu(d.doc,g.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,c=f!==this.Za;return this.Za=f,o.length!==0||c?{snapshot:new oc(this.query,e.tu,s,o,e.mutatedKeys,f===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Dt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new _I(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new vI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Dt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return oc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pv="SyncEngine";class YL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XL{constructor(e){this.key=e,this.hu=!1}}class JL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Fu((l=>V4(l)),Kp),this.Iu=new Map,this.Eu=new Set,this.du=new En(it.comparator),this.Au=new Map,this.Ru=new rv,this.Vu={},this.mu=new Map,this.fu=ac.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function QL(t,e,n=!0){const r=AI(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await TI(r,e,n,!0),i}async function ZL(t,e){const n=AI(t);await TI(n,e,!0,!1)}async function TI(t,e,n,r){const i=await gL(t.localStore,Cs(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await eO(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&dI(t.remoteStore,i),l}async function eO(t,e,n,r,i){t.pu=(g,p,x)=>(async function(b,C,I,M){let A=C.view.ru(I);A.Cs&&(A=await hw(b.localStore,C.query,!1).then((({documents:N})=>C.view.ru(N,A))));const P=M&&M.targetChanges.get(C.targetId),D=M&&M.targetMismatches.get(C.targetId)!=null,V=C.view.applyChanges(A,b.isPrimaryClient,P,D);return Ew(b,C.targetId,V.au),V.snapshot})(t,g,p,x);const s=await hw(t.localStore,e,!0),o=new KL(e,s.Qs),l=o.ru(s.documents),f=R0.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,f);Ew(t,n,c.au);const d=new YL(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function tO(t,e,n){const r=xt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((o=>!Kp(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ey(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ov(r.remoteStore,i.targetId),ry(r,i.targetId)})).catch(mc)):(ry(r,i.targetId),await ey(r.localStore,i.targetId,!0))}async function nO(t,e){const n=xt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ov(n.remoteStore,r.targetId))}async function rO(t,e,n){const r=cO(t);try{const i=await(function(o,l){const f=xt(o),c=xn.now(),d=l.reduce(((x,_)=>x.add(_.key)),Dt());let g,p;return f.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let _=Ta(),b=Dt();return f.Ns.getEntries(x,d).next((C=>{_=C,_.forEach(((I,M)=>{M.isValidDocument()||(b=b.add(I))}))})).next((()=>f.localDocuments.getOverlayedDocuments(x,_))).next((C=>{g=C;const I=[];for(const M of l){const A=m9(M,g.get(M.key).overlayedDocument);A!=null&&I.push(new Uo(M.key,A,R4(A.value.mapValue),Jr.exists(!0)))}return f.mutationQueue.addMutationBatch(x,c,I,l)})).next((C=>{p=C;const I=C.applyToLocalDocumentSet(g,b);return f.documentOverlayCache.saveOverlays(x,C.batchId,I)}))})).then((()=>({batchId:p.batchId,changes:H4(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,l,f){let c=o.Vu[o.currentUser.toKey()];c||(c=new En(Nt)),c=c.insert(l,f),o.Vu[o.currentUser.toKey()]=c})(r,i.batchId,n),await D0(r,i.changes),await nm(r.remoteStore)}catch(i){const s=hv(i,"Failed to persist write");n.reject(s)}}async function EI(t,e){const n=xt(t);try{const r=await dL(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=n.Au.get(s);o&&(Wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Wt(o.hu,14607):i.removedDocuments.size>0&&(Wt(o.hu,42227),o.hu=!1))})),await D0(n,r,e)}catch(r){await mc(r)}}function Tw(t,e,n){const r=xt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const f=xt(o);f.onlineState=l;let c=!1;f.queries.forEach(((d,g)=>{for(const p of g.Sa)p.va(l)&&(c=!0)})),c&&dv(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iO(t,e,n){const r=xt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new En(it.comparator);o=o.insert(s,Tr.newNoDocument(s,pt.min()));const l=Dt().add(s),f=new Zp(pt.min(),new Map,new En(Nt),o,l);await EI(r,f),r.du=r.du.remove(s),r.Au.delete(e),mv(r)}else await ey(r.localStore,e,!1).then((()=>ry(r,e,n))).catch(mc)}async function sO(t,e){const n=xt(t),r=e.batch.batchId;try{const i=await hL(n.localStore,e);wI(n,r,null),bI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await D0(n,i)}catch(i){await mc(i)}}async function aO(t,e,n){const r=xt(t);try{const i=await(function(o,l){const f=xt(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let d;return f.mutationQueue.lookupMutationBatch(c,l).next((g=>(Wt(g!==null,37113),d=g.keys(),f.mutationQueue.removeMutationBatch(c,g)))).next((()=>f.mutationQueue.performConsistencyCheck(c))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(c,d,l))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d))).next((()=>f.localDocuments.getDocuments(c,d)))}))})(r.localStore,e);wI(r,e,n),bI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await D0(r,i)}catch(i){await mc(i)}}function bI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function wI(t,e,n){const r=xt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function ry(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||SI(t,r)}))}function SI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ov(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),mv(t))}function Ew(t,e,n){for(const r of n)r instanceof vI?(t.Ru.addReference(r.key,e),oO(t,r)):r instanceof _I?(Je(pv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||SI(t,r.key)):ct(19791,{wu:r})}function oO(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Je(pv,"New document in limbo: "+n),t.Eu.add(r),mv(t))}function mv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new it(hn.fromString(e)),r=t.fu.next();t.Au.set(r,new XL(n)),t.du=t.du.insert(n,r),dI(t.remoteStore,new fo(Cs(F4(n.path)),r,"TargetPurposeLimboResolution",jp.ce))}}async function D0(t,e,n){const r=xt(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,f)=>{o.push(r.pu(f,e,n).then((c=>{var d;if((c||n)&&r.isPrimaryClient){const g=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(c){i.push(c);const g=sv.As(f.targetId,c);s.push(g)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(f,c){const d=xt(f);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Ue.forEach(c,(p=>Ue.forEach(p.Es,(x=>d.persistence.referenceDelegate.addReference(g,p.targetId,x))).next((()=>Ue.forEach(p.ds,(x=>d.persistence.referenceDelegate.removeReference(g,p.targetId,x)))))))))}catch(g){if(!gc(g))throw g;Je(av,"Failed to update sequence numbers: "+g)}for(const g of c){const p=g.targetId;if(!g.fromCache){const x=d.Ms.get(p),_=x.snapshotVersion,b=x.withLastLimboFreeSnapshotVersion(_);d.Ms=d.Ms.insert(p,b)}}})(r.localStore,s))}async function uO(t,e){const n=xt(t);if(!n.currentUser.isEqual(e)){Je(pv,"User change. New user:",e.toKey());const r=await lI(n.localStore,e);n.currentUser=e,(function(s,o){s.mu.forEach((l=>{l.forEach((f=>{f.reject(new Xe(Le.CANCELLED,o))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await D0(n,r.Ls)}}function lO(t,e){const n=xt(t),r=n.Au.get(e);if(r&&r.hu)return Dt().add(r.key);{let i=Dt();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function AI(t){const e=xt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=EI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iO.bind(null,e),e.Pu.H_=jL.bind(null,e.eventManager),e.Pu.yu=$L.bind(null,e.eventManager),e}function cO(t){const e=xt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aO.bind(null,e),e}class hp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=em(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return fL(this.persistence,new uL,e.initialUser,this.serializer)}Cu(e){return new uI(iv.mi,this.serializer)}Du(e){return new yL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hp.provider={build:()=>new hp};class fO extends hp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Wt(this.persistence.referenceDelegate instanceof cp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new W9(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Kr.withCacheSize(this.cacheSizeBytes):Kr.DEFAULT;return new uI((r=>cp.mi(r,n)),this.serializer)}}class iy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Tw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uO.bind(null,this.syncEngine),await BL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new HL})()}createDatastore(e){const n=em(e.databaseInfo.databaseId),r=(function(s){return new bL(s)})(e.databaseInfo);return(function(s,o,l,f){return new CL(s,o,l,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,o,l){return new kL(r,i,s,o,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>Tw(this.syncEngine,n,0)),(function(){return mw.v()?new mw:new vL})())}createSyncEngine(e,n){return(function(i,s,o,l,f,c,d){const g=new JL(i,s,o,l,f,c);return d&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=xt(i);Je(ku,"RemoteStore shutting down."),s.Ea.add(5),await N0(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}iy.provider={build:()=>new iy};/**
    + */class bI{constructor(e){this.key=e}}class wI{constructor(e){this.key=e}}class eO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Dt(),this.mutatedKeys=Dt(),this.eu=G4(e),this.tu=new Kl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new _w,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,g)=>{const p=i.get(d),x=Jp(this.query,g)?g:null,_=!!p&&this.mutatedKeys.has(p.key),b=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let C=!1;p&&x?p.data.isEqual(x.data)?_!==b&&(r.track({type:3,doc:x}),C=!0):this.su(p,x)||(r.track({type:2,doc:x}),C=!0,(f&&this.eu(x,f)>0||c&&this.eu(x,c)<0)&&(l=!0)):!p&&x?(r.track({type:0,doc:x}),C=!0):p&&!x&&(r.track({type:1,doc:p}),C=!0,(f||c)&&(l=!0)),C&&(x?(o=o.add(x),s=b?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((d,g)=>(function(x,_){const b=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct(20277,{Rt:C})}};return b(x)-b(_)})(d.type,g.type)||this.eu(d.doc,g.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,c=f!==this.Za;return this.Za=f,o.length!==0||c?{snapshot:new lc(this.query,e.tu,s,o,e.mutatedKeys,f===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _w,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Dt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new wI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new bI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Dt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return lc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yv="SyncEngine";class tO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class nO{constructor(e){this.key=e,this.hu=!1}}class rO{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Uu((l=>z4(l)),Xp),this.Iu=new Map,this.Eu=new Set,this.du=new En(it.comparator),this.Au=new Map,this.Ru=new ov,this.Vu={},this.mu=new Map,this.fu=uc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iO(t,e,n=!0){const r=RI(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await SI(r,e,n,!0),i}async function sO(t,e){const n=RI(t);await SI(n,e,!0,!1)}async function SI(t,e,n,r){const i=await EL(t.localStore,Cs(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await aO(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&xI(t.remoteStore,i),l}async function aO(t,e,n,r,i){t.pu=(g,p,x)=>(async function(b,C,I,D){let A=C.view.ru(I);A.Cs&&(A=await pw(b.localStore,C.query,!1).then((({documents:N})=>C.view.ru(N,A))));const P=D&&D.targetChanges.get(C.targetId),M=D&&D.targetMismatches.get(C.targetId)!=null,U=C.view.applyChanges(A,b.isPrimaryClient,P,M);return ww(b,C.targetId,U.au),U.snapshot})(t,g,p,x);const s=await pw(t.localStore,e,!0),o=new eO(e,s.Qs),l=o.ru(s.documents),f=N0.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,f);ww(t,n,c.au);const d=new tO(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function oO(t,e,n){const r=xt(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((o=>!Xp(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ry(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fv(r.remoteStore,i.targetId),ay(r,i.targetId)})).catch(xc)):(ay(r,i.targetId),await ry(r.localStore,i.targetId,!0))}async function uO(t,e){const n=xt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fv(n.remoteStore,r.targetId))}async function lO(t,e,n){const r=gO(t);try{const i=await(function(o,l){const f=xt(o),c=xn.now(),d=l.reduce(((x,_)=>x.add(_.key)),Dt());let g,p;return f.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let _=Ea(),b=Dt();return f.Ns.getEntries(x,d).next((C=>{_=C,_.forEach(((I,D)=>{D.isValidDocument()||(b=b.add(I))}))})).next((()=>f.localDocuments.getOverlayedDocuments(x,_))).next((C=>{g=C;const I=[];for(const D of l){const A=T9(D,g.get(D.key).overlayedDocument);A!=null&&I.push(new Bo(D.key,A,P4(A.value.mapValue),Jr.exists(!0)))}return f.mutationQueue.addMutationBatch(x,c,I,l)})).next((C=>{p=C;const I=C.applyToLocalDocumentSet(g,b);return f.documentOverlayCache.saveOverlays(x,C.batchId,I)}))})).then((()=>({batchId:p.batchId,changes:$4(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,l,f){let c=o.Vu[o.currentUser.toKey()];c||(c=new En(Nt)),c=c.insert(l,f),o.Vu[o.currentUser.toKey()]=c})(r,i.batchId,n),await M0(r,i.changes),await im(r.remoteStore)}catch(i){const s=gv(i,"Failed to persist write");n.reject(s)}}async function AI(t,e){const n=xt(t);try{const r=await vL(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=n.Au.get(s);o&&(Wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Wt(o.hu,14607):i.removedDocuments.size>0&&(Wt(o.hu,42227),o.hu=!1))})),await M0(n,r,e)}catch(r){await xc(r)}}function bw(t,e,n){const r=xt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const f=xt(o);f.onlineState=l;let c=!1;f.queries.forEach(((d,g)=>{for(const p of g.Sa)p.va(l)&&(c=!0)})),c&&xv(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cO(t,e,n){const r=xt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new En(it.comparator);o=o.insert(s,Tr.newNoDocument(s,pt.min()));const l=Dt().add(s),f=new tm(pt.min(),new Map,new En(Nt),o,l);await AI(r,f),r.du=r.du.remove(s),r.Au.delete(e),vv(r)}else await ry(r.localStore,e,!1).then((()=>ay(r,e,n))).catch(xc)}async function fO(t,e){const n=xt(t),r=e.batch.batchId;try{const i=await yL(n.localStore,e);II(n,r,null),CI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await M0(n,i)}catch(i){await xc(i)}}async function hO(t,e,n){const r=xt(t);try{const i=await(function(o,l){const f=xt(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",(c=>{let d;return f.mutationQueue.lookupMutationBatch(c,l).next((g=>(Wt(g!==null,37113),d=g.keys(),f.mutationQueue.removeMutationBatch(c,g)))).next((()=>f.mutationQueue.performConsistencyCheck(c))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(c,d,l))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d))).next((()=>f.localDocuments.getDocuments(c,d)))}))})(r.localStore,e);II(r,e,n),CI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await M0(r,i)}catch(i){await xc(i)}}function CI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function II(t,e,n){const r=xt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function ay(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||kI(t,r)}))}function kI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(fv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),vv(t))}function ww(t,e,n){for(const r of n)r instanceof bI?(t.Ru.addReference(r.key,e),dO(t,r)):r instanceof wI?(Je(yv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||kI(t,r.key)):ct(19791,{wu:r})}function dO(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Je(yv,"New document in limbo: "+n),t.Eu.add(r),vv(t))}function vv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new it(hn.fromString(e)),r=t.fu.next();t.Au.set(r,new nO(n)),t.du=t.du.insert(n,r),xI(t.remoteStore,new po(Cs(q4(n.path)),r,"TargetPurposeLimboResolution",Wp.ce))}}async function M0(t,e,n){const r=xt(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,f)=>{o.push(r.pu(f,e,n).then((c=>{var d;if((c||n)&&r.isPrimaryClient){const g=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(c){i.push(c);const g=lv.As(f.targetId,c);s.push(g)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(f,c){const d=xt(f);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>Ue.forEach(c,(p=>Ue.forEach(p.Es,(x=>d.persistence.referenceDelegate.addReference(g,p.targetId,x))).next((()=>Ue.forEach(p.ds,(x=>d.persistence.referenceDelegate.removeReference(g,p.targetId,x)))))))))}catch(g){if(!yc(g))throw g;Je(cv,"Failed to update sequence numbers: "+g)}for(const g of c){const p=g.targetId;if(!g.fromCache){const x=d.Ms.get(p),_=x.snapshotVersion,b=x.withLastLimboFreeSnapshotVersion(_);d.Ms=d.Ms.insert(p,b)}}})(r.localStore,s))}async function pO(t,e){const n=xt(t);if(!n.currentUser.isEqual(e)){Je(yv,"User change. New user:",e.toKey());const r=await dI(n.localStore,e);n.currentUser=e,(function(s,o){s.mu.forEach((l=>{l.forEach((f=>{f.reject(new Xe(Le.CANCELLED,o))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await M0(n,r.Ls)}}function mO(t,e){const n=xt(t),r=n.Au.get(e);if(r&&r.hu)return Dt().add(r.key);{let i=Dt();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function RI(t){const e=xt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cO.bind(null,e),e.Pu.H_=JL.bind(null,e.eventManager),e.Pu.yu=QL.bind(null,e.eventManager),e}function gO(t){const e=xt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hO.bind(null,e),e}class dp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return xL(this.persistence,new pL,e.initialUser,this.serializer)}Cu(e){return new hI(uv.mi,this.serializer)}Du(e){return new wL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dp.provider={build:()=>new dp};class xO extends dp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Wt(this.persistence.referenceDelegate instanceof fp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Z9(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Kr.withCacheSize(this.cacheSizeBytes):Kr.DEFAULT;return new hI((r=>fp.mi(r,n)),this.serializer)}}class oy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pO.bind(null,this.syncEngine),await $L(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new KL})()}createDatastore(e){const n=nm(e.databaseInfo.databaseId),r=(function(s){return new kL(s)})(e.databaseInfo);return(function(s,o,l,f){return new ML(s,o,l,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,o,l){return new LL(r,i,s,o,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>bw(this.syncEngine,n,0)),(function(){return xw.v()?new xw:new SL})())}createSyncEngine(e,n){return(function(i,s,o,l,f,c,d){const g=new rO(i,s,o,l,f,c);return d&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=xt(i);Je(Ru,"RemoteStore shutting down."),s.Ea.add(5),await D0(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}oy.provider={build:()=>new oy};/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
      *//**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class hO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_a("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
    + */class yO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ta("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const No="FirestoreClient";class dO{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vr.UNAUTHENTICATED,this.clientId=Wy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async o=>{Je(No,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Je(No,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _o;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function O1(t,e){t.asyncQueue.verifyOperationInProgress(),Je(No,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await lI(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function bw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pO(t);Je(No,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>xw(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>xw(e.remoteStore,i))),t._onlineComponents=e}async function pO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Je(No,"Using user provided OfflineComponentProvider");try{await O1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Le.FAILED_PRECONDITION||i.code===Le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;nc("Error using user provided cache. Falling back to memory cache: "+n),await O1(t,new hp)}}else Je(No,"Using default OfflineComponentProvider"),await O1(t,new fO(void 0));return t._offlineComponents}async function CI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Je(No,"Using user provided OnlineComponentProvider"),await bw(t,t._uninitializedComponentsProvider._online)):(Je(No,"Using default OnlineComponentProvider"),await bw(t,new iy))),t._onlineComponents}function mO(t){return CI(t).then((e=>e.syncEngine))}async function gO(t){const e=await CI(t),n=e.eventManager;return n.onListen=QL.bind(null,e.syncEngine),n.onUnlisten=tO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nO.bind(null,e.syncEngine),n}function xO(t,e,n={}){const r=new _o;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,l,f,c){const d=new hO({next:p=>{d.Nu(),o.enqueueAndForget((()=>GL(s,g))),p.fromCache&&f.source==="server"?c.reject(new Xe(Le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),g=new WL(l,d,{includeMetadataChanges:!0,qa:!0});return zL(s,g)})(await gO(t),t.asyncQueue,e,n,r))),r.promise}/**
    + */const Mo="FirestoreClient";class vO{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vr.UNAUTHENTICATED,this.clientId=Jy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async o=>{Je(Mo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Je(Mo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Eo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function V1(t,e){t.asyncQueue.verifyOperationInProgress(),Je(Mo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await dI(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Sw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _O(t);Je(Mo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>vw(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>vw(e.remoteStore,i))),t._onlineComponents=e}async function _O(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Je(Mo,"Using user provided OfflineComponentProvider");try{await V1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Le.FAILED_PRECONDITION||i.code===Le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;ic("Error using user provided cache. Falling back to memory cache: "+n),await V1(t,new dp)}}else Je(Mo,"Using default OfflineComponentProvider"),await V1(t,new xO(void 0));return t._offlineComponents}async function NI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Je(Mo,"Using user provided OnlineComponentProvider"),await Sw(t,t._uninitializedComponentsProvider._online)):(Je(Mo,"Using default OnlineComponentProvider"),await Sw(t,new oy))),t._onlineComponents}function TO(t){return NI(t).then((e=>e.syncEngine))}async function EO(t){const e=await NI(t),n=e.eventManager;return n.onListen=iO.bind(null,e.syncEngine),n.onUnlisten=oO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uO.bind(null,e.syncEngine),n}function bO(t,e,n={}){const r=new Eo;return t.asyncQueue.enqueueAndForget((async()=>(function(s,o,l,f,c){const d=new yO({next:p=>{d.Nu(),o.enqueueAndForget((()=>XL(s,g))),p.fromCache&&f.source==="server"?c.reject(new Xe(Le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),g=new ZL(l,d,{includeMetadataChanges:!0,qa:!0});return YL(s,g)})(await EO(t),t.asyncQueue,e,n,r))),r.promise}/**
      * @license
      * Copyright 2023 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function II(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
    + */function DI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const ww=new Map;/**
    + */const Aw=new Map;/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const kI="firestore.googleapis.com",Sw=!0;class Aw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Xe(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kI,this.ssl=Sw}else this.host=e.host,this.ssl=e.ssl??Sw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j9)throw new Xe(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=II(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Xe(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Xe(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Xe(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Aw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Xe(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Xe(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Aw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new yP;switch(r.type){case"firstParty":return new EP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Xe(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=ww.get(n);r&&(Je("ComponentProvider","Removing Datastore"),ww.delete(n),r.terminate())})(this),Promise.resolve()}}function yO(t,e,n,r={}){var c;t=So(t,rm);const i=Lo(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(Ny(`https://${l}`),Dy("Firestore",!0)),s.host!==kI&&s.host!==l&&nc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:l,ssl:i,emulatorOptions:r};if(!Su(f,o)&&(t._setSettings(f),r.mockUserToken)){let d,g;if(typeof r.mockUserToken=="string")d=r.mockUserToken,g=vr.MOCK_USER;else{d=k8(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Xe(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new vr(p)}t._authCredentials=new vP(new y4(d,g))}}/**
    + */const MI="firestore.googleapis.com",Cw=!0;class Iw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Xe(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MI,this.ssl=Cw}else this.host=e.host,this.ssl=e.ssl??Cw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<J9)throw new Xe(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Xe(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Xe(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Xe(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Iw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Xe(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Xe(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Iw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wP;switch(r.type){case"firstParty":return new IP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Xe(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Aw.get(n);r&&(Je("ComponentProvider","Removing Datastore"),Aw.delete(n),r.terminate())})(this),Promise.resolve()}}function wO(t,e,n,r={}){var c;t=Co(t,sm);const i=Fo(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(Ly(`https://${l}`),Oy("Firestore",!0)),s.host!==MI&&s.host!==l&&ic("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:l,ssl:i,emulatorOptions:r};if(!Au(f,o)&&(t._setSettings(f),r.mockUserToken)){let d,g;if(typeof r.mockUserToken=="string")d=r.mockUserToken,g=vr.MOCK_USER;else{d=L8(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Xe(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new vr(p)}t._authCredentials=new SP(new E4(d,g))}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class Vu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vu(this.firestore,e,this._query)}}class Kn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new To(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kn(this.firestore,e,this._key)}toJSON(){return{type:Kn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(I0(n,Kn._jsonSchema))return new Kn(e,r||null,new it(hn.fromString(n.referencePath)))}}Kn._jsonSchemaVersion="firestore/documentReference/1.0",Kn._jsonSchema={type:jn("string",Kn._jsonSchemaVersion),referencePath:jn("string")};class To extends Vu{constructor(e,n,r){super(e,n,F4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kn(this.firestore,null,new it(e))}withConverter(e){return new To(this.firestore,e,this._path)}}function Vo(t,e,...n){if(t=Cn(t),v4("collection","path",e),t instanceof rm){const r=hn.fromString(e,...n);return Vb(r),new To(t,null,r)}{if(!(t instanceof Kn||t instanceof To))throw new Xe(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(hn.fromString(e,...n));return Vb(r),new To(t.firestore,null,r)}}function Bo(t,e,...n){if(t=Cn(t),arguments.length===1&&(e=Wy.newId()),v4("doc","path",e),t instanceof rm){const r=hn.fromString(e,...n);return Ub(r),new Kn(t,null,new it(r))}{if(!(t instanceof Kn||t instanceof To))throw new Xe(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(hn.fromString(e,...n));return Ub(r),new Kn(t.firestore,t instanceof To?t.converter:null,new it(r))}}/**
    + */class Bu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bu(this.firestore,e,this._query)}}class Kn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kn(this.firestore,e,this._key)}toJSON(){return{type:Kn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(k0(n,Kn._jsonSchema))return new Kn(e,r||null,new it(hn.fromString(n.referencePath)))}}Kn._jsonSchemaVersion="firestore/documentReference/1.0",Kn._jsonSchema={type:jn("string",Kn._jsonSchemaVersion),referencePath:jn("string")};class bo extends Bu{constructor(e,n,r){super(e,n,q4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kn(this.firestore,null,new it(e))}withConverter(e){return new bo(this.firestore,e,this._path)}}function wa(t,e,...n){if(t=Cn(t),b4("collection","path",e),t instanceof sm){const r=hn.fromString(e,...n);return qb(r),new bo(t,null,r)}{if(!(t instanceof Kn||t instanceof bo))throw new Xe(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(hn.fromString(e,...n));return qb(r),new bo(t.firestore,null,r)}}function qo(t,e,...n){if(t=Cn(t),arguments.length===1&&(e=Jy.newId()),b4("doc","path",e),t instanceof sm){const r=hn.fromString(e,...n);return Bb(r),new Kn(t,null,new it(r))}{if(!(t instanceof Kn||t instanceof bo))throw new Xe(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(hn.fromString(e,...n));return Bb(r),new Kn(t.firestore,t instanceof bo?t.converter:null,new it(r))}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const Cw="AsyncQueue";class Iw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fI(this,"async_queue_retry"),this._c=()=>{const r=L1();r&&Je(Cw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=L1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=L1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new _o;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gc(e))throw e;Je(Cw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,_a("INTERNAL UNHANDLED ERROR: ",kw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=fv.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&ct(47125,{Pc:kw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function kw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
    -`+t.stack),e}class vc extends rm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Iw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Iw(e),this._firestoreClient=void 0,await e}}}function Ea(t,e){const n=typeof t=="object"?t:Ly(),r=typeof t=="string"?t:sp,i=Vp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=SC("firestore");s&&yO(i,...s)}return i}function gv(t){if(t._terminated)throw new Xe(Le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vO(t),t._firestoreClient}function vO(t){var r,i,s;const e=t._freezeSettings(),n=(function(l,f,c,d){return new VP(l,f,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,II(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new dO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(l){const f=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(f),_online:f}})(t._componentsProvider))}/**
    + */const kw="AsyncQueue";class Rw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mI(this,"async_queue_retry"),this._c=()=>{const r=U1();r&&Je(kw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=U1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=U1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Eo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yc(e))throw e;Je(kw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ta("INTERNAL UNHANDLED ERROR: ",Nw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=mv.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&ct(47125,{Pc:Nw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Nw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
    +`+t.stack),e}class Tc extends sm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Rw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rw(e),this._firestoreClient=void 0,await e}}}function Ds(t,e){const n=typeof t=="object"?t:Vy(),r=typeof t=="string"?t:ap,i=qp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=kC("firestore");s&&wO(i,...s)}return i}function _v(t){if(t._terminated)throw new Xe(Le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||SO(t),t._firestoreClient}function SO(t){var r,i,s;const e=t._freezeSettings(),n=(function(l,f,c,d){return new jP(l,f,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,DI(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new vO(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(l){const f=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(f),_online:f}})(t._componentsProvider))}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class Ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ri(dr.fromBase64String(e))}catch(n){throw new Xe(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ri(dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(I0(e,Ri._jsonSchema))return Ri.fromBase64String(e.bytes)}}Ri._jsonSchemaVersion="firestore/bytes/1.0",Ri._jsonSchema={type:jn("string",Ri._jsonSchemaVersion),bytes:jn("string")};/**
    + */class Ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ri(dr.fromBase64String(e))}catch(n){throw new Xe(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ri(dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(k0(e,Ri._jsonSchema))return Ri.fromBase64String(e.bytes)}}Ri._jsonSchemaVersion="firestore/bytes/1.0",Ri._jsonSchema={type:jn("string",Ri._jsonSchemaVersion),bytes:jn("string")};/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class M0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Xe(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
    + */class P0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Xe(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class im{constructor(e){this._methodName=e}}/**
    + */class am{constructor(e){this._methodName=e}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class ks{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Xe(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Xe(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ks._jsonSchemaVersion}}static fromJSON(e){if(I0(e,ks._jsonSchema))return new ks(e.latitude,e.longitude)}}ks._jsonSchemaVersion="firestore/geoPoint/1.0",ks._jsonSchema={type:jn("string",ks._jsonSchemaVersion),latitude:jn("number"),longitude:jn("number")};/**
    + */class ks{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Xe(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Xe(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ks._jsonSchemaVersion}}static fromJSON(e){if(k0(e,ks._jsonSchema))return new ks(e.latitude,e.longitude)}}ks._jsonSchemaVersion="firestore/geoPoint/1.0",ks._jsonSchema={type:jn("string",ks._jsonSchemaVersion),latitude:jn("number"),longitude:jn("number")};/**
      * @license
      * Copyright 2024 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class Rs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Rs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(I0(e,Rs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Rs(e.vectorValues);throw new Xe(Le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rs._jsonSchemaVersion="firestore/vectorValue/1.0",Rs._jsonSchema={type:jn("string",Rs._jsonSchemaVersion),vectorValues:jn("object")};/**
    + */class Rs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Rs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(k0(e,Rs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Rs(e.vectorValues);throw new Xe(Le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rs._jsonSchemaVersion="firestore/vectorValue/1.0",Rs._jsonSchema={type:jn("string",Rs._jsonSchemaVersion),vectorValues:jn("object")};/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const _O=/^__.*__$/;class TO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Uo(e,this.data,this.fieldMask,n,this.fieldTransforms):new k0(e,this.data,n,this.fieldTransforms)}}class RI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Uo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function NI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct(40011,{Ac:t})}}class xv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new xv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(NI(this.Ac)&&_O.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class EO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||em(e)}Cc(e,n,r,i=!1){return new xv({Ac:e,methodName:n,Dc:r,path:cr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sm(t){const e=t._freezeSettings(),n=em(t._databaseId);return new EO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function DI(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);vv("Data must be an object, but it was:",o,r);const l=LI(r,o);let f,c;if(s.merge)f=new hi(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const p=sy(e,g,n);if(!o.contains(p))throw new Xe(Le.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);FI(d,p)||d.push(p)}f=new hi(d),c=o.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,c=o.fieldTransforms;return new TO(new Yr(l),f,c)}class am extends im{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof am}}class yv extends im{_toFieldTransform(e){return new f9(e.path,new c0)}isEqual(e){return e instanceof yv}}function MI(t,e,n,r){const i=t.Cc(1,e,n);vv("Data must be an object, but it was:",i,r);const s=[],o=Yr.empty();Fo(r,((f,c)=>{const d=_v(e,f,n);c=Cn(c);const g=i.yc(d);if(c instanceof am)s.push(d);else{const p=P0(c,g);p!=null&&(s.push(d),o.set(d,p))}}));const l=new hi(s);return new RI(o,l,i.fieldTransforms)}function PI(t,e,n,r,i,s){const o=t.Cc(1,e,n),l=[sy(e,r,n)],f=[i];if(s.length%2!=0)throw new Xe(Le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)l.push(sy(e,s[p])),f.push(s[p+1]);const c=[],d=Yr.empty();for(let p=l.length-1;p>=0;--p)if(!FI(c,l[p])){const x=l[p];let _=f[p];_=Cn(_);const b=o.yc(x);if(_ instanceof am)c.push(x);else{const C=P0(_,b);C!=null&&(c.push(x),d.set(x,C))}}const g=new hi(c);return new RI(d,g,o.fieldTransforms)}function bO(t,e,n,r=!1){return P0(n,t.Cc(r?4:3,e))}function P0(t,e){if(OI(t=Cn(t)))return vv("Unsupported field value:",e,t),LI(t,e);if(t instanceof im)return(function(r,i){if(!NI(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let o=0;for(const l of r){let f=P0(l,i.wc(o));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),o++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return u9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=xn.fromDate(r);return{timestampValue:lp(i.serializer,s)}}if(r instanceof xn){const s=new xn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lp(i.serializer,s)}}if(r instanceof ks)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ri)return{bytesValue:eI(i.serializer,r._byteString)};if(r instanceof Kn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:nv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Rs)return(function(o,l){return{mapValue:{fields:{[I4]:{stringValue:k4},[ap]:{arrayValue:{values:o.toArray().map((c=>{if(typeof c!="number")throw l.Sc("VectorValues must only contain numeric values.");return Zy(l.serializer,c)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Gp(r)}`)})(t,e)}function LI(t,e){const n={};return E4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fo(t,((r,i)=>{const s=P0(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function OI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xn||t instanceof ks||t instanceof Ri||t instanceof Kn||t instanceof im||t instanceof Rs)}function vv(t,e,n){if(!OI(n)||!_4(n)){const r=Gp(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function sy(t,e,n){if((e=Cn(e))instanceof M0)return e._internalPath;if(typeof e=="string")return _v(t,e);throw dp("Field path arguments must be of type string or ",t,!1,void 0,n)}const wO=new RegExp("[~\\*/\\[\\]]");function _v(t,e,n){if(e.search(wO)>=0)throw dp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new M0(...e.split("."))._internalPath}catch{throw dp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let f="";return(s||o)&&(f+=" (found",s&&(f+=` in field ${r}`),o&&(f+=` in document ${i}`),f+=")"),new Xe(Le.INVALID_ARGUMENT,l+t+f)}function FI(t,e){return t.some((n=>n.isEqual(e)))}/**
    + */const AO=/^__.*__$/;class CO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bo(e,this.data,this.fieldMask,n,this.fieldTransforms):new R0(e,this.data,n,this.fieldTransforms)}}class PI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Bo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct(40011,{Ac:t})}}class Tv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Tv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(LI(this.Ac)&&AO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class IO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||nm(e)}Cc(e,n,r,i=!1){return new Tv({Ac:e,methodName:n,Dc:r,path:cr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function om(t){const e=t._freezeSettings(),n=nm(t._databaseId);return new IO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OI(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);bv("Data must be an object, but it was:",o,r);const l=VI(r,o);let f,c;if(s.merge)f=new hi(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const g of s.mergeFields){const p=uy(e,g,n);if(!o.contains(p))throw new Xe(Le.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);qI(d,p)||d.push(p)}f=new hi(d),c=o.fieldTransforms.filter((g=>f.covers(g.field)))}else f=null,c=o.fieldTransforms;return new CO(new Yr(l),f,c)}class um extends am{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof um}}class Ev extends am{_toFieldTransform(e){return new x9(e.path,new f0)}isEqual(e){return e instanceof Ev}}function FI(t,e,n,r){const i=t.Cc(1,e,n);bv("Data must be an object, but it was:",i,r);const s=[],o=Yr.empty();Vo(r,((f,c)=>{const d=wv(e,f,n);c=Cn(c);const g=i.yc(d);if(c instanceof um)s.push(d);else{const p=L0(c,g);p!=null&&(s.push(d),o.set(d,p))}}));const l=new hi(s);return new PI(o,l,i.fieldTransforms)}function UI(t,e,n,r,i,s){const o=t.Cc(1,e,n),l=[uy(e,r,n)],f=[i];if(s.length%2!=0)throw new Xe(Le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)l.push(uy(e,s[p])),f.push(s[p+1]);const c=[],d=Yr.empty();for(let p=l.length-1;p>=0;--p)if(!qI(c,l[p])){const x=l[p];let _=f[p];_=Cn(_);const b=o.yc(x);if(_ instanceof um)c.push(x);else{const C=L0(_,b);C!=null&&(c.push(x),d.set(x,C))}}const g=new hi(c);return new PI(d,g,o.fieldTransforms)}function kO(t,e,n,r=!1){return L0(n,t.Cc(r?4:3,e))}function L0(t,e){if(BI(t=Cn(t)))return bv("Unsupported field value:",e,t),VI(t,e);if(t instanceof am)return(function(r,i){if(!LI(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let o=0;for(const l of r){let f=L0(l,i.wc(o));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),o++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return p9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=xn.fromDate(r);return{timestampValue:cp(i.serializer,s)}}if(r instanceof xn){const s=new xn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cp(i.serializer,s)}}if(r instanceof ks)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ri)return{bytesValue:iI(i.serializer,r._byteString)};if(r instanceof Kn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:av(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Rs)return(function(o,l){return{mapValue:{fields:{[D4]:{stringValue:M4},[op]:{arrayValue:{values:o.toArray().map((c=>{if(typeof c!="number")throw l.Sc("VectorValues must only contain numeric values.");return rv(l.serializer,c)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${$p(r)}`)})(t,e)}function VI(t,e){const n={};return A4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vo(t,((r,i)=>{const s=L0(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function BI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xn||t instanceof ks||t instanceof Ri||t instanceof Kn||t instanceof am||t instanceof Rs)}function bv(t,e,n){if(!BI(n)||!w4(n)){const r=$p(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function uy(t,e,n){if((e=Cn(e))instanceof P0)return e._internalPath;if(typeof e=="string")return wv(t,e);throw pp("Field path arguments must be of type string or ",t,!1,void 0,n)}const RO=new RegExp("[~\\*/\\[\\]]");function wv(t,e,n){if(e.search(RO)>=0)throw pp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new P0(...e.split("."))._internalPath}catch{throw pp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let f="";return(s||o)&&(f+=" (found",s&&(f+=` in field ${r}`),o&&(f+=` in document ${i}`),f+=")"),new Xe(Le.INVALID_ARGUMENT,l+t+f)}function qI(t,e){return t.some((n=>n.isEqual(e)))}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class UI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(om("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SO extends UI{data(){return super.data()}}function om(t,e){return typeof e=="string"?_v(t,e):e instanceof M0?e._internalPath:e._delegate._internalPath}/**
    + */class HI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NO extends HI{data(){return super.data()}}function lm(t,e){return typeof e=="string"?wv(t,e):e instanceof P0?e._internalPath:e._delegate._internalPath}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function AO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Xe(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tv{}class VI extends Tv{}function Ev(t,e,...n){let r=[];e instanceof Tv&&r.push(e),r=r.concat(n),(function(s){const o=s.filter((f=>f instanceof bv)).length,l=s.filter((f=>f instanceof um)).length;if(o>1||o>0&&l>0)throw new Xe(Le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class um extends VI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new um(e,n,r)}_apply(e){const n=this._parse(e);return qI(e._query,n),new Vu(e.firestore,e.converter,Kx(e._query,n))}_parse(e){const n=sm(e.firestore);return(function(s,o,l,f,c,d,g){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Xe(Le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Nw(g,d);const _=[];for(const b of g)_.push(Rw(f,s,b));p={arrayValue:{values:_}}}else p=Rw(f,s,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Nw(g,d),p=bO(l,o,g,d==="in"||d==="not-in");return Gn.create(c,d,p)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function CO(t,e,n){const r=e,i=om("where",t);return um._create(i,r,n)}class bv extends Tv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bv(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:os.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let o=i;const l=s.getFlattenedFilters();for(const f of l)qI(o,f),o=Kx(o,f)})(e._query,n),new Vu(e.firestore,e.converter,Kx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wv extends VI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wv(e,n)}_apply(e){const n=(function(i,s,o){if(i.startAt!==null)throw new Xe(Le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Xe(Le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new l0(s,o)})(e._query,this._field,this._direction);return new Vu(e.firestore,e.converter,(function(i,s){const o=i.explicitOrderBy.concat([s]);return new xc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function BI(t,e="asc"){const n=e,r=om("orderBy",t);return wv._create(r,n)}function Rw(t,e,n){if(typeof(n=Cn(n))=="string"){if(n==="")throw new Xe(Le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U4(e)&&n.indexOf("/")!==-1)throw new Xe(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(hn.fromString(n));if(!it.isDocumentKey(r))throw new Xe(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wb(t,new it(r))}if(n instanceof Kn)return Wb(t,n._key);throw new Xe(Le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gp(n)}.`)}function Nw(t,e){if(!Array.isArray(t)||t.length===0)throw new Xe(Le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qI(t,e){const n=(function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Xe(Le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Xe(Le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class IO{convertValue(e,n="none"){switch(ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ct(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fo(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[ap].arrayValue)==null?void 0:i.values)==null?void 0:s.map((o=>Mn(o.doubleValue)));return new Rs(n)}convertGeoPoint(e){return new ks(Mn(e.latitude),Mn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(a0(e));default:return null}}convertTimestamp(e){const n=Co(e);return new xn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=hn.fromString(e);Wt(aI(r),9688,{name:e});const i=new o0(r.get(1),r.get(3)),s=new it(r.popFirst(5));return i.isEqual(n)||_a(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
    + */function DO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Xe(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sv{}class zI extends Sv{}function cm(t,e,...n){let r=[];e instanceof Sv&&r.push(e),r=r.concat(n),(function(s){const o=s.filter((f=>f instanceof Av)).length,l=s.filter((f=>f instanceof fm)).length;if(o>1||o>0&&l>0)throw new Xe(Le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class fm extends zI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new fm(e,n,r)}_apply(e){const n=this._parse(e);return $I(e._query,n),new Bu(e.firestore,e.converter,Jx(e._query,n))}_parse(e){const n=om(e.firestore);return(function(s,o,l,f,c,d,g){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Xe(Le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Mw(g,d);const _=[];for(const b of g)_.push(Dw(f,s,b));p={arrayValue:{values:_}}}else p=Dw(f,s,g)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Mw(g,d),p=kO(l,o,g,d==="in"||d==="not-in");return Gn.create(c,d,p)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function GI(t,e,n){const r=e,i=lm("where",t);return fm._create(i,r,n)}class Av extends Sv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Av(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:os.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let o=i;const l=s.getFlattenedFilters();for(const f of l)$I(o,f),o=Jx(o,f)})(e._query,n),new Bu(e.firestore,e.converter,Jx(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Cv extends zI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Cv(e,n)}_apply(e){const n=(function(i,s,o){if(i.startAt!==null)throw new Xe(Le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Xe(Le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new c0(s,o)})(e._query,this._field,this._direction);return new Bu(e.firestore,e.converter,(function(i,s){const o=i.explicitOrderBy.concat([s]);return new vc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function jI(t,e="asc"){const n=e,r=lm("orderBy",t);return Cv._create(r,n)}function Dw(t,e,n){if(typeof(n=Cn(n))=="string"){if(n==="")throw new Xe(Le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!H4(e)&&n.indexOf("/")!==-1)throw new Xe(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(hn.fromString(n));if(!it.isDocumentKey(r))throw new Xe(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yb(t,new it(r))}if(n instanceof Kn)return Yb(t,n._key);throw new Xe(Le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$p(n)}.`)}function Mw(t,e){if(!Array.isArray(t)||t.length===0)throw new Xe(Le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $I(t,e){const n=(function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Xe(Le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Xe(Le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class MO{convertValue(e,n="none"){switch(No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ct(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vo(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[op].arrayValue)==null?void 0:i.values)==null?void 0:s.map((o=>Mn(o.doubleValue)));return new Rs(n)}convertGeoPoint(e){return new ks(Mn(e.latitude),Mn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(o0(e));default:return null}}convertTimestamp(e){const n=ko(e);return new xn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=hn.fromString(e);Wt(cI(r),9688,{name:e});const i=new u0(r.get(1),r.get(3)),s=new it(r.popFirst(5));return i.isEqual(n)||Ta(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function HI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class xd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wl extends UI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(om("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Xe(Le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wl._jsonSchema={type:jn("string",Wl._jsonSchemaVersion),bundleSource:jn("string","DocumentSnapshot"),bundleName:jn("string"),bundle:jn("string")};class jd extends Wl{data(e={}){return super.data(e)}}class Kl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new jd(this._firestore,this._userDataWriter,r.key,r,new xd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Xe(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const f=new jd(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:f,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>s||l.type!==3)).map((l=>{const f=new jd(i._firestore,i._userDataWriter,l.doc.key,l.doc,new xd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:kO(l.type),doc:f,oldIndex:c,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Xe(Le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct(61501,{type:t})}}Kl._jsonSchemaVersion="firestore/querySnapshot/1.0",Kl._jsonSchema={type:jn("string",Kl._jsonSchemaVersion),bundleSource:jn("string","QuerySnapshot"),bundleName:jn("string"),bundle:jn("string")};class RO extends IO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kn(this.firestore,null,n)}}function _c(t){t=So(t,Vu);const e=So(t.firestore,vc),n=gv(e),r=new RO(e);return AO(t._query),xO(n,t._query).then((i=>new Kl(e,r,t,i)))}function lm(t,e,n,...r){t=So(t,Kn);const i=So(t.firestore,vc),s=sm(i);let o;return o=typeof(e=Cn(e))=="string"||e instanceof M0?PI(s,"updateDoc",t._key,e,n,r):MI(s,"updateDoc",t._key,e),cm(i,[o.toMutation(t._key,Jr.exists(!0))])}function NO(t){return cm(So(t.firestore,vc),[new Qp(t._key,Jr.none())])}function zI(t,e){const n=So(t.firestore,vc),r=Bo(t),i=HI(t.converter,e);return cm(n,[DI(sm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Jr.exists(!1))]).then((()=>r))}function cm(t,e){return(function(r,i){const s=new _o;return r.asyncQueue.enqueueAndForget((async()=>rO(await mO(r),i,s))),s.promise})(gv(t),e)}/**
    + */function WI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class yd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yl extends HI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $d(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Xe(Le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Yl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Yl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yl._jsonSchema={type:jn("string",Yl._jsonSchemaVersion),bundleSource:jn("string","DocumentSnapshot"),bundleName:jn("string"),bundle:jn("string")};class $d extends Yl{data(e={}){return super.data(e)}}class Xl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new yd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new $d(this._firestore,this._userDataWriter,r.key,r,new yd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Xe(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const f=new $d(i._firestore,i._userDataWriter,l.doc.key,l.doc,new yd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:f,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>s||l.type!==3)).map((l=>{const f=new $d(i._firestore,i._userDataWriter,l.doc.key,l.doc,new yd(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:PO(l.type),doc:f,oldIndex:c,newIndex:d}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Xe(Le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct(61501,{type:t})}}Xl._jsonSchemaVersion="firestore/querySnapshot/1.0",Xl._jsonSchema={type:jn("string",Xl._jsonSchemaVersion),bundleSource:jn("string","QuerySnapshot"),bundleName:jn("string"),bundle:jn("string")};class LO extends MO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kn(this.firestore,null,n)}}function qu(t){t=Co(t,Bu);const e=Co(t.firestore,Tc),n=_v(e),r=new LO(e);return DO(t._query),bO(n,t._query).then((i=>new Xl(e,r,t,i)))}function hm(t,e,n,...r){t=Co(t,Kn);const i=Co(t.firestore,Tc),s=om(i);let o;return o=typeof(e=Cn(e))=="string"||e instanceof P0?UI(s,"updateDoc",t._key,e,n,r):FI(s,"updateDoc",t._key,e),dm(i,[o.toMutation(t._key,Jr.exists(!0))])}function OO(t){return dm(Co(t.firestore,Tc),[new em(t._key,Jr.none())])}function KI(t,e){const n=Co(t.firestore,Tc),r=qo(t),i=WI(t.converter,e);return dm(n,[OI(om(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Jr.exists(!1))]).then((()=>r))}function dm(t,e){return(function(r,i){const s=new Eo;return r.asyncQueue.enqueueAndForget((async()=>lO(await TO(r),i,s))),s.promise})(_v(t),e)}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class DO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=sm(e)}set(e,n,r){this._verifyNotCommitted();const i=F1(e,this._firestore),s=HI(i.converter,n,r),o=DI(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Jr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=F1(e,this._firestore);let o;return o=typeof(n=Cn(n))=="string"||n instanceof M0?PI(this._dataReader,"WriteBatch.update",s._key,n,r,i):MI(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Jr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=F1(e,this._firestore);return this._mutations=this._mutations.concat(new Qp(n._key,Jr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Xe(Le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function F1(t,e){if((t=Cn(t)).firestore!==e)throw new Xe(Le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function GI(){return new yv("serverTimestamp")}/**
    + */class FO{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=om(e)}set(e,n,r){this._verifyNotCommitted();const i=B1(e,this._firestore),s=WI(i.converter,n,r),o=OI(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Jr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=B1(e,this._firestore);let o;return o=typeof(n=Cn(n))=="string"||n instanceof P0?UI(this._dataReader,"WriteBatch.update",s._key,n,r,i):FI(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Jr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=B1(e,this._firestore);return this._mutations=this._mutations.concat(new em(n._key,Jr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Xe(Le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function B1(t,e){if((t=Cn(t)).firestore!==e)throw new Xe(Le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function YI(){return new Ev("serverTimestamp")}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function jI(t){return gv(t=So(t,vc)),new DO(t,(e=>cm(t,e)))}(function(e,n=!0){(function(i){pc=i})(hc),Au(new wo("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new vc(new _P(r.getProvider("auth-internal")),new bP(o,r.getProvider("app-check-internal")),(function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Xe(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new o0(c.options.projectId,d)})(o,i),o);return s={useFetchStreams:n,...s},l._setSettings(s),l}),"PUBLIC").setMultipleInstances(!0)),Ss(Pb,Lb,e),Ss(Pb,Lb,"esm2020")})();/**
    + */function XI(t){return _v(t=Co(t,Tc)),new FO(t,(e=>dm(t,e)))}(function(e,n=!0){(function(i){gc=i})(pc),Cu(new Ao("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Tc(new AP(r.getProvider("auth-internal")),new kP(o,r.getProvider("app-check-internal")),(function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Xe(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new u0(c.options.projectId,d)})(o,i),o);return s={useFetchStreams:n,...s},l._setSettings(s),l}),"PUBLIC").setMultipleInstances(!0)),Ss(Ob,Fb,e),Ss(Ob,Fb,"esm2020")})();/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const MO="type.googleapis.com/google.protobuf.Int64Value",PO="type.googleapis.com/google.protobuf.UInt64Value";function $I(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function pp(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>pp(e));if(typeof t=="function"||typeof t=="object")return $I(t,e=>pp(e));throw new Error("Data cannot be encoded in JSON: "+t)}function uc(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case MO:case PO:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>uc(e)):typeof t=="function"||typeof t=="object"?$I(t,e=>uc(e)):t}/**
    + */const UO="type.googleapis.com/google.protobuf.Int64Value",VO="type.googleapis.com/google.protobuf.UInt64Value";function JI(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function mp(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>mp(e));if(typeof t=="function"||typeof t=="object")return JI(t,e=>mp(e));throw new Error("Data cannot be encoded in JSON: "+t)}function cc(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case UO:case VO:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>cc(e)):typeof t=="function"||typeof t=="object"?JI(t,e=>cc(e)):t}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const Sv="functions";/**
    + */const Iv="functions";/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const Dw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xr extends Ms{constructor(e,n,r){super(`${Sv}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Xr.prototype)}}function LO(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function mp(t,e){let n=LO(t),r=n,i;try{const s=e&&e.error;if(s){const o=s.status;if(typeof o=="string"){if(!Dw[o])return new Xr("internal","internal");n=Dw[o],r=o}const l=s.message;typeof l=="string"&&(r=l),i=s.details,i!==void 0&&(i=uc(i))}}catch{}return n==="ok"?null:new Xr(n,r,i)}/**
    + */const Pw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xr extends Ps{constructor(e,n,r){super(`${Iv}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Xr.prototype)}}function BO(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function gp(t,e){let n=BO(t),r=n,i;try{const s=e&&e.error;if(s){const o=s.status;if(typeof o=="string"){if(!Pw[o])return new Xr("internal","internal");n=Pw[o],r=o}const l=s.message;typeof l=="string"&&(r=l),i=s.details,i!==void 0&&(i=cc(i))}}catch{}return n==="ok"?null:new Xr(n,r,i)}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */class OO{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,ci(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
    + */class qO{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,ci(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i==null||i.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
      * @license
      * Copyright 2017 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const ay="us-central1",FO=/^data: (.*?)(?:\n|$)/;function UO(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Xr("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class VO{constructor(e,n,r,i,s=ay,o=(...l)=>fetch(...l)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new OO(e,n,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(s);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=ay}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function BO(t,e,n){const r=Lo(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Ny(t.emulatorOrigin+"/backends"),Dy("Functions",!0))}function qO(t,e,n){const r=i=>zO(t,e,i,{});return r.stream=(i,s)=>jO(t,e,i,s),r}function WI(t){return t.emulatorOrigin&&Lo(t.emulatorOrigin)?"include":void 0}async function HO(t,e,n,r,i){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:WI(i)})}catch{return{status:0,json:null}}let o=null;try{o=await s.json()}catch{}return{status:s.status,json:o}}async function KI(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function zO(t,e,n,r){const i=t._url(e);return GO(t,i,n,r)}async function GO(t,e,n,r){n=pp(n);const i={data:n},s=await KI(t,r),o=r.timeout||7e4,l=UO(o),f=await Promise.race([HO(e,i,s,t.fetchImpl,t),l.promise,t.cancelAllRequests]);if(l.cancel(),!f)throw new Xr("cancelled","Firebase Functions instance was deleted.");const c=mp(f.status,f.json);if(c)throw c;if(!f.json)throw new Xr("internal","Response is not valid JSON object.");let d=f.json.data;if(typeof d>"u"&&(d=f.json.result),typeof d>"u")throw new Xr("internal","Response is missing data field.");return{data:uc(d)}}function jO(t,e,n,r){const i=t._url(e);return $O(t,i,n,r||{})}async function $O(t,e,n,r){var p;n=pp(n);const i={data:n},s=await KI(t,r);s["Content-Type"]="application/json",s.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:s,signal:r==null?void 0:r.signal,credentials:WI(t)})}catch(x){if(x instanceof Error&&x.name==="AbortError"){const b=new Xr("cancelled","Request was cancelled.");return{data:Promise.reject(b),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(b)}}}}}}const _=mp(0,null);return{data:Promise.reject(_),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(_)}}}}}}let l,f;const c=new Promise((x,_)=>{l=x,f=_});(p=r==null?void 0:r.signal)==null||p.addEventListener("abort",()=>{const x=new Xr("cancelled","Request was cancelled.");f(x)});const d=o.body.getReader(),g=WO(d,l,f,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const x=g.getReader();return{async next(){const{value:_,done:b}=await x.read();return{value:_,done:b}},async return(){return await x.cancel(),{done:!0,value:void 0}}}}},data:c}}function WO(t,e,n,r){const i=(o,l)=>{const f=o.match(FO);if(!f)return;const c=f[1];try{const d=JSON.parse(c);if("result"in d){e(uc(d.result));return}if("message"in d){l.enqueue(uc(d.message));return}if("error"in d){const g=mp(0,d);l.error(g),n(g);return}}catch(d){if(d instanceof Xr){l.error(d),n(d);return}}},s=new TextDecoder;return new ReadableStream({start(o){let l="";return f();async function f(){if(r!=null&&r.aborted){const c=new Xr("cancelled","Request was cancelled");return o.error(c),n(c),Promise.resolve()}try{const{value:c,done:d}=await t.read();if(d){l.trim()&&i(l.trim(),o),o.close();return}if(r!=null&&r.aborted){const p=new Xr("cancelled","Request was cancelled");o.error(p),n(p),await t.cancel();return}l+=s.decode(c,{stream:!0});const g=l.split(`
    -`);l=g.pop()||"";for(const p of g)p.trim()&&i(p.trim(),o);return f()}catch(c){const d=c instanceof Xr?c:mp(0,null);o.error(d),n(d)}}},cancel(){return t.cancel()}})}const Mw="@firebase/functions",Pw="0.13.1";/**
    + */const ly="us-central1",HO=/^data: (.*?)(?:\n|$)/;function zO(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Xr("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class GO{constructor(e,n,r,i,s=ly,o=(...l)=>fetch(...l)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new qO(e,n,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(s);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=ly}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function jO(t,e,n){const r=Fo(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Ly(t.emulatorOrigin+"/backends"),Oy("Functions",!0))}function $O(t,e,n){const r=i=>KO(t,e,i,{});return r.stream=(i,s)=>XO(t,e,i,s),r}function QI(t){return t.emulatorOrigin&&Fo(t.emulatorOrigin)?"include":void 0}async function WO(t,e,n,r,i){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:QI(i)})}catch{return{status:0,json:null}}let o=null;try{o=await s.json()}catch{}return{status:s.status,json:o}}async function ZI(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function KO(t,e,n,r){const i=t._url(e);return YO(t,i,n,r)}async function YO(t,e,n,r){n=mp(n);const i={data:n},s=await ZI(t,r),o=r.timeout||7e4,l=zO(o),f=await Promise.race([WO(e,i,s,t.fetchImpl,t),l.promise,t.cancelAllRequests]);if(l.cancel(),!f)throw new Xr("cancelled","Firebase Functions instance was deleted.");const c=gp(f.status,f.json);if(c)throw c;if(!f.json)throw new Xr("internal","Response is not valid JSON object.");let d=f.json.data;if(typeof d>"u"&&(d=f.json.result),typeof d>"u")throw new Xr("internal","Response is missing data field.");return{data:cc(d)}}function XO(t,e,n,r){const i=t._url(e);return JO(t,i,n,r||{})}async function JO(t,e,n,r){var p;n=mp(n);const i={data:n},s=await ZI(t,r);s["Content-Type"]="application/json",s.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:s,signal:r==null?void 0:r.signal,credentials:QI(t)})}catch(x){if(x instanceof Error&&x.name==="AbortError"){const b=new Xr("cancelled","Request was cancelled.");return{data:Promise.reject(b),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(b)}}}}}}const _=gp(0,null);return{data:Promise.reject(_),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(_)}}}}}}let l,f;const c=new Promise((x,_)=>{l=x,f=_});(p=r==null?void 0:r.signal)==null||p.addEventListener("abort",()=>{const x=new Xr("cancelled","Request was cancelled.");f(x)});const d=o.body.getReader(),g=QO(d,l,f,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const x=g.getReader();return{async next(){const{value:_,done:b}=await x.read();return{value:_,done:b}},async return(){return await x.cancel(),{done:!0,value:void 0}}}}},data:c}}function QO(t,e,n,r){const i=(o,l)=>{const f=o.match(HO);if(!f)return;const c=f[1];try{const d=JSON.parse(c);if("result"in d){e(cc(d.result));return}if("message"in d){l.enqueue(cc(d.message));return}if("error"in d){const g=gp(0,d);l.error(g),n(g);return}}catch(d){if(d instanceof Xr){l.error(d),n(d);return}}},s=new TextDecoder;return new ReadableStream({start(o){let l="";return f();async function f(){if(r!=null&&r.aborted){const c=new Xr("cancelled","Request was cancelled");return o.error(c),n(c),Promise.resolve()}try{const{value:c,done:d}=await t.read();if(d){l.trim()&&i(l.trim(),o),o.close();return}if(r!=null&&r.aborted){const p=new Xr("cancelled","Request was cancelled");o.error(p),n(p),await t.cancel();return}l+=s.decode(c,{stream:!0});const g=l.split(`
    +`);l=g.pop()||"";for(const p of g)p.trim()&&i(p.trim(),o);return f()}catch(c){const d=c instanceof Xr?c:gp(0,null);o.error(d),n(d)}}},cancel(){return t.cancel()}})}const Lw="@firebase/functions",Ow="0.13.1";/**
      * @license
      * Copyright 2019 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */const KO="auth-internal",YO="app-check-internal",XO="messaging-internal";function JO(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),s=n.getProvider(KO),o=n.getProvider(XO),l=n.getProvider(YO);return new VO(i,s,o,l,r)};Au(new wo(Sv,e,"PUBLIC").setMultipleInstances(!0)),Ss(Mw,Pw,t),Ss(Mw,Pw,"esm2020")}/**
    + */const ZO="auth-internal",eF="app-check-internal",tF="messaging-internal";function nF(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),s=n.getProvider(ZO),o=n.getProvider(tF),l=n.getProvider(eF);return new GO(i,s,o,l,r)};Cu(new Ao(Iv,e,"PUBLIC").setMultipleInstances(!0)),Ss(Lw,Ow,t),Ss(Lw,Ow,"esm2020")}/**
      * @license
      * Copyright 2020 Google LLC
      *
      * Licensed under the Apache License, Version 2.0 (the "License");
      * you may not use this file except in compliance with the License.
      * You may obtain a copy of the License at
      *
      *   http://www.apache.org/licenses/LICENSE-2.0
      *
      * Unless required by applicable law or agreed to in writing, software
      * distributed under the License is distributed on an "AS IS" BASIS,
      * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      * See the License for the specific language governing permissions and
      * limitations under the License.
    - */function YI(t=Ly(),e=ay){const r=Vp(Cn(t),Sv).getImmediate({identifier:e}),i=SC("functions");return i&&QO(r,...i),r}function QO(t,e,n){BO(Cn(t),e,n)}function XI(t,e,n){return qO(Cn(t),e)}JO();const ZO={apiKey:"AIzaSyBsgvePGLlADEQoPpQU4Vj54AJFzCniY3s",authDomain:"trac-nghiem-oline.firebaseapp.com",projectId:"trac-nghiem-oline",storageBucket:"trac-nghiem-oline.firebasestorage.app",messagingSenderId:"1045919082825",appId:"1:1045919082825:web:5544f4d9f08429c6f5d298"},Av=RC(ZO),Gf=gP(Av),Tc=Ea(Av),eF=YI(Av),Lw=()=>{const[t,e]=fe.useState(""),[n,r]=fe.useState(""),[i,s]=fe.useState(!1),[o,l]=fe.useState(""),f=async d=>{d.preventDefault(),s(!0),l("");try{await nM(Gf,t,n)}catch(g){g.code==="auth/invalid-credential"?l("Email hoc mt khu khng hp l. Vui lng kim tra li."):l(" xy ra li khi ng nhp. Vui lng th li."),console.error("Firebase login error:",g)}finally{s(!1)}},c=async()=>{s(!0),l("");const d=new ha;try{await SM(Gf,d)}catch(g){l("Khng th ng nhp bng Google. Vui lng th li."),console.error("Google SSO error:",g)}finally{s(!1)}};return w.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 p-4",children:w.jsxs("div",{className:"w-full max-w-md bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl shadow-indigo-100/50 border-t border-gray-200 p-10 sm:p-12 space-y-8",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"text-4xl font-bold tracking-tight text-gray-900",children:"Cho mng"}),w.jsx("p",{className:"mt-2 text-gray-500",children:"ng nhp vo Nn tng Thi trc tuyn"})]}),o&&w.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 text-red-800 p-4 rounded-lg",role:"alert",children:[w.jsx("p",{className:"font-bold",children:"Li"}),w.jsx("p",{children:o})]}),w.jsxs("form",{onSubmit:f,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"a ch Email"}),w.jsx("input",{id:"email",type:"email",value:t,onChange:d=>e(d.target.value),required:!0,className:"transition block w-full px-4 py-3 bg-white border border-gray-200 rounded-xl shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500",placeholder:"email@cuaban.com"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mt khu"}),w.jsx("input",{id:"password",type:"password",value:n,onChange:d=>r(d.target.value),required:!0,className:"transition block w-full px-4 py-3 bg-white border border-gray-200 rounded-xl shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500",placeholder:"Mt khu ca bn"})]}),w.jsx("button",{type:"submit",disabled:i,className:"transition-transform duration-300 hover:scale-105 w-full flex justify-center py-3.5 px-4 border border-transparent rounded-xl shadow-sm text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus-visible:outline-indigo-600 disabled:bg-indigo-500/80 disabled:cursor-not-allowed",children:i?w.jsx(en,{}):"ng nhp"})]}),w.jsxs("div",{className:"relative flex py-1 items-center",children:[w.jsx("div",{className:"flex-grow border-t border-gray-300/50"}),w.jsx("span",{className:"flex-shrink mx-4 text-xs text-gray-400 uppercase font-semibold",children:"Hoc"}),w.jsx("div",{className:"flex-grow border-t border-gray-300/50"})]}),w.jsx("button",{onClick:c,disabled:i,className:"transition-all duration-300 hover:shadow-md hover:scale-105 w-full flex justify-center items-center py-3.5 px-4 border border-gray-200 rounded-xl shadow-sm text-base font-semibold text-gray-800 bg-white hover:bg-indigo-50/50 focus:outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",children:i?w.jsx(en,{}):w.jsxs(w.Fragment,{children:[w.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 48 48",children:[w.jsx("path",{fill:"#4285F4",d:"M24 9.5c3.2 0 6.1 1.1 8.4 3.2l6.3-6.3C34.9 2.5 29.8 0 24 0 14.9 0 7.3 5.4 3 13l7.8 6C12.2 13.4 17.7 9.5 24 9.5z"}),w.jsx("path",{fill:"#34A853",d:"M46.5 24c0-1.6-.1-3.2-.4-4.7H24v9h12.7c-.5 2.9-2.2 5.4-4.7 7.1l7.5 5.8c4.4-4.1 7-10 7-17.2z"}),w.jsx("path",{fill:"#FBBC05",d:"M10.8 28.2c-.3-.9-.5-1.9-.5-2.9s.2-2 .5-2.9l-7.8-6C1.2 19.4 0 21.6 0 24s1.2 4.6 3 6.8l7.8-5.6z"}),w.jsx("path",{fill:"#EA4335",d:"M24 48c5.8 0 10.9-1.9 14.5-5.2l-7.5-5.8c-1.9 1.3-4.4 2-7 2-6.3 0-11.8-3.9-13.8-9.2L3 31c4.3 7.6 11.9 12.8 21 12.8z"}),w.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]}),"ng nhp vi Google"]})}),w.jsxs("div",{className:"text-center text-sm text-gray-600 pt-6 mt-6 border-t border-slate-200 bg-slate-50 p-5 rounded-xl space-y-2",children:[w.jsx("p",{className:"font-bold text-slate-700",children:" kim th:"}),w.jsx("p",{className:"text-slate-600",children:"To ti khon hc vin v qun tr vin trong Firebase Authentication."}),w.jsxs("p",{className:"text-slate-600",children:["Email qun tr vin: ",w.jsx("code",{className:"bg-slate-200 text-slate-700 font-mono px-1.5 py-0.5 rounded-md",children:"admin@example.com"})]})]})]})})},Ow="https://script.google.com/macros/s/AKfycbyx2bI-f1PuEyqH__5PVkHgfFWcT-jPBc9eVtHHrLP2SirC_oYep1K2xIie1IFXqOsTOA/exec";async function Ps(t,e="GET",n={}){if(Ow.includes("PASTE_YOUR_GOOGLE_APPS_SCRIPT_DEPLOYMENT_URL_HERE")){const s="LI CU HNH: Vui lng dn URL trin khai Google Apps Script ca bn vo bin SCRIPT_URL trong file services/examService.ts.";throw new Error(s)}const r=new URL(Ow);r.searchParams.append("action",t);const i={method:e,headers:{},mode:"cors"};if(e==="GET")for(const[s,o]of Object.entries(n))o!=null&&r.searchParams.append(s,String(o));else e==="POST"&&(i.body=JSON.stringify(n),i.headers={"Content-Type":"text/plain;charset=utf-8"});try{const o=await(await fetch(r.toString(),i)).text();try{const l=JSON.parse(o);if(!l.ok)throw new Error(l.error||"Li khng xc nh t Google Apps Script");return l.data}catch{throw console.error("Failed to parse JSON response:",o),new Error("Phn hi khng hp l t my ch qun tr. C th trin khai GAS  gp li.")}}catch(s){throw console.error(`[GAS API] Li hnh ng "${t}":`,s),s}}const tF=async t=>{if(!t)return console.error("fetchQuestionsFromSnapshot called with no URL."),[];try{const e=t.replace("/view?usp=drivesdk","&export=download"),n=await fetch(e);if(!n.ok)throw new Error(`Network response was not ok: ${n.statusText}`);return(await n.json()).questions||[]}catch(e){throw console.error("Failed to fetch or parse question snapshot:",e),new Error(`Khng th ti hoc phn tch file cu hi t URL: ${t}. Li gc: ${e instanceof Error?e.message:String(e)}`)}},nF=async(t,e)=>{const n=Bo(Tc,"attempts",t);await lm(n,{answers:e})},rF=async t=>{const e=Bo(Tc,"attempts",t.id),n={...t,status:"completed",completed_at:Date.now()};return await lm(e,{status:"completed",completed_at:GI(),answers:t.answers,score:t.score,questions:t.questions||[]}),n},iF=async t=>{const e=Vo(Tc,`attempts/${t.attemptId}/audit_logs`),n={...t,timestamp:GI()};n.metadata===void 0&&delete n.metadata,await zI(e,n)},sF=async t=>{const e=Bo(Tc,"attempts",t);await lm(e,{reviewRequested:!0})},aF=t=>Ps("getUserProfileByEmail","GET",{email:t}),oF=t=>Ps("getAvailableWindowsForUser","GET",{email:t.email}),uF=(t,e)=>Ps("getExamVariantForStudent","POST",{examId:t,studentEmail:e}),L0=()=>Ps("getAdminDashboardData","GET"),lF=t=>Ps("addClass","POST",{className:t}),cF=t=>Ps("updateClass","POST",{classData:t}),fF=t=>Ps("addWindow","POST",{windowData:t}),hF=(t,e)=>Ps("addQuestion","POST",{examId:t,question:e}),dF=t=>Ps("updateQuestion","POST",{question:t}),pF=t=>Ps("getExamAnalytics","GET",{examId:t}),mF=async()=>{const t=Vo(Tc,"attempts"),e=Ev(t,BI("started_at","desc")),n=await _c(e),r=[];return n.forEach(i=>{var o,l;const s=i.data();r.push({...s,id:i.id,started_at:((o=s.started_at)==null?void 0:o.toMillis())||0,completed_at:((l=s.completed_at)==null?void 0:l.toMillis())||null})}),r},gF=async t=>{const e=Vo(Tc,`attempts/${t}/audit_logs`),n=Ev(e,BI("timestamp","asc")),r=await _c(n),i=[];return r.forEach(s=>{var l;const o=s.data();i.push({...o,id:s.id,timestamp:((l=o.timestamp)==null?void 0:l.toMillis())||0})}),i},Ls=({d:t,...e})=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",...e,children:w.jsx("path",{d:t})}),xF=t=>w.jsx(Ls,{d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",...t}),JI=t=>w.jsx(Ls,{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",...t}),QI=t=>w.jsx(Ls,{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",...t}),Cv=t=>w.jsx(Ls,{d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0011.667 0l3.181-3.183m-4.991-2.691V5.006h4.992a8.25 8.25 0 01-11.667 0L2.985 9.348z",...t}),yF=({user:t,onStartExam:e,globalError:n,clearGlobalError:r})=>{const[i,s]=fe.useState([]),[o,l]=fe.useState(!0),[f,c]=fe.useState(null),[d,g]=fe.useState({}),[p,x]=fe.useState({}),[_,b]=fe.useState(""),C=fe.useCallback(async()=>{l(!0),b(""),r();try{if(t){const A=await oF(t);s(A)}}catch(A){console.error("Li khi ti cc k thi:",A),b("Khng th ti danh sch k thi. Vui lng th li.")}finally{l(!1)}},[t,r]);fe.useEffect(()=>{C()},[C]);const I=(A,P)=>{const D=Date.now();return D<A?{state:"upcoming",message:`Sp din ra lc ${new Date(A).toLocaleTimeString()}`}:D>P?{state:"expired",message:" kt thc"}:{state:"active",message:""}},M=async A=>{if(r(),x(D=>({...D,[A.id]:""})),(d[A.id]||"").trim()!==(A.accessCode||"").trim()){x(D=>({...D,[A.id]:"M truy cp khng hp l."}));return}if(!A.exam.questionsSnapshotUrl){x(D=>({...D,[A.id]:"Bi thi ny cha sn sng."}));return}const P=I(A.start_at,A.end_at);if(P.state!=="active"){x(D=>({...D,[A.id]:P.message}));return}c(A.id);try{const D={id:`local_atm_${Date.now()}`,userId:t.id,examId:A.examId,windowId:A.id,status:"in-progress",answers:{},score:null,started_at:Date.now(),completed_at:null,reviewRequested:!1};e(A.exam,A,D)}catch(D){console.error("Failed to create attempt:",D),alert("Khng th bt u bi thi. Vui lng th li."),c(null)}};return o&&i.length===0?w.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-center",children:[w.jsx(en,{}),w.jsx("p",{className:"mt-4 text-lg font-medium text-gray-600",children:"ang ti cc k thi..."})]}):w.jsxs("div",{className:"space-y-10",children:[w.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-y-4",children:[w.jsxs("div",{children:[w.jsxs("h1",{className:"text-4xl font-bold tracking-tight text-gray-900",children:["Cho mng, ",t.name,"!"]}),w.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Cc k thi ca bn c lit k bn di."})]}),w.jsxs("button",{onClick:C,disabled:o,className:"transition-all duration-300 flex items-center justify-center gap-2 text-sm font-semibold bg-white border border-gray-200 shadow-sm px-5 py-2.5 rounded-xl hover:shadow-md hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Lm mi danh sch k thi",children:[w.jsx(Cv,{className:`h-4 w-4 ${o?"animate-spin":""}`}),"Lm mi"]})]}),n&&w.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 text-red-800 p-4 rounded-lg flex justify-between items-start",role:"alert",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-bold",children:" xy ra li"}),w.jsx("p",{children:n})]}),w.jsx("button",{onClick:r,className:"font-bold text-2xl -mt-2 -mr-1",children:""})]}),_&&w.jsxs("div",{className:"text-center bg-red-50 border border-red-200 text-red-800 p-6 rounded-2xl shadow-lg",children:[w.jsx("p",{className:"text-xl font-bold",children:"Li"}),w.jsx("p",{className:"mt-2",children:_})]}),i.length===0&&!o&&!_?w.jsxs("div",{className:"text-center bg-white p-12 rounded-3xl shadow-lg border border-gray-200",children:[w.jsx("p",{className:"text-2xl font-semibold text-gray-700",children:"Tuyt vi!"}),w.jsx("p",{className:"mt-2 text-lg text-gray-500",children:"Hin ti khng c k thi no dnh cho bn."})]}):w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map(A=>{const P=I(A.start_at,A.end_at);return w.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl border border-gray-200/80 overflow-hidden flex flex-col transition-all duration-300 ease-in-out hover:-translate-y-1",children:[w.jsxs("div",{className:"p-6 flex-grow",children:[w.jsx("h3",{className:"text-xl font-bold text-indigo-700",children:A.exam.title}),w.jsx("p",{className:"mt-3 text-gray-600 flex-grow text-sm",children:A.exam.description}),w.jsx("div",{className:"mt-4 text-xs text-gray-500 space-y-1.5",children:w.jsxs("p",{children:[w.jsx("strong",{children:"Hn cht:"})," ",new Date(A.end_at).toLocaleString("vi-VN")]})})]}),w.jsxs("div",{className:"px-6 py-5 bg-gray-50/70 border-t border-gray-200/80",children:[w.jsxs("div",{className:"grid grid-cols-3 gap-x-4 mb-6 text-center",children:[w.jsxs("div",{className:"flex flex-col items-center text-gray-700",children:[w.jsx(xF,{className:"h-5 w-5 mb-1"}),w.jsxs("span",{className:"text-sm font-medium",children:[A.exam.totalQuestions," cu"]})]}),w.jsxs("div",{className:"flex flex-col items-center text-gray-700",children:[w.jsx(JI,{className:"h-5 w-5 mb-1"}),w.jsxs("span",{className:"text-sm font-medium",children:[A.exam.duration," pht"]})]}),w.jsxs("div",{className:"flex flex-col items-center text-gray-700",children:[w.jsx(QI,{className:"h-5 w-5 mb-1"}),w.jsxs("span",{className:"text-sm font-medium",children:["t ",A.exam.pass_threshold*100,"%"]})]})]}),w.jsxs("div",{className:"space-y-3",children:[w.jsx("input",{type:"text",placeholder:"M truy cp",className:"transition w-full px-4 py-2.5 border bg-white border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/50 text-sm",value:d[A.id]||"",onChange:D=>g(V=>({...V,[A.id]:D.target.value}))}),p[A.id]&&w.jsx("p",{className:"text-red-600 text-sm font-medium px-1",children:p[A.id]})]}),P.state==="upcoming"&&w.jsx("div",{className:"w-full text-center bg-sky-100 text-sky-800 font-semibold py-3 px-4 rounded-lg mt-4 text-sm",children:P.message}),P.state==="expired"&&w.jsx("div",{className:"w-full text-center bg-gray-200 text-gray-600 font-semibold py-3 px-4 rounded-lg mt-4 text-sm",children:P.message}),P.state==="active"&&w.jsx("button",{onClick:()=>M(A),disabled:!!f||o,className:"w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-300 ease-in-out hover:scale-105 active:scale-95 disabled:bg-indigo-400 disabled:cursor-not-allowed flex justify-center items-center mt-4",children:f===A.id?w.jsx(en,{}):"Bt u thi"})]})]},A.id)})})]})},O0=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),gp=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.536L16.732 3.732z"})}),d0=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),vF=({isOpen:t,onClose:e,onSave:n,initialClass:r})=>{const[i,s]=fe.useState(""),[o,l]=fe.useState(!1),[f,c]=fe.useState("");fe.useEffect(()=>{s(r?r.name:""),c("")},[r,t]);const d=async g=>{if(g.preventDefault(),!i.trim()){c("Tn lp khng c  trng.");return}l(!0),c("");try{r?await cF({...r,name:i}):await lF(i),n()}catch(p){console.error("Failed to save class",p),c(" xy ra li khi lu. Vui lng th li.")}finally{l(!1)}};return t?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-md w-full",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Sa lp hc":"Thm lp hc mi"}),w.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-800 text-3xl leading-none",children:""})]}),w.jsxs("form",{onSubmit:d,className:"space-y-4",children:[f&&w.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-700 px-4 py-3 rounded-lg",children:f}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"className",className:"block text-sm font-medium text-gray-700",children:"Tn lp"}),w.jsx("input",{id:"className",type:"text",value:i,onChange:g=>s(g.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"v d: Lp 12A1 - Kha 2024"})]}),w.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[w.jsx("button",{type:"button",onClick:e,className:"bg-white hover:bg-gray-100 text-gray-800 font-bold py-2 px-4 rounded-lg border border-gray-300 transition-colors",children:"Hy"}),w.jsx("button",{type:"submit",disabled:o,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center disabled:bg-indigo-400 transition-colors",children:o?w.jsx(en,{}):"Lu"})]})]})]})}):null},lc=({currentPage:t,totalPages:e,onPageChange:n})=>e<=1?null:w.jsxs("div",{className:"flex items-center justify-between mt-4 px-1 py-3",children:[w.jsx("button",{onClick:()=>n(t-1),disabled:t===1,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),w.jsxs("span",{className:"text-sm text-gray-700",children:["Trang ",t," trn ",e]}),w.jsx("button",{onClick:()=>n(t+1),disabled:t===e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]}),_F=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),Iv=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>t?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 md:p-8 max-w-md w-full",children:[w.jsxs("div",{className:"flex items-start space-x-4",children:[w.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-rose-100 sm:mx-0 sm:h-10 sm:w-10",children:w.jsx(_F,{className:"h-6 w-6 text-rose-600"})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r}),w.jsx("div",{className:"mt-2 text-sm text-gray-600",children:i})]})]}),w.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[w.jsx("button",{type:"button",onClick:e,className:"bg-white text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 font-bold py-2 px-4 rounded-lg transition-colors text-sm",children:"Hy"}),w.jsx("button",{type:"button",onClick:()=>{n(),e()},className:"bg-rose-600 hover:bg-rose-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center transition-colors shadow-sm text-sm",children:"Xc nhn"})]})]})}):null;var $d={exports:{}};/* @license
    + */function e6(t=Vy(),e=ly){const r=qp(Cn(t),Iv).getImmediate({identifier:e}),i=kC("functions");return i&&rF(r,...i),r}function rF(t,e,n){jO(Cn(t),e,n)}function t6(t,e,n){return $O(Cn(t),e)}nF();const iF={apiKey:"AIzaSyBsgvePGLlADEQoPpQU4Vj54AJFzCniY3s",authDomain:"trac-nghiem-oline.firebaseapp.com",projectId:"trac-nghiem-oline",storageBucket:"trac-nghiem-oline.firebasestorage.app",messagingSenderId:"1045919082825",appId:"1:1045919082825:web:5544f4d9f08429c6f5d298"},kv=PC(iF),jf=EP(kv),Ec=Ds(kv),sF=e6(kv),Fw=()=>{const[t,e]=fe.useState(""),[n,r]=fe.useState(""),[i,s]=fe.useState(!1),[o,l]=fe.useState(""),f=async d=>{d.preventDefault(),s(!0),l("");try{await uM(jf,t,n)}catch(g){g.code==="auth/invalid-credential"?l("Email hoc mt khu khng hp l. Vui lng kim tra li."):l(" xy ra li khi ng nhp. Vui lng th li."),console.error("Firebase login error:",g)}finally{s(!1)}},c=async()=>{s(!0),l("");const d=new da;try{await NM(jf,d)}catch(g){l("Khng th ng nhp bng Google. Vui lng th li."),console.error("Google SSO error:",g)}finally{s(!1)}};return w.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 p-4",children:w.jsxs("div",{className:"w-full max-w-md bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl shadow-indigo-100/50 border-t border-gray-200 p-10 sm:p-12 space-y-8",children:[w.jsxs("div",{className:"text-center",children:[w.jsx("h1",{className:"text-4xl font-bold tracking-tight text-gray-900",children:"Cho mng"}),w.jsx("p",{className:"mt-2 text-gray-500",children:"ng nhp vo Nn tng Thi trc tuyn"})]}),o&&w.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 text-red-800 p-4 rounded-lg",role:"alert",children:[w.jsx("p",{className:"font-bold",children:"Li"}),w.jsx("p",{children:o})]}),w.jsxs("form",{onSubmit:f,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"a ch Email"}),w.jsx("input",{id:"email",type:"email",value:t,onChange:d=>e(d.target.value),required:!0,className:"transition block w-full px-4 py-3 bg-white border border-gray-200 rounded-xl shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500",placeholder:"email@cuaban.com"})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mt khu"}),w.jsx("input",{id:"password",type:"password",value:n,onChange:d=>r(d.target.value),required:!0,className:"transition block w-full px-4 py-3 bg-white border border-gray-200 rounded-xl shadow-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500",placeholder:"Mt khu ca bn"})]}),w.jsx("button",{type:"submit",disabled:i,className:"transition-transform duration-300 hover:scale-105 w-full flex justify-center py-3.5 px-4 border border-transparent rounded-xl shadow-sm text-base font-semibold text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus-visible:outline-indigo-600 disabled:bg-indigo-500/80 disabled:cursor-not-allowed",children:i?w.jsx(Kt,{}):"ng nhp"})]}),w.jsxs("div",{className:"relative flex py-1 items-center",children:[w.jsx("div",{className:"flex-grow border-t border-gray-300/50"}),w.jsx("span",{className:"flex-shrink mx-4 text-xs text-gray-400 uppercase font-semibold",children:"Hoc"}),w.jsx("div",{className:"flex-grow border-t border-gray-300/50"})]}),w.jsx("button",{onClick:c,disabled:i,className:"transition-all duration-300 hover:shadow-md hover:scale-105 w-full flex justify-center items-center py-3.5 px-4 border border-gray-200 rounded-xl shadow-sm text-base font-semibold text-gray-800 bg-white hover:bg-indigo-50/50 focus:outline-none disabled:bg-gray-100 disabled:cursor-not-allowed",children:i?w.jsx(Kt,{}):w.jsxs(w.Fragment,{children:[w.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 48 48",children:[w.jsx("path",{fill:"#4285F4",d:"M24 9.5c3.2 0 6.1 1.1 8.4 3.2l6.3-6.3C34.9 2.5 29.8 0 24 0 14.9 0 7.3 5.4 3 13l7.8 6C12.2 13.4 17.7 9.5 24 9.5z"}),w.jsx("path",{fill:"#34A853",d:"M46.5 24c0-1.6-.1-3.2-.4-4.7H24v9h12.7c-.5 2.9-2.2 5.4-4.7 7.1l7.5 5.8c4.4-4.1 7-10 7-17.2z"}),w.jsx("path",{fill:"#FBBC05",d:"M10.8 28.2c-.3-.9-.5-1.9-.5-2.9s.2-2 .5-2.9l-7.8-6C1.2 19.4 0 21.6 0 24s1.2 4.6 3 6.8l7.8-5.6z"}),w.jsx("path",{fill:"#EA4335",d:"M24 48c5.8 0 10.9-1.9 14.5-5.2l-7.5-5.8c-1.9 1.3-4.4 2-7 2-6.3 0-11.8-3.9-13.8-9.2L3 31c4.3 7.6 11.9 12.8 21 12.8z"}),w.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]}),"ng nhp vi Google"]})}),w.jsxs("div",{className:"text-center text-sm text-gray-600 pt-6 mt-6 border-t border-slate-200 bg-slate-50 p-5 rounded-xl space-y-2",children:[w.jsx("p",{className:"font-bold text-slate-700",children:" kim th:"}),w.jsx("p",{className:"text-slate-600",children:"To ti khon hc vin v qun tr vin trong Firebase Authentication."}),w.jsxs("p",{className:"text-slate-600",children:["Email qun tr vin: ",w.jsx("code",{className:"bg-slate-200 text-slate-700 font-mono px-1.5 py-0.5 rounded-md",children:"admin@example.com"})]})]})]})})},Uw="https://script.google.com/macros/s/AKfycbyx2bI-f1PuEyqH__5PVkHgfFWcT-jPBc9eVtHHrLP2SirC_oYep1K2xIie1IFXqOsTOA/exec";async function Ls(t,e="GET",n={}){if(Uw.includes("PASTE_YOUR_GOOGLE_APPS_SCRIPT_DEPLOYMENT_URL_HERE")){const s="LI CU HNH: Vui lng dn URL trin khai Google Apps Script ca bn vo bin SCRIPT_URL trong file services/examService.ts.";throw new Error(s)}const r=new URL(Uw);r.searchParams.append("action",t);const i={method:e,headers:{},mode:"cors"};if(e==="GET")for(const[s,o]of Object.entries(n))o!=null&&r.searchParams.append(s,String(o));else e==="POST"&&(i.body=JSON.stringify(n),i.headers={"Content-Type":"text/plain;charset=utf-8"});try{const o=await(await fetch(r.toString(),i)).text();try{const l=JSON.parse(o);if(!l.ok)throw new Error(l.error||"Li khng xc nh t Google Apps Script");return l.data}catch{throw console.error("Failed to parse JSON response:",o),new Error("Phn hi khng hp l t my ch qun tr. C th trin khai GAS  gp li.")}}catch(s){throw console.error(`[GAS API] Li hnh ng "${t}":`,s),s}}const aF=async t=>{if(!t)return console.error("fetchQuestionsFromSnapshot called with no URL."),[];try{const e=t.replace("/view?usp=drivesdk","&export=download"),n=await fetch(e);if(!n.ok)throw new Error(`Network response was not ok: ${n.statusText}`);return(await n.json()).questions||[]}catch(e){throw console.error("Failed to fetch or parse question snapshot:",e),new Error(`Khng th ti hoc phn tch file cu hi t URL: ${t}. Li gc: ${e instanceof Error?e.message:String(e)}`)}},oF=async(t,e)=>{const n=qo(Ec,"attempts",t);await hm(n,{answers:e})},uF=async t=>{const e=qo(Ec,"attempts",t.id),n={...t,status:"completed",completed_at:Date.now()};return await hm(e,{status:"completed",completed_at:YI(),answers:t.answers,score:t.score,questions:t.questions||[]}),n},lF=async t=>{const e=wa(Ec,`attempts/${t.attemptId}/audit_logs`),n={...t,timestamp:YI()};n.metadata===void 0&&delete n.metadata,await KI(e,n)},cF=async t=>{const e=qo(Ec,"attempts",t);await hm(e,{reviewRequested:!0})},fF=t=>Ls("getUserProfileByEmail","GET",{email:t}),hF=t=>Ls("getAvailableWindowsForUser","GET",{email:t.email}),dF=(t,e)=>Ls("getExamVariantForStudent","POST",{examId:t,studentEmail:e}),O0=()=>Ls("getAdminDashboardData","GET"),pF=t=>Ls("addClass","POST",{className:t}),mF=t=>Ls("updateClass","POST",{classData:t}),gF=t=>Ls("addWindow","POST",{windowData:t}),xF=(t,e)=>Ls("addQuestion","POST",{examId:t,question:e}),yF=t=>Ls("updateQuestion","POST",{question:t}),vF=t=>Ls("getExamAnalytics","GET",{examId:t}),_F=async()=>{const t=wa(Ec,"attempts"),e=cm(t,jI("started_at","desc")),n=await qu(e),r=[];return n.forEach(i=>{var o,l;const s=i.data();r.push({...s,id:i.id,started_at:((o=s.started_at)==null?void 0:o.toMillis())||0,completed_at:((l=s.completed_at)==null?void 0:l.toMillis())||null})}),r},TF=async t=>{const e=wa(Ec,`attempts/${t}/audit_logs`),n=cm(e,jI("timestamp","asc")),r=await qu(n),i=[];return r.forEach(s=>{var l;const o=s.data();i.push({...o,id:s.id,timestamp:((l=o.timestamp)==null?void 0:l.toMillis())||0})}),i},Os=({d:t,...e})=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",...e,children:w.jsx("path",{d:t})}),EF=t=>w.jsx(Os,{d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",...t}),n6=t=>w.jsx(Os,{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",...t}),r6=t=>w.jsx(Os,{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",...t}),Rv=t=>w.jsx(Os,{d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0011.667 0l3.181-3.183m-4.991-2.691V5.006h4.992a8.25 8.25 0 01-11.667 0L2.985 9.348z",...t}),bF=({user:t,onStartExam:e,globalError:n,clearGlobalError:r})=>{const[i,s]=fe.useState([]),[o,l]=fe.useState(!0),[f,c]=fe.useState(null),[d,g]=fe.useState({}),[p,x]=fe.useState({}),[_,b]=fe.useState(""),C=fe.useCallback(async()=>{l(!0),b(""),r();try{if(t){const A=await hF(t);s(A)}}catch(A){console.error("Li khi ti cc k thi:",A),b("Khng th ti danh sch k thi. Vui lng th li.")}finally{l(!1)}},[t,r]);fe.useEffect(()=>{C()},[C]);const I=(A,P)=>{const M=Date.now();return M<A?{state:"upcoming",message:`Sp din ra lc ${new Date(A).toLocaleTimeString()}`}:M>P?{state:"expired",message:" kt thc"}:{state:"active",message:""}},D=async A=>{if(r(),x(M=>({...M,[A.id]:""})),(d[A.id]||"").trim()!==(A.accessCode||"").trim()){x(M=>({...M,[A.id]:"M truy cp khng hp l."}));return}if(!A.exam.questionsSnapshotUrl){x(M=>({...M,[A.id]:"Bi thi ny cha sn sng."}));return}const P=I(A.start_at,A.end_at);if(P.state!=="active"){x(M=>({...M,[A.id]:P.message}));return}c(A.id);try{const M={id:`local_atm_${Date.now()}`,userId:t.id,examId:A.examId,windowId:A.id,status:"in-progress",answers:{},score:null,started_at:Date.now(),completed_at:null,reviewRequested:!1};e(A.exam,A,M)}catch(M){console.error("Failed to create attempt:",M),alert("Khng th bt u bi thi. Vui lng th li."),c(null)}};return o&&i.length===0?w.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-center",children:[w.jsx(Kt,{}),w.jsx("p",{className:"mt-4 text-lg font-medium text-gray-600",children:"ang ti cc k thi..."})]}):w.jsxs("div",{className:"space-y-10",children:[w.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-y-4",children:[w.jsxs("div",{children:[w.jsxs("h1",{className:"text-4xl font-bold tracking-tight text-gray-900",children:["Cho mng, ",t.name,"!"]}),w.jsx("p",{className:"mt-2 text-lg text-gray-600",children:"Cc k thi ca bn c lit k bn di."})]}),w.jsxs("button",{onClick:C,disabled:o,className:"transition-all duration-300 flex items-center justify-center gap-2 text-sm font-semibold bg-white border border-gray-200 shadow-sm px-5 py-2.5 rounded-xl hover:shadow-md hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Lm mi danh sch k thi",children:[w.jsx(Rv,{className:`h-4 w-4 ${o?"animate-spin":""}`}),"Lm mi"]})]}),n&&w.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 text-red-800 p-4 rounded-lg flex justify-between items-start",role:"alert",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-bold",children:" xy ra li"}),w.jsx("p",{children:n})]}),w.jsx("button",{onClick:r,className:"font-bold text-2xl -mt-2 -mr-1",children:""})]}),_&&w.jsxs("div",{className:"text-center bg-red-50 border border-red-200 text-red-800 p-6 rounded-2xl shadow-lg",children:[w.jsx("p",{className:"text-xl font-bold",children:"Li"}),w.jsx("p",{className:"mt-2",children:_})]}),i.length===0&&!o&&!_?w.jsxs("div",{className:"text-center bg-white p-12 rounded-3xl shadow-lg border border-gray-200",children:[w.jsx("p",{className:"text-2xl font-semibold text-gray-700",children:"Tuyt vi!"}),w.jsx("p",{className:"mt-2 text-lg text-gray-500",children:"Hin ti khng c k thi no dnh cho bn."})]}):w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:i.map(A=>{const P=I(A.start_at,A.end_at);return w.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl border border-gray-200/80 overflow-hidden flex flex-col transition-all duration-300 ease-in-out hover:-translate-y-1",children:[w.jsxs("div",{className:"p-6 flex-grow",children:[w.jsx("h3",{className:"text-xl font-bold text-indigo-700",children:A.exam.title}),w.jsx("p",{className:"mt-3 text-gray-600 flex-grow text-sm",children:A.exam.description}),w.jsx("div",{className:"mt-4 text-xs text-gray-500 space-y-1.5",children:w.jsxs("p",{children:[w.jsx("strong",{children:"Hn cht:"})," ",new Date(A.end_at).toLocaleString("vi-VN")]})})]}),w.jsxs("div",{className:"px-6 py-5 bg-gray-50/70 border-t border-gray-200/80",children:[w.jsxs("div",{className:"grid grid-cols-3 gap-x-4 mb-6 text-center",children:[w.jsxs("div",{className:"flex flex-col items-center text-gray-700",children:[w.jsx(EF,{className:"h-5 w-5 mb-1"}),w.jsxs("span",{className:"text-sm font-medium",children:[A.exam.totalQuestions," cu"]})]}),w.jsxs("div",{className:"flex flex-col items-center text-gray-700",children:[w.jsx(n6,{className:"h-5 w-5 mb-1"}),w.jsxs("span",{className:"text-sm font-medium",children:[A.exam.duration," pht"]})]}),w.jsxs("div",{className:"flex flex-col items-center text-gray-700",children:[w.jsx(r6,{className:"h-5 w-5 mb-1"}),w.jsxs("span",{className:"text-sm font-medium",children:["t ",A.exam.pass_threshold*100,"%"]})]})]}),w.jsxs("div",{className:"space-y-3",children:[w.jsx("input",{type:"text",placeholder:"M truy cp",className:"transition w-full px-4 py-2.5 border bg-white border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/50 text-sm",value:d[A.id]||"",onChange:M=>g(U=>({...U,[A.id]:M.target.value}))}),p[A.id]&&w.jsx("p",{className:"text-red-600 text-sm font-medium px-1",children:p[A.id]})]}),P.state==="upcoming"&&w.jsx("div",{className:"w-full text-center bg-sky-100 text-sky-800 font-semibold py-3 px-4 rounded-lg mt-4 text-sm",children:P.message}),P.state==="expired"&&w.jsx("div",{className:"w-full text-center bg-gray-200 text-gray-600 font-semibold py-3 px-4 rounded-lg mt-4 text-sm",children:P.message}),P.state==="active"&&w.jsx("button",{onClick:()=>D(A),disabled:!!f||o,className:"w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-300 ease-in-out hover:scale-105 active:scale-95 disabled:bg-indigo-400 disabled:cursor-not-allowed flex justify-center items-center mt-4",children:f===A.id?w.jsx(Kt,{}):"Bt u thi"})]})]},A.id)})})]})},F0=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),xp=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.536L16.732 3.732z"})}),p0=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),wF=({isOpen:t,onClose:e,onSave:n,initialClass:r})=>{const[i,s]=fe.useState(""),[o,l]=fe.useState(!1),[f,c]=fe.useState("");fe.useEffect(()=>{s(r?r.name:""),c("")},[r,t]);const d=async g=>{if(g.preventDefault(),!i.trim()){c("Tn lp khng c  trng.");return}l(!0),c("");try{r?await mF({...r,name:i}):await pF(i),n()}catch(p){console.error("Failed to save class",p),c(" xy ra li khi lu. Vui lng th li.")}finally{l(!1)}};return t?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 max-w-md w-full",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Sa lp hc":"Thm lp hc mi"}),w.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-800 text-3xl leading-none",children:""})]}),w.jsxs("form",{onSubmit:d,className:"space-y-4",children:[f&&w.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-700 px-4 py-3 rounded-lg",children:f}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"className",className:"block text-sm font-medium text-gray-700",children:"Tn lp"}),w.jsx("input",{id:"className",type:"text",value:i,onChange:g=>s(g.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"v d: Lp 12A1 - Kha 2024"})]}),w.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[w.jsx("button",{type:"button",onClick:e,className:"bg-white hover:bg-gray-100 text-gray-800 font-bold py-2 px-4 rounded-lg border border-gray-300 transition-colors",children:"Hy"}),w.jsx("button",{type:"submit",disabled:o,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center disabled:bg-indigo-400 transition-colors",children:o?w.jsx(Kt,{}):"Lu"})]})]})]})}):null},fc=({currentPage:t,totalPages:e,onPageChange:n})=>e<=1?null:w.jsxs("div",{className:"flex items-center justify-between mt-4 px-1 py-3",children:[w.jsx("button",{onClick:()=>n(t-1),disabled:t===1,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Trc"}),w.jsxs("span",{className:"text-sm text-gray-700",children:["Trang ",t," trn ",e]}),w.jsx("button",{onClick:()=>n(t+1),disabled:t===e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Sau"})]}),SF=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),Nv=({isOpen:t,onClose:e,onConfirm:n,title:r,message:i})=>t?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 md:p-8 max-w-md w-full",children:[w.jsxs("div",{className:"flex items-start space-x-4",children:[w.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-rose-100 sm:mx-0 sm:h-10 sm:w-10",children:w.jsx(SF,{className:"h-6 w-6 text-rose-600"})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r}),w.jsx("div",{className:"mt-2 text-sm text-gray-600",children:i})]})]}),w.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[w.jsx("button",{type:"button",onClick:e,className:"bg-white text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 font-bold py-2 px-4 rounded-lg transition-colors text-sm",children:"Hy"}),w.jsx("button",{type:"button",onClick:()=>{n(),e()},className:"bg-rose-600 hover:bg-rose-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center transition-colors shadow-sm text-sm",children:"Xc nhn"})]})]})}):null;var Wd={exports:{}};/* @license
     Papa Parse
     v5.5.3
     https://github.com/mholt/PapaParse
     License: MIT
    -*/var TF=$d.exports,Fw;function EF(){return Fw||(Fw=1,(function(t,e){((n,r)=>{t.exports=r()})(TF,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,l={},f=0,c={};function d(k){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(R){var O=D(R);O.chunkSize=parseInt(O.chunkSize),R.step||R.chunk||(O.chunkSize=null),this._handle=new b(O),(this._handle.streamer=this)._config=O}).call(this,k),this.parseChunk=function(R,O){var L=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<L){let q=this._config.newline;q||(U=this._config.quoteChar||'"',q=this._handle.guessLineEndings(R,U)),R=[...R.split(q).slice(L)].join(q)}this.isFirstChunk&&N(this._config.beforeFirstChunk)&&(U=this._config.beforeFirstChunk(R))!==void 0&&(R=U),this.isFirstChunk=!1,this._halted=!1;var L=this._partialLine+R,U=(this._partialLine="",this._handle.parse(L,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(R=U.meta.cursor,L=(this._finished||(this._partialLine=L.substring(R-this._baseIndex),this._baseIndex=R),U&&U.data&&(this._rowCount+=U.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:U,workerId:c.WORKER_ID,finished:L});else if(N(this._config.chunk)&&!O){if(this._config.chunk(U,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=U=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(U.data),this._completeResults.errors=this._completeResults.errors.concat(U.errors),this._completeResults.meta=U.meta),this._completed||!L||!N(this._config.complete)||U&&U.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),L||U&&U.meta.paused||this._nextChunk(),U}this._halted=!0},this._sendError=function(R){N(this._config.error)?this._config.error(R):o&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:R,finished:!1})}}function g(k){var R;(k=k||{}).chunkSize||(k.chunkSize=c.RemoteChunkSize),d.call(this,k),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(O){this._input=O,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(R=new XMLHttpRequest,this._config.withCredentials&&(R.withCredentials=this._config.withCredentials),s||(R.onload=V(this._chunkLoaded,this),R.onerror=V(this._chunkError,this)),R.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var O,L=this._config.downloadRequestHeaders;for(O in L)R.setRequestHeader(O,L[O])}var U;this._config.chunkSize&&(U=this._start+this._config.chunkSize-1,R.setRequestHeader("Range","bytes="+this._start+"-"+U));try{R.send(this._config.downloadRequestBody)}catch(q){this._chunkError(q.message)}s&&R.status===0&&this._chunkError()}},this._chunkLoaded=function(){R.readyState===4&&(R.status<200||400<=R.status?this._chunkError():(this._start+=this._config.chunkSize||R.responseText.length,this._finished=!this._config.chunkSize||this._start>=(O=>(O=O.getResponseHeader("Content-Range"))!==null?parseInt(O.substring(O.lastIndexOf("/")+1)):-1)(R),this.parseChunk(R.responseText)))},this._chunkError=function(O){O=R.statusText||O,this._sendError(new Error(O))}}function p(k){(k=k||{}).chunkSize||(k.chunkSize=c.LocalChunkSize),d.call(this,k);var R,O,L=typeof FileReader<"u";this.stream=function(U){this._input=U,O=U.slice||U.webkitSlice||U.mozSlice,L?((R=new FileReader).onload=V(this._chunkLoaded,this),R.onerror=V(this._chunkError,this)):R=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var U=this._input,q=(this._config.chunkSize&&(q=Math.min(this._start+this._config.chunkSize,this._input.size),U=O.call(U,this._start,q)),R.readAsText(U,this._config.encoding));L||this._chunkLoaded({target:{result:q}})},this._chunkLoaded=function(U){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(U.target.result)},this._chunkError=function(){this._sendError(R.error)}}function x(k){var R;d.call(this,k=k||{}),this.stream=function(O){return R=O,this._nextChunk()},this._nextChunk=function(){var O,L;if(!this._finished)return O=this._config.chunkSize,R=O?(L=R.substring(0,O),R.substring(O)):(L=R,""),this._finished=!R,this.parseChunk(L)}}function _(k){d.call(this,k=k||{});var R=[],O=!0,L=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(U){this._input=U,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){L&&R.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),R.length?this.parseChunk(R.shift()):O=!0},this._streamData=V(function(U){try{R.push(typeof U=="string"?U:U.toString(this._config.encoding)),O&&(O=!1,this._checkIsFinished(),this.parseChunk(R.shift()))}catch(q){this._streamError(q)}},this),this._streamError=V(function(U){this._streamCleanUp(),this._sendError(U)},this),this._streamEnd=V(function(){this._streamCleanUp(),L=!0,this._streamData("")},this),this._streamCleanUp=V(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(k){var R,O,L,U,q=Math.pow(2,53),he=-q,ae=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,se=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ue=this,Ce=0,J=0,be=!1,j=!1,z=[],K={data:[],errors:[],meta:{}};function ee(Re){return k.skipEmptyLines==="greedy"?Re.join("").trim()==="":Re.length===1&&Re[0].length===0}function re(){if(K&&L&&(ke("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),L=!1),k.skipEmptyLines&&(K.data=K.data.filter(function(Y){return!ee(Y)})),pe()){let Y=function(Ie,Fe){N(k.transformHeader)&&(Ie=k.transformHeader(Ie,Fe)),z.push(Ie)};var ce=Y;if(K)if(Array.isArray(K.data[0])){for(var Re=0;pe()&&Re<K.data.length;Re++)K.data[Re].forEach(Y);K.data.splice(0,1)}else K.data.forEach(Y)}function Ae(Y,Ie){for(var Fe=k.header?{}:[],Ke=0;Ke<Y.length;Ke++){var qe=Ke,He=Y[Ke],He=((nt,Ge)=>(We=>(k.dynamicTypingFunction&&k.dynamicTyping[We]===void 0&&(k.dynamicTyping[We]=k.dynamicTypingFunction(We)),(k.dynamicTyping[We]||k.dynamicTyping)===!0))(nt)?Ge==="true"||Ge==="TRUE"||Ge!=="false"&&Ge!=="FALSE"&&((We=>{if(ae.test(We)&&(We=parseFloat(We),he<We&&We<q))return 1})(Ge)?parseFloat(Ge):se.test(Ge)?new Date(Ge):Ge===""?null:Ge):Ge)(qe=k.header?Ke>=z.length?"__parsed_extra":z[Ke]:qe,He=k.transform?k.transform(He,qe):He);qe==="__parsed_extra"?(Fe[qe]=Fe[qe]||[],Fe[qe].push(He)):Fe[qe]=He}return k.header&&(Ke>z.length?ke("FieldMismatch","TooManyFields","Too many fields: expected "+z.length+" fields but parsed "+Ke,J+Ie):Ke<z.length&&ke("FieldMismatch","TooFewFields","Too few fields: expected "+z.length+" fields but parsed "+Ke,J+Ie)),Fe}var Ne;K&&(k.header||k.dynamicTyping||k.transform)&&(Ne=1,!K.data.length||Array.isArray(K.data[0])?(K.data=K.data.map(Ae),Ne=K.data.length):K.data=Ae(K.data,0),k.header&&K.meta&&(K.meta.fields=z),J+=Ne)}function pe(){return k.header&&z.length===0}function ke(Re,Ae,Ne,ce){Re={type:Re,code:Ae,message:Ne},ce!==void 0&&(Re.row=ce),K.errors.push(Re)}N(k.step)&&(U=k.step,k.step=function(Re){K=Re,pe()?re():(re(),K.data.length!==0&&(Ce+=Re.data.length,k.preview&&Ce>k.preview?O.abort():(K.data=K.data[0],U(K,ue))))}),this.parse=function(Re,Ae,Ne){var ce=k.quoteChar||'"',ce=(k.newline||(k.newline=this.guessLineEndings(Re,ce)),L=!1,k.delimiter?N(k.delimiter)&&(k.delimiter=k.delimiter(Re),K.meta.delimiter=k.delimiter):((ce=((Y,Ie,Fe,Ke,qe)=>{var He,nt,Ge,We;qe=qe||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Kt=0;Kt<qe.length;Kt++){for(var ot,ut=qe[Kt],st=0,bt=0,dt=0,tn=(Ge=void 0,new I({comments:Ke,delimiter:ut,newline:Ie,preview:10}).parse(Y)),wt=0;wt<tn.data.length;wt++)Fe&&ee(tn.data[wt])?dt++:(ot=tn.data[wt].length,bt+=ot,Ge===void 0?Ge=ot:0<ot&&(st+=Math.abs(ot-Ge),Ge=ot));0<tn.data.length&&(bt/=tn.data.length-dt),(nt===void 0||st<=nt)&&(We===void 0||We<bt)&&1.99<bt&&(nt=st,He=ut,We=bt)}return{successful:!!(k.delimiter=He),bestDelimiter:He}})(Re,k.newline,k.skipEmptyLines,k.comments,k.delimitersToGuess)).successful?k.delimiter=ce.bestDelimiter:(L=!0,k.delimiter=c.DefaultDelimiter),K.meta.delimiter=k.delimiter),D(k));return k.preview&&k.header&&ce.preview++,R=Re,O=new I(ce),K=O.parse(R,Ae,Ne),re(),be?{meta:{paused:!0}}:K||{meta:{paused:!1}}},this.paused=function(){return be},this.pause=function(){be=!0,O.abort(),R=N(k.chunk)?"":R.substring(O.getCharIndex())},this.resume=function(){ue.streamer._halted?(be=!1,ue.streamer.parseChunk(R,!0)):setTimeout(ue.resume,3)},this.aborted=function(){return j},this.abort=function(){j=!0,O.abort(),K.meta.aborted=!0,N(k.complete)&&k.complete(K),R=""},this.guessLineEndings=function(Y,ce){Y=Y.substring(0,1048576);var ce=new RegExp(C(ce)+"([^]*?)"+C(ce),"gm"),Ne=(Y=Y.replace(ce,"")).split("\r"),ce=Y.split(`
    -`),Y=1<ce.length&&ce[0].length<Ne[0].length;if(Ne.length===1||Y)return`
    +*/var AF=Wd.exports,Vw;function CF(){return Vw||(Vw=1,(function(t,e){((n,r)=>{t.exports=r()})(AF,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,l={},f=0,c={};function d(k){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(R){var V=M(R);V.chunkSize=parseInt(V.chunkSize),R.step||R.chunk||(V.chunkSize=null),this._handle=new b(V),(this._handle.streamer=this)._config=V}).call(this,k),this.parseChunk=function(R,V){var L=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<L){let q=this._config.newline;q||(F=this._config.quoteChar||'"',q=this._handle.guessLineEndings(R,F)),R=[...R.split(q).slice(L)].join(q)}this.isFirstChunk&&N(this._config.beforeFirstChunk)&&(F=this._config.beforeFirstChunk(R))!==void 0&&(R=F),this.isFirstChunk=!1,this._halted=!1;var L=this._partialLine+R,F=(this._partialLine="",this._handle.parse(L,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(R=F.meta.cursor,L=(this._finished||(this._partialLine=L.substring(R-this._baseIndex),this._baseIndex=R),F&&F.data&&(this._rowCount+=F.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:F,workerId:c.WORKER_ID,finished:L});else if(N(this._config.chunk)&&!V){if(this._config.chunk(F,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=F=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(F.data),this._completeResults.errors=this._completeResults.errors.concat(F.errors),this._completeResults.meta=F.meta),this._completed||!L||!N(this._config.complete)||F&&F.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),L||F&&F.meta.paused||this._nextChunk(),F}this._halted=!0},this._sendError=function(R){N(this._config.error)?this._config.error(R):o&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:R,finished:!1})}}function g(k){var R;(k=k||{}).chunkSize||(k.chunkSize=c.RemoteChunkSize),d.call(this,k),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(V){this._input=V,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(R=new XMLHttpRequest,this._config.withCredentials&&(R.withCredentials=this._config.withCredentials),s||(R.onload=U(this._chunkLoaded,this),R.onerror=U(this._chunkError,this)),R.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var V,L=this._config.downloadRequestHeaders;for(V in L)R.setRequestHeader(V,L[V])}var F;this._config.chunkSize&&(F=this._start+this._config.chunkSize-1,R.setRequestHeader("Range","bytes="+this._start+"-"+F));try{R.send(this._config.downloadRequestBody)}catch(q){this._chunkError(q.message)}s&&R.status===0&&this._chunkError()}},this._chunkLoaded=function(){R.readyState===4&&(R.status<200||400<=R.status?this._chunkError():(this._start+=this._config.chunkSize||R.responseText.length,this._finished=!this._config.chunkSize||this._start>=(V=>(V=V.getResponseHeader("Content-Range"))!==null?parseInt(V.substring(V.lastIndexOf("/")+1)):-1)(R),this.parseChunk(R.responseText)))},this._chunkError=function(V){V=R.statusText||V,this._sendError(new Error(V))}}function p(k){(k=k||{}).chunkSize||(k.chunkSize=c.LocalChunkSize),d.call(this,k);var R,V,L=typeof FileReader<"u";this.stream=function(F){this._input=F,V=F.slice||F.webkitSlice||F.mozSlice,L?((R=new FileReader).onload=U(this._chunkLoaded,this),R.onerror=U(this._chunkError,this)):R=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var F=this._input,q=(this._config.chunkSize&&(q=Math.min(this._start+this._config.chunkSize,this._input.size),F=V.call(F,this._start,q)),R.readAsText(F,this._config.encoding));L||this._chunkLoaded({target:{result:q}})},this._chunkLoaded=function(F){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(F.target.result)},this._chunkError=function(){this._sendError(R.error)}}function x(k){var R;d.call(this,k=k||{}),this.stream=function(V){return R=V,this._nextChunk()},this._nextChunk=function(){var V,L;if(!this._finished)return V=this._config.chunkSize,R=V?(L=R.substring(0,V),R.substring(V)):(L=R,""),this._finished=!R,this.parseChunk(L)}}function _(k){d.call(this,k=k||{});var R=[],V=!0,L=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(F){this._input=F,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){L&&R.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),R.length?this.parseChunk(R.shift()):V=!0},this._streamData=U(function(F){try{R.push(typeof F=="string"?F:F.toString(this._config.encoding)),V&&(V=!1,this._checkIsFinished(),this.parseChunk(R.shift()))}catch(q){this._streamError(q)}},this),this._streamError=U(function(F){this._streamCleanUp(),this._sendError(F)},this),this._streamEnd=U(function(){this._streamCleanUp(),L=!0,this._streamData("")},this),this._streamCleanUp=U(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(k){var R,V,L,F,q=Math.pow(2,53),ce=-q,oe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ae=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,se=this,me=0,X=0,ge=!1,G=!1,z=[],K={data:[],errors:[],meta:{}};function ee(Re){return k.skipEmptyLines==="greedy"?Re.join("").trim()==="":Re.length===1&&Re[0].length===0}function re(){if(K&&L&&(ke("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),L=!1),k.skipEmptyLines&&(K.data=K.data.filter(function(Y){return!ee(Y)})),pe()){let Y=function(Ie,Fe){N(k.transformHeader)&&(Ie=k.transformHeader(Ie,Fe)),z.push(Ie)};var he=Y;if(K)if(Array.isArray(K.data[0])){for(var Re=0;pe()&&Re<K.data.length;Re++)K.data[Re].forEach(Y);K.data.splice(0,1)}else K.data.forEach(Y)}function Ce(Y,Ie){for(var Fe=k.header?{}:[],Ke=0;Ke<Y.length;Ke++){var qe=Ke,He=Y[Ke],He=((nt,Ge)=>(We=>(k.dynamicTypingFunction&&k.dynamicTyping[We]===void 0&&(k.dynamicTyping[We]=k.dynamicTypingFunction(We)),(k.dynamicTyping[We]||k.dynamicTyping)===!0))(nt)?Ge==="true"||Ge==="TRUE"||Ge!=="false"&&Ge!=="FALSE"&&((We=>{if(oe.test(We)&&(We=parseFloat(We),ce<We&&We<q))return 1})(Ge)?parseFloat(Ge):ae.test(Ge)?new Date(Ge):Ge===""?null:Ge):Ge)(qe=k.header?Ke>=z.length?"__parsed_extra":z[Ke]:qe,He=k.transform?k.transform(He,qe):He);qe==="__parsed_extra"?(Fe[qe]=Fe[qe]||[],Fe[qe].push(He)):Fe[qe]=He}return k.header&&(Ke>z.length?ke("FieldMismatch","TooManyFields","Too many fields: expected "+z.length+" fields but parsed "+Ke,X+Ie):Ke<z.length&&ke("FieldMismatch","TooFewFields","Too few fields: expected "+z.length+" fields but parsed "+Ke,X+Ie)),Fe}var Ne;K&&(k.header||k.dynamicTyping||k.transform)&&(Ne=1,!K.data.length||Array.isArray(K.data[0])?(K.data=K.data.map(Ce),Ne=K.data.length):K.data=Ce(K.data,0),k.header&&K.meta&&(K.meta.fields=z),X+=Ne)}function pe(){return k.header&&z.length===0}function ke(Re,Ce,Ne,he){Re={type:Re,code:Ce,message:Ne},he!==void 0&&(Re.row=he),K.errors.push(Re)}N(k.step)&&(F=k.step,k.step=function(Re){K=Re,pe()?re():(re(),K.data.length!==0&&(me+=Re.data.length,k.preview&&me>k.preview?V.abort():(K.data=K.data[0],F(K,se))))}),this.parse=function(Re,Ce,Ne){var he=k.quoteChar||'"',he=(k.newline||(k.newline=this.guessLineEndings(Re,he)),L=!1,k.delimiter?N(k.delimiter)&&(k.delimiter=k.delimiter(Re),K.meta.delimiter=k.delimiter):((he=((Y,Ie,Fe,Ke,qe)=>{var He,nt,Ge,We;qe=qe||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Yt=0;Yt<qe.length;Yt++){for(var ot,ut=qe[Yt],st=0,bt=0,dt=0,tn=(Ge=void 0,new I({comments:Ke,delimiter:ut,newline:Ie,preview:10}).parse(Y)),wt=0;wt<tn.data.length;wt++)Fe&&ee(tn.data[wt])?dt++:(ot=tn.data[wt].length,bt+=ot,Ge===void 0?Ge=ot:0<ot&&(st+=Math.abs(ot-Ge),Ge=ot));0<tn.data.length&&(bt/=tn.data.length-dt),(nt===void 0||st<=nt)&&(We===void 0||We<bt)&&1.99<bt&&(nt=st,He=ut,We=bt)}return{successful:!!(k.delimiter=He),bestDelimiter:He}})(Re,k.newline,k.skipEmptyLines,k.comments,k.delimitersToGuess)).successful?k.delimiter=he.bestDelimiter:(L=!0,k.delimiter=c.DefaultDelimiter),K.meta.delimiter=k.delimiter),M(k));return k.preview&&k.header&&he.preview++,R=Re,V=new I(he),K=V.parse(R,Ce,Ne),re(),ge?{meta:{paused:!0}}:K||{meta:{paused:!1}}},this.paused=function(){return ge},this.pause=function(){ge=!0,V.abort(),R=N(k.chunk)?"":R.substring(V.getCharIndex())},this.resume=function(){se.streamer._halted?(ge=!1,se.streamer.parseChunk(R,!0)):setTimeout(se.resume,3)},this.aborted=function(){return G},this.abort=function(){G=!0,V.abort(),K.meta.aborted=!0,N(k.complete)&&k.complete(K),R=""},this.guessLineEndings=function(Y,he){Y=Y.substring(0,1048576);var he=new RegExp(C(he)+"([^]*?)"+C(he),"gm"),Ne=(Y=Y.replace(he,"")).split("\r"),he=Y.split(`
    +`),Y=1<he.length&&he[0].length<Ne[0].length;if(Ne.length===1||Y)return`
     `;for(var Ie=0,Fe=0;Fe<Ne.length;Fe++)Ne[Fe][0]===`
     `&&Ie++;return Ie>=Ne.length/2?`\r
    -`:"\r"}}function C(k){return k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function I(k){var R=(k=k||{}).delimiter,O=k.newline,L=k.comments,U=k.step,q=k.preview,he=k.fastMode,ae=null,se=!1,ue=k.quoteChar==null?'"':k.quoteChar,Ce=ue;if(k.escapeChar!==void 0&&(Ce=k.escapeChar),(typeof R!="string"||-1<c.BAD_DELIMITERS.indexOf(R))&&(R=","),L===R)throw new Error("Comment character same as delimiter");L===!0?L="#":(typeof L!="string"||-1<c.BAD_DELIMITERS.indexOf(L))&&(L=!1),O!==`
    -`&&O!=="\r"&&O!==`\r
    -`&&(O=`
    -`);var J=0,be=!1;this.parse=function(j,z,K){if(typeof j!="string")throw new Error("Input must be a string");var ee=j.length,re=R.length,pe=O.length,ke=L.length,Re=N(U),Ae=[],Ne=[],ce=[],Y=J=0;if(!j)return st();if(he||he!==!1&&j.indexOf(ue)===-1){for(var Ie=j.split(O),Fe=0;Fe<Ie.length;Fe++){if(ce=Ie[Fe],J+=ce.length,Fe!==Ie.length-1)J+=O.length;else if(K)return st();if(!L||ce.substring(0,ke)!==L){if(Re){if(Ae=[],We(ce.split(R)),bt(),be)return st()}else We(ce.split(R));if(q&&q<=Fe)return Ae=Ae.slice(0,q),st(!0)}}return st()}for(var Ke=j.indexOf(R,J),qe=j.indexOf(O,J),He=new RegExp(C(Ce)+C(ue),"g"),nt=j.indexOf(ue,J);;)if(j[J]===ue)for(nt=J,J++;;){if((nt=j.indexOf(ue,nt+1))===-1)return K||Ne.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ae.length,index:J}),ot();if(nt===ee-1)return ot(j.substring(J,nt).replace(He,ue));if(ue===Ce&&j[nt+1]===Ce)nt++;else if(ue===Ce||nt===0||j[nt-1]!==Ce){Ke!==-1&&Ke<nt+1&&(Ke=j.indexOf(R,nt+1));var Ge=Kt((qe=qe!==-1&&qe<nt+1?j.indexOf(O,nt+1):qe)===-1?Ke:Math.min(Ke,qe));if(j.substr(nt+1+Ge,re)===R){ce.push(j.substring(J,nt).replace(He,ue)),j[J=nt+1+Ge+re]!==ue&&(nt=j.indexOf(ue,J)),Ke=j.indexOf(R,J),qe=j.indexOf(O,J);break}if(Ge=Kt(qe),j.substring(nt+1+Ge,nt+1+Ge+pe)===O){if(ce.push(j.substring(J,nt).replace(He,ue)),ut(nt+1+Ge+pe),Ke=j.indexOf(R,J),nt=j.indexOf(ue,J),Re&&(bt(),be))return st();if(q&&Ae.length>=q)return st(!0);break}Ne.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ae.length,index:J}),nt++}}else if(L&&ce.length===0&&j.substring(J,J+ke)===L){if(qe===-1)return st();J=qe+pe,qe=j.indexOf(O,J),Ke=j.indexOf(R,J)}else if(Ke!==-1&&(Ke<qe||qe===-1))ce.push(j.substring(J,Ke)),J=Ke+re,Ke=j.indexOf(R,J);else{if(qe===-1)break;if(ce.push(j.substring(J,qe)),ut(qe+pe),Re&&(bt(),be))return st();if(q&&Ae.length>=q)return st(!0)}return ot();function We(dt){Ae.push(dt),Y=J}function Kt(dt){var tn=0;return tn=dt!==-1&&(dt=j.substring(nt+1,dt))&&dt.trim()===""?dt.length:tn}function ot(dt){return K||(dt===void 0&&(dt=j.substring(J)),ce.push(dt),J=ee,We(ce),Re&&bt()),st()}function ut(dt){J=dt,We(ce),ce=[],qe=j.indexOf(O,J)}function st(dt){if(k.header&&!z&&Ae.length&&!se){var tn=Ae[0],wt=Object.create(null),Pn=new Set(tn);let ht=!1;for(let Ut=0;Ut<tn.length;Ut++){let nn=tn[Ut];if(wt[nn=N(k.transformHeader)?k.transformHeader(nn,Ut):nn]){let St,rn=wt[nn];for(;St=nn+"_"+rn,rn++,Pn.has(St););Pn.add(St),tn[Ut]=St,wt[nn]++,ht=!0,(ae=ae===null?{}:ae)[St]=nn}else wt[nn]=1,tn[Ut]=nn;Pn.add(nn)}ht&&console.warn("Duplicate headers found and renamed."),se=!0}return{data:Ae,errors:Ne,meta:{delimiter:R,linebreak:O,aborted:be,truncated:!!dt,cursor:Y+(z||0),renamedHeaders:ae}}}function bt(){U(st()),Ae=[],Ne=[]}},this.abort=function(){be=!0},this.getCharIndex=function(){return J}}function M(k){var R=k.data,O=l[R.workerId],L=!1;if(R.error)O.userError(R.error,R.file);else if(R.results&&R.results.data){var U={abort:function(){L=!0,A(R.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:P,resume:P};if(N(O.userStep)){for(var q=0;q<R.results.data.length&&(O.userStep({data:R.results.data[q],errors:R.results.errors,meta:R.results.meta},U),!L);q++);delete R.results}else N(O.userChunk)&&(O.userChunk(R.results,U,R.file),delete R.results)}R.finished&&!L&&A(R.workerId,R.results)}function A(k,R){var O=l[k];N(O.userComplete)&&O.userComplete(R),O.terminate(),delete l[k]}function P(){throw new Error("Not implemented.")}function D(k){if(typeof k!="object"||k===null)return k;var R,O=Array.isArray(k)?[]:{};for(R in k)O[R]=D(k[R]);return O}function V(k,R){return function(){k.apply(R,arguments)}}function N(k){return typeof k=="function"}return c.parse=function(k,R){var O=(R=R||{}).dynamicTyping||!1;if(N(O)&&(R.dynamicTypingFunction=O,O={}),R.dynamicTyping=O,R.transform=!!N(R.transform)&&R.transform,!R.worker||!c.WORKERS_SUPPORTED)return O=null,c.NODE_STREAM_INPUT,typeof k=="string"?(k=(L=>L.charCodeAt(0)!==65279?L:L.slice(1))(k),O=new(R.download?g:x)(R)):k.readable===!0&&N(k.read)&&N(k.on)?O=new _(R):(r.File&&k instanceof File||k instanceof Object)&&(O=new p(R)),O.stream(k);(O=(()=>{var L;return!!c.WORKERS_SUPPORTED&&(L=(()=>{var U=r.URL||r.webkitURL||null,q=n.toString();return c.BLOB_URL||(c.BLOB_URL=U.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",q,")();"],{type:"text/javascript"})))})(),(L=new r.Worker(L)).onmessage=M,L.id=f++,l[L.id]=L)})()).userStep=R.step,O.userChunk=R.chunk,O.userComplete=R.complete,O.userError=R.error,R.step=N(R.step),R.chunk=N(R.chunk),R.complete=N(R.complete),R.error=N(R.error),delete R.worker,O.postMessage({input:k,config:R,workerId:O.id})},c.unparse=function(k,R){var O=!1,L=!0,U=",",q=`\r
    -`,he='"',ae=he+he,se=!1,ue=null,Ce=!1,J=((()=>{if(typeof R=="object"){if(typeof R.delimiter!="string"||c.BAD_DELIMITERS.filter(function(z){return R.delimiter.indexOf(z)!==-1}).length||(U=R.delimiter),typeof R.quotes!="boolean"&&typeof R.quotes!="function"&&!Array.isArray(R.quotes)||(O=R.quotes),typeof R.skipEmptyLines!="boolean"&&typeof R.skipEmptyLines!="string"||(se=R.skipEmptyLines),typeof R.newline=="string"&&(q=R.newline),typeof R.quoteChar=="string"&&(he=R.quoteChar),typeof R.header=="boolean"&&(L=R.header),Array.isArray(R.columns)){if(R.columns.length===0)throw new Error("Option columns is empty");ue=R.columns}R.escapeChar!==void 0&&(ae=R.escapeChar+he),R.escapeFormulae instanceof RegExp?Ce=R.escapeFormulae:typeof R.escapeFormulae=="boolean"&&R.escapeFormulae&&(Ce=/^[=+\-@\t\r].*$/)}})(),new RegExp(C(he),"g"));if(typeof k=="string"&&(k=JSON.parse(k)),Array.isArray(k)){if(!k.length||Array.isArray(k[0]))return be(null,k,se);if(typeof k[0]=="object")return be(ue||Object.keys(k[0]),k,se)}else if(typeof k=="object")return typeof k.data=="string"&&(k.data=JSON.parse(k.data)),Array.isArray(k.data)&&(k.fields||(k.fields=k.meta&&k.meta.fields||ue),k.fields||(k.fields=Array.isArray(k.data[0])?k.fields:typeof k.data[0]=="object"?Object.keys(k.data[0]):[]),Array.isArray(k.data[0])||typeof k.data[0]=="object"||(k.data=[k.data])),be(k.fields||[],k.data||[],se);throw new Error("Unable to serialize unrecognized input");function be(z,K,ee){var re="",pe=(typeof z=="string"&&(z=JSON.parse(z)),typeof K=="string"&&(K=JSON.parse(K)),Array.isArray(z)&&0<z.length),ke=!Array.isArray(K[0]);if(pe&&L){for(var Re=0;Re<z.length;Re++)0<Re&&(re+=U),re+=j(z[Re],Re);0<K.length&&(re+=q)}for(var Ae=0;Ae<K.length;Ae++){var Ne=(pe?z:K[Ae]).length,ce=!1,Y=pe?Object.keys(K[Ae]).length===0:K[Ae].length===0;if(ee&&!pe&&(ce=ee==="greedy"?K[Ae].join("").trim()==="":K[Ae].length===1&&K[Ae][0].length===0),ee==="greedy"&&pe){for(var Ie=[],Fe=0;Fe<Ne;Fe++){var Ke=ke?z[Fe]:Fe;Ie.push(K[Ae][Ke])}ce=Ie.join("").trim()===""}if(!ce){for(var qe=0;qe<Ne;qe++){0<qe&&!Y&&(re+=U);var He=pe&&ke?z[qe]:qe;re+=j(K[Ae][He],qe)}Ae<K.length-1&&(!ee||0<Ne&&!Y)&&(re+=q)}}return re}function j(z,K){var ee,re;return z==null?"":z.constructor===Date?JSON.stringify(z).slice(1,25):(re=!1,Ce&&typeof z=="string"&&Ce.test(z)&&(z="'"+z,re=!0),ee=z.toString().replace(J,ae),(re=re||O===!0||typeof O=="function"&&O(z,K)||Array.isArray(O)&&O[K]||((pe,ke)=>{for(var Re=0;Re<ke.length;Re++)if(-1<pe.indexOf(ke[Re]))return!0;return!1})(ee,c.BAD_DELIMITERS)||-1<ee.indexOf(U)||ee.charAt(0)===" "||ee.charAt(ee.length-1)===" ")?he+ee+he:ee)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
    -`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=I,c.ParserHandle=b,c.NetworkStreamer=g,c.FileStreamer=p,c.StringStreamer=x,c.ReadableStreamStreamer=_,r.jQuery&&((i=r.jQuery).fn.parse=function(k){var R=k.config||{},O=[];return this.each(function(q){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var he=0;he<this.files.length;he++)O.push({file:this.files[he],inputElem:this,instanceConfig:i.extend({},R)})}),L(),this;function L(){if(O.length===0)N(k.complete)&&k.complete();else{var q,he,ae,se,ue=O[0];if(N(k.before)){var Ce=k.before(ue.file,ue.inputElem);if(typeof Ce=="object"){if(Ce.action==="abort")return q="AbortError",he=ue.file,ae=ue.inputElem,se=Ce.reason,void(N(k.error)&&k.error({name:q},he,ae,se));if(Ce.action==="skip")return void U();typeof Ce.config=="object"&&(ue.instanceConfig=i.extend(ue.instanceConfig,Ce.config))}else if(Ce==="skip")return void U()}var J=ue.instanceConfig.complete;ue.instanceConfig.complete=function(be){N(J)&&J(be,ue.file,ue.inputElem),U()},c.parse(ue.file,ue.instanceConfig)}}function U(){O.splice(0,1),L()}}),o&&(r.onmessage=function(k){k=k.data,c.WORKER_ID===void 0&&k&&(c.WORKER_ID=k.workerId),typeof k.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(k.input,k.config),finished:!0}):(r.File&&k.input instanceof File||k.input instanceof Object)&&(k=c.parse(k.input,k.config))&&r.postMessage({workerId:c.WORKER_ID,results:k,finished:!0})}),(g.prototype=Object.create(d.prototype)).constructor=g,(p.prototype=Object.create(d.prototype)).constructor=p,(x.prototype=Object.create(x.prototype)).constructor=x,(_.prototype=Object.create(d.prototype)).constructor=_,c})})($d)),$d.exports}var bF=EF();const wF=Fp(bF);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var ZI=1252,SF=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],kv={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Rv=function(t){SF.indexOf(t)!=-1&&(ZI=kv[0]=t)};function AF(){Rv(1252)}var ns=function(t){Rv(t)};function e6(){ns(1200),AF()}function Uw(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function CF(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function t6(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var Mf=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?CF(t.slice(2)):e==254&&n==255?t6(t.slice(2)):e==65279?t.slice(1):t},yd=function(e){return String.fromCharCode(e)},Vw=function(e){return String.fromCharCode(e)},p0,ho="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Bw(t){for(var e="",n=0,r=0,i=0,s=0,o=0,l=0,f=0,c=0;c<t.length;)n=t.charCodeAt(c++),s=n>>2,r=t.charCodeAt(c++),o=(n&3)<<4|r>>4,i=t.charCodeAt(c++),l=(r&15)<<2|i>>6,f=i&63,isNaN(r)?l=f=64:isNaN(i)&&(f=64),e+=ho.charAt(s)+ho.charAt(o)+ho.charAt(l)+ho.charAt(f);return e}function di(t){var e="",n=0,r=0,i=0,s=0,o=0,l=0,f=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=ho.indexOf(t.charAt(c++)),o=ho.indexOf(t.charAt(c++)),n=s<<2|o>>4,e+=String.fromCharCode(n),l=ho.indexOf(t.charAt(c++)),r=(o&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(r)),f=ho.indexOf(t.charAt(c++)),i=(l&3)<<6|f,f!==64&&(e+=String.fromCharCode(i));return e}var Pt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Bu=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Do(t){return Pt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function qw(t){return Pt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var es=function(e){return Pt?Bu(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function qu(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function Nv(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return Nv(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var co=Pt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Bu(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function IF(t){for(var e=[],n=0,r=t.length+250,i=Do(t.length+255),s=0;s<t.length;++s){var o=t.charCodeAt(s);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=t.charCodeAt(++s)&1023;i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|l>>6&15|(o&3)<<4,i[n++]=128|l&63}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|o&63;n>r&&(e.push(i.slice(0,n)),n=0,i=Do(65535),r=65530)}return e.push(i.slice(0,n)),co(e)}var Fr=/\u0000/g,Pf=/[\u0001-\u0006]/g;function Yl(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function rs(t,e){var n=""+t;return n.length>=e?n:An("0",e-n.length)+n}function Dv(t,e){var n=""+t;return n.length>=e?n:An(" ",e-n.length)+n}function xp(t,e){var n=""+t;return n.length>=e?n:n+An(" ",e-n.length)}function kF(t,e){var n=""+Math.round(t);return n.length>=e?n:An("0",e-n.length)+n}function RF(t,e){var n=""+t;return n.length>=e?n:An("0",e-n.length)+n}var Hw=Math.pow(2,32);function Pl(t,e){if(t>Hw||t<-Hw)return kF(t,e);var n=Math.round(t);return RF(n,e)}function yp(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var zw=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],U1=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function NF(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var _t={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Gw={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},DF={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function vp(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,o=1,l=0,f=1,c=0,d=0,g=Math.floor(i);c<e&&(g=Math.floor(i),l=g*o+s,d=g*c+f,!(i-g<5e-8));)i=1/(i-g),s=o,o=l,f=c,c=d;if(d>e&&(c>e?(d=f,l=s):(d=c,l=o)),!n)return[0,r*l,d];var p=Math.floor(r*l/d);return[p,r*l-p*d,d]}function Eu(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,o=[],l={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(r+=1462),l.u>.9999&&(l.u=0,++i==86400&&(l.T=i=0,++r,++l.D)),r===60)o=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var f=new Date(1900,0,1);f.setDate(f.getDate()+r-1),o=[f.getFullYear(),f.getMonth()+1,f.getDate()],s=f.getDay(),r<60&&(s=(s+6)%7),n&&(s=UF(f,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=i%60,i=Math.floor(i/60),l.M=i%60,i=Math.floor(i/60),l.H=i,l.q=s,l}var n6=new Date(1899,11,31,0,0,0),MF=n6.getTime(),PF=new Date(1900,2,1,0,0,0);function r6(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=PF&&(n+=1440*60*1e3),(n-(MF+(t.getTimezoneOffset()-n6.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Mv(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function LF(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function OF(t){var e=t<0?12:11,n=Mv(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function FF(t){var e=Mv(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function m0(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=OF(t):e===10?n=t.toFixed(10).substr(0,12):n=FF(t),Mv(LF(n.toUpperCase()))}function Ru(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):m0(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Mi(14,r6(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function UF(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function VF(t,e,n,r){var i="",s=0,o=0,l=n.y,f,c=0;switch(t){case 98:l=n.y+543;case 121:switch(e.length){case 1:case 2:f=l%100,c=2;break;default:f=l%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:f=n.m,c=e.length;break;case 3:return U1[n.m-1][1];case 5:return U1[n.m-1][0];default:return U1[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:f=n.d,c=e.length;break;case 3:return zw[n.q][0];default:return zw[n.q][1]}break;case 104:switch(e.length){case 1:case 2:f=1+(n.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:f=n.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:f=n.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?rs(n.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(n.S+n.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(i=rs(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":f=n.D*24+n.H;break;case"[m]":case"[mm]":f=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":f=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:f=l,c=1;break}var d=c>0?rs(f,c):"";return d}function po(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var i6=/%/g;function BF(t,e,n){var r=e.replace(i6,""),i=e.length-r.length;return ga(t,r,n*Math.pow(10,2*i))+An("%",i)}function qF(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ga(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function s6(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+s6(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,f,c,d){return f+c+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var a6=/# (\?+)( ?)\/( ?)(\d+)/;function HF(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),o=i-s*r,l=r;return n+(s===0?"":""+s)+" "+(o===0?An(" ",t[1].length+1+t[4].length):Dv(o,t[1].length)+t[2]+"/"+t[3]+rs(l,t[4].length))}function zF(t,e,n){return n+(e===0?"":""+e)+An(" ",t[1].length+2+t[4].length)}var o6=/^#*0*\.([0#]+)/,u6=/\).*[0#]/,l6=/\(###\) ###\\?-####/;function Mr(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function jw(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function $w(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function GF(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function jF(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ii(t,e,n){if(t.charCodeAt(0)===40&&!e.match(u6)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ii("n",r,n):"("+Ii("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return qF(t,e,n);if(e.indexOf("%")!==-1)return BF(t,e,n);if(e.indexOf("E")!==-1)return s6(e,n);if(e.charCodeAt(0)===36)return"$"+Ii(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,o,l,f=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+Pl(f,e.length);if(e.match(/^[#?]+$/))return i=Pl(n,0),i==="0"&&(i=""),i.length>e.length?i:Mr(e.substr(0,e.length-i.length))+i;if(s=e.match(a6))return HF(s,f,c);if(e.match(/^#+0+$/))return c+Pl(f,e.length-e.indexOf("0"));if(s=e.match(o6))return i=jw(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Mr(s[1])).replace(/\.$/,"."+Mr(s[1])).replace(/\.(\d*)$/,function(_,b){return"."+b+An("0",Mr(s[1]).length-b.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+jw(f,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+po(Pl(f,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ii(t,e,-n):po(""+(Math.floor(n)+GF(n,s[1].length)))+"."+rs($w(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Ii(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Yl(Ii(t,e.replace(/[\\-]/g,""),n)),o=0,Yl(Yl(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return o<i.length?i.charAt(o++):_==="0"?"0":""}));if(e.match(l6))return i=Ii(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=vp(f,Math.pow(10,o)-1,!1),i=""+c,d=ga("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=xp(l[2],o),d.length<s[4].length&&(d=Mr(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=vp(f,Math.pow(10,o)-1,!0),c+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Dv(l[1],o)+s[2]+"/"+s[3]+xp(l[2],o):An(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Pl(n,0),e.length<=i.length?i:Mr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var g=e.indexOf(".")-o,p=e.length-i.length-g;return Mr(e.substr(0,g)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=$w(n,s[1].length),n<0?"-"+Ii(t,e,-n):po(jF(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?rs(0,3-_.length):"")+_})+"."+rs(o,s[1].length);switch(e){case"###,##0.00":return Ii(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var x=po(Pl(f,0));return x!=="0"?c+x:"";case"###,###.00":return Ii(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Ii(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function $F(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ga(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function WF(t,e,n){var r=e.replace(i6,""),i=e.length-r.length;return ga(t,r,n*Math.pow(10,2*i))+An("%",i)}function c6(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+c6(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,f,c,d){return f+c+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Es(t,e,n){if(t.charCodeAt(0)===40&&!e.match(u6)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Es("n",r,n):"("+Es("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return $F(t,e,n);if(e.indexOf("%")!==-1)return WF(t,e,n);if(e.indexOf("E")!==-1)return c6(e,n);if(e.charCodeAt(0)===36)return"$"+Es(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,o,l,f=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+rs(f,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:Mr(e.substr(0,e.length-i.length))+i;if(s=e.match(a6))return zF(s,f,c);if(e.match(/^#+0+$/))return c+rs(f,e.length-e.indexOf("0"));if(s=e.match(o6))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Mr(s[1])).replace(/\.$/,"."+Mr(s[1])),i=i.replace(/\.(\d*)$/,function(_,b){return"."+b+An("0",Mr(s[1]).length-b.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+f).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+po(""+f);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Es(t,e,-n):po(""+n)+"."+An("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Es(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Yl(Es(t,e.replace(/[\\-]/g,""),n)),o=0,Yl(Yl(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return o<i.length?i.charAt(o++):_==="0"?"0":""}));if(e.match(l6))return i=Es(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=vp(f,Math.pow(10,o)-1,!1),i=""+c,d=ga("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=xp(l[2],o),d.length<s[4].length&&(d=Mr(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=vp(f,Math.pow(10,o)-1,!0),c+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Dv(l[1],o)+s[2]+"/"+s[3]+xp(l[2],o):An(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:Mr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var g=e.indexOf(".")-o,p=e.length-i.length-g;return Mr(e.substr(0,g)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Es(t,e,-n):po(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?rs(0,3-_.length):"")+_})+"."+rs(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var x=po(""+f);return x!=="0"?c+x:"";default:if(e.match(/\.[0#?]*$/))return Es(t,e.slice(0,e.lastIndexOf(".")),n)+Mr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function ga(t,e,n){return(n|0)===n?Es(t,e,n):Ii(t,e,n)}function KF(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var f6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ec(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":yp(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(f6))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function YF(t,e,n,r){for(var i=[],s="",o=0,l="",f="t",c,d,g,p="H";o<t.length;)switch(l=t.charAt(o)){case"G":if(!yp(t,o))throw new Error("unrecognized character "+l+" in "+t);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(g=t.charCodeAt(++o))!==34&&o<t.length;)s+=String.fromCharCode(g);i[i.length]={t:"t",v:s},++o;break;case"\\":var x=t.charAt(++o),_=x==="("||x===")"?x:"t";i[i.length]={t:_,v:x},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(c==null&&(c=Eu(e,n,t.charAt(o+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(o,2)},f=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=Eu(e,n),c==null))return"";for(s=l;++o<t.length&&t.charAt(o).toLowerCase()===l;)s+=l;l==="m"&&f.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=p),i[i.length]={t:l,v:s},f=l;break;case"A":case"a":case"":var b={t:l,v:l};if(c==null&&(c=Eu(e,n)),t.substr(o,3).toUpperCase()==="A/P"?(c!=null&&(b.v=c.H>=12?"P":"A"),b.t="T",p="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(c!=null&&(b.v=c.H>=12?"PM":"AM"),b.t="T",o+=5,p="h"):t.substr(o,5).toUpperCase()==="/"?(c!=null&&(b.v=c.H>=12?"":""),b.t="T",o+=5,p="h"):(b.t="t",++o),c==null&&b.t==="T")return"";i[i.length]=b,f=l;break;case"[":for(s=l;t.charAt(o++)!=="]"&&o<t.length;)s+=t.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(f6)){if(c==null&&(c=Eu(e,n),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},f=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ec(t)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=l;++o<t.length&&(l=t.charAt(o))==="0";)s+=l;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++o<t.length&&"0#?.,E+-%".indexOf(l=t.charAt(o))>-1;)s+=l;i[i.length]={t:"n",v:s};break;case"?":for(s=l;t.charAt(++o)===l;)s+=l;i[i.length]={t:l,v:s},f=l;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)s+=t.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:l,v:l},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+t);i[i.length]={t:"t",v:l},++o;break}var C=0,I=0,M;for(o=i.length-1,f="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=p,f="h",C<1&&(C=1);break;case"s":(M=i[o].v.match(/\.0+$/))&&(I=Math.max(I,M[0].length-1)),C<3&&(C=3);case"d":case"y":case"M":case"e":f=i[o].t;break;case"m":f==="s"&&(i[o].t="M",C<2&&(C=2));break;case"X":break;case"Z":C<1&&i[o].v.match(/[Hh]/)&&(C=1),C<2&&i[o].v.match(/[Mm]/)&&(C=2),C<3&&i[o].v.match(/[Ss]/)&&(C=3)}switch(C){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var A="",P;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=VF(i[o].t.charCodeAt(0),i[o].v,c,I),i[o].t="t";break;case"n":case"?":for(P=o+1;i[P]!=null&&((l=i[P].t)==="?"||l==="D"||(l===" "||l==="t")&&i[P+1]!=null&&(i[P+1].t==="?"||i[P+1].t==="t"&&i[P+1].v==="/")||i[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(i[P].v==="/"||i[P].v===" "&&i[P+1]!=null&&i[P+1].t=="?"));)i[o].v+=i[P].v,i[P]={v:"",t:";"},++P;A+=i[o].v,o=P-1;break;case"G":i[o].t="t",i[o].v=Ru(e,n);break}var D="",V,N;if(A.length>0){A.charCodeAt(0)==40?(V=e<0&&A.charCodeAt(0)===45?-e:e,N=ga("n",A,V)):(V=e<0&&r>1?-e:e,N=ga("n",A,V),V<0&&i[0]&&i[0].t=="t"&&(N=N.substr(1),i[0].v="-"+i[0].v)),P=N.length-1;var k=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){k=o;break}var R=i.length;if(k===i.length&&N.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(P>=i[o].v.length-1?(P-=i[o].v.length,i[o].v=N.substr(P+1,i[o].v.length)):P<0?i[o].v="":(i[o].v=N.substr(0,P+1),P=-1),i[o].t="t",R=o);P>=0&&R<i.length&&(i[R].v=N.substr(0,P+1)+i[R].v)}else if(k!==i.length&&N.indexOf("E")===-1){for(P=N.indexOf(".")-1,o=k;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(d=i[o].v.indexOf(".")>-1&&o===k?i[o].v.indexOf(".")-1:i[o].v.length-1,D=i[o].v.substr(d+1);d>=0;--d)P>=0&&(i[o].v.charAt(d)==="0"||i[o].v.charAt(d)==="#")&&(D=N.charAt(P--)+D);i[o].v=D,i[o].t="t",R=o}for(P>=0&&R<i.length&&(i[R].v=N.substr(0,P+1)+i[R].v),P=N.indexOf(".")+1,o=k;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==k)){for(d=i[o].v.indexOf(".")>-1&&o===k?i[o].v.indexOf(".")+1:0,D=i[o].v.substr(0,d);d<i[o].v.length;++d)P<N.length&&(D+=N.charAt(P++));i[o].v=D,i[o].t="t",R=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(V=r>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=ga(i[o].t,i[o].v,V),i[o].t="t");var O="";for(o=0;o!==i.length;++o)i[o]!=null&&(O+=i[o].v);return O}var Ww=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Kw(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function XF(t,e){var n=KF(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(Ww),l=n[1].match(Ww);return Kw(e,o)?[r,n[0]]:Kw(e,l)?[r,n[1]]:[r,n[o!=null&&l!=null?2:1]]}return[r,s]}function Mi(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:_t)[t],r==null&&(r=n.table&&n.table[Gw[t]]||_t[Gw[t]]),r==null&&(r=DF[t]||"General");break}if(yp(r,0))return Ru(e,n);e instanceof Date&&(e=r6(e,n.date1904));var i=XF(r,e);if(yp(i[1]))return Ru(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return YF(i[1],e,n,i[0])}function bu(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(_t[n]==null){e<0&&(e=n);continue}if(_t[n]==t){e=n;break}}e<0&&(e=391)}return _t[e]=t,e}function h6(){_t=NF()}var JF={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},d6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function QF(t){var e=typeof t=="number"?_t[t]:t;return e=e.replace(d6,"(\\d+)"),new RegExp("^"+e+"$")}function ZF(t,e,n){var r=-1,i=-1,s=-1,o=-1,l=-1,f=-1;(e.match(d6)||[]).forEach(function(g,p){var x=parseInt(n[p+1],10);switch(g.toLowerCase().charAt(0)){case"y":r=x;break;case"d":s=x;break;case"h":o=x;break;case"s":f=x;break;case"m":o>=0?l=x:i=x;break}}),f>=0&&l==-1&&i>=0&&(l=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2);return o==-1&&l==-1&&f==-1?c:r==-1&&i==-1&&s==-1?d:c+"T"+d}var e7=(function(){var t={};t.version="1.2.0";function e(){for(var N=0,k=new Array(256),R=0;R!=256;++R)N=R,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,k[R]=N;return typeof Int32Array<"u"?new Int32Array(k):k}var n=e();function r(N){var k=0,R=0,O=0,L=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)L[O]=N[O];for(O=0;O!=256;++O)for(R=N[O],k=256+O;k<4096;k+=256)R=L[k]=R>>>8^N[R&255];var U=[];for(O=1;O!=16;++O)U[O-1]=typeof Int32Array<"u"?L.subarray(O*256,O*256+256):L.slice(O*256,O*256+256);return U}var i=r(n),s=i[0],o=i[1],l=i[2],f=i[3],c=i[4],d=i[5],g=i[6],p=i[7],x=i[8],_=i[9],b=i[10],C=i[11],I=i[12],M=i[13],A=i[14];function P(N,k){for(var R=k^-1,O=0,L=N.length;O<L;)R=R>>>8^n[(R^N.charCodeAt(O++))&255];return~R}function D(N,k){for(var R=k^-1,O=N.length-15,L=0;L<O;)R=A[N[L++]^R&255]^M[N[L++]^R>>8&255]^I[N[L++]^R>>16&255]^C[N[L++]^R>>>24]^b[N[L++]]^_[N[L++]]^x[N[L++]]^p[N[L++]]^g[N[L++]]^d[N[L++]]^c[N[L++]]^f[N[L++]]^l[N[L++]]^o[N[L++]]^s[N[L++]]^n[N[L++]];for(O+=15;L<O;)R=R>>>8^n[(R^N[L++])&255];return~R}function V(N,k){for(var R=k^-1,O=0,L=N.length,U=0,q=0;O<L;)U=N.charCodeAt(O++),U<128?R=R>>>8^n[(R^U)&255]:U<2048?(R=R>>>8^n[(R^(192|U>>6&31))&255],R=R>>>8^n[(R^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,q=N.charCodeAt(O++)&1023,R=R>>>8^n[(R^(240|U>>8&7))&255],R=R>>>8^n[(R^(128|U>>2&63))&255],R=R>>>8^n[(R^(128|q>>6&15|(U&3)<<4))&255],R=R>>>8^n[(R^(128|q&63))&255]):(R=R>>>8^n[(R^(224|U>>12&15))&255],R=R>>>8^n[(R^(128|U>>6&63))&255],R=R>>>8^n[(R^(128|U&63))&255]);return~R}return t.table=n,t.bstr=P,t.buf=D,t.str=V,t})(),Ot=(function(){var e={};e.version="1.2.1";function n(G,ne){for(var X=G.split("/"),Z=ne.split("/"),te=0,ie=0,xe=Math.min(X.length,Z.length);te<xe;++te){if(ie=X[te].length-Z[te].length)return ie;if(X[te]!=Z[te])return X[te]<Z[te]?-1:1}return X.length-Z.length}function r(G){if(G.charAt(G.length-1)=="/")return G.slice(0,-1).indexOf("/")===-1?G:r(G.slice(0,-1));var ne=G.lastIndexOf("/");return ne===-1?G:G.slice(0,ne+1)}function i(G){if(G.charAt(G.length-1)=="/")return i(G.slice(0,-1));var ne=G.lastIndexOf("/");return ne===-1?G:G.slice(ne+1)}function s(G,ne){typeof ne=="string"&&(ne=new Date(ne));var X=ne.getHours();X=X<<6|ne.getMinutes(),X=X<<5|ne.getSeconds()>>>1,G.write_shift(2,X);var Z=ne.getFullYear()-1980;Z=Z<<4|ne.getMonth()+1,Z=Z<<5|ne.getDate(),G.write_shift(2,Z)}function o(G){var ne=G.read_shift(2)&65535,X=G.read_shift(2)&65535,Z=new Date,te=X&31;X>>>=5;var ie=X&15;X>>>=4,Z.setMilliseconds(0),Z.setFullYear(X+1980),Z.setMonth(ie-1),Z.setDate(te);var xe=ne&31;ne>>>=5;var De=ne&63;return ne>>>=6,Z.setHours(ne),Z.setMinutes(De),Z.setSeconds(xe<<1),Z}function l(G){lr(G,0);for(var ne={},X=0;G.l<=G.length-4;){var Z=G.read_shift(2),te=G.read_shift(2),ie=G.l+te,xe={};switch(Z){case 21589:X=G.read_shift(1),X&1&&(xe.mtime=G.read_shift(4)),te>5&&(X&2&&(xe.atime=G.read_shift(4)),X&4&&(xe.ctime=G.read_shift(4))),xe.mtime&&(xe.mt=new Date(xe.mtime*1e3));break}G.l=ie,ne[Z]=xe}return ne}var f;function c(){return f||(f={})}function d(G,ne){if(G[0]==80&&G[1]==75)return Qr(G,ne);if((G[0]|32)==109&&(G[1]|32)==105)return Bs(G,ne);if(G.length<512)throw new Error("CFB file size "+G.length+" < 512");var X=3,Z=512,te=0,ie=0,xe=0,De=0,ye=0,Te=[],_e=G.slice(0,512);lr(_e,0);var Be=g(_e);switch(X=Be[0],X){case 3:Z=512;break;case 4:Z=4096;break;case 0:if(Be[1]==0)return Qr(G,ne);default:throw new Error("Major Version: Expected 3 or 4 saw "+X)}Z!==512&&(_e=G.slice(0,Z),lr(_e,28));var ze=G.slice(0,Z);p(_e,X);var Ye=_e.read_shift(4,"i");if(X===3&&Ye!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ye);_e.l+=4,xe=_e.read_shift(4,"i"),_e.l+=4,_e.chk("00100000","Mini Stream Cutoff Size: "),De=_e.read_shift(4,"i"),te=_e.read_shift(4,"i"),ye=_e.read_shift(4,"i"),ie=_e.read_shift(4,"i");for(var Ve=-1,$e=0;$e<109&&(Ve=_e.read_shift(4,"i"),!(Ve<0));++$e)Te[$e]=Ve;var Ze=x(G,Z);C(ye,ie,Ze,Z,Te);var Yt=M(Ze,xe,Te,Z);Yt[xe].name="!Directory",te>0&&De!==q&&(Yt[De].name="!MiniFAT"),Yt[Te[0]].name="!FAT",Yt.fat_addrs=Te,Yt.ssz=Z;var Xt={},cn=[],pr=[],Oi=[];A(xe,Yt,Ze,cn,te,Xt,pr,De),_(pr,Oi,cn),cn.shift();var Fi={FileIndex:pr,FullPaths:Oi};return ne&&ne.raw&&(Fi.raw={header:ze,sectors:Ze}),Fi}function g(G){if(G[G.l]==80&&G[G.l+1]==75)return[0,0];G.chk(he,"Header Signature: "),G.l+=16;var ne=G.read_shift(2,"u");return[G.read_shift(2,"u"),ne]}function p(G,ne){var X=9;switch(G.l+=2,X=G.read_shift(2)){case 9:if(ne!=3)throw new Error("Sector Shift: Expected 9 saw "+X);break;case 12:if(ne!=4)throw new Error("Sector Shift: Expected 12 saw "+X);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+X)}G.chk("0600","Mini Sector Shift: "),G.chk("000000000000","Reserved: ")}function x(G,ne){for(var X=Math.ceil(G.length/ne)-1,Z=[],te=1;te<X;++te)Z[te-1]=G.slice(te*ne,(te+1)*ne);return Z[X-1]=G.slice(X*ne),Z}function _(G,ne,X){for(var Z=0,te=0,ie=0,xe=0,De=0,ye=X.length,Te=[],_e=[];Z<ye;++Z)Te[Z]=_e[Z]=Z,ne[Z]=X[Z];for(;De<_e.length;++De)Z=_e[De],te=G[Z].L,ie=G[Z].R,xe=G[Z].C,Te[Z]===Z&&(te!==-1&&Te[te]!==te&&(Te[Z]=Te[te]),ie!==-1&&Te[ie]!==ie&&(Te[Z]=Te[ie])),xe!==-1&&(Te[xe]=Z),te!==-1&&Z!=Te[Z]&&(Te[te]=Te[Z],_e.lastIndexOf(te)<De&&_e.push(te)),ie!==-1&&Z!=Te[Z]&&(Te[ie]=Te[Z],_e.lastIndexOf(ie)<De&&_e.push(ie));for(Z=1;Z<ye;++Z)Te[Z]===Z&&(ie!==-1&&Te[ie]!==ie?Te[Z]=Te[ie]:te!==-1&&Te[te]!==te&&(Te[Z]=Te[te]));for(Z=1;Z<ye;++Z)if(G[Z].type!==0){if(De=Z,De!=Te[De])do De=Te[De],ne[Z]=ne[De]+"/"+ne[Z];while(De!==0&&Te[De]!==-1&&De!=Te[De]);Te[Z]=-1}for(ne[0]+="/",Z=1;Z<ye;++Z)G[Z].type!==2&&(ne[Z]+="/")}function b(G,ne,X){for(var Z=G.start,te=G.size,ie=[],xe=Z;X&&te>0&&xe>=0;)ie.push(ne.slice(xe*U,xe*U+U)),te-=U,xe=vu(X,xe*4);return ie.length===0?Wn(0):co(ie).slice(0,G.size)}function C(G,ne,X,Z,te){var ie=q;if(G===q){if(ne!==0)throw new Error("DIFAT chain shorter than expected")}else if(G!==-1){var xe=X[G],De=(Z>>>2)-1;if(!xe)return;for(var ye=0;ye<De&&(ie=vu(xe,ye*4))!==q;++ye)te.push(ie);C(vu(xe,Z-4),ne-1,X,Z,te)}}function I(G,ne,X,Z,te){var ie=[],xe=[];te||(te=[]);var De=Z-1,ye=0,Te=0;for(ye=ne;ye>=0;){te[ye]=!0,ie[ie.length]=ye,xe.push(G[ye]);var _e=X[Math.floor(ye*4/Z)];if(Te=ye*4&De,Z<4+Te)throw new Error("FAT boundary crossed: "+ye+" 4 "+Z);if(!G[_e])break;ye=vu(G[_e],Te)}return{nodes:ie,data:iS([xe])}}function M(G,ne,X,Z){var te=G.length,ie=[],xe=[],De=[],ye=[],Te=Z-1,_e=0,Be=0,ze=0,Ye=0;for(_e=0;_e<te;++_e)if(De=[],ze=_e+ne,ze>=te&&(ze-=te),!xe[ze]){ye=[];var Ve=[];for(Be=ze;Be>=0;){Ve[Be]=!0,xe[Be]=!0,De[De.length]=Be,ye.push(G[Be]);var $e=X[Math.floor(Be*4/Z)];if(Ye=Be*4&Te,Z<4+Ye)throw new Error("FAT boundary crossed: "+Be+" 4 "+Z);if(!G[$e]||(Be=vu(G[$e],Ye),Ve[Be]))break}ie[ze]={nodes:De,data:iS([ye])}}return ie}function A(G,ne,X,Z,te,ie,xe,De){for(var ye=0,Te=Z.length?2:0,_e=ne[G].data,Be=0,ze=0,Ye;Be<_e.length;Be+=128){var Ve=_e.slice(Be,Be+128);lr(Ve,64),ze=Ve.read_shift(2),Ye=Uv(Ve,0,ze-Te),Z.push(Ye);var $e={name:Ye,type:Ve.read_shift(1),color:Ve.read_shift(1),L:Ve.read_shift(4,"i"),R:Ve.read_shift(4,"i"),C:Ve.read_shift(4,"i"),clsid:Ve.read_shift(16),state:Ve.read_shift(4,"i"),start:0,size:0},Ze=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);Ze!==0&&($e.ct=P(Ve,Ve.l-8));var Yt=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);Yt!==0&&($e.mt=P(Ve,Ve.l-8)),$e.start=Ve.read_shift(4,"i"),$e.size=Ve.read_shift(4,"i"),$e.size<0&&$e.start<0&&($e.size=$e.type=0,$e.start=q,$e.name=""),$e.type===5?(ye=$e.start,te>0&&ye!==q&&(ne[ye].name="!StreamData")):$e.size>=4096?($e.storage="fat",ne[$e.start]===void 0&&(ne[$e.start]=I(X,$e.start,ne.fat_addrs,ne.ssz)),ne[$e.start].name=$e.name,$e.content=ne[$e.start].data.slice(0,$e.size)):($e.storage="minifat",$e.size<0?$e.size=0:ye!==q&&$e.start!==q&&ne[ye]&&($e.content=b($e,ne[ye].data,(ne[De]||{}).data))),$e.content&&lr($e.content,0),ie[Ye]=$e,xe.push($e)}}function P(G,ne){return new Date((li(G,ne+4)/1e7*Math.pow(2,32)+li(G,ne)/1e7-11644473600)*1e3)}function D(G,ne){return c(),d(f.readFileSync(G),ne)}function V(G,ne){var X=ne&&ne.type;switch(X||Pt&&Buffer.isBuffer(G)&&(X="buffer"),X||"base64"){case"file":return D(G,ne);case"base64":return d(es(di(G)),ne);case"binary":return d(es(G),ne)}return d(G,ne)}function N(G,ne){var X=ne||{},Z=X.root||"Root Entry";if(G.FullPaths||(G.FullPaths=[]),G.FileIndex||(G.FileIndex=[]),G.FullPaths.length!==G.FileIndex.length)throw new Error("inconsistent CFB structure");G.FullPaths.length===0&&(G.FullPaths[0]=Z+"/",G.FileIndex[0]={name:Z,type:5}),X.CLSID&&(G.FileIndex[0].clsid=X.CLSID),k(G)}function k(G){var ne="Sh33tJ5";if(!Ot.find(G,"/"+ne)){var X=Wn(4);X[0]=55,X[1]=X[3]=50,X[2]=54,G.FileIndex.push({name:ne,type:2,content:X,size:4,L:69,R:69,C:69}),G.FullPaths.push(G.FullPaths[0]+ne),R(G)}}function R(G,ne){N(G);for(var X=!1,Z=!1,te=G.FullPaths.length-1;te>=0;--te){var ie=G.FileIndex[te];switch(ie.type){case 0:Z?X=!0:(G.FileIndex.pop(),G.FullPaths.pop());break;case 1:case 2:case 5:Z=!0,isNaN(ie.R*ie.L*ie.C)&&(X=!0),ie.R>-1&&ie.L>-1&&ie.R==ie.L&&(X=!0);break;default:X=!0;break}}if(!(!X&&!ne)){var xe=new Date(1987,1,19),De=0,ye=Object.create?Object.create(null):{},Te=[];for(te=0;te<G.FullPaths.length;++te)ye[G.FullPaths[te]]=!0,G.FileIndex[te].type!==0&&Te.push([G.FullPaths[te],G.FileIndex[te]]);for(te=0;te<Te.length;++te){var _e=r(Te[te][0]);Z=ye[_e],Z||(Te.push([_e,{name:i(_e).replace("/",""),type:1,clsid:se,ct:xe,mt:xe,content:null}]),ye[_e]=!0)}for(Te.sort(function(Ye,Ve){return n(Ye[0],Ve[0])}),G.FullPaths=[],G.FileIndex=[],te=0;te<Te.length;++te)G.FullPaths[te]=Te[te][0],G.FileIndex[te]=Te[te][1];for(te=0;te<Te.length;++te){var Be=G.FileIndex[te],ze=G.FullPaths[te];if(Be.name=i(ze).replace("/",""),Be.L=Be.R=Be.C=-(Be.color=1),Be.size=Be.content?Be.content.length:0,Be.start=0,Be.clsid=Be.clsid||se,te===0)Be.C=Te.length>1?1:-1,Be.size=0,Be.type=5;else if(ze.slice(-1)=="/"){for(De=te+1;De<Te.length&&r(G.FullPaths[De])!=ze;++De);for(Be.C=De>=Te.length?-1:De,De=te+1;De<Te.length&&r(G.FullPaths[De])!=r(ze);++De);Be.R=De>=Te.length?-1:De,Be.type=1}else r(G.FullPaths[te+1]||"")==r(ze)&&(Be.R=te+1),Be.type=2}}}function O(G,ne){var X=ne||{};if(X.fileType=="mad")return kc(G,X);switch(R(G),X.fileType){case"zip":return bn(G,X)}var Z=(function(Ye){for(var Ve=0,$e=0,Ze=0;Ze<Ye.FileIndex.length;++Ze){var Yt=Ye.FileIndex[Ze];if(Yt.content){var Xt=Yt.content.length;Xt>0&&(Xt<4096?Ve+=Xt+63>>6:$e+=Xt+511>>9)}}for(var cn=Ye.FullPaths.length+3>>2,pr=Ve+7>>3,Oi=Ve+127>>7,Fi=pr+$e+cn+Oi,ei=Fi+127>>7,Aa=ei<=109?0:Math.ceil((ei-109)/127);Fi+ei+Aa+127>>7>ei;)Aa=++ei<=109?0:Math.ceil((ei-109)/127);var mr=[1,Aa,ei,Oi,cn,$e,Ve,0];return Ye.FileIndex[0].size=Ve<<6,mr[7]=(Ye.FileIndex[0].start=mr[0]+mr[1]+mr[2]+mr[3]+mr[4]+mr[5])+(mr[6]+7>>3),mr})(G),te=Wn(Z[7]<<9),ie=0,xe=0;{for(ie=0;ie<8;++ie)te.write_shift(1,ae[ie]);for(ie=0;ie<8;++ie)te.write_shift(2,0);for(te.write_shift(2,62),te.write_shift(2,3),te.write_shift(2,65534),te.write_shift(2,9),te.write_shift(2,6),ie=0;ie<3;++ie)te.write_shift(2,0);for(te.write_shift(4,0),te.write_shift(4,Z[2]),te.write_shift(4,Z[0]+Z[1]+Z[2]+Z[3]-1),te.write_shift(4,0),te.write_shift(4,4096),te.write_shift(4,Z[3]?Z[0]+Z[1]+Z[2]-1:q),te.write_shift(4,Z[3]),te.write_shift(-4,Z[1]?Z[0]-1:q),te.write_shift(4,Z[1]),ie=0;ie<109;++ie)te.write_shift(-4,ie<Z[2]?Z[1]+ie:-1)}if(Z[1])for(xe=0;xe<Z[1];++xe){for(;ie<236+xe*127;++ie)te.write_shift(-4,ie<Z[2]?Z[1]+ie:-1);te.write_shift(-4,xe===Z[1]-1?q:xe+1)}var De=function(Ye){for(xe+=Ye;ie<xe-1;++ie)te.write_shift(-4,ie+1);Ye&&(++ie,te.write_shift(-4,q))};for(xe=ie=0,xe+=Z[1];ie<xe;++ie)te.write_shift(-4,ue.DIFSECT);for(xe+=Z[2];ie<xe;++ie)te.write_shift(-4,ue.FATSECT);De(Z[3]),De(Z[4]);for(var ye=0,Te=0,_e=G.FileIndex[0];ye<G.FileIndex.length;++ye)_e=G.FileIndex[ye],_e.content&&(Te=_e.content.length,!(Te<4096)&&(_e.start=xe,De(Te+511>>9)));for(De(Z[6]+7>>3);te.l&511;)te.write_shift(-4,ue.ENDOFCHAIN);for(xe=ie=0,ye=0;ye<G.FileIndex.length;++ye)_e=G.FileIndex[ye],_e.content&&(Te=_e.content.length,!(!Te||Te>=4096)&&(_e.start=xe,De(Te+63>>6)));for(;te.l&511;)te.write_shift(-4,ue.ENDOFCHAIN);for(ie=0;ie<Z[4]<<2;++ie){var Be=G.FullPaths[ie];if(!Be||Be.length===0){for(ye=0;ye<17;++ye)te.write_shift(4,0);for(ye=0;ye<3;++ye)te.write_shift(4,-1);for(ye=0;ye<12;++ye)te.write_shift(4,0);continue}_e=G.FileIndex[ie],ie===0&&(_e.start=_e.size?_e.start-1:q);var ze=ie===0&&X.root||_e.name;if(Te=2*(ze.length+1),te.write_shift(64,ze,"utf16le"),te.write_shift(2,Te),te.write_shift(1,_e.type),te.write_shift(1,_e.color),te.write_shift(-4,_e.L),te.write_shift(-4,_e.R),te.write_shift(-4,_e.C),_e.clsid)te.write_shift(16,_e.clsid,"hex");else for(ye=0;ye<4;++ye)te.write_shift(4,0);te.write_shift(4,_e.state||0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,_e.start),te.write_shift(4,_e.size),te.write_shift(4,0)}for(ie=1;ie<G.FileIndex.length;++ie)if(_e=G.FileIndex[ie],_e.size>=4096)if(te.l=_e.start+1<<9,Pt&&Buffer.isBuffer(_e.content))_e.content.copy(te,te.l,0,_e.size),te.l+=_e.size+511&-512;else{for(ye=0;ye<_e.size;++ye)te.write_shift(1,_e.content[ye]);for(;ye&511;++ye)te.write_shift(1,0)}for(ie=1;ie<G.FileIndex.length;++ie)if(_e=G.FileIndex[ie],_e.size>0&&_e.size<4096)if(Pt&&Buffer.isBuffer(_e.content))_e.content.copy(te,te.l,0,_e.size),te.l+=_e.size+63&-64;else{for(ye=0;ye<_e.size;++ye)te.write_shift(1,_e.content[ye]);for(;ye&63;++ye)te.write_shift(1,0)}if(Pt)te.l=te.length;else for(;te.l<te.length;)te.write_shift(1,0);return te}function L(G,ne){var X=G.FullPaths.map(function(ye){return ye.toUpperCase()}),Z=X.map(function(ye){var Te=ye.split("/");return Te[Te.length-(ye.slice(-1)=="/"?2:1)]}),te=!1;ne.charCodeAt(0)===47?(te=!0,ne=X[0].slice(0,-1)+ne):te=ne.indexOf("/")!==-1;var ie=ne.toUpperCase(),xe=te===!0?X.indexOf(ie):Z.indexOf(ie);if(xe!==-1)return G.FileIndex[xe];var De=!ie.match(Pf);for(ie=ie.replace(Fr,""),De&&(ie=ie.replace(Pf,"!")),xe=0;xe<X.length;++xe)if((De?X[xe].replace(Pf,"!"):X[xe]).replace(Fr,"")==ie||(De?Z[xe].replace(Pf,"!"):Z[xe]).replace(Fr,"")==ie)return G.FileIndex[xe];return null}var U=64,q=-2,he="d0cf11e0a1b11ae1",ae=[208,207,17,224,161,177,26,225],se="00000000000000000000000000000000",ue={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:q,FREESECT:-1,HEADER_SIGNATURE:he,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:se,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Ce(G,ne,X){c();var Z=O(G,X);f.writeFileSync(ne,Z)}function J(G){for(var ne=new Array(G.length),X=0;X<G.length;++X)ne[X]=String.fromCharCode(G[X]);return ne.join("")}function be(G,ne){var X=O(G,ne);switch(ne&&ne.type||"buffer"){case"file":return c(),f.writeFileSync(ne.filename,X),X;case"binary":return typeof X=="string"?X:J(X);case"base64":return Bw(typeof X=="string"?X:J(X));case"buffer":if(Pt)return Buffer.isBuffer(X)?X:Bu(X);case"array":return typeof X=="string"?es(X):X}return X}var j;function z(G){try{var ne=G.InflateRaw,X=new ne;if(X._processChunk(new Uint8Array([3,0]),X._finishFlushFlag),X.bytesRead)j=G;else throw new Error("zlib does not expose bytesRead")}catch(Z){console.error("cannot use native zlib: "+(Z.message||Z))}}function K(G,ne){if(!j)return Us(G,ne);var X=j.InflateRaw,Z=new X,te=Z._processChunk(G.slice(G.l),Z._finishFlushFlag);return G.l+=Z.bytesRead,te}function ee(G){return j?j.deflateRawSync(G):ht(G)}var re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ke=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Re(G){var ne=(G<<1|G<<11)&139536|(G<<5|G<<15)&558144;return(ne>>16|ne>>8|ne)&255}for(var Ae=typeof Uint8Array<"u",Ne=Ae?new Uint8Array(256):[],ce=0;ce<256;++ce)Ne[ce]=Re(ce);function Y(G,ne){var X=Ne[G&255];return ne<=8?X>>>8-ne:(X=X<<8|Ne[G>>8&255],ne<=16?X>>>16-ne:(X=X<<8|Ne[G>>16&255],X>>>24-ne))}function Ie(G,ne){var X=ne&7,Z=ne>>>3;return(G[Z]|(X<=6?0:G[Z+1]<<8))>>>X&3}function Fe(G,ne){var X=ne&7,Z=ne>>>3;return(G[Z]|(X<=5?0:G[Z+1]<<8))>>>X&7}function Ke(G,ne){var X=ne&7,Z=ne>>>3;return(G[Z]|(X<=4?0:G[Z+1]<<8))>>>X&15}function qe(G,ne){var X=ne&7,Z=ne>>>3;return(G[Z]|(X<=3?0:G[Z+1]<<8))>>>X&31}function He(G,ne){var X=ne&7,Z=ne>>>3;return(G[Z]|(X<=1?0:G[Z+1]<<8))>>>X&127}function nt(G,ne,X){var Z=ne&7,te=ne>>>3,ie=(1<<X)-1,xe=G[te]>>>Z;return X<8-Z||(xe|=G[te+1]<<8-Z,X<16-Z)||(xe|=G[te+2]<<16-Z,X<24-Z)||(xe|=G[te+3]<<24-Z),xe&ie}function Ge(G,ne,X){var Z=ne&7,te=ne>>>3;return Z<=5?G[te]|=(X&7)<<Z:(G[te]|=X<<Z&255,G[te+1]=(X&7)>>8-Z),ne+3}function We(G,ne,X){var Z=ne&7,te=ne>>>3;return X=(X&1)<<Z,G[te]|=X,ne+1}function Kt(G,ne,X){var Z=ne&7,te=ne>>>3;return X<<=Z,G[te]|=X&255,X>>>=8,G[te+1]=X,ne+8}function ot(G,ne,X){var Z=ne&7,te=ne>>>3;return X<<=Z,G[te]|=X&255,X>>>=8,G[te+1]=X&255,G[te+2]=X>>>8,ne+16}function ut(G,ne){var X=G.length,Z=2*X>ne?2*X:ne+5,te=0;if(X>=ne)return G;if(Pt){var ie=qw(Z);if(G.copy)G.copy(ie);else for(;te<G.length;++te)ie[te]=G[te];return ie}else if(Ae){var xe=new Uint8Array(Z);if(xe.set)xe.set(G);else for(;te<X;++te)xe[te]=G[te];return xe}return G.length=Z,G}function st(G){for(var ne=new Array(G),X=0;X<G;++X)ne[X]=0;return ne}function bt(G,ne,X){var Z=1,te=0,ie=0,xe=0,De=0,ye=G.length,Te=Ae?new Uint16Array(32):st(32);for(ie=0;ie<32;++ie)Te[ie]=0;for(ie=ye;ie<X;++ie)G[ie]=0;ye=G.length;var _e=Ae?new Uint16Array(ye):st(ye);for(ie=0;ie<ye;++ie)Te[te=G[ie]]++,Z<te&&(Z=te),_e[ie]=0;for(Te[0]=0,ie=1;ie<=Z;++ie)Te[ie+16]=De=De+Te[ie-1]<<1;for(ie=0;ie<ye;++ie)De=G[ie],De!=0&&(_e[ie]=Te[De+16]++);var Be=0;for(ie=0;ie<ye;++ie)if(Be=G[ie],Be!=0)for(De=Y(_e[ie],Z)>>Z-Be,xe=(1<<Z+4-Be)-1;xe>=0;--xe)ne[De|xe<<Be]=Be&15|ie<<4;return Z}var dt=Ae?new Uint16Array(512):st(512),tn=Ae?new Uint16Array(32):st(32);if(!Ae){for(var wt=0;wt<512;++wt)dt[wt]=0;for(wt=0;wt<32;++wt)tn[wt]=0}(function(){for(var G=[],ne=0;ne<32;ne++)G.push(5);bt(G,tn,32);var X=[];for(ne=0;ne<=143;ne++)X.push(8);for(;ne<=255;ne++)X.push(9);for(;ne<=279;ne++)X.push(7);for(;ne<=287;ne++)X.push(8);bt(X,dt,288)})();var Pn=(function(){for(var ne=Ae?new Uint8Array(32768):[],X=0,Z=0;X<ke.length-1;++X)for(;Z<ke[X+1];++Z)ne[Z]=X;for(;Z<32768;++Z)ne[Z]=29;var te=Ae?new Uint8Array(259):[];for(X=0,Z=0;X<pe.length-1;++X)for(;Z<pe[X+1];++Z)te[Z]=X;function ie(De,ye){for(var Te=0;Te<De.length;){var _e=Math.min(65535,De.length-Te),Be=Te+_e==De.length;for(ye.write_shift(1,+Be),ye.write_shift(2,_e),ye.write_shift(2,~_e&65535);_e-- >0;)ye[ye.l++]=De[Te++]}return ye.l}function xe(De,ye){for(var Te=0,_e=0,Be=Ae?new Uint16Array(32768):[];_e<De.length;){var ze=Math.min(65535,De.length-_e);if(ze<10){for(Te=Ge(ye,Te,+(_e+ze==De.length)),Te&7&&(Te+=8-(Te&7)),ye.l=Te/8|0,ye.write_shift(2,ze),ye.write_shift(2,~ze&65535);ze-- >0;)ye[ye.l++]=De[_e++];Te=ye.l*8;continue}Te=Ge(ye,Te,+(_e+ze==De.length)+2);for(var Ye=0;ze-- >0;){var Ve=De[_e];Ye=(Ye<<5^Ve)&32767;var $e=-1,Ze=0;if(($e=Be[Ye])&&($e|=_e&-32768,$e>_e&&($e-=32768),$e<_e))for(;De[$e+Ze]==De[_e+Ze]&&Ze<250;)++Ze;if(Ze>2){Ve=te[Ze],Ve<=22?Te=Kt(ye,Te,Ne[Ve+1]>>1)-1:(Kt(ye,Te,3),Te+=5,Kt(ye,Te,Ne[Ve-23]>>5),Te+=3);var Yt=Ve<8?0:Ve-4>>2;Yt>0&&(ot(ye,Te,Ze-pe[Ve]),Te+=Yt),Ve=ne[_e-$e],Te=Kt(ye,Te,Ne[Ve]>>3),Te-=3;var Xt=Ve<4?0:Ve-2>>1;Xt>0&&(ot(ye,Te,_e-$e-ke[Ve]),Te+=Xt);for(var cn=0;cn<Ze;++cn)Be[Ye]=_e&32767,Ye=(Ye<<5^De[_e])&32767,++_e;ze-=Ze-1}else Ve<=143?Ve=Ve+48:Te=We(ye,Te,1),Te=Kt(ye,Te,Ne[Ve]),Be[Ye]=_e&32767,++_e}Te=Kt(ye,Te,0)-1}return ye.l=(Te+7)/8|0,ye.l}return function(ye,Te){return ye.length<8?ie(ye,Te):xe(ye,Te)}})();function ht(G){var ne=Wn(50+Math.floor(G.length*1.1)),X=Pn(G,ne);return ne.slice(0,X)}var Ut=Ae?new Uint16Array(32768):st(32768),nn=Ae?new Uint16Array(32768):st(32768),St=Ae?new Uint16Array(128):st(128),rn=1,kr=1;function Tn(G,ne){var X=qe(G,ne)+257;ne+=5;var Z=qe(G,ne)+1;ne+=5;var te=Ke(G,ne)+4;ne+=4;for(var ie=0,xe=Ae?new Uint8Array(19):st(19),De=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ye=1,Te=Ae?new Uint8Array(8):st(8),_e=Ae?new Uint8Array(8):st(8),Be=xe.length,ze=0;ze<te;++ze)xe[re[ze]]=ie=Fe(G,ne),ye<ie&&(ye=ie),Te[ie]++,ne+=3;var Ye=0;for(Te[0]=0,ze=1;ze<=ye;++ze)_e[ze]=Ye=Ye+Te[ze-1]<<1;for(ze=0;ze<Be;++ze)(Ye=xe[ze])!=0&&(De[ze]=_e[Ye]++);var Ve=0;for(ze=0;ze<Be;++ze)if(Ve=xe[ze],Ve!=0){Ye=Ne[De[ze]]>>8-Ve;for(var $e=(1<<7-Ve)-1;$e>=0;--$e)St[Ye|$e<<Ve]=Ve&7|ze<<3}var Ze=[];for(ye=1;Ze.length<X+Z;)switch(Ye=St[He(G,ne)],ne+=Ye&7,Ye>>>=3){case 16:for(ie=3+Ie(G,ne),ne+=2,Ye=Ze[Ze.length-1];ie-- >0;)Ze.push(Ye);break;case 17:for(ie=3+Fe(G,ne),ne+=3;ie-- >0;)Ze.push(0);break;case 18:for(ie=11+He(G,ne),ne+=7;ie-- >0;)Ze.push(0);break;default:Ze.push(Ye),ye<Ye&&(ye=Ye);break}var Yt=Ze.slice(0,X),Xt=Ze.slice(X);for(ze=X;ze<286;++ze)Yt[ze]=0;for(ze=Z;ze<30;++ze)Xt[ze]=0;return rn=bt(Yt,Ut,286),kr=bt(Xt,nn,30),ne}function Yu(G,ne){if(G[0]==3&&!(G[1]&3))return[Do(ne),2];for(var X=0,Z=0,te=qw(ne||1<<18),ie=0,xe=te.length>>>0,De=0,ye=0;(Z&1)==0;){if(Z=Fe(G,X),X+=3,Z>>>1)Z>>1==1?(De=9,ye=5):(X=Tn(G,X),De=rn,ye=kr);else{X&7&&(X+=8-(X&7));var Te=G[X>>>3]|G[(X>>>3)+1]<<8;if(X+=32,Te>0)for(!ne&&xe<ie+Te&&(te=ut(te,ie+Te),xe=te.length);Te-- >0;)te[ie++]=G[X>>>3],X+=8;continue}for(;;){!ne&&xe<ie+32767&&(te=ut(te,ie+32767),xe=te.length);var _e=nt(G,X,De),Be=Z>>>1==1?dt[_e]:Ut[_e];if(X+=Be&15,Be>>>=4,(Be>>>8&255)===0)te[ie++]=Be;else{if(Be==256)break;Be-=257;var ze=Be<8?0:Be-4>>2;ze>5&&(ze=0);var Ye=ie+pe[Be];ze>0&&(Ye+=nt(G,X,ze),X+=ze),_e=nt(G,X,ye),Be=Z>>>1==1?tn[_e]:nn[_e],X+=Be&15,Be>>>=4;var Ve=Be<4?0:Be-2>>1,$e=ke[Be];for(Ve>0&&($e+=nt(G,X,Ve),X+=Ve),!ne&&xe<Ye&&(te=ut(te,Ye+100),xe=te.length);ie<Ye;)te[ie]=te[ie-$e],++ie}}}return ne?[te,X+7>>>3]:[te.slice(0,ie),X+7>>>3]}function Us(G,ne){var X=G.slice(G.l||0),Z=Yu(X,ne);return G.l+=Z[1],Z[0]}function zo(G,ne){if(G)typeof console<"u"&&console.error(ne);else throw new Error(ne)}function Qr(G,ne){var X=G;lr(X,0);var Z=[],te=[],ie={FileIndex:Z,FullPaths:te};N(ie,{root:ne.root});for(var xe=X.length-4;(X[xe]!=80||X[xe+1]!=75||X[xe+2]!=5||X[xe+3]!=6)&&xe>=0;)--xe;X.l=xe+4,X.l+=4;var De=X.read_shift(2);X.l+=6;var ye=X.read_shift(4);for(X.l=ye,xe=0;xe<De;++xe){X.l+=20;var Te=X.read_shift(4),_e=X.read_shift(4),Be=X.read_shift(2),ze=X.read_shift(2),Ye=X.read_shift(2);X.l+=8;var Ve=X.read_shift(4),$e=l(X.slice(X.l+Be,X.l+Be+ze));X.l+=Be+ze+Ye;var Ze=X.l;X.l=Ve+4,Vs(X,Te,_e,ie,$e),X.l=Ze}return ie}function Vs(G,ne,X,Z,te){G.l+=2;var ie=G.read_shift(2),xe=G.read_shift(2),De=o(G);if(ie&8257)throw new Error("Unsupported ZIP encryption");for(var ye=G.read_shift(4),Te=G.read_shift(4),_e=G.read_shift(4),Be=G.read_shift(2),ze=G.read_shift(2),Ye="",Ve=0;Ve<Be;++Ve)Ye+=String.fromCharCode(G[G.l++]);if(ze){var $e=l(G.slice(G.l,G.l+ze));($e[21589]||{}).mt&&(De=$e[21589].mt),((te||{})[21589]||{}).mt&&(De=te[21589].mt)}G.l+=ze;var Ze=G.slice(G.l,G.l+Te);switch(xe){case 8:Ze=K(G,_e);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+xe)}var Yt=!1;ie&8&&(ye=G.read_shift(4),ye==134695760&&(ye=G.read_shift(4),Yt=!0),Te=G.read_shift(4),_e=G.read_shift(4)),Te!=ne&&zo(Yt,"Bad compressed size: "+ne+" != "+Te),_e!=X&&zo(Yt,"Bad uncompressed size: "+X+" != "+_e),Hs(Z,Ye,Ze,{unsafe:!0,mt:De})}function bn(G,ne){var X=ne||{},Z=[],te=[],ie=Wn(1),xe=X.compression?8:0,De=0,ye=0,Te=0,_e=0,Be=0,ze=G.FullPaths[0],Ye=ze,Ve=G.FileIndex[0],$e=[],Ze=0;for(ye=1;ye<G.FullPaths.length;++ye)if(Ye=G.FullPaths[ye].slice(ze.length),Ve=G.FileIndex[ye],!(!Ve.size||!Ve.content||Ye=="Sh33tJ5")){var Yt=_e,Xt=Wn(Ye.length);for(Te=0;Te<Ye.length;++Te)Xt.write_shift(1,Ye.charCodeAt(Te)&127);Xt=Xt.slice(0,Xt.l),$e[Be]=e7.buf(Ve.content,0);var cn=Ve.content;xe==8&&(cn=ee(cn)),ie=Wn(30),ie.write_shift(4,67324752),ie.write_shift(2,20),ie.write_shift(2,De),ie.write_shift(2,xe),Ve.mt?s(ie,Ve.mt):ie.write_shift(4,0),ie.write_shift(-4,$e[Be]),ie.write_shift(4,cn.length),ie.write_shift(4,Ve.content.length),ie.write_shift(2,Xt.length),ie.write_shift(2,0),_e+=ie.length,Z.push(ie),_e+=Xt.length,Z.push(Xt),_e+=cn.length,Z.push(cn),ie=Wn(46),ie.write_shift(4,33639248),ie.write_shift(2,0),ie.write_shift(2,20),ie.write_shift(2,De),ie.write_shift(2,xe),ie.write_shift(4,0),ie.write_shift(-4,$e[Be]),ie.write_shift(4,cn.length),ie.write_shift(4,Ve.content.length),ie.write_shift(2,Xt.length),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(4,0),ie.write_shift(4,Yt),Ze+=ie.l,te.push(ie),Ze+=Xt.length,te.push(Xt),++Be}return ie=Wn(22),ie.write_shift(4,101010256),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(2,Be),ie.write_shift(2,Be),ie.write_shift(4,Ze),ie.write_shift(4,_e),ie.write_shift(2,0),co([co(Z),co(te),ie])}var Rr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function pi(G,ne){if(G.ctype)return G.ctype;var X=G.name||"",Z=X.match(/\.([^\.]+)$/);return Z&&Rr[Z[1]]||ne&&(Z=(X=ne).match(/[\.\\]([^\.\\])+$/),Z&&Rr[Z[1]])?Rr[Z[1]]:"application/octet-stream"}function Zr(G){for(var ne=Bw(G),X=[],Z=0;Z<ne.length;Z+=76)X.push(ne.slice(Z,Z+76));return X.join(`\r
    +`:"\r"}}function C(k){return k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function I(k){var R=(k=k||{}).delimiter,V=k.newline,L=k.comments,F=k.step,q=k.preview,ce=k.fastMode,oe=null,ae=!1,se=k.quoteChar==null?'"':k.quoteChar,me=se;if(k.escapeChar!==void 0&&(me=k.escapeChar),(typeof R!="string"||-1<c.BAD_DELIMITERS.indexOf(R))&&(R=","),L===R)throw new Error("Comment character same as delimiter");L===!0?L="#":(typeof L!="string"||-1<c.BAD_DELIMITERS.indexOf(L))&&(L=!1),V!==`
    +`&&V!=="\r"&&V!==`\r
    +`&&(V=`
    +`);var X=0,ge=!1;this.parse=function(G,z,K){if(typeof G!="string")throw new Error("Input must be a string");var ee=G.length,re=R.length,pe=V.length,ke=L.length,Re=N(F),Ce=[],Ne=[],he=[],Y=X=0;if(!G)return st();if(ce||ce!==!1&&G.indexOf(se)===-1){for(var Ie=G.split(V),Fe=0;Fe<Ie.length;Fe++){if(he=Ie[Fe],X+=he.length,Fe!==Ie.length-1)X+=V.length;else if(K)return st();if(!L||he.substring(0,ke)!==L){if(Re){if(Ce=[],We(he.split(R)),bt(),ge)return st()}else We(he.split(R));if(q&&q<=Fe)return Ce=Ce.slice(0,q),st(!0)}}return st()}for(var Ke=G.indexOf(R,X),qe=G.indexOf(V,X),He=new RegExp(C(me)+C(se),"g"),nt=G.indexOf(se,X);;)if(G[X]===se)for(nt=X,X++;;){if((nt=G.indexOf(se,nt+1))===-1)return K||Ne.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ce.length,index:X}),ot();if(nt===ee-1)return ot(G.substring(X,nt).replace(He,se));if(se===me&&G[nt+1]===me)nt++;else if(se===me||nt===0||G[nt-1]!==me){Ke!==-1&&Ke<nt+1&&(Ke=G.indexOf(R,nt+1));var Ge=Yt((qe=qe!==-1&&qe<nt+1?G.indexOf(V,nt+1):qe)===-1?Ke:Math.min(Ke,qe));if(G.substr(nt+1+Ge,re)===R){he.push(G.substring(X,nt).replace(He,se)),G[X=nt+1+Ge+re]!==se&&(nt=G.indexOf(se,X)),Ke=G.indexOf(R,X),qe=G.indexOf(V,X);break}if(Ge=Yt(qe),G.substring(nt+1+Ge,nt+1+Ge+pe)===V){if(he.push(G.substring(X,nt).replace(He,se)),ut(nt+1+Ge+pe),Ke=G.indexOf(R,X),nt=G.indexOf(se,X),Re&&(bt(),ge))return st();if(q&&Ce.length>=q)return st(!0);break}Ne.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ce.length,index:X}),nt++}}else if(L&&he.length===0&&G.substring(X,X+ke)===L){if(qe===-1)return st();X=qe+pe,qe=G.indexOf(V,X),Ke=G.indexOf(R,X)}else if(Ke!==-1&&(Ke<qe||qe===-1))he.push(G.substring(X,Ke)),X=Ke+re,Ke=G.indexOf(R,X);else{if(qe===-1)break;if(he.push(G.substring(X,qe)),ut(qe+pe),Re&&(bt(),ge))return st();if(q&&Ce.length>=q)return st(!0)}return ot();function We(dt){Ce.push(dt),Y=X}function Yt(dt){var tn=0;return tn=dt!==-1&&(dt=G.substring(nt+1,dt))&&dt.trim()===""?dt.length:tn}function ot(dt){return K||(dt===void 0&&(dt=G.substring(X)),he.push(dt),X=ee,We(he),Re&&bt()),st()}function ut(dt){X=dt,We(he),he=[],qe=G.indexOf(V,X)}function st(dt){if(k.header&&!z&&Ce.length&&!ae){var tn=Ce[0],wt=Object.create(null),Pn=new Set(tn);let ht=!1;for(let Ut=0;Ut<tn.length;Ut++){let nn=tn[Ut];if(wt[nn=N(k.transformHeader)?k.transformHeader(nn,Ut):nn]){let St,rn=wt[nn];for(;St=nn+"_"+rn,rn++,Pn.has(St););Pn.add(St),tn[Ut]=St,wt[nn]++,ht=!0,(oe=oe===null?{}:oe)[St]=nn}else wt[nn]=1,tn[Ut]=nn;Pn.add(nn)}ht&&console.warn("Duplicate headers found and renamed."),ae=!0}return{data:Ce,errors:Ne,meta:{delimiter:R,linebreak:V,aborted:ge,truncated:!!dt,cursor:Y+(z||0),renamedHeaders:oe}}}function bt(){F(st()),Ce=[],Ne=[]}},this.abort=function(){ge=!0},this.getCharIndex=function(){return X}}function D(k){var R=k.data,V=l[R.workerId],L=!1;if(R.error)V.userError(R.error,R.file);else if(R.results&&R.results.data){var F={abort:function(){L=!0,A(R.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:P,resume:P};if(N(V.userStep)){for(var q=0;q<R.results.data.length&&(V.userStep({data:R.results.data[q],errors:R.results.errors,meta:R.results.meta},F),!L);q++);delete R.results}else N(V.userChunk)&&(V.userChunk(R.results,F,R.file),delete R.results)}R.finished&&!L&&A(R.workerId,R.results)}function A(k,R){var V=l[k];N(V.userComplete)&&V.userComplete(R),V.terminate(),delete l[k]}function P(){throw new Error("Not implemented.")}function M(k){if(typeof k!="object"||k===null)return k;var R,V=Array.isArray(k)?[]:{};for(R in k)V[R]=M(k[R]);return V}function U(k,R){return function(){k.apply(R,arguments)}}function N(k){return typeof k=="function"}return c.parse=function(k,R){var V=(R=R||{}).dynamicTyping||!1;if(N(V)&&(R.dynamicTypingFunction=V,V={}),R.dynamicTyping=V,R.transform=!!N(R.transform)&&R.transform,!R.worker||!c.WORKERS_SUPPORTED)return V=null,c.NODE_STREAM_INPUT,typeof k=="string"?(k=(L=>L.charCodeAt(0)!==65279?L:L.slice(1))(k),V=new(R.download?g:x)(R)):k.readable===!0&&N(k.read)&&N(k.on)?V=new _(R):(r.File&&k instanceof File||k instanceof Object)&&(V=new p(R)),V.stream(k);(V=(()=>{var L;return!!c.WORKERS_SUPPORTED&&(L=(()=>{var F=r.URL||r.webkitURL||null,q=n.toString();return c.BLOB_URL||(c.BLOB_URL=F.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",q,")();"],{type:"text/javascript"})))})(),(L=new r.Worker(L)).onmessage=D,L.id=f++,l[L.id]=L)})()).userStep=R.step,V.userChunk=R.chunk,V.userComplete=R.complete,V.userError=R.error,R.step=N(R.step),R.chunk=N(R.chunk),R.complete=N(R.complete),R.error=N(R.error),delete R.worker,V.postMessage({input:k,config:R,workerId:V.id})},c.unparse=function(k,R){var V=!1,L=!0,F=",",q=`\r
    +`,ce='"',oe=ce+ce,ae=!1,se=null,me=!1,X=((()=>{if(typeof R=="object"){if(typeof R.delimiter!="string"||c.BAD_DELIMITERS.filter(function(z){return R.delimiter.indexOf(z)!==-1}).length||(F=R.delimiter),typeof R.quotes!="boolean"&&typeof R.quotes!="function"&&!Array.isArray(R.quotes)||(V=R.quotes),typeof R.skipEmptyLines!="boolean"&&typeof R.skipEmptyLines!="string"||(ae=R.skipEmptyLines),typeof R.newline=="string"&&(q=R.newline),typeof R.quoteChar=="string"&&(ce=R.quoteChar),typeof R.header=="boolean"&&(L=R.header),Array.isArray(R.columns)){if(R.columns.length===0)throw new Error("Option columns is empty");se=R.columns}R.escapeChar!==void 0&&(oe=R.escapeChar+ce),R.escapeFormulae instanceof RegExp?me=R.escapeFormulae:typeof R.escapeFormulae=="boolean"&&R.escapeFormulae&&(me=/^[=+\-@\t\r].*$/)}})(),new RegExp(C(ce),"g"));if(typeof k=="string"&&(k=JSON.parse(k)),Array.isArray(k)){if(!k.length||Array.isArray(k[0]))return ge(null,k,ae);if(typeof k[0]=="object")return ge(se||Object.keys(k[0]),k,ae)}else if(typeof k=="object")return typeof k.data=="string"&&(k.data=JSON.parse(k.data)),Array.isArray(k.data)&&(k.fields||(k.fields=k.meta&&k.meta.fields||se),k.fields||(k.fields=Array.isArray(k.data[0])?k.fields:typeof k.data[0]=="object"?Object.keys(k.data[0]):[]),Array.isArray(k.data[0])||typeof k.data[0]=="object"||(k.data=[k.data])),ge(k.fields||[],k.data||[],ae);throw new Error("Unable to serialize unrecognized input");function ge(z,K,ee){var re="",pe=(typeof z=="string"&&(z=JSON.parse(z)),typeof K=="string"&&(K=JSON.parse(K)),Array.isArray(z)&&0<z.length),ke=!Array.isArray(K[0]);if(pe&&L){for(var Re=0;Re<z.length;Re++)0<Re&&(re+=F),re+=G(z[Re],Re);0<K.length&&(re+=q)}for(var Ce=0;Ce<K.length;Ce++){var Ne=(pe?z:K[Ce]).length,he=!1,Y=pe?Object.keys(K[Ce]).length===0:K[Ce].length===0;if(ee&&!pe&&(he=ee==="greedy"?K[Ce].join("").trim()==="":K[Ce].length===1&&K[Ce][0].length===0),ee==="greedy"&&pe){for(var Ie=[],Fe=0;Fe<Ne;Fe++){var Ke=ke?z[Fe]:Fe;Ie.push(K[Ce][Ke])}he=Ie.join("").trim()===""}if(!he){for(var qe=0;qe<Ne;qe++){0<qe&&!Y&&(re+=F);var He=pe&&ke?z[qe]:qe;re+=G(K[Ce][He],qe)}Ce<K.length-1&&(!ee||0<Ne&&!Y)&&(re+=q)}}return re}function G(z,K){var ee,re;return z==null?"":z.constructor===Date?JSON.stringify(z).slice(1,25):(re=!1,me&&typeof z=="string"&&me.test(z)&&(z="'"+z,re=!0),ee=z.toString().replace(X,oe),(re=re||V===!0||typeof V=="function"&&V(z,K)||Array.isArray(V)&&V[K]||((pe,ke)=>{for(var Re=0;Re<ke.length;Re++)if(-1<pe.indexOf(ke[Re]))return!0;return!1})(ee,c.BAD_DELIMITERS)||-1<ee.indexOf(F)||ee.charAt(0)===" "||ee.charAt(ee.length-1)===" ")?ce+ee+ce:ee)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
    +`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=I,c.ParserHandle=b,c.NetworkStreamer=g,c.FileStreamer=p,c.StringStreamer=x,c.ReadableStreamStreamer=_,r.jQuery&&((i=r.jQuery).fn.parse=function(k){var R=k.config||{},V=[];return this.each(function(q){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var ce=0;ce<this.files.length;ce++)V.push({file:this.files[ce],inputElem:this,instanceConfig:i.extend({},R)})}),L(),this;function L(){if(V.length===0)N(k.complete)&&k.complete();else{var q,ce,oe,ae,se=V[0];if(N(k.before)){var me=k.before(se.file,se.inputElem);if(typeof me=="object"){if(me.action==="abort")return q="AbortError",ce=se.file,oe=se.inputElem,ae=me.reason,void(N(k.error)&&k.error({name:q},ce,oe,ae));if(me.action==="skip")return void F();typeof me.config=="object"&&(se.instanceConfig=i.extend(se.instanceConfig,me.config))}else if(me==="skip")return void F()}var X=se.instanceConfig.complete;se.instanceConfig.complete=function(ge){N(X)&&X(ge,se.file,se.inputElem),F()},c.parse(se.file,se.instanceConfig)}}function F(){V.splice(0,1),L()}}),o&&(r.onmessage=function(k){k=k.data,c.WORKER_ID===void 0&&k&&(c.WORKER_ID=k.workerId),typeof k.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(k.input,k.config),finished:!0}):(r.File&&k.input instanceof File||k.input instanceof Object)&&(k=c.parse(k.input,k.config))&&r.postMessage({workerId:c.WORKER_ID,results:k,finished:!0})}),(g.prototype=Object.create(d.prototype)).constructor=g,(p.prototype=Object.create(d.prototype)).constructor=p,(x.prototype=Object.create(x.prototype)).constructor=x,(_.prototype=Object.create(d.prototype)).constructor=_,c})})(Wd)),Wd.exports}var IF=CF();const kF=Vp(IF);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var i6=1252,RF=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Dv={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Mv=function(t){RF.indexOf(t)!=-1&&(i6=Dv[0]=t)};function NF(){Mv(1252)}var ns=function(t){Mv(t)};function s6(){ns(1200),NF()}function Bw(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t.charCodeAt(n);return e}function DF(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n)+(t.charCodeAt(2*n+1)<<8));return e.join("")}function a6(t){for(var e=[],n=0;n<t.length>>1;++n)e[n]=String.fromCharCode(t.charCodeAt(2*n+1)+(t.charCodeAt(2*n)<<8));return e.join("")}var Pf=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return e==255&&n==254?DF(t.slice(2)):e==254&&n==255?a6(t.slice(2)):e==65279?t.slice(1):t},vd=function(e){return String.fromCharCode(e)},qw=function(e){return String.fromCharCode(e)},m0,mo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Hw(t){for(var e="",n=0,r=0,i=0,s=0,o=0,l=0,f=0,c=0;c<t.length;)n=t.charCodeAt(c++),s=n>>2,r=t.charCodeAt(c++),o=(n&3)<<4|r>>4,i=t.charCodeAt(c++),l=(r&15)<<2|i>>6,f=i&63,isNaN(r)?l=f=64:isNaN(i)&&(f=64),e+=mo.charAt(s)+mo.charAt(o)+mo.charAt(l)+mo.charAt(f);return e}function di(t){var e="",n=0,r=0,i=0,s=0,o=0,l=0,f=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=mo.indexOf(t.charAt(c++)),o=mo.indexOf(t.charAt(c++)),n=s<<2|o>>4,e+=String.fromCharCode(n),l=mo.indexOf(t.charAt(c++)),r=(o&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(r)),f=mo.indexOf(t.charAt(c++)),i=(l&3)<<6|f,f!==64&&(e+=String.fromCharCode(i));return e}var Pt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Hu=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Po(t){return Pt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function zw(t){return Pt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var es=function(e){return Pt?Hu(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function zu(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function Pv(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return Pv(new Uint8Array(t));for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}var ho=Pt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Hu(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function MF(t){for(var e=[],n=0,r=t.length+250,i=Po(t.length+255),s=0;s<t.length;++s){var o=t.charCodeAt(s);if(o<128)i[n++]=o;else if(o<2048)i[n++]=192|o>>6&31,i[n++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=t.charCodeAt(++s)&1023;i[n++]=240|o>>8&7,i[n++]=128|o>>2&63,i[n++]=128|l>>6&15|(o&3)<<4,i[n++]=128|l&63}else i[n++]=224|o>>12&15,i[n++]=128|o>>6&63,i[n++]=128|o&63;n>r&&(e.push(i.slice(0,n)),n=0,i=Po(65535),r=65530)}return e.push(i.slice(0,n)),ho(e)}var Fr=/\u0000/g,Lf=/[\u0001-\u0006]/g;function Jl(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function rs(t,e){var n=""+t;return n.length>=e?n:An("0",e-n.length)+n}function Lv(t,e){var n=""+t;return n.length>=e?n:An(" ",e-n.length)+n}function yp(t,e){var n=""+t;return n.length>=e?n:n+An(" ",e-n.length)}function PF(t,e){var n=""+Math.round(t);return n.length>=e?n:An("0",e-n.length)+n}function LF(t,e){var n=""+t;return n.length>=e?n:An("0",e-n.length)+n}var Gw=Math.pow(2,32);function Ol(t,e){if(t>Gw||t<-Gw)return PF(t,e);var n=Math.round(t);return LF(n,e)}function vp(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var jw=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],q1=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function OF(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var _t={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},$w={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},FF={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function _p(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,o=1,l=0,f=1,c=0,d=0,g=Math.floor(i);c<e&&(g=Math.floor(i),l=g*o+s,d=g*c+f,!(i-g<5e-8));)i=1/(i-g),s=o,o=l,f=c,c=d;if(d>e&&(c>e?(d=f,l=s):(d=c,l=o)),!n)return[0,r*l,d];var p=Math.floor(r*l/d);return[p,r*l-p*d,d]}function bu(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,o=[],l={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(r+=1462),l.u>.9999&&(l.u=0,++i==86400&&(l.T=i=0,++r,++l.D)),r===60)o=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var f=new Date(1900,0,1);f.setDate(f.getDate()+r-1),o=[f.getFullYear(),f.getMonth()+1,f.getDate()],s=f.getDay(),r<60&&(s=(s+6)%7),n&&(s=zF(f,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=i%60,i=Math.floor(i/60),l.M=i%60,i=Math.floor(i/60),l.H=i,l.q=s,l}var o6=new Date(1899,11,31,0,0,0),UF=o6.getTime(),VF=new Date(1900,2,1,0,0,0);function u6(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=VF&&(n+=1440*60*1e3),(n-(UF+(t.getTimezoneOffset()-o6.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Ov(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function BF(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function qF(t){var e=t<0?12:11,n=Ov(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function HF(t){var e=Ov(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function g0(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=qF(t):e===10?n=t.toFixed(10).substr(0,12):n=HF(t),Ov(BF(n.toUpperCase()))}function Nu(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):g0(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Mi(14,u6(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function zF(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function GF(t,e,n,r){var i="",s=0,o=0,l=n.y,f,c=0;switch(t){case 98:l=n.y+543;case 121:switch(e.length){case 1:case 2:f=l%100,c=2;break;default:f=l%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:f=n.m,c=e.length;break;case 3:return q1[n.m-1][1];case 5:return q1[n.m-1][0];default:return q1[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:f=n.d,c=e.length;break;case 3:return jw[n.q][0];default:return jw[n.q][1]}break;case 104:switch(e.length){case 1:case 2:f=1+(n.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:f=n.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:f=n.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?rs(n.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(n.S+n.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(i=rs(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":f=n.D*24+n.H;break;case"[m]":case"[mm]":f=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":f=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:f=l,c=1;break}var d=c>0?rs(f,c):"";return d}function go(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var l6=/%/g;function jF(t,e,n){var r=e.replace(l6,""),i=e.length-r.length;return xa(t,r,n*Math.pow(10,2*i))+An("%",i)}function $F(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return xa(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function c6(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+c6(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,f,c,d){return f+c+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var f6=/# (\?+)( ?)\/( ?)(\d+)/;function WF(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),o=i-s*r,l=r;return n+(s===0?"":""+s)+" "+(o===0?An(" ",t[1].length+1+t[4].length):Lv(o,t[1].length)+t[2]+"/"+t[3]+rs(l,t[4].length))}function KF(t,e,n){return n+(e===0?"":""+e)+An(" ",t[1].length+2+t[4].length)}var h6=/^#*0*\.([0#]+)/,d6=/\).*[0#]/,p6=/\(###\) ###\\?-####/;function Mr(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function Ww(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function Kw(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function YF(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function XF(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Ii(t,e,n){if(t.charCodeAt(0)===40&&!e.match(d6)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ii("n",r,n):"("+Ii("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return $F(t,e,n);if(e.indexOf("%")!==-1)return jF(t,e,n);if(e.indexOf("E")!==-1)return c6(e,n);if(e.charCodeAt(0)===36)return"$"+Ii(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,o,l,f=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+Ol(f,e.length);if(e.match(/^[#?]+$/))return i=Ol(n,0),i==="0"&&(i=""),i.length>e.length?i:Mr(e.substr(0,e.length-i.length))+i;if(s=e.match(f6))return WF(s,f,c);if(e.match(/^#+0+$/))return c+Ol(f,e.length-e.indexOf("0"));if(s=e.match(h6))return i=Ww(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Mr(s[1])).replace(/\.$/,"."+Mr(s[1])).replace(/\.(\d*)$/,function(_,b){return"."+b+An("0",Mr(s[1]).length-b.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+Ww(f,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+go(Ol(f,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ii(t,e,-n):go(""+(Math.floor(n)+YF(n,s[1].length)))+"."+rs(Kw(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Ii(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Jl(Ii(t,e.replace(/[\\-]/g,""),n)),o=0,Jl(Jl(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return o<i.length?i.charAt(o++):_==="0"?"0":""}));if(e.match(p6))return i=Ii(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=_p(f,Math.pow(10,o)-1,!1),i=""+c,d=xa("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=yp(l[2],o),d.length<s[4].length&&(d=Mr(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=_p(f,Math.pow(10,o)-1,!0),c+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Lv(l[1],o)+s[2]+"/"+s[3]+yp(l[2],o):An(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Ol(n,0),e.length<=i.length?i:Mr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var g=e.indexOf(".")-o,p=e.length-i.length-g;return Mr(e.substr(0,g)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=Kw(n,s[1].length),n<0?"-"+Ii(t,e,-n):go(XF(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?rs(0,3-_.length):"")+_})+"."+rs(o,s[1].length);switch(e){case"###,##0.00":return Ii(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var x=go(Ol(f,0));return x!=="0"?c+x:"";case"###,###.00":return Ii(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Ii(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function JF(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return xa(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function QF(t,e,n){var r=e.replace(l6,""),i=e.length-r.length;return xa(t,r,n*Math.pow(10,2*i))+An("%",i)}function m6(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+m6(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(o-n.length+s):n+="E+"+(o-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,f,c,d){return f+c+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Es(t,e,n){if(t.charCodeAt(0)===40&&!e.match(d6)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Es("n",r,n):"("+Es("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return JF(t,e,n);if(e.indexOf("%")!==-1)return QF(t,e,n);if(e.indexOf("E")!==-1)return m6(e,n);if(e.charCodeAt(0)===36)return"$"+Es(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,o,l,f=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+rs(f,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:Mr(e.substr(0,e.length-i.length))+i;if(s=e.match(f6))return KF(s,f,c);if(e.match(/^#+0+$/))return c+rs(f,e.length-e.indexOf("0"));if(s=e.match(h6))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Mr(s[1])).replace(/\.$/,"."+Mr(s[1])),i=i.replace(/\.(\d*)$/,function(_,b){return"."+b+An("0",Mr(s[1]).length-b.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+f).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+go(""+f);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Es(t,e,-n):go(""+n)+"."+An("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Es(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Jl(Es(t,e.replace(/[\\-]/g,""),n)),o=0,Jl(Jl(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return o<i.length?i.charAt(o++):_==="0"?"0":""}));if(e.match(p6))return i=Es(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),l=_p(f,Math.pow(10,o)-1,!1),i=""+c,d=xa("n",s[1],l[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=yp(l[2],o),d.length<s[4].length&&(d=Mr(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),l=_p(f,Math.pow(10,o)-1,!0),c+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Lv(l[1],o)+s[2]+"/"+s[3]+yp(l[2],o):An(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:Mr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var g=e.indexOf(".")-o,p=e.length-i.length-g;return Mr(e.substr(0,g)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Es(t,e,-n):go(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?rs(0,3-_.length):"")+_})+"."+rs(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var x=go(""+f);return x!=="0"?c+x:"";default:if(e.match(/\.[0#?]*$/))return Es(t,e.slice(0,e.lastIndexOf(".")),n)+Mr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function xa(t,e,n){return(n|0)===n?Es(t,e,n):Ii(t,e,n)}function ZF(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var g6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function bc(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":vp(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(g6))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function e7(t,e,n,r){for(var i=[],s="",o=0,l="",f="t",c,d,g,p="H";o<t.length;)switch(l=t.charAt(o)){case"G":if(!vp(t,o))throw new Error("unrecognized character "+l+" in "+t);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(g=t.charCodeAt(++o))!==34&&o<t.length;)s+=String.fromCharCode(g);i[i.length]={t:"t",v:s},++o;break;case"\\":var x=t.charAt(++o),_=x==="("||x===")"?x:"t";i[i.length]={t:_,v:x},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(t.charAt(o+1)==="1"||t.charAt(o+1)==="2"){if(c==null&&(c=bu(e,n,t.charAt(o+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(o,2)},f=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=bu(e,n),c==null))return"";for(s=l;++o<t.length&&t.charAt(o).toLowerCase()===l;)s+=l;l==="m"&&f.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=p),i[i.length]={t:l,v:s},f=l;break;case"A":case"a":case"":var b={t:l,v:l};if(c==null&&(c=bu(e,n)),t.substr(o,3).toUpperCase()==="A/P"?(c!=null&&(b.v=c.H>=12?"P":"A"),b.t="T",p="h",o+=3):t.substr(o,5).toUpperCase()==="AM/PM"?(c!=null&&(b.v=c.H>=12?"PM":"AM"),b.t="T",o+=5,p="h"):t.substr(o,5).toUpperCase()==="/"?(c!=null&&(b.v=c.H>=12?"":""),b.t="T",o+=5,p="h"):(b.t="t",++o),c==null&&b.t==="T")return"";i[i.length]=b,f=l;break;case"[":for(s=l;t.charAt(o++)!=="]"&&o<t.length;)s+=t.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(g6)){if(c==null&&(c=bu(e,n),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},f=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",bc(t)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=l;++o<t.length&&(l=t.charAt(o))==="0";)s+=l;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++o<t.length&&"0#?.,E+-%".indexOf(l=t.charAt(o))>-1;)s+=l;i[i.length]={t:"n",v:s};break;case"?":for(s=l;t.charAt(++o)===l;)s+=l;i[i.length]={t:l,v:s},f=l;break;case"*":++o,(t.charAt(o)==" "||t.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;o<t.length&&"0123456789".indexOf(t.charAt(++o))>-1;)s+=t.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:l,v:l},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+t);i[i.length]={t:"t",v:l},++o;break}var C=0,I=0,D;for(o=i.length-1,f="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=p,f="h",C<1&&(C=1);break;case"s":(D=i[o].v.match(/\.0+$/))&&(I=Math.max(I,D[0].length-1)),C<3&&(C=3);case"d":case"y":case"M":case"e":f=i[o].t;break;case"m":f==="s"&&(i[o].t="M",C<2&&(C=2));break;case"X":break;case"Z":C<1&&i[o].v.match(/[Hh]/)&&(C=1),C<2&&i[o].v.match(/[Mm]/)&&(C=2),C<3&&i[o].v.match(/[Ss]/)&&(C=3)}switch(C){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var A="",P;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=GF(i[o].t.charCodeAt(0),i[o].v,c,I),i[o].t="t";break;case"n":case"?":for(P=o+1;i[P]!=null&&((l=i[P].t)==="?"||l==="D"||(l===" "||l==="t")&&i[P+1]!=null&&(i[P+1].t==="?"||i[P+1].t==="t"&&i[P+1].v==="/")||i[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(i[P].v==="/"||i[P].v===" "&&i[P+1]!=null&&i[P+1].t=="?"));)i[o].v+=i[P].v,i[P]={v:"",t:";"},++P;A+=i[o].v,o=P-1;break;case"G":i[o].t="t",i[o].v=Nu(e,n);break}var M="",U,N;if(A.length>0){A.charCodeAt(0)==40?(U=e<0&&A.charCodeAt(0)===45?-e:e,N=xa("n",A,U)):(U=e<0&&r>1?-e:e,N=xa("n",A,U),U<0&&i[0]&&i[0].t=="t"&&(N=N.substr(1),i[0].v="-"+i[0].v)),P=N.length-1;var k=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){k=o;break}var R=i.length;if(k===i.length&&N.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(P>=i[o].v.length-1?(P-=i[o].v.length,i[o].v=N.substr(P+1,i[o].v.length)):P<0?i[o].v="":(i[o].v=N.substr(0,P+1),P=-1),i[o].t="t",R=o);P>=0&&R<i.length&&(i[R].v=N.substr(0,P+1)+i[R].v)}else if(k!==i.length&&N.indexOf("E")===-1){for(P=N.indexOf(".")-1,o=k;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(d=i[o].v.indexOf(".")>-1&&o===k?i[o].v.indexOf(".")-1:i[o].v.length-1,M=i[o].v.substr(d+1);d>=0;--d)P>=0&&(i[o].v.charAt(d)==="0"||i[o].v.charAt(d)==="#")&&(M=N.charAt(P--)+M);i[o].v=M,i[o].t="t",R=o}for(P>=0&&R<i.length&&(i[R].v=N.substr(0,P+1)+i[R].v),P=N.indexOf(".")+1,o=k;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==k)){for(d=i[o].v.indexOf(".")>-1&&o===k?i[o].v.indexOf(".")+1:0,M=i[o].v.substr(0,d);d<i[o].v.length;++d)P<N.length&&(M+=N.charAt(P++));i[o].v=M,i[o].t="t",R=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(U=r>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=xa(i[o].t,i[o].v,U),i[o].t="t");var V="";for(o=0;o!==i.length;++o)i[o]!=null&&(V+=i[o].v);return V}var Yw=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Xw(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function t7(t,e){var n=ZF(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var o=n[0].match(Yw),l=n[1].match(Yw);return Xw(e,o)?[r,n[0]]:Xw(e,l)?[r,n[1]]:[r,n[o!=null&&l!=null?2:1]]}return[r,s]}function Mi(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:_t)[t],r==null&&(r=n.table&&n.table[$w[t]]||_t[$w[t]]),r==null&&(r=FF[t]||"General");break}if(vp(r,0))return Nu(e,n);e instanceof Date&&(e=u6(e,n.date1904));var i=t7(r,e);if(vp(i[1]))return Nu(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return e7(i[1],e,n,i[0])}function wu(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(_t[n]==null){e<0&&(e=n);continue}if(_t[n]==t){e=n;break}}e<0&&(e=391)}return _t[e]=t,e}function x6(){_t=OF()}var n7={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},y6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function r7(t){var e=typeof t=="number"?_t[t]:t;return e=e.replace(y6,"(\\d+)"),new RegExp("^"+e+"$")}function i7(t,e,n){var r=-1,i=-1,s=-1,o=-1,l=-1,f=-1;(e.match(y6)||[]).forEach(function(g,p){var x=parseInt(n[p+1],10);switch(g.toLowerCase().charAt(0)){case"y":r=x;break;case"d":s=x;break;case"h":o=x;break;case"s":f=x;break;case"m":o>=0?l=x:i=x;break}}),f>=0&&l==-1&&i>=0&&(l=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var d=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2);return o==-1&&l==-1&&f==-1?c:r==-1&&i==-1&&s==-1?d:c+"T"+d}var s7=(function(){var t={};t.version="1.2.0";function e(){for(var N=0,k=new Array(256),R=0;R!=256;++R)N=R,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,k[R]=N;return typeof Int32Array<"u"?new Int32Array(k):k}var n=e();function r(N){var k=0,R=0,V=0,L=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(V=0;V!=256;++V)L[V]=N[V];for(V=0;V!=256;++V)for(R=N[V],k=256+V;k<4096;k+=256)R=L[k]=R>>>8^N[R&255];var F=[];for(V=1;V!=16;++V)F[V-1]=typeof Int32Array<"u"?L.subarray(V*256,V*256+256):L.slice(V*256,V*256+256);return F}var i=r(n),s=i[0],o=i[1],l=i[2],f=i[3],c=i[4],d=i[5],g=i[6],p=i[7],x=i[8],_=i[9],b=i[10],C=i[11],I=i[12],D=i[13],A=i[14];function P(N,k){for(var R=k^-1,V=0,L=N.length;V<L;)R=R>>>8^n[(R^N.charCodeAt(V++))&255];return~R}function M(N,k){for(var R=k^-1,V=N.length-15,L=0;L<V;)R=A[N[L++]^R&255]^D[N[L++]^R>>8&255]^I[N[L++]^R>>16&255]^C[N[L++]^R>>>24]^b[N[L++]]^_[N[L++]]^x[N[L++]]^p[N[L++]]^g[N[L++]]^d[N[L++]]^c[N[L++]]^f[N[L++]]^l[N[L++]]^o[N[L++]]^s[N[L++]]^n[N[L++]];for(V+=15;L<V;)R=R>>>8^n[(R^N[L++])&255];return~R}function U(N,k){for(var R=k^-1,V=0,L=N.length,F=0,q=0;V<L;)F=N.charCodeAt(V++),F<128?R=R>>>8^n[(R^F)&255]:F<2048?(R=R>>>8^n[(R^(192|F>>6&31))&255],R=R>>>8^n[(R^(128|F&63))&255]):F>=55296&&F<57344?(F=(F&1023)+64,q=N.charCodeAt(V++)&1023,R=R>>>8^n[(R^(240|F>>8&7))&255],R=R>>>8^n[(R^(128|F>>2&63))&255],R=R>>>8^n[(R^(128|q>>6&15|(F&3)<<4))&255],R=R>>>8^n[(R^(128|q&63))&255]):(R=R>>>8^n[(R^(224|F>>12&15))&255],R=R>>>8^n[(R^(128|F>>6&63))&255],R=R>>>8^n[(R^(128|F&63))&255]);return~R}return t.table=n,t.bstr=P,t.buf=M,t.str=U,t})(),Ot=(function(){var e={};e.version="1.2.1";function n(j,ne){for(var J=j.split("/"),Z=ne.split("/"),te=0,ie=0,ve=Math.min(J.length,Z.length);te<ve;++te){if(ie=J[te].length-Z[te].length)return ie;if(J[te]!=Z[te])return J[te]<Z[te]?-1:1}return J.length-Z.length}function r(j){if(j.charAt(j.length-1)=="/")return j.slice(0,-1).indexOf("/")===-1?j:r(j.slice(0,-1));var ne=j.lastIndexOf("/");return ne===-1?j:j.slice(0,ne+1)}function i(j){if(j.charAt(j.length-1)=="/")return i(j.slice(0,-1));var ne=j.lastIndexOf("/");return ne===-1?j:j.slice(ne+1)}function s(j,ne){typeof ne=="string"&&(ne=new Date(ne));var J=ne.getHours();J=J<<6|ne.getMinutes(),J=J<<5|ne.getSeconds()>>>1,j.write_shift(2,J);var Z=ne.getFullYear()-1980;Z=Z<<4|ne.getMonth()+1,Z=Z<<5|ne.getDate(),j.write_shift(2,Z)}function o(j){var ne=j.read_shift(2)&65535,J=j.read_shift(2)&65535,Z=new Date,te=J&31;J>>>=5;var ie=J&15;J>>>=4,Z.setMilliseconds(0),Z.setFullYear(J+1980),Z.setMonth(ie-1),Z.setDate(te);var ve=ne&31;ne>>>=5;var De=ne&63;return ne>>>=6,Z.setHours(ne),Z.setMinutes(De),Z.setSeconds(ve<<1),Z}function l(j){lr(j,0);for(var ne={},J=0;j.l<=j.length-4;){var Z=j.read_shift(2),te=j.read_shift(2),ie=j.l+te,ve={};switch(Z){case 21589:J=j.read_shift(1),J&1&&(ve.mtime=j.read_shift(4)),te>5&&(J&2&&(ve.atime=j.read_shift(4)),J&4&&(ve.ctime=j.read_shift(4))),ve.mtime&&(ve.mt=new Date(ve.mtime*1e3));break}j.l=ie,ne[Z]=ve}return ne}var f;function c(){return f||(f={})}function d(j,ne){if(j[0]==80&&j[1]==75)return Qr(j,ne);if((j[0]|32)==109&&(j[1]|32)==105)return qs(j,ne);if(j.length<512)throw new Error("CFB file size "+j.length+" < 512");var J=3,Z=512,te=0,ie=0,ve=0,De=0,_e=0,be=[],Ee=j.slice(0,512);lr(Ee,0);var Be=g(Ee);switch(J=Be[0],J){case 3:Z=512;break;case 4:Z=4096;break;case 0:if(Be[1]==0)return Qr(j,ne);default:throw new Error("Major Version: Expected 3 or 4 saw "+J)}Z!==512&&(Ee=j.slice(0,Z),lr(Ee,28));var ze=j.slice(0,Z);p(Ee,J);var Ye=Ee.read_shift(4,"i");if(J===3&&Ye!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ye);Ee.l+=4,ve=Ee.read_shift(4,"i"),Ee.l+=4,Ee.chk("00100000","Mini Stream Cutoff Size: "),De=Ee.read_shift(4,"i"),te=Ee.read_shift(4,"i"),_e=Ee.read_shift(4,"i"),ie=Ee.read_shift(4,"i");for(var Ve=-1,$e=0;$e<109&&(Ve=Ee.read_shift(4,"i"),!(Ve<0));++$e)be[$e]=Ve;var Ze=x(j,Z);C(_e,ie,Ze,Z,be);var Xt=D(Ze,ve,be,Z);Xt[ve].name="!Directory",te>0&&De!==q&&(Xt[De].name="!MiniFAT"),Xt[be[0]].name="!FAT",Xt.fat_addrs=be,Xt.ssz=Z;var Jt={},cn=[],pr=[],Oi=[];A(ve,Xt,Ze,cn,te,Jt,pr,De),_(pr,Oi,cn),cn.shift();var Fi={FileIndex:pr,FullPaths:Oi};return ne&&ne.raw&&(Fi.raw={header:ze,sectors:Ze}),Fi}function g(j){if(j[j.l]==80&&j[j.l+1]==75)return[0,0];j.chk(ce,"Header Signature: "),j.l+=16;var ne=j.read_shift(2,"u");return[j.read_shift(2,"u"),ne]}function p(j,ne){var J=9;switch(j.l+=2,J=j.read_shift(2)){case 9:if(ne!=3)throw new Error("Sector Shift: Expected 9 saw "+J);break;case 12:if(ne!=4)throw new Error("Sector Shift: Expected 12 saw "+J);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+J)}j.chk("0600","Mini Sector Shift: "),j.chk("000000000000","Reserved: ")}function x(j,ne){for(var J=Math.ceil(j.length/ne)-1,Z=[],te=1;te<J;++te)Z[te-1]=j.slice(te*ne,(te+1)*ne);return Z[J-1]=j.slice(J*ne),Z}function _(j,ne,J){for(var Z=0,te=0,ie=0,ve=0,De=0,_e=J.length,be=[],Ee=[];Z<_e;++Z)be[Z]=Ee[Z]=Z,ne[Z]=J[Z];for(;De<Ee.length;++De)Z=Ee[De],te=j[Z].L,ie=j[Z].R,ve=j[Z].C,be[Z]===Z&&(te!==-1&&be[te]!==te&&(be[Z]=be[te]),ie!==-1&&be[ie]!==ie&&(be[Z]=be[ie])),ve!==-1&&(be[ve]=Z),te!==-1&&Z!=be[Z]&&(be[te]=be[Z],Ee.lastIndexOf(te)<De&&Ee.push(te)),ie!==-1&&Z!=be[Z]&&(be[ie]=be[Z],Ee.lastIndexOf(ie)<De&&Ee.push(ie));for(Z=1;Z<_e;++Z)be[Z]===Z&&(ie!==-1&&be[ie]!==ie?be[Z]=be[ie]:te!==-1&&be[te]!==te&&(be[Z]=be[te]));for(Z=1;Z<_e;++Z)if(j[Z].type!==0){if(De=Z,De!=be[De])do De=be[De],ne[Z]=ne[De]+"/"+ne[Z];while(De!==0&&be[De]!==-1&&De!=be[De]);be[Z]=-1}for(ne[0]+="/",Z=1;Z<_e;++Z)j[Z].type!==2&&(ne[Z]+="/")}function b(j,ne,J){for(var Z=j.start,te=j.size,ie=[],ve=Z;J&&te>0&&ve>=0;)ie.push(ne.slice(ve*F,ve*F+F)),te-=F,ve=_u(J,ve*4);return ie.length===0?Wn(0):ho(ie).slice(0,j.size)}function C(j,ne,J,Z,te){var ie=q;if(j===q){if(ne!==0)throw new Error("DIFAT chain shorter than expected")}else if(j!==-1){var ve=J[j],De=(Z>>>2)-1;if(!ve)return;for(var _e=0;_e<De&&(ie=_u(ve,_e*4))!==q;++_e)te.push(ie);C(_u(ve,Z-4),ne-1,J,Z,te)}}function I(j,ne,J,Z,te){var ie=[],ve=[];te||(te=[]);var De=Z-1,_e=0,be=0;for(_e=ne;_e>=0;){te[_e]=!0,ie[ie.length]=_e,ve.push(j[_e]);var Ee=J[Math.floor(_e*4/Z)];if(be=_e*4&De,Z<4+be)throw new Error("FAT boundary crossed: "+_e+" 4 "+Z);if(!j[Ee])break;_e=_u(j[Ee],be)}return{nodes:ie,data:aS([ve])}}function D(j,ne,J,Z){var te=j.length,ie=[],ve=[],De=[],_e=[],be=Z-1,Ee=0,Be=0,ze=0,Ye=0;for(Ee=0;Ee<te;++Ee)if(De=[],ze=Ee+ne,ze>=te&&(ze-=te),!ve[ze]){_e=[];var Ve=[];for(Be=ze;Be>=0;){Ve[Be]=!0,ve[Be]=!0,De[De.length]=Be,_e.push(j[Be]);var $e=J[Math.floor(Be*4/Z)];if(Ye=Be*4&be,Z<4+Ye)throw new Error("FAT boundary crossed: "+Be+" 4 "+Z);if(!j[$e]||(Be=_u(j[$e],Ye),Ve[Be]))break}ie[ze]={nodes:De,data:aS([_e])}}return ie}function A(j,ne,J,Z,te,ie,ve,De){for(var _e=0,be=Z.length?2:0,Ee=ne[j].data,Be=0,ze=0,Ye;Be<Ee.length;Be+=128){var Ve=Ee.slice(Be,Be+128);lr(Ve,64),ze=Ve.read_shift(2),Ye=qv(Ve,0,ze-be),Z.push(Ye);var $e={name:Ye,type:Ve.read_shift(1),color:Ve.read_shift(1),L:Ve.read_shift(4,"i"),R:Ve.read_shift(4,"i"),C:Ve.read_shift(4,"i"),clsid:Ve.read_shift(16),state:Ve.read_shift(4,"i"),start:0,size:0},Ze=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);Ze!==0&&($e.ct=P(Ve,Ve.l-8));var Xt=Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2)+Ve.read_shift(2);Xt!==0&&($e.mt=P(Ve,Ve.l-8)),$e.start=Ve.read_shift(4,"i"),$e.size=Ve.read_shift(4,"i"),$e.size<0&&$e.start<0&&($e.size=$e.type=0,$e.start=q,$e.name=""),$e.type===5?(_e=$e.start,te>0&&_e!==q&&(ne[_e].name="!StreamData")):$e.size>=4096?($e.storage="fat",ne[$e.start]===void 0&&(ne[$e.start]=I(J,$e.start,ne.fat_addrs,ne.ssz)),ne[$e.start].name=$e.name,$e.content=ne[$e.start].data.slice(0,$e.size)):($e.storage="minifat",$e.size<0?$e.size=0:_e!==q&&$e.start!==q&&ne[_e]&&($e.content=b($e,ne[_e].data,(ne[De]||{}).data))),$e.content&&lr($e.content,0),ie[Ye]=$e,ve.push($e)}}function P(j,ne){return new Date((li(j,ne+4)/1e7*Math.pow(2,32)+li(j,ne)/1e7-11644473600)*1e3)}function M(j,ne){return c(),d(f.readFileSync(j),ne)}function U(j,ne){var J=ne&&ne.type;switch(J||Pt&&Buffer.isBuffer(j)&&(J="buffer"),J||"base64"){case"file":return M(j,ne);case"base64":return d(es(di(j)),ne);case"binary":return d(es(j),ne)}return d(j,ne)}function N(j,ne){var J=ne||{},Z=J.root||"Root Entry";if(j.FullPaths||(j.FullPaths=[]),j.FileIndex||(j.FileIndex=[]),j.FullPaths.length!==j.FileIndex.length)throw new Error("inconsistent CFB structure");j.FullPaths.length===0&&(j.FullPaths[0]=Z+"/",j.FileIndex[0]={name:Z,type:5}),J.CLSID&&(j.FileIndex[0].clsid=J.CLSID),k(j)}function k(j){var ne="Sh33tJ5";if(!Ot.find(j,"/"+ne)){var J=Wn(4);J[0]=55,J[1]=J[3]=50,J[2]=54,j.FileIndex.push({name:ne,type:2,content:J,size:4,L:69,R:69,C:69}),j.FullPaths.push(j.FullPaths[0]+ne),R(j)}}function R(j,ne){N(j);for(var J=!1,Z=!1,te=j.FullPaths.length-1;te>=0;--te){var ie=j.FileIndex[te];switch(ie.type){case 0:Z?J=!0:(j.FileIndex.pop(),j.FullPaths.pop());break;case 1:case 2:case 5:Z=!0,isNaN(ie.R*ie.L*ie.C)&&(J=!0),ie.R>-1&&ie.L>-1&&ie.R==ie.L&&(J=!0);break;default:J=!0;break}}if(!(!J&&!ne)){var ve=new Date(1987,1,19),De=0,_e=Object.create?Object.create(null):{},be=[];for(te=0;te<j.FullPaths.length;++te)_e[j.FullPaths[te]]=!0,j.FileIndex[te].type!==0&&be.push([j.FullPaths[te],j.FileIndex[te]]);for(te=0;te<be.length;++te){var Ee=r(be[te][0]);Z=_e[Ee],Z||(be.push([Ee,{name:i(Ee).replace("/",""),type:1,clsid:ae,ct:ve,mt:ve,content:null}]),_e[Ee]=!0)}for(be.sort(function(Ye,Ve){return n(Ye[0],Ve[0])}),j.FullPaths=[],j.FileIndex=[],te=0;te<be.length;++te)j.FullPaths[te]=be[te][0],j.FileIndex[te]=be[te][1];for(te=0;te<be.length;++te){var Be=j.FileIndex[te],ze=j.FullPaths[te];if(Be.name=i(ze).replace("/",""),Be.L=Be.R=Be.C=-(Be.color=1),Be.size=Be.content?Be.content.length:0,Be.start=0,Be.clsid=Be.clsid||ae,te===0)Be.C=be.length>1?1:-1,Be.size=0,Be.type=5;else if(ze.slice(-1)=="/"){for(De=te+1;De<be.length&&r(j.FullPaths[De])!=ze;++De);for(Be.C=De>=be.length?-1:De,De=te+1;De<be.length&&r(j.FullPaths[De])!=r(ze);++De);Be.R=De>=be.length?-1:De,Be.type=1}else r(j.FullPaths[te+1]||"")==r(ze)&&(Be.R=te+1),Be.type=2}}}function V(j,ne){var J=ne||{};if(J.fileType=="mad")return Rc(j,J);switch(R(j),J.fileType){case"zip":return bn(j,J)}var Z=(function(Ye){for(var Ve=0,$e=0,Ze=0;Ze<Ye.FileIndex.length;++Ze){var Xt=Ye.FileIndex[Ze];if(Xt.content){var Jt=Xt.content.length;Jt>0&&(Jt<4096?Ve+=Jt+63>>6:$e+=Jt+511>>9)}}for(var cn=Ye.FullPaths.length+3>>2,pr=Ve+7>>3,Oi=Ve+127>>7,Fi=pr+$e+cn+Oi,ei=Fi+127>>7,Ca=ei<=109?0:Math.ceil((ei-109)/127);Fi+ei+Ca+127>>7>ei;)Ca=++ei<=109?0:Math.ceil((ei-109)/127);var mr=[1,Ca,ei,Oi,cn,$e,Ve,0];return Ye.FileIndex[0].size=Ve<<6,mr[7]=(Ye.FileIndex[0].start=mr[0]+mr[1]+mr[2]+mr[3]+mr[4]+mr[5])+(mr[6]+7>>3),mr})(j),te=Wn(Z[7]<<9),ie=0,ve=0;{for(ie=0;ie<8;++ie)te.write_shift(1,oe[ie]);for(ie=0;ie<8;++ie)te.write_shift(2,0);for(te.write_shift(2,62),te.write_shift(2,3),te.write_shift(2,65534),te.write_shift(2,9),te.write_shift(2,6),ie=0;ie<3;++ie)te.write_shift(2,0);for(te.write_shift(4,0),te.write_shift(4,Z[2]),te.write_shift(4,Z[0]+Z[1]+Z[2]+Z[3]-1),te.write_shift(4,0),te.write_shift(4,4096),te.write_shift(4,Z[3]?Z[0]+Z[1]+Z[2]-1:q),te.write_shift(4,Z[3]),te.write_shift(-4,Z[1]?Z[0]-1:q),te.write_shift(4,Z[1]),ie=0;ie<109;++ie)te.write_shift(-4,ie<Z[2]?Z[1]+ie:-1)}if(Z[1])for(ve=0;ve<Z[1];++ve){for(;ie<236+ve*127;++ie)te.write_shift(-4,ie<Z[2]?Z[1]+ie:-1);te.write_shift(-4,ve===Z[1]-1?q:ve+1)}var De=function(Ye){for(ve+=Ye;ie<ve-1;++ie)te.write_shift(-4,ie+1);Ye&&(++ie,te.write_shift(-4,q))};for(ve=ie=0,ve+=Z[1];ie<ve;++ie)te.write_shift(-4,se.DIFSECT);for(ve+=Z[2];ie<ve;++ie)te.write_shift(-4,se.FATSECT);De(Z[3]),De(Z[4]);for(var _e=0,be=0,Ee=j.FileIndex[0];_e<j.FileIndex.length;++_e)Ee=j.FileIndex[_e],Ee.content&&(be=Ee.content.length,!(be<4096)&&(Ee.start=ve,De(be+511>>9)));for(De(Z[6]+7>>3);te.l&511;)te.write_shift(-4,se.ENDOFCHAIN);for(ve=ie=0,_e=0;_e<j.FileIndex.length;++_e)Ee=j.FileIndex[_e],Ee.content&&(be=Ee.content.length,!(!be||be>=4096)&&(Ee.start=ve,De(be+63>>6)));for(;te.l&511;)te.write_shift(-4,se.ENDOFCHAIN);for(ie=0;ie<Z[4]<<2;++ie){var Be=j.FullPaths[ie];if(!Be||Be.length===0){for(_e=0;_e<17;++_e)te.write_shift(4,0);for(_e=0;_e<3;++_e)te.write_shift(4,-1);for(_e=0;_e<12;++_e)te.write_shift(4,0);continue}Ee=j.FileIndex[ie],ie===0&&(Ee.start=Ee.size?Ee.start-1:q);var ze=ie===0&&J.root||Ee.name;if(be=2*(ze.length+1),te.write_shift(64,ze,"utf16le"),te.write_shift(2,be),te.write_shift(1,Ee.type),te.write_shift(1,Ee.color),te.write_shift(-4,Ee.L),te.write_shift(-4,Ee.R),te.write_shift(-4,Ee.C),Ee.clsid)te.write_shift(16,Ee.clsid,"hex");else for(_e=0;_e<4;++_e)te.write_shift(4,0);te.write_shift(4,Ee.state||0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,0),te.write_shift(4,Ee.start),te.write_shift(4,Ee.size),te.write_shift(4,0)}for(ie=1;ie<j.FileIndex.length;++ie)if(Ee=j.FileIndex[ie],Ee.size>=4096)if(te.l=Ee.start+1<<9,Pt&&Buffer.isBuffer(Ee.content))Ee.content.copy(te,te.l,0,Ee.size),te.l+=Ee.size+511&-512;else{for(_e=0;_e<Ee.size;++_e)te.write_shift(1,Ee.content[_e]);for(;_e&511;++_e)te.write_shift(1,0)}for(ie=1;ie<j.FileIndex.length;++ie)if(Ee=j.FileIndex[ie],Ee.size>0&&Ee.size<4096)if(Pt&&Buffer.isBuffer(Ee.content))Ee.content.copy(te,te.l,0,Ee.size),te.l+=Ee.size+63&-64;else{for(_e=0;_e<Ee.size;++_e)te.write_shift(1,Ee.content[_e]);for(;_e&63;++_e)te.write_shift(1,0)}if(Pt)te.l=te.length;else for(;te.l<te.length;)te.write_shift(1,0);return te}function L(j,ne){var J=j.FullPaths.map(function(_e){return _e.toUpperCase()}),Z=J.map(function(_e){var be=_e.split("/");return be[be.length-(_e.slice(-1)=="/"?2:1)]}),te=!1;ne.charCodeAt(0)===47?(te=!0,ne=J[0].slice(0,-1)+ne):te=ne.indexOf("/")!==-1;var ie=ne.toUpperCase(),ve=te===!0?J.indexOf(ie):Z.indexOf(ie);if(ve!==-1)return j.FileIndex[ve];var De=!ie.match(Lf);for(ie=ie.replace(Fr,""),De&&(ie=ie.replace(Lf,"!")),ve=0;ve<J.length;++ve)if((De?J[ve].replace(Lf,"!"):J[ve]).replace(Fr,"")==ie||(De?Z[ve].replace(Lf,"!"):Z[ve]).replace(Fr,"")==ie)return j.FileIndex[ve];return null}var F=64,q=-2,ce="d0cf11e0a1b11ae1",oe=[208,207,17,224,161,177,26,225],ae="00000000000000000000000000000000",se={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:q,FREESECT:-1,HEADER_SIGNATURE:ce,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ae,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function me(j,ne,J){c();var Z=V(j,J);f.writeFileSync(ne,Z)}function X(j){for(var ne=new Array(j.length),J=0;J<j.length;++J)ne[J]=String.fromCharCode(j[J]);return ne.join("")}function ge(j,ne){var J=V(j,ne);switch(ne&&ne.type||"buffer"){case"file":return c(),f.writeFileSync(ne.filename,J),J;case"binary":return typeof J=="string"?J:X(J);case"base64":return Hw(typeof J=="string"?J:X(J));case"buffer":if(Pt)return Buffer.isBuffer(J)?J:Hu(J);case"array":return typeof J=="string"?es(J):J}return J}var G;function z(j){try{var ne=j.InflateRaw,J=new ne;if(J._processChunk(new Uint8Array([3,0]),J._finishFlushFlag),J.bytesRead)G=j;else throw new Error("zlib does not expose bytesRead")}catch(Z){console.error("cannot use native zlib: "+(Z.message||Z))}}function K(j,ne){if(!G)return Vs(j,ne);var J=G.InflateRaw,Z=new J,te=Z._processChunk(j.slice(j.l),Z._finishFlushFlag);return j.l+=Z.bytesRead,te}function ee(j){return G?G.deflateRawSync(j):ht(j)}var re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ke=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Re(j){var ne=(j<<1|j<<11)&139536|(j<<5|j<<15)&558144;return(ne>>16|ne>>8|ne)&255}for(var Ce=typeof Uint8Array<"u",Ne=Ce?new Uint8Array(256):[],he=0;he<256;++he)Ne[he]=Re(he);function Y(j,ne){var J=Ne[j&255];return ne<=8?J>>>8-ne:(J=J<<8|Ne[j>>8&255],ne<=16?J>>>16-ne:(J=J<<8|Ne[j>>16&255],J>>>24-ne))}function Ie(j,ne){var J=ne&7,Z=ne>>>3;return(j[Z]|(J<=6?0:j[Z+1]<<8))>>>J&3}function Fe(j,ne){var J=ne&7,Z=ne>>>3;return(j[Z]|(J<=5?0:j[Z+1]<<8))>>>J&7}function Ke(j,ne){var J=ne&7,Z=ne>>>3;return(j[Z]|(J<=4?0:j[Z+1]<<8))>>>J&15}function qe(j,ne){var J=ne&7,Z=ne>>>3;return(j[Z]|(J<=3?0:j[Z+1]<<8))>>>J&31}function He(j,ne){var J=ne&7,Z=ne>>>3;return(j[Z]|(J<=1?0:j[Z+1]<<8))>>>J&127}function nt(j,ne,J){var Z=ne&7,te=ne>>>3,ie=(1<<J)-1,ve=j[te]>>>Z;return J<8-Z||(ve|=j[te+1]<<8-Z,J<16-Z)||(ve|=j[te+2]<<16-Z,J<24-Z)||(ve|=j[te+3]<<24-Z),ve&ie}function Ge(j,ne,J){var Z=ne&7,te=ne>>>3;return Z<=5?j[te]|=(J&7)<<Z:(j[te]|=J<<Z&255,j[te+1]=(J&7)>>8-Z),ne+3}function We(j,ne,J){var Z=ne&7,te=ne>>>3;return J=(J&1)<<Z,j[te]|=J,ne+1}function Yt(j,ne,J){var Z=ne&7,te=ne>>>3;return J<<=Z,j[te]|=J&255,J>>>=8,j[te+1]=J,ne+8}function ot(j,ne,J){var Z=ne&7,te=ne>>>3;return J<<=Z,j[te]|=J&255,J>>>=8,j[te+1]=J&255,j[te+2]=J>>>8,ne+16}function ut(j,ne){var J=j.length,Z=2*J>ne?2*J:ne+5,te=0;if(J>=ne)return j;if(Pt){var ie=zw(Z);if(j.copy)j.copy(ie);else for(;te<j.length;++te)ie[te]=j[te];return ie}else if(Ce){var ve=new Uint8Array(Z);if(ve.set)ve.set(j);else for(;te<J;++te)ve[te]=j[te];return ve}return j.length=Z,j}function st(j){for(var ne=new Array(j),J=0;J<j;++J)ne[J]=0;return ne}function bt(j,ne,J){var Z=1,te=0,ie=0,ve=0,De=0,_e=j.length,be=Ce?new Uint16Array(32):st(32);for(ie=0;ie<32;++ie)be[ie]=0;for(ie=_e;ie<J;++ie)j[ie]=0;_e=j.length;var Ee=Ce?new Uint16Array(_e):st(_e);for(ie=0;ie<_e;++ie)be[te=j[ie]]++,Z<te&&(Z=te),Ee[ie]=0;for(be[0]=0,ie=1;ie<=Z;++ie)be[ie+16]=De=De+be[ie-1]<<1;for(ie=0;ie<_e;++ie)De=j[ie],De!=0&&(Ee[ie]=be[De+16]++);var Be=0;for(ie=0;ie<_e;++ie)if(Be=j[ie],Be!=0)for(De=Y(Ee[ie],Z)>>Z-Be,ve=(1<<Z+4-Be)-1;ve>=0;--ve)ne[De|ve<<Be]=Be&15|ie<<4;return Z}var dt=Ce?new Uint16Array(512):st(512),tn=Ce?new Uint16Array(32):st(32);if(!Ce){for(var wt=0;wt<512;++wt)dt[wt]=0;for(wt=0;wt<32;++wt)tn[wt]=0}(function(){for(var j=[],ne=0;ne<32;ne++)j.push(5);bt(j,tn,32);var J=[];for(ne=0;ne<=143;ne++)J.push(8);for(;ne<=255;ne++)J.push(9);for(;ne<=279;ne++)J.push(7);for(;ne<=287;ne++)J.push(8);bt(J,dt,288)})();var Pn=(function(){for(var ne=Ce?new Uint8Array(32768):[],J=0,Z=0;J<ke.length-1;++J)for(;Z<ke[J+1];++Z)ne[Z]=J;for(;Z<32768;++Z)ne[Z]=29;var te=Ce?new Uint8Array(259):[];for(J=0,Z=0;J<pe.length-1;++J)for(;Z<pe[J+1];++Z)te[Z]=J;function ie(De,_e){for(var be=0;be<De.length;){var Ee=Math.min(65535,De.length-be),Be=be+Ee==De.length;for(_e.write_shift(1,+Be),_e.write_shift(2,Ee),_e.write_shift(2,~Ee&65535);Ee-- >0;)_e[_e.l++]=De[be++]}return _e.l}function ve(De,_e){for(var be=0,Ee=0,Be=Ce?new Uint16Array(32768):[];Ee<De.length;){var ze=Math.min(65535,De.length-Ee);if(ze<10){for(be=Ge(_e,be,+(Ee+ze==De.length)),be&7&&(be+=8-(be&7)),_e.l=be/8|0,_e.write_shift(2,ze),_e.write_shift(2,~ze&65535);ze-- >0;)_e[_e.l++]=De[Ee++];be=_e.l*8;continue}be=Ge(_e,be,+(Ee+ze==De.length)+2);for(var Ye=0;ze-- >0;){var Ve=De[Ee];Ye=(Ye<<5^Ve)&32767;var $e=-1,Ze=0;if(($e=Be[Ye])&&($e|=Ee&-32768,$e>Ee&&($e-=32768),$e<Ee))for(;De[$e+Ze]==De[Ee+Ze]&&Ze<250;)++Ze;if(Ze>2){Ve=te[Ze],Ve<=22?be=Yt(_e,be,Ne[Ve+1]>>1)-1:(Yt(_e,be,3),be+=5,Yt(_e,be,Ne[Ve-23]>>5),be+=3);var Xt=Ve<8?0:Ve-4>>2;Xt>0&&(ot(_e,be,Ze-pe[Ve]),be+=Xt),Ve=ne[Ee-$e],be=Yt(_e,be,Ne[Ve]>>3),be-=3;var Jt=Ve<4?0:Ve-2>>1;Jt>0&&(ot(_e,be,Ee-$e-ke[Ve]),be+=Jt);for(var cn=0;cn<Ze;++cn)Be[Ye]=Ee&32767,Ye=(Ye<<5^De[Ee])&32767,++Ee;ze-=Ze-1}else Ve<=143?Ve=Ve+48:be=We(_e,be,1),be=Yt(_e,be,Ne[Ve]),Be[Ye]=Ee&32767,++Ee}be=Yt(_e,be,0)-1}return _e.l=(be+7)/8|0,_e.l}return function(_e,be){return _e.length<8?ie(_e,be):ve(_e,be)}})();function ht(j){var ne=Wn(50+Math.floor(j.length*1.1)),J=Pn(j,ne);return ne.slice(0,J)}var Ut=Ce?new Uint16Array(32768):st(32768),nn=Ce?new Uint16Array(32768):st(32768),St=Ce?new Uint16Array(128):st(128),rn=1,kr=1;function Tn(j,ne){var J=qe(j,ne)+257;ne+=5;var Z=qe(j,ne)+1;ne+=5;var te=Ke(j,ne)+4;ne+=4;for(var ie=0,ve=Ce?new Uint8Array(19):st(19),De=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_e=1,be=Ce?new Uint8Array(8):st(8),Ee=Ce?new Uint8Array(8):st(8),Be=ve.length,ze=0;ze<te;++ze)ve[re[ze]]=ie=Fe(j,ne),_e<ie&&(_e=ie),be[ie]++,ne+=3;var Ye=0;for(be[0]=0,ze=1;ze<=_e;++ze)Ee[ze]=Ye=Ye+be[ze-1]<<1;for(ze=0;ze<Be;++ze)(Ye=ve[ze])!=0&&(De[ze]=Ee[Ye]++);var Ve=0;for(ze=0;ze<Be;++ze)if(Ve=ve[ze],Ve!=0){Ye=Ne[De[ze]]>>8-Ve;for(var $e=(1<<7-Ve)-1;$e>=0;--$e)St[Ye|$e<<Ve]=Ve&7|ze<<3}var Ze=[];for(_e=1;Ze.length<J+Z;)switch(Ye=St[He(j,ne)],ne+=Ye&7,Ye>>>=3){case 16:for(ie=3+Ie(j,ne),ne+=2,Ye=Ze[Ze.length-1];ie-- >0;)Ze.push(Ye);break;case 17:for(ie=3+Fe(j,ne),ne+=3;ie-- >0;)Ze.push(0);break;case 18:for(ie=11+He(j,ne),ne+=7;ie-- >0;)Ze.push(0);break;default:Ze.push(Ye),_e<Ye&&(_e=Ye);break}var Xt=Ze.slice(0,J),Jt=Ze.slice(J);for(ze=J;ze<286;++ze)Xt[ze]=0;for(ze=Z;ze<30;++ze)Jt[ze]=0;return rn=bt(Xt,Ut,286),kr=bt(Jt,nn,30),ne}function Ju(j,ne){if(j[0]==3&&!(j[1]&3))return[Po(ne),2];for(var J=0,Z=0,te=zw(ne||1<<18),ie=0,ve=te.length>>>0,De=0,_e=0;(Z&1)==0;){if(Z=Fe(j,J),J+=3,Z>>>1)Z>>1==1?(De=9,_e=5):(J=Tn(j,J),De=rn,_e=kr);else{J&7&&(J+=8-(J&7));var be=j[J>>>3]|j[(J>>>3)+1]<<8;if(J+=32,be>0)for(!ne&&ve<ie+be&&(te=ut(te,ie+be),ve=te.length);be-- >0;)te[ie++]=j[J>>>3],J+=8;continue}for(;;){!ne&&ve<ie+32767&&(te=ut(te,ie+32767),ve=te.length);var Ee=nt(j,J,De),Be=Z>>>1==1?dt[Ee]:Ut[Ee];if(J+=Be&15,Be>>>=4,(Be>>>8&255)===0)te[ie++]=Be;else{if(Be==256)break;Be-=257;var ze=Be<8?0:Be-4>>2;ze>5&&(ze=0);var Ye=ie+pe[Be];ze>0&&(Ye+=nt(j,J,ze),J+=ze),Ee=nt(j,J,_e),Be=Z>>>1==1?tn[Ee]:nn[Ee],J+=Be&15,Be>>>=4;var Ve=Be<4?0:Be-2>>1,$e=ke[Be];for(Ve>0&&($e+=nt(j,J,Ve),J+=Ve),!ne&&ve<Ye&&(te=ut(te,Ye+100),ve=te.length);ie<Ye;)te[ie]=te[ie-$e],++ie}}}return ne?[te,J+7>>>3]:[te.slice(0,ie),J+7>>>3]}function Vs(j,ne){var J=j.slice(j.l||0),Z=Ju(J,ne);return j.l+=Z[1],Z[0]}function Go(j,ne){if(j)typeof console<"u"&&console.error(ne);else throw new Error(ne)}function Qr(j,ne){var J=j;lr(J,0);var Z=[],te=[],ie={FileIndex:Z,FullPaths:te};N(ie,{root:ne.root});for(var ve=J.length-4;(J[ve]!=80||J[ve+1]!=75||J[ve+2]!=5||J[ve+3]!=6)&&ve>=0;)--ve;J.l=ve+4,J.l+=4;var De=J.read_shift(2);J.l+=6;var _e=J.read_shift(4);for(J.l=_e,ve=0;ve<De;++ve){J.l+=20;var be=J.read_shift(4),Ee=J.read_shift(4),Be=J.read_shift(2),ze=J.read_shift(2),Ye=J.read_shift(2);J.l+=8;var Ve=J.read_shift(4),$e=l(J.slice(J.l+Be,J.l+Be+ze));J.l+=Be+ze+Ye;var Ze=J.l;J.l=Ve+4,Bs(J,be,Ee,ie,$e),J.l=Ze}return ie}function Bs(j,ne,J,Z,te){j.l+=2;var ie=j.read_shift(2),ve=j.read_shift(2),De=o(j);if(ie&8257)throw new Error("Unsupported ZIP encryption");for(var _e=j.read_shift(4),be=j.read_shift(4),Ee=j.read_shift(4),Be=j.read_shift(2),ze=j.read_shift(2),Ye="",Ve=0;Ve<Be;++Ve)Ye+=String.fromCharCode(j[j.l++]);if(ze){var $e=l(j.slice(j.l,j.l+ze));($e[21589]||{}).mt&&(De=$e[21589].mt),((te||{})[21589]||{}).mt&&(De=te[21589].mt)}j.l+=ze;var Ze=j.slice(j.l,j.l+be);switch(ve){case 8:Ze=K(j,Ee);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ve)}var Xt=!1;ie&8&&(_e=j.read_shift(4),_e==134695760&&(_e=j.read_shift(4),Xt=!0),be=j.read_shift(4),Ee=j.read_shift(4)),be!=ne&&Go(Xt,"Bad compressed size: "+ne+" != "+be),Ee!=J&&Go(Xt,"Bad uncompressed size: "+J+" != "+Ee),zs(Z,Ye,Ze,{unsafe:!0,mt:De})}function bn(j,ne){var J=ne||{},Z=[],te=[],ie=Wn(1),ve=J.compression?8:0,De=0,_e=0,be=0,Ee=0,Be=0,ze=j.FullPaths[0],Ye=ze,Ve=j.FileIndex[0],$e=[],Ze=0;for(_e=1;_e<j.FullPaths.length;++_e)if(Ye=j.FullPaths[_e].slice(ze.length),Ve=j.FileIndex[_e],!(!Ve.size||!Ve.content||Ye=="Sh33tJ5")){var Xt=Ee,Jt=Wn(Ye.length);for(be=0;be<Ye.length;++be)Jt.write_shift(1,Ye.charCodeAt(be)&127);Jt=Jt.slice(0,Jt.l),$e[Be]=s7.buf(Ve.content,0);var cn=Ve.content;ve==8&&(cn=ee(cn)),ie=Wn(30),ie.write_shift(4,67324752),ie.write_shift(2,20),ie.write_shift(2,De),ie.write_shift(2,ve),Ve.mt?s(ie,Ve.mt):ie.write_shift(4,0),ie.write_shift(-4,$e[Be]),ie.write_shift(4,cn.length),ie.write_shift(4,Ve.content.length),ie.write_shift(2,Jt.length),ie.write_shift(2,0),Ee+=ie.length,Z.push(ie),Ee+=Jt.length,Z.push(Jt),Ee+=cn.length,Z.push(cn),ie=Wn(46),ie.write_shift(4,33639248),ie.write_shift(2,0),ie.write_shift(2,20),ie.write_shift(2,De),ie.write_shift(2,ve),ie.write_shift(4,0),ie.write_shift(-4,$e[Be]),ie.write_shift(4,cn.length),ie.write_shift(4,Ve.content.length),ie.write_shift(2,Jt.length),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(4,0),ie.write_shift(4,Xt),Ze+=ie.l,te.push(ie),Ze+=Jt.length,te.push(Jt),++Be}return ie=Wn(22),ie.write_shift(4,101010256),ie.write_shift(2,0),ie.write_shift(2,0),ie.write_shift(2,Be),ie.write_shift(2,Be),ie.write_shift(4,Ze),ie.write_shift(4,Ee),ie.write_shift(2,0),ho([ho(Z),ho(te),ie])}var Rr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function pi(j,ne){if(j.ctype)return j.ctype;var J=j.name||"",Z=J.match(/\.([^\.]+)$/);return Z&&Rr[Z[1]]||ne&&(Z=(J=ne).match(/[\.\\]([^\.\\])+$/),Z&&Rr[Z[1]])?Rr[Z[1]]:"application/octet-stream"}function Zr(j){for(var ne=Hw(j),J=[],Z=0;Z<ne.length;Z+=76)J.push(ne.slice(Z,Z+76));return J.join(`\r
     `)+`\r
    -`}function Ic(G){var ne=G.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Te){var _e=Te.charCodeAt(0).toString(16).toUpperCase();return"="+(_e.length==1?"0"+_e:_e)});ne=ne.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ne.charAt(0)==`
    +`}function kc(j){var ne=j.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(be){var Ee=be.charCodeAt(0).toString(16).toUpperCase();return"="+(Ee.length==1?"0"+Ee:Ee)});ne=ne.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ne.charAt(0)==`
     `&&(ne="=0D"+ne.slice(1)),ne=ne.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
    -=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var X=[],Z=ne.split(`\r
    -`),te=0;te<Z.length;++te){var ie=Z[te];if(ie.length==0){X.push("");continue}for(var xe=0;xe<ie.length;){var De=76,ye=ie.slice(xe,xe+De);ye.charAt(De-1)=="="?De--:ye.charAt(De-2)=="="?De-=2:ye.charAt(De-3)=="="&&(De-=3),ye=ie.slice(xe,xe+De),xe+=De,xe<ie.length&&(ye+="="),X.push(ye)}}return X.join(`\r
    -`)}function Xu(G){for(var ne=[],X=0;X<G.length;++X){for(var Z=G[X];X<=G.length&&Z.charAt(Z.length-1)=="=";)Z=Z.slice(0,Z.length-1)+G[++X];ne.push(Z)}for(var te=0;te<ne.length;++te)ne[te]=ne[te].replace(/[=][0-9A-Fa-f]{2}/g,function(ie){return String.fromCharCode(parseInt(ie.slice(1),16))});return es(ne.join(`\r
    -`))}function mi(G,ne,X){for(var Z="",te="",ie="",xe,De=0;De<10;++De){var ye=ne[De];if(!ye||ye.match(/^\s*$/))break;var Te=ye.match(/^(.*?):\s*([^\s].*)$/);if(Te)switch(Te[1].toLowerCase()){case"content-location":Z=Te[2].trim();break;case"content-type":ie=Te[2].trim();break;case"content-transfer-encoding":te=Te[2].trim();break}}switch(++De,te.toLowerCase()){case"base64":xe=es(di(ne.slice(De).join("")));break;case"quoted-printable":xe=Xu(ne.slice(De));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+te)}var _e=Hs(G,Z.slice(X.length),xe,{unsafe:!0});ie&&(_e.ctype=ie)}function Bs(G,ne){if(J(G.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var X=ne&&ne.root||"",Z=(Pt&&Buffer.isBuffer(G)?G.toString("binary"):J(G)).split(`\r
    -`),te=0,ie="";for(te=0;te<Z.length;++te)if(ie=Z[te],!!/^Content-Location:/i.test(ie)&&(ie=ie.slice(ie.indexOf("file")),X||(X=ie.slice(0,ie.lastIndexOf("/")+1)),ie.slice(0,X.length)!=X))for(;X.length>0&&(X=X.slice(0,X.length-1),X=X.slice(0,X.lastIndexOf("/")+1),ie.slice(0,X.length)!=X););var xe=(Z[1]||"").match(/boundary="(.*?)"/);if(!xe)throw new Error("MAD cannot find boundary");var De="--"+(xe[1]||""),ye=[],Te=[],_e={FileIndex:ye,FullPaths:Te};N(_e);var Be,ze=0;for(te=0;te<Z.length;++te){var Ye=Z[te];Ye!==De&&Ye!==De+"--"||(ze++&&mi(_e,Z.slice(Be,te),X),Be=te)}return _e}function kc(G,ne){var X=ne||{},Z=X.boundary||"SheetJS";Z="------="+Z;for(var te=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Z.slice(2)+'"',"","",""],ie=G.FullPaths[0],xe=ie,De=G.FileIndex[0],ye=1;ye<G.FullPaths.length;++ye)if(xe=G.FullPaths[ye].slice(ie.length),De=G.FileIndex[ye],!(!De.size||!De.content||xe=="Sh33tJ5")){xe=xe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ze){return"_x"+Ze.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ze){return"_u"+Ze.charCodeAt(0).toString(16)+"_"});for(var Te=De.content,_e=Pt&&Buffer.isBuffer(Te)?Te.toString("binary"):J(Te),Be=0,ze=Math.min(1024,_e.length),Ye=0,Ve=0;Ve<=ze;++Ve)(Ye=_e.charCodeAt(Ve))>=32&&Ye<128&&++Be;var $e=Be>=ze*4/5;te.push(Z),te.push("Content-Location: "+(X.root||"file:///C:/SheetJS/")+xe),te.push("Content-Transfer-Encoding: "+($e?"quoted-printable":"base64")),te.push("Content-Type: "+pi(De,xe)),te.push(""),te.push($e?Ic(_e):Zr(_e))}return te.push(Z+`--\r
    +=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var J=[],Z=ne.split(`\r
    +`),te=0;te<Z.length;++te){var ie=Z[te];if(ie.length==0){J.push("");continue}for(var ve=0;ve<ie.length;){var De=76,_e=ie.slice(ve,ve+De);_e.charAt(De-1)=="="?De--:_e.charAt(De-2)=="="?De-=2:_e.charAt(De-3)=="="&&(De-=3),_e=ie.slice(ve,ve+De),ve+=De,ve<ie.length&&(_e+="="),J.push(_e)}}return J.join(`\r
    +`)}function Qu(j){for(var ne=[],J=0;J<j.length;++J){for(var Z=j[J];J<=j.length&&Z.charAt(Z.length-1)=="=";)Z=Z.slice(0,Z.length-1)+j[++J];ne.push(Z)}for(var te=0;te<ne.length;++te)ne[te]=ne[te].replace(/[=][0-9A-Fa-f]{2}/g,function(ie){return String.fromCharCode(parseInt(ie.slice(1),16))});return es(ne.join(`\r
    +`))}function mi(j,ne,J){for(var Z="",te="",ie="",ve,De=0;De<10;++De){var _e=ne[De];if(!_e||_e.match(/^\s*$/))break;var be=_e.match(/^(.*?):\s*([^\s].*)$/);if(be)switch(be[1].toLowerCase()){case"content-location":Z=be[2].trim();break;case"content-type":ie=be[2].trim();break;case"content-transfer-encoding":te=be[2].trim();break}}switch(++De,te.toLowerCase()){case"base64":ve=es(di(ne.slice(De).join("")));break;case"quoted-printable":ve=Qu(ne.slice(De));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+te)}var Ee=zs(j,Z.slice(J.length),ve,{unsafe:!0});ie&&(Ee.ctype=ie)}function qs(j,ne){if(X(j.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var J=ne&&ne.root||"",Z=(Pt&&Buffer.isBuffer(j)?j.toString("binary"):X(j)).split(`\r
    +`),te=0,ie="";for(te=0;te<Z.length;++te)if(ie=Z[te],!!/^Content-Location:/i.test(ie)&&(ie=ie.slice(ie.indexOf("file")),J||(J=ie.slice(0,ie.lastIndexOf("/")+1)),ie.slice(0,J.length)!=J))for(;J.length>0&&(J=J.slice(0,J.length-1),J=J.slice(0,J.lastIndexOf("/")+1),ie.slice(0,J.length)!=J););var ve=(Z[1]||"").match(/boundary="(.*?)"/);if(!ve)throw new Error("MAD cannot find boundary");var De="--"+(ve[1]||""),_e=[],be=[],Ee={FileIndex:_e,FullPaths:be};N(Ee);var Be,ze=0;for(te=0;te<Z.length;++te){var Ye=Z[te];Ye!==De&&Ye!==De+"--"||(ze++&&mi(Ee,Z.slice(Be,te),J),Be=te)}return Ee}function Rc(j,ne){var J=ne||{},Z=J.boundary||"SheetJS";Z="------="+Z;for(var te=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Z.slice(2)+'"',"","",""],ie=j.FullPaths[0],ve=ie,De=j.FileIndex[0],_e=1;_e<j.FullPaths.length;++_e)if(ve=j.FullPaths[_e].slice(ie.length),De=j.FileIndex[_e],!(!De.size||!De.content||ve=="Sh33tJ5")){ve=ve.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ze){return"_x"+Ze.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ze){return"_u"+Ze.charCodeAt(0).toString(16)+"_"});for(var be=De.content,Ee=Pt&&Buffer.isBuffer(be)?be.toString("binary"):X(be),Be=0,ze=Math.min(1024,Ee.length),Ye=0,Ve=0;Ve<=ze;++Ve)(Ye=Ee.charCodeAt(Ve))>=32&&Ye<128&&++Be;var $e=Be>=ze*4/5;te.push(Z),te.push("Content-Location: "+(J.root||"file:///C:/SheetJS/")+ve),te.push("Content-Transfer-Encoding: "+($e?"quoted-printable":"base64")),te.push("Content-Type: "+pi(De,ve)),te.push(""),te.push($e?kc(Ee):Zr(Ee))}return te.push(Z+`--\r
     `),te.join(`\r
    -`)}function qs(G){var ne={};return N(ne,G),ne}function Hs(G,ne,X,Z){var te=Z&&Z.unsafe;te||N(G);var ie=!te&&Ot.find(G,ne);if(!ie){var xe=G.FullPaths[0];ne.slice(0,xe.length)==xe?xe=ne:(xe.slice(-1)!="/"&&(xe+="/"),xe=(xe+ne).replace("//","/")),ie={name:i(ne),type:2},G.FileIndex.push(ie),G.FullPaths.push(xe),te||Ot.utils.cfb_gc(G)}return ie.content=X,ie.size=X?X.length:0,Z&&(Z.CLSID&&(ie.clsid=Z.CLSID),Z.mt&&(ie.mt=Z.mt),Z.ct&&(ie.ct=Z.ct)),ie}function Go(G,ne){N(G);var X=Ot.find(G,ne);if(X){for(var Z=0;Z<G.FileIndex.length;++Z)if(G.FileIndex[Z]==X)return G.FileIndex.splice(Z,1),G.FullPaths.splice(Z,1),!0}return!1}function zs(G,ne,X){N(G);var Z=Ot.find(G,ne);if(Z){for(var te=0;te<G.FileIndex.length;++te)if(G.FileIndex[te]==Z)return G.FileIndex[te].name=i(X),G.FullPaths[te]=X,!0}return!1}function Li(G){R(G,!0)}return e.find=L,e.read=V,e.parse=d,e.write=be,e.writeFile=Ce,e.utils={cfb_new:qs,cfb_add:Hs,cfb_del:Go,cfb_mov:zs,cfb_gc:Li,ReadShift:jf,CheckField:L6,prep_blob:lr,bconcat:co,use_zlib:z,_deflateRaw:ht,_inflateRaw:Us,consts:ue},e})();function t7(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function Ds(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function Pv(t){for(var e=[],n=Ds(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}var _p=new Date(1899,11,30,0,0,0);function Ur(t,e){var n=t.getTime(),r=_p.getTime()+(t.getTimezoneOffset()-_p.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var p6=new Date,n7=_p.getTime()+(p6.getTimezoneOffset()-_p.getTimezoneOffset())*6e4,Yw=p6.getTimezoneOffset();function fm(t){var e=new Date;return e.setTime(t*24*60*60*1e3+n7),e.getTimezoneOffset()!==Yw&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Yw)*6e4),e}function r7(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(i[s],10)}return e}var Xw=new Date("2017-02-19T19:06:09.000Z"),m6=isNaN(Xw.getFullYear())?new Date("2/19/17"):Xw,i7=m6.getFullYear()==2017;function nr(t,e){var n=new Date(t);if(i7)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(m6.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Nu(t,e){if(Pt&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return Of(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return Of(t6(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return Of(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return Of(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function fr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=fr(t[n]));return e}function An(t,e){for(var n="";n.length<e;)n+=t;return n}function as(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var s7=["january","february","march","april","may","june","july","august","september","october","november","december"];function cc(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&s7.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var a7=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(t||typeof r=="string")return n.split(r);for(var s=n.split(r),o=[s[0]],l=1;l<s.length;++l)o.push(i),o.push(s[l]);return o}})();function g6(t){return t?t.content&&t.type?Nu(t.content,!0):t.data?Mf(t.data):t.asNodeBuffer&&Pt?Mf(t.asNodeBuffer().toString("binary")):t.asBinary?Mf(t.asBinary()):t._data&&t._data.getContent?Mf(Nu(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function x6(t){if(!t)return null;if(t.data)return Uw(t.data);if(t.asNodeBuffer&&Pt)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?Uw(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function o7(t){return t&&t.name.slice(-4)===".bin"?x6(t):g6(t)}function ki(t,e){for(var n=t.FullPaths||Ds(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var o=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||i==o)return t.files?t.files[n[s]]:t.FileIndex[s]}return null}function Lv(t,e){var n=ki(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function Hn(t,e,n){if(!n)return o7(Lv(t,e));if(!e)return null;try{return Hn(t,e)}catch{return null}}function fi(t,e,n){if(!n)return g6(Lv(t,e));if(!e)return null;try{return fi(t,e)}catch{return null}}function u7(t,e,n){return x6(Lv(t,e))}function Jw(t){for(var e=t.FullPaths||Ds(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function l7(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return Pt?r=Bu(n):r=IF(n),Ot.utils.cfb_add(t,e,r)}Ot.utils.cfb_add(t,e,n)}else t.file(e,n)}function y6(t,e){switch(e.type){case"base64":return Ot.read(t,{type:"base64"});case"binary":return Ot.read(t,{type:"binary"});case"buffer":case"array":return Ot.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Lf(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var v6=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
    -`,c7=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,Qw=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,f7=/<[^>]*>/g,Ir=v6.match(Qw)?Qw:f7,h7=/<\w*:/,d7=/<(\/?)\w+:/;function ft(t,e,n){for(var r={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var o=t.match(c7),l=0,f="",c=0,d="",g="",p=1;if(o)for(c=0;c!=o.length;++c){for(g=o[c],s=0;s!=g.length&&g.charCodeAt(s)!==61;++s);for(d=g.slice(0,s).trim();g.charCodeAt(s+1)==32;)++s;for(p=(i=g.charCodeAt(s+1))==34||i==39?1:0,f=g.slice(s+1+p,g.length-p),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),r[d]=f,r[d.toLowerCase()]=f;else{var x=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(r[x]&&d.slice(l-3,l)=="ext")continue;r[x]=f,r[x.toLowerCase()]=f}}return r}function Os(t){return t.replace(d7,"<$1")}var _6={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},p7=Pv(_6),Vt=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(l,f){return _6[l]||String.fromCharCode(parseInt(f,l.indexOf("x")>-1?16:10))||l}).replace(e,function(l,f){return String.fromCharCode(parseInt(f,16))});var o=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,o)+n(i.slice(o+3))}})(),m7=/[&<>'"]/g,g7=/[\u0000-\u001f]/g;function Ov(t){var e=t+"";return e.replace(m7,function(n){return p7[n]}).replace(/\n/g,"<br/>").replace(g7,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var Zw=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function _n(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function V1(t){for(var e="",n=0,r=0,i=0,s=0,o=0,l=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=t.charCodeAt(n++),l=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function eS(t){var e=Do(2*t.length),n,r,i=1,s=0,o=0,l;for(r=0;r<t.length;r+=i)i=1,(l=t.charCodeAt(r))<128?n=l:l<224?(n=(l&31)*64+(t.charCodeAt(r+1)&63),i=2):l<240?(n=(l&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(l&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function tS(t){return Bu(t,"binary").toString("utf8")}var vd="foo bar baz",dn=Pt&&(tS(vd)==V1(vd)&&tS||eS(vd)==V1(vd)&&eS)||V1,Of=Pt?function(t){return Bu(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},g0=(function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),T6=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
    -`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),x7=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),y7=/<\/?(?:vt:)?variant>/g,v7=/<(?:vt:)([^>]*)>([\s\S]*)</;function nS(t,e){var n=ft(t),r=t.match(x7(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var o=s.replace(y7,"").match(v7);o&&i.push({v:dn(o[2]),t:o[1]})}),i}var _7=/(^\s|\s$|\n)/;function T7(t){return Ds(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function E7(t,e,n){return"<"+t+(n!=null?T7(n):"")+(e!=null?(e.match(_7)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Fv(t){if(Pt&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return dn(qu(Nv(t)));throw new Error("Bad input format: expected Buffer or string")}var x0=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,b7={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},w7=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function S7(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function A7(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=r?-e:e;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var l=0;l<=5;++l,s/=256)t[n+l]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var rS=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},iS=Pt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Bu(e)})):rS(t)}:rS,sS=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(ma(t,i)));return r.join("").replace(Fr,"")},Uv=Pt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(Fr,""):sS(t,e,n)}:sS,aS=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},E6=Pt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):aS(t,e,n)}:aS,oS=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(Bl(t,i)));return r.join("")},F0=Pt?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):oS(e,n,r)}:oS,b6=function(t,e){var n=li(t,e);return n>0?F0(t,e+4,e+4+n-1):""},w6=b6,S6=function(t,e){var n=li(t,e);return n>0?F0(t,e+4,e+4+n-1):""},A6=S6,C6=function(t,e){var n=2*li(t,e);return n>0?F0(t,e+4,e+4+n-1):""},I6=C6,k6=function(e,n){var r=li(e,n);return r>0?Uv(e,n+4,n+4+r):""},R6=k6,N6=function(t,e){var n=li(t,e);return n>0?F0(t,e+4,e+4+n):""},D6=N6,M6=function(t,e){return S7(t,e)},Tp=M6,P6=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Pt&&(w6=function(e,n){if(!Buffer.isBuffer(e))return b6(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},A6=function(e,n){if(!Buffer.isBuffer(e))return S6(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},I6=function(e,n){if(!Buffer.isBuffer(e))return C6(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},R6=function(e,n){if(!Buffer.isBuffer(e))return k6(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},D6=function(e,n){if(!Buffer.isBuffer(e))return N6(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},Tp=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):M6(e,n)},P6=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Bl=function(t,e){return t[e]},ma=function(t,e){return t[e+1]*256+t[e]},C7=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},li=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},vu=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},I7=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function jf(t,e){var n="",r,i,s=[],o,l,f,c;switch(e){case"dbcs":if(c=this.l,Pt&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(f=0;f<t;++f)n+=String.fromCharCode(ma(this,c)),c+=2;t*=2;break;case"utf8":n=F0(this,this.l,this.l+t);break;case"utf16le":t*=2,n=Uv(this,this.l,this.l+t);break;case"wstr":return jf.call(this,t,"dbcs");case"lpstr-ansi":n=w6(this,this.l),t=4+li(this,this.l);break;case"lpstr-cp":n=A6(this,this.l),t=4+li(this,this.l);break;case"lpwstr":n=I6(this,this.l),t=4+2*li(this,this.l);break;case"lpp4":t=4+li(this,this.l),n=R6(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+li(this,this.l),n=D6(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(o=Bl(this,this.l+t++))!==0;)s.push(yd(o));n=s.join("");break;case"_wstr":for(t=0,n="";(o=ma(this,this.l+t))!==0;)s.push(yd(o)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",c=this.l,f=0;f<t;++f){if(this.lens&&this.lens.indexOf(c)!==-1)return o=Bl(this,c),this.l=c+1,l=jf.call(this,t-f,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(yd(ma(this,c))),c+=2}n=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,f=0;f!=t;++f){if(this.lens&&this.lens.indexOf(c)!==-1)return o=Bl(this,c),this.l=c+1,l=jf.call(this,t-f,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(yd(Bl(this,c))),c+=1}n=s.join("");break;default:switch(t){case 1:return r=Bl(this,this.l),this.l++,r;case 2:return r=(e==="i"?C7:ma)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?vu:I7)(this,this.l),this.l+=4,r):(i=li(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=Tp(this,this.l):i=Tp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=E6(this,this.l,t);break}}return this.l+=t,n}var k7=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},R7=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},N7=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function D7(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)N7(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var o=e.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,k7(this,e,this.l);break;case 8:if(r=8,n==="f"){A7(this,e,this.l);break}case 16:break;case-4:r=4,R7(this,e,this.l);break}return this.l+=r,this}function L6(t,e){var n=E6(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function lr(t,e){t.l=e,t.read_shift=jf,t.chk=L6,t.write_shift=D7}function Cr(t,e){t.l+=e}function Wn(t){var e=Do(t);return lr(e,0),e}function wa(t,e,n){if(t){var r,i,s;lr(t,t.l||0);for(var o=t.length,l=0,f=0;t.l<o;){l=t.read_shift(1),l&128&&(l=(l&127)+((t.read_shift(1)&127)<<7));var c=Cp[l]||Cp[65535];for(r=t.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=t.read_shift(1))&127)<<7*i;f=t.l+s;var d=c.f&&c.f(t,s,n);if(t.l=f,e(d,c,l))return}}}function oy(){var t=[],e=Pt?256:2048,n=function(c){var d=Wn(c);return lr(d,0),d},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,e)))},o=function(){return i(),co(t)},l=function(c){i(),r=c,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:l,end:o,_bufs:t}}function $f(t,e,n){var r=fr(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function uS(t,e,n){var r=fr(t);return r.s=$f(r.s,e.s,n),r.e=$f(r.e,e.s,n),r}function Wf(t,e){if(t.cRel&&t.c<0)for(t=fr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=fr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=gt(t);return!t.cRel&&t.cRel!=null&&(n=L7(n)),!t.rRel&&t.rRel!=null&&(n=M7(n)),n}function B1(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Yn(t.s.c)+":"+(t.e.cRel?"":"$")+Yn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+hr(t.s.r)+":"+(t.e.rRel?"":"$")+hr(t.e.r):Wf(t.s,e.biff)+":"+Wf(t.e,e.biff)}function Vv(t){return parseInt(P7(t),10)-1}function hr(t){return""+(t+1)}function M7(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function P7(t){return t.replace(/\$(\d+)$/,"$1")}function Bv(t){for(var e=O7(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Yn(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function L7(t){return t.replace(/^([A-Z])/,"$$$1")}function O7(t){return t.replace(/^\$([A-Z])/,"$1")}function F7(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Lr(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function gt(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function bc(t){var e=t.indexOf(":");return e==-1?{s:Lr(t),e:Lr(t)}:{s:Lr(t.slice(0,e)),e:Lr(t.slice(e+1))}}function Ft(t,e){return typeof e>"u"||typeof e=="number"?Ft(t.s,t.e):(typeof t!="string"&&(t=gt(t)),typeof e!="string"&&(e=gt(e)),t==e?t:t+":"+e)}function In(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function lS(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Mi(t.z,n?Ur(e):e)}catch{}try{return t.w=Mi((t.XF||{}).numFmtId||(n?14:0),n?Ur(e):e)}catch{return""+e}}function ba(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?Gu[t.v]||t.v:e==null?lS(t,t.v):lS(t,e))}function qo(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function O6(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,s=t||(i?[]:{}),o=0,l=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var f=typeof r.origin=="string"?Lr(r.origin):r.origin;o=f.r,l=f.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=In(s["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),o==-1&&(c.e.r=o=d.e.r+1)}for(var g=0;g!=e.length;++g)if(e[g]){if(!Array.isArray(e[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=e[g].length;++p)if(!(typeof e[g][p]>"u")){var x={v:e[g][p]},_=o+g,b=l+p;if(c.s.r>_&&(c.s.r=_),c.s.c>b&&(c.s.c=b),c.e.r<_&&(c.e.r=_),c.e.c<b&&(c.e.c=b),e[g][p]&&typeof e[g][p]=="object"&&!Array.isArray(e[g][p])&&!(e[g][p]instanceof Date))x=e[g][p];else if(Array.isArray(x.v)&&(x.f=e[g][p][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(r.nullError)x.t="e",x.v=0;else if(r.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=r.dateNF||_t[14],r.cellDates?(x.t="d",x.w=Mi(x.z,Ur(x.v))):(x.t="n",x.v=Ur(x.v),x.w=Mi(x.z,x.v))):x.t="s";if(i)s[_]||(s[_]=[]),s[_][b]&&s[_][b].z&&(x.z=s[_][b].z),s[_][b]=x;else{var C=gt({c:b,r:_});s[C]&&s[C].z&&(x.z=s[C].z),s[C]=x}}}return c.s.c<1e7&&(s["!ref"]=Ft(c)),s}function wc(t,e){return O6(null,t,e)}function U7(t){return t.read_shift(4,"i")}function Sr(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function V7(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function qv(t,e){var n=t.l,r=t.read_shift(1),i=Sr(t),s=[],o={t:i,h:i};if((r&1)!==0){for(var l=t.read_shift(4),f=0;f!=l;++f)s.push(V7(t));o.r=s}else o.r=[{ich:0,ifnt:0}];return t.l=n+e,o}var B7=qv;function Pi(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Hu(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var q7=Sr;function Hv(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var H7=Sr,uy=Hv;function zv(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?Tp([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):vu(e,0)>>2;return n?i/100:i}function F6(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var zu=F6;function Er(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function z7(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),o=t.read_shift(1),l=t.read_shift(1),f=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var c=wu[i];c&&(e.rgb=v0(c));break;case 2:e.rgb=v0([o,l,f]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function G7(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function U6(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function j7(t){return U6(t,1)}function $7(t){return U6(t,2)}var Gv=2,Wr=3,_d=11,cS=12,Ep=19,Td=64,W7=65,K7=71,Y7=4108,X7=4126,tr=80,V6=81,J7=[tr,V6],Q7={1:{n:"CodePage",t:Gv},2:{n:"Category",t:tr},3:{n:"PresentationFormat",t:tr},4:{n:"ByteCount",t:Wr},5:{n:"LineCount",t:Wr},6:{n:"ParagraphCount",t:Wr},7:{n:"SlideCount",t:Wr},8:{n:"NoteCount",t:Wr},9:{n:"HiddenCount",t:Wr},10:{n:"MultimediaClipCount",t:Wr},11:{n:"ScaleCrop",t:_d},12:{n:"HeadingPairs",t:Y7},13:{n:"TitlesOfParts",t:X7},14:{n:"Manager",t:tr},15:{n:"Company",t:tr},16:{n:"LinksUpToDate",t:_d},17:{n:"CharacterCount",t:Wr},19:{n:"SharedDoc",t:_d},22:{n:"HyperlinksChanged",t:_d},23:{n:"AppVersion",t:Wr,p:"version"},24:{n:"DigSig",t:W7},26:{n:"ContentType",t:tr},27:{n:"ContentStatus",t:tr},28:{n:"Language",t:tr},29:{n:"Version",t:tr},255:{},2147483648:{n:"Locale",t:Ep},2147483651:{n:"Behavior",t:Ep},1919054434:{}},Z7={1:{n:"CodePage",t:Gv},2:{n:"Title",t:tr},3:{n:"Subject",t:tr},4:{n:"Author",t:tr},5:{n:"Keywords",t:tr},6:{n:"Comments",t:tr},7:{n:"Template",t:tr},8:{n:"LastAuthor",t:tr},9:{n:"RevNumber",t:tr},10:{n:"EditTime",t:Td},11:{n:"LastPrinted",t:Td},12:{n:"CreatedDate",t:Td},13:{n:"ModifiedDate",t:Td},14:{n:"PageCount",t:Wr},15:{n:"WordCount",t:Wr},16:{n:"CharCount",t:Wr},17:{n:"Thumbnail",t:K7},18:{n:"Application",t:tr},19:{n:"DocSecurity",t:Wr},255:{},2147483648:{n:"Locale",t:Ep},2147483651:{n:"Behavior",t:Ep},1919054434:{}},fS={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},eU=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function tU(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var nU=tU([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),wu=fr(nU),Gu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},B6={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},hS={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function rU(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function iU(t){var e=rU();if(!t||!t.match)return e;var n={};if((t.match(Ir)||[]).forEach(function(r){var i=ft(r);switch(i[0].replace(h7,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":e[hS[i.ContentType]]!==void 0&&e[hS[i.ContentType]].push(i.PartName);break}}),e.xmlns!==b7.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}var ql={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function ly(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Kf(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(Ir)||[]).forEach(function(i){var s=ft(i);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var l=s.TargetMode==="External"?s.Target:Lf(s.Target,e);n[l]=o,r[s.Id]=o}}),n["!id"]=r,n}var sU="application/vnd.oasis.opendocument.spreadsheet";function aU(t,e){for(var n=Fv(t),r,i;r=x0.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=ft(r[0],!1),i.path=="/"&&i.type!==sU)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}var Yf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],oU=(function(){for(var t=new Array(Yf.length),e=0;e<Yf.length;++e){var n=Yf[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function q6(t){var e={};t=dn(t);for(var n=0;n<Yf.length;++n){var r=Yf[n],i=t.match(oU[n]);i!=null&&i.length>0&&(e[r[1]]=Vt(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=nr(e[r[1]]))}return e}var uU=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function H6(t,e,n,r){var i=[];if(typeof t=="string")i=nS(t,r);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(d){return{v:d}}));var o=typeof e=="string"?nS(e,r).map(function(d){return d.v}):e,l=0,f=0;if(o.length>0)for(var c=0;c!==i.length;c+=2){switch(f=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=f,n.SheetNames=o.slice(l,l+f);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=f,n.DefinedNames=o.slice(l,l+f);break;case"Charts":case"Diagramme":n.Chartsheets=f,n.ChartNames=o.slice(l,l+f);break}l+=f}}function lU(t,e,n){var r={};return e||(e={}),t=dn(t),uU.forEach(function(i){var s=(t.match(g0(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Vt(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var o=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));o&&o.length>0&&(r[i[1]]=o[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&H6(r.HeadingPairs,r.TitlesOfParts,e,n),e}var cU=/<[^>]+>[^<]*/g;function fU(t,e){var n={},r="",i=t.match(cU);if(i)for(var s=0;s!=i.length;++s){var o=i[s],l=ft(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Vt(l.name);break;case"</property>":r=null;break;default:if(o.indexOf("<vt:")===0){var f=o.split(">"),c=f[0].slice(4),d=f[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[r]=Vt(d);break;case"bool":n[r]=_n(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(d,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(d);break;case"filetime":case"date":n[r]=nr(d);break;case"cy":case"error":n[r]=Vt(d);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",o,c,f)}}else if(o.slice(0,2)!=="</"){if(e.WTF)throw new Error(o)}}}return n}var hU={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},q1;function dU(t,e,n){q1||(q1=Pv(hU)),e=q1[e]||e,t[e]=n}function jv(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function z6(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function G6(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function j6(t,e,n){return e===31?G6(t):z6(t,e,n)}function cy(t,e,n){return j6(t,e,n===!1?0:4)}function pU(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return j6(t,e,0)}function mU(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace(Fr,""),t.l-i&2&&(t.l+=2)}return n}function gU(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(Fr,"");return n}function xU(t){var e=t.l,n=bp(t,V6);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=bp(t,Wr);return[n,r]}function yU(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(xU(t));return n}function dS(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var s=t.read_shift(4),o=t.read_shift(4);r[s]=t.read_shift(o,e===1200?"utf16le":"utf8").replace(Fr,"").replace(Pf,"!"),e===1200&&o%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function $6(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function vU(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function bp(t,e,n){var r=t.read_shift(2),i,s=n||{};if(t.l+=2,e!==cS&&r!==e&&J7.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===cS?r:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return z6(t,r,4).replace(Fr,"");case 31:return G6(t);case 64:return jv(t);case 65:return $6(t);case 71:return vU(t);case 80:return cy(t,r,!s.raw).replace(Fr,"");case 81:return pU(t,r).replace(Fr,"");case 4108:return yU(t);case 4126:case 4127:return r==4127?mU(t):gU(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function pS(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),s=[],o=0,l=0,f=-1,c={};for(o=0;o!=i;++o){var d=t.read_shift(4),g=t.read_shift(4);s[o]=[d,g+n]}s.sort(function(M,A){return M[1]-A[1]});var p={};for(o=0;o!=i;++o){if(t.l!==s[o][1]){var x=!0;if(o>0&&e)switch(e[s[o-1][0]].t){case 2:t.l+2===s[o][1]&&(t.l+=2,x=!1);break;case 80:t.l<=s[o][1]&&(t.l=s[o][1],x=!1);break;case 4108:t.l<=s[o][1]&&(t.l=s[o][1],x=!1);break}if((!e||o==0)&&t.l<=s[o][1]&&(x=!1,t.l=s[o][1]),x)throw new Error("Read Error: Expected address "+s[o][1]+" at "+t.l+" :"+o)}if(e){var _=e[s[o][0]];if(p[_.n]=bp(t,_.t,{raw:!0}),_.p==="version"&&(p[_.n]=String(p[_.n]>>16)+"."+("0000"+String(p[_.n]&65535)).slice(-4)),_.n=="CodePage")switch(p[_.n]){case 0:p[_.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ns(l=p[_.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[_.n])}}else if(s[o][0]===1){if(l=p.CodePage=bp(t,Gv),ns(l),f!==-1){var b=t.l;t.l=s[f][1],c=dS(t,l),t.l=b}}else if(s[o][0]===0){if(l===0){f=o,t.l=s[o+1][1];continue}c=dS(t,l)}else{var C=c[s[o][0]],I;switch(t[t.l]){case 65:t.l+=4,I=$6(t);break;case 30:t.l+=4,I=cy(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,I=cy(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,I=t.read_shift(4,"i");break;case 19:t.l+=4,I=t.read_shift(4);break;case 5:t.l+=4,I=t.read_shift(8,"f");break;case 11:t.l+=4,I=Dn(t,4);break;case 64:t.l+=4,I=nr(jv(t));break;default:throw new Error("unparsed value: "+t[t.l])}p[C]=I}}return t.l=n+r,p}function mS(t,e,n){var r=t.content;if(!r)return{};lr(r,0);var i,s,o,l,f=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),d=r.read_shift(16);if(d!==Ot.utils.consts.HEADER_CLSID&&d!==n)throw new Error("Bad PropertySet CLSID "+d);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),l=r.read_shift(4),i===1&&l!==r.l)throw new Error("Length mismatch: "+l+" !== "+r.l);i===2&&(o=r.read_shift(16),f=r.read_shift(4));var g=pS(r,e),p={SystemIdentifier:c};for(var x in g)p[x]=g[x];if(p.FMTID=s,i===1)return p;if(f-r.l==2&&(r.l+=2),r.l!==f)throw new Error("Length mismatch 2: "+r.l+" !== "+f);var _;try{_=pS(r,null)}catch{}for(x in _)p[x]=_[x];return p.FMTID=[s,o],p}function so(t,e){return t.read_shift(e),null}function _U(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}function Dn(t,e){return t.read_shift(e)===1}function zn(t){return t.read_shift(2,"u")}function W6(t,e){return _U(t,e,zn)}function TU(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function U0(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var o=r?t.read_shift(r,i):"";return o}function EU(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,i=n&8,s=1+(n&1),o=0,l,f={};i&&(o=t.read_shift(2)),r&&(l=t.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",d=e===0?"":t.read_shift(e,c);return i&&(t.l+=4*o),r&&(t.l+=l),f.t=d,i||(f.raw="<t>"+f.t+"</t>",f.r=f.t),f}function Du(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function V0(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):Du(t,r,n)}function ju(t,e,n){if(n.biff>5)return V0(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function bU(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function wU(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace(Fr,"");return r&&(t.l+=24),i}function SU(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=t.read_shift(s>>1,"utf16le").replace(Fr,"");return n+o}function AU(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return wU(t);case"0303000000000000c000000000000046":return SU(t);default:throw new Error("Unsupported Moniker "+n)}}function Ed(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(Fr,""):"";return n}function CU(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var s,o,l,f,c="",d,g;i&16&&(s=Ed(t,n-t.l)),i&128&&(o=Ed(t,n-t.l)),(i&257)===257&&(l=Ed(t,n-t.l)),(i&257)===1&&(f=AU(t,n-t.l)),i&8&&(c=Ed(t,n-t.l)),i&32&&(d=t.read_shift(16)),i&64&&(g=jv(t)),t.l=n;var p=o||l||f||"";p&&c&&(p+="#"+c),p||(p="#"+c),i&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var x={Target:p};return d&&(x.guid=d),g&&(x.time=g),s&&(x.Tooltip=s),x}function K6(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),i=t.read_shift(1);return[e,n,r,i]}function Y6(t,e){var n=K6(t);return n[3]=0,n}function Fs(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function IU(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function kU(t,e,n){return e===0?"":ju(t,e,n)}function RU(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),o=t.read_shift(r,"i");return[i,s,o]}function X6(t){var e=t.read_shift(2),n=zv(t);return[e,n]}function NU(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=U0(t,e,n),s=t.read_shift(2);if(r-=t.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return t.l+=s,i}function hm(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function J6(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),i=t.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:n}}}var DU=J6;function Q6(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function MU(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function PU(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function yr(t){t.l+=2,t.l+=t.read_shift(2)}var LU={0:yr,4:yr,5:yr,6:yr,7:PU,8:yr,9:yr,10:yr,11:yr,12:yr,13:MU,14:yr,15:yr,16:yr,17:yr,18:yr,19:yr,20:yr,21:Q6};function OU(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(LU[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function bd(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function FU(t,e){return e===0||t.read_shift(2),1200}function UU(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=ju(t,0,n);return t.read_shift(e+r-t.l),i}function VU(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function BU(t,e,n){var r=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=U0(t,0,n);return o.length===0&&(o="Sheet1"),{pos:r,hs:i,dt:s,name:o}}function qU(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),s=[],o=0;o!=i&&t.l<n;++o)s.push(EU(t));return s.Count=r,s.Unique=i,s}function HU(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function zU(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function GU(t){var e=IU(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function jU(t){return t.read_shift(2),t.read_shift(4)}function gS(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var i=t.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function $U(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),f=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,n],Dim:[r,i],Flags:s,CurTab:o,FirstTab:l,Selected:f,TabRatio:c}}function WU(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function KU(){}function YU(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=U0(t,0,n),r}function XU(t){var e=Fs(t);return e.isst=t.read_shift(4),e}function JU(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,i=Fs(t);n.biff==2&&t.l++;var s=V0(t,r-t.l,n);return i.val=s,i}function QU(t,e,n){var r=t.read_shift(2),i=ju(t,0,n);return[r,i]}var ZU=ju;function xS(t,e,n){var r=t.l+e,i=n.biff==8||!n.biff?4:2,s=t.read_shift(i),o=t.read_shift(i),l=t.read_shift(2),f=t.read_shift(2);return t.l=r,{s:{r:s,c:l},e:{r:o,c:f}}}function eV(t){var e=t.read_shift(2),n=t.read_shift(2),r=X6(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function tV(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(X6(t));if(t.l!==n)throw new Error("MulRK read error");var o=t.read_shift(2);if(s.length!=o-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:o,rkrec:s}}function nV(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var o=t.read_shift(2);if(s.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:o,ixfe:s}}function rV(t,e,n,r){var i={},s=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(4),f=t.read_shift(2);return i.patternType=eU[l>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=o&15,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=l&127,i.icvBottom=l>>7&127,i.icvDiag=l>>14&127,i.dgDiag=l>>21&15,i.icvFore=f&127,i.icvBack=f>>7&127,i.fsxButton=f>>14&1),i}function iV(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=rV(t,e,r.fStyle,n),r}function sV(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function yS(t,e,n){var r=Fs(t);(n.biff==2||e==9)&&++t.l;var i=TU(t);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function aV(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Fs(t),i=Er(t);return r.val=i,r}var vS=kU;function oV(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=Du(t,s),l=[];r>t.l;)l.push(V0(t));return[s,i,o,l]}function _S(t,e,n){var r=t.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=NU(t,e-2,n)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var uV=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function TS(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(n&&n.biff==2?1:2),f=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),f=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var c=Du(t,o,n);i&32&&(c=uV[c.charCodeAt(0)]);var d=r-t.l;n&&n.biff==2&&--d;var g=r==t.l||l===0||!(d>0)?[]:zH(t,d,n,l);return{chKey:s,Name:c,itab:f,rgce:g}}function Z6(t,e,n){if(n.biff<8)return lV(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(RU(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function lV(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=U0(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function cV(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),i=t.read_shift(2),s=Du(t,r,n),o=Du(t,i,n);return[s,o]}function fV(t,e,n){var r=J6(t);t.l++;var i=t.read_shift(1);return e-=8,[GH(t,e,n),i,r]}function ES(t,e,n){var r=DU(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,qH(t,e,n)]}function hV(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function dV(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),l=ju(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},l,o,s]}}function pV(t,e,n){return dV(t,e,n)}function mV(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(hm(t));return n}function gV(t,e,n){if(n&&n.biff<8)return yV(t,e,n);var r=Q6(t),i=OU(t,e-22,r[1]);return{cmo:r,ft:i}}var xV={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function yV(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var o=[];return o.push((xV[r]||Cr)(t,e,n)),{cmo:[i,r,s],ft:o}}function vV(t,e,n){var r=t.l,i="";try{t.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:o=bU(t,6,n);var l=t.read_shift(2);t.read_shift(2),zn(t,2);var f=t.read_shift(2);t.l+=f;for(var c=1;c<t.lens.length-1;++c){if(t.l-r!=t.lens[c])throw new Error("TxO: bad continue record");var d=t[t.l],g=Du(t,t.lens[c+1]-t.lens[c]-1);if(i+=g,i.length>=(d?l:2*l))break}if(i.length!==l&&i.length!==l*2)throw new Error("cchText: "+l+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}function _V(t,e){var n=hm(t);t.l+=16;var r=CU(t,e-24);return[n,r]}function TV(t,e){t.read_shift(2);var n=hm(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(Fr,""),[n,r]}function EV(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=fS[n]||n,n=t.read_shift(2),e[1]=fS[n]||n,e}function bV(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(Y6(t));return n}function wV(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(Y6(t));return n}function SV(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function ek(t,e,n){if(!n.cellStyles)return Cr(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(r),f=t.read_shift(2);r==2&&(t.l+=2);var c={s:i,e:s,w:o,ixfe:l,flags:f};return(n.biff>=5||!n.biff)&&(c.level=f>>8&7),c}function AV(t,e){var n={};return e<32||(t.l+=16,n.header=Er(t),n.footer=Er(t),t.l+=2),n}function CV(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,i&16&&(r.area=!0),r}var IV=Fs,kV=W6,RV=V0;function NV(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}function DV(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Fs(t);++t.l;var i=ju(t,e-7,n);return r.t="str",r.val=i,r}function MV(t){var e=Fs(t);++t.l;var n=Er(t);return e.t="n",e.val=n,e}function PV(t){var e=Fs(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function LV(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function OV(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function FV(t,e,n){var r=t.l+e,i=Fs(t),s=t.read_shift(2),o=Du(t,s,n);return t.l=r,i.t="str",i.val=o,i}var UV=[2,3,48,49,131,139,140,245],bS=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Pv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(l,f){var c=[],d=Do(1);switch(f.type){case"base64":d=es(di(l));break;case"binary":d=es(l);break;case"buffer":case"array":d=l;break}lr(d,0);var g=d.read_shift(1),p=!!(g&136),x=!1,_=!1;switch(g){case 2:break;case 3:break;case 48:x=!0,p=!0;break;case 49:x=!0,p=!0;break;case 131:break;case 139:break;case 140:_=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var b=0,C=521;g==2&&(b=d.read_shift(2)),d.l+=3,g!=2&&(b=d.read_shift(4)),b>1048576&&(b=1e6),g!=2&&(C=d.read_shift(2));var I=d.read_shift(2),M=f.codepage||1252;g!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(M=t[d[d.l]]),d.l+=1,d.l+=2),_&&(d.l+=36);for(var A=[],P={},D=Math.min(d.length,g==2?521:C-10-(x?264:0)),V=_?32:11;d.l<D&&d[d.l]!=13;)switch(P={},P.name=p0.utils.decode(M,d.slice(d.l,d.l+V)).replace(/[\u0000\r\n].*$/g,""),d.l+=V,P.type=String.fromCharCode(d.read_shift(1)),g!=2&&!_&&(P.offset=d.read_shift(4)),P.len=d.read_shift(1),g==2&&(P.offset=d.read_shift(2)),P.dec=d.read_shift(1),P.name.length&&A.push(P),g!=2&&(d.l+=_?13:14),P.type){case"B":(!x||P.len!=8)&&f.WTF&&console.log("Skipping "+P.name+":"+P.type);break;case"G":case"P":f.WTF&&console.log("Skipping "+P.name+":"+P.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+P.type)}if(d[d.l]!==13&&(d.l=C-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=C;var N=0,k=0;for(c[0]=[],k=0;k!=A.length;++k)c[0][k]=A[k].name;for(;b-- >0;){if(d[d.l]===42){d.l+=I;continue}for(++d.l,c[++N]=[],k=0,k=0;k!=A.length;++k){var R=d.slice(d.l,d.l+A[k].len);d.l+=A[k].len,lr(R,0);var O=p0.utils.decode(M,R);switch(A[k].type){case"C":O.trim().length&&(c[N][k]=O.replace(/\s+$/,""));break;case"D":O.length===8?c[N][k]=new Date(+O.slice(0,4),+O.slice(4,6)-1,+O.slice(6,8)):c[N][k]=O;break;case"F":c[N][k]=parseFloat(O.trim());break;case"+":case"I":c[N][k]=_?R.read_shift(-4,"i")^2147483648:R.read_shift(4,"i");break;case"L":switch(O.trim().toUpperCase()){case"Y":case"T":c[N][k]=!0;break;case"N":case"F":c[N][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+O+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));c[N][k]="##MEMO##"+(_?parseInt(O.trim(),10):R.read_shift(4));break;case"N":O=O.replace(/\u0000/g,"").trim(),O&&O!="."&&(c[N][k]=+O||0);break;case"@":c[N][k]=new Date(R.read_shift(-8,"f")-621356832e5);break;case"T":c[N][k]=new Date((R.read_shift(4)-2440588)*864e5+R.read_shift(4));break;case"Y":c[N][k]=R.read_shift(4,"i")/1e4+R.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[N][k]=-R.read_shift(-8,"f");break;case"B":if(x&&A[k].len==8){c[N][k]=R.read_shift(8,"f");break}case"G":case"P":R.l+=A[k].len;break;case"0":if(A[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+A[k].type)}}}if(g!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return f&&f.sheetRows&&(c=c.slice(0,f.sheetRows)),f.DBF=A,c}function r(l,f){var c=f||{};c.dateNF||(c.dateNF="yyyymmdd");var d=wc(n(l,c),c);return d["!cols"]=c.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete c.DBF,d}function i(l,f){try{return qo(r(l,f),f)}catch(c){if(f&&f.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,f){var c=f||{};if(+c.codepage>=0&&ns(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var d=oy(),g=gy(l,{header:1,raw:!0,cellDates:!0}),p=g[0],x=g.slice(1),_=l["!cols"]||[],b=0,C=0,I=0,M=1;for(b=0;b<p.length;++b){if(((_[b]||{}).DBF||{}).name){p[b]=_[b].DBF.name,++I;continue}if(p[b]!=null){if(++I,typeof p[b]=="number"&&(p[b]=p[b].toString(10)),typeof p[b]!="string")throw new Error("DBF Invalid column name "+p[b]+" |"+typeof p[b]+"|");if(p.indexOf(p[b])!==b){for(C=0;C<1024;++C)if(p.indexOf(p[b]+"_"+C)==-1){p[b]+="_"+C;break}}}}var A=In(l["!ref"]),P=[],D=[],V=[];for(b=0;b<=A.e.c-A.s.c;++b){var N="",k="",R=0,O=[];for(C=0;C<x.length;++C)x[C][b]!=null&&O.push(x[C][b]);if(O.length==0||p[b]==null){P[b]="?";continue}for(C=0;C<O.length;++C){switch(typeof O[C]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=O[C]instanceof Date?"D":"C";break;default:k="C"}R=Math.max(R,String(O[C]).length),N=N&&N!=k?"C":k}R>250&&(R=250),k=((_[b]||{}).DBF||{}).type,k=="C"&&_[b].DBF.len>R&&(R=_[b].DBF.len),N=="B"&&k=="N"&&(N="N",V[b]=_[b].DBF.dec,R=_[b].DBF.len),D[b]=N=="C"||k=="N"?R:s[N]||0,M+=D[b],P[b]=N}var L=d.next(32);for(L.write_shift(4,318902576),L.write_shift(4,x.length),L.write_shift(2,296+32*I),L.write_shift(2,M),b=0;b<4;++b)L.write_shift(4,0);for(L.write_shift(4,0|(+e[ZI]||3)<<8),b=0,C=0;b<p.length;++b)if(p[b]!=null){var U=d.next(32),q=(p[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,q,"sbcs"),U.write_shift(1,P[b]=="?"?"C":P[b],"sbcs"),U.write_shift(4,C),U.write_shift(1,D[b]||s[P[b]]||0),U.write_shift(1,V[b]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),C+=D[b]||s[P[b]]||0}var he=d.next(264);for(he.write_shift(4,13),b=0;b<65;++b)he.write_shift(4,0);for(b=0;b<x.length;++b){var ae=d.next(M);for(ae.write_shift(1,0),C=0;C<p.length;++C)if(p[C]!=null)switch(P[C]){case"L":ae.write_shift(1,x[b][C]==null?63:x[b][C]?84:70);break;case"B":ae.write_shift(8,x[b][C]||0,"f");break;case"N":var se="0";for(typeof x[b][C]=="number"&&(se=x[b][C].toFixed(V[C]||0)),I=0;I<D[C]-se.length;++I)ae.write_shift(1,32);ae.write_shift(1,se,"sbcs");break;case"D":x[b][C]?(ae.write_shift(4,("0000"+x[b][C].getFullYear()).slice(-4),"sbcs"),ae.write_shift(2,("00"+(x[b][C].getMonth()+1)).slice(-2),"sbcs"),ae.write_shift(2,("00"+x[b][C].getDate()).slice(-2),"sbcs")):ae.write_shift(8,"00000000","sbcs");break;case"C":var ue=String(x[b][C]!=null?x[b][C]:"").slice(0,D[C]);for(ae.write_shift(1,ue,"sbcs"),I=0;I<D[C]-ue.length;++I)ae.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}})(),VV=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Ds(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(p,x){var _=t[x];return typeof _=="number"?Vw(_):_},r=function(p,x,_){var b=x.charCodeAt(0)-32<<4|_.charCodeAt(0)-48;return b==59?p:Vw(b)};t["|"]=254;function i(p,x){switch(x.type){case"base64":return s(di(p),x);case"binary":return s(p,x);case"buffer":return s(Pt&&Buffer.isBuffer(p)?p.toString("binary"):qu(p),x);case"array":return s(Nu(p),x)}throw new Error("Unrecognized type "+x.type)}function s(p,x){var _=p.split(/[\n\r]+/),b=-1,C=-1,I=0,M=0,A=[],P=[],D=null,V={},N=[],k=[],R=[],O=0,L;for(+x.codepage>=0&&ns(+x.codepage);I!==_.length;++I){O=0;var U=_[I].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),q=U.replace(/;;/g,"\0").split(";").map(function(re){return re.replace(/\u0000/g,";")}),he=q[0],ae;if(U.length>0)switch(he){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":q[1].charAt(0)=="P"&&P.push(U.slice(3).replace(/;;/g,";"));break;case"C":var se=!1,ue=!1,Ce=!1,J=!1,be=-1,j=-1;for(M=1;M<q.length;++M)switch(q[M].charAt(0)){case"A":break;case"X":C=parseInt(q[M].slice(1))-1,ue=!0;break;case"Y":for(b=parseInt(q[M].slice(1))-1,ue||(C=0),L=A.length;L<=b;++L)A[L]=[];break;case"K":ae=q[M].slice(1),ae.charAt(0)==='"'?ae=ae.slice(1,ae.length-1):ae==="TRUE"?ae=!0:ae==="FALSE"?ae=!1:isNaN(as(ae))?isNaN(cc(ae).getDate())||(ae=nr(ae)):(ae=as(ae),D!==null&&Ec(D)&&(ae=fm(ae))),se=!0;break;case"E":J=!0;var z=Xl(q[M].slice(1),{r:b,c:C});A[b][C]=[A[b][C],z];break;case"S":Ce=!0,A[b][C]=[A[b][C],"S5S"];break;case"G":break;case"R":be=parseInt(q[M].slice(1))-1;break;case"C":j=parseInt(q[M].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+U)}if(se&&(A[b][C]&&A[b][C].length==2?A[b][C][0]=ae:A[b][C]=ae,D=null),Ce){if(J)throw new Error("SYLK shared formula cannot have own formula");var K=be>-1&&A[be][j];if(!K||!K[1])throw new Error("SYLK shared formula cannot find base");A[b][C][1]=ck(K[1],{r:b-be,c:C-j})}break;case"F":var ee=0;for(M=1;M<q.length;++M)switch(q[M].charAt(0)){case"X":C=parseInt(q[M].slice(1))-1,++ee;break;case"Y":for(b=parseInt(q[M].slice(1))-1,L=A.length;L<=b;++L)A[L]=[];break;case"M":O=parseInt(q[M].slice(1))/20;break;case"F":break;case"G":break;case"P":D=P[parseInt(q[M].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(R=q[M].slice(1).split(" "),L=parseInt(R[0],10);L<=parseInt(R[1],10);++L)O=parseInt(R[2],10),k[L-1]=O===0?{hidden:!0}:{wch:O},fc(k[L-1]);break;case"C":C=parseInt(q[M].slice(1))-1,k[C]||(k[C]={});break;case"R":b=parseInt(q[M].slice(1))-1,N[b]||(N[b]={}),O>0?(N[b].hpt=O,N[b].hpx=_0(O)):O===0&&(N[b].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+U)}ee<1&&(D=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+U)}}return N.length>0&&(V["!rows"]=N),k.length>0&&(V["!cols"]=k),x&&x.sheetRows&&(A=A.slice(0,x.sheetRows)),[A,V]}function o(p,x){var _=i(p,x),b=_[0],C=_[1],I=wc(b,x);return Ds(C).forEach(function(M){I[M]=C[M]}),I}function l(p,x){return qo(o(p,x),x)}function f(p,x,_,b){var C="C;Y"+(_+1)+";X"+(b+1)+";K";switch(p.t){case"n":C+=p.v||0,p.f&&!p.F&&(C+=";E"+Sq(p.f,{r:_,c:b}));break;case"b":C+=p.v?"TRUE":"FALSE";break;case"e":C+=p.w||p.v;break;case"d":C+='"'+(p.w||p.v)+'"';break;case"s":C+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return C}function c(p,x){x.forEach(function(_,b){var C="F;W"+(b+1)+" "+(b+1)+" ";_.hidden?C+="0":(typeof _.width=="number"&&!_.wpx&&(_.wpx=Sp(_.width)),typeof _.wpx=="number"&&!_.wch&&(_.wch=Ap(_.wpx)),typeof _.wch=="number"&&(C+=Math.round(_.wch))),C.charAt(C.length-1)!=" "&&p.push(C)})}function d(p,x){x.forEach(function(_,b){var C="F;";_.hidden?C+="M0;":_.hpt?C+="M"+20*_.hpt+";":_.hpx&&(C+="M"+20*ok(_.hpx)+";"),C.length>2&&p.push(C+"R"+(b+1))})}function g(p,x){var _=["ID;PWXL;N;E"],b=[],C=In(p["!ref"]),I,M=Array.isArray(p),A=`\r
    -`;_.push("P;PGeneral"),_.push("F;P0;DG0G8;M255"),p["!cols"]&&c(_,p["!cols"]),p["!rows"]&&d(_,p["!rows"]),_.push("B;Y"+(C.e.r-C.s.r+1)+";X"+(C.e.c-C.s.c+1)+";D"+[C.s.c,C.s.r,C.e.c,C.e.r].join(" "));for(var P=C.s.r;P<=C.e.r;++P)for(var D=C.s.c;D<=C.e.c;++D){var V=gt({r:P,c:D});I=M?(p[P]||[])[D]:p[V],!(!I||I.v==null&&(!I.f||I.F))&&b.push(f(I,p,P,D))}return _.join(A)+A+b.join(A)+A+"E"+A}return{to_workbook:l,to_sheet:o,from_sheet:g}})(),BV=(function(){function t(s,o){switch(o.type){case"base64":return e(di(s),o);case"binary":return e(s,o);case"buffer":return e(Pt&&Buffer.isBuffer(s)?s.toString("binary"):qu(s),o);case"array":return e(Nu(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var l=s.split(`
    +`)}function Hs(j){var ne={};return N(ne,j),ne}function zs(j,ne,J,Z){var te=Z&&Z.unsafe;te||N(j);var ie=!te&&Ot.find(j,ne);if(!ie){var ve=j.FullPaths[0];ne.slice(0,ve.length)==ve?ve=ne:(ve.slice(-1)!="/"&&(ve+="/"),ve=(ve+ne).replace("//","/")),ie={name:i(ne),type:2},j.FileIndex.push(ie),j.FullPaths.push(ve),te||Ot.utils.cfb_gc(j)}return ie.content=J,ie.size=J?J.length:0,Z&&(Z.CLSID&&(ie.clsid=Z.CLSID),Z.mt&&(ie.mt=Z.mt),Z.ct&&(ie.ct=Z.ct)),ie}function jo(j,ne){N(j);var J=Ot.find(j,ne);if(J){for(var Z=0;Z<j.FileIndex.length;++Z)if(j.FileIndex[Z]==J)return j.FileIndex.splice(Z,1),j.FullPaths.splice(Z,1),!0}return!1}function Gs(j,ne,J){N(j);var Z=Ot.find(j,ne);if(Z){for(var te=0;te<j.FileIndex.length;++te)if(j.FileIndex[te]==Z)return j.FileIndex[te].name=i(J),j.FullPaths[te]=J,!0}return!1}function Li(j){R(j,!0)}return e.find=L,e.read=U,e.parse=d,e.write=ge,e.writeFile=me,e.utils={cfb_new:Hs,cfb_add:zs,cfb_del:jo,cfb_mov:Gs,cfb_gc:Li,ReadShift:$f,CheckField:B6,prep_blob:lr,bconcat:ho,use_zlib:z,_deflateRaw:ht,_inflateRaw:Vs,consts:se},e})();function a7(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var n=e.read();return e.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+t)}function Ms(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function Fv(t){for(var e=[],n=Ms(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}var Tp=new Date(1899,11,30,0,0,0);function Ur(t,e){var n=t.getTime(),r=Tp.getTime()+(t.getTimezoneOffset()-Tp.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var v6=new Date,o7=Tp.getTime()+(v6.getTimezoneOffset()-Tp.getTimezoneOffset())*6e4,Jw=v6.getTimezoneOffset();function pm(t){var e=new Date;return e.setTime(t*24*60*60*1e3+o7),e.getTimezoneOffset()!==Jw&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Jw)*6e4),e}function u7(t){var e=0,n=0,r=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(n=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=n*parseInt(i[s],10)}return e}var Qw=new Date("2017-02-19T19:06:09.000Z"),_6=isNaN(Qw.getFullYear())?new Date("2/19/17"):Qw,l7=_6.getFullYear()==2017;function nr(t,e){var n=new Date(t);if(l7)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(_6.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Du(t,e){if(Pt&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return Ff(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return Ff(a6(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return Ff(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return Ff(new TextDecoder("utf-16be").decode(t.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function fr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=fr(t[n]));return e}function An(t,e){for(var n="";n.length<e;)n+=t;return n}function as(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var c7=["january","february","march","april","may","june","july","august","september","october","november","december"];function hc(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var o=t.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&c7.indexOf(o)==-1)return n}else if(o.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}var f7=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(t||typeof r=="string")return n.split(r);for(var s=n.split(r),o=[s[0]],l=1;l<s.length;++l)o.push(i),o.push(s[l]);return o}})();function T6(t){return t?t.content&&t.type?Du(t.content,!0):t.data?Pf(t.data):t.asNodeBuffer&&Pt?Pf(t.asNodeBuffer().toString("binary")):t.asBinary?Pf(t.asBinary()):t._data&&t._data.getContent?Pf(Du(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function E6(t){if(!t)return null;if(t.data)return Bw(t.data);if(t.asNodeBuffer&&Pt)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?Bw(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function h7(t){return t&&t.name.slice(-4)===".bin"?E6(t):T6(t)}function ki(t,e){for(var n=t.FullPaths||Ms(t.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<n.length;++s){var o=n[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==o||i==o)return t.files?t.files[n[s]]:t.FileIndex[s]}return null}function Uv(t,e){var n=ki(t,e);if(n==null)throw new Error("Cannot find file "+e+" in zip");return n}function Hn(t,e,n){if(!n)return h7(Uv(t,e));if(!e)return null;try{return Hn(t,e)}catch{return null}}function fi(t,e,n){if(!n)return T6(Uv(t,e));if(!e)return null;try{return fi(t,e)}catch{return null}}function d7(t,e,n){return E6(Uv(t,e))}function Zw(t){for(var e=t.FullPaths||Ms(t.files),n=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&n.push(e[r].replace(/^Root Entry[\/]/,""));return n.sort()}function p7(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return Pt?r=Hu(n):r=MF(n),Ot.utils.cfb_add(t,e,r)}Ot.utils.cfb_add(t,e,n)}else t.file(e,n)}function b6(t,e){switch(e.type){case"base64":return Ot.read(t,{type:"base64"});case"binary":return Ot.read(t,{type:"binary"});case"buffer":case"array":return Ot.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Of(t,e){if(t.charAt(0)=="/")return t.slice(1);var n=e.split("/");e.slice(-1)!="/"&&n.pop();for(var r=t.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var w6=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
    +`,m7=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,eS=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,g7=/<[^>]*>/g,Ir=w6.match(eS)?eS:g7,x7=/<\w*:/,y7=/<(\/?)\w+:/;function ft(t,e,n){for(var r={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=t.slice(0,i)),i===t.length)return r;var o=t.match(m7),l=0,f="",c=0,d="",g="",p=1;if(o)for(c=0;c!=o.length;++c){for(g=o[c],s=0;s!=g.length&&g.charCodeAt(s)!==61;++s);for(d=g.slice(0,s).trim();g.charCodeAt(s+1)==32;)++s;for(p=(i=g.charCodeAt(s+1))==34||i==39?1:0,f=g.slice(s+1+p,g.length-p),l=0;l!=d.length&&d.charCodeAt(l)!==58;++l);if(l===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),r[d]=f,r[d.toLowerCase()]=f;else{var x=(l===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(l+1);if(r[x]&&d.slice(l-3,l)=="ext")continue;r[x]=f,r[x.toLowerCase()]=f}}return r}function Fs(t){return t.replace(y7,"<$1")}var S6={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},v7=Fv(S6),Vt=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(l,f){return S6[l]||String.fromCharCode(parseInt(f,l.indexOf("x")>-1?16:10))||l}).replace(e,function(l,f){return String.fromCharCode(parseInt(f,16))});var o=i.indexOf("]]>");return n(i.slice(0,s))+i.slice(s+9,o)+n(i.slice(o+3))}})(),_7=/[&<>'"]/g,T7=/[\u0000-\u001f]/g;function Vv(t){var e=t+"";return e.replace(_7,function(n){return v7[n]}).replace(/\n/g,"<br/>").replace(T7,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var tS=(function(){var t=/&#(\d+);/g;function e(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(t,e)}})();function _n(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function H1(t){for(var e="",n=0,r=0,i=0,s=0,o=0,l=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){o=(r&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=t.charCodeAt(n++),l=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function nS(t){var e=Po(2*t.length),n,r,i=1,s=0,o=0,l;for(r=0;r<t.length;r+=i)i=1,(l=t.charCodeAt(r))<128?n=l:l<224?(n=(l&31)*64+(t.charCodeAt(r+1)&63),i=2):l<240?(n=(l&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(l&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,o=55296+(n>>>10&1023),n=56320+(n&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function rS(t){return Hu(t,"binary").toString("utf8")}var _d="foo bar baz",dn=Pt&&(rS(_d)==H1(_d)&&rS||nS(_d)==H1(_d)&&nS)||H1,Ff=Pt?function(t){return Hu(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},x0=(function(){var t={};return function(n,r){var i=n+"|"+(r||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),A6=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
    +`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),E7=(function(){var t={};return function(n){return t[n]!==void 0?t[n]:t[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),b7=/<\/?(?:vt:)?variant>/g,w7=/<(?:vt:)([^>]*)>([\s\S]*)</;function iS(t,e){var n=ft(t),r=t.match(E7(n.baseType))||[],i=[];if(r.length!=n.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(s){var o=s.replace(b7,"").match(w7);o&&i.push({v:dn(o[2]),t:o[1]})}),i}var S7=/(^\s|\s$|\n)/;function A7(t){return Ms(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function C7(t,e,n){return"<"+t+(n!=null?A7(n):"")+(e!=null?(e.match(S7)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Bv(t){if(Pt&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return dn(zu(Pv(t)));throw new Error("Bad input format: expected Buffer or string")}var y0=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,I7={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},k7=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function R7(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function N7(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=r?-e:e;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var l=0;l<=5;++l,s/=256)t[n+l]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var sS=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},aS=Pt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Hu(e)})):sS(t)}:sS,oS=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(ga(t,i)));return r.join("").replace(Fr,"")},qv=Pt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(Fr,""):oS(t,e,n)}:oS,uS=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},C6=Pt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):uS(t,e,n)}:uS,lS=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(Hl(t,i)));return r.join("")},U0=Pt?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):lS(e,n,r)}:lS,I6=function(t,e){var n=li(t,e);return n>0?U0(t,e+4,e+4+n-1):""},k6=I6,R6=function(t,e){var n=li(t,e);return n>0?U0(t,e+4,e+4+n-1):""},N6=R6,D6=function(t,e){var n=2*li(t,e);return n>0?U0(t,e+4,e+4+n-1):""},M6=D6,P6=function(e,n){var r=li(e,n);return r>0?qv(e,n+4,n+4+r):""},L6=P6,O6=function(t,e){var n=li(t,e);return n>0?U0(t,e+4,e+4+n):""},F6=O6,U6=function(t,e){return R7(t,e)},Ep=U6,V6=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Pt&&(k6=function(e,n){if(!Buffer.isBuffer(e))return I6(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},N6=function(e,n){if(!Buffer.isBuffer(e))return R6(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},M6=function(e,n){if(!Buffer.isBuffer(e))return D6(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},L6=function(e,n){if(!Buffer.isBuffer(e))return P6(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},F6=function(e,n){if(!Buffer.isBuffer(e))return O6(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},Ep=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):U6(e,n)},V6=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Hl=function(t,e){return t[e]},ga=function(t,e){return t[e+1]*256+t[e]},D7=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},li=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},_u=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},M7=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function $f(t,e){var n="",r,i,s=[],o,l,f,c;switch(e){case"dbcs":if(c=this.l,Pt&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(f=0;f<t;++f)n+=String.fromCharCode(ga(this,c)),c+=2;t*=2;break;case"utf8":n=U0(this,this.l,this.l+t);break;case"utf16le":t*=2,n=qv(this,this.l,this.l+t);break;case"wstr":return $f.call(this,t,"dbcs");case"lpstr-ansi":n=k6(this,this.l),t=4+li(this,this.l);break;case"lpstr-cp":n=N6(this,this.l),t=4+li(this,this.l);break;case"lpwstr":n=M6(this,this.l),t=4+2*li(this,this.l);break;case"lpp4":t=4+li(this,this.l),n=L6(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+li(this,this.l),n=F6(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(o=Hl(this,this.l+t++))!==0;)s.push(vd(o));n=s.join("");break;case"_wstr":for(t=0,n="";(o=ga(this,this.l+t))!==0;)s.push(vd(o)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",c=this.l,f=0;f<t;++f){if(this.lens&&this.lens.indexOf(c)!==-1)return o=Hl(this,c),this.l=c+1,l=$f.call(this,t-f,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(vd(ga(this,c))),c+=2}n=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,f=0;f!=t;++f){if(this.lens&&this.lens.indexOf(c)!==-1)return o=Hl(this,c),this.l=c+1,l=$f.call(this,t-f,o?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(vd(Hl(this,c))),c+=1}n=s.join("");break;default:switch(t){case 1:return r=Hl(this,this.l),this.l++,r;case 2:return r=(e==="i"?D7:ga)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?_u:M7)(this,this.l),this.l+=4,r):(i=li(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=Ep(this,this.l):i=Ep([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=C6(this,this.l,t);break}}return this.l+=t,n}var P7=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},L7=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},O7=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function F7(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)O7(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var o=e.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,P7(this,e,this.l);break;case 8:if(r=8,n==="f"){N7(this,e,this.l);break}case 16:break;case-4:r=4,L7(this,e,this.l);break}return this.l+=r,this}function B6(t,e){var n=C6(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function lr(t,e){t.l=e,t.read_shift=$f,t.chk=B6,t.write_shift=F7}function Cr(t,e){t.l+=e}function Wn(t){var e=Po(t);return lr(e,0),e}function Sa(t,e,n){if(t){var r,i,s;lr(t,t.l||0);for(var o=t.length,l=0,f=0;t.l<o;){l=t.read_shift(1),l&128&&(l=(l&127)+((t.read_shift(1)&127)<<7));var c=Ip[l]||Ip[65535];for(r=t.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=t.read_shift(1))&127)<<7*i;f=t.l+s;var d=c.f&&c.f(t,s,n);if(t.l=f,e(d,c,l))return}}}function cy(){var t=[],e=Pt?256:2048,n=function(c){var d=Wn(c);return lr(d,0),d},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,e)))},o=function(){return i(),ho(t)},l=function(c){i(),r=c,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:l,end:o,_bufs:t}}function Wf(t,e,n){var r=fr(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function cS(t,e,n){var r=fr(t);return r.s=Wf(r.s,e.s,n),r.e=Wf(r.e,e.s,n),r}function Kf(t,e){if(t.cRel&&t.c<0)for(t=fr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=fr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=gt(t);return!t.cRel&&t.cRel!=null&&(n=B7(n)),!t.rRel&&t.rRel!=null&&(n=U7(n)),n}function z1(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+Yn(t.s.c)+":"+(t.e.cRel?"":"$")+Yn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+hr(t.s.r)+":"+(t.e.rRel?"":"$")+hr(t.e.r):Kf(t.s,e.biff)+":"+Kf(t.e,e.biff)}function Hv(t){return parseInt(V7(t),10)-1}function hr(t){return""+(t+1)}function U7(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function V7(t){return t.replace(/\$(\d+)$/,"$1")}function zv(t){for(var e=q7(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function Yn(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function B7(t){return t.replace(/^([A-Z])/,"$$$1")}function q7(t){return t.replace(/^\$([A-Z])/,"$1")}function H7(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Lr(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function gt(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function wc(t){var e=t.indexOf(":");return e==-1?{s:Lr(t),e:Lr(t)}:{s:Lr(t.slice(0,e)),e:Lr(t.slice(e+1))}}function Ft(t,e){return typeof e>"u"||typeof e=="number"?Ft(t.s,t.e):(typeof t!="string"&&(t=gt(t)),typeof e!="string"&&(e=gt(e)),t==e?t:t+":"+e)}function In(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function fS(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Mi(t.z,n?Ur(e):e)}catch{}try{return t.w=Mi((t.XF||{}).numFmtId||(n?14:0),n?Ur(e):e)}catch{return""+e}}function ba(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?$u[t.v]||t.v:e==null?fS(t,t.v):fS(t,e))}function Ho(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function q6(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,s=t||(i?[]:{}),o=0,l=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var f=typeof r.origin=="string"?Lr(r.origin):r.origin;o=f.r,l=f.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=In(s["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),o==-1&&(c.e.r=o=d.e.r+1)}for(var g=0;g!=e.length;++g)if(e[g]){if(!Array.isArray(e[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=e[g].length;++p)if(!(typeof e[g][p]>"u")){var x={v:e[g][p]},_=o+g,b=l+p;if(c.s.r>_&&(c.s.r=_),c.s.c>b&&(c.s.c=b),c.e.r<_&&(c.e.r=_),c.e.c<b&&(c.e.c=b),e[g][p]&&typeof e[g][p]=="object"&&!Array.isArray(e[g][p])&&!(e[g][p]instanceof Date))x=e[g][p];else if(Array.isArray(x.v)&&(x.f=e[g][p][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(r.nullError)x.t="e",x.v=0;else if(r.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=r.dateNF||_t[14],r.cellDates?(x.t="d",x.w=Mi(x.z,Ur(x.v))):(x.t="n",x.v=Ur(x.v),x.w=Mi(x.z,x.v))):x.t="s";if(i)s[_]||(s[_]=[]),s[_][b]&&s[_][b].z&&(x.z=s[_][b].z),s[_][b]=x;else{var C=gt({c:b,r:_});s[C]&&s[C].z&&(x.z=s[C].z),s[C]=x}}}return c.s.c<1e7&&(s["!ref"]=Ft(c)),s}function Sc(t,e){return q6(null,t,e)}function z7(t){return t.read_shift(4,"i")}function Sr(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function G7(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function Gv(t,e){var n=t.l,r=t.read_shift(1),i=Sr(t),s=[],o={t:i,h:i};if((r&1)!==0){for(var l=t.read_shift(4),f=0;f!=l;++f)s.push(G7(t));o.r=s}else o.r=[{ich:0,ifnt:0}];return t.l=n+e,o}var j7=Gv;function Pi(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Gu(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}var $7=Sr;function jv(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}var W7=Sr,fy=jv;function $v(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?Ep([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):_u(e,0)>>2;return n?i/100:i}function H6(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}var ju=H6;function Er(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function K7(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),o=t.read_shift(1),l=t.read_shift(1),f=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var c=Su[i];c&&(e.rgb=_0(c));break;case 2:e.rgb=_0([o,l,f]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function Y7(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function z6(t,e){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=t.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[t.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function X7(t){return z6(t,1)}function J7(t){return z6(t,2)}var Wv=2,Wr=3,Td=11,hS=12,bp=19,Ed=64,Q7=65,Z7=71,eU=4108,tU=4126,tr=80,G6=81,nU=[tr,G6],rU={1:{n:"CodePage",t:Wv},2:{n:"Category",t:tr},3:{n:"PresentationFormat",t:tr},4:{n:"ByteCount",t:Wr},5:{n:"LineCount",t:Wr},6:{n:"ParagraphCount",t:Wr},7:{n:"SlideCount",t:Wr},8:{n:"NoteCount",t:Wr},9:{n:"HiddenCount",t:Wr},10:{n:"MultimediaClipCount",t:Wr},11:{n:"ScaleCrop",t:Td},12:{n:"HeadingPairs",t:eU},13:{n:"TitlesOfParts",t:tU},14:{n:"Manager",t:tr},15:{n:"Company",t:tr},16:{n:"LinksUpToDate",t:Td},17:{n:"CharacterCount",t:Wr},19:{n:"SharedDoc",t:Td},22:{n:"HyperlinksChanged",t:Td},23:{n:"AppVersion",t:Wr,p:"version"},24:{n:"DigSig",t:Q7},26:{n:"ContentType",t:tr},27:{n:"ContentStatus",t:tr},28:{n:"Language",t:tr},29:{n:"Version",t:tr},255:{},2147483648:{n:"Locale",t:bp},2147483651:{n:"Behavior",t:bp},1919054434:{}},iU={1:{n:"CodePage",t:Wv},2:{n:"Title",t:tr},3:{n:"Subject",t:tr},4:{n:"Author",t:tr},5:{n:"Keywords",t:tr},6:{n:"Comments",t:tr},7:{n:"Template",t:tr},8:{n:"LastAuthor",t:tr},9:{n:"RevNumber",t:tr},10:{n:"EditTime",t:Ed},11:{n:"LastPrinted",t:Ed},12:{n:"CreatedDate",t:Ed},13:{n:"ModifiedDate",t:Ed},14:{n:"PageCount",t:Wr},15:{n:"WordCount",t:Wr},16:{n:"CharCount",t:Wr},17:{n:"Thumbnail",t:Z7},18:{n:"Application",t:tr},19:{n:"DocSecurity",t:Wr},255:{},2147483648:{n:"Locale",t:bp},2147483651:{n:"Behavior",t:bp},1919054434:{}},dS={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},sU=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function aU(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var oU=aU([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Su=fr(oU),$u={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},j6={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},pS={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function uU(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function lU(t){var e=uU();if(!t||!t.match)return e;var n={};if((t.match(Ir)||[]).forEach(function(r){var i=ft(r);switch(i[0].replace(x7,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":e[pS[i.ContentType]]!==void 0&&e[pS[i.ContentType]].push(i.PartName);break}}),e.xmlns!==I7.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=n,delete e.calcchains,e}var zl={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function hy(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Yf(t,e){var n={"!id":{}};if(!t)return n;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(t.match(Ir)||[]).forEach(function(i){var s=ft(i);if(s[0]==="<Relationship"){var o={};o.Type=s.Type,o.Target=s.Target,o.Id=s.Id,s.TargetMode&&(o.TargetMode=s.TargetMode);var l=s.TargetMode==="External"?s.Target:Of(s.Target,e);n[l]=o,r[s.Id]=o}}),n["!id"]=r,n}var cU="application/vnd.oasis.opendocument.spreadsheet";function fU(t,e){for(var n=Bv(t),r,i;r=y0.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=ft(r[0],!1),i.path=="/"&&i.type!==cU)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}var Xf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],hU=(function(){for(var t=new Array(Xf.length),e=0;e<Xf.length;++e){var n=Xf[e],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);t[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return t})();function $6(t){var e={};t=dn(t);for(var n=0;n<Xf.length;++n){var r=Xf[n],i=t.match(hU[n]);i!=null&&i.length>0&&(e[r[1]]=Vt(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=nr(e[r[1]]))}return e}var dU=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function W6(t,e,n,r){var i=[];if(typeof t=="string")i=iS(t,r);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(d){return{v:d}}));var o=typeof e=="string"?iS(e,r).map(function(d){return d.v}):e,l=0,f=0;if(o.length>0)for(var c=0;c!==i.length;c+=2){switch(f=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=f,n.SheetNames=o.slice(l,l+f);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=f,n.DefinedNames=o.slice(l,l+f);break;case"Charts":case"Diagramme":n.Chartsheets=f,n.ChartNames=o.slice(l,l+f);break}l+=f}}function pU(t,e,n){var r={};return e||(e={}),t=dn(t),dU.forEach(function(i){var s=(t.match(x0(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Vt(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var o=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));o&&o.length>0&&(r[i[1]]=o[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&W6(r.HeadingPairs,r.TitlesOfParts,e,n),e}var mU=/<[^>]+>[^<]*/g;function gU(t,e){var n={},r="",i=t.match(mU);if(i)for(var s=0;s!=i.length;++s){var o=i[s],l=ft(o);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Vt(l.name);break;case"</property>":r=null;break;default:if(o.indexOf("<vt:")===0){var f=o.split(">"),c=f[0].slice(4),d=f[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[r]=Vt(d);break;case"bool":n[r]=_n(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(d,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(d);break;case"filetime":case"date":n[r]=nr(d);break;case"cy":case"error":n[r]=Vt(d);break;default:if(c.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",o,c,f)}}else if(o.slice(0,2)!=="</"){if(e.WTF)throw new Error(o)}}}return n}var xU={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},G1;function yU(t,e,n){G1||(G1=Fv(xU)),e=G1[e]||e,t[e]=n}function Kv(t){var e=t.read_shift(4),n=t.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function K6(t,e,n){var r=t.l,i=t.read_shift(0,"lpstr-cp");if(n)for(;t.l-r&3;)++t.l;return i}function Y6(t,e,n){var r=t.read_shift(0,"lpwstr");return r}function X6(t,e,n){return e===31?Y6(t):K6(t,e,n)}function dy(t,e,n){return X6(t,e,n===!1?0:4)}function vU(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return X6(t,e,0)}function _U(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r){var i=t.l;n[r]=t.read_shift(0,"lpwstr").replace(Fr,""),t.l-i&2&&(t.l+=2)}return n}function TU(t){for(var e=t.read_shift(4),n=[],r=0;r!=e;++r)n[r]=t.read_shift(0,"lpstr-cp").replace(Fr,"");return n}function EU(t){var e=t.l,n=wp(t,G6);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var r=wp(t,Wr);return[n,r]}function bU(t){for(var e=t.read_shift(4),n=[],r=0;r<e/2;++r)n.push(EU(t));return n}function mS(t,e){for(var n=t.read_shift(4),r={},i=0;i!=n;++i){var s=t.read_shift(4),o=t.read_shift(4);r[s]=t.read_shift(o,e===1200?"utf16le":"utf8").replace(Fr,"").replace(Lf,"!"),e===1200&&o%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),r}function J6(t){var e=t.read_shift(4),n=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),n}function wU(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function wp(t,e,n){var r=t.read_shift(2),i,s=n||{};if(t.l+=2,e!==hS&&r!==e&&nU.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===hS?r:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return K6(t,r,4).replace(Fr,"");case 31:return Y6(t);case 64:return Kv(t);case 65:return J6(t);case 71:return wU(t);case 80:return dy(t,r,!s.raw).replace(Fr,"");case 81:return vU(t,r).replace(Fr,"");case 4108:return bU(t);case 4126:case 4127:return r==4127?_U(t):TU(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function gS(t,e){var n=t.l,r=t.read_shift(4),i=t.read_shift(4),s=[],o=0,l=0,f=-1,c={};for(o=0;o!=i;++o){var d=t.read_shift(4),g=t.read_shift(4);s[o]=[d,g+n]}s.sort(function(D,A){return D[1]-A[1]});var p={};for(o=0;o!=i;++o){if(t.l!==s[o][1]){var x=!0;if(o>0&&e)switch(e[s[o-1][0]].t){case 2:t.l+2===s[o][1]&&(t.l+=2,x=!1);break;case 80:t.l<=s[o][1]&&(t.l=s[o][1],x=!1);break;case 4108:t.l<=s[o][1]&&(t.l=s[o][1],x=!1);break}if((!e||o==0)&&t.l<=s[o][1]&&(x=!1,t.l=s[o][1]),x)throw new Error("Read Error: Expected address "+s[o][1]+" at "+t.l+" :"+o)}if(e){var _=e[s[o][0]];if(p[_.n]=wp(t,_.t,{raw:!0}),_.p==="version"&&(p[_.n]=String(p[_.n]>>16)+"."+("0000"+String(p[_.n]&65535)).slice(-4)),_.n=="CodePage")switch(p[_.n]){case 0:p[_.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ns(l=p[_.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[_.n])}}else if(s[o][0]===1){if(l=p.CodePage=wp(t,Wv),ns(l),f!==-1){var b=t.l;t.l=s[f][1],c=mS(t,l),t.l=b}}else if(s[o][0]===0){if(l===0){f=o,t.l=s[o+1][1];continue}c=mS(t,l)}else{var C=c[s[o][0]],I;switch(t[t.l]){case 65:t.l+=4,I=J6(t);break;case 30:t.l+=4,I=dy(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,I=dy(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,I=t.read_shift(4,"i");break;case 19:t.l+=4,I=t.read_shift(4);break;case 5:t.l+=4,I=t.read_shift(8,"f");break;case 11:t.l+=4,I=Dn(t,4);break;case 64:t.l+=4,I=nr(Kv(t));break;default:throw new Error("unparsed value: "+t[t.l])}p[C]=I}}return t.l=n+r,p}function xS(t,e,n){var r=t.content;if(!r)return{};lr(r,0);var i,s,o,l,f=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),d=r.read_shift(16);if(d!==Ot.utils.consts.HEADER_CLSID&&d!==n)throw new Error("Bad PropertySet CLSID "+d);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),l=r.read_shift(4),i===1&&l!==r.l)throw new Error("Length mismatch: "+l+" !== "+r.l);i===2&&(o=r.read_shift(16),f=r.read_shift(4));var g=gS(r,e),p={SystemIdentifier:c};for(var x in g)p[x]=g[x];if(p.FMTID=s,i===1)return p;if(f-r.l==2&&(r.l+=2),r.l!==f)throw new Error("Length mismatch 2: "+r.l+" !== "+f);var _;try{_=gS(r,null)}catch{}for(x in _)p[x]=_[x];return p.FMTID=[s,o],p}function ao(t,e){return t.read_shift(e),null}function SU(t,e,n){for(var r=[],i=t.l+e;t.l<i;)r.push(n(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return r}function Dn(t,e){return t.read_shift(e)===1}function zn(t){return t.read_shift(2,"u")}function Q6(t,e){return SU(t,e,zn)}function AU(t){var e=t.read_shift(1),n=t.read_shift(1);return n===1?e:e===1}function V0(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var o=r?t.read_shift(r,i):"";return o}function CU(t){var e=t.read_shift(2),n=t.read_shift(1),r=n&4,i=n&8,s=1+(n&1),o=0,l,f={};i&&(o=t.read_shift(2)),r&&(l=t.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",d=e===0?"":t.read_shift(e,c);return i&&(t.l+=4*o),r&&(t.l+=l),f.t=d,i||(f.raw="<t>"+f.t+"</t>",f.r=f.t),f}function Mu(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function B0(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):Mu(t,r,n)}function Wu(t,e,n){if(n.biff>5)return B0(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function IU(t){var e=t.read_shift(1);t.l++;var n=t.read_shift(2);return t.l+=2,[e,n]}function kU(t){var e=t.read_shift(4),n=t.l,r=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),t.l=n);var i=t.read_shift((r?e-24:e)>>1,"utf16le").replace(Fr,"");return r&&(t.l+=24),i}function RU(t){for(var e=t.read_shift(2),n="";e-- >0;)n+="../";var r=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var o=t.read_shift(s>>1,"utf16le").replace(Fr,"");return n+o}function NU(t,e){var n=t.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return kU(t);case"0303000000000000c000000000000046":return RU(t);default:throw new Error("Unsupported Moniker "+n)}}function bd(t){var e=t.read_shift(4),n=e>0?t.read_shift(e,"utf16le").replace(Fr,""):"";return n}function DU(t,e){var n=t.l+e,r=t.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=t.read_shift(2);t.l+=2;var s,o,l,f,c="",d,g;i&16&&(s=bd(t,n-t.l)),i&128&&(o=bd(t,n-t.l)),(i&257)===257&&(l=bd(t,n-t.l)),(i&257)===1&&(f=NU(t,n-t.l)),i&8&&(c=bd(t,n-t.l)),i&32&&(d=t.read_shift(16)),i&64&&(g=Kv(t)),t.l=n;var p=o||l||f||"";p&&c&&(p+="#"+c),p||(p="#"+c),i&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var x={Target:p};return d&&(x.guid=d),g&&(x.time=g),s&&(x.Tooltip=s),x}function Z6(t){var e=t.read_shift(1),n=t.read_shift(1),r=t.read_shift(1),i=t.read_shift(1);return[e,n,r,i]}function ek(t,e){var n=Z6(t);return n[3]=0,n}function Us(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return{r:e,c:n,ixfe:r}}function MU(t){var e=t.read_shift(2),n=t.read_shift(2);return t.l+=8,{type:e,flags:n}}function PU(t,e,n){return e===0?"":Wu(t,e,n)}function LU(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),o=t.read_shift(r,"i");return[i,s,o]}function tk(t){var e=t.read_shift(2),n=$v(t);return[e,n]}function OU(t,e,n){t.l+=4,e-=4;var r=t.l+e,i=V0(t,e,n),s=t.read_shift(2);if(r-=t.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return t.l+=s,i}function mm(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function nk(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(1),i=t.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:n}}}var FU=nk;function rk(t){t.l+=4;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2);return t.l+=12,[n,e,r]}function UU(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function VU(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function yr(t){t.l+=2,t.l+=t.read_shift(2)}var BU={0:yr,4:yr,5:yr,6:yr,7:VU,8:yr,9:yr,10:yr,11:yr,12:yr,13:UU,14:yr,15:yr,16:yr,17:yr,18:yr,19:yr,20:yr,21:rk};function qU(t,e){for(var n=t.l+e,r=[];t.l<n;){var i=t.read_shift(2);t.l-=2;try{r.push(BU[i](t,n-t.l))}catch{return t.l=n,r}}return t.l!=n&&(t.l=n),r}function wd(t,e){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=t.read_shift(2),e-=2,e>=2&&(n.dt=t.read_shift(2),t.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return t.read_shift(e),n}function HU(t,e){return e===0||t.read_shift(2),1200}function zU(t,e,n){if(n.enc)return t.l+=e,"";var r=t.l,i=Wu(t,0,n);return t.read_shift(e+r-t.l),i}function GU(t,e,n){var r=n&&n.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function jU(t,e,n){var r=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var o=V0(t,0,n);return o.length===0&&(o="Sheet1"),{pos:r,hs:i,dt:s,name:o}}function $U(t,e){for(var n=t.l+e,r=t.read_shift(4),i=t.read_shift(4),s=[],o=0;o!=i&&t.l<n;++o)s.push(CU(t));return s.Count=r,s.Unique=i,s}function WU(t,e){var n={};return n.dsst=t.read_shift(2),t.l+=e-2,n}function KU(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var n=t.read_shift(2);t.l+=4;var r=t.read_shift(1);return t.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=n/20),e}function YU(t){var e=MU(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var n=t.read_shift(4);return n!==0}function XU(t){return t.read_shift(2),t.read_shift(4)}function yS(t,e,n){var r=0;n&&n.biff==2||(r=t.read_shift(2));var i=t.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function JU(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),f=t.read_shift(2),c=t.read_shift(2);return{Pos:[e,n],Dim:[r,i],Flags:s,CurTab:o,FirstTab:l,Selected:f,TabRatio:c}}function QU(t,e,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=t.read_shift(2);return{RTL:r&64}}function ZU(){}function eV(t,e,n){var r={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return r.name=V0(t,0,n),r}function tV(t){var e=Us(t);return e.isst=t.read_shift(4),e}function nV(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=t.l+e,i=Us(t);n.biff==2&&t.l++;var s=B0(t,r-t.l,n);return i.val=s,i}function rV(t,e,n){var r=t.read_shift(2),i=Wu(t,0,n);return[r,i]}var iV=Wu;function vS(t,e,n){var r=t.l+e,i=n.biff==8||!n.biff?4:2,s=t.read_shift(i),o=t.read_shift(i),l=t.read_shift(2),f=t.read_shift(2);return t.l=r,{s:{r:s,c:l},e:{r:o,c:f}}}function sV(t){var e=t.read_shift(2),n=t.read_shift(2),r=tk(t);return{r:e,c:n,ixfe:r[0],rknum:r[1]}}function aV(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(tk(t));if(t.l!==n)throw new Error("MulRK read error");var o=t.read_shift(2);if(s.length!=o-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:o,rkrec:s}}function oV(t,e){for(var n=t.l+e-2,r=t.read_shift(2),i=t.read_shift(2),s=[];t.l<n;)s.push(t.read_shift(2));if(t.l!==n)throw new Error("MulBlank read error");var o=t.read_shift(2);if(s.length!=o-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:o,ixfe:s}}function uV(t,e,n,r){var i={},s=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(4),f=t.read_shift(2);return i.patternType=sU[l>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=o&15,i.dgRight=o>>4&15,i.dgTop=o>>8&15,i.dgBottom=o>>12&15,i.icvLeft=o>>16&127,i.icvRight=o>>23&127,i.grbitDiag=o>>30&3,i.icvTop=l&127,i.icvBottom=l>>7&127,i.icvDiag=l>>14&127,i.dgDiag=l>>21&15,i.icvFore=f&127,i.icvBack=f>>7&127,i.fsxButton=f>>14&1),i}function lV(t,e,n){var r={};return r.ifnt=t.read_shift(2),r.numFmtId=t.read_shift(2),r.flags=t.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=uV(t,e,r.fStyle,n),r}function cV(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function _S(t,e,n){var r=Us(t);(n.biff==2||e==9)&&++t.l;var i=AU(t);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function fV(t,e,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=Us(t),i=Er(t);return r.val=i,r}var TS=PU;function hV(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(n.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var o=Mu(t,s),l=[];r>t.l;)l.push(B0(t));return[s,i,o,l]}function ES(t,e,n){var r=t.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=OU(t,e-2,n)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var dV=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function bS(t,e,n){var r=t.l+e,i=t.read_shift(2),s=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(n&&n.biff==2?1:2),f=0;(!n||n.biff>=5)&&(n.biff!=5&&(t.l+=2),f=t.read_shift(2),n.biff==5&&(t.l+=2),t.l+=4);var c=Mu(t,o,n);i&32&&(c=dV[c.charCodeAt(0)]);var d=r-t.l;n&&n.biff==2&&--d;var g=r==t.l||l===0||!(d>0)?[]:KH(t,d,n,l);return{chKey:s,Name:c,itab:f,rgce:g}}function ik(t,e,n){if(n.biff<8)return pV(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(LU(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function pV(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=V0(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function mV(t,e,n){if(n.biff<8){t.l+=e;return}var r=t.read_shift(2),i=t.read_shift(2),s=Mu(t,r,n),o=Mu(t,i,n);return[s,o]}function gV(t,e,n){var r=nk(t);t.l++;var i=t.read_shift(1);return e-=8,[YH(t,e,n),i,r]}function wS(t,e,n){var r=FU(t);switch(n.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[r,$H(t,e,n)]}function xV(t){var e=t.read_shift(4)!==0,n=t.read_shift(4)!==0,r=t.read_shift(4);return[e,n,r]}function yV(t,e,n){if(!(n.biff<8)){var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),o=t.read_shift(2),l=Wu(t,0,n);return n.biff<8&&t.read_shift(1),[{r,c:i},l,o,s]}}function vV(t,e,n){return yV(t,e,n)}function _V(t,e){for(var n=[],r=t.read_shift(2);r--;)n.push(mm(t));return n}function TV(t,e,n){if(n&&n.biff<8)return bV(t,e,n);var r=rk(t),i=qU(t,e-22,r[1]);return{cmo:r,ft:i}}var EV={8:function(t,e){var n=t.l+e;t.l+=10;var r=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=n,{fmt:r}}};function bV(t,e,n){t.l+=4;var r=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var o=[];return o.push((EV[r]||Cr)(t,e,n)),{cmo:[i,r,s],ft:o}}function wV(t,e,n){var r=t.l,i="";try{t.l+=4;var s=(n.lastobj||{cmo:[0,0]}).cmo[1],o;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:o=IU(t,6,n);var l=t.read_shift(2);t.read_shift(2),zn(t,2);var f=t.read_shift(2);t.l+=f;for(var c=1;c<t.lens.length-1;++c){if(t.l-r!=t.lens[c])throw new Error("TxO: bad continue record");var d=t[t.l],g=Mu(t,t.lens[c+1]-t.lens[c]-1);if(i+=g,i.length>=(d?l:2*l))break}if(i.length!==l&&i.length!==l*2)throw new Error("cchText: "+l+" != "+i.length);return t.l=r+e,{t:i}}catch{return t.l=r+e,{t:i}}}function SV(t,e){var n=mm(t);t.l+=16;var r=DU(t,e-24);return[n,r]}function AV(t,e){t.read_shift(2);var n=mm(t),r=t.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(Fr,""),[n,r]}function CV(t){var e=[0,0],n;return n=t.read_shift(2),e[0]=dS[n]||n,n=t.read_shift(2),e[1]=dS[n]||n,e}function IV(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(ek(t));return n}function kV(t){for(var e=t.read_shift(2),n=[];e-- >0;)n.push(ek(t));return n}function RV(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function sk(t,e,n){if(!n.cellStyles)return Cr(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(r),f=t.read_shift(2);r==2&&(t.l+=2);var c={s:i,e:s,w:o,ixfe:l,flags:f};return(n.biff>=5||!n.biff)&&(c.level=f>>8&7),c}function NV(t,e){var n={};return e<32||(t.l+=16,n.header=Er(t),n.footer=Er(t),t.l+=2),n}function DV(t,e,n){var r={area:!1};if(n.biff!=5)return t.l+=e,r;var i=t.read_shift(1);return t.l+=3,i&16&&(r.area=!0),r}var MV=Us,PV=Q6,LV=B0;function OV(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i={fmt:e,env:n,len:r,data:t.slice(t.l,t.l+r)};return t.l+=r,i}function FV(t,e,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=Us(t);++t.l;var i=Wu(t,e-7,n);return r.t="str",r.val=i,r}function UV(t){var e=Us(t);++t.l;var n=Er(t);return e.t="n",e.val=n,e}function VV(t){var e=Us(t);++t.l;var n=t.read_shift(2);return e.t="n",e.val=n,e}function BV(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function qV(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function HV(t,e,n){var r=t.l+e,i=Us(t),s=t.read_shift(2),o=Mu(t,s,n);return t.l=r,i.t="str",i.val=o,i}var zV=[2,3,48,49,131,139,140,245],SS=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Fv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(l,f){var c=[],d=Po(1);switch(f.type){case"base64":d=es(di(l));break;case"binary":d=es(l);break;case"buffer":case"array":d=l;break}lr(d,0);var g=d.read_shift(1),p=!!(g&136),x=!1,_=!1;switch(g){case 2:break;case 3:break;case 48:x=!0,p=!0;break;case 49:x=!0,p=!0;break;case 131:break;case 139:break;case 140:_=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var b=0,C=521;g==2&&(b=d.read_shift(2)),d.l+=3,g!=2&&(b=d.read_shift(4)),b>1048576&&(b=1e6),g!=2&&(C=d.read_shift(2));var I=d.read_shift(2),D=f.codepage||1252;g!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(D=t[d[d.l]]),d.l+=1,d.l+=2),_&&(d.l+=36);for(var A=[],P={},M=Math.min(d.length,g==2?521:C-10-(x?264:0)),U=_?32:11;d.l<M&&d[d.l]!=13;)switch(P={},P.name=m0.utils.decode(D,d.slice(d.l,d.l+U)).replace(/[\u0000\r\n].*$/g,""),d.l+=U,P.type=String.fromCharCode(d.read_shift(1)),g!=2&&!_&&(P.offset=d.read_shift(4)),P.len=d.read_shift(1),g==2&&(P.offset=d.read_shift(2)),P.dec=d.read_shift(1),P.name.length&&A.push(P),g!=2&&(d.l+=_?13:14),P.type){case"B":(!x||P.len!=8)&&f.WTF&&console.log("Skipping "+P.name+":"+P.type);break;case"G":case"P":f.WTF&&console.log("Skipping "+P.name+":"+P.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+P.type)}if(d[d.l]!==13&&(d.l=C-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=C;var N=0,k=0;for(c[0]=[],k=0;k!=A.length;++k)c[0][k]=A[k].name;for(;b-- >0;){if(d[d.l]===42){d.l+=I;continue}for(++d.l,c[++N]=[],k=0,k=0;k!=A.length;++k){var R=d.slice(d.l,d.l+A[k].len);d.l+=A[k].len,lr(R,0);var V=m0.utils.decode(D,R);switch(A[k].type){case"C":V.trim().length&&(c[N][k]=V.replace(/\s+$/,""));break;case"D":V.length===8?c[N][k]=new Date(+V.slice(0,4),+V.slice(4,6)-1,+V.slice(6,8)):c[N][k]=V;break;case"F":c[N][k]=parseFloat(V.trim());break;case"+":case"I":c[N][k]=_?R.read_shift(-4,"i")^2147483648:R.read_shift(4,"i");break;case"L":switch(V.trim().toUpperCase()){case"Y":case"T":c[N][k]=!0;break;case"N":case"F":c[N][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+V+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));c[N][k]="##MEMO##"+(_?parseInt(V.trim(),10):R.read_shift(4));break;case"N":V=V.replace(/\u0000/g,"").trim(),V&&V!="."&&(c[N][k]=+V||0);break;case"@":c[N][k]=new Date(R.read_shift(-8,"f")-621356832e5);break;case"T":c[N][k]=new Date((R.read_shift(4)-2440588)*864e5+R.read_shift(4));break;case"Y":c[N][k]=R.read_shift(4,"i")/1e4+R.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[N][k]=-R.read_shift(-8,"f");break;case"B":if(x&&A[k].len==8){c[N][k]=R.read_shift(8,"f");break}case"G":case"P":R.l+=A[k].len;break;case"0":if(A[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+A[k].type)}}}if(g!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return f&&f.sheetRows&&(c=c.slice(0,f.sheetRows)),f.DBF=A,c}function r(l,f){var c=f||{};c.dateNF||(c.dateNF="yyyymmdd");var d=Sc(n(l,c),c);return d["!cols"]=c.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete c.DBF,d}function i(l,f){try{return Ho(r(l,f),f)}catch(c){if(f&&f.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,f){var c=f||{};if(+c.codepage>=0&&ns(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var d=cy(),g=vy(l,{header:1,raw:!0,cellDates:!0}),p=g[0],x=g.slice(1),_=l["!cols"]||[],b=0,C=0,I=0,D=1;for(b=0;b<p.length;++b){if(((_[b]||{}).DBF||{}).name){p[b]=_[b].DBF.name,++I;continue}if(p[b]!=null){if(++I,typeof p[b]=="number"&&(p[b]=p[b].toString(10)),typeof p[b]!="string")throw new Error("DBF Invalid column name "+p[b]+" |"+typeof p[b]+"|");if(p.indexOf(p[b])!==b){for(C=0;C<1024;++C)if(p.indexOf(p[b]+"_"+C)==-1){p[b]+="_"+C;break}}}}var A=In(l["!ref"]),P=[],M=[],U=[];for(b=0;b<=A.e.c-A.s.c;++b){var N="",k="",R=0,V=[];for(C=0;C<x.length;++C)x[C][b]!=null&&V.push(x[C][b]);if(V.length==0||p[b]==null){P[b]="?";continue}for(C=0;C<V.length;++C){switch(typeof V[C]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=V[C]instanceof Date?"D":"C";break;default:k="C"}R=Math.max(R,String(V[C]).length),N=N&&N!=k?"C":k}R>250&&(R=250),k=((_[b]||{}).DBF||{}).type,k=="C"&&_[b].DBF.len>R&&(R=_[b].DBF.len),N=="B"&&k=="N"&&(N="N",U[b]=_[b].DBF.dec,R=_[b].DBF.len),M[b]=N=="C"||k=="N"?R:s[N]||0,D+=M[b],P[b]=N}var L=d.next(32);for(L.write_shift(4,318902576),L.write_shift(4,x.length),L.write_shift(2,296+32*I),L.write_shift(2,D),b=0;b<4;++b)L.write_shift(4,0);for(L.write_shift(4,0|(+e[i6]||3)<<8),b=0,C=0;b<p.length;++b)if(p[b]!=null){var F=d.next(32),q=(p[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);F.write_shift(1,q,"sbcs"),F.write_shift(1,P[b]=="?"?"C":P[b],"sbcs"),F.write_shift(4,C),F.write_shift(1,M[b]||s[P[b]]||0),F.write_shift(1,U[b]||0),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(1,0),F.write_shift(4,0),F.write_shift(4,0),C+=M[b]||s[P[b]]||0}var ce=d.next(264);for(ce.write_shift(4,13),b=0;b<65;++b)ce.write_shift(4,0);for(b=0;b<x.length;++b){var oe=d.next(D);for(oe.write_shift(1,0),C=0;C<p.length;++C)if(p[C]!=null)switch(P[C]){case"L":oe.write_shift(1,x[b][C]==null?63:x[b][C]?84:70);break;case"B":oe.write_shift(8,x[b][C]||0,"f");break;case"N":var ae="0";for(typeof x[b][C]=="number"&&(ae=x[b][C].toFixed(U[C]||0)),I=0;I<M[C]-ae.length;++I)oe.write_shift(1,32);oe.write_shift(1,ae,"sbcs");break;case"D":x[b][C]?(oe.write_shift(4,("0000"+x[b][C].getFullYear()).slice(-4),"sbcs"),oe.write_shift(2,("00"+(x[b][C].getMonth()+1)).slice(-2),"sbcs"),oe.write_shift(2,("00"+x[b][C].getDate()).slice(-2),"sbcs")):oe.write_shift(8,"00000000","sbcs");break;case"C":var se=String(x[b][C]!=null?x[b][C]:"").slice(0,M[C]);for(oe.write_shift(1,se,"sbcs"),I=0;I<M[C]-se.length;++I)oe.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}})(),GV=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Ms(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(p,x){var _=t[x];return typeof _=="number"?qw(_):_},r=function(p,x,_){var b=x.charCodeAt(0)-32<<4|_.charCodeAt(0)-48;return b==59?p:qw(b)};t["|"]=254;function i(p,x){switch(x.type){case"base64":return s(di(p),x);case"binary":return s(p,x);case"buffer":return s(Pt&&Buffer.isBuffer(p)?p.toString("binary"):zu(p),x);case"array":return s(Du(p),x)}throw new Error("Unrecognized type "+x.type)}function s(p,x){var _=p.split(/[\n\r]+/),b=-1,C=-1,I=0,D=0,A=[],P=[],M=null,U={},N=[],k=[],R=[],V=0,L;for(+x.codepage>=0&&ns(+x.codepage);I!==_.length;++I){V=0;var F=_[I].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),q=F.replace(/;;/g,"\0").split(";").map(function(re){return re.replace(/\u0000/g,";")}),ce=q[0],oe;if(F.length>0)switch(ce){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":q[1].charAt(0)=="P"&&P.push(F.slice(3).replace(/;;/g,";"));break;case"C":var ae=!1,se=!1,me=!1,X=!1,ge=-1,G=-1;for(D=1;D<q.length;++D)switch(q[D].charAt(0)){case"A":break;case"X":C=parseInt(q[D].slice(1))-1,se=!0;break;case"Y":for(b=parseInt(q[D].slice(1))-1,se||(C=0),L=A.length;L<=b;++L)A[L]=[];break;case"K":oe=q[D].slice(1),oe.charAt(0)==='"'?oe=oe.slice(1,oe.length-1):oe==="TRUE"?oe=!0:oe==="FALSE"?oe=!1:isNaN(as(oe))?isNaN(hc(oe).getDate())||(oe=nr(oe)):(oe=as(oe),M!==null&&bc(M)&&(oe=pm(oe))),ae=!0;break;case"E":X=!0;var z=Ql(q[D].slice(1),{r:b,c:C});A[b][C]=[A[b][C],z];break;case"S":me=!0,A[b][C]=[A[b][C],"S5S"];break;case"G":break;case"R":ge=parseInt(q[D].slice(1))-1;break;case"C":G=parseInt(q[D].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+F)}if(ae&&(A[b][C]&&A[b][C].length==2?A[b][C][0]=oe:A[b][C]=oe,M=null),me){if(X)throw new Error("SYLK shared formula cannot have own formula");var K=ge>-1&&A[ge][G];if(!K||!K[1])throw new Error("SYLK shared formula cannot find base");A[b][C][1]=mk(K[1],{r:b-ge,c:C-G})}break;case"F":var ee=0;for(D=1;D<q.length;++D)switch(q[D].charAt(0)){case"X":C=parseInt(q[D].slice(1))-1,++ee;break;case"Y":for(b=parseInt(q[D].slice(1))-1,L=A.length;L<=b;++L)A[L]=[];break;case"M":V=parseInt(q[D].slice(1))/20;break;case"F":break;case"G":break;case"P":M=P[parseInt(q[D].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(R=q[D].slice(1).split(" "),L=parseInt(R[0],10);L<=parseInt(R[1],10);++L)V=parseInt(R[2],10),k[L-1]=V===0?{hidden:!0}:{wch:V},dc(k[L-1]);break;case"C":C=parseInt(q[D].slice(1))-1,k[C]||(k[C]={});break;case"R":b=parseInt(q[D].slice(1))-1,N[b]||(N[b]={}),V>0?(N[b].hpt=V,N[b].hpx=T0(V)):V===0&&(N[b].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+F)}ee<1&&(M=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+F)}}return N.length>0&&(U["!rows"]=N),k.length>0&&(U["!cols"]=k),x&&x.sheetRows&&(A=A.slice(0,x.sheetRows)),[A,U]}function o(p,x){var _=i(p,x),b=_[0],C=_[1],I=Sc(b,x);return Ms(C).forEach(function(D){I[D]=C[D]}),I}function l(p,x){return Ho(o(p,x),x)}function f(p,x,_,b){var C="C;Y"+(_+1)+";X"+(b+1)+";K";switch(p.t){case"n":C+=p.v||0,p.f&&!p.F&&(C+=";E"+Rq(p.f,{r:_,c:b}));break;case"b":C+=p.v?"TRUE":"FALSE";break;case"e":C+=p.w||p.v;break;case"d":C+='"'+(p.w||p.v)+'"';break;case"s":C+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return C}function c(p,x){x.forEach(function(_,b){var C="F;W"+(b+1)+" "+(b+1)+" ";_.hidden?C+="0":(typeof _.width=="number"&&!_.wpx&&(_.wpx=Ap(_.width)),typeof _.wpx=="number"&&!_.wch&&(_.wch=Cp(_.wpx)),typeof _.wch=="number"&&(C+=Math.round(_.wch))),C.charAt(C.length-1)!=" "&&p.push(C)})}function d(p,x){x.forEach(function(_,b){var C="F;";_.hidden?C+="M0;":_.hpt?C+="M"+20*_.hpt+";":_.hpx&&(C+="M"+20*hk(_.hpx)+";"),C.length>2&&p.push(C+"R"+(b+1))})}function g(p,x){var _=["ID;PWXL;N;E"],b=[],C=In(p["!ref"]),I,D=Array.isArray(p),A=`\r
    +`;_.push("P;PGeneral"),_.push("F;P0;DG0G8;M255"),p["!cols"]&&c(_,p["!cols"]),p["!rows"]&&d(_,p["!rows"]),_.push("B;Y"+(C.e.r-C.s.r+1)+";X"+(C.e.c-C.s.c+1)+";D"+[C.s.c,C.s.r,C.e.c,C.e.r].join(" "));for(var P=C.s.r;P<=C.e.r;++P)for(var M=C.s.c;M<=C.e.c;++M){var U=gt({r:P,c:M});I=D?(p[P]||[])[M]:p[U],!(!I||I.v==null&&(!I.f||I.F))&&b.push(f(I,p,P,M))}return _.join(A)+A+b.join(A)+A+"E"+A}return{to_workbook:l,to_sheet:o,from_sheet:g}})(),jV=(function(){function t(s,o){switch(o.type){case"base64":return e(di(s),o);case"binary":return e(s,o);case"buffer":return e(Pt&&Buffer.isBuffer(s)?s.toString("binary"):zu(s),o);case"array":return e(Du(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var l=s.split(`
     `),f=-1,c=-1,d=0,g=[];d!==l.length;++d){if(l[d].trim()==="BOT"){g[++f]=[],c=0;continue}if(!(f<0)){var p=l[d].trim().split(","),x=p[0],_=p[1];++d;for(var b=l[d]||"";(b.match(/["]/g)||[]).length&1&&d<l.length-1;)b+=`
    -`+l[++d];switch(b=b.trim(),+x){case-1:if(b==="BOT"){g[++f]=[],c=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?g[f][c]=!0:b==="FALSE"?g[f][c]=!1:isNaN(as(_))?isNaN(cc(_).getDate())?g[f][c]=_:g[f][c]=nr(_):g[f][c]=as(_),++c;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),g[f][c++]=b!==""?b:null;break}if(b==="EOD")break}}return o&&o.sheetRows&&(g=g.slice(0,o.sheetRows)),g}function n(s,o){return wc(t(s,o),o)}function r(s,o){return qo(n(s,o),o)}var i=(function(){var s=function(f,c,d,g,p){f.push(c),f.push(d+","+g),f.push('"'+p.replace(/"/g,'""')+'"')},o=function(f,c,d,g){f.push(c+","+d),f.push(c==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(f){var c=[],d=In(f["!ref"]),g,p=Array.isArray(f);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,d.e.r-d.s.r+1,""),s(c,"TUPLES",0,d.e.c-d.s.c+1,""),s(c,"DATA",0,0,"");for(var x=d.s.r;x<=d.e.r;++x){o(c,-1,0,"BOT");for(var _=d.s.c;_<=d.e.c;++_){var b=gt({r:x,c:_});if(g=p?(f[x]||[])[_]:f[b],!g){o(c,1,0,"");continue}switch(g.t){case"n":var C=g.w;!C&&g.v!=null&&(C=g.v),C==null?g.f&&!g.F?o(c,1,0,"="+g.f):o(c,1,0,""):o(c,0,C,"V");break;case"b":o(c,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":o(c,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=Mi(g.z||_t[14],Ur(nr(g.v)))),o(c,0,g.w,"V");break;default:o(c,1,0,"")}}}o(c,-1,0,"EOD");var I=`\r
    -`,M=c.join(I);return M}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),qV=(function(){function t(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
    +`+l[++d];switch(b=b.trim(),+x){case-1:if(b==="BOT"){g[++f]=[],c=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?g[f][c]=!0:b==="FALSE"?g[f][c]=!1:isNaN(as(_))?isNaN(hc(_).getDate())?g[f][c]=_:g[f][c]=nr(_):g[f][c]=as(_),++c;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),g[f][c++]=b!==""?b:null;break}if(b==="EOD")break}}return o&&o.sheetRows&&(g=g.slice(0,o.sheetRows)),g}function n(s,o){return Sc(t(s,o),o)}function r(s,o){return Ho(n(s,o),o)}var i=(function(){var s=function(f,c,d,g,p){f.push(c),f.push(d+","+g),f.push('"'+p.replace(/"/g,'""')+'"')},o=function(f,c,d,g){f.push(c+","+d),f.push(c==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(f){var c=[],d=In(f["!ref"]),g,p=Array.isArray(f);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,d.e.r-d.s.r+1,""),s(c,"TUPLES",0,d.e.c-d.s.c+1,""),s(c,"DATA",0,0,"");for(var x=d.s.r;x<=d.e.r;++x){o(c,-1,0,"BOT");for(var _=d.s.c;_<=d.e.c;++_){var b=gt({r:x,c:_});if(g=p?(f[x]||[])[_]:f[b],!g){o(c,1,0,"");continue}switch(g.t){case"n":var C=g.w;!C&&g.v!=null&&(C=g.v),C==null?g.f&&!g.F?o(c,1,0,"="+g.f):o(c,1,0,""):o(c,0,C,"V");break;case"b":o(c,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":o(c,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=Mi(g.z||_t[14],Ur(nr(g.v)))),o(c,0,g.w,"V");break;default:o(c,1,0,"")}}}o(c,-1,0,"EOD");var I=`\r
    +`,D=c.join(I);return D}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),$V=(function(){function t(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
     `)}function e(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(g,p){for(var x=g.split(`
    -`),_=-1,b=-1,C=0,I=[];C!==x.length;++C){var M=x[C].trim().split(":");if(M[0]==="cell"){var A=Lr(M[1]);if(I.length<=A.r)for(_=I.length;_<=A.r;++_)I[_]||(I[_]=[]);switch(_=A.r,b=A.c,M[2]){case"t":I[_][b]=t(M[3]);break;case"v":I[_][b]=+M[3];break;case"vtf":var P=M[M.length-1];case"vtc":switch(M[3]){case"nl":I[_][b]=!!+M[4];break;default:I[_][b]=+M[4];break}M[2]=="vtf"&&(I[_][b]=[I[_][b],P])}}}return p&&p.sheetRows&&(I=I.slice(0,p.sheetRows)),I}function r(g,p){return wc(n(g,p),p)}function i(g,p){return qo(r(g,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
    +`),_=-1,b=-1,C=0,I=[];C!==x.length;++C){var D=x[C].trim().split(":");if(D[0]==="cell"){var A=Lr(D[1]);if(I.length<=A.r)for(_=I.length;_<=A.r;++_)I[_]||(I[_]=[]);switch(_=A.r,b=A.c,D[2]){case"t":I[_][b]=t(D[3]);break;case"v":I[_][b]=+D[3];break;case"vtf":var P=D[D.length-1];case"vtc":switch(D[3]){case"nl":I[_][b]=!!+D[4];break;default:I[_][b]=+D[4];break}D[2]=="vtf"&&(I[_][b]=[I[_][b],P])}}}return p&&p.sheetRows&&(I=I.slice(0,p.sheetRows)),I}function r(g,p){return Sc(n(g,p),p)}function i(g,p){return Ho(r(g,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
     `),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
     `)+`
     `,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
    -`),f="--SocialCalcSpreadsheetControlSave--";function c(g){if(!g||!g["!ref"])return"";for(var p=[],x=[],_,b="",C=bc(g["!ref"]),I=Array.isArray(g),M=C.s.r;M<=C.e.r;++M)for(var A=C.s.c;A<=C.e.c;++A)if(b=gt({r:M,c:A}),_=I?(g[M]||[])[A]:g[b],!(!_||_.v==null||_.t==="z")){switch(x=["cell",b,"t"],_.t){case"s":case"str":x.push(e(_.v));break;case"n":_.f?(x[2]="vtf",x[3]="n",x[4]=_.v,x[5]=e(_.f)):(x[2]="v",x[3]=_.v);break;case"b":x[2]="vt"+(_.f?"f":"c"),x[3]="nl",x[4]=_.v?"1":"0",x[5]=e(_.f||(_.v?"TRUE":"FALSE"));break;case"d":var P=Ur(nr(_.v));x[2]="vtc",x[3]="nd",x[4]=""+P,x[5]=_.w||Mi(_.z||_t[14],P);break;case"e":continue}p.push(x.join(":"))}return p.push("sheet:c:"+(C.e.c-C.s.c+1)+":r:"+(C.e.r-C.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
    +`),f="--SocialCalcSpreadsheetControlSave--";function c(g){if(!g||!g["!ref"])return"";for(var p=[],x=[],_,b="",C=wc(g["!ref"]),I=Array.isArray(g),D=C.s.r;D<=C.e.r;++D)for(var A=C.s.c;A<=C.e.c;++A)if(b=gt({r:D,c:A}),_=I?(g[D]||[])[A]:g[b],!(!_||_.v==null||_.t==="z")){switch(x=["cell",b,"t"],_.t){case"s":case"str":x.push(e(_.v));break;case"n":_.f?(x[2]="vtf",x[3]="n",x[4]=_.v,x[5]=e(_.f)):(x[2]="v",x[3]=_.v);break;case"b":x[2]="vt"+(_.f?"f":"c"),x[3]="nl",x[4]=_.v?"1":"0",x[5]=e(_.f||(_.v?"TRUE":"FALSE"));break;case"d":var P=Ur(nr(_.v));x[2]="vtc",x[3]="nd",x[4]=""+P,x[5]=_.w||Mi(_.z||_t[14],P);break;case"e":continue}p.push(x.join(":"))}return p.push("sheet:c:"+(C.e.c-C.s.c+1)+":r:"+(C.e.r-C.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
     `)}function d(g){return[s,o,l,o,c(g),f].join(`
    -`)}return{to_workbook:i,to_sheet:r,from_sheet:d}})(),y0=(function(){function t(d,g,p,x,_){_.raw?g[p][x]=d:d===""||(d==="TRUE"?g[p][x]=!0:d==="FALSE"?g[p][x]=!1:isNaN(as(d))?isNaN(cc(d).getDate())?g[p][x]=d:g[p][x]=nr(d):g[p][x]=as(d))}function e(d,g){var p=g||{},x=[];if(!d||d.length===0)return x;for(var _=d.split(/[\r\n]/),b=_.length-1;b>=0&&_[b].length===0;)--b;for(var C=10,I=0,M=0;M<=b;++M)I=_[M].indexOf(" "),I==-1?I=_[M].length:I++,C=Math.max(C,I);for(M=0;M<=b;++M){x[M]=[];var A=0;for(t(_[M].slice(0,C).trim(),x,M,A,p),A=1;A<=(_[M].length-C)/10+1;++A)t(_[M].slice(C+(A-1)*10,C+A*10).trim(),x,M,A,p)}return p.sheetRows&&(x=x.slice(0,p.sheetRows)),x}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(d){for(var g={},p=!1,x=0,_=0;x<d.length;++x)(_=d.charCodeAt(x))==34?p=!p:!p&&_ in n&&(g[_]=(g[_]||0)+1);_=[];for(x in g)Object.prototype.hasOwnProperty.call(g,x)&&_.push([g[x],x]);if(!_.length){g=r;for(x in g)Object.prototype.hasOwnProperty.call(g,x)&&_.push([g[x],x])}return _.sort(function(b,C){return b[0]-C[0]||r[b[1]]-r[C[1]]}),n[_.pop()[1]]||44}function s(d,g){var p=g||{},x="",_=p.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(x=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(x=d.charAt(4),d=d.slice(6)):x=i(d.slice(0,1024)):p&&p.FS?x=p.FS:x=i(d.slice(0,1024));var C=0,I=0,M=0,A=0,P=0,D=x.charCodeAt(0),V=!1,N=0,k=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
    -`);var R=p.dateNF!=null?QF(p.dateNF):null;function O(){var L=d.slice(A,P),U={};if(L.charAt(0)=='"'&&L.charAt(L.length-1)=='"'&&(L=L.slice(1,-1).replace(/""/g,'"')),L.length===0)U.t="z";else if(p.raw)U.t="s",U.v=L;else if(L.trim().length===0)U.t="s",U.v=L;else if(L.charCodeAt(0)==61)L.charCodeAt(1)==34&&L.charCodeAt(L.length-1)==34?(U.t="s",U.v=L.slice(2,-1).replace(/""/g,'"')):Cq(L)?(U.t="n",U.f=L.slice(1)):(U.t="s",U.v=L);else if(L=="TRUE")U.t="b",U.v=!0;else if(L=="FALSE")U.t="b",U.v=!1;else if(!isNaN(M=as(L)))U.t="n",p.cellText!==!1&&(U.w=L),U.v=M;else if(!isNaN(cc(L).getDate())||R&&L.match(R)){U.z=p.dateNF||_t[14];var q=0;R&&L.match(R)&&(L=ZF(L,p.dateNF,L.match(R)||[]),q=1),p.cellDates?(U.t="d",U.v=nr(L,q)):(U.t="n",U.v=Ur(nr(L,q))),p.cellText!==!1&&(U.w=Mi(U.z,U.v instanceof Date?Ur(U.v):U.v)),p.cellNF||delete U.z}else U.t="s",U.v=L;if(U.t=="z"||(p.dense?(_[C]||(_[C]=[]),_[C][I]=U):_[gt({c:I,r:C})]=U),A=P+1,k=d.charCodeAt(A),b.e.c<I&&(b.e.c=I),b.e.r<C&&(b.e.r=C),N==D)++I;else if(I=0,++C,p.sheetRows&&p.sheetRows<=C)return!0}e:for(;P<d.length;++P)switch(N=d.charCodeAt(P)){case 34:k===34&&(V=!V);break;case D:case 10:case 13:if(!V&&O())break e;break}return P-A>0&&O(),_["!ref"]=Ft(b),_}function o(d,g){return!(g&&g.PRN)||g.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,g):wc(e(d,g),g)}function l(d,g){var p="",x=g.type=="string"?[0,0,0,0]:Zv(d,g);switch(g.type){case"base64":p=di(d);break;case"binary":p=d;break;case"buffer":g.codepage==65001?p=d.toString("utf8"):g.codepage&&typeof p0<"u"||(p=Pt&&Buffer.isBuffer(d)?d.toString("binary"):qu(d));break;case"array":p=Nu(d);break;case"string":p=d;break;default:throw new Error("Unrecognized type "+g.type)}return x[0]==239&&x[1]==187&&x[2]==191?p=dn(p.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?p=dn(p):g.type=="binary"&&typeof p0<"u",p.slice(0,19)=="socialcalc:version:"?qV.to_sheet(g.type=="string"?p:dn(p),g):o(p,g)}function f(d,g){return qo(l(d,g),g)}function c(d){for(var g=[],p=In(d["!ref"]),x,_=Array.isArray(d),b=p.s.r;b<=p.e.r;++b){for(var C=[],I=p.s.c;I<=p.e.c;++I){var M=gt({r:b,c:I});if(x=_?(d[b]||[])[I]:d[M],!x||x.v==null){C.push("          ");continue}for(var A=(x.w||(ba(x),x.w)||"").slice(0,10);A.length<10;)A+=" ";C.push(A+(I===0?" ":""))}g.push(C.join(""))}return g.join(`
    -`)}return{to_workbook:f,to_sheet:l,from_sheet:c}})();function HV(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=VV.to_workbook(t,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return y0.to_workbook(t,e)}}var Xf=(function(){function t(z,K,ee){if(z){lr(z,z.l||0);for(var re=ee.Enum||be;z.l<z.length;){var pe=z.read_shift(2),ke=re[pe]||re[65535],Re=z.read_shift(2),Ae=z.l+Re,Ne=ke.f&&ke.f(z,Re,ee);if(z.l=Ae,K(Ne,ke,pe))return}}}function e(z,K){switch(K.type){case"base64":return n(es(di(z)),K);case"binary":return n(es(z),K);case"buffer":case"array":return n(z,K)}throw"Unsupported type "+K.type}function n(z,K){if(!z)return z;var ee=K||{},re=ee.dense?[]:{},pe="Sheet1",ke="",Re=0,Ae={},Ne=[],ce=[],Y={s:{r:0,c:0},e:{r:0,c:0}},Ie=ee.sheetRows||0;if(z[2]==0&&(z[3]==8||z[3]==9)&&z.length>=16&&z[14]==5&&z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(z[2]==2)ee.Enum=be,t(z,function(He,nt,Ge){switch(Ge){case 0:ee.vers=He,He>=4096&&(ee.qpro=!0);break;case 6:Y=He;break;case 204:He&&(ke=He);break;case 222:ke=He;break;case 15:case 51:ee.qpro||(He[1].v=He[1].v.slice(1));case 13:case 14:case 16:Ge==14&&(He[2]&112)==112&&(He[2]&15)>1&&(He[2]&15)<15&&(He[1].z=ee.dateNF||_t[14],ee.cellDates&&(He[1].t="d",He[1].v=fm(He[1].v))),ee.qpro&&He[3]>Re&&(re["!ref"]=Ft(Y),Ae[pe]=re,Ne.push(pe),re=ee.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},Re=He[3],pe=ke||"Sheet"+(Re+1),ke="");var We=ee.dense?(re[He[0].r]||[])[He[0].c]:re[gt(He[0])];if(We){We.t=He[1].t,We.v=He[1].v,He[1].z!=null&&(We.z=He[1].z),He[1].f!=null&&(We.f=He[1].f);break}ee.dense?(re[He[0].r]||(re[He[0].r]=[]),re[He[0].r][He[0].c]=He[1]):re[gt(He[0])]=He[1];break}},ee);else if(z[2]==26||z[2]==14)ee.Enum=j,z[2]==14&&(ee.qpro=!0,z.l=0),t(z,function(He,nt,Ge){switch(Ge){case 204:pe=He;break;case 22:He[1].v=He[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(He[3]>Re&&(re["!ref"]=Ft(Y),Ae[pe]=re,Ne.push(pe),re=ee.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},Re=He[3],pe="Sheet"+(Re+1)),Ie>0&&He[0].r>=Ie)break;ee.dense?(re[He[0].r]||(re[He[0].r]=[]),re[He[0].r][He[0].c]=He[1]):re[gt(He[0])]=He[1],Y.e.c<He[0].c&&(Y.e.c=He[0].c),Y.e.r<He[0].r&&(Y.e.r=He[0].r);break;case 27:He[14e3]&&(ce[He[14e3][0]]=He[14e3][1]);break;case 1537:ce[He[0]]=He[1],He[0]==Re&&(pe=He[1]);break}},ee);else throw new Error("Unrecognized LOTUS BOF "+z[2]);if(re["!ref"]=Ft(Y),Ae[ke||pe]=re,Ne.push(ke||pe),!ce.length)return{SheetNames:Ne,Sheets:Ae};for(var Fe={},Ke=[],qe=0;qe<ce.length;++qe)Ae[Ne[qe]]?(Ke.push(ce[qe]||Ne[qe]),Fe[ce[qe]]=Ae[ce[qe]]||Ae[Ne[qe]]):(Ke.push(ce[qe]),Fe[ce[qe]]={"!ref":"A1"});return{SheetNames:Ke,Sheets:Fe}}function r(z,K){var ee=K||{};if(+ee.codepage>=0&&ns(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK1 to JS string");var re=oy(),pe=In(z["!ref"]),ke=Array.isArray(z),Re=[];Wi(re,0,s(1030)),Wi(re,6,f(pe));for(var Ae=Math.min(pe.e.r,8191),Ne=pe.s.r;Ne<=Ae;++Ne)for(var ce=hr(Ne),Y=pe.s.c;Y<=pe.e.c;++Y){Ne===pe.s.r&&(Re[Y]=Yn(Y));var Ie=Re[Y]+ce,Fe=ke?(z[Ne]||[])[Y]:z[Ie];if(!(!Fe||Fe.t=="z"))if(Fe.t=="n")(Fe.v|0)==Fe.v&&Fe.v>=-32768&&Fe.v<=32767?Wi(re,13,x(Ne,Y,Fe.v)):Wi(re,14,b(Ne,Y,Fe.v));else{var Ke=ba(Fe);Wi(re,15,g(Ne,Y,Ke.slice(0,239)))}}return Wi(re,1),re.end()}function i(z,K){var ee=K||{};if(+ee.codepage>=0&&ns(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK3 to JS string");var re=oy();Wi(re,0,o(z));for(var pe=0,ke=0;pe<z.SheetNames.length;++pe)(z.Sheets[z.SheetNames[pe]]||{})["!ref"]&&Wi(re,27,J(z.SheetNames[pe],ke++));var Re=0;for(pe=0;pe<z.SheetNames.length;++pe){var Ae=z.Sheets[z.SheetNames[pe]];if(!(!Ae||!Ae["!ref"])){for(var Ne=In(Ae["!ref"]),ce=Array.isArray(Ae),Y=[],Ie=Math.min(Ne.e.r,8191),Fe=Ne.s.r;Fe<=Ie;++Fe)for(var Ke=hr(Fe),qe=Ne.s.c;qe<=Ne.e.c;++qe){Fe===Ne.s.r&&(Y[qe]=Yn(qe));var He=Y[qe]+Ke,nt=ce?(Ae[Fe]||[])[qe]:Ae[He];if(!(!nt||nt.t=="z"))if(nt.t=="n")Wi(re,23,O(Fe,qe,Re,nt.v));else{var Ge=ba(nt);Wi(re,22,N(Fe,qe,Re,Ge.slice(0,239)))}}++Re}}return Wi(re,1),re.end()}function s(z){var K=Wn(2);return K.write_shift(2,z),K}function o(z){var K=Wn(26);K.write_shift(2,4096),K.write_shift(2,4),K.write_shift(4,0);for(var ee=0,re=0,pe=0,ke=0;ke<z.SheetNames.length;++ke){var Re=z.SheetNames[ke],Ae=z.Sheets[Re];if(!(!Ae||!Ae["!ref"])){++pe;var Ne=bc(Ae["!ref"]);ee<Ne.e.r&&(ee=Ne.e.r),re<Ne.e.c&&(re=Ne.e.c)}}return ee>8191&&(ee=8191),K.write_shift(2,ee),K.write_shift(1,pe),K.write_shift(1,re),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(1,1),K.write_shift(1,2),K.write_shift(4,0),K.write_shift(4,0),K}function l(z,K,ee){var re={s:{c:0,r:0},e:{c:0,r:0}};return K==8&&ee.qpro?(re.s.c=z.read_shift(1),z.l++,re.s.r=z.read_shift(2),re.e.c=z.read_shift(1),z.l++,re.e.r=z.read_shift(2),re):(re.s.c=z.read_shift(2),re.s.r=z.read_shift(2),K==12&&ee.qpro&&(z.l+=2),re.e.c=z.read_shift(2),re.e.r=z.read_shift(2),K==12&&ee.qpro&&(z.l+=2),re.s.c==65535&&(re.s.c=re.e.c=re.s.r=re.e.r=0),re)}function f(z){var K=Wn(8);return K.write_shift(2,z.s.c),K.write_shift(2,z.s.r),K.write_shift(2,z.e.c),K.write_shift(2,z.e.r),K}function c(z,K,ee){var re=[{c:0,r:0},{t:"n",v:0},0,0];return ee.qpro&&ee.vers!=20768?(re[0].c=z.read_shift(1),re[3]=z.read_shift(1),re[0].r=z.read_shift(2),z.l+=2):(re[2]=z.read_shift(1),re[0].c=z.read_shift(2),re[0].r=z.read_shift(2)),re}function d(z,K,ee){var re=z.l+K,pe=c(z,K,ee);if(pe[1].t="s",ee.vers==20768){z.l++;var ke=z.read_shift(1);return pe[1].v=z.read_shift(ke,"utf8"),pe}return ee.qpro&&z.l++,pe[1].v=z.read_shift(re-z.l,"cstr"),pe}function g(z,K,ee){var re=Wn(7+ee.length);re.write_shift(1,255),re.write_shift(2,K),re.write_shift(2,z),re.write_shift(1,39);for(var pe=0;pe<re.length;++pe){var ke=ee.charCodeAt(pe);re.write_shift(1,ke>=128?95:ke)}return re.write_shift(1,0),re}function p(z,K,ee){var re=c(z,K,ee);return re[1].v=z.read_shift(2,"i"),re}function x(z,K,ee){var re=Wn(7);return re.write_shift(1,255),re.write_shift(2,K),re.write_shift(2,z),re.write_shift(2,ee,"i"),re}function _(z,K,ee){var re=c(z,K,ee);return re[1].v=z.read_shift(8,"f"),re}function b(z,K,ee){var re=Wn(13);return re.write_shift(1,255),re.write_shift(2,K),re.write_shift(2,z),re.write_shift(8,ee,"f"),re}function C(z,K,ee){var re=z.l+K,pe=c(z,K,ee);if(pe[1].v=z.read_shift(8,"f"),ee.qpro)z.l=re;else{var ke=z.read_shift(2);P(z.slice(z.l,z.l+ke),pe),z.l+=ke}return pe}function I(z,K,ee){var re=K&32768;return K&=-32769,K=(re?z:0)+(K>=8192?K-16384:K),(re?"":"$")+(ee?Yn(K):hr(K))}var M={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},A=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function P(z,K){lr(z,0);for(var ee=[],re=0,pe="",ke="",Re="",Ae="";z.l<z.length;){var Ne=z[z.l++];switch(Ne){case 0:ee.push(z.read_shift(8,"f"));break;case 1:ke=I(K[0].c,z.read_shift(2),!0),pe=I(K[0].r,z.read_shift(2),!1),ee.push(ke+pe);break;case 2:{var ce=I(K[0].c,z.read_shift(2),!0),Y=I(K[0].r,z.read_shift(2),!1);ke=I(K[0].c,z.read_shift(2),!0),pe=I(K[0].r,z.read_shift(2),!1),ee.push(ce+Y+":"+ke+pe)}break;case 3:if(z.l<z.length){console.error("WK1 premature formula end");return}break;case 4:ee.push("("+ee.pop()+")");break;case 5:ee.push(z.read_shift(2));break;case 6:{for(var Ie="";Ne=z[z.l++];)Ie+=String.fromCharCode(Ne);ee.push('"'+Ie.replace(/"/g,'""')+'"')}break;case 8:ee.push("-"+ee.pop());break;case 23:ee.push("+"+ee.pop());break;case 22:ee.push("NOT("+ee.pop()+")");break;case 20:case 21:Ae=ee.pop(),Re=ee.pop(),ee.push(["AND","OR"][Ne-20]+"("+Re+","+Ae+")");break;default:if(Ne<32&&A[Ne])Ae=ee.pop(),Re=ee.pop(),ee.push(Re+A[Ne]+Ae);else if(M[Ne]){if(re=M[Ne][1],re==69&&(re=z[z.l++]),re>ee.length){console.error("WK1 bad formula parse 0x"+Ne.toString(16)+":|"+ee.join("|")+"|");return}var Fe=ee.slice(-re);ee.length-=re,ee.push(M[Ne][0]+"("+Fe.join(",")+")")}else return Ne<=7?console.error("WK1 invalid opcode "+Ne.toString(16)):Ne<=24?console.error("WK1 unsupported op "+Ne.toString(16)):Ne<=30?console.error("WK1 invalid opcode "+Ne.toString(16)):Ne<=115?console.error("WK1 unsupported function opcode "+Ne.toString(16)):console.error("WK1 unrecognized opcode "+Ne.toString(16))}}ee.length==1?K[1].f=""+ee[0]:console.error("WK1 bad formula parse |"+ee.join("|")+"|")}function D(z){var K=[{c:0,r:0},{t:"n",v:0},0];return K[0].r=z.read_shift(2),K[3]=z[z.l++],K[0].c=z[z.l++],K}function V(z,K){var ee=D(z);return ee[1].t="s",ee[1].v=z.read_shift(K-4,"cstr"),ee}function N(z,K,ee,re){var pe=Wn(6+re.length);pe.write_shift(2,z),pe.write_shift(1,ee),pe.write_shift(1,K),pe.write_shift(1,39);for(var ke=0;ke<re.length;++ke){var Re=re.charCodeAt(ke);pe.write_shift(1,Re>=128?95:Re)}return pe.write_shift(1,0),pe}function k(z,K){var ee=D(z);ee[1].v=z.read_shift(2);var re=ee[1].v>>1;if(ee[1].v&1)switch(re&7){case 0:re=(re>>3)*5e3;break;case 1:re=(re>>3)*500;break;case 2:re=(re>>3)/20;break;case 3:re=(re>>3)/200;break;case 4:re=(re>>3)/2e3;break;case 5:re=(re>>3)/2e4;break;case 6:re=(re>>3)/16;break;case 7:re=(re>>3)/64;break}return ee[1].v=re,ee}function R(z,K){var ee=D(z),re=z.read_shift(4),pe=z.read_shift(4),ke=z.read_shift(2);if(ke==65535)return re===0&&pe===3221225472?(ee[1].t="e",ee[1].v=15):re===0&&pe===3489660928?(ee[1].t="e",ee[1].v=42):ee[1].v=0,ee;var Re=ke&32768;return ke=(ke&32767)-16446,ee[1].v=(1-Re*2)*(pe*Math.pow(2,ke+32)+re*Math.pow(2,ke)),ee}function O(z,K,ee,re){var pe=Wn(14);if(pe.write_shift(2,z),pe.write_shift(1,ee),pe.write_shift(1,K),re==0)return pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(2,65535),pe;var ke=0,Re=0,Ae=0,Ne=0;return re<0&&(ke=1,re=-re),Re=Math.log2(re)|0,re/=Math.pow(2,Re-31),Ne=re>>>0,(Ne&2147483648)==0&&(re/=2,++Re,Ne=re>>>0),re-=Ne,Ne|=2147483648,Ne>>>=0,re*=Math.pow(2,32),Ae=re>>>0,pe.write_shift(4,Ae),pe.write_shift(4,Ne),Re+=16383+(ke?32768:0),pe.write_shift(2,Re),pe}function L(z,K){var ee=R(z);return z.l+=K-14,ee}function U(z,K){var ee=D(z),re=z.read_shift(4);return ee[1].v=re>>6,ee}function q(z,K){var ee=D(z),re=z.read_shift(8,"f");return ee[1].v=re,ee}function he(z,K){var ee=q(z);return z.l+=K-10,ee}function ae(z,K){return z[z.l+K-1]==0?z.read_shift(K,"cstr"):""}function se(z,K){var ee=z[z.l++];ee>K-1&&(ee=K-1);for(var re="";re.length<ee;)re+=String.fromCharCode(z[z.l++]);return re}function ue(z,K,ee){if(!(!ee.qpro||K<21)){var re=z.read_shift(1);z.l+=17,z.l+=1,z.l+=2;var pe=z.read_shift(K-21,"cstr");return[re,pe]}}function Ce(z,K){for(var ee={},re=z.l+K;z.l<re;){var pe=z.read_shift(2);if(pe==14e3){for(ee[pe]=[0,""],ee[pe][0]=z.read_shift(2);z[z.l];)ee[pe][1]+=String.fromCharCode(z[z.l]),z.l++;z.l++}}return ee}function J(z,K){var ee=Wn(5+z.length);ee.write_shift(2,14e3),ee.write_shift(2,K);for(var re=0;re<z.length;++re){var pe=z.charCodeAt(re);ee[ee.l++]=pe>127?95:pe}return ee[ee.l++]=0,ee}var be={0:{n:"BOF",f:zn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:_},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:C},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ae},222:{n:"SHEETNAMELP",f:se},65535:{n:""}},j={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:V},23:{n:"NUMBER17",f:R},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:L},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Ce},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:q},40:{n:"FORMULA28",f:he},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ae},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ue},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function zV(t){var e={},n=t.match(Ir),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=ft(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=kv[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var GV=(function(){var t=g0("t"),e=g0("rPr");function n(s){var o=s.match(t);if(!o)return{t:"s",v:""};var l={t:"s",v:Vt(o[1])},f=s.match(e);return f&&(l.s=zV(f[1])),l}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(i).map(n).filter(function(l){return l.v})}})(),jV=(function(){var e=/(\r\n|\n)/g;function n(i,s,o){var l=[];i.u&&l.push("text-decoration: underline;"),i.uval&&l.push("text-underline-style:"+i.uval+";"),i.sz&&l.push("font-size:"+i.sz+"pt;"),i.outline&&l.push("text-effect: outline;"),i.shadow&&l.push("text-shadow: auto;"),s.push('<span style="'+l.join("")+'">'),i.b&&(s.push("<b>"),o.push("</b>")),i.i&&(s.push("<i>"),o.push("</i>")),i.strike&&(s.push("<s>"),o.push("</s>"));var f=i.valign||"";return f=="superscript"||f=="super"?f="sup":f=="subscript"&&(f="sub"),f!=""&&(s.push("<"+f+">"),o.push("</"+f+">")),o.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),$V=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,WV=/<(?:\w+:)?r>/,KV=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function $v(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Vt(dn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=dn(t),n&&(r.h=Ov(r.t))):t.match(WV)&&(r.r=dn(t),r.t=Vt(dn((t.replace(KV,"").match($V)||[]).join("").replace(Ir,""))),n&&(r.h=jV(GV(r.r)))),r):{t:""}}var YV=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,XV=/<(?:\w+:)?(?:si|sstItem)>/g,JV=/<\/(?:\w+:)?(?:si|sstItem)>/;function QV(t,e){var n=[],r="";if(!t)return n;var i=t.match(YV);if(i){r=i[2].replace(XV,"").split(JV);for(var s=0;s!=r.length;++s){var o=$v(r[s].trim(),e);o!=null&&(n[n.length]=o)}i=ft(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}function ZV(t){return[t.read_shift(4),t.read_shift(4)]}function eB(t,e){var n=[],r=!1;return wa(t,function(s,o,l){switch(l){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(o.T,!r||e.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function tk(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function xa(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function tB(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=xa(t,4),e.U=xa(t,4),e.W=xa(t,4),e}function nB(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=s,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function rB(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(nB(t));return e}function iB(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function sB(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=xa(t,4),e.U=xa(t,4),e.W=xa(t,4),e}function aB(t){var e=sB(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function nk(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function rk(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function oB(t){var e=xa(t);switch(e.Minor){case 2:return[e.Minor,uB(t)];case 3:return[e.Minor,lB()];case 4:return[e.Minor,cB(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function uB(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=nk(t,n),i=rk(t,t.length-t.l);return{t:"Std",h:r,v:i}}function lB(){throw new Error("File is password-protected: ECMA-376 Extensible")}function cB(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(Ir,function(s){var o=ft(s);switch(Os(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(l){r[l]=o[l]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}function fB(t,e){var n={},r=n.EncryptionVersionInfo=xa(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=nk(t,i),e-=i,n.EncryptionVerifier=rk(t,e),n}function hB(t){var e={},n=e.EncryptionVersionInfo=xa(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function dB(t){var e=0,n,r=tk(t),i=r.length+1,s,o,l,f,c;for(n=Do(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)o=n[s],l=(e&16384)===0?0:1,f=e<<1&32767,c=l|f,e=c^o;return e^52811}var ik=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(o){return(o/2|o*128)&255},i=function(o,l){return r(o^l)},s=function(o){for(var l=e[o.length-1],f=104,c=o.length-1;c>=0;--c)for(var d=o[c],g=0;g!=7;++g)d&64&&(l^=n[f]),d*=2,--f;return l};return function(o){for(var l=tk(o),f=s(l),c=l.length,d=Do(16),g=0;g!=16;++g)d[g]=0;var p,x,_;for((c&1)===1&&(p=f>>8,d[c]=i(t[0],p),--c,p=f&255,x=l[l.length-1],d[c]=i(x,p));c>0;)--c,p=f>>8,d[c]=i(l[c],p),--c,p=f&255,d[c]=i(l[c],p);for(c=15,_=15-l.length;_>0;)p=f>>8,d[c]=i(t[_],p),--c,--_,p=f&255,d[c]=i(l[c],p),--c,--_;return d}})(),pB=function(t,e,n,r,i){i||(i=e),r||(r=ik(t));var s,o;for(s=0;s!=e.length;++s)o=e[s],o^=r[n],o=(o>>5|o<<3)&255,i[s]=o,++n;return[i,n,r]},mB=function(t){var e=0,n=ik(t);return function(r){var i=pB("",r,e,n);return e=i[1],i[0]}};function gB(t,e,n,r){var i={key:zn(t),verificationBytes:zn(t)};return n.password&&(i.verifier=dB(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=mB(n.password)),i}function xB(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=hB(t):r.Data=fB(t,e),r}function yB(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?xB(t,e-2,r):gB(t,n.biff>=8?e:e-2,n,r),r}var vB=(function(){function t(i,s){switch(s.type){case"base64":return e(di(i),s);case"binary":return e(i,s);case"buffer":return e(Pt&&Buffer.isBuffer(i)?i.toString("binary"):qu(i),s);case"array":return e(Nu(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var o=s||{},l=o.dense?[]:{},f=i.match(/\\trowd.*?\\row\b/g);if(!f.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:f.length-1}};return f.forEach(function(d,g){Array.isArray(l)&&(l[g]=[]);for(var p=/\\\w+\b/g,x=0,_,b=-1;_=p.exec(d);){switch(_[0]){case"\\cell":var C=d.slice(x,p.lastIndex-_[0].length);if(C[0]==" "&&(C=C.slice(1)),++b,C.length){var I={v:C,t:"s"};Array.isArray(l)?l[g][b]=I:l[gt({r:g,c:b})]=I}break}x=p.lastIndex}b>c.e.c&&(c.e.c=b)}),l["!ref"]=Ft(c),l}function n(i,s){return qo(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=In(i["!ref"]),l,f=Array.isArray(i),c=o.s.r;c<=o.e.r;++c){s.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var g=gt({r:c,c:d});l=f?(i[c]||[])[d]:i[g],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(ba(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function _B(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function v0(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function TB(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),s=Math.min(e,n,r),o=i-s;if(o===0)return[0,0,e];var l=0,f=0,c=i+s;switch(f=o/(c>1?2-c:c),i){case e:l=((n-r)/o+6)%6;break;case n:l=(r-e)/o+2;break;case r:l=(e-n)/o+4;break}return[l/6,f,c/2]}function EB(t){var e=t[0],n=t[1],r=t[2],i=n*2*(r<.5?r:1-r),s=r-i/2,o=[s,s,s],l=6*e,f;if(n!==0)switch(l|0){case 0:case 6:f=i*l,o[0]+=i,o[1]+=f;break;case 1:f=i*(2-l),o[0]+=f,o[1]+=i;break;case 2:f=i*(l-2),o[1]+=i,o[2]+=f;break;case 3:f=i*(4-l),o[1]+=f,o[2]+=i;break;case 4:f=i*(l-4),o[2]+=i,o[0]+=f;break;case 5:f=i*(6-l),o[2]+=f,o[0]+=i;break}for(var c=0;c!=3;++c)o[c]=Math.round(o[c]*255);return o}function wp(t,e){if(e===0)return t;var n=TB(_B(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),v0(EB(n))}var sk=6,bB=15,wB=1,Pr=sk;function Sp(t){return Math.floor((t+Math.round(128/Pr)/256)*Pr)}function Ap(t){return Math.floor((t-5)/Pr*100+.5)/100}function fy(t){return Math.round((t*Pr+5)/Pr*256)/256}function H1(t){return fy(Ap(Sp(t)))}function Wv(t){var e=Math.abs(t-H1(t)),n=Pr;if(e>.005)for(Pr=wB;Pr<bB;++Pr)Math.abs(t-H1(t))<=e&&(e=Math.abs(t-H1(t)),n=Pr);Pr=n}function fc(t){t.width?(t.wpx=Sp(t.width),t.wch=Ap(t.wpx),t.MDW=Pr):t.wpx?(t.wch=Ap(t.wpx),t.width=fy(t.wch),t.MDW=Pr):typeof t.wch=="number"&&(t.width=fy(t.wch),t.wpx=Sp(t.width),t.MDW=Pr),t.customWidth&&delete t.customWidth}var SB=96,ak=SB;function ok(t){return t*96/ak}function _0(t){return t*ak/96}var AB={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function CB(t,e,n,r){e.Borders=[];var i={},s=!1;(t[0].match(Ir)||[]).forEach(function(o){var l=ft(o);switch(Os(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},l.diagonalUp&&(i.diagonalUp=_n(l.diagonalUp)),l.diagonalDown&&(i.diagonalDown=_n(l.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+l[0]+" in borders")}})}function IB(t,e,n,r){e.Fills=[];var i={},s=!1;(t[0].match(Ir)||[]).forEach(function(o){var l=ft(o);switch(Os(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":l.patternType&&(i.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),l.indexed&&(i.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(i.bgColor.theme=parseInt(l.theme,10)),l.tint&&(i.bgColor.tint=parseFloat(l.tint)),l.rgb&&(i.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),l.theme&&(i.fgColor.theme=parseInt(l.theme,10)),l.tint&&(i.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(i.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fills")}})}function kB(t,e,n,r){e.Fonts=[];var i={},s=!1;(t[0].match(Ir)||[]).forEach(function(o){var l=ft(o);switch(Os(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":l.val&&(i.name=dn(l.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=l.val?_n(l.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=l.val?_n(l.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(l.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=l.val?_n(l.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=l.val?_n(l.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=l.val?_n(l.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=l.val?_n(l.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=l.val?_n(l.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":l.val&&(i.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(i.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(i.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(i.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=kv[parseInt(l.val,10)];break;case"<color":if(i.color||(i.color={}),l.auto&&(i.color.auto=_n(l.auto)),l.rgb)i.color.rgb=l.rgb.slice(-6);else if(l.indexed){i.color.index=parseInt(l.indexed,10);var f=wu[i.color.index];i.color.index==81&&(f=wu[1]),f||(f=wu[1]),i.color.rgb=f[0].toString(16)+f[1].toString(16)+f[2].toString(16)}else l.theme&&(i.color.theme=parseInt(l.theme,10),l.tint&&(i.color.tint=parseFloat(l.tint)),l.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=wp(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fonts")}})}function RB(t,e,n){e.NumberFmt=[];for(var r=Ds(_t),i=0;i<r.length;++i)e.NumberFmt[r[i]]=_t[r[i]];var s=t[0].match(Ir);if(s)for(i=0;i<s.length;++i){var o=ft(s[i]);switch(Os(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Vt(dn(o.formatCode)),f=parseInt(o.numFmtId,10);if(e.NumberFmt[f]=l,f>0){if(f>392){for(f=392;f>60&&e.NumberFmt[f]!=null;--f);e.NumberFmt[f]=l}bu(l,f)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var wd=["numFmtId","fillId","fontId","borderId","xfId"],Sd=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function NB(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match(Ir)||[]).forEach(function(s){var o=ft(s),l=0;switch(Os(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=o,delete r[0],l=0;l<wd.length;++l)r[wd[l]]&&(r[wd[l]]=parseInt(r[wd[l]],10));for(l=0;l<Sd.length;++l)r[Sd[l]]&&(r[Sd[l]]=_n(r[Sd[l]]));if(e.NumberFmt&&r.numFmtId>392){for(l=392;l>60;--l)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[l]){r.numFmtId=l;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var f={};o.vertical&&(f.vertical=o.vertical),o.horizontal&&(f.horizontal=o.horizontal),o.textRotation!=null&&(f.textRotation=o.textRotation),o.indent&&(f.indent=o.indent),o.wrapText&&(f.wrapText=_n(o.wrapText)),r.alignment=f;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var DB=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,f,c){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var g;return(g=l.match(e))&&RB(g,d,c),(g=l.match(i))&&kB(g,d,f,c),(g=l.match(r))&&IB(g,d,f,c),(g=l.match(s))&&CB(g,d,f,c),(g=l.match(n))&&NB(g,d,c),d}})();function MB(t,e){var n=t.read_shift(2),r=Sr(t);return[n,r]}function PB(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=G7(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(r.underline=o);var l=t.read_shift(1);l>0&&(r.family=l);var f=t.read_shift(1);switch(f>0&&(r.charset=f),t.l++,r.color=z7(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Sr(t),r}var LB=Cr;function OB(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}var FB=Cr;function UB(t,e,n){var r={};r.NumberFmt=[];for(var i in _t)r.NumberFmt[i]=_t[i];r.CellXf=[],r.Fonts=[];var s=[],o=!1;return wa(t,function(f,c,d){switch(d){case 44:r.NumberFmt[f[0]]=f[1],bu(f[1],f[0]);break;case 43:r.Fonts.push(f),f.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(f.color.rgb=wp(e.themeElements.clrScheme[f.color.theme].rgb,f.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(f);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(d),o=!0;break;case 38:s.pop(),o=!1;break;default:if(c.T>0)s.push(d);else if(c.T<0)s.pop();else if(!o||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),r}var VB=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function BB(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(Ir)||[]).forEach(function(i){var s=ft(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[VB.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function qB(){}function HB(){}var zB=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,GB=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,jB=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function $B(t,e,n){e.themeElements={};var r;[["clrScheme",zB,BB],["fontScheme",GB,qB],["fmtScheme",jB,HB]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}var WB=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function uk(t,e){(!t||t.length===0)&&(t=KB());var n,r={};if(!(n=t.match(WB)))throw new Error("themeElements not found in theme");return $B(n[0],r,e),r.raw=t,r}function KB(t,e){var n=[v6];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function YB(t,e,n){var r=t.l+e,i=t.read_shift(4);if(i!==124226){if(!n.cellStyles){t.l=r;return}var s=t.slice(t.l);t.l=r;var o;try{o=y6(s,{type:"array"})}catch{return}var l=fi(o,"theme/theme/theme1.xml",!0);if(l)return uk(l,n)}}function XB(t){return t.read_shift(4)}function JB(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=QB(t,4);break;case 2:e.xclrValue=K6(t);break;case 3:e.xclrValue=XB(t);break;case 4:t.l+=4;break}return t.l+=8,e}function QB(t,e){return Cr(t,e)}function ZB(t,e){return Cr(t,e)}function eq(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=JB(t);break;case 6:r[1]=ZB(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function tq(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(eq(t,n-t.l));return{ixfe:r,ext:s}}function nq(t,e){e.forEach(function(n){n[0]})}function rq(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Sr(t)}}function iq(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function sq(t){return t.l+=4,t.read_shift(4)!=0}function aq(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],o=!1,l=2;return wa(t,function(f,c,d){switch(d){case 335:r.Types.push({name:f.name});break;case 51:f.forEach(function(g){l==1?r.Cell.push({type:r.Types[g[0]-1].name,index:g[1]}):l==0&&r.Value.push({type:r.Types[g[0]-1].name,index:g[1]})});break;case 337:l=f?1:0;break;case 338:l=2;break;case 35:s.push(d),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!c.T){if(!o||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function oq(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i=!1,s=2,o;return t.replace(Ir,function(l){var f=ft(l);switch(Os(f[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:f.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==f.name&&(o=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[f.t-1].name,index:+f.v}):s==0&&r.Value.push({type:r.Types[f.t-1].name,index:+f.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+f.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+f[0]+" in metadata")}return l}),r}function uq(t){var e=[];if(!t)return e;var n=1;return(t.match(Ir)||[]).forEach(function(r){var i=ft(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i);break}}),e}function lq(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=gt(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function cq(t,e,n){var r=[];return wa(t,function(s,o,l){switch(l){case 63:r.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function fq(t,e,n,r){if(!t)return t;var i=r||{},s=!1;wa(t,function(l,f,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!f.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function hq(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}function wS(t,e,n,r){var i=Array.isArray(t),s;e.forEach(function(o){var l=Lr(o.ref);if(i?(t[l.r]||(t[l.r]=[]),s=t[l.r][l.c]):s=t[o.ref],!s){s={t:"z"},i?t[l.r][l.c]=s:t[o.ref]=s;var f=In(t["!ref"]||"BDWGO1000001:A1");f.s.r>l.r&&(f.s.r=l.r),f.e.r<l.r&&(f.e.r=l.r),f.s.c>l.c&&(f.s.c=l.c),f.e.c<l.c&&(f.e.c=l.c);var c=Ft(f);c!==t["!ref"]&&(t["!ref"]=c)}s.c||(s.c=[]);var d={a:o.author,t:o.t,r:o.r,T:n};o.h&&(d.h=o.h);for(var g=s.c.length-1;g>=0;--g){if(!n&&s.c[g].T)return;n&&!s.c[g].T&&s.c.splice(g,1)}if(n&&r){for(g=0;g<r.length;++g)if(d.a==r[g].id){d.a=r[g].name||d.a;break}}s.c.push(d)})}function dq(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&n.push(l[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var f=ft(l[0]),c={author:f.authorId&&n[f.authorId]||"sheetjsghost",ref:f.ref,guid:f.guid},d=Lr(f.ref);if(!(e.sheetRows&&e.sheetRows<=d.r)){var g=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!g&&!!g[1]&&$v(g[1])||{r:"",t:"",h:""};c.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),c.t=(p.t||"").replace(/\r\n/g,`
    +`)}return{to_workbook:i,to_sheet:r,from_sheet:d}})(),v0=(function(){function t(d,g,p,x,_){_.raw?g[p][x]=d:d===""||(d==="TRUE"?g[p][x]=!0:d==="FALSE"?g[p][x]=!1:isNaN(as(d))?isNaN(hc(d).getDate())?g[p][x]=d:g[p][x]=nr(d):g[p][x]=as(d))}function e(d,g){var p=g||{},x=[];if(!d||d.length===0)return x;for(var _=d.split(/[\r\n]/),b=_.length-1;b>=0&&_[b].length===0;)--b;for(var C=10,I=0,D=0;D<=b;++D)I=_[D].indexOf(" "),I==-1?I=_[D].length:I++,C=Math.max(C,I);for(D=0;D<=b;++D){x[D]=[];var A=0;for(t(_[D].slice(0,C).trim(),x,D,A,p),A=1;A<=(_[D].length-C)/10+1;++A)t(_[D].slice(C+(A-1)*10,C+A*10).trim(),x,D,A,p)}return p.sheetRows&&(x=x.slice(0,p.sheetRows)),x}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(d){for(var g={},p=!1,x=0,_=0;x<d.length;++x)(_=d.charCodeAt(x))==34?p=!p:!p&&_ in n&&(g[_]=(g[_]||0)+1);_=[];for(x in g)Object.prototype.hasOwnProperty.call(g,x)&&_.push([g[x],x]);if(!_.length){g=r;for(x in g)Object.prototype.hasOwnProperty.call(g,x)&&_.push([g[x],x])}return _.sort(function(b,C){return b[0]-C[0]||r[b[1]]-r[C[1]]}),n[_.pop()[1]]||44}function s(d,g){var p=g||{},x="",_=p.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(x=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(x=d.charAt(4),d=d.slice(6)):x=i(d.slice(0,1024)):p&&p.FS?x=p.FS:x=i(d.slice(0,1024));var C=0,I=0,D=0,A=0,P=0,M=x.charCodeAt(0),U=!1,N=0,k=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
    +`);var R=p.dateNF!=null?r7(p.dateNF):null;function V(){var L=d.slice(A,P),F={};if(L.charAt(0)=='"'&&L.charAt(L.length-1)=='"'&&(L=L.slice(1,-1).replace(/""/g,'"')),L.length===0)F.t="z";else if(p.raw)F.t="s",F.v=L;else if(L.trim().length===0)F.t="s",F.v=L;else if(L.charCodeAt(0)==61)L.charCodeAt(1)==34&&L.charCodeAt(L.length-1)==34?(F.t="s",F.v=L.slice(2,-1).replace(/""/g,'"')):Dq(L)?(F.t="n",F.f=L.slice(1)):(F.t="s",F.v=L);else if(L=="TRUE")F.t="b",F.v=!0;else if(L=="FALSE")F.t="b",F.v=!1;else if(!isNaN(D=as(L)))F.t="n",p.cellText!==!1&&(F.w=L),F.v=D;else if(!isNaN(hc(L).getDate())||R&&L.match(R)){F.z=p.dateNF||_t[14];var q=0;R&&L.match(R)&&(L=i7(L,p.dateNF,L.match(R)||[]),q=1),p.cellDates?(F.t="d",F.v=nr(L,q)):(F.t="n",F.v=Ur(nr(L,q))),p.cellText!==!1&&(F.w=Mi(F.z,F.v instanceof Date?Ur(F.v):F.v)),p.cellNF||delete F.z}else F.t="s",F.v=L;if(F.t=="z"||(p.dense?(_[C]||(_[C]=[]),_[C][I]=F):_[gt({c:I,r:C})]=F),A=P+1,k=d.charCodeAt(A),b.e.c<I&&(b.e.c=I),b.e.r<C&&(b.e.r=C),N==M)++I;else if(I=0,++C,p.sheetRows&&p.sheetRows<=C)return!0}e:for(;P<d.length;++P)switch(N=d.charCodeAt(P)){case 34:k===34&&(U=!U);break;case M:case 10:case 13:if(!U&&V())break e;break}return P-A>0&&V(),_["!ref"]=Ft(b),_}function o(d,g){return!(g&&g.PRN)||g.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,g):Sc(e(d,g),g)}function l(d,g){var p="",x=g.type=="string"?[0,0,0,0]:n_(d,g);switch(g.type){case"base64":p=di(d);break;case"binary":p=d;break;case"buffer":g.codepage==65001?p=d.toString("utf8"):g.codepage&&typeof m0<"u"||(p=Pt&&Buffer.isBuffer(d)?d.toString("binary"):zu(d));break;case"array":p=Du(d);break;case"string":p=d;break;default:throw new Error("Unrecognized type "+g.type)}return x[0]==239&&x[1]==187&&x[2]==191?p=dn(p.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?p=dn(p):g.type=="binary"&&typeof m0<"u",p.slice(0,19)=="socialcalc:version:"?$V.to_sheet(g.type=="string"?p:dn(p),g):o(p,g)}function f(d,g){return Ho(l(d,g),g)}function c(d){for(var g=[],p=In(d["!ref"]),x,_=Array.isArray(d),b=p.s.r;b<=p.e.r;++b){for(var C=[],I=p.s.c;I<=p.e.c;++I){var D=gt({r:b,c:I});if(x=_?(d[b]||[])[I]:d[D],!x||x.v==null){C.push("          ");continue}for(var A=(x.w||(ba(x),x.w)||"").slice(0,10);A.length<10;)A+=" ";C.push(A+(I===0?" ":""))}g.push(C.join(""))}return g.join(`
    +`)}return{to_workbook:f,to_sheet:l,from_sheet:c}})();function WV(t,e){var n=e||{},r=!!n.WTF;n.WTF=!0;try{var i=GV.to_workbook(t,n);return n.WTF=r,i}catch(s){if(n.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return v0.to_workbook(t,e)}}var Jf=(function(){function t(z,K,ee){if(z){lr(z,z.l||0);for(var re=ee.Enum||ge;z.l<z.length;){var pe=z.read_shift(2),ke=re[pe]||re[65535],Re=z.read_shift(2),Ce=z.l+Re,Ne=ke.f&&ke.f(z,Re,ee);if(z.l=Ce,K(Ne,ke,pe))return}}}function e(z,K){switch(K.type){case"base64":return n(es(di(z)),K);case"binary":return n(es(z),K);case"buffer":case"array":return n(z,K)}throw"Unsupported type "+K.type}function n(z,K){if(!z)return z;var ee=K||{},re=ee.dense?[]:{},pe="Sheet1",ke="",Re=0,Ce={},Ne=[],he=[],Y={s:{r:0,c:0},e:{r:0,c:0}},Ie=ee.sheetRows||0;if(z[2]==0&&(z[3]==8||z[3]==9)&&z.length>=16&&z[14]==5&&z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(z[2]==2)ee.Enum=ge,t(z,function(He,nt,Ge){switch(Ge){case 0:ee.vers=He,He>=4096&&(ee.qpro=!0);break;case 6:Y=He;break;case 204:He&&(ke=He);break;case 222:ke=He;break;case 15:case 51:ee.qpro||(He[1].v=He[1].v.slice(1));case 13:case 14:case 16:Ge==14&&(He[2]&112)==112&&(He[2]&15)>1&&(He[2]&15)<15&&(He[1].z=ee.dateNF||_t[14],ee.cellDates&&(He[1].t="d",He[1].v=pm(He[1].v))),ee.qpro&&He[3]>Re&&(re["!ref"]=Ft(Y),Ce[pe]=re,Ne.push(pe),re=ee.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},Re=He[3],pe=ke||"Sheet"+(Re+1),ke="");var We=ee.dense?(re[He[0].r]||[])[He[0].c]:re[gt(He[0])];if(We){We.t=He[1].t,We.v=He[1].v,He[1].z!=null&&(We.z=He[1].z),He[1].f!=null&&(We.f=He[1].f);break}ee.dense?(re[He[0].r]||(re[He[0].r]=[]),re[He[0].r][He[0].c]=He[1]):re[gt(He[0])]=He[1];break}},ee);else if(z[2]==26||z[2]==14)ee.Enum=G,z[2]==14&&(ee.qpro=!0,z.l=0),t(z,function(He,nt,Ge){switch(Ge){case 204:pe=He;break;case 22:He[1].v=He[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(He[3]>Re&&(re["!ref"]=Ft(Y),Ce[pe]=re,Ne.push(pe),re=ee.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},Re=He[3],pe="Sheet"+(Re+1)),Ie>0&&He[0].r>=Ie)break;ee.dense?(re[He[0].r]||(re[He[0].r]=[]),re[He[0].r][He[0].c]=He[1]):re[gt(He[0])]=He[1],Y.e.c<He[0].c&&(Y.e.c=He[0].c),Y.e.r<He[0].r&&(Y.e.r=He[0].r);break;case 27:He[14e3]&&(he[He[14e3][0]]=He[14e3][1]);break;case 1537:he[He[0]]=He[1],He[0]==Re&&(pe=He[1]);break}},ee);else throw new Error("Unrecognized LOTUS BOF "+z[2]);if(re["!ref"]=Ft(Y),Ce[ke||pe]=re,Ne.push(ke||pe),!he.length)return{SheetNames:Ne,Sheets:Ce};for(var Fe={},Ke=[],qe=0;qe<he.length;++qe)Ce[Ne[qe]]?(Ke.push(he[qe]||Ne[qe]),Fe[he[qe]]=Ce[he[qe]]||Ce[Ne[qe]]):(Ke.push(he[qe]),Fe[he[qe]]={"!ref":"A1"});return{SheetNames:Ke,Sheets:Fe}}function r(z,K){var ee=K||{};if(+ee.codepage>=0&&ns(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK1 to JS string");var re=cy(),pe=In(z["!ref"]),ke=Array.isArray(z),Re=[];Wi(re,0,s(1030)),Wi(re,6,f(pe));for(var Ce=Math.min(pe.e.r,8191),Ne=pe.s.r;Ne<=Ce;++Ne)for(var he=hr(Ne),Y=pe.s.c;Y<=pe.e.c;++Y){Ne===pe.s.r&&(Re[Y]=Yn(Y));var Ie=Re[Y]+he,Fe=ke?(z[Ne]||[])[Y]:z[Ie];if(!(!Fe||Fe.t=="z"))if(Fe.t=="n")(Fe.v|0)==Fe.v&&Fe.v>=-32768&&Fe.v<=32767?Wi(re,13,x(Ne,Y,Fe.v)):Wi(re,14,b(Ne,Y,Fe.v));else{var Ke=ba(Fe);Wi(re,15,g(Ne,Y,Ke.slice(0,239)))}}return Wi(re,1),re.end()}function i(z,K){var ee=K||{};if(+ee.codepage>=0&&ns(+ee.codepage),ee.type=="string")throw new Error("Cannot write WK3 to JS string");var re=cy();Wi(re,0,o(z));for(var pe=0,ke=0;pe<z.SheetNames.length;++pe)(z.Sheets[z.SheetNames[pe]]||{})["!ref"]&&Wi(re,27,X(z.SheetNames[pe],ke++));var Re=0;for(pe=0;pe<z.SheetNames.length;++pe){var Ce=z.Sheets[z.SheetNames[pe]];if(!(!Ce||!Ce["!ref"])){for(var Ne=In(Ce["!ref"]),he=Array.isArray(Ce),Y=[],Ie=Math.min(Ne.e.r,8191),Fe=Ne.s.r;Fe<=Ie;++Fe)for(var Ke=hr(Fe),qe=Ne.s.c;qe<=Ne.e.c;++qe){Fe===Ne.s.r&&(Y[qe]=Yn(qe));var He=Y[qe]+Ke,nt=he?(Ce[Fe]||[])[qe]:Ce[He];if(!(!nt||nt.t=="z"))if(nt.t=="n")Wi(re,23,V(Fe,qe,Re,nt.v));else{var Ge=ba(nt);Wi(re,22,N(Fe,qe,Re,Ge.slice(0,239)))}}++Re}}return Wi(re,1),re.end()}function s(z){var K=Wn(2);return K.write_shift(2,z),K}function o(z){var K=Wn(26);K.write_shift(2,4096),K.write_shift(2,4),K.write_shift(4,0);for(var ee=0,re=0,pe=0,ke=0;ke<z.SheetNames.length;++ke){var Re=z.SheetNames[ke],Ce=z.Sheets[Re];if(!(!Ce||!Ce["!ref"])){++pe;var Ne=wc(Ce["!ref"]);ee<Ne.e.r&&(ee=Ne.e.r),re<Ne.e.c&&(re=Ne.e.c)}}return ee>8191&&(ee=8191),K.write_shift(2,ee),K.write_shift(1,pe),K.write_shift(1,re),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(1,1),K.write_shift(1,2),K.write_shift(4,0),K.write_shift(4,0),K}function l(z,K,ee){var re={s:{c:0,r:0},e:{c:0,r:0}};return K==8&&ee.qpro?(re.s.c=z.read_shift(1),z.l++,re.s.r=z.read_shift(2),re.e.c=z.read_shift(1),z.l++,re.e.r=z.read_shift(2),re):(re.s.c=z.read_shift(2),re.s.r=z.read_shift(2),K==12&&ee.qpro&&(z.l+=2),re.e.c=z.read_shift(2),re.e.r=z.read_shift(2),K==12&&ee.qpro&&(z.l+=2),re.s.c==65535&&(re.s.c=re.e.c=re.s.r=re.e.r=0),re)}function f(z){var K=Wn(8);return K.write_shift(2,z.s.c),K.write_shift(2,z.s.r),K.write_shift(2,z.e.c),K.write_shift(2,z.e.r),K}function c(z,K,ee){var re=[{c:0,r:0},{t:"n",v:0},0,0];return ee.qpro&&ee.vers!=20768?(re[0].c=z.read_shift(1),re[3]=z.read_shift(1),re[0].r=z.read_shift(2),z.l+=2):(re[2]=z.read_shift(1),re[0].c=z.read_shift(2),re[0].r=z.read_shift(2)),re}function d(z,K,ee){var re=z.l+K,pe=c(z,K,ee);if(pe[1].t="s",ee.vers==20768){z.l++;var ke=z.read_shift(1);return pe[1].v=z.read_shift(ke,"utf8"),pe}return ee.qpro&&z.l++,pe[1].v=z.read_shift(re-z.l,"cstr"),pe}function g(z,K,ee){var re=Wn(7+ee.length);re.write_shift(1,255),re.write_shift(2,K),re.write_shift(2,z),re.write_shift(1,39);for(var pe=0;pe<re.length;++pe){var ke=ee.charCodeAt(pe);re.write_shift(1,ke>=128?95:ke)}return re.write_shift(1,0),re}function p(z,K,ee){var re=c(z,K,ee);return re[1].v=z.read_shift(2,"i"),re}function x(z,K,ee){var re=Wn(7);return re.write_shift(1,255),re.write_shift(2,K),re.write_shift(2,z),re.write_shift(2,ee,"i"),re}function _(z,K,ee){var re=c(z,K,ee);return re[1].v=z.read_shift(8,"f"),re}function b(z,K,ee){var re=Wn(13);return re.write_shift(1,255),re.write_shift(2,K),re.write_shift(2,z),re.write_shift(8,ee,"f"),re}function C(z,K,ee){var re=z.l+K,pe=c(z,K,ee);if(pe[1].v=z.read_shift(8,"f"),ee.qpro)z.l=re;else{var ke=z.read_shift(2);P(z.slice(z.l,z.l+ke),pe),z.l+=ke}return pe}function I(z,K,ee){var re=K&32768;return K&=-32769,K=(re?z:0)+(K>=8192?K-16384:K),(re?"":"$")+(ee?Yn(K):hr(K))}var D={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},A=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function P(z,K){lr(z,0);for(var ee=[],re=0,pe="",ke="",Re="",Ce="";z.l<z.length;){var Ne=z[z.l++];switch(Ne){case 0:ee.push(z.read_shift(8,"f"));break;case 1:ke=I(K[0].c,z.read_shift(2),!0),pe=I(K[0].r,z.read_shift(2),!1),ee.push(ke+pe);break;case 2:{var he=I(K[0].c,z.read_shift(2),!0),Y=I(K[0].r,z.read_shift(2),!1);ke=I(K[0].c,z.read_shift(2),!0),pe=I(K[0].r,z.read_shift(2),!1),ee.push(he+Y+":"+ke+pe)}break;case 3:if(z.l<z.length){console.error("WK1 premature formula end");return}break;case 4:ee.push("("+ee.pop()+")");break;case 5:ee.push(z.read_shift(2));break;case 6:{for(var Ie="";Ne=z[z.l++];)Ie+=String.fromCharCode(Ne);ee.push('"'+Ie.replace(/"/g,'""')+'"')}break;case 8:ee.push("-"+ee.pop());break;case 23:ee.push("+"+ee.pop());break;case 22:ee.push("NOT("+ee.pop()+")");break;case 20:case 21:Ce=ee.pop(),Re=ee.pop(),ee.push(["AND","OR"][Ne-20]+"("+Re+","+Ce+")");break;default:if(Ne<32&&A[Ne])Ce=ee.pop(),Re=ee.pop(),ee.push(Re+A[Ne]+Ce);else if(D[Ne]){if(re=D[Ne][1],re==69&&(re=z[z.l++]),re>ee.length){console.error("WK1 bad formula parse 0x"+Ne.toString(16)+":|"+ee.join("|")+"|");return}var Fe=ee.slice(-re);ee.length-=re,ee.push(D[Ne][0]+"("+Fe.join(",")+")")}else return Ne<=7?console.error("WK1 invalid opcode "+Ne.toString(16)):Ne<=24?console.error("WK1 unsupported op "+Ne.toString(16)):Ne<=30?console.error("WK1 invalid opcode "+Ne.toString(16)):Ne<=115?console.error("WK1 unsupported function opcode "+Ne.toString(16)):console.error("WK1 unrecognized opcode "+Ne.toString(16))}}ee.length==1?K[1].f=""+ee[0]:console.error("WK1 bad formula parse |"+ee.join("|")+"|")}function M(z){var K=[{c:0,r:0},{t:"n",v:0},0];return K[0].r=z.read_shift(2),K[3]=z[z.l++],K[0].c=z[z.l++],K}function U(z,K){var ee=M(z);return ee[1].t="s",ee[1].v=z.read_shift(K-4,"cstr"),ee}function N(z,K,ee,re){var pe=Wn(6+re.length);pe.write_shift(2,z),pe.write_shift(1,ee),pe.write_shift(1,K),pe.write_shift(1,39);for(var ke=0;ke<re.length;++ke){var Re=re.charCodeAt(ke);pe.write_shift(1,Re>=128?95:Re)}return pe.write_shift(1,0),pe}function k(z,K){var ee=M(z);ee[1].v=z.read_shift(2);var re=ee[1].v>>1;if(ee[1].v&1)switch(re&7){case 0:re=(re>>3)*5e3;break;case 1:re=(re>>3)*500;break;case 2:re=(re>>3)/20;break;case 3:re=(re>>3)/200;break;case 4:re=(re>>3)/2e3;break;case 5:re=(re>>3)/2e4;break;case 6:re=(re>>3)/16;break;case 7:re=(re>>3)/64;break}return ee[1].v=re,ee}function R(z,K){var ee=M(z),re=z.read_shift(4),pe=z.read_shift(4),ke=z.read_shift(2);if(ke==65535)return re===0&&pe===3221225472?(ee[1].t="e",ee[1].v=15):re===0&&pe===3489660928?(ee[1].t="e",ee[1].v=42):ee[1].v=0,ee;var Re=ke&32768;return ke=(ke&32767)-16446,ee[1].v=(1-Re*2)*(pe*Math.pow(2,ke+32)+re*Math.pow(2,ke)),ee}function V(z,K,ee,re){var pe=Wn(14);if(pe.write_shift(2,z),pe.write_shift(1,ee),pe.write_shift(1,K),re==0)return pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(2,65535),pe;var ke=0,Re=0,Ce=0,Ne=0;return re<0&&(ke=1,re=-re),Re=Math.log2(re)|0,re/=Math.pow(2,Re-31),Ne=re>>>0,(Ne&2147483648)==0&&(re/=2,++Re,Ne=re>>>0),re-=Ne,Ne|=2147483648,Ne>>>=0,re*=Math.pow(2,32),Ce=re>>>0,pe.write_shift(4,Ce),pe.write_shift(4,Ne),Re+=16383+(ke?32768:0),pe.write_shift(2,Re),pe}function L(z,K){var ee=R(z);return z.l+=K-14,ee}function F(z,K){var ee=M(z),re=z.read_shift(4);return ee[1].v=re>>6,ee}function q(z,K){var ee=M(z),re=z.read_shift(8,"f");return ee[1].v=re,ee}function ce(z,K){var ee=q(z);return z.l+=K-10,ee}function oe(z,K){return z[z.l+K-1]==0?z.read_shift(K,"cstr"):""}function ae(z,K){var ee=z[z.l++];ee>K-1&&(ee=K-1);for(var re="";re.length<ee;)re+=String.fromCharCode(z[z.l++]);return re}function se(z,K,ee){if(!(!ee.qpro||K<21)){var re=z.read_shift(1);z.l+=17,z.l+=1,z.l+=2;var pe=z.read_shift(K-21,"cstr");return[re,pe]}}function me(z,K){for(var ee={},re=z.l+K;z.l<re;){var pe=z.read_shift(2);if(pe==14e3){for(ee[pe]=[0,""],ee[pe][0]=z.read_shift(2);z[z.l];)ee[pe][1]+=String.fromCharCode(z[z.l]),z.l++;z.l++}}return ee}function X(z,K){var ee=Wn(5+z.length);ee.write_shift(2,14e3),ee.write_shift(2,K);for(var re=0;re<z.length;++re){var pe=z.charCodeAt(re);ee[ee.l++]=pe>127?95:pe}return ee[ee.l++]=0,ee}var ge={0:{n:"BOF",f:zn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:_},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:C},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:oe},222:{n:"SHEETNAMELP",f:ae},65535:{n:""}},G={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:U},23:{n:"NUMBER17",f:R},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:L},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:me},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:F},38:{n:"??"},39:{n:"NUMBER27",f:q},40:{n:"FORMULA28",f:ce},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:oe},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:se},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})();function KV(t){var e={},n=t.match(Ir),r=0,i=!1;if(n)for(;r!=n.length;++r){var s=ft(n[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=Dv[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var YV=(function(){var t=x0("t"),e=x0("rPr");function n(s){var o=s.match(t);if(!o)return{t:"s",v:""};var l={t:"s",v:Vt(o[1])},f=s.match(e);return f&&(l.s=KV(f[1])),l}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(o){return o.replace(r,"").split(i).map(n).filter(function(l){return l.v})}})(),XV=(function(){var e=/(\r\n|\n)/g;function n(i,s,o){var l=[];i.u&&l.push("text-decoration: underline;"),i.uval&&l.push("text-underline-style:"+i.uval+";"),i.sz&&l.push("font-size:"+i.sz+"pt;"),i.outline&&l.push("text-effect: outline;"),i.shadow&&l.push("text-shadow: auto;"),s.push('<span style="'+l.join("")+'">'),i.b&&(s.push("<b>"),o.push("</b>")),i.i&&(s.push("<i>"),o.push("</i>")),i.strike&&(s.push("<s>"),o.push("</s>"));var f=i.valign||"";return f=="superscript"||f=="super"?f="sup":f=="subscript"&&(f="sub"),f!=""&&(s.push("<"+f+">"),o.push("</"+f+">")),o.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&n(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}})(),JV=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,QV=/<(?:\w+:)?r>/,ZV=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Yv(t,e){var n=e?e.cellHTML:!0,r={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Vt(dn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=dn(t),n&&(r.h=Vv(r.t))):t.match(QV)&&(r.r=dn(t),r.t=Vt(dn((t.replace(ZV,"").match(JV)||[]).join("").replace(Ir,""))),n&&(r.h=XV(YV(r.r)))),r):{t:""}}var eB=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,tB=/<(?:\w+:)?(?:si|sstItem)>/g,nB=/<\/(?:\w+:)?(?:si|sstItem)>/;function rB(t,e){var n=[],r="";if(!t)return n;var i=t.match(eB);if(i){r=i[2].replace(tB,"").split(nB);for(var s=0;s!=r.length;++s){var o=Yv(r[s].trim(),e);o!=null&&(n[n.length]=o)}i=ft(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}function iB(t){return[t.read_shift(4),t.read_shift(4)]}function sB(t,e){var n=[],r=!1;return Sa(t,function(s,o,l){switch(l){case 159:n.Count=s[0],n.Unique=s[1];break;case 19:n.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(o.T,!r||e.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),n}function ak(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function ya(t,e){var n={};return n.Major=t.read_shift(2),n.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),n}function aB(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=ya(t,4),e.U=ya(t,4),e.W=ya(t,4),e}function oB(t){for(var e=t.read_shift(4),n=t.l+e-4,r={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(r.name=t.read_shift(0,"lpp4"),r.comps=s,t.l!=n)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+n);return r}function uB(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(oB(t));return e}function lB(t){var e=[];t.l+=4;for(var n=t.read_shift(4);n-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function cB(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=ya(t,4),e.U=ya(t,4),e.W=ya(t,4),e}function fB(t){var e=cB(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function ok(t,e){var n=t.l+e,r={};r.Flags=t.read_shift(4)&63,t.l+=4,r.AlgID=t.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=t.read_shift(4),r.KeySize=t.read_shift(4),r.ProviderType=t.read_shift(4),t.l+=8,r.CSPName=t.read_shift(n-t.l>>1,"utf16le"),t.l=n,r}function uk(t,e){var n={},r=t.l+e;return t.l+=4,n.Salt=t.slice(t.l,t.l+16),t.l+=16,n.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),n.VerifierHash=t.slice(t.l,r),t.l=r,n}function hB(t){var e=ya(t);switch(e.Minor){case 2:return[e.Minor,dB(t)];case 3:return[e.Minor,pB()];case 4:return[e.Minor,mB(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function dB(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var n=t.read_shift(4),r=ok(t,n),i=uk(t,t.length-t.l);return{t:"Std",h:r,v:i}}function pB(){throw new Error("File is password-protected: ECMA-376 Extensible")}function mB(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var n=t.read_shift(t.length-t.l,"utf8"),r={};return n.replace(Ir,function(s){var o=ft(s);switch(Fs(o[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(l){r[l]=o[l]});break;case"<dataIntegrity":r.encryptedHmacKey=o.encryptedHmacKey,r.encryptedHmacValue=o.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=o.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(o);break;default:throw o[0]}}),r}function gB(t,e){var n={},r=n.EncryptionVersionInfo=ya(t,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,n.EncryptionHeader=ok(t,i),e-=i,n.EncryptionVerifier=uk(t,e),n}function xB(t){var e={},n=e.EncryptionVersionInfo=ya(t,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function yB(t){var e=0,n,r=ak(t),i=r.length+1,s,o,l,f,c;for(n=Po(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)o=n[s],l=(e&16384)===0?0:1,f=e<<1&32767,c=l|f,e=c^o;return e^52811}var lk=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(o){return(o/2|o*128)&255},i=function(o,l){return r(o^l)},s=function(o){for(var l=e[o.length-1],f=104,c=o.length-1;c>=0;--c)for(var d=o[c],g=0;g!=7;++g)d&64&&(l^=n[f]),d*=2,--f;return l};return function(o){for(var l=ak(o),f=s(l),c=l.length,d=Po(16),g=0;g!=16;++g)d[g]=0;var p,x,_;for((c&1)===1&&(p=f>>8,d[c]=i(t[0],p),--c,p=f&255,x=l[l.length-1],d[c]=i(x,p));c>0;)--c,p=f>>8,d[c]=i(l[c],p),--c,p=f&255,d[c]=i(l[c],p);for(c=15,_=15-l.length;_>0;)p=f>>8,d[c]=i(t[_],p),--c,--_,p=f&255,d[c]=i(l[c],p),--c,--_;return d}})(),vB=function(t,e,n,r,i){i||(i=e),r||(r=lk(t));var s,o;for(s=0;s!=e.length;++s)o=e[s],o^=r[n],o=(o>>5|o<<3)&255,i[s]=o,++n;return[i,n,r]},_B=function(t){var e=0,n=lk(t);return function(r){var i=vB("",r,e,n);return e=i[1],i[0]}};function TB(t,e,n,r){var i={key:zn(t),verificationBytes:zn(t)};return n.password&&(i.verifier=yB(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=_B(n.password)),i}function EB(t,e,n){var r=n||{};return r.Info=t.read_shift(2),t.l-=2,r.Info===1?r.Data=xB(t):r.Data=gB(t,e),r}function bB(t,e,n){var r={Type:n.biff>=8?t.read_shift(2):0};return r.Type?EB(t,e-2,r):TB(t,n.biff>=8?e:e-2,n,r),r}var wB=(function(){function t(i,s){switch(s.type){case"base64":return e(di(i),s);case"binary":return e(i,s);case"buffer":return e(Pt&&Buffer.isBuffer(i)?i.toString("binary"):zu(i),s);case"array":return e(Du(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var o=s||{},l=o.dense?[]:{},f=i.match(/\\trowd.*?\\row\b/g);if(!f.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:f.length-1}};return f.forEach(function(d,g){Array.isArray(l)&&(l[g]=[]);for(var p=/\\\w+\b/g,x=0,_,b=-1;_=p.exec(d);){switch(_[0]){case"\\cell":var C=d.slice(x,p.lastIndex-_[0].length);if(C[0]==" "&&(C=C.slice(1)),++b,C.length){var I={v:C,t:"s"};Array.isArray(l)?l[g][b]=I:l[gt({r:g,c:b})]=I}break}x=p.lastIndex}b>c.e.c&&(c.e.c=b)}),l["!ref"]=Ft(c),l}function n(i,s){return Ho(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=In(i["!ref"]),l,f=Array.isArray(i),c=o.s.r;c<=o.e.r;++c){s.push("\\trowd\\trautofit1");for(var d=o.s.c;d<=o.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=o.s.c;d<=o.e.c;++d){var g=gt({r:c,c:d});l=f?(i[c]||[])[d]:i[g],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(ba(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function SB(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function _0(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}function AB(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(e,n,r),s=Math.min(e,n,r),o=i-s;if(o===0)return[0,0,e];var l=0,f=0,c=i+s;switch(f=o/(c>1?2-c:c),i){case e:l=((n-r)/o+6)%6;break;case n:l=(r-e)/o+2;break;case r:l=(e-n)/o+4;break}return[l/6,f,c/2]}function CB(t){var e=t[0],n=t[1],r=t[2],i=n*2*(r<.5?r:1-r),s=r-i/2,o=[s,s,s],l=6*e,f;if(n!==0)switch(l|0){case 0:case 6:f=i*l,o[0]+=i,o[1]+=f;break;case 1:f=i*(2-l),o[0]+=f,o[1]+=i;break;case 2:f=i*(l-2),o[1]+=i,o[2]+=f;break;case 3:f=i*(4-l),o[1]+=f,o[2]+=i;break;case 4:f=i*(l-4),o[2]+=i,o[0]+=f;break;case 5:f=i*(6-l),o[2]+=f,o[0]+=i;break}for(var c=0;c!=3;++c)o[c]=Math.round(o[c]*255);return o}function Sp(t,e){if(e===0)return t;var n=AB(SB(t));return e<0?n[2]=n[2]*(1+e):n[2]=1-(1-n[2])*(1-e),_0(CB(n))}var ck=6,IB=15,kB=1,Pr=ck;function Ap(t){return Math.floor((t+Math.round(128/Pr)/256)*Pr)}function Cp(t){return Math.floor((t-5)/Pr*100+.5)/100}function py(t){return Math.round((t*Pr+5)/Pr*256)/256}function j1(t){return py(Cp(Ap(t)))}function Xv(t){var e=Math.abs(t-j1(t)),n=Pr;if(e>.005)for(Pr=kB;Pr<IB;++Pr)Math.abs(t-j1(t))<=e&&(e=Math.abs(t-j1(t)),n=Pr);Pr=n}function dc(t){t.width?(t.wpx=Ap(t.width),t.wch=Cp(t.wpx),t.MDW=Pr):t.wpx?(t.wch=Cp(t.wpx),t.width=py(t.wch),t.MDW=Pr):typeof t.wch=="number"&&(t.width=py(t.wch),t.wpx=Ap(t.width),t.MDW=Pr),t.customWidth&&delete t.customWidth}var RB=96,fk=RB;function hk(t){return t*96/fk}function T0(t){return t*fk/96}var NB={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function DB(t,e,n,r){e.Borders=[];var i={},s=!1;(t[0].match(Ir)||[]).forEach(function(o){var l=ft(o);switch(Fs(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},l.diagonalUp&&(i.diagonalUp=_n(l.diagonalUp)),l.diagonalDown&&(i.diagonalDown=_n(l.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+l[0]+" in borders")}})}function MB(t,e,n,r){e.Fills=[];var i={},s=!1;(t[0].match(Ir)||[]).forEach(function(o){var l=ft(o);switch(Fs(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":l.patternType&&(i.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),l.indexed&&(i.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(i.bgColor.theme=parseInt(l.theme,10)),l.tint&&(i.bgColor.tint=parseFloat(l.tint)),l.rgb&&(i.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),l.theme&&(i.fgColor.theme=parseInt(l.theme,10)),l.tint&&(i.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(i.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fills")}})}function PB(t,e,n,r){e.Fonts=[];var i={},s=!1;(t[0].match(Ir)||[]).forEach(function(o){var l=ft(o);switch(Fs(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":l.val&&(i.name=dn(l.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=l.val?_n(l.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=l.val?_n(l.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(l.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=l.val?_n(l.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=l.val?_n(l.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=l.val?_n(l.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=l.val?_n(l.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=l.val?_n(l.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":l.val&&(i.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(i.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(i.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(i.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=Dv[parseInt(l.val,10)];break;case"<color":if(i.color||(i.color={}),l.auto&&(i.color.auto=_n(l.auto)),l.rgb)i.color.rgb=l.rgb.slice(-6);else if(l.indexed){i.color.index=parseInt(l.indexed,10);var f=Su[i.color.index];i.color.index==81&&(f=Su[1]),f||(f=Su[1]),i.color.rgb=f[0].toString(16)+f[1].toString(16)+f[2].toString(16)}else l.theme&&(i.color.theme=parseInt(l.theme,10),l.tint&&(i.color.tint=parseFloat(l.tint)),l.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=Sp(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fonts")}})}function LB(t,e,n){e.NumberFmt=[];for(var r=Ms(_t),i=0;i<r.length;++i)e.NumberFmt[r[i]]=_t[r[i]];var s=t[0].match(Ir);if(s)for(i=0;i<s.length;++i){var o=ft(s[i]);switch(Fs(o[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Vt(dn(o.formatCode)),f=parseInt(o.numFmtId,10);if(e.NumberFmt[f]=l,f>0){if(f>392){for(f=392;f>60&&e.NumberFmt[f]!=null;--f);e.NumberFmt[f]=l}wu(l,f)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+o[0]+" in numFmts")}}}var Sd=["numFmtId","fillId","fontId","borderId","xfId"],Ad=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function OB(t,e,n){e.CellXf=[];var r,i=!1;(t[0].match(Ir)||[]).forEach(function(s){var o=ft(s),l=0;switch(Fs(o[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=o,delete r[0],l=0;l<Sd.length;++l)r[Sd[l]]&&(r[Sd[l]]=parseInt(r[Sd[l]],10));for(l=0;l<Ad.length;++l)r[Ad[l]]&&(r[Ad[l]]=_n(r[Ad[l]]));if(e.NumberFmt&&r.numFmtId>392){for(l=392;l>60;--l)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[l]){r.numFmtId=l;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var f={};o.vertical&&(f.vertical=o.vertical),o.horizontal&&(f.horizontal=o.horizontal),o.textRotation!=null&&(f.textRotation=o.textRotation),o.indent&&(f.indent=o.indent),o.wrapText&&(f.wrapText=_n(o.wrapText)),r.alignment=f;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in cellXfs")}})}var FB=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,f,c){var d={};if(!l)return d;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var g;return(g=l.match(e))&&LB(g,d,c),(g=l.match(i))&&PB(g,d,f,c),(g=l.match(r))&&MB(g,d,f,c),(g=l.match(s))&&DB(g,d,f,c),(g=l.match(n))&&OB(g,d,c),d}})();function UB(t,e){var n=t.read_shift(2),r=Sr(t);return[n,r]}function VB(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=Y7(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=t.read_shift(1);o!=0&&(r.underline=o);var l=t.read_shift(1);l>0&&(r.family=l);var f=t.read_shift(1);switch(f>0&&(r.charset=f),t.l++,r.color=K7(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Sr(t),r}var BB=Cr;function qB(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}var HB=Cr;function zB(t,e,n){var r={};r.NumberFmt=[];for(var i in _t)r.NumberFmt[i]=_t[i];r.CellXf=[],r.Fonts=[];var s=[],o=!1;return Sa(t,function(f,c,d){switch(d){case 44:r.NumberFmt[f[0]]=f[1],wu(f[1],f[0]);break;case 43:r.Fonts.push(f),f.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(f.color.rgb=Sp(e.themeElements.clrScheme[f.color.theme].rgb,f.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(f);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:s.push(d),o=!0;break;case 38:s.pop(),o=!1;break;default:if(c.T>0)s.push(d);else if(c.T<0)s.pop();else if(!o||n.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),r}var GB=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function jB(t,e,n){e.themeElements.clrScheme=[];var r={};(t[0].match(Ir)||[]).forEach(function(i){var s=ft(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[GB.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function $B(){}function WB(){}var KB=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,YB=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,XB=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function JB(t,e,n){e.themeElements={};var r;[["clrScheme",KB,jB],["fontScheme",YB,$B],["fmtScheme",XB,WB]].forEach(function(i){if(!(r=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,n)})}var QB=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function dk(t,e){(!t||t.length===0)&&(t=ZB());var n,r={};if(!(n=t.match(QB)))throw new Error("themeElements not found in theme");return JB(n[0],r,e),r.raw=t,r}function ZB(t,e){var n=[w6];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function eq(t,e,n){var r=t.l+e,i=t.read_shift(4);if(i!==124226){if(!n.cellStyles){t.l=r;return}var s=t.slice(t.l);t.l=r;var o;try{o=b6(s,{type:"array"})}catch{return}var l=fi(o,"theme/theme/theme1.xml",!0);if(l)return dk(l,n)}}function tq(t){return t.read_shift(4)}function nq(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=rq(t,4);break;case 2:e.xclrValue=Z6(t);break;case 3:e.xclrValue=tq(t);break;case 4:t.l+=4;break}return t.l+=8,e}function rq(t,e){return Cr(t,e)}function iq(t,e){return Cr(t,e)}function sq(t){var e=t.read_shift(2),n=t.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=nq(t);break;case 6:r[1]=iq(t,n);break;case 14:case 15:r[1]=t.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+n)}return r}function aq(t,e){var n=t.l+e;t.l+=2;var r=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(sq(t,n-t.l));return{ixfe:r,ext:s}}function oq(t,e){e.forEach(function(n){n[0]})}function uq(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Sr(t)}}function lq(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function cq(t){return t.l+=4,t.read_shift(4)!=0}function fq(t,e,n){var r={Types:[],Cell:[],Value:[]},i=n||{},s=[],o=!1,l=2;return Sa(t,function(f,c,d){switch(d){case 335:r.Types.push({name:f.name});break;case 51:f.forEach(function(g){l==1?r.Cell.push({type:r.Types[g[0]-1].name,index:g[1]}):l==0&&r.Value.push({type:r.Types[g[0]-1].name,index:g[1]})});break;case 337:l=f?1:0;break;case 338:l=2;break;case 35:s.push(d),o=!0;break;case 36:s.pop(),o=!1;break;default:if(!c.T){if(!o||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),r}function hq(t,e,n){var r={Types:[],Cell:[],Value:[]};if(!t)return r;var i=!1,s=2,o;return t.replace(Ir,function(l){var f=ft(l);switch(Fs(f[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:f.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==f.name&&(o=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[f.t-1].name,index:+f.v}):s==0&&r.Value.push({type:r.Types[f.t-1].name,index:+f.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!o)break;o.offsets||(o.offsets=[]),o.offsets.push(+f.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+f[0]+" in metadata")}return l}),r}function dq(t){var e=[];if(!t)return e;var n=1;return(t.match(Ir)||[]).forEach(function(r){var i=ft(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,e.push(i);break}}),e}function pq(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=gt(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function mq(t,e,n){var r=[];return Sa(t,function(s,o,l){switch(l){case 63:r.push(s);break;default:if(!o.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function gq(t,e,n,r){if(!t)return t;var i=r||{},s=!1;Sa(t,function(l,f,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!f.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function xq(t,e){if(!t)return"??";var n=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][n].Target}function AS(t,e,n,r){var i=Array.isArray(t),s;e.forEach(function(o){var l=Lr(o.ref);if(i?(t[l.r]||(t[l.r]=[]),s=t[l.r][l.c]):s=t[o.ref],!s){s={t:"z"},i?t[l.r][l.c]=s:t[o.ref]=s;var f=In(t["!ref"]||"BDWGO1000001:A1");f.s.r>l.r&&(f.s.r=l.r),f.e.r<l.r&&(f.e.r=l.r),f.s.c>l.c&&(f.s.c=l.c),f.e.c<l.c&&(f.e.c=l.c);var c=Ft(f);c!==t["!ref"]&&(t["!ref"]=c)}s.c||(s.c=[]);var d={a:o.author,t:o.t,r:o.r,T:n};o.h&&(d.h=o.h);for(var g=s.c.length-1;g>=0;--g){if(!n&&s.c[g].T)return;n&&!s.c[g].T&&s.c.splice(g,1)}if(n&&r){for(g=0;g<r.length;++g)if(d.a==r[g].id){d.a=r[g].name||d.a;break}}s.c.push(d)})}function yq(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&n.push(l[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(o){if(!(o===""||o.trim()==="")){var l=o.match(/<(?:\w+:)?comment[^>]*>/);if(l){var f=ft(l[0]),c={author:f.authorId&&n[f.authorId]||"sheetjsghost",ref:f.ref,guid:f.guid},d=Lr(f.ref);if(!(e.sheetRows&&e.sheetRows<=d.r)){var g=o.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!g&&!!g[1]&&Yv(g[1])||{r:"",t:"",h:""};c.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),c.t=(p.t||"").replace(/\r\n/g,`
     `).replace(/\r/g,`
    -`),e.cellHTML&&(c.h=p.h),r.push(c)}}}}),r}function pq(t,e){var n=[],r=!1,i={},s=0;return t.replace(Ir,function(l,f){var c=ft(l);switch(Os(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=f+l.length;break;case"</text>":i.t=t.slice(s,f).replace(/\r\n/g,`
    +`),e.cellHTML&&(c.h=p.h),r.push(c)}}}}),r}function vq(t,e){var n=[],r=!1,i={},s=0;return t.replace(Ir,function(l,f){var c=ft(l);switch(Fs(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":s=f+l.length;break;case"</text>":i.t=t.slice(s,f).replace(/\r\n/g,`
     `).replace(/\r/g,`
    -`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return l}),n}function mq(t,e){var n=[],r=!1;return t.replace(Ir,function(s){var o=ft(s);switch(Os(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),n}function gq(t){var e={};e.iauthor=t.read_shift(4);var n=zu(t);return e.rfx=n.s,e.ref=gt(n.s),t.l+=16,e}var xq=Sr;function yq(t,e){var n=[],r=[],i={},s=!1;return wa(t,function(l,f,c){switch(c){case 632:r.push(l);break;case 635:i=l;break;case 637:i.t=l.t,i.h=l.h,i.r=l.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!f.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}var vq="application/vnd.ms-office.vbaProject";function _q(t){var e=Ot.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ot.utils.cfb_add(e,i,t.FileIndex[r].content)}}),Ot.write(e)}function Tq(){return{"!type":"dialog"}}function Eq(){return{"!type":"dialog"}}function bq(){return{"!type":"macro"}}function wq(){return{"!type":"macro"}}var Xl=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,o){var l=!1,f=!1;s.length==0?f=!0:s.charAt(0)=="["&&(f=!0,s=s.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=e.c:--d,f?c+=e.r:--c,i+(l?"":"$")+Yn(d)+(f?"":"$")+hr(c)}return function(i,s){return e=s,i.replace(t,n)}})(),lk=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Sq=(function(){return function(e,n){return e.replace(lk,function(r,i,s,o,l,f){var c=Bv(o)-(s?0:n.c),d=Vv(f)-(l?0:n.r),g=d==0?"":l?d+1:"["+d+"]",p=c==0?"":s?c+1:"["+c+"]";return i+"R"+g+"C"+p})}})();function ck(t,e){return t.replace(lk,function(n,r,i,s,o,l){return r+(i=="$"?i+s:Yn(Bv(s)+e.c))+(o=="$"?o+l:hr(Vv(l)+e.r))})}function Aq(t,e,n){var r=bc(e),i=r.s,s=Lr(n),o={r:s.r-i.r,c:s.c-i.c};return ck(t,o)}function Cq(t){return t.length!=1}function SS(t){return t.replace(/_xlfn\./g,"")}function Bn(t){t.l+=1}function Mo(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function fk(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return hk(t);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),o=Mo(t),l=Mo(t);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function hk(t){var e=Mo(t),n=Mo(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function Iq(t,e,n){if(n.biff<8)return hk(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=Mo(t),o=Mo(t);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function dk(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return kq(t);var r=t.read_shift(n&&n.biff==12?4:2),i=Mo(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function kq(t){var e=Mo(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function Rq(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function Nq(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return Dq(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),o=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:l}}function Dq(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function Mq(t,e,n){var r=(t[t.l++]&96)>>5,i=fk(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function Pq(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var o=fk(t,s,n);return[r,i,o]}function Lq(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function Oq(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function Fq(t,e,n){var r=(t[t.l++]&96)>>5,i=Iq(t,e-1,n);return[r,i]}function Uq(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function AS(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function Vq(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function Bq(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function qq(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function Hq(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function zq(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function pk(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function Gq(t){return t.read_shift(2),pk(t)}function jq(t){return t.read_shift(2),pk(t)}function $q(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=dk(t,0,n);return[r,i]}function Wq(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=Nq(t,0,n);return[r,i]}function Kq(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=dk(t,0,n);return[r,i,s]}function Yq(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[XH[i],xk[i],r]}function Xq(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:Jq(t);return[i,(s[0]===0?xk:YH)[s[1]]]}function Jq(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function Qq(t,e,n){t.l+=n&&n.biff==2?3:4}function Zq(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function eH(t){return t.l++,Gu[t.read_shift(1)]}function tH(t){return t.l++,t.read_shift(2)}function nH(t){return t.l++,t.read_shift(1)!==0}function rH(t){return t.l++,Er(t)}function iH(t,e,n){return t.l++,U0(t,e-1,n)}function sH(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Dn(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=Gu[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Er(t);break;case 2:n[1]=ju(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function aH(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?zu:hm)(t));return i}function oH(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var l=0;l!=i;++l)o[s][l]=sH(t,n.biff);return o}function uH(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function lH(t,e,n){if(n.biff==5)return cH(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function cH(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function fH(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function hH(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function dH(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function pH(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var mH=Cr,gH=Cr,xH=Cr;function B0(t,e,n){return t.l+=2,[Rq(t)]}function Kv(t){return t.l+=6,[]}var yH=B0,vH=Kv,_H=Kv,TH=B0;function mk(t){return t.l+=2,[zn(t),t.read_shift(2)&1]}var EH=B0,bH=mk,wH=Kv,SH=B0,AH=B0,CH=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function IH(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),o=CH[n>>2&31];return{ixti:e,coltype:n&3,rt:o,idx:r,c:i,C:s}}function kH(t){return t.l+=2,[t.read_shift(4)]}function RH(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function NH(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function DH(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function MH(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function PH(t){return t.l+=4,[0,0]}var CS={1:{n:"PtgExp",f:Zq},2:{n:"PtgTbl",f:xH},3:{n:"PtgAdd",f:Bn},4:{n:"PtgSub",f:Bn},5:{n:"PtgMul",f:Bn},6:{n:"PtgDiv",f:Bn},7:{n:"PtgPower",f:Bn},8:{n:"PtgConcat",f:Bn},9:{n:"PtgLt",f:Bn},10:{n:"PtgLe",f:Bn},11:{n:"PtgEq",f:Bn},12:{n:"PtgGe",f:Bn},13:{n:"PtgGt",f:Bn},14:{n:"PtgNe",f:Bn},15:{n:"PtgIsect",f:Bn},16:{n:"PtgUnion",f:Bn},17:{n:"PtgRange",f:Bn},18:{n:"PtgUplus",f:Bn},19:{n:"PtgUminus",f:Bn},20:{n:"PtgPercent",f:Bn},21:{n:"PtgParen",f:Bn},22:{n:"PtgMissArg",f:Bn},23:{n:"PtgStr",f:iH},26:{n:"PtgSheet",f:RH},27:{n:"PtgEndSheet",f:NH},28:{n:"PtgErr",f:eH},29:{n:"PtgBool",f:nH},30:{n:"PtgInt",f:tH},31:{n:"PtgNum",f:rH},32:{n:"PtgArray",f:Uq},33:{n:"PtgFunc",f:Yq},34:{n:"PtgFuncVar",f:Xq},35:{n:"PtgName",f:uH},36:{n:"PtgRef",f:$q},37:{n:"PtgArea",f:Mq},38:{n:"PtgMemArea",f:fH},39:{n:"PtgMemErr",f:mH},40:{n:"PtgMemNoMem",f:gH},41:{n:"PtgMemFunc",f:hH},42:{n:"PtgRefErr",f:dH},43:{n:"PtgAreaErr",f:Lq},44:{n:"PtgRefN",f:Wq},45:{n:"PtgAreaN",f:Fq},46:{n:"PtgMemAreaN",f:DH},47:{n:"PtgMemNoMemN",f:MH},57:{n:"PtgNameX",f:lH},58:{n:"PtgRef3d",f:Kq},59:{n:"PtgArea3d",f:Pq},60:{n:"PtgRefErr3d",f:pH},61:{n:"PtgAreaErr3d",f:Oq},255:{}},LH={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},OH={1:{n:"PtgElfLel",f:mk},2:{n:"PtgElfRw",f:SH},3:{n:"PtgElfCol",f:yH},6:{n:"PtgElfRwV",f:AH},7:{n:"PtgElfColV",f:TH},10:{n:"PtgElfRadical",f:EH},11:{n:"PtgElfRadicalS",f:wH},13:{n:"PtgElfColS",f:vH},15:{n:"PtgElfColSV",f:_H},16:{n:"PtgElfRadicalLel",f:bH},25:{n:"PtgList",f:IH},29:{n:"PtgSxName",f:kH},255:{}},FH={0:{n:"PtgAttrNoop",f:PH},1:{n:"PtgAttrSemi",f:zq},2:{n:"PtgAttrIf",f:qq},4:{n:"PtgAttrChoose",f:Vq},8:{n:"PtgAttrGoto",f:Bq},16:{n:"PtgAttrSum",f:Qq},32:{n:"PtgAttrBaxcel",f:AS},33:{n:"PtgAttrBaxcel",f:AS},64:{n:"PtgAttrSpace",f:Gq},65:{n:"PtgAttrSpaceSemi",f:jq},128:{n:"PtgAttrIfError",f:Hq},255:{}};function q0(t,e,n,r){if(r.biff<8)return Cr(t,e);for(var i=t.l+e,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=oH(t,0,r),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=aH(t,n[o][1],r),s.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=t.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return e=i-t.l,e!==0&&s.push(Cr(t,e)),s}function H0(t,e,n){for(var r=t.l+e,i,s,o=[];r!=t.l;)e=r-t.l,s=t[t.l],i=CS[s]||CS[LH[s]],(s===24||s===25)&&(i=(s===24?OH:FH)[t[t.l+1]]),!i||!i.f?Cr(t,e):o.push([i.n,i.f(t,e,n)]);return o}function UH(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var VH={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function BH(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function gk(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function IS(t,e,n){var r=gk(t,e,n);return r=="#REF"?r:BH(r,n)}function _r(t,e,n,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0}},l=[],f,c,d,g=0,p=0,x,_="";if(!t[0]||!t[0][0])return"";for(var b=-1,C="",I=0,M=t[0].length;I<M;++I){var A=t[0][I];switch(A[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(f=l.pop(),c=l.pop(),b>=0){switch(t[0][b][1][0]){case 0:C=An(" ",t[0][b][1][1]);break;case 1:C=An("\r",t[0][b][1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}c=c+C,b=-1}l.push(c+VH[A[0]]+f);break;case"PtgIsect":f=l.pop(),c=l.pop(),l.push(c+" "+f);break;case"PtgUnion":f=l.pop(),c=l.pop(),l.push(c+","+f);break;case"PtgRange":f=l.pop(),c=l.pop(),l.push(c+":"+f);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=$f(A[1][1],o,i),l.push(Wf(d,s));break;case"PtgRefN":d=n?$f(A[1][1],n,i):A[1][1],l.push(Wf(d,s));break;case"PtgRef3d":g=A[1][1],d=$f(A[1][2],o,i),_=IS(r,g,i),l.push(_+"!"+Wf(d,s));break;case"PtgFunc":case"PtgFuncVar":var P=A[1][0],D=A[1][1];P||(P=0),P&=127;var V=P==0?[]:l.slice(-P);l.length-=P,D==="User"&&(D=V.shift()),l.push(D+"("+V.join(",")+")");break;case"PtgBool":l.push(A[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(A[1]);break;case"PtgNum":l.push(String(A[1]));break;case"PtgStr":l.push('"'+A[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(A[1]);break;case"PtgAreaN":x=uS(A[1][1],n?{s:n}:o,i),l.push(B1(x,i));break;case"PtgArea":x=uS(A[1][1],o,i),l.push(B1(x,i));break;case"PtgArea3d":g=A[1][1],x=A[1][2],_=IS(r,g,i),l.push(_+"!"+B1(x,i));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=A[1][2];var N=(r.names||[])[p-1]||(r[0]||[])[p],k=N?N.Name:"SH33TJSNAME"+String(p);k&&k.slice(0,6)=="_xlfn."&&!i.xlfn&&(k=k.slice(6)),l.push(k);break;case"PtgNameX":var R=A[1][1];p=A[1][2];var O;if(i.biff<=5)R<0&&(R=-R),r[R]&&(O=r[R][p]);else{var L="";if(((r[R]||[])[0]||[])[0]==14849||(((r[R]||[])[0]||[])[0]==1025?r[R][p]&&r[R][p].itab>0&&(L=r.SheetNames[r[R][p].itab-1]+"!"):L=r.SheetNames[p-1]+"!"),r[R]&&r[R][p])L+=r[R][p].Name;else if(r[0]&&r[0][p])L+=r[0][p].Name;else{var U=(gk(r,R,i)||"").split(";;");U[p-1]?L=U[p-1]:L+="SH33TJSERRX"}l.push(L);break}O||(O={Name:"SH33TJSERRY"}),l.push(O.Name);break;case"PtgParen":var q="(",he=")";if(b>=0){switch(C="",t[0][b][1][0]){case 2:q=An(" ",t[0][b][1][1])+q;break;case 3:q=An("\r",t[0][b][1][1])+q;break;case 4:he=An(" ",t[0][b][1][1])+he;break;case 5:he=An("\r",t[0][b][1][1])+he;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}b=-1}l.push(q+l.pop()+he);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:A[1][1],r:A[1][0]};var ae={c:n.c,r:n.r};if(r.sharedf[gt(d)]){var se=r.sharedf[gt(d)];l.push(_r(se,o,ae,r,i))}else{var ue=!1;for(f=0;f!=r.arrayf.length;++f)if(c=r.arrayf[f],!(d.c<c[0].s.c||d.c>c[0].e.c)&&!(d.r<c[0].s.r||d.r>c[0].e.r)){l.push(_r(c[1],o,ae,r,i)),ue=!0;break}ue||l.push(A[1])}break;case"PtgArray":l.push("{"+UH(A[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=I;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+A[1].idx+"[#"+A[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(A));default:throw new Error("Unrecognized Formula Token: "+String(A))}var Ce=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&b>=0&&Ce.indexOf(t[0][I][0])==-1){A=t[0][b];var J=!0;switch(A[1][0]){case 4:J=!1;case 0:C=An(" ",A[1][1]);break;case 5:J=!1;case 1:C=An("\r",A[1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+A[1][0])}l.push((J?C:"")+l.pop()+(J?"":C)),b=-1}}if(l.length>1&&i.WTF)throw new Error("bad formula stack");return l[0]}function qH(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,o=t.read_shift(i);if(o==65535)return[[],Cr(t,e-2)];var l=H0(t,o,n);return e!==o+i&&(s=q0(t,e-o-i,l,n)),t.l=r,[l,s]}function HH(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,o=t.read_shift(i);if(o==65535)return[[],Cr(t,e-2)];var l=H0(t,o,n);return e!==o+i&&(s=q0(t,e-o-i,l,n)),t.l=r,[l,s]}function zH(t,e,n,r){var i=t.l+e,s=H0(t,r,n),o;return i!==t.l&&(o=q0(t,i-t.l,s,n)),[s,o]}function GH(t,e,n){var r=t.l+e,i,s=t.read_shift(2),o=H0(t,s,n);return s==65535?[[],Cr(t,e-2)]:(e!==s+2&&(i=q0(t,r-s-2,o,n)),[o,i])}function jH(t){var e;if(ma(t,t.l+6)!==65535)return[Er(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function z1(t,e,n){var r=t.l+e,i=Fs(t);n.biff==2&&++t.l;var s=jH(t),o=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var l=HH(t,r-t.l,n);return{cell:i,val:s[0],formula:l,shared:o>>3&1,tt:s[1]}}function dm(t,e,n){var r=t.read_shift(4),i=H0(t,r,n),s=t.read_shift(4),o=s>0?q0(t,s,i,n):null;return[i,o]}var $H=dm,pm=dm,WH=dm,KH=dm,YH={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},xk={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},XH={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function kS(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function G1(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var Jf={},Jl={};function Qf(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function yk(t,e,n,r,i,s){try{r.cellNF&&(t.z=_t[e])}catch(l){if(r.WTF)throw l}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=nr(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(_t[e]==null&&bu(JF[e]||"General",e),t.t==="e")t.w=t.w||Gu[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=m0(t.v);else if(t.t==="d"){var o=Ur(t.v);(o|0)===o?t.w=o.toString(10):t.w=m0(o)}else{if(t.v===void 0)return"";t.w=Ru(t.v,Jl)}else t.t==="d"?t.w=Mi(e,Ur(t.v),Jl):t.w=Mi(e,t.v,Jl)}catch(l){if(r.WTF)throw l}if(r.cellStyles&&n!=null)try{t.s=s.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=wp(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=wp(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(l){if(r.WTF&&s.Fills)throw l}}}function JH(t,e){var n=In(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=Ft(n))}var QH=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,ZH=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,ez=/<(?:\w:)?hyperlink [^>]*>/mg,tz=/"(\w*:\w*)"/,nz=/<(?:\w:)?col\b[^>]*[\/]?>/g,rz=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,iz=/<(?:\w:)?pageMargins[^>]*\/>/g,vk=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,sz=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,az=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function oz(t,e,n,r,i,s,o){if(!t)return t;r||(r={"!id":{}});var l=e.dense?[]:{},f={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",d="",g=t.match(ZH);g?(c=t.slice(0,g.index),d=t.slice(g.index+g[0].length)):c=d=t;var p=c.match(vk);p?Yv(p[0],l,i,n):(p=c.match(sz))&&uz(p[0],p[1]||"",l,i,n);var x=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(x>0){var _=c.slice(x,x+50).match(tz);_&&JH(l,_[1])}var b=c.match(az);b&&b[1]&&pz(b[1],i);var C=[];if(e.cellStyles){var I=c.match(nz);I&&fz(C,I)}g&&mz(g[1],l,e,f,s,o);var M=d.match(rz);M&&(l["!autofilter"]=hz(M[0]));var A=[],P=d.match(QH);if(P)for(x=0;x!=P.length;++x)A[x]=In(P[x].slice(P[x].indexOf('"')+1));var D=d.match(ez);D&&lz(l,D,r);var V=d.match(iz);if(V&&(l["!margins"]=cz(ft(V[0]))),!l["!ref"]&&f.e.c>=f.s.c&&f.e.r>=f.s.r&&(l["!ref"]=Ft(f)),e.sheetRows>0&&l["!ref"]){var N=In(l["!ref"]);e.sheetRows<=+N.e.r&&(N.e.r=e.sheetRows-1,N.e.r>f.e.r&&(N.e.r=f.e.r),N.e.r<N.s.r&&(N.s.r=N.e.r),N.e.c>f.e.c&&(N.e.c=f.e.c),N.e.c<N.s.c&&(N.s.c=N.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Ft(N))}return C.length>0&&(l["!cols"]=C),A.length>0&&(l["!merges"]=A),l}function Yv(t,e,n,r){var i=ft(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=Vt(dn(i.codeName)))}function uz(t,e,n,r,i){Yv(t.slice(0,t.indexOf(">")),n,r,i)}function lz(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var s=ft(dn(e[i]),!0);if(!s.ref)return;var o=((n||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+Vt(s.location))):(s.Target="#"+Vt(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var l=In(s.ref),f=l.s.r;f<=l.e.r;++f)for(var c=l.s.c;c<=l.e.c;++c){var d=gt({c,r:f});r?(t[f]||(t[f]=[]),t[f][c]||(t[f][c]={t:"z",v:void 0}),t[f][c].l=s):(t[d]||(t[d]={t:"z",v:void 0}),t[d].l=s)}}}function cz(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function fz(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=ft(e[r],!0);i.hidden&&(i.hidden=_n(i.hidden));var s=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,Wv(i.width)),fc(i);s<=o;)t[s++]=fr(i)}}function hz(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var dz=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function pz(t,e){e.Views||(e.Views=[{}]),(t.match(dz)||[]).forEach(function(n,r){var i=ft(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),_n(i.rightToLeft)&&(e.Views[r].RTL=!0)})}var mz=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=g0("v"),o=g0("f");return function(f,c,d,g,p,x){for(var _=0,b="",C=[],I=[],M=0,A=0,P=0,D="",V,N,k=0,R=0,O,L,U=0,q=0,he=Array.isArray(x.CellXf),ae,se=[],ue=[],Ce=Array.isArray(c),J=[],be={},j=!1,z=!!d.sheetStubs,K=f.split(e),ee=0,re=K.length;ee!=re;++ee){b=K[ee].trim();var pe=b.length;if(pe!==0){var ke=0;e:for(_=0;_<pe;++_)switch(b[_]){case">":if(b[_-1]!="/"){++_;break e}if(d&&d.cellStyles){if(N=ft(b.slice(ke,_),!0),k=N.r!=null?parseInt(N.r,10):k+1,R=-1,d.sheetRows&&d.sheetRows<k)continue;be={},j=!1,N.ht&&(j=!0,be.hpt=parseFloat(N.ht),be.hpx=_0(be.hpt)),N.hidden=="1"&&(j=!0,be.hidden=!0),N.outlineLevel!=null&&(j=!0,be.level=+N.outlineLevel),j&&(J[k-1]=be)}break;case"<":ke=_;break}if(ke>=_)break;if(N=ft(b.slice(ke,_),!0),k=N.r!=null?parseInt(N.r,10):k+1,R=-1,!(d.sheetRows&&d.sheetRows<k)){g.s.r>k-1&&(g.s.r=k-1),g.e.r<k-1&&(g.e.r=k-1),d&&d.cellStyles&&(be={},j=!1,N.ht&&(j=!0,be.hpt=parseFloat(N.ht),be.hpx=_0(be.hpt)),N.hidden=="1"&&(j=!0,be.hidden=!0),N.outlineLevel!=null&&(j=!0,be.level=+N.outlineLevel),j&&(J[k-1]=be)),C=b.slice(_).split(t);for(var Re=0;Re!=C.length&&C[Re].trim().charAt(0)=="<";++Re);for(C=C.slice(Re),_=0;_!=C.length;++_)if(b=C[_].trim(),b.length!==0){if(I=b.match(n),M=_,A=0,P=0,b="<c "+(b.slice(0,1)=="<"?">":"")+b,I!=null&&I.length===2){for(M=0,D=I[1],A=0;A!=D.length&&!((P=D.charCodeAt(A)-64)<1||P>26);++A)M=26*M+P;--M,R=M}else++R;for(A=0;A!=b.length&&b.charCodeAt(A)!==62;++A);if(++A,N=ft(b.slice(0,A),!0),N.r||(N.r=gt({r:k-1,c:R})),D=b.slice(A),V={t:""},(I=D.match(s))!=null&&I[1]!==""&&(V.v=Vt(I[1])),d.cellFormula){if((I=D.match(o))!=null&&I[1]!==""){if(V.f=Vt(dn(I[1])).replace(/\r\n/g,`
    -`),d.xlfn||(V.f=SS(V.f)),I[0].indexOf('t="array"')>-1)V.F=(D.match(i)||[])[1],V.F.indexOf(":")>-1&&se.push([In(V.F),V.F]);else if(I[0].indexOf('t="shared"')>-1){L=ft(I[0]);var Ae=Vt(dn(I[1]));d.xlfn||(Ae=SS(Ae)),ue[parseInt(L.si,10)]=[L,Ae,N.r]}}else(I=D.match(/<f[^>]*\/>/))&&(L=ft(I[0]),ue[L.si]&&(V.f=Aq(ue[L.si][1],ue[L.si][2],N.r)));var Ne=Lr(N.r);for(A=0;A<se.length;++A)Ne.r>=se[A][0].s.r&&Ne.r<=se[A][0].e.r&&Ne.c>=se[A][0].s.c&&Ne.c<=se[A][0].e.c&&(V.F=se[A][1])}if(N.t==null&&V.v===void 0)if(V.f||V.F)V.v=0,V.t="n";else if(z)V.t="z";else continue;else V.t=N.t||"n";switch(g.s.c>R&&(g.s.c=R),g.e.c<R&&(g.e.c=R),V.t){case"n":if(V.v==""||V.v==null){if(!z)continue;V.t="z"}else V.v=parseFloat(V.v);break;case"s":if(typeof V.v>"u"){if(!z)continue;V.t="z"}else O=Jf[parseInt(V.v,10)],V.v=O.t,V.r=O.r,d.cellHTML&&(V.h=O.h);break;case"str":V.t="s",V.v=V.v!=null?dn(V.v):"",d.cellHTML&&(V.h=Ov(V.v));break;case"inlineStr":I=D.match(r),V.t="s",I!=null&&(O=$v(I[1]))?(V.v=O.t,d.cellHTML&&(V.h=O.h)):V.v="";break;case"b":V.v=_n(V.v);break;case"d":d.cellDates?V.v=nr(V.v,1):(V.v=Ur(nr(V.v,1)),V.t="n");break;case"e":(!d||d.cellText!==!1)&&(V.w=V.v),V.v=B6[V.v];break}if(U=q=0,ae=null,he&&N.s!==void 0&&(ae=x.CellXf[N.s],ae!=null&&(ae.numFmtId!=null&&(U=ae.numFmtId),d.cellStyles&&ae.fillId!=null&&(q=ae.fillId))),yk(V,U,q,d,p,x),d.cellDates&&he&&V.t=="n"&&Ec(_t[U])&&(V.t="d",V.v=fm(V.v)),N.cm&&d.xlmeta){var ce=(d.xlmeta.Cell||[])[+N.cm-1];ce&&ce.type=="XLDAPR"&&(V.D=!0)}if(Ce){var Y=Lr(N.r);c[Y.r]||(c[Y.r]=[]),c[Y.r][Y.c]=V}else c[N.r]=V}}}}J.length>0&&(c["!rows"]=J)}})();function gz(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}var xz=zu;function yz(){}function vz(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=q7(t),n}function _z(t){var e=Pi(t);return[e]}function Tz(t){var e=Hu(t);return[e]}function Ez(t){var e=Pi(t),n=t.read_shift(1);return[e,n,"b"]}function bz(t){var e=Hu(t),n=t.read_shift(1);return[e,n,"b"]}function wz(t){var e=Pi(t),n=t.read_shift(1);return[e,n,"e"]}function Sz(t){var e=Hu(t),n=t.read_shift(1);return[e,n,"e"]}function Az(t){var e=Pi(t),n=t.read_shift(4);return[e,n,"s"]}function Cz(t){var e=Hu(t),n=t.read_shift(4);return[e,n,"s"]}function Iz(t){var e=Pi(t),n=Er(t);return[e,n,"n"]}function _k(t){var e=Hu(t),n=Er(t);return[e,n,"n"]}function kz(t){var e=Pi(t),n=zv(t);return[e,n,"n"]}function Rz(t){var e=Hu(t),n=zv(t);return[e,n,"n"]}function Nz(t){var e=Pi(t),n=qv(t);return[e,n,"is"]}function Dz(t){var e=Pi(t),n=Sr(t);return[e,n,"str"]}function Mz(t){var e=Hu(t),n=Sr(t);return[e,n,"str"]}function Pz(t,e,n){var r=t.l+e,i=Pi(t);i.r=n["!row"];var s=t.read_shift(1),o=[i,s,"b"];if(n.cellFormula){t.l+=2;var l=pm(t,r-t.l,n);o[3]=_r(l,null,i,n.supbooks,n)}else t.l=r;return o}function Lz(t,e,n){var r=t.l+e,i=Pi(t);i.r=n["!row"];var s=t.read_shift(1),o=[i,s,"e"];if(n.cellFormula){t.l+=2;var l=pm(t,r-t.l,n);o[3]=_r(l,null,i,n.supbooks,n)}else t.l=r;return o}function Oz(t,e,n){var r=t.l+e,i=Pi(t);i.r=n["!row"];var s=Er(t),o=[i,s,"n"];if(n.cellFormula){t.l+=2;var l=pm(t,r-t.l,n);o[3]=_r(l,null,i,n.supbooks,n)}else t.l=r;return o}function Fz(t,e,n){var r=t.l+e,i=Pi(t);i.r=n["!row"];var s=Sr(t),o=[i,s,"str"];if(n.cellFormula){t.l+=2;var l=pm(t,r-t.l,n);o[3]=_r(l,null,i,n.supbooks,n)}else t.l=r;return o}var Uz=zu;function Vz(t,e){var n=t.l+e,r=zu(t),i=Hv(t),s=Sr(t),o=Sr(t),l=Sr(t);t.l=n;var f={rfx:r,relId:i,loc:s,display:l};return o&&(f.Tooltip=o),f}function Bz(){}function qz(t,e,n){var r=t.l+e,i=F6(t),s=t.read_shift(1),o=[i];if(o[2]=s,n.cellFormula){var l=$H(t,r-t.l,n);o[1]=l}else t.l=r;return o}function Hz(t,e,n){var r=t.l+e,i=zu(t),s=[i];if(n.cellFormula){var o=KH(t,r-t.l,n);s[1]=o,t.l=r}else t.l=r;return s}var zz=["left","right","top","bottom","header","footer"];function Gz(t){var e={};return zz.forEach(function(n){e[n]=Er(t)}),e}function jz(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function $z(){}function Wz(){}function Kz(t,e,n,r,i,s,o){if(!t)return t;var l=e||{};r||(r={"!id":{}});var f=l.dense?[]:{},c,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},g=!1,p=!1,x,_,b,C,I,M,A,P,D,V=[];l.biff=12,l["!row"]=0;var N=0,k=!1,R=[],O={},L=l.supbooks||i.supbooks||[[]];if(L.sharedf=O,L.arrayf=R,L.SheetNames=i.SheetNames||i.Sheets.map(function(Ce){return Ce.name}),!l.supbooks&&(l.supbooks=L,i.Names))for(var U=0;U<i.Names.length;++U)L[0][U+1]=i.Names[U];var q=[],he=[],ae=!1;Cp[16]={n:"BrtShortReal",f:_k};var se;if(wa(t,function(J,be,j){if(!p)switch(j){case 148:c=J;break;case 0:x=J,l.sheetRows&&l.sheetRows<=x.r&&(p=!0),P=hr(C=x.r),l["!row"]=x.r,(J.hidden||J.hpt||J.level!=null)&&(J.hpt&&(J.hpx=_0(J.hpt)),he[J.r]=J);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(_={t:J[2]},J[2]){case"n":_.v=J[1];break;case"s":A=Jf[J[1]],_.v=A.t,_.r=A.r;break;case"b":_.v=!!J[1];break;case"e":_.v=J[1],l.cellText!==!1&&(_.w=Gu[_.v]);break;case"str":_.t="s",_.v=J[1];break;case"is":_.t="s",_.v=J[1].t;break}if((b=o.CellXf[J[0].iStyleRef])&&yk(_,b.numFmtId,null,l,s,o),I=J[0].c==-1?I+1:J[0].c,l.dense?(f[C]||(f[C]=[]),f[C][I]=_):f[Yn(I)+P]=_,l.cellFormula){for(k=!1,N=0;N<R.length;++N){var z=R[N];x.r>=z[0].s.r&&x.r<=z[0].e.r&&I>=z[0].s.c&&I<=z[0].e.c&&(_.F=Ft(z[0]),k=!0)}!k&&J.length>3&&(_.f=J[3])}if(d.s.r>x.r&&(d.s.r=x.r),d.s.c>I&&(d.s.c=I),d.e.r<x.r&&(d.e.r=x.r),d.e.c<I&&(d.e.c=I),l.cellDates&&b&&_.t=="n"&&Ec(_t[b.numFmtId])){var K=Eu(_.v);K&&(_.t="d",_.v=new Date(K.y,K.m-1,K.d,K.H,K.M,K.S,K.u))}se&&(se.type=="XLDAPR"&&(_.D=!0),se=void 0);break;case 1:case 12:if(!l.sheetStubs||g)break;_={t:"z",v:void 0},I=J[0].c==-1?I+1:J[0].c,l.dense?(f[C]||(f[C]=[]),f[C][I]=_):f[Yn(I)+P]=_,d.s.r>x.r&&(d.s.r=x.r),d.s.c>I&&(d.s.c=I),d.e.r<x.r&&(d.e.r=x.r),d.e.c<I&&(d.e.c=I),se&&(se.type=="XLDAPR"&&(_.D=!0),se=void 0);break;case 176:V.push(J);break;case 49:se=((l.xlmeta||{}).Cell||[])[J-1];break;case 494:var ee=r["!id"][J.relId];for(ee?(J.Target=ee.Target,J.loc&&(J.Target+="#"+J.loc),J.Rel=ee):J.relId==""&&(J.Target="#"+J.loc),C=J.rfx.s.r;C<=J.rfx.e.r;++C)for(I=J.rfx.s.c;I<=J.rfx.e.c;++I)l.dense?(f[C]||(f[C]=[]),f[C][I]||(f[C][I]={t:"z",v:void 0}),f[C][I].l=J):(M=gt({c:I,r:C}),f[M]||(f[M]={t:"z",v:void 0}),f[M].l=J);break;case 426:if(!l.cellFormula)break;R.push(J),D=l.dense?f[C][I]:f[Yn(I)+P],D.f=_r(J[1],d,{r:x.r,c:I},L,l),D.F=Ft(J[0]);break;case 427:if(!l.cellFormula)break;O[gt(J[0].s)]=J[1],D=l.dense?f[C][I]:f[Yn(I)+P],D.f=_r(J[1],d,{r:x.r,c:I},L,l);break;case 60:if(!l.cellStyles)break;for(;J.e>=J.s;)q[J.e--]={width:J.w/256,hidden:!!(J.flags&1),level:J.level},ae||(ae=!0,Wv(J.w/256)),fc(q[J.e+1]);break;case 161:f["!autofilter"]={ref:Ft(J)};break;case 476:f["!margins"]=J;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),J.name&&(i.Sheets[n].CodeName=J.name),(J.above||J.left)&&(f["!outline"]={above:J.above,left:J.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),J.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:g=!0;break;case 36:g=!1;break;case 37:g=!0;break;case 38:g=!1;break;default:if(!be.T){if(!g||l.WTF)throw new Error("Unexpected record 0x"+j.toString(16))}}},l),delete l.supbooks,delete l["!row"],!f["!ref"]&&(d.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(f["!ref"]=Ft(c||d)),l.sheetRows&&f["!ref"]){var ue=In(f["!ref"]);l.sheetRows<=+ue.e.r&&(ue.e.r=l.sheetRows-1,ue.e.r>d.e.r&&(ue.e.r=d.e.r),ue.e.r<ue.s.r&&(ue.s.r=ue.e.r),ue.e.c>d.e.c&&(ue.e.c=d.e.c),ue.e.c<ue.s.c&&(ue.s.c=ue.e.c),f["!fullref"]=f["!ref"],f["!ref"]=Ft(ue))}return V.length>0&&(f["!merges"]=V),q.length>0&&(f["!cols"]=q),he.length>0&&(f["!rows"]=he),f}function Yz(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(e[+o[1]]=n?+o[2]:o[2])});var i=Vt((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function Xz(t,e,n,r,i,s){var o=s||{"!type":"chart"};if(!t)return s;var l=0,f=0,c="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(g){var p=Yz(g);d.s.r=d.s.c=0,d.e.c=l,c=Yn(l),p[0].forEach(function(x,_){o[c+hr(_)]={t:"n",v:x,z:p[1]},f=_}),d.e.r<f&&(d.e.r=f),++l}),l>0&&(o["!ref"]=Ft(d)),o}function Jz(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,l=t.match(vk);return l&&Yv(l[0],s,i,n),(o=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function Qz(t,e){t.l+=10;var n=Sr(t);return{name:n}}function Zz(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return wa(t,function(f,c,d){switch(d){case 550:s["!rel"]=f;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),f.name&&(i.Sheets[n].CodeName=f.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!o||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var Tk=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],eG=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],tG=[],nG=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function RS(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=_n(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function NS(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=_n(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function Ek(t){NS(t.WBProps,Tk),NS(t.CalcPr,nG),RS(t.WBView,eG),RS(t.Sheets,tG),Jl.date1904=_n(t.WBProps.date1904)}var rG="][*?/\\".split("");function iG(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return rG.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var sG=/<\w+:workbook/;function aG(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},o=0;if(t.replace(Ir,function(f,c){var d=ft(f);switch(Os(d[0])){case"<?xml":break;case"<workbook":f.match(sG)&&(i="xmlns"+f.match(/<(\w+):/)[1]),n.xmlns=d[i];break;case"</workbook>":break;case"<fileVersion":delete d[0],n.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Tk.forEach(function(g){if(d[g[0]]!=null)switch(g[2]){case"bool":n.WBProps[g[0]]=_n(d[g[0]]);break;case"int":n.WBProps[g[0]]=parseInt(d[g[0]],10);break;default:n.WBProps[g[0]]=d[g[0]]}}),d.codeName&&(n.WBProps.CodeName=dn(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],n.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Vt(dn(d.name)),delete d[0],n.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=dn(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),_n(d.hidden||"0")&&(s.Hidden=!0),o=c+f.length;break;case"</definedName>":s.Ref=Vt(dn(t.slice(o,c))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],n.CalcPr=d;break;case"<calcPr/>":delete d[0],n.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return f}),w7.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return Ek(n),n}function oG(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=uy(t),n.name=Sr(t),n}function uG(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?Sr(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function lG(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function cG(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=H7(t),o=WH(t,0,n),l=Hv(t);t.l=r;var f={Name:s,Ptg:o};return i<268435455&&(f.Sheet=i),l&&(f.Comment=l),f}function fG(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],Cp[16]={n:"BrtFRTArchID$",f:lG},wa(t,function(f,c,d){switch(d){case 156:o.SheetNames.push(f.name),n.Sheets.push(f);break;case 153:n.WBProps=f;break;case 39:f.Sheet!=null&&(e.SID=f.Sheet),f.Ref=_r(f.Ptg,null,null,o,e),delete e.SID,delete f.Ptg,s.push(f);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,f]):o[0]=[d,f],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(f),o.XTI=o.XTI.concat(f);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(d),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(d),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},e),Ek(n),n.Names=s,n.supbooks=o,n}function hG(t,e,n){return e.slice(-4)===".bin"?fG(t,n):aG(t,n)}function dG(t,e,n,r,i,s,o,l){return e.slice(-4)===".bin"?Kz(t,r,n,i,s,o,l):oz(t,r,n,i,s,o,l)}function pG(t,e,n,r,i,s,o,l){return e.slice(-4)===".bin"?Zz(t,r,n,i,s):Jz(t,r,n,i,s)}function mG(t,e,n,r,i,s,o,l){return e.slice(-4)===".bin"?bq():wq()}function gG(t,e,n,r,i,s,o,l){return e.slice(-4)===".bin"?Tq():Eq()}function xG(t,e,n,r){return e.slice(-4)===".bin"?UB(t,n,r):DB(t,n,r)}function yG(t,e,n){return uk(t,n)}function vG(t,e,n){return e.slice(-4)===".bin"?eB(t,n):QV(t,n)}function _G(t,e,n){return e.slice(-4)===".bin"?yq(t,n):dq(t,n)}function TG(t,e,n){return e.slice(-4)===".bin"?cq(t):uq(t)}function EG(t,e,n,r){return n.slice(-4)===".bin"?fq(t,e,n,r):void 0}function bG(t,e,n){return e.slice(-4)===".bin"?aq(t,e,n):oq(t,e,n)}var bk=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,wk=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function $i(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=t.match(bk),s,o,l,f;if(i)for(f=0;f!=i.length;++f)s=i[f].match(wk),(o=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(o+1),r[l]=s[2].slice(1,s[2].length-1));return r}function wG(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(bk),i,s,o,l;if(r)for(l=0;l!=r.length;++l)i=r[l].match(wk),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}var Zf;function SG(t,e){var n=Zf[t]||Vt(t);return n==="General"?Ru(e):Mi(n,e)}function AG(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=_n(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=nr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[Vt(e)]=i}function CG(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||Gu[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=m0(t.v):t.w=Ru(t.v):t.w=SG(e||"General",t.v)}catch(s){if(n.WTF)throw s}try{var r=Zf[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&Ec(r)){var i=Eu(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function IG(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=AB[r.Pattern]||r.Pattern)}t[e.ID]=e}function kG(t,e,n,r,i,s,o,l,f,c){var d="General",g=r.StyleID,p={};c=c||{};var x=[],_=0;for(g===void 0&&l&&(g=l.StyleID),g===void 0&&o&&(g=o.StyleID);s[g]!==void 0&&(s[g].nf&&(d=s[g].nf),s[g].Interior&&x.push(s[g].Interior),!!s[g].Parent);)g=s[g].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=_n(t);break;case"String":r.t="s",r.r=Zw(Vt(t)),r.v=t.indexOf("<")>-1?Vt(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(nr(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Vt(t):r.v<60&&(r.v=r.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=B6[t],c.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=Zw(e||t));break}if(CG(r,d,c),c.cellFormula!==!1)if(r.Formula){var b=Vt(r.Formula);b.charCodeAt(0)==61&&(b=b.slice(1)),r.f=Xl(b,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Xl("RC:RC",i):r.ArrayRange&&(r.F=Xl(r.ArrayRange,i),f.push([In(r.F),r.F]))}else for(_=0;_<f.length;++_)i.r>=f[_][0].s.r&&i.r<=f[_][0].e.r&&i.c>=f[_][0].s.c&&i.c<=f[_][0].e.c&&(r.F=f[_][1]);c.cellStyles&&(x.forEach(function(C){!p.patternType&&C.patternType&&(p.patternType=C.patternType)}),r.s=p),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function RG(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
    +`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return l}),n}function _q(t,e){var n=[],r=!1;return t.replace(Ir,function(s){var o=ft(s);switch(Fs(o[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:o.displayname,id:o.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+o[0]+" in threaded comments")}return s}),n}function Tq(t){var e={};e.iauthor=t.read_shift(4);var n=ju(t);return e.rfx=n.s,e.ref=gt(n.s),t.l+=16,e}var Eq=Sr;function bq(t,e){var n=[],r=[],i={},s=!1;return Sa(t,function(l,f,c){switch(c){case 632:r.push(l);break;case 635:i=l;break;case 637:i.t=l.t,i.h=l.h,i.r=l.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!f.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}var wq="application/vnd.ms-office.vbaProject";function Sq(t){var e=Ot.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ot.utils.cfb_add(e,i,t.FileIndex[r].content)}}),Ot.write(e)}function Aq(){return{"!type":"dialog"}}function Cq(){return{"!type":"dialog"}}function Iq(){return{"!type":"macro"}}function kq(){return{"!type":"macro"}}var Ql=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,o){var l=!1,f=!1;s.length==0?f=!0:s.charAt(0)=="["&&(f=!0,s=s.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,d=o.length>0?parseInt(o,10)|0:0;return l?d+=e.c:--d,f?c+=e.r:--c,i+(l?"":"$")+Yn(d)+(f?"":"$")+hr(c)}return function(i,s){return e=s,i.replace(t,n)}})(),pk=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Rq=(function(){return function(e,n){return e.replace(pk,function(r,i,s,o,l,f){var c=zv(o)-(s?0:n.c),d=Hv(f)-(l?0:n.r),g=d==0?"":l?d+1:"["+d+"]",p=c==0?"":s?c+1:"["+c+"]";return i+"R"+g+"C"+p})}})();function mk(t,e){return t.replace(pk,function(n,r,i,s,o,l){return r+(i=="$"?i+s:Yn(zv(s)+e.c))+(o=="$"?o+l:hr(Hv(l)+e.r))})}function Nq(t,e,n){var r=wc(e),i=r.s,s=Lr(n),o={r:s.r-i.r,c:s.c-i.c};return mk(t,o)}function Dq(t){return t.length!=1}function CS(t){return t.replace(/_xlfn\./g,"")}function Bn(t){t.l+=1}function Lo(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function gk(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return xk(t);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),o=Lo(t),l=Lo(t);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function xk(t){var e=Lo(t),n=Lo(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function Mq(t,e,n){if(n.biff<8)return xk(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=Lo(t),o=Lo(t);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function yk(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return Pq(t);var r=t.read_shift(n&&n.biff==12?4:2),i=Lo(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function Pq(t){var e=Lo(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function Lq(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function Oq(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return Fq(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),o=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:l}}function Fq(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function Uq(t,e,n){var r=(t[t.l++]&96)>>5,i=gk(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function Vq(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var o=gk(t,s,n);return[r,i,o]}function Bq(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function qq(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function Hq(t,e,n){var r=(t[t.l++]&96)>>5,i=Mq(t,e-1,n);return[r,i]}function zq(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function IS(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function Gq(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function jq(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function $q(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function Wq(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Kq(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function vk(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function Yq(t){return t.read_shift(2),vk(t)}function Xq(t){return t.read_shift(2),vk(t)}function Jq(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=yk(t,0,n);return[r,i]}function Qq(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=Oq(t,0,n);return[r,i]}function Zq(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=yk(t,0,n);return[r,i,s]}function eH(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[tz[i],Ek[i],r]}function tH(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:nH(t);return[i,(s[0]===0?Ek:ez)[s[1]]]}function nH(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function rH(t,e,n){t.l+=n&&n.biff==2?3:4}function iH(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function sH(t){return t.l++,$u[t.read_shift(1)]}function aH(t){return t.l++,t.read_shift(2)}function oH(t){return t.l++,t.read_shift(1)!==0}function uH(t){return t.l++,Er(t)}function lH(t,e,n){return t.l++,V0(t,e-1,n)}function cH(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Dn(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=$u[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=Er(t);break;case 2:n[1]=Wu(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function fH(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?ju:mm)(t));return i}function hH(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var l=0;l!=i;++l)o[s][l]=cH(t,n.biff);return o}function dH(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function pH(t,e,n){if(n.biff==5)return mH(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function mH(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function gH(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function xH(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function yH(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function vH(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var _H=Cr,TH=Cr,EH=Cr;function q0(t,e,n){return t.l+=2,[Lq(t)]}function Jv(t){return t.l+=6,[]}var bH=q0,wH=Jv,SH=Jv,AH=q0;function _k(t){return t.l+=2,[zn(t),t.read_shift(2)&1]}var CH=q0,IH=_k,kH=Jv,RH=q0,NH=q0,DH=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function MH(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),o=DH[n>>2&31];return{ixti:e,coltype:n&3,rt:o,idx:r,c:i,C:s}}function PH(t){return t.l+=2,[t.read_shift(4)]}function LH(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function OH(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function FH(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function UH(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function VH(t){return t.l+=4,[0,0]}var kS={1:{n:"PtgExp",f:iH},2:{n:"PtgTbl",f:EH},3:{n:"PtgAdd",f:Bn},4:{n:"PtgSub",f:Bn},5:{n:"PtgMul",f:Bn},6:{n:"PtgDiv",f:Bn},7:{n:"PtgPower",f:Bn},8:{n:"PtgConcat",f:Bn},9:{n:"PtgLt",f:Bn},10:{n:"PtgLe",f:Bn},11:{n:"PtgEq",f:Bn},12:{n:"PtgGe",f:Bn},13:{n:"PtgGt",f:Bn},14:{n:"PtgNe",f:Bn},15:{n:"PtgIsect",f:Bn},16:{n:"PtgUnion",f:Bn},17:{n:"PtgRange",f:Bn},18:{n:"PtgUplus",f:Bn},19:{n:"PtgUminus",f:Bn},20:{n:"PtgPercent",f:Bn},21:{n:"PtgParen",f:Bn},22:{n:"PtgMissArg",f:Bn},23:{n:"PtgStr",f:lH},26:{n:"PtgSheet",f:LH},27:{n:"PtgEndSheet",f:OH},28:{n:"PtgErr",f:sH},29:{n:"PtgBool",f:oH},30:{n:"PtgInt",f:aH},31:{n:"PtgNum",f:uH},32:{n:"PtgArray",f:zq},33:{n:"PtgFunc",f:eH},34:{n:"PtgFuncVar",f:tH},35:{n:"PtgName",f:dH},36:{n:"PtgRef",f:Jq},37:{n:"PtgArea",f:Uq},38:{n:"PtgMemArea",f:gH},39:{n:"PtgMemErr",f:_H},40:{n:"PtgMemNoMem",f:TH},41:{n:"PtgMemFunc",f:xH},42:{n:"PtgRefErr",f:yH},43:{n:"PtgAreaErr",f:Bq},44:{n:"PtgRefN",f:Qq},45:{n:"PtgAreaN",f:Hq},46:{n:"PtgMemAreaN",f:FH},47:{n:"PtgMemNoMemN",f:UH},57:{n:"PtgNameX",f:pH},58:{n:"PtgRef3d",f:Zq},59:{n:"PtgArea3d",f:Vq},60:{n:"PtgRefErr3d",f:vH},61:{n:"PtgAreaErr3d",f:qq},255:{}},BH={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},qH={1:{n:"PtgElfLel",f:_k},2:{n:"PtgElfRw",f:RH},3:{n:"PtgElfCol",f:bH},6:{n:"PtgElfRwV",f:NH},7:{n:"PtgElfColV",f:AH},10:{n:"PtgElfRadical",f:CH},11:{n:"PtgElfRadicalS",f:kH},13:{n:"PtgElfColS",f:wH},15:{n:"PtgElfColSV",f:SH},16:{n:"PtgElfRadicalLel",f:IH},25:{n:"PtgList",f:MH},29:{n:"PtgSxName",f:PH},255:{}},HH={0:{n:"PtgAttrNoop",f:VH},1:{n:"PtgAttrSemi",f:Kq},2:{n:"PtgAttrIf",f:$q},4:{n:"PtgAttrChoose",f:Gq},8:{n:"PtgAttrGoto",f:jq},16:{n:"PtgAttrSum",f:rH},32:{n:"PtgAttrBaxcel",f:IS},33:{n:"PtgAttrBaxcel",f:IS},64:{n:"PtgAttrSpace",f:Yq},65:{n:"PtgAttrSpaceSemi",f:Xq},128:{n:"PtgAttrIfError",f:Wq},255:{}};function H0(t,e,n,r){if(r.biff<8)return Cr(t,e);for(var i=t.l+e,s=[],o=0;o!==n.length;++o)switch(n[o][0]){case"PtgArray":n[o][1]=hH(t,0,r),s.push(n[o][1]);break;case"PtgMemArea":n[o][2]=fH(t,n[o][1],r),s.push(n[o][2]);break;case"PtgExp":r&&r.biff==12&&(n[o][1][1]=t.read_shift(4),s.push(n[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[o][0]}return e=i-t.l,e!==0&&s.push(Cr(t,e)),s}function z0(t,e,n){for(var r=t.l+e,i,s,o=[];r!=t.l;)e=r-t.l,s=t[t.l],i=kS[s]||kS[BH[s]],(s===24||s===25)&&(i=(s===24?qH:HH)[t[t.l+1]]),!i||!i.f?Cr(t,e):o.push([i.n,i.f(t,e,n)]);return o}function zH(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var GH={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function jH(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function Tk(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function RS(t,e,n){var r=Tk(t,e,n);return r=="#REF"?r:jH(r,n)}function _r(t,e,n,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0}},l=[],f,c,d,g=0,p=0,x,_="";if(!t[0]||!t[0][0])return"";for(var b=-1,C="",I=0,D=t[0].length;I<D;++I){var A=t[0][I];switch(A[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(f=l.pop(),c=l.pop(),b>=0){switch(t[0][b][1][0]){case 0:C=An(" ",t[0][b][1][1]);break;case 1:C=An("\r",t[0][b][1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}c=c+C,b=-1}l.push(c+GH[A[0]]+f);break;case"PtgIsect":f=l.pop(),c=l.pop(),l.push(c+" "+f);break;case"PtgUnion":f=l.pop(),c=l.pop(),l.push(c+","+f);break;case"PtgRange":f=l.pop(),c=l.pop(),l.push(c+":"+f);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=Wf(A[1][1],o,i),l.push(Kf(d,s));break;case"PtgRefN":d=n?Wf(A[1][1],n,i):A[1][1],l.push(Kf(d,s));break;case"PtgRef3d":g=A[1][1],d=Wf(A[1][2],o,i),_=RS(r,g,i),l.push(_+"!"+Kf(d,s));break;case"PtgFunc":case"PtgFuncVar":var P=A[1][0],M=A[1][1];P||(P=0),P&=127;var U=P==0?[]:l.slice(-P);l.length-=P,M==="User"&&(M=U.shift()),l.push(M+"("+U.join(",")+")");break;case"PtgBool":l.push(A[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(A[1]);break;case"PtgNum":l.push(String(A[1]));break;case"PtgStr":l.push('"'+A[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(A[1]);break;case"PtgAreaN":x=cS(A[1][1],n?{s:n}:o,i),l.push(z1(x,i));break;case"PtgArea":x=cS(A[1][1],o,i),l.push(z1(x,i));break;case"PtgArea3d":g=A[1][1],x=A[1][2],_=RS(r,g,i),l.push(_+"!"+z1(x,i));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=A[1][2];var N=(r.names||[])[p-1]||(r[0]||[])[p],k=N?N.Name:"SH33TJSNAME"+String(p);k&&k.slice(0,6)=="_xlfn."&&!i.xlfn&&(k=k.slice(6)),l.push(k);break;case"PtgNameX":var R=A[1][1];p=A[1][2];var V;if(i.biff<=5)R<0&&(R=-R),r[R]&&(V=r[R][p]);else{var L="";if(((r[R]||[])[0]||[])[0]==14849||(((r[R]||[])[0]||[])[0]==1025?r[R][p]&&r[R][p].itab>0&&(L=r.SheetNames[r[R][p].itab-1]+"!"):L=r.SheetNames[p-1]+"!"),r[R]&&r[R][p])L+=r[R][p].Name;else if(r[0]&&r[0][p])L+=r[0][p].Name;else{var F=(Tk(r,R,i)||"").split(";;");F[p-1]?L=F[p-1]:L+="SH33TJSERRX"}l.push(L);break}V||(V={Name:"SH33TJSERRY"}),l.push(V.Name);break;case"PtgParen":var q="(",ce=")";if(b>=0){switch(C="",t[0][b][1][0]){case 2:q=An(" ",t[0][b][1][1])+q;break;case 3:q=An("\r",t[0][b][1][1])+q;break;case 4:ce=An(" ",t[0][b][1][1])+ce;break;case 5:ce=An("\r",t[0][b][1][1])+ce;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}b=-1}l.push(q+l.pop()+ce);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":d={c:A[1][1],r:A[1][0]};var oe={c:n.c,r:n.r};if(r.sharedf[gt(d)]){var ae=r.sharedf[gt(d)];l.push(_r(ae,o,oe,r,i))}else{var se=!1;for(f=0;f!=r.arrayf.length;++f)if(c=r.arrayf[f],!(d.c<c[0].s.c||d.c>c[0].e.c)&&!(d.r<c[0].s.r||d.r>c[0].e.r)){l.push(_r(c[1],o,oe,r,i)),se=!0;break}se||l.push(A[1])}break;case"PtgArray":l.push("{"+zH(A[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=I;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+A[1].idx+"[#"+A[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(A));default:throw new Error("Unrecognized Formula Token: "+String(A))}var me=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&b>=0&&me.indexOf(t[0][I][0])==-1){A=t[0][b];var X=!0;switch(A[1][0]){case 4:X=!1;case 0:C=An(" ",A[1][1]);break;case 5:X=!1;case 1:C=An("\r",A[1][1]);break;default:if(C="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+A[1][0])}l.push((X?C:"")+l.pop()+(X?"":C)),b=-1}}if(l.length>1&&i.WTF)throw new Error("bad formula stack");return l[0]}function $H(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,o=t.read_shift(i);if(o==65535)return[[],Cr(t,e-2)];var l=z0(t,o,n);return e!==o+i&&(s=H0(t,e-o-i,l,n)),t.l=r,[l,s]}function WH(t,e,n){var r=t.l+e,i=n.biff==2?1:2,s,o=t.read_shift(i);if(o==65535)return[[],Cr(t,e-2)];var l=z0(t,o,n);return e!==o+i&&(s=H0(t,e-o-i,l,n)),t.l=r,[l,s]}function KH(t,e,n,r){var i=t.l+e,s=z0(t,r,n),o;return i!==t.l&&(o=H0(t,i-t.l,s,n)),[s,o]}function YH(t,e,n){var r=t.l+e,i,s=t.read_shift(2),o=z0(t,s,n);return s==65535?[[],Cr(t,e-2)]:(e!==s+2&&(i=H0(t,r-s-2,o,n)),[o,i])}function XH(t){var e;if(ga(t,t.l+6)!==65535)return[Er(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function $1(t,e,n){var r=t.l+e,i=Us(t);n.biff==2&&++t.l;var s=XH(t),o=t.read_shift(1);n.biff!=2&&(t.read_shift(1),n.biff>=5&&t.read_shift(4));var l=WH(t,r-t.l,n);return{cell:i,val:s[0],formula:l,shared:o>>3&1,tt:s[1]}}function gm(t,e,n){var r=t.read_shift(4),i=z0(t,r,n),s=t.read_shift(4),o=s>0?H0(t,s,i,n):null;return[i,o]}var JH=gm,xm=gm,QH=gm,ZH=gm,ez={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Ek={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},tz={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function NS(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,n){return n.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function W1(t){var e=t.split(":"),n=e[0].split(".")[0];return[n,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}var Qf={},Zl={};function Zf(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(n=[1,1,1,1,.5,.5]),t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function bk(t,e,n,r,i,s){try{r.cellNF&&(t.z=_t[e])}catch(l){if(r.WTF)throw l}if(!(t.t==="z"&&!r.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=nr(t.v)),(!r||r.cellText!==!1)&&t.t!=="z")try{if(_t[e]==null&&wu(n7[e]||"General",e),t.t==="e")t.w=t.w||$u[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=g0(t.v);else if(t.t==="d"){var o=Ur(t.v);(o|0)===o?t.w=o.toString(10):t.w=g0(o)}else{if(t.v===void 0)return"";t.w=Nu(t.v,Zl)}else t.t==="d"?t.w=Mi(e,Ur(t.v),Zl):t.w=Mi(e,t.v,Zl)}catch(l){if(r.WTF)throw l}if(r.cellStyles&&n!=null)try{t.s=s.Fills[n],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=Sp(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),r.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=Sp(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),r.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(l){if(r.WTF&&s.Fills)throw l}}}function nz(t,e){var n=In(e);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(t["!ref"]=Ft(n))}var rz=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,iz=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,sz=/<(?:\w:)?hyperlink [^>]*>/mg,az=/"(\w*:\w*)"/,oz=/<(?:\w:)?col\b[^>]*[\/]?>/g,uz=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,lz=/<(?:\w:)?pageMargins[^>]*\/>/g,wk=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,cz=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,fz=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function hz(t,e,n,r,i,s,o){if(!t)return t;r||(r={"!id":{}});var l=e.dense?[]:{},f={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",d="",g=t.match(iz);g?(c=t.slice(0,g.index),d=t.slice(g.index+g[0].length)):c=d=t;var p=c.match(wk);p?Qv(p[0],l,i,n):(p=c.match(cz))&&dz(p[0],p[1]||"",l,i,n);var x=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(x>0){var _=c.slice(x,x+50).match(az);_&&nz(l,_[1])}var b=c.match(fz);b&&b[1]&&vz(b[1],i);var C=[];if(e.cellStyles){var I=c.match(oz);I&&gz(C,I)}g&&_z(g[1],l,e,f,s,o);var D=d.match(uz);D&&(l["!autofilter"]=xz(D[0]));var A=[],P=d.match(rz);if(P)for(x=0;x!=P.length;++x)A[x]=In(P[x].slice(P[x].indexOf('"')+1));var M=d.match(sz);M&&pz(l,M,r);var U=d.match(lz);if(U&&(l["!margins"]=mz(ft(U[0]))),!l["!ref"]&&f.e.c>=f.s.c&&f.e.r>=f.s.r&&(l["!ref"]=Ft(f)),e.sheetRows>0&&l["!ref"]){var N=In(l["!ref"]);e.sheetRows<=+N.e.r&&(N.e.r=e.sheetRows-1,N.e.r>f.e.r&&(N.e.r=f.e.r),N.e.r<N.s.r&&(N.s.r=N.e.r),N.e.c>f.e.c&&(N.e.c=f.e.c),N.e.c<N.s.c&&(N.s.c=N.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Ft(N))}return C.length>0&&(l["!cols"]=C),A.length>0&&(l["!merges"]=A),l}function Qv(t,e,n,r){var i=ft(t);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=Vt(dn(i.codeName)))}function dz(t,e,n,r,i){Qv(t.slice(0,t.indexOf(">")),n,r,i)}function pz(t,e,n){for(var r=Array.isArray(t),i=0;i!=e.length;++i){var s=ft(dn(e[i]),!0);if(!s.ref)return;var o=((n||{})["!id"]||[])[s.id];o?(s.Target=o.Target,s.location&&(s.Target+="#"+Vt(s.location))):(s.Target="#"+Vt(s.location),o={Target:s.Target,TargetMode:"Internal"}),s.Rel=o,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var l=In(s.ref),f=l.s.r;f<=l.e.r;++f)for(var c=l.s.c;c<=l.e.c;++c){var d=gt({c,r:f});r?(t[f]||(t[f]=[]),t[f][c]||(t[f][c]={t:"z",v:void 0}),t[f][c].l=s):(t[d]||(t[d]={t:"z",v:void 0}),t[d].l=s)}}}function mz(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(n){t[n]&&(e[n]=parseFloat(t[n]))}),e}function gz(t,e){for(var n=!1,r=0;r!=e.length;++r){var i=ft(e[r],!0);i.hidden&&(i.hidden=_n(i.hidden));var s=parseInt(i.min,10)-1,o=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,Xv(i.width)),dc(i);s<=o;)t[s++]=fr(i)}}function xz(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}var yz=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function vz(t,e){e.Views||(e.Views=[{}]),(t.match(yz)||[]).forEach(function(n,r){var i=ft(n);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),_n(i.rightToLeft)&&(e.Views[r].RTL=!0)})}var _z=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=x0("v"),o=x0("f");return function(f,c,d,g,p,x){for(var _=0,b="",C=[],I=[],D=0,A=0,P=0,M="",U,N,k=0,R=0,V,L,F=0,q=0,ce=Array.isArray(x.CellXf),oe,ae=[],se=[],me=Array.isArray(c),X=[],ge={},G=!1,z=!!d.sheetStubs,K=f.split(e),ee=0,re=K.length;ee!=re;++ee){b=K[ee].trim();var pe=b.length;if(pe!==0){var ke=0;e:for(_=0;_<pe;++_)switch(b[_]){case">":if(b[_-1]!="/"){++_;break e}if(d&&d.cellStyles){if(N=ft(b.slice(ke,_),!0),k=N.r!=null?parseInt(N.r,10):k+1,R=-1,d.sheetRows&&d.sheetRows<k)continue;ge={},G=!1,N.ht&&(G=!0,ge.hpt=parseFloat(N.ht),ge.hpx=T0(ge.hpt)),N.hidden=="1"&&(G=!0,ge.hidden=!0),N.outlineLevel!=null&&(G=!0,ge.level=+N.outlineLevel),G&&(X[k-1]=ge)}break;case"<":ke=_;break}if(ke>=_)break;if(N=ft(b.slice(ke,_),!0),k=N.r!=null?parseInt(N.r,10):k+1,R=-1,!(d.sheetRows&&d.sheetRows<k)){g.s.r>k-1&&(g.s.r=k-1),g.e.r<k-1&&(g.e.r=k-1),d&&d.cellStyles&&(ge={},G=!1,N.ht&&(G=!0,ge.hpt=parseFloat(N.ht),ge.hpx=T0(ge.hpt)),N.hidden=="1"&&(G=!0,ge.hidden=!0),N.outlineLevel!=null&&(G=!0,ge.level=+N.outlineLevel),G&&(X[k-1]=ge)),C=b.slice(_).split(t);for(var Re=0;Re!=C.length&&C[Re].trim().charAt(0)=="<";++Re);for(C=C.slice(Re),_=0;_!=C.length;++_)if(b=C[_].trim(),b.length!==0){if(I=b.match(n),D=_,A=0,P=0,b="<c "+(b.slice(0,1)=="<"?">":"")+b,I!=null&&I.length===2){for(D=0,M=I[1],A=0;A!=M.length&&!((P=M.charCodeAt(A)-64)<1||P>26);++A)D=26*D+P;--D,R=D}else++R;for(A=0;A!=b.length&&b.charCodeAt(A)!==62;++A);if(++A,N=ft(b.slice(0,A),!0),N.r||(N.r=gt({r:k-1,c:R})),M=b.slice(A),U={t:""},(I=M.match(s))!=null&&I[1]!==""&&(U.v=Vt(I[1])),d.cellFormula){if((I=M.match(o))!=null&&I[1]!==""){if(U.f=Vt(dn(I[1])).replace(/\r\n/g,`
    +`),d.xlfn||(U.f=CS(U.f)),I[0].indexOf('t="array"')>-1)U.F=(M.match(i)||[])[1],U.F.indexOf(":")>-1&&ae.push([In(U.F),U.F]);else if(I[0].indexOf('t="shared"')>-1){L=ft(I[0]);var Ce=Vt(dn(I[1]));d.xlfn||(Ce=CS(Ce)),se[parseInt(L.si,10)]=[L,Ce,N.r]}}else(I=M.match(/<f[^>]*\/>/))&&(L=ft(I[0]),se[L.si]&&(U.f=Nq(se[L.si][1],se[L.si][2],N.r)));var Ne=Lr(N.r);for(A=0;A<ae.length;++A)Ne.r>=ae[A][0].s.r&&Ne.r<=ae[A][0].e.r&&Ne.c>=ae[A][0].s.c&&Ne.c<=ae[A][0].e.c&&(U.F=ae[A][1])}if(N.t==null&&U.v===void 0)if(U.f||U.F)U.v=0,U.t="n";else if(z)U.t="z";else continue;else U.t=N.t||"n";switch(g.s.c>R&&(g.s.c=R),g.e.c<R&&(g.e.c=R),U.t){case"n":if(U.v==""||U.v==null){if(!z)continue;U.t="z"}else U.v=parseFloat(U.v);break;case"s":if(typeof U.v>"u"){if(!z)continue;U.t="z"}else V=Qf[parseInt(U.v,10)],U.v=V.t,U.r=V.r,d.cellHTML&&(U.h=V.h);break;case"str":U.t="s",U.v=U.v!=null?dn(U.v):"",d.cellHTML&&(U.h=Vv(U.v));break;case"inlineStr":I=M.match(r),U.t="s",I!=null&&(V=Yv(I[1]))?(U.v=V.t,d.cellHTML&&(U.h=V.h)):U.v="";break;case"b":U.v=_n(U.v);break;case"d":d.cellDates?U.v=nr(U.v,1):(U.v=Ur(nr(U.v,1)),U.t="n");break;case"e":(!d||d.cellText!==!1)&&(U.w=U.v),U.v=j6[U.v];break}if(F=q=0,oe=null,ce&&N.s!==void 0&&(oe=x.CellXf[N.s],oe!=null&&(oe.numFmtId!=null&&(F=oe.numFmtId),d.cellStyles&&oe.fillId!=null&&(q=oe.fillId))),bk(U,F,q,d,p,x),d.cellDates&&ce&&U.t=="n"&&bc(_t[F])&&(U.t="d",U.v=pm(U.v)),N.cm&&d.xlmeta){var he=(d.xlmeta.Cell||[])[+N.cm-1];he&&he.type=="XLDAPR"&&(U.D=!0)}if(me){var Y=Lr(N.r);c[Y.r]||(c[Y.r]=[]),c[Y.r][Y.c]=U}else c[N.r]=U}}}}X.length>0&&(c["!rows"]=X)}})();function Tz(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}var Ez=ju;function bz(){}function wz(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=$7(t),n}function Sz(t){var e=Pi(t);return[e]}function Az(t){var e=Gu(t);return[e]}function Cz(t){var e=Pi(t),n=t.read_shift(1);return[e,n,"b"]}function Iz(t){var e=Gu(t),n=t.read_shift(1);return[e,n,"b"]}function kz(t){var e=Pi(t),n=t.read_shift(1);return[e,n,"e"]}function Rz(t){var e=Gu(t),n=t.read_shift(1);return[e,n,"e"]}function Nz(t){var e=Pi(t),n=t.read_shift(4);return[e,n,"s"]}function Dz(t){var e=Gu(t),n=t.read_shift(4);return[e,n,"s"]}function Mz(t){var e=Pi(t),n=Er(t);return[e,n,"n"]}function Sk(t){var e=Gu(t),n=Er(t);return[e,n,"n"]}function Pz(t){var e=Pi(t),n=$v(t);return[e,n,"n"]}function Lz(t){var e=Gu(t),n=$v(t);return[e,n,"n"]}function Oz(t){var e=Pi(t),n=Gv(t);return[e,n,"is"]}function Fz(t){var e=Pi(t),n=Sr(t);return[e,n,"str"]}function Uz(t){var e=Gu(t),n=Sr(t);return[e,n,"str"]}function Vz(t,e,n){var r=t.l+e,i=Pi(t);i.r=n["!row"];var s=t.read_shift(1),o=[i,s,"b"];if(n.cellFormula){t.l+=2;var l=xm(t,r-t.l,n);o[3]=_r(l,null,i,n.supbooks,n)}else t.l=r;return o}function Bz(t,e,n){var r=t.l+e,i=Pi(t);i.r=n["!row"];var s=t.read_shift(1),o=[i,s,"e"];if(n.cellFormula){t.l+=2;var l=xm(t,r-t.l,n);o[3]=_r(l,null,i,n.supbooks,n)}else t.l=r;return o}function qz(t,e,n){var r=t.l+e,i=Pi(t);i.r=n["!row"];var s=Er(t),o=[i,s,"n"];if(n.cellFormula){t.l+=2;var l=xm(t,r-t.l,n);o[3]=_r(l,null,i,n.supbooks,n)}else t.l=r;return o}function Hz(t,e,n){var r=t.l+e,i=Pi(t);i.r=n["!row"];var s=Sr(t),o=[i,s,"str"];if(n.cellFormula){t.l+=2;var l=xm(t,r-t.l,n);o[3]=_r(l,null,i,n.supbooks,n)}else t.l=r;return o}var zz=ju;function Gz(t,e){var n=t.l+e,r=ju(t),i=jv(t),s=Sr(t),o=Sr(t),l=Sr(t);t.l=n;var f={rfx:r,relId:i,loc:s,display:l};return o&&(f.Tooltip=o),f}function jz(){}function $z(t,e,n){var r=t.l+e,i=H6(t),s=t.read_shift(1),o=[i];if(o[2]=s,n.cellFormula){var l=JH(t,r-t.l,n);o[1]=l}else t.l=r;return o}function Wz(t,e,n){var r=t.l+e,i=ju(t),s=[i];if(n.cellFormula){var o=ZH(t,r-t.l,n);s[1]=o,t.l=r}else t.l=r;return s}var Kz=["left","right","top","bottom","header","footer"];function Yz(t){var e={};return Kz.forEach(function(n){e[n]=Er(t)}),e}function Xz(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function Jz(){}function Qz(){}function Zz(t,e,n,r,i,s,o){if(!t)return t;var l=e||{};r||(r={"!id":{}});var f=l.dense?[]:{},c,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},g=!1,p=!1,x,_,b,C,I,D,A,P,M,U=[];l.biff=12,l["!row"]=0;var N=0,k=!1,R=[],V={},L=l.supbooks||i.supbooks||[[]];if(L.sharedf=V,L.arrayf=R,L.SheetNames=i.SheetNames||i.Sheets.map(function(me){return me.name}),!l.supbooks&&(l.supbooks=L,i.Names))for(var F=0;F<i.Names.length;++F)L[0][F+1]=i.Names[F];var q=[],ce=[],oe=!1;Ip[16]={n:"BrtShortReal",f:Sk};var ae;if(Sa(t,function(X,ge,G){if(!p)switch(G){case 148:c=X;break;case 0:x=X,l.sheetRows&&l.sheetRows<=x.r&&(p=!0),P=hr(C=x.r),l["!row"]=x.r,(X.hidden||X.hpt||X.level!=null)&&(X.hpt&&(X.hpx=T0(X.hpt)),ce[X.r]=X);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(_={t:X[2]},X[2]){case"n":_.v=X[1];break;case"s":A=Qf[X[1]],_.v=A.t,_.r=A.r;break;case"b":_.v=!!X[1];break;case"e":_.v=X[1],l.cellText!==!1&&(_.w=$u[_.v]);break;case"str":_.t="s",_.v=X[1];break;case"is":_.t="s",_.v=X[1].t;break}if((b=o.CellXf[X[0].iStyleRef])&&bk(_,b.numFmtId,null,l,s,o),I=X[0].c==-1?I+1:X[0].c,l.dense?(f[C]||(f[C]=[]),f[C][I]=_):f[Yn(I)+P]=_,l.cellFormula){for(k=!1,N=0;N<R.length;++N){var z=R[N];x.r>=z[0].s.r&&x.r<=z[0].e.r&&I>=z[0].s.c&&I<=z[0].e.c&&(_.F=Ft(z[0]),k=!0)}!k&&X.length>3&&(_.f=X[3])}if(d.s.r>x.r&&(d.s.r=x.r),d.s.c>I&&(d.s.c=I),d.e.r<x.r&&(d.e.r=x.r),d.e.c<I&&(d.e.c=I),l.cellDates&&b&&_.t=="n"&&bc(_t[b.numFmtId])){var K=bu(_.v);K&&(_.t="d",_.v=new Date(K.y,K.m-1,K.d,K.H,K.M,K.S,K.u))}ae&&(ae.type=="XLDAPR"&&(_.D=!0),ae=void 0);break;case 1:case 12:if(!l.sheetStubs||g)break;_={t:"z",v:void 0},I=X[0].c==-1?I+1:X[0].c,l.dense?(f[C]||(f[C]=[]),f[C][I]=_):f[Yn(I)+P]=_,d.s.r>x.r&&(d.s.r=x.r),d.s.c>I&&(d.s.c=I),d.e.r<x.r&&(d.e.r=x.r),d.e.c<I&&(d.e.c=I),ae&&(ae.type=="XLDAPR"&&(_.D=!0),ae=void 0);break;case 176:U.push(X);break;case 49:ae=((l.xlmeta||{}).Cell||[])[X-1];break;case 494:var ee=r["!id"][X.relId];for(ee?(X.Target=ee.Target,X.loc&&(X.Target+="#"+X.loc),X.Rel=ee):X.relId==""&&(X.Target="#"+X.loc),C=X.rfx.s.r;C<=X.rfx.e.r;++C)for(I=X.rfx.s.c;I<=X.rfx.e.c;++I)l.dense?(f[C]||(f[C]=[]),f[C][I]||(f[C][I]={t:"z",v:void 0}),f[C][I].l=X):(D=gt({c:I,r:C}),f[D]||(f[D]={t:"z",v:void 0}),f[D].l=X);break;case 426:if(!l.cellFormula)break;R.push(X),M=l.dense?f[C][I]:f[Yn(I)+P],M.f=_r(X[1],d,{r:x.r,c:I},L,l),M.F=Ft(X[0]);break;case 427:if(!l.cellFormula)break;V[gt(X[0].s)]=X[1],M=l.dense?f[C][I]:f[Yn(I)+P],M.f=_r(X[1],d,{r:x.r,c:I},L,l);break;case 60:if(!l.cellStyles)break;for(;X.e>=X.s;)q[X.e--]={width:X.w/256,hidden:!!(X.flags&1),level:X.level},oe||(oe=!0,Xv(X.w/256)),dc(q[X.e+1]);break;case 161:f["!autofilter"]={ref:Ft(X)};break;case 476:f["!margins"]=X;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),X.name&&(i.Sheets[n].CodeName=X.name),(X.above||X.left)&&(f["!outline"]={above:X.above,left:X.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),X.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:g=!0;break;case 36:g=!1;break;case 37:g=!0;break;case 38:g=!1;break;default:if(!ge.T){if(!g||l.WTF)throw new Error("Unexpected record 0x"+G.toString(16))}}},l),delete l.supbooks,delete l["!row"],!f["!ref"]&&(d.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(f["!ref"]=Ft(c||d)),l.sheetRows&&f["!ref"]){var se=In(f["!ref"]);l.sheetRows<=+se.e.r&&(se.e.r=l.sheetRows-1,se.e.r>d.e.r&&(se.e.r=d.e.r),se.e.r<se.s.r&&(se.s.r=se.e.r),se.e.c>d.e.c&&(se.e.c=d.e.c),se.e.c<se.s.c&&(se.s.c=se.e.c),f["!fullref"]=f["!ref"],f["!ref"]=Ft(se))}return U.length>0&&(f["!merges"]=U),q.length>0&&(f["!cols"]=q),ce.length>0&&(f["!rows"]=ce),f}function eG(t){var e=[],n=t.match(/^<c:numCache>/),r;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var o=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);o&&(e[+o[1]]=n?+o[2]:o[2])});var i=Vt((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function tG(t,e,n,r,i,s){var o=s||{"!type":"chart"};if(!t)return s;var l=0,f=0,c="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(g){var p=eG(g);d.s.r=d.s.c=0,d.e.c=l,c=Yn(l),p[0].forEach(function(x,_){o[c+hr(_)]={t:"n",v:x,z:p[1]},f=_}),d.e.r<f&&(d.e.r=f),++l}),l>0&&(o["!ref"]=Ft(d)),o}function nG(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o,l=t.match(wk);return l&&Qv(l[0],s,i,n),(o=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=o[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function rG(t,e){t.l+=10;var n=Sr(t);return{name:n}}function iG(t,e,n,r,i){if(!t)return t;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},o=!1;return Sa(t,function(f,c,d){switch(d){case 550:s["!rel"]=f;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),f.name&&(i.Sheets[n].CodeName=f.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:o=!0;break;case 36:o=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!o||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var Ak=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],sG=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],aG=[],oG=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function DS(t,e){for(var n=0;n!=t.length;++n)for(var r=t[n],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=_n(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function MS(t,e){for(var n=0;n!=e.length;++n){var r=e[n];if(t[r[0]]==null)t[r[0]]=r[1];else switch(r[2]){case"bool":typeof t[r[0]]=="string"&&(t[r[0]]=_n(t[r[0]]));break;case"int":typeof t[r[0]]=="string"&&(t[r[0]]=parseInt(t[r[0]],10));break}}}function Ck(t){MS(t.WBProps,Ak),MS(t.CalcPr,oG),DS(t.WBView,sG),DS(t.Sheets,aG),Zl.date1904=_n(t.WBProps.date1904)}var uG="][*?/\\".split("");function lG(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return uG.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var cG=/<\w+:workbook/;function fG(t,e){if(!t)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},o=0;if(t.replace(Ir,function(f,c){var d=ft(f);switch(Fs(d[0])){case"<?xml":break;case"<workbook":f.match(cG)&&(i="xmlns"+f.match(/<(\w+):/)[1]),n.xmlns=d[i];break;case"</workbook>":break;case"<fileVersion":delete d[0],n.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Ak.forEach(function(g){if(d[g[0]]!=null)switch(g[2]){case"bool":n.WBProps[g[0]]=_n(d[g[0]]);break;case"int":n.WBProps[g[0]]=parseInt(d[g[0]],10);break;default:n.WBProps[g[0]]=d[g[0]]}}),d.codeName&&(n.WBProps.CodeName=dn(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],n.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Vt(dn(d.name)),delete d[0],n.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=dn(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),_n(d.hidden||"0")&&(s.Hidden=!0),o=c+f.length;break;case"</definedName>":s.Ref=Vt(dn(t.slice(o,c))),n.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],n.CalcPr=d;break;case"<calcPr/>":delete d[0],n.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return f}),k7.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return Ck(n),n}function hG(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=fy(t),n.name=Sr(t),n}function dG(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?Sr(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function pG(t,e){var n={};return t.read_shift(4),n.ArchID=t.read_shift(4),t.l+=e-8,n}function mG(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=W7(t),o=QH(t,0,n),l=jv(t);t.l=r;var f={Name:s,Ptg:o};return i<268435455&&(f.Sheet=i),l&&(f.Comment=l),f}function gG(t,e){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],o=[[]];return o.SheetNames=[],o.XTI=[],Ip[16]={n:"BrtFRTArchID$",f:pG},Sa(t,function(f,c,d){switch(d){case 156:o.SheetNames.push(f.name),n.Sheets.push(f);break;case 153:n.WBProps=f;break;case 39:f.Sheet!=null&&(e.SID=f.Sheet),f.Ref=_r(f.Ptg,null,null,o,e),delete e.SID,delete f.Ptg,s.push(f);break;case 1036:break;case 357:case 358:case 355:case 667:o[0].length?o.push([d,f]):o[0]=[d,f],o[o.length-1].XTI=[];break;case 362:o.length===0&&(o[0]=[],o[0].XTI=[]),o[o.length-1].XTI=o[o.length-1].XTI.concat(f),o.XTI=o.XTI.concat(f);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(d),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(d),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},e),Ck(n),n.Names=s,n.supbooks=o,n}function xG(t,e,n){return e.slice(-4)===".bin"?gG(t,n):fG(t,n)}function yG(t,e,n,r,i,s,o,l){return e.slice(-4)===".bin"?Zz(t,r,n,i,s,o,l):hz(t,r,n,i,s,o,l)}function vG(t,e,n,r,i,s,o,l){return e.slice(-4)===".bin"?iG(t,r,n,i,s):nG(t,r,n,i,s)}function _G(t,e,n,r,i,s,o,l){return e.slice(-4)===".bin"?Iq():kq()}function TG(t,e,n,r,i,s,o,l){return e.slice(-4)===".bin"?Aq():Cq()}function EG(t,e,n,r){return e.slice(-4)===".bin"?zB(t,n,r):FB(t,n,r)}function bG(t,e,n){return dk(t,n)}function wG(t,e,n){return e.slice(-4)===".bin"?sB(t,n):rB(t,n)}function SG(t,e,n){return e.slice(-4)===".bin"?bq(t,n):yq(t,n)}function AG(t,e,n){return e.slice(-4)===".bin"?mq(t):dq(t)}function CG(t,e,n,r){return n.slice(-4)===".bin"?gq(t,e,n,r):void 0}function IG(t,e,n){return e.slice(-4)===".bin"?fq(t,e,n):hq(t,e,n)}var Ik=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,kk=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function $i(t,e){var n=t.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=t.match(Ik),s,o,l,f;if(i)for(f=0;f!=i.length;++f)s=i[f].match(kk),(o=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(o+1),r[l]=s[2].slice(1,s[2].length-1));return r}function kG(t){var e=t.split(/\s+/),n={};if(e.length===1)return n;var r=t.match(Ik),i,s,o,l;if(r)for(l=0;l!=r.length;++l)i=r[l].match(kk),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}var e0;function RG(t,e){var n=e0[t]||Vt(t);return n==="General"?Nu(e):Mi(n,e)}function NG(t,e,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=_n(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=nr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}t[Vt(e)]=i}function DG(t,e,n){if(t.t!=="z"){if(!n||n.cellText!==!1)try{t.t==="e"?t.w=t.w||$u[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=g0(t.v):t.w=Nu(t.v):t.w=RG(e||"General",t.v)}catch(s){if(n.WTF)throw s}try{var r=e0[e]||e||"General";if(n.cellNF&&(t.z=r),n.cellDates&&t.t=="n"&&bc(r)){var i=bu(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(n.WTF)throw s}}}function MG(t,e,n){if(n.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=NB[r.Pattern]||r.Pattern)}t[e.ID]=e}function PG(t,e,n,r,i,s,o,l,f,c){var d="General",g=r.StyleID,p={};c=c||{};var x=[],_=0;for(g===void 0&&l&&(g=l.StyleID),g===void 0&&o&&(g=o.StyleID);s[g]!==void 0&&(s[g].nf&&(d=s[g].nf),s[g].Interior&&x.push(s[g].Interior),!!s[g].Parent);)g=s[g].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=_n(t);break;case"String":r.t="s",r.r=tS(Vt(t)),r.v=t.indexOf("<")>-1?Vt(e||t).replace(/<.*?>/g,""):r.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),r.v=(nr(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Vt(t):r.v<60&&(r.v=r.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+t),r.t||(r.t="n");break;case"Error":r.t="e",r.v=j6[t],c.cellText!==!1&&(r.w=t);break;default:t==""&&e==""?r.t="z":(r.t="s",r.v=tS(e||t));break}if(DG(r,d,c),c.cellFormula!==!1)if(r.Formula){var b=Vt(r.Formula);b.charCodeAt(0)==61&&(b=b.slice(1)),r.f=Ql(b,i),delete r.Formula,r.ArrayRange=="RC"?r.F=Ql("RC:RC",i):r.ArrayRange&&(r.F=Ql(r.ArrayRange,i),f.push([In(r.F),r.F]))}else for(_=0;_<f.length;++_)i.r>=f[_][0].s.r&&i.r<=f[_][0].e.r&&i.c>=f[_][0].s.c&&i.c<=f[_][0].e.c&&(r.F=f[_][1]);c.cellStyles&&(x.forEach(function(C){!p.patternType&&C.patternType&&(p.patternType=C.patternType)}),r.s=p),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function LG(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
     `).replace(/\r/g,`
    -`),t.v=t.w=t.ixfe=void 0}function j1(t,e){var n=e||{};h6();var r=Mf(Fv(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=dn(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var o=fr(n);return o.type="string",y0.to_workbook(r,o)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(nt){i.indexOf("<"+nt)>=0&&(s=!0)}),s)return VG(r,n);Zf={"General Number":"General","General Date":_t[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":_t[15],"Short Date":_t[14],"Long Time":_t[19],"Medium Time":_t[18],"Short Time":_t[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:_t[2],Standard:_t[4],Percent:_t[10],Scientific:_t[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,f=[],c,d={},g=[],p=n.dense?[]:{},x="",_={},b={},C=$i('<Data ss:Type="String">'),I=0,M=0,A=0,P={s:{r:2e6,c:2e6},e:{r:0,c:0}},D={},V={},N="",k=0,R=[],O={},L={},U=0,q=[],he=[],ae={},se=[],ue,Ce=!1,J=[],be=[],j={},z=0,K=0,ee={Sheets:[],WBProps:{date1904:!1}},re={};x0.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var pe="";l=x0.exec(r);)switch(l[3]=(pe=l[3]).toLowerCase()){case"data":if(pe=="data"){if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&f.push([l[3],!0]);break}if(f[f.length-1][1])break;l[1]==="/"?kG(r.slice(I,l.index),N,C,f[f.length-1][0]=="comment"?ae:_,{c:M,r:A},D,se[M],b,J,n):(N="",C=$i(l[0]),I=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(he.length>0&&(_.c=he),(!n.sheetRows||n.sheetRows>A)&&_.v!==void 0&&(n.dense?(p[A]||(p[A]=[]),p[A][M]=_):p[Yn(M)+hr(A)]=_),_.HRef&&(_.l={Target:Vt(_.HRef)},_.HRefScreenTip&&(_.l.Tooltip=_.HRefScreenTip),delete _.HRef,delete _.HRefScreenTip),(_.MergeAcross||_.MergeDown)&&(z=M+(parseInt(_.MergeAcross,10)|0),K=A+(parseInt(_.MergeDown,10)|0),R.push({s:{c:M,r:A},e:{c:z,r:K}})),!n.sheetStubs)_.MergeAcross?M=z+1:++M;else if(_.MergeAcross||_.MergeDown){for(var ke=M;ke<=z;++ke)for(var Re=A;Re<=K;++Re)(ke>M||Re>A)&&(n.dense?(p[Re]||(p[Re]=[]),p[Re][ke]={t:"z"}):p[Yn(ke)+hr(Re)]={t:"z"});M=z+1}else++M;else _=wG(l[0]),_.Index&&(M=+_.Index-1),M<P.s.c&&(P.s.c=M),M>P.e.c&&(P.e.c=M),l[0].slice(-2)==="/>"&&++M,he=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(A<P.s.r&&(P.s.r=A),A>P.e.r&&(P.e.r=A),l[0].slice(-2)==="/>"&&(b=$i(l[0]),b.Index&&(A=+b.Index-1)),M=0,++A):(b=$i(l[0]),b.Index&&(A=+b.Index-1),j={},(b.AutoFitHeight=="0"||b.Height)&&(j.hpx=parseInt(b.Height,10),j.hpt=ok(j.hpx),be[A]=j),b.Hidden=="1"&&(j.hidden=!0,be[A]=j));break;case"worksheet":if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"));g.push(x),P.s.r<=P.e.r&&P.s.c<=P.e.c&&(p["!ref"]=Ft(P),n.sheetRows&&n.sheetRows<=P.e.r&&(p["!fullref"]=p["!ref"],P.e.r=n.sheetRows-1,p["!ref"]=Ft(P))),R.length&&(p["!merges"]=R),se.length>0&&(p["!cols"]=se),be.length>0&&(p["!rows"]=be),d[x]=p}else P={s:{r:2e6,c:2e6},e:{r:0,c:0}},A=M=0,f.push([l[3],!1]),c=$i(l[0]),x=Vt(c.Name),p=n.dense?[]:{},R=[],J=[],be=[],re={name:x,Hidden:0},ee.Sheets.push(re);break;case"table":if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else{if(l[0].slice(-2)=="/>")break;f.push([l[3],!1]),se=[],Ce=!1}break;case"style":l[1]==="/"?IG(D,V,n):V=$i(l[0]);break;case"numberformat":V.nf=Vt($i(l[0]).Format||"General"),Zf[V.nf]&&(V.nf=Zf[V.nf]);for(var Ae=0;Ae!=392&&_t[Ae]!=V.nf;++Ae);if(Ae==392){for(Ae=57;Ae!=392;++Ae)if(_t[Ae]==null){bu(V.nf,Ae);break}}break;case"column":if(f[f.length-1][0]!=="table")break;if(ue=$i(l[0]),ue.Hidden&&(ue.hidden=!0,delete ue.Hidden),ue.Width&&(ue.wpx=parseInt(ue.Width,10)),!Ce&&ue.wpx>10){Ce=!0,Pr=sk;for(var Ne=0;Ne<se.length;++Ne)se[Ne]&&fc(se[Ne])}Ce&&fc(ue),se[ue.Index-1||se.length]=ue;for(var ce=0;ce<+ue.Span;++ce)se[se.length]=fr(ue);break;case"namedrange":if(l[1]==="/")break;ee.Names||(ee.Names=[]);var Y=ft(l[0]),Ie={Name:Y.Name,Ref:Xl(Y.RefersTo.slice(1),{r:0,c:0})};ee.Sheets.length>0&&(Ie.Sheet=ee.Sheets.length-1),ee.Names.push(Ie);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?N+=r.slice(k,l.index):k=l.index+l[0].length;break;case"interior":if(!n.cellStyles)break;V.Interior=$i(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?dU(O,pe,r.slice(U,l.index)):U=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else f.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"));RG(ae),he.push(ae)}else f.push([l[3],!1]),c=$i(l[0]),ae={a:c.Author};break;case"autofilter":if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Fe=$i(l[0]);p["!autofilter"]={ref:Xl(Fe.Range).replace(/\$/g,"")},f.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&f.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&f.push([l[3],!0]);break;case"null":break;default:if(f.length==0&&l[3]=="document"||f.length==0&&l[3]=="uof")return FS(r,n);var Ke=!0;switch(f[f.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ke=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ke=!1}break;case"excelworkbook":switch(l[3]){case"date1904":ee.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ke=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Ke=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(r.slice(U,l.index)){case"SheetHidden":re.Hidden=1;break;case"SheetVeryHidden":re.Hidden=2;break}else U=l.index+l[0].length;break;case"header":p["!margins"]||Qf(p["!margins"]={},"xlml"),isNaN(+ft(l[0]).Margin)||(p["!margins"].header=+ft(l[0]).Margin);break;case"footer":p["!margins"]||Qf(p["!margins"]={},"xlml"),isNaN(+ft(l[0]).Margin)||(p["!margins"].footer=+ft(l[0]).Margin);break;case"pagemargins":var qe=ft(l[0]);p["!margins"]||Qf(p["!margins"]={},"xlml"),isNaN(+qe.Top)||(p["!margins"].top=+qe.Top),isNaN(+qe.Left)||(p["!margins"].left=+qe.Left),isNaN(+qe.Right)||(p["!margins"].right=+qe.Right),isNaN(+qe.Bottom)||(p["!margins"].bottom=+qe.Bottom);break;case"displayrighttoleft":ee.Views||(ee.Views=[]),ee.Views[0]||(ee.Views[0]={}),ee.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ke=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ke=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ke=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ke=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ke=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ke=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ke=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ke=!1}break;case"smarttags":break;default:Ke=!1;break}if(Ke||l[3].match(/!\[CDATA/))break;if(!f[f.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+f.join("|");if(f[f.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?AG(L,pe,q,r.slice(U,l.index)):(q=l,U=l.index+l[0].length);break}if(n.WTF)throw"Unrecognized tag: "+l[3]+"|"+f.join("|")}var He={};return!n.bookSheets&&!n.bookProps&&(He.Sheets=d),He.SheetNames=g,He.Workbook=ee,He.SSF=fr(_t),He.Props=O,He.Custprops=L,He}function hy(t,e){switch(Qv(e=e||{}),e.type||"base64"){case"base64":return j1(di(t),e);case"binary":case"buffer":case"file":return j1(t,e);case"array":return j1(qu(t),e)}}function NG(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=j7(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=$7(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var DG=[60,1084,2066,2165,2175];function MG(t,e,n,r,i){var s=r,o=[],l=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&l.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(l)}o.push(l),n.l+=s;for(var f=ma(n,n.l),c=dy[f],d=0;c!=null&&DG.indexOf(f)>-1;)s=ma(n,n.l+2),d=n.l+4,f==2066?d+=4:(f==2165||f==2175)&&(d+=12),l=n.slice(d,n.l+4+s),o.push(l),n.l+=4+s,c=dy[f=ma(n,n.l)];var g=co(o);lr(g,0);var p=0;g.lens=[];for(var x=0;x<o.length;++x)g.lens.push(p),p+=o[x].length;if(g.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+g.length+" < "+r;return e.f(g,g.length,i)}function _s(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=_t[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Gu[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=m0(t.v):t.w=Ru(t.v):t.w=Mi(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&t.t=="n"&&Ec(_t[r]||String(r))){var i=Eu(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Ad(t,e,n){return{v:t,ixfe:e,t:n}}function PG(t,e){var n={opts:{}},r={},i=e.dense?[]:{},s={},o={},l=null,f=[],c="",d={},g,p="",x,_,b,C,I={},M=[],A,P,D=[],V=[],N={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},R=function(ht){return ht<8?wu[ht]:ht<64&&V[ht-8]||wu[ht]},O=function(ht,Ut,nn){var St=Ut.XF.data;if(!(!St||!St.patternType||!nn||!nn.cellStyles)){Ut.s={},Ut.s.patternType=St.patternType;var rn;(rn=v0(R(St.icvFore)))&&(Ut.s.fgColor={rgb:rn}),(rn=v0(R(St.icvBack)))&&(Ut.s.bgColor={rgb:rn})}},L=function(ht,Ut,nn){if(!(j>1)&&!(nn.sheetRows&&ht.r>=nn.sheetRows)){if(nn.cellStyles&&Ut.XF&&Ut.XF.data&&O(ht,Ut,nn),delete Ut.ixfe,delete Ut.XF,g=ht,p=gt(ht),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),ht.r<o.s.r&&(o.s.r=ht.r),ht.c<o.s.c&&(o.s.c=ht.c),ht.r+1>o.e.r&&(o.e.r=ht.r+1),ht.c+1>o.e.c&&(o.e.c=ht.c+1),nn.cellFormula&&Ut.f){for(var St=0;St<M.length;++St)if(!(M[St][0].s.c>ht.c||M[St][0].s.r>ht.r)&&!(M[St][0].e.c<ht.c||M[St][0].e.r<ht.r)){Ut.F=Ft(M[St][0]),(M[St][0].s.c!=ht.c||M[St][0].s.r!=ht.r)&&delete Ut.f,Ut.f&&(Ut.f=""+_r(M[St][1],o,ht,J,U));break}}nn.dense?(i[ht.r]||(i[ht.r]=[]),i[ht.r][ht.c]=Ut):i[p]=Ut}},U={enc:!1,sbcch:0,snames:[],sharedf:I,arrayf:M,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(U.password=e.password);var q,he=[],ae=[],se=[],ue=[],Ce=!1,J=[];J.SheetNames=U.snames,J.sharedf=U.sharedf,J.arrayf=U.arrayf,J.names=[],J.XTI=[];var be=0,j=0,z=0,K=[],ee=[],re;U.codepage=1200,ns(1200);for(var pe=!1;t.l<t.length-1;){var ke=t.l,Re=t.read_shift(2);if(Re===0&&be===10)break;var Ae=t.l===t.length?0:t.read_shift(2),Ne=dy[Re];if(Ne&&Ne.f){if(e.bookSheets&&be===133&&Re!==133)break;if(be=Re,Ne.r===2||Ne.r==12){var ce=t.read_shift(2);if(Ae-=2,!U.enc&&ce!==Re&&((ce&255)<<8|ce>>8)!==Re)throw new Error("rt mismatch: "+ce+"!="+Re);Ne.r==12&&(t.l+=10,Ae-=10)}var Y={};if(Re===10?Y=Ne.f(t,Ae,U):Y=MG(Re,Ne,t,Ae,U),j==0&&[9,521,1033,2057].indexOf(be)===-1)continue;switch(Re){case 34:n.opts.Date1904=N.WBProps.date1904=Y;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(U.enc||(t.l=0),U.enc=Y,!e.password)throw new Error("File is password-protected");if(Y.valid==null)throw new Error("Encryption scheme unsupported");if(!Y.valid)throw new Error("Password is incorrect");break;case 92:U.lastuser=Y;break;case 66:var Ie=Number(Y);switch(Ie){case 21010:Ie=1200;break;case 32768:Ie=1e4;break;case 32769:Ie=1252;break}ns(U.codepage=Ie),pe=!0;break;case 317:U.rrtabid=Y;break;case 25:U.winlocked=Y;break;case 439:n.opts.RefreshAll=Y;break;case 12:n.opts.CalcCount=Y;break;case 16:n.opts.CalcDelta=Y;break;case 17:n.opts.CalcIter=Y;break;case 13:n.opts.CalcMode=Y;break;case 14:n.opts.CalcPrecision=Y;break;case 95:n.opts.CalcSaveRecalc=Y;break;case 15:U.CalcRefMode=Y;break;case 2211:n.opts.FullCalc=Y;break;case 129:Y.fDialog&&(i["!type"]="dialog"),Y.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),Y.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:D.push(Y);break;case 430:J.push([Y]),J[J.length-1].XTI=[];break;case 35:case 547:J[J.length-1].push(Y);break;case 24:case 536:re={Name:Y.Name,Ref:_r(Y.rgce,o,null,J,U)},Y.itab>0&&(re.Sheet=Y.itab-1),J.names.push(re),J[0]||(J[0]=[],J[0].XTI=[]),J[J.length-1].push(Y),Y.Name=="_xlnm._FilterDatabase"&&Y.itab>0&&Y.rgce&&Y.rgce[0]&&Y.rgce[0][0]&&Y.rgce[0][0][0]=="PtgArea3d"&&(ee[Y.itab-1]={ref:Ft(Y.rgce[0][0][1][2])});break;case 22:U.ExternCount=Y;break;case 23:J.length==0&&(J[0]=[],J[0].XTI=[]),J[J.length-1].XTI=J[J.length-1].XTI.concat(Y),J.XTI=J.XTI.concat(Y);break;case 2196:if(U.biff<8)break;re!=null&&(re.Comment=Y[1]);break;case 18:i["!protect"]=Y;break;case 19:Y!==0&&U.WTF&&console.error("Password verifier: "+Y);break;case 133:s[Y.pos]=Y,U.snames.push(Y.name);break;case 10:{if(--j)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,i["!ref"]=Ft(o),e.sheetRows&&e.sheetRows<=o.e.r){var Fe=o.e.r;o.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Ft(o),o.e.r=Fe}o.e.r++,o.e.c++}he.length>0&&(i["!merges"]=he),ae.length>0&&(i["!objects"]=ae),se.length>0&&(i["!cols"]=se),ue.length>0&&(i["!rows"]=ue),N.Sheets.push(k)}c===""?d=i:r[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(U.biff===8&&(U.biff={9:2,521:3,1033:4}[Re]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Y.BIFFVer]||8),U.biffguess=Y.BIFFVer==0,Y.BIFFVer==0&&Y.dt==4096&&(U.biff=5,pe=!0,ns(U.codepage=28591)),U.biff==8&&Y.BIFFVer==0&&Y.dt==16&&(U.biff=2),j++)break;if(i=e.dense?[]:{},U.biff<8&&!pe&&(pe=!0,ns(U.codepage=e.codepage||1252)),U.biff<5||Y.BIFFVer==0&&Y.dt==4096){c===""&&(c="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ke={pos:t.l-Ae,name:c};s[Ke.pos]=Ke,U.snames.push(c)}else c=(s[ke]||{name:""}).name;Y.dt==32&&(i["!type"]="chart"),Y.dt==64&&(i["!type"]="macro"),he=[],ae=[],U.arrayf=M=[],se=[],ue=[],Ce=!1,k={Hidden:(s[ke]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[Y.r]||[])[Y.c]:i[gt({c:Y.c,r:Y.r})])&&++Y.c,A={ixfe:Y.ixfe,XF:D[Y.ixfe]||{},v:Y.val,t:"n"},z>0&&(A.z=K[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),L({c:Y.c,r:Y.r},A,e);break;case 5:case 517:A={ixfe:Y.ixfe,XF:D[Y.ixfe],v:Y.val,t:Y.t},z>0&&(A.z=K[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),L({c:Y.c,r:Y.r},A,e);break;case 638:A={ixfe:Y.ixfe,XF:D[Y.ixfe],v:Y.rknum,t:"n"},z>0&&(A.z=K[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),L({c:Y.c,r:Y.r},A,e);break;case 189:for(var qe=Y.c;qe<=Y.C;++qe){var He=Y.rkrec[qe-Y.c][0];A={ixfe:He,XF:D[He],v:Y.rkrec[qe-Y.c][1],t:"n"},z>0&&(A.z=K[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),L({c:qe,r:Y.r},A,e)}break;case 6:case 518:case 1030:{if(Y.val=="String"){l=Y;break}if(A=Ad(Y.val,Y.cell.ixfe,Y.tt),A.XF=D[A.ixfe],e.cellFormula){var nt=Y.formula;if(nt&&nt[0]&&nt[0][0]&&nt[0][0][0]=="PtgExp"){var Ge=nt[0][0][1][0],We=nt[0][0][1][1],Kt=gt({r:Ge,c:We});I[Kt]?A.f=""+_r(Y.formula,o,Y.cell,J,U):A.F=((e.dense?(i[Ge]||[])[We]:i[Kt])||{}).F}else A.f=""+_r(Y.formula,o,Y.cell,J,U)}z>0&&(A.z=K[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),L(Y.cell,A,e),l=Y}break;case 7:case 519:if(l)l.val=Y,A=Ad(Y,l.cell.ixfe,"s"),A.XF=D[A.ixfe],e.cellFormula&&(A.f=""+_r(l.formula,o,l.cell,J,U)),z>0&&(A.z=K[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),L(l.cell,A,e),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{M.push(Y);var ot=gt(Y[0].s);if(x=e.dense?(i[Y[0].s.r]||[])[Y[0].s.c]:i[ot],e.cellFormula&&x){if(!l||!ot||!x)break;x.f=""+_r(Y[1],o,Y[0],J,U),x.F=Ft(Y[0])}}break;case 1212:{if(!e.cellFormula)break;if(p){if(!l)break;I[gt(l.cell)]=Y[0],x=e.dense?(i[l.cell.r]||[])[l.cell.c]:i[gt(l.cell)],(x||{}).f=""+_r(Y[0],o,g,J,U)}}break;case 253:A=Ad(f[Y.isst].t,Y.ixfe,"s"),f[Y.isst].h&&(A.h=f[Y.isst].h),A.XF=D[A.ixfe],z>0&&(A.z=K[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),L({c:Y.c,r:Y.r},A,e);break;case 513:e.sheetStubs&&(A={ixfe:Y.ixfe,XF:D[Y.ixfe],t:"z"},z>0&&(A.z=K[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),L({c:Y.c,r:Y.r},A,e));break;case 190:if(e.sheetStubs)for(var ut=Y.c;ut<=Y.C;++ut){var st=Y.ixfe[ut-Y.c];A={ixfe:st,XF:D[st],t:"z"},z>0&&(A.z=K[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),L({c:ut,r:Y.r},A,e)}break;case 214:case 516:case 4:A=Ad(Y.val,Y.ixfe,"s"),A.XF=D[A.ixfe],z>0&&(A.z=K[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),L({c:Y.c,r:Y.r},A,e);break;case 0:case 512:j===1&&(o=Y);break;case 252:f=Y;break;case 1054:if(U.biff==4){K[z++]=Y[1];for(var bt=0;bt<z+163&&_t[bt]!=Y[1];++bt);bt>=163&&bu(Y[1],z+163)}else bu(Y[1],Y[0]);break;case 30:{K[z++]=Y;for(var dt=0;dt<z+163&&_t[dt]!=Y;++dt);dt>=163&&bu(Y,z+163)}break;case 229:he=he.concat(Y);break;case 93:ae[Y.cmo[0]]=U.lastobj=Y;break;case 438:U.lastobj.TxO=Y;break;case 127:U.lastobj.ImData=Y;break;case 440:for(C=Y[0].s.r;C<=Y[0].e.r;++C)for(b=Y[0].s.c;b<=Y[0].e.c;++b)x=e.dense?(i[C]||[])[b]:i[gt({c:b,r:C})],x&&(x.l=Y[1]);break;case 2048:for(C=Y[0].s.r;C<=Y[0].e.r;++C)for(b=Y[0].s.c;b<=Y[0].e.c;++b)x=e.dense?(i[C]||[])[b]:i[gt({c:b,r:C})],x&&x.l&&(x.l.Tooltip=Y[1]);break;case 28:{if(U.biff<=5&&U.biff>=2)break;x=e.dense?(i[Y[0].r]||[])[Y[0].c]:i[gt(Y[0])];var tn=ae[Y[2]];x||(e.dense?(i[Y[0].r]||(i[Y[0].r]=[]),x=i[Y[0].r][Y[0].c]={t:"z"}):x=i[gt(Y[0])]={t:"z"},o.e.r=Math.max(o.e.r,Y[0].r),o.s.r=Math.min(o.s.r,Y[0].r),o.e.c=Math.max(o.e.c,Y[0].c),o.s.c=Math.min(o.s.c,Y[0].c)),x.c||(x.c=[]),_={a:Y[1],t:tn.TxO.t},x.c.push(_)}break;case 2173:nq(D[Y.ixfe],Y.ext);break;case 125:{if(!U.cellStyles)break;for(;Y.e>=Y.s;)se[Y.e--]={width:Y.w/256,level:Y.level||0,hidden:!!(Y.flags&1)},Ce||(Ce=!0,Wv(Y.w/256)),fc(se[Y.e+1])}break;case 520:{var wt={};Y.level!=null&&(ue[Y.r]=wt,wt.level=Y.level),Y.hidden&&(ue[Y.r]=wt,wt.hidden=!0),Y.hpt&&(ue[Y.r]=wt,wt.hpt=Y.hpt,wt.hpx=_0(Y.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Qf(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Re]]=Y;break;case 161:i["!margins"]||Qf(i["!margins"]={}),i["!margins"].header=Y.header,i["!margins"].footer=Y.footer;break;case 574:Y.RTL&&(N.Views[0].RTL=!0);break;case 146:V=Y;break;case 2198:q=Y;break;case 140:P=Y;break;case 442:c?k.CodeName=Y||k.name:N.WBProps.CodeName=Y||"ThisWorkbook";break}}else Ne||console.error("Missing Info for XLS Record 0x"+Re.toString(16)),t.l+=Ae}return n.SheetNames=Ds(s).sort(function(Pn,ht){return Number(Pn)-Number(ht)}).map(function(Pn){return s[Pn].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&d["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=d)):n.Preamble=d,n.Sheets&&ee.forEach(function(Pn,ht){n.Sheets[n.SheetNames[ht]]["!autofilter"]=Pn}),n.Strings=f,n.SSF=fr(_t),U.enc&&(n.Encryption=U.enc),q&&(n.Themes=q),n.Metadata={},P!==void 0&&(n.Metadata.Country=P),J.names.length>0&&(N.Names=J.names),n.Workbook=N,n}var DS={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function LG(t,e,n){var r=Ot.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=mS(r,Q7,DS.DSI);for(var s in i)e[s]=i[s]}catch(c){if(n.WTF)throw c}var o=Ot.find(t,"/!SummaryInformation");if(o&&o.size>0)try{var l=mS(o,Z7,DS.SI);for(var f in l)e[f]==null&&(e[f]=l[f])}catch(c){if(n.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(H6(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function Sk(t,e){e||(e={}),Qv(e),e6(),e.codepage&&Rv(e.codepage);var n,r;if(t.FullPaths){if(Ot.find(t,"/encryption"))throw new Error("File is password-protected");n=Ot.find(t,"!CompObj"),r=Ot.find(t,"/Workbook")||Ot.find(t,"/Book")}else{switch(e.type){case"base64":t=es(di(t));break;case"binary":t=es(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}lr(t,0),r={content:t}}var i,s;if(n&&NG(n),e.bookProps&&!e.bookSheets)i={};else{var o=Pt?"buffer":"array";if(r&&r.content)i=PG(r.content,e);else if((s=Ot.find(t,"PerfectOffice_MAIN"))&&s.content)i=Xf.to_workbook(s.content,(e.type=o,e));else if((s=Ot.find(t,"NativeContent_MAIN"))&&s.content)i=Xf.to_workbook(s.content,(e.type=o,e));else throw(s=Ot.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Ot.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=_q(t))}var l={};return t.FullPaths&&LG(t,l,e),i.Props=i.Custprops=l,e.bookFiles&&(i.cfb=t),i}var Cp={0:{f:gz},1:{f:_z},2:{f:kz},3:{f:wz},4:{f:Ez},5:{f:Iz},6:{f:Dz},7:{f:Az},8:{f:Fz},9:{f:Oz},10:{f:Pz},11:{f:Lz},12:{f:Tz},13:{f:Rz},14:{f:Sz},15:{f:bz},16:{f:_k},17:{f:Mz},18:{f:Cz},19:{f:qv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:cG},40:{},42:{},43:{f:PB},44:{f:MB},45:{f:LB},46:{f:FB},47:{f:OB},48:{},49:{f:U7},50:{},51:{f:iq},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:ek},62:{f:Nz},63:{f:lq},64:{f:$z},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Cr,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:jz},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:vz},148:{f:xz,p:16},151:{f:Bz},152:{},153:{f:uG},154:{},155:{},156:{f:oG},157:{},158:{},159:{T:1,f:ZV},160:{T:-1},161:{T:1,f:zu},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Uz},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:rq},336:{T:-1},337:{f:sq,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:uy},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Z6},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:qz},427:{f:Hz},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Gz},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:yz},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Vz},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:uy},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:xq},633:{T:1},634:{T:-1},635:{T:1,f:gq},636:{T:-1},637:{f:B7},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Qz},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Wz},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},dy={6:{f:z1},10:{f:so},12:{f:zn},13:{f:zn},14:{f:Dn},15:{f:Dn},16:{f:Er},17:{f:Dn},18:{f:Dn},19:{f:zn},20:{f:vS},21:{f:vS},23:{f:Z6},24:{f:TS},25:{f:Dn},26:{},27:{},28:{f:pV},29:{},34:{f:Dn},35:{f:_S},38:{f:Er},39:{f:Er},40:{f:Er},41:{f:Er},42:{f:Dn},43:{f:Dn},47:{f:yB},49:{f:YU},51:{f:zn},60:{},61:{f:$U},64:{f:Dn},65:{f:KU},66:{f:zn},77:{},80:{},81:{},82:{},85:{f:zn},89:{},90:{},91:{},92:{f:UU},93:{f:gV},94:{},95:{f:Dn},96:{},97:{},99:{f:Dn},125:{f:ek},128:{f:sV},129:{f:VU},130:{f:zn},131:{f:Dn},132:{f:Dn},133:{f:BU},134:{},140:{f:EV},141:{f:zn},144:{},146:{f:wV},151:{},152:{},153:{},154:{},155:{},156:{f:zn},157:{},158:{},160:{f:kV},161:{f:AV},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:tV},190:{f:nV},193:{f:so},197:{},198:{},199:{},200:{},201:{},202:{f:Dn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:zn},220:{},221:{f:Dn},222:{},224:{f:iV},225:{f:FU},226:{f:so},227:{},229:{f:mV},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:qU},253:{f:XU},255:{f:HU},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:W6},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Dn},353:{f:so},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:oV},431:{f:Dn},432:{},433:{},434:{},437:{},438:{f:vV},439:{f:Dn},440:{f:_V},441:{},442:{f:V0},443:{},444:{f:zn},445:{},446:{},448:{f:so},449:{f:jU,r:2},450:{f:so},512:{f:xS},513:{f:IV},515:{f:aV},516:{f:JU},517:{f:yS},519:{f:RV},520:{f:zU},523:{},545:{f:ES},549:{f:gS},566:{},574:{f:WU},638:{f:eV},659:{},1048:{},1054:{f:QU},1084:{},1212:{f:fV},2048:{f:TV},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:bd},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:so},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:SV,r:12},2173:{f:tq,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Dn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:cV,r:12},2197:{},2198:{f:YB,r:12},2199:{},2200:{},2201:{},2202:{f:hV,r:12},2203:{f:so},2204:{},2205:{},2206:{},2207:{},2211:{f:GU},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:zn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:CV},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:bV},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:xS},1:{},2:{f:PV},3:{f:MV},4:{f:DV},5:{f:yS},7:{f:LV},8:{},9:{f:bd},11:{},22:{f:zn},30:{f:ZU},31:{},32:{},33:{f:ES},36:{},37:{f:gS},50:{f:OV},62:{},52:{},67:{},68:{f:zn},69:{},86:{},126:{},127:{f:NV},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:FV},223:{},234:{},354:{},421:{},518:{f:z1},521:{f:bd},536:{f:TS},547:{f:_S},561:{},579:{},1030:{f:z1},1033:{f:bd},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Wi(t,e,n,r){var i=e;if(!isNaN(i)){var s=(n||[]).length||0,o=t.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&P6(n)&&t.push(n)}}function MS(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),o=i.index,l=s&&s.index||t.length,f=a7(t.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,d=0,g=0,p=0,x={s:{r:1e7,c:1e7},e:{r:0,c:0}},_=[];for(o=0;o<f.length;++o){var b=f[o].trim(),C=b.slice(0,3).toLowerCase();if(C=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}d=0;continue}if(!(C!="<td"&&C!="<th")){var I=b.split(/<\/t[dh]>/i);for(l=0;l<I.length;++l){var M=I[l].trim();if(M.match(/<t[dh]/i)){for(var A=M,P=0;A.charAt(0)=="<"&&(P=A.indexOf(">"))>-1;)A=A.slice(P+1);for(var D=0;D<_.length;++D){var V=_[D];V.s.c==d&&V.s.r<c&&c<=V.e.r&&(d=V.e.c+1,D=-1)}var N=ft(M.slice(0,M.indexOf(">")));p=N.colspan?+N.colspan:1,((g=+N.rowspan)>1||p>1)&&_.push({s:{r:c,c:d},e:{r:c+(g||1)-1,c:d+p-1}});var k=N.t||N["data-t"]||"";if(!A.length){d+=p;continue}if(A=T6(A),x.s.r>c&&(x.s.r=c),x.e.r<c&&(x.e.r=c),x.s.c>d&&(x.s.c=d),x.e.c<d&&(x.e.c=d),!A.length){d+=p;continue}var R={t:"s",v:A};n.raw||!A.trim().length||k=="s"||(A==="TRUE"?R={t:"b",v:!0}:A==="FALSE"?R={t:"b",v:!1}:isNaN(as(A))?isNaN(cc(A).getDate())||(R={t:"d",v:nr(A)},n.cellDates||(R={t:"n",v:Ur(R.v)}),R.z=n.dateNF||_t[14]):R={t:"n",v:as(A)}),n.dense?(r[c]||(r[c]=[]),r[c][d]=R):r[gt({r:c,c:d})]=R,d+=p}}}}return r["!ref"]=Ft(x),_.length&&(r["!merges"]=_),r}function OG(t,e,n,r){for(var i=t["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var l=0,f=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>o)&&!(i[c].e.r<n||i[c].e.c<o)){if(i[c].s.r<n||i[c].s.c<o){l=-1;break}l=i[c].e.r-i[c].s.r+1,f=i[c].e.c-i[c].s.c+1;break}if(!(l<0)){var d=gt({r:n,c:o}),g=r.dense?(t[n]||[])[o]:t[d],p=g&&g.v!=null&&(g.h||Ov(g.w||(ba(g),g.w)||""))||"",x={};l>1&&(x.rowspan=l),f>1&&(x.colspan=f),r.editable?p='<span contenteditable="true">'+p+"</span>":g&&(x["data-t"]=g&&g.t||"z",g.v!=null&&(x["data-v"]=g.v),g.z!=null&&(x["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+g.l.Target+'">'+p+"</a>")),x.id=(r.id||"sjs")+"-"+d,s.push(E7("td",p,x))}}var _="<tr>";return _+s.join("")+"</tr>"}var FG='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',UG="</body></html>";function VG(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return qo(MS(n[0],e),e);var r=e_();return n.forEach(function(i,s){t_(r,MS(i,e),"Sheet"+(s+1))}),r}function BG(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function qG(t,e){var n=e||{},r=n.header!=null?n.header:FG,i=n.footer!=null?n.footer:UG,s=[r],o=bc(t["!ref"]);n.dense=Array.isArray(t),s.push(BG(t,o,n));for(var l=o.s.r;l<=o.e.r;++l)s.push(OG(t,o,l,n));return s.push("</table>"+i),s.join("")}function Ak(t,e,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?Lr(r.origin):r.origin;i=o.r,s=o.c}var l=e.getElementsByTagName("tr"),f=Math.min(r.sheetRows||1e7,l.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var d=bc(t["!ref"]);c.s.r=Math.min(c.s.r,d.s.r),c.s.c=Math.min(c.s.c,d.s.c),c.e.r=Math.max(c.e.r,d.e.r),c.e.c=Math.max(c.e.c,d.e.c),i==-1&&(c.e.r=i=d.e.r+1)}var g=[],p=0,x=t["!rows"]||(t["!rows"]=[]),_=0,b=0,C=0,I=0,M=0,A=0;for(t["!cols"]||(t["!cols"]=[]);_<l.length&&b<f;++_){var P=l[_];if(PS(P)){if(r.display)continue;x[b]={hidden:!0}}var D=P.children;for(C=I=0;C<D.length;++C){var V=D[C];if(!(r.display&&PS(V))){var N=V.hasAttribute("data-v")?V.getAttribute("data-v"):V.hasAttribute("v")?V.getAttribute("v"):T6(V.innerHTML),k=V.getAttribute("data-z")||V.getAttribute("z");for(p=0;p<g.length;++p){var R=g[p];R.s.c==I+s&&R.s.r<b+i&&b+i<=R.e.r&&(I=R.e.c+1-s,p=-1)}A=+V.getAttribute("colspan")||1,((M=+V.getAttribute("rowspan")||1)>1||A>1)&&g.push({s:{r:b+i,c:I+s},e:{r:b+i+(M||1)-1,c:I+s+(A||1)-1}});var O={t:"s",v:N},L=V.getAttribute("data-t")||V.getAttribute("t")||"";N!=null&&(N.length==0?O.t=L||"z":r.raw||N.trim().length==0||L=="s"||(N==="TRUE"?O={t:"b",v:!0}:N==="FALSE"?O={t:"b",v:!1}:isNaN(as(N))?isNaN(cc(N).getDate())||(O={t:"d",v:nr(N)},r.cellDates||(O={t:"n",v:Ur(O.v)}),O.z=r.dateNF||_t[14]):O={t:"n",v:as(N)})),O.z===void 0&&k!=null&&(O.z=k);var U="",q=V.getElementsByTagName("A");if(q&&q.length)for(var he=0;he<q.length&&!(q[he].hasAttribute("href")&&(U=q[he].getAttribute("href"),U.charAt(0)!="#"));++he);U&&U.charAt(0)!="#"&&(O.l={Target:U}),r.dense?(t[b+i]||(t[b+i]=[]),t[b+i][I+s]=O):t[gt({c:I+s,r:b+i})]=O,c.e.c<I+s&&(c.e.c=I+s),I+=A}}++b}return g.length&&(t["!merges"]=(t["!merges"]||[]).concat(g)),c.e.r=Math.max(c.e.r,b-1+i),t["!ref"]=Ft(c),b>=f&&(t["!fullref"]=Ft((c.e.r=l.length-_+b-1+i,c))),t}function Ck(t,e){var n=e||{},r=n.dense?[]:{};return Ak(r,t,e)}function HG(t,e){return qo(Ck(t,e),e)}function PS(t){var e="",n=zG(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function zG(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function GG(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
    -`),n=Vt(e.replace(/<[^>]*>/g,""));return[n]}var LS={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Ik(t,e){var n=e||{},r=Fv(t),i=[],s,o,l={name:""},f="",c=0,d,g,p={},x=[],_=n.dense?[]:{},b,C,I={value:""},M="",A=0,P=[],D=-1,V=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},k=0,R={},O=[],L={},U=0,q=0,he=[],ae=1,se=1,ue=[],Ce={Names:[]},J={},be=["",""],j=[],z={},K="",ee=0,re=!1,pe=!1,ke=0;for(x0.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");b=x0.exec(r);)switch(b[3]=b[3].replace(/_.*$/,"")){case"table":case"":b[1]==="/"?(N.e.c>=N.s.c&&N.e.r>=N.s.r?_["!ref"]=Ft(N):_["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=N.e.r&&(_["!fullref"]=_["!ref"],N.e.r=n.sheetRows-1,_["!ref"]=Ft(N)),O.length&&(_["!merges"]=O),he.length&&(_["!rows"]=he),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),x.push(d.name),p[d.name]=_,pe=!1):b[0].charAt(b[0].length-2)!=="/"&&(d=ft(b[0],!1),D=V=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,_=n.dense?[]:{},O=[],he=[],pe=!0);break;case"table-row-group":b[1]==="/"?--k:++k;break;case"table-row":case"":if(b[1]==="/"){D+=ae,ae=1;break}if(g=ft(b[0],!1),g.?D=g.-1:D==-1&&(D=0),ae=+g["number-rows-repeated"]||1,ae<10)for(ke=0;ke<ae;++ke)k>0&&(he[D+ke]={level:k});V=-1;break;case"covered-table-cell":b[1]!=="/"&&++V,n.sheetStubs&&(n.dense?(_[D]||(_[D]=[]),_[D][V]={t:"z"}):_[gt({r:D,c:V})]={t:"z"}),M="",P=[];break;case"table-cell":case"":if(b[0].charAt(b[0].length-2)==="/")++V,I=ft(b[0],!1),se=parseInt(I["number-columns-repeated"]||"1",10),C={t:"z",v:null},I.formula&&n.cellFormula!=!1&&(C.f=kS(Vt(I.formula))),(I.||I["value-type"])=="string"&&(C.t="s",C.v=Vt(I["string-value"]||""),n.dense?(_[D]||(_[D]=[]),_[D][V]=C):_[gt({r:D,c:V})]=C),V+=se-1;else if(b[1]!=="/"){++V,M="",A=0,P=[],se=1;var Re=ae?D+ae-1:D;if(V>N.e.c&&(N.e.c=V),V<N.s.c&&(N.s.c=V),D<N.s.r&&(N.s.r=D),Re>N.e.r&&(N.e.r=Re),I=ft(b[0],!1),j=[],z={},C={t:I.||I["value-type"],v:null},n.cellFormula)if(I.formula&&(I.formula=Vt(I.formula)),I["number-matrix-columns-spanned"]&&I["number-matrix-rows-spanned"]&&(U=parseInt(I["number-matrix-rows-spanned"],10)||0,q=parseInt(I["number-matrix-columns-spanned"],10)||0,L={s:{r:D,c:V},e:{r:D+U-1,c:V+q-1}},C.F=Ft(L),ue.push([L,C.F])),I.formula)C.f=kS(I.formula);else for(ke=0;ke<ue.length;++ke)D>=ue[ke][0].s.r&&D<=ue[ke][0].e.r&&V>=ue[ke][0].s.c&&V<=ue[ke][0].e.c&&(C.F=ue[ke][1]);switch((I["number-columns-spanned"]||I["number-rows-spanned"])&&(U=parseInt(I["number-rows-spanned"],10)||0,q=parseInt(I["number-columns-spanned"],10)||0,L={s:{r:D,c:V},e:{r:D+U-1,c:V+q-1}},O.push(L)),I["number-columns-repeated"]&&(se=parseInt(I["number-columns-repeated"],10)),C.t){case"boolean":C.t="b",C.v=_n(I["boolean-value"]);break;case"float":C.t="n",C.v=parseFloat(I.value);break;case"percentage":C.t="n",C.v=parseFloat(I.value);break;case"currency":C.t="n",C.v=parseFloat(I.value);break;case"date":C.t="d",C.v=nr(I["date-value"]),n.cellDates||(C.t="n",C.v=Ur(C.v)),C.z="m/d/yy";break;case"time":C.t="n",C.v=r7(I["time-value"])/86400,n.cellDates&&(C.t="d",C.v=fm(C.v)),C.z="HH:MM:SS";break;case"number":C.t="n",C.v=parseFloat(I.);break;default:if(C.t==="string"||C.t==="text"||!C.t)C.t="s",I["string-value"]!=null&&(M=Vt(I["string-value"]),P=[]);else throw new Error("Unsupported value type "+C.t)}}else{if(re=!1,C.t==="s"&&(C.v=M||"",P.length&&(C.R=P),re=A==0),J.Target&&(C.l=J),j.length>0&&(C.c=j,j=[]),M&&n.cellText!==!1&&(C.w=M),re&&(C.t="z",delete C.v),(!re||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=D))for(var Ae=0;Ae<ae;++Ae){if(se=parseInt(I["number-columns-repeated"]||"1",10),n.dense)for(_[D+Ae]||(_[D+Ae]=[]),_[D+Ae][V]=Ae==0?C:fr(C);--se>0;)_[D+Ae][V+se]=fr(C);else for(_[gt({r:D+Ae,c:V})]=C;--se>0;)_[gt({r:D+Ae,c:V+se})]=fr(C);N.e.c<=V&&(N.e.c=V)}se=parseInt(I["number-columns-repeated"]||"1",10),V+=se-1,se=0,C={},M="",P=[]}J={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(b[1]==="/"){if((s=i.pop())[0]!==b[3])throw"Bad state: "+s}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!0]);break;case"annotation":if(b[1]==="/"){if((s=i.pop())[0]!==b[3])throw"Bad state: "+s;z.t=M,P.length&&(z.R=P),z.a=K,j.push(z)}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!1]);K="",ee=0,M="",A=0,P=[];break;case"creator":b[1]==="/"?K=r.slice(ee,b.index):ee=b.index+b[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(b[1]==="/"){if((s=i.pop())[0]!==b[3])throw"Bad state: "+s}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!1]);M="",A=0,P=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(b[1]==="/"){if(R[l.name]=f,(s=i.pop())[0]!==b[3])throw"Bad state: "+s}else b[0].charAt(b[0].length-2)!=="/"&&(f="",l=ft(b[0],!1),i.push([b[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":o=ft(b[0],!1),f+=LS[b[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":o=ft(b[0],!1),f+=LS[b[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(b[0].slice(-2)==="/>")break;if(b[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":f+=r.slice(c,b.index);break}else c=b.index+b[0].length;break;case"named-range":o=ft(b[0],!1),be=G1(o["cell-range-address"]);var Ne={Name:o.name,Ref:be[0]+"!"+be[1]};pe&&(Ne.Sheet=x.length),Ce.Names.push(Ne);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(b[1]==="/"&&(!I||!I["string-value"])){var ce=GG(r.slice(A,b.index));M=(M.length>0?M+`
    -`:"")+ce[0]}else ft(b[0],!1),A=b.index+b[0].length;break;case"s":break;case"database-range":if(b[1]==="/")break;try{be=G1(ft(b[0])["target-range-address"]),p[be[0]]["!autofilter"]={ref:be[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(b[1]!=="/"){if(J=ft(b[0],!1),!J.href)break;J.Target=Vt(J.href),delete J.href,J.Target.charAt(0)=="#"&&J.Target.indexOf(".")>-1?(be=G1(J.Target.slice(1)),J.Target="#"+be[0]+"!"+be[1]):J.Target.match(/^\.\.[\\\/]/)&&(J.Target=J.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(b[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(b)}}var Y={Sheets:p,SheetNames:x,Workbook:Ce};return n.bookSheets&&delete Y.Sheets,Y}function OS(t,e){e=e||{},ki(t,"META-INF/manifest.xml")&&aU(Hn(t,"META-INF/manifest.xml"),e);var n=fi(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=Ik(dn(n),e);return ki(t,"meta.xml")&&(r.Props=q6(Hn(t,"meta.xml"))),r}function FS(t,e){return Ik(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Xv(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function py(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):dn(qu(t))}function my(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function US(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function jG(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,i=e+13;i>=e;--i)r=r*256+t[i];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function T0(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function Jn(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function br(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=T0(t,n),s=i&7;i=Math.floor(i/8);var o=0,l;if(i==0)break;switch(s){case 0:{for(var f=n[0];t[n[0]++]>=128;);l=t.slice(f,n[0])}break;case 5:o=4,l=t.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,l=t.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=T0(t,n),l=t.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var c={data:l,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function Jv(t,e){return(t==null?void 0:t.map(function(n){return e(n.data)}))||[]}function $G(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=T0(t,r),s=br(t.slice(r[0],r[0]+i));r[0]+=i;var o={id:Jn(s[1][0].data),messages:[]};s[2].forEach(function(l){var f=br(l.data),c=Jn(f[3][0].data);o.messages.push({meta:f,data:t.slice(r[0],r[0]+c)}),r[0]+=c}),(e=s[3])!=null&&e[0]&&(o.merge=Jn(s[3][0].data)>>>0>0),n.push(o)}return n}function WG(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=T0(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var o=e[n[0]++]>>2;if(o<60)++o;else{var l=o-59;o=e[n[0]],l>1&&(o|=e[n[0]+1]<<8),l>2&&(o|=e[n[0]+2]<<16),l>3&&(o|=e[n[0]+3]<<24),o>>>=0,o++,n[0]+=l}i.push(e.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var f=0,c=0;if(s==1?(c=(e[n[0]]>>2&7)+4,f=(e[n[0]++]&224)<<3,f|=e[n[0]++]):(c=(e[n[0]++]>>2)+1,s==2?(f=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(f=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[my(i)],f==0)throw new Error("Invalid offset 0");if(f>i[0].length)throw new Error("Invalid offset beyond length");if(c>=f)for(i.push(i[0].slice(-f)),c-=f;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-f,-f+c))}}var d=my(i);if(d.length!=r)throw new Error("Unexpected length: ".concat(d.length," != ").concat(r));return d}function KG(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(WG(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return my(e)}function YG(t,e,n,r){var i=Xv(t),s=i.getUint32(4,!0),o=(r>1?12:8)+US(s&(r>1?3470:398))*4,l=-1,f=-1,c=NaN,d=new Date(2001,0,1);s&512&&(l=i.getUint32(o,!0),o+=4),o+=US(s&(r>1?12288:4096))*4,s&16&&(f=i.getUint32(o,!0),o+=4),s&32&&(c=i.getFloat64(o,!0),o+=8),s&64&&(d.setTime(d.getTime()+i.getFloat64(o,!0)*1e3),o+=8);var g;switch(t[2]){case 0:break;case 2:g={t:"n",v:c};break;case 3:g={t:"s",v:e[f]};break;case 5:g={t:"d",v:d};break;case 6:g={t:"b",v:c>0};break;case 7:g={t:"n",v:c/86400};break;case 8:g={t:"e",v:0};break;case 9:if(l>-1)g={t:"s",v:n[l]};else if(f>-1)g={t:"s",v:e[f]};else if(!isNaN(c))g={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return g}function XG(t,e,n){var r=Xv(t),i=r.getUint32(8,!0),s=12,o=-1,l=-1,f=NaN,c=NaN,d=new Date(2001,0,1);i&1&&(f=jG(t,s),s+=16),i&2&&(c=r.getFloat64(s,!0),s+=8),i&4&&(d.setTime(d.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(l=r.getUint32(s,!0),s+=4),i&16&&(o=r.getUint32(s,!0),s+=4);var g;switch(t[1]){case 0:break;case 2:g={t:"n",v:f};break;case 3:g={t:"s",v:e[l]};break;case 5:g={t:"d",v:d};break;case 6:g={t:"b",v:c>0};break;case 7:g={t:"n",v:c/86400};break;case 8:g={t:"e",v:0};break;case 9:if(o>-1)g={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:g={t:"n",v:f};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return g}function JG(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return YG(t,e,n,t[0]);case 5:return XG(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function Eo(t){var e=br(t);return T0(e[1][0].data)}function VS(t,e){var n=br(e.data),r=Jn(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(o){var l=br(o.data),f=Jn(l[1][0].data)>>>0;switch(r){case 1:s[f]=py(l[3][0].data);break;case 8:{var c=t[Eo(l[9][0].data)][0],d=br(c.data),g=t[Eo(d[1][0].data)][0],p=Jn(g.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var x=br(g.data);s[f]=x[3].map(function(_){return py(_.data)}).join("")}break}}),s}function QG(t,e){var n,r,i,s,o,l,f,c,d,g,p,x,_,b,C=br(t),I=Jn(C[1][0].data)>>>0,M=Jn(C[2][0].data)>>>0,A=((r=(n=C[8])==null?void 0:n[0])==null?void 0:r.data)&&Jn(C[8][0].data)>0||!1,P,D;if((s=(i=C[7])==null?void 0:i[0])!=null&&s.data&&e!=0)P=(l=(o=C[7])==null?void 0:o[0])==null?void 0:l.data,D=(c=(f=C[6])==null?void 0:f[0])==null?void 0:c.data;else if((g=(d=C[4])==null?void 0:d[0])!=null&&g.data&&e!=1)P=(x=(p=C[4])==null?void 0:p[0])==null?void 0:x.data,D=(b=(_=C[3])==null?void 0:_[0])==null?void 0:b.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var V=A?4:1,N=Xv(P),k=[],R=0;R<P.length/2;++R){var O=N.getUint16(R*2,!0);O<65535&&k.push([R,O])}if(k.length!=M)throw"Expected ".concat(M," cells, found ").concat(k.length);var L=[];for(R=0;R<k.length-1;++R)L[k[R][0]]=D.subarray(k[R][1]*V,k[R+1][1]*V);return k.length>=1&&(L[k[k.length-1][0]]=D.subarray(k[k.length-1][1]*V)),{R:I,cells:L}}function ZG(t,e){var n,r=br(e.data),i=(n=r==null?void 0:r[7])!=null&&n[0]?Jn(r[7][0].data)>>>0>0?1:0:-1,s=Jv(r[5],function(o){return QG(o,i)});return{nrows:Jn(r[4][0].data)>>>0,data:s.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(f,c){if(o[l.R][c])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(c));o[l.R][c]=f}),o},[])}}function ej(t,e,n){var r,i=br(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Jn(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Jn(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=Ft(s);var o=br(i[4][0].data),l=VS(t,t[Eo(o[4][0].data)][0]),f=(r=o[17])!=null&&r[0]?VS(t,t[Eo(o[17][0].data)][0]):[],c=br(o[3][0].data),d=0;c[1].forEach(function(g){var p=br(g.data),x=t[Eo(p[2][0].data)][0],_=Jn(x.meta[1][0].data);if(_!=6002)throw new Error("6001 unexpected reference to ".concat(_));var b=ZG(t,x);b.data.forEach(function(C,I){C.forEach(function(M,A){var P=gt({r:d+I,c:A}),D=JG(M,l,f);D&&(n[P]=D)})}),d+=b.nrows})}function tj(t,e){var n=br(e.data),r={"!ref":"A1"},i=t[Eo(n[2][0].data)],s=Jn(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return ej(t,i[0],r),r}function nj(t,e){var n,r=br(e.data),i={name:(n=r[1])!=null&&n[0]?py(r[1][0].data):"",sheets:[]},s=Jv(r[2],Eo);return s.forEach(function(o){t[o].forEach(function(l){var f=Jn(l.meta[1][0].data);f==6e3&&i.sheets.push(tj(t,l))})}),i}function rj(t,e){var n=e_(),r=br(e.data),i=Jv(r[1],Eo);if(i.forEach(function(s){t[s].forEach(function(o){var l=Jn(o.meta[1][0].data);if(l==2){var f=nj(t,o);f.sheets.forEach(function(c,d){t_(n,c,d==0?f.name:f.name+"_"+d,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function $1(t){var e,n,r,i,s={},o=[];if(t.FullPaths.forEach(function(f){if(f.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(f){if(f.name.match(/\.iwa$/)){var c;try{c=KG(f.content)}catch(g){return console.log("?? "+f.content.length+" "+(g.message||g))}var d;try{d=$G(c)}catch(g){return console.log("## "+(g.message||g))}d.forEach(function(g){s[g.id]=g.messages,o.push(g.id)})}}),!o.length)throw new Error("File has no messages");var l=((i=(r=(n=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&Jn(s[1][0].meta[1][0].data)==1&&s[1][0];if(l||o.forEach(function(f){s[f].forEach(function(c){var d=Jn(c.meta[1][0].data)>>>0;if(d==1)if(!l)l=c;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return rj(s,l)}function ij(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function Qv(t){ij([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function sj(t){return ql.WS.indexOf(t)>-1?"sheet":t==ql.CS?"chart":t==ql.DS?"dialog":t==ql.MS?"macro":t&&t.length?t:"sheet"}function aj(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,sj(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function oj(t,e,n,r,i,s,o,l,f,c,d,g){try{s[r]=Kf(fi(t,n,!0),e);var p=Hn(t,e),x;switch(l){case"sheet":x=dG(p,e,i,f,s[r],c,d,g);break;case"chart":if(x=pG(p,e,i,f,s[r],c,d,g),!x||!x["!drawel"])break;var _=Lf(x["!drawel"].Target,e),b=ly(_),C=hq(fi(t,_,!0),Kf(fi(t,b,!0),_)),I=Lf(C,_),M=ly(I);x=Xz(fi(t,I,!0),I,f,Kf(fi(t,M,!0),I),c,x);break;case"macro":x=mG(p,e,i,f,s[r],c,d,g);break;case"dialog":x=gG(p,e,i,f,s[r],c,d,g);break;default:throw new Error("Unrecognized sheet type "+l)}o[r]=x;var A=[];s&&s[r]&&Ds(s[r]).forEach(function(P){var D="";if(s[r][P].Type==ql.CMNT){D=Lf(s[r][P].Target,e);var V=_G(Hn(t,D,!0),D,f);if(!V||!V.length)return;wS(x,V,!1)}s[r][P].Type==ql.TCMNT&&(D=Lf(s[r][P].Target,e),A=A.concat(pq(Hn(t,D,!0),f)))}),A&&A.length&&wS(x,A,!0,f.people||[])}catch(P){if(f.WTF)throw P}}function Ci(t){return t.charAt(0)=="/"?t.slice(1):t}function uj(t,e){if(h6(),e=e||{},Qv(e),ki(t,"META-INF/manifest.xml")||ki(t,"objectdata.xml"))return OS(t,e);if(ki(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof $1<"u"){if(t.FileIndex)return $1(t);var n=Ot.utils.cfb_new();return Jw(t).forEach(function(he){l7(n,he,u7(t,he))}),$1(n)}throw new Error("Unsupported NUMBERS file")}if(!ki(t,"[Content_Types].xml"))throw ki(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ki(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=Jw(t),i=iU(fi(t,"[Content_Types].xml")),s=!1,o,l;if(i.workbooks.length===0&&(l="xl/workbook.xml",Hn(t,l,!0)&&i.workbooks.push(l)),i.workbooks.length===0){if(l="xl/workbook.bin",!Hn(t,l,!0))throw new Error("Could not find workbook");i.workbooks.push(l),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var f={},c={};if(!e.bookSheets&&!e.bookProps){if(Jf=[],i.sst)try{Jf=vG(Hn(t,Ci(i.sst)),i.sst,e)}catch(he){if(e.WTF)throw he}e.cellStyles&&i.themes.length&&(f=yG(fi(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=xG(Hn(t,Ci(i.style)),i.style,f,e))}i.links.map(function(he){try{var ae=Kf(fi(t,ly(Ci(he))),he);return EG(Hn(t,Ci(he)),ae,he,e)}catch{}});var d=hG(Hn(t,Ci(i.workbooks[0])),i.workbooks[0],e),g={},p="";i.coreprops.length&&(p=Hn(t,Ci(i.coreprops[0]),!0),p&&(g=q6(p)),i.extprops.length!==0&&(p=Hn(t,Ci(i.extprops[0]),!0),p&&lU(p,g,e)));var x={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(p=fi(t,Ci(i.custprops[0]),!0),p&&(x=fU(p,e)));var _={};if((e.bookSheets||e.bookProps)&&(d.Sheets?o=d.Sheets.map(function(ae){return ae.name}):g.Worksheets&&g.SheetNames.length>0&&(o=g.SheetNames),e.bookProps&&(_.Props=g,_.Custprops=x),e.bookSheets&&typeof o<"u"&&(_.SheetNames=o),e.bookSheets?_.SheetNames:e.bookProps))return _;o={};var b={};e.bookDeps&&i.calcchain&&(b=TG(Hn(t,Ci(i.calcchain)),i.calcchain));var C=0,I={},M,A;{var P=d.Sheets;g.Worksheets=P.length,g.SheetNames=[];for(var D=0;D!=P.length;++D)g.SheetNames[D]=P[D].name}var V=s?"bin":"xml",N=i.workbooks[0].lastIndexOf("/"),k=(i.workbooks[0].slice(0,N+1)+"_rels/"+i.workbooks[0].slice(N+1)+".rels").replace(/^\//,"");ki(t,k)||(k="xl/_rels/workbook."+V+".rels");var R=Kf(fi(t,k,!0),k.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=bG(Hn(t,Ci(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=mq(Hn(t,Ci(i.people[0])),e)),R&&(R=aj(R,d.Sheets));var O=Hn(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(C=0;C!=g.Worksheets;++C){var L="sheet";if(R&&R[C]?(M="xl/"+R[C][1].replace(/[\/]?xl\//,""),ki(t,M)||(M=R[C][1]),ki(t,M)||(M=k.replace(/_rels\/.*$/,"")+R[C][1]),L=R[C][2]):(M="xl/worksheets/sheet"+(C+1-O)+"."+V,M=M.replace(/sheet0\./,"sheet.")),A=M.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(C!=e.sheets)continue e;break;case"string":if(g.SheetNames[C].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var U=!1,q=0;q!=e.sheets.length;++q)typeof e.sheets[q]=="number"&&e.sheets[q]==C&&(U=1),typeof e.sheets[q]=="string"&&e.sheets[q].toLowerCase()==g.SheetNames[C].toLowerCase()&&(U=1);if(!U)continue e}}oj(t,M,A,g.SheetNames[C],C,I,o,L,e,d,f,c)}return _={Directory:i,Workbook:d,Props:g,Custprops:x,Deps:b,Sheets:o,SheetNames:g.SheetNames,Strings:Jf,Styles:c,Themes:f,SSF:fr(_t)},e&&e.bookFiles&&(t.files?(_.keys=r,_.files=t.files):(_.keys=[],_.files={},t.FullPaths.forEach(function(he,ae){he=he.replace(/^Root Entry[\/]/,""),_.keys.push(he),_.files[he]=t.FileIndex[ae]}))),e&&e.bookVBA&&(i.vba.length>0?_.vbaraw=Hn(t,Ci(i.vba[0]),!0):i.defaults&&i.defaults.bin===vq&&(_.vbaraw=Hn(t,"xl/vbaProject.bin",!0))),_}function lj(t,e){var n=e||{},r="Workbook",i=Ot.find(t,r);try{if(r="/!DataSpaces/Version",i=Ot.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(tB(i.content),r="/!DataSpaces/DataSpaceMap",i=Ot.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=rB(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Ot.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=iB(i.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Ot.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);aB(i.content)}catch{}if(r="/EncryptionInfo",i=Ot.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var l=oB(i.content);if(r="/EncryptedPackage",i=Ot.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],i.content,n.password||"",n);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function Zv(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=di(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function cj(t,e){return Ot.find(t,"EncryptedPackage")?lj(t,e):Sk(t,e)}function fj(t,e){var n,r=t,i=e||{};return i.type||(i.type=Pt&&Buffer.isBuffer(t)?"buffer":"base64"),n=y6(r,i),uj(n,i)}function kk(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return hy(t.slice(n),e);default:break e}return y0.to_workbook(t,e)}function hj(t,e){var n="",r=Zv(t,e);switch(e.type){case"base64":n=di(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=Nu(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=dn(n)),e.type="binary",kk(n,e)}function dj(t,e){var n=t;return e.type=="base64"&&(n=di(n)),n=p0.utils.decode(1200,n.slice(2),"str"),e.type="binary",kk(n,e)}function pj(t){return t.match(/[^\x00-\x7F]/)?Of(t):t}function W1(t,e,n,r){return r?(n.type="string",y0.to_workbook(t,n)):y0.to_workbook(e,n)}function Ip(t,e){e6();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return Ip(new Uint8Array(t),(n=fr(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Jl={},n.dateNF&&(Jl.dateNF=n.dateNF),n.type||(n.type=Pt&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=Pt?"buffer":"binary",r=t7(t),typeof Uint8Array<"u"&&!Pt&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=pj(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return n=fr(n),n.type="array",Ip(Nv(r),n)}switch((i=Zv(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return cj(Ot.read(r,n),n);break;case 9:if(i[1]<=8)return Sk(r,n);break;case 60:return hy(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return HV(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return BV.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?fj(r,n):W1(t,r,n,s);case 239:return i[3]===60?hy(r,n):W1(t,r,n,s);case 255:if(i[1]===254)return dj(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return Xf.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Xf.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return bS.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return vB.to_workbook(r,n);break;case 10:case 13:case 32:return hj(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return UV.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?bS.to_workbook(r,n):W1(t,r,n,s)}function mj(t,e,n,r,i,s,o,l){var f=hr(n),c=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),g=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:n,enumerable:!1})}catch{p.__rowNum__=n}else p.__rowNum__=n;if(!o||t[n])for(var x=e.s.c;x<=e.e.c;++x){var _=o?t[n][x]:t[r[x]+f];if(_===void 0||_.t===void 0){if(c===void 0)continue;s[x]!=null&&(p[s[x]]=c);continue}var b=_.v;switch(_.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+_.t)}if(s[x]!=null){if(b==null)if(_.t=="e"&&b===null)p[s[x]]=null;else if(c!==void 0)p[s[x]]=c;else if(d&&b===null)p[s[x]]=null;else continue;else p[s[x]]=d&&(_.t!=="n"||_.t==="n"&&l.rawNumbers!==!1)?b:ba(_,b,l);b!=null&&(g=!1)}}return{row:p,isempty:g}}function gy(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],o=0,l="",f={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},d=c.range!=null?c.range:t["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof d){case"string":f=In(d);break;case"number":f=In(t["!ref"]),f.s.r=d;break;default:f=d}r>0&&(i=0);var g=hr(f.s.r),p=[],x=[],_=0,b=0,C=Array.isArray(t),I=f.s.r,M=0,A={};C&&!t[I]&&(t[I]=[]);var P=c.skipHidden&&t["!cols"]||[],D=c.skipHidden&&t["!rows"]||[];for(M=f.s.c;M<=f.e.c;++M)if(!(P[M]||{}).hidden)switch(p[M]=Yn(M),n=C?t[I][M]:t[p[M]+g],r){case 1:s[M]=M-f.s.c;break;case 2:s[M]=p[M];break;case 3:s[M]=c.header[M-f.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),l=o=ba(n,null,c),b=A[o]||0,!b)A[o]=1;else{do l=o+"_"+b++;while(A[l]);A[o]=b,A[l]=1}s[M]=l}for(I=f.s.r+i;I<=f.e.r;++I)if(!(D[I]||{}).hidden){var V=mj(t,f,I,p,r,s,C,c);(V.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(x[_++]=V.row)}return x.length=_,x}var BS=/"/g;function gj(t,e,n,r,i,s,o,l){for(var f=!0,c=[],d="",g=hr(n),p=e.s.c;p<=e.e.c;++p)if(r[p]){var x=l.dense?(t[n]||[])[p]:t[r[p]+g];if(x==null)d="";else if(x.v!=null){f=!1,d=""+(l.rawNumbers&&x.t=="n"?x.v:ba(x,null,l));for(var _=0,b=0;_!==d.length;++_)if((b=d.charCodeAt(_))===i||b===s||b===34||l.forceQuotes){d='"'+d.replace(BS,'""')+'"';break}d=="ID"&&(d='"ID"')}else x.f!=null&&!x.F?(f=!1,d="="+x.f,d.indexOf(",")>=0&&(d='"'+d.replace(BS,'""')+'"')):d="";c.push(d)}return l.blankrows===!1&&f?null:c.join(o)}function Rk(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=In(t["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),l=r.RS!==void 0?r.RS:`
    -`,f=l.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),d="",g=[];r.dense=Array.isArray(t);for(var p=r.skipHidden&&t["!cols"]||[],x=r.skipHidden&&t["!rows"]||[],_=i.s.c;_<=i.e.c;++_)(p[_]||{}).hidden||(g[_]=Yn(_));for(var b=0,C=i.s.r;C<=i.e.r;++C)(x[C]||{}).hidden||(d=gj(t,i,C,g,o,f,s,r),d!=null&&(r.strip&&(d=d.replace(c,"")),(d||r.blankrows!==!1)&&n.push((b++?l:"")+d)));return delete r.dense,n.join("")}function xj(t,e){e||(e={}),e.FS="	",e.RS=`
    -`;var n=Rk(t,e);return n}function yj(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=In(t["!ref"]),s="",o=[],l,f=[],c=Array.isArray(t);for(l=i.s.c;l<=i.e.c;++l)o[l]=Yn(l);for(var d=i.s.r;d<=i.e.r;++d)for(s=hr(d),l=i.s.c;l<=i.e.c;++l)if(e=o[l]+s,n=c?(t[d]||[])[l]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}f[f.length]=e+"="+r}return f}function Nk(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},o=0,l=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var f=typeof r.origin=="string"?Lr(r.origin):r.origin;o=f.r,l=f.c}var c,d={s:{c:0,r:0},e:{c:l,r:o+e.length-1+i}};if(s["!ref"]){var g=In(s["!ref"]);d.e.c=Math.max(d.e.c,g.e.c),d.e.r=Math.max(d.e.r,g.e.r),o==-1&&(o=g.e.r+1,d.e.r=o+e.length-1+i)}else o==-1&&(o=0,d.e.r=e.length-1+i);var p=r.header||[],x=0;e.forEach(function(b,C){Ds(b).forEach(function(I){(x=p.indexOf(I))==-1&&(p[x=p.length]=I);var M=b[I],A="z",P="",D=gt({c:l+x,r:o+C+i});c=E0(s,D),M&&typeof M=="object"&&!(M instanceof Date)?s[D]=M:(typeof M=="number"?A="n":typeof M=="boolean"?A="b":typeof M=="string"?A="s":M instanceof Date?(A="d",r.cellDates||(A="n",M=Ur(M)),P=r.dateNF||_t[14]):M===null&&r.nullError&&(A="e",M=0),c?(c.t=A,c.v=M,delete c.w,delete c.R,P&&(c.z=P)):s[D]=c={t:A,v:M},P&&(c.z=P))})}),d.e.c=Math.max(d.e.c,l+p.length-1);var _=hr(o);if(i)for(x=0;x<p.length;++x)s[Yn(x+l)+_]={t:"s",v:p[x]};return s["!ref"]=Ft(d),s}function vj(t,e){return Nk(null,t,e)}function E0(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Lr(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?E0(t,gt(e)):E0(t,gt({r:e,c:n||0}))}function _j(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function e_(){return{SheetNames:[],Sheets:{}}}function t_(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=o+i)!=-1;++i);}if(iG(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function Tj(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=_j(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function Ej(t,e){return t.z=e,t}function Dk(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function bj(t,e,n){return Dk(t,"#"+e,n)}function wj(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function Sj(t,e,n,r){for(var i=typeof e!="string"?e:In(e),s=typeof e=="string"?e:Ft(e),o=i.s.r;o<=i.e.r;++o)for(var l=i.s.c;l<=i.e.c;++l){var f=E0(t,o,l);f.t="n",f.F=s,delete f.v,o==i.s.r&&l==i.s.c&&(f.f=n,r&&(f.D=!0))}return t}var Mk={encode_col:Yn,encode_row:hr,encode_cell:gt,encode_range:Ft,decode_col:Bv,decode_row:Vv,split_cell:F7,decode_cell:Lr,decode_range:bc,format_cell:ba,sheet_add_aoa:O6,sheet_add_json:Nk,sheet_add_dom:Ak,aoa_to_sheet:wc,json_to_sheet:vj,table_to_sheet:Ck,table_to_book:HG,sheet_to_csv:Rk,sheet_to_txt:xj,sheet_to_json:gy,sheet_to_html:qG,sheet_to_formulae:yj,sheet_to_row_object_array:gy,sheet_get_cell:E0,book_new:e_,book_append_sheet:t_,book_set_sheet_visibility:Tj,cell_set_number_format:Ej,cell_set_hyperlink:Dk,cell_set_internal_link:bj,cell_add_comment:wj,sheet_set_array_formula:Sj,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Pk=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z"})}),Aj=()=>{const[t,e]=fe.useState([]),[n,r]=fe.useState(""),[i,s]=fe.useState(!1),[o,l]=fe.useState([]),[f,c]=fe.useState(""),d=x=>{const _=x.filter(b=>b.email&&b.fullName&&b.classId).map(b=>({email:String(b.email).trim(),fullName:String(b.fullName).trim(),classId:String(b.classId).trim()}));e(_),_.length===0&&x.length>0&&c("File khng cha d liu hp l. Hy chc chn file c cc ct 'email', 'fullName', v 'classId'.")},g=x=>{var b,C;const _=(b=x.target.files)==null?void 0:b[0];if(_){r(_.name),e([]),l([]),c("");const I=new FileReader,M=(C=_.name.split(".").pop())==null?void 0:C.toLowerCase();M==="csv"?(I.onload=A=>{var P;wF.parse((P=A.target)==null?void 0:P.result,{header:!0,skipEmptyLines:!0,complete:D=>d(D.data),error:D=>c(`Li khi c file CSV: ${D.message}`)})},I.readAsText(_)):M==="xlsx"||M==="xls"?(I.onload=A=>{var P;try{const D=Ip((P=A.target)==null?void 0:P.result,{type:"binary"}),V=D.SheetNames[0],N=D.Sheets[V],k=Mk.sheet_to_json(N);d(k)}catch(D){c(`Li khi c file Excel: ${D.message}`)}},I.readAsBinaryString(_)):c("nh dng file khng c h tr. Vui lng chn file CSV hoc Excel (.xlsx, .xls).")}},p=async()=>{if(t.length===0){c("Khng c d liu hc sinh hp l  nhp.");return}s(!0),l([]),c("");try{const b=(await XI(eF,"bulkCreateUsers")({students:t})).data;l(b.results||[])}catch(x){console.error("Li khi gi Cloud Function:",x),c(`Li nghim trng khi thc thi: ${x.message}`)}finally{s(!1)}};return w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mt-4",children:[w.jsx("h3",{className:"text-xl font-bold mb-4",children:"Nhp Hc sinh t File"}),w.jsxs("p",{className:"mb-4 text-sm text-gray-600",children:["Chn file ",w.jsx("strong",{children:"CSV"})," hoc ",w.jsx("strong",{children:"Excel"})," c cc ct: ",w.jsx("strong",{children:"email"}),", ",w.jsx("strong",{children:"fullName"}),", v ",w.jsx("strong",{children:"classId"}),". Mt khu s c to t ng v ging vi email."]}),w.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[w.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-full px-4 py-6 bg-white text-blue-500 rounded-lg shadow-lg tracking-wide uppercase border border-blue-500 cursor-pointer hover:bg-blue-500 hover:text-white",children:[w.jsx(Pk,{className:"w-8 h-8"}),w.jsx("span",{className:"mt-2 text-base leading-normal text-center",children:n||"Chn mt file"}),w.jsx("input",{type:"file",accept:".csv, .xlsx, .xls",className:"hidden",onChange:g})]}),w.jsx("button",{onClick:p,disabled:t.length===0||i,className:"flex items-center justify-center w-full h-full px-6 py-3 text-white bg-green-600 rounded-lg shadow-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:i?w.jsx(en,{className:"w-5 h-5"}):"Bt u Nhp"})]}),f&&w.jsx("p",{className:"text-red-500 mt-4",children:f}),t.length>0&&!i&&w.jsxs("div",{className:"mt-6",children:[w.jsxs("h4",{className:"font-bold",children:["D liu xem trc (",t.length," hc sinh):"]}),w.jsxs("div",{className:"max-h-60 overflow-y-auto mt-2 border rounded-md",children:[w.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"H v Tn"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"M Lp"})]})}),w.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.slice(0,10).map((x,_)=>w.jsxs("tr",{children:[w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:x.email}),w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:x.fullName}),w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:x.classId})]},_))})]}),t.length>10&&w.jsxs("p",{className:"text-center text-sm text-gray-500 p-2",children:["... v ",t.length-10," hc sinh khc."]})]})]}),o.length>0&&w.jsxs("div",{className:"mt-6",children:[w.jsx("h4",{className:"font-bold",children:"Kt qu nhp liu:"}),w.jsx("div",{className:"max-h-60 overflow-y-auto mt-2 border rounded-md",children:w.jsx("ul",{className:"divide-y divide-gray-200",children:o.map((x,_)=>w.jsxs("li",{className:`p-3 flex justify-between items-center ${x.success?"bg-green-50":"bg-red-50"}`,children:[w.jsx("span",{className:"text-sm",children:x.email}),w.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${x.success?"bg-green-200 text-green-800":"bg-red-200 text-red-800"}`,children:x.success?"Thnh cng":"Tht bi"}),!x.success&&w.jsx("p",{className:"text-xs text-red-600 w-1/2 text-right",children:x.message})]},_))})})]})]})},Ll=10,Cj=()=>{const[t,e]=fe.useState([]),[n,r]=fe.useState([]),[i,s]=fe.useState(!0),[o,l]=fe.useState(""),[f,c]=fe.useState(1),[d,g]=fe.useState(1),[p,x]=fe.useState(!1),[_,b]=fe.useState(null),[C,I]=fe.useState(!1),[M,A]=fe.useState(null),[P,D]=fe.useState(""),[V,N]=fe.useState(""),k=fe.useCallback(async()=>{s(!0),l("");try{const J=await L0();e(J.students),r(J.classes)}catch(J){console.error("Failed to fetch admin data:",J),l("Khng th ti d liu. Vui lng kim tra kt ni mng v th li.")}finally{s(!1)}},[]);fe.useEffect(()=>{k()},[]);const R=Math.ceil(t.length/Ll),O=fe.useMemo(()=>{const J=(f-1)*Ll;return t.slice(J,J+Ll)},[t,f]),L=Math.ceil(n.length/Ll),U=fe.useMemo(()=>{const J=(d-1)*Ll;return n.slice(J,J+Ll)},[n,d]),q=()=>{b(null),x(!0)},he=J=>{b(J),x(!0)},ae=J=>{D("Xc nhn xa lp hc"),N("Bn c chc chn mun xa lp hc ny khng?"),A(()=>async()=>{try{alert("Chc nng xa tm thi b v hiu ha trong bn demo ny.")}catch(be){console.error("Failed to delete class:",be),alert(`Khng th xa lp hc: ${be.message}`)}}),I(!0)},se=()=>{x(!1),b(null)},ue=()=>{se(),k()},Ce=fe.useMemo(()=>new Map(n.map(J=>[J.id,J.name])),[n]);return i?w.jsxs("div",{className:"flex justify-center items-center h-64",children:[w.jsx(en,{}),w.jsx("p",{className:"ml-4 text-gray-600",children:"ang ti d liu..."})]}):o?w.jsx("div",{className:"text-center bg-rose-50 border border-rose-200 text-rose-800 p-4 rounded-lg",children:o}):w.jsxs("div",{className:"space-y-12",children:[p&&w.jsx(vF,{isOpen:p,onClose:se,onSave:ue,initialClass:_}),w.jsx(Iv,{isOpen:C,onClose:()=>I(!1),onConfirm:M,title:P,message:w.jsx("p",{children:V})}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Qun l hc vin"}),w.jsx("button",{className:"bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 font-semibold py-2 px-4 rounded-lg text-sm",children:"Xut CSV"})]}),w.jsx(Aj,{}),w.jsxs("div",{className:"mt-8",children:[" ",w.jsx("h4",{className:"text-xl font-bold text-gray-800 mb-4",children:"Danh sch hc vin hin ti"}),w.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 hidden md:block",children:w.jsxs("table",{className:"min-w-full bg-white",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"H v tn"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lp"})]})}),w.jsx("tbody",{className:"divide-y divide-gray-200",children:O.map(J=>w.jsxs("tr",{className:"hover:bg-gray-50",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:J.name}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:J.email}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:J.classIds&&J.classIds.length>0?J.classIds.map(be=>Ce.get(be)||be).join(", "):"N/A"})]},J.id))})]})}),w.jsx("div",{className:"space-y-3 md:hidden",children:O.map(J=>w.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-200",children:[w.jsx("p",{className:"font-bold text-gray-900 truncate",children:J.name}),w.jsx("div",{className:"mt-2 pt-2 border-t text-sm space-y-1",children:w.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[w.jsx("span",{className:"text-gray-500 col-span-1",children:"Email:"}),w.jsx("span",{className:"text-gray-800 col-span-2 truncate",children:J.email}),w.jsx("span",{className:"text-gray-500 col-span-1",children:"Lp:"}),w.jsx("span",{className:"text-gray-800 font-medium col-span-2",children:J.classIds&&J.classIds.length>0?J.classIds.map(be=>Ce.get(be)||be).join(", "):"N/A"})]})})]},J.id))}),w.jsx(lc,{currentPage:f,totalPages:R,onPageChange:c})]})]}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Qun l lp hc"}),w.jsxs("button",{onClick:q,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center transition-colors",children:[w.jsx(O0,{}),w.jsx("span",{className:"ml-2",children:"Thm lp hc mi"})]})]}),w.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 hidden md:block",children:w.jsxs("table",{className:"min-w-full bg-white",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tn lp"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hnh ng"})]})}),w.jsx("tbody",{className:"divide-y divide-gray-200",children:U.map(J=>w.jsxs("tr",{className:"hover:bg-gray-50",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:J.name}),w.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 space-x-2",children:[w.jsx("button",{onClick:()=>he(J),className:"p-2 text-gray-500 hover:text-indigo-600 hover:bg-gray-100 rounded-full transition-colors",title:"Sa lp hc",children:w.jsx(gp,{})}),w.jsx("button",{onClick:()=>ae(J.id),className:"p-2 text-gray-500 hover:text-rose-600 hover:bg-gray-100 rounded-full transition-colors",title:"Xa lp hc",children:w.jsx(d0,{})})]})]},J.id))})]})}),w.jsx("div",{className:"space-y-3 md:hidden",children:U.map(J=>w.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-200 flex justify-between items-center",children:[w.jsx("p",{className:"font-bold text-gray-900",children:J.name}),w.jsxs("div",{className:"space-x-2 flex-shrink-0",children:[w.jsx("button",{onClick:()=>he(J),className:"p-2 text-gray-500 hover:text-indigo-600 hover:bg-gray-100 rounded-full transition-colors",title:"Sa lp hc",children:w.jsx(gp,{})}),w.jsx("button",{onClick:()=>ae(J.id),className:"p-2 text-gray-500 hover:text-rose-600 hover:bg-gray-100 rounded-full transition-colors",title:"Xa lp hc",children:w.jsx(d0,{})})]})]},J.id))}),w.jsx(lc,{currentPage:d,totalPages:L,onPageChange:g})]})]})},qS=t=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:[w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),kp=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),K1=10,HS=({onViewProctoringReport:t})=>{const[e,n]=fe.useState([]),[r,i]=fe.useState(!0),[s,o]=fe.useState(""),[l,f]=fe.useState("completed_at"),[c,d]=fe.useState("desc"),[g,p]=fe.useState(1),x=fe.useCallback(async()=>{i(!0),o("");try{const[A,P]=await Promise.all([mF(),L0()]),D=new Map(P.students.map(R=>[R.id,R])),V=new Map(P.exams.map(R=>[R.id,R])),N=new Map(P.classes.map(R=>[R.id,R.name])),k=A.map(R=>{const O=D.get(R.userId),L=V.get(R.examId),U=((O==null?void 0:O.classIds)||[]).map(q=>N.get(q)).filter(Boolean).join(", ");return{...R,userName:(O==null?void 0:O.name)||"Unknown User",examTitle:(L==null?void 0:L.title)||"Unknown Exam",className:U||"Unknown Class"}});n(k)}catch(A){console.error("Li khi ti kt qu:",A),o("Khng th ti d liu kt qu. Vui lng kim tra kt ni mng v th li.")}finally{i(!1)}},[]);fe.useEffect(()=>{x()},[x]);const _=fe.useMemo(()=>[...e].sort((A,P)=>{const D=A[l],V=P[l];return D===null?1:V===null?-1:D<V?c==="asc"?-1:1:D>V?c==="asc"?1:-1:0}),[e,l,c]),b=Math.ceil(_.length/K1),C=fe.useMemo(()=>{const A=(g-1)*K1;return _.slice(A,A+K1)},[_,g]),I=A=>{A===l?d(P=>P==="asc"?"desc":"asc"):(f(A),d("asc")),p(1)},M=({sortKey:A,label:P})=>w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>I(A),children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("span",{children:P}),l===A&&w.jsx("span",{className:"ml-1",children:c==="asc"?"":""})]})});return w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Kt qu thi"}),w.jsx("button",{className:"bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 font-semibold py-2 px-4 rounded-lg text-sm",children:"Xut CSV"})]}),r?w.jsxs("div",{className:"flex justify-center items-center h-64",children:[w.jsx(en,{}),w.jsx("p",{className:"ml-4 text-gray-600",children:"ang ti kt qu..."})]}):s?w.jsx("div",{className:"text-center bg-rose-50 border border-rose-200 text-rose-800 p-4 rounded-lg",children:s}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 hidden md:block",children:w.jsxs("table",{className:"min-w-full bg-white",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{children:[w.jsx(M,{sortKey:"userName",label:"Hc vin"}),w.jsx(M,{sortKey:"examTitle",label:"Bi thi"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lp"}),w.jsx(M,{sortKey:"score",label:"im"}),w.jsx(M,{sortKey:"completed_at",label:"Ngy hon thnh"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hnh ng"})]})}),w.jsx("tbody",{className:"divide-y divide-gray-200",children:C.map(A=>w.jsxs("tr",{className:"hover:bg-gray-50",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:w.jsxs("div",{className:"flex items-center",children:[A.userName,A.reviewRequested&&w.jsx("span",{title:"Yu cu xem li",children:w.jsx(kp,{className:"h-5 w-5 text-amber-500 ml-2"})})]})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:A.examTitle}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:A.className}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 font-semibold",children:A.score!==null?`${(A.score*100).toFixed(1)}%`:"N/A"}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:A.completed_at?new Date(A.completed_at).toLocaleString():"ang lm bi"}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:w.jsxs("button",{onClick:()=>t(A.id),className:"text-indigo-600 hover:text-indigo-800 flex items-center",title:"Xem nht k gim st",children:[w.jsx(qS,{}),w.jsx("span",{className:"ml-1",children:"Xem nht k"})]})})]},A.id))})]})}),w.jsx("div",{className:"space-y-3 md:hidden",children:C.map(A=>w.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-200 space-y-3",children:[w.jsxs("div",{className:"flex justify-between items-start gap-2",children:[w.jsxs("div",{className:"flex-1",children:[w.jsxs("p",{className:"font-bold text-gray-900 flex items-center",children:[w.jsx("span",{children:A.userName}),A.reviewRequested&&w.jsx("span",{title:"Yu cu xem li",children:w.jsx(kp,{className:"h-5 w-5 text-amber-500 ml-2 flex-shrink-0"})})]}),w.jsx("p",{className:"text-sm text-gray-500",children:A.examTitle})]}),w.jsx("span",{className:`flex-shrink-0 font-semibold text-lg px-3 py-1 rounded-full ${A.score===null?"bg-gray-100 text-gray-800":A.score<.7?"bg-rose-100 text-rose-800":"bg-emerald-100 text-emerald-800"}`,children:A.score!==null?`${(A.score*100).toFixed(1)}%`:"N/A"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-sm pt-3 border-t",children:[w.jsx("span",{className:"text-gray-500",children:"Lp:"}),w.jsx("span",{className:"text-gray-800 font-medium",children:A.className}),w.jsx("span",{className:"text-gray-500",children:"Hon thnh:"}),w.jsx("span",{className:"text-gray-800 font-medium",children:A.completed_at?new Date(A.completed_at).toLocaleString():"ang lm bi"})]}),w.jsxs("button",{onClick:()=>t(A.id),className:"w-full text-center mt-2 bg-gray-50 hover:bg-gray-100 text-indigo-600 flex items-center justify-center py-2 rounded-md text-sm font-semibold",title:"Xem nht k gim st",children:[w.jsx(qS,{}),w.jsx("span",{className:"ml-2",children:"Xem nht k gim st"})]})]},A.id))}),w.jsx(lc,{currentPage:g,totalPages:b,onPageChange:p})]})]})};/**
    +`),t.v=t.w=t.ixfe=void 0}function K1(t,e){var n=e||{};x6();var r=Pf(Bv(t));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=dn(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var o=fr(n);return o.type="string",v0.to_workbook(r,o)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(nt){i.indexOf("<"+nt)>=0&&(s=!0)}),s)return GG(r,n);e0={"General Number":"General","General Date":_t[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":_t[15],"Short Date":_t[14],"Long Time":_t[19],"Medium Time":_t[18],"Short Time":_t[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:_t[2],Standard:_t[4],Percent:_t[10],Scientific:_t[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,f=[],c,d={},g=[],p=n.dense?[]:{},x="",_={},b={},C=$i('<Data ss:Type="String">'),I=0,D=0,A=0,P={s:{r:2e6,c:2e6},e:{r:0,c:0}},M={},U={},N="",k=0,R=[],V={},L={},F=0,q=[],ce=[],oe={},ae=[],se,me=!1,X=[],ge=[],G={},z=0,K=0,ee={Sheets:[],WBProps:{date1904:!1}},re={};y0.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var pe="";l=y0.exec(r);)switch(l[3]=(pe=l[3]).toLowerCase()){case"data":if(pe=="data"){if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&f.push([l[3],!0]);break}if(f[f.length-1][1])break;l[1]==="/"?PG(r.slice(I,l.index),N,C,f[f.length-1][0]=="comment"?oe:_,{c:D,r:A},M,ae[D],b,X,n):(N="",C=$i(l[0]),I=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(ce.length>0&&(_.c=ce),(!n.sheetRows||n.sheetRows>A)&&_.v!==void 0&&(n.dense?(p[A]||(p[A]=[]),p[A][D]=_):p[Yn(D)+hr(A)]=_),_.HRef&&(_.l={Target:Vt(_.HRef)},_.HRefScreenTip&&(_.l.Tooltip=_.HRefScreenTip),delete _.HRef,delete _.HRefScreenTip),(_.MergeAcross||_.MergeDown)&&(z=D+(parseInt(_.MergeAcross,10)|0),K=A+(parseInt(_.MergeDown,10)|0),R.push({s:{c:D,r:A},e:{c:z,r:K}})),!n.sheetStubs)_.MergeAcross?D=z+1:++D;else if(_.MergeAcross||_.MergeDown){for(var ke=D;ke<=z;++ke)for(var Re=A;Re<=K;++Re)(ke>D||Re>A)&&(n.dense?(p[Re]||(p[Re]=[]),p[Re][ke]={t:"z"}):p[Yn(ke)+hr(Re)]={t:"z"});D=z+1}else++D;else _=kG(l[0]),_.Index&&(D=+_.Index-1),D<P.s.c&&(P.s.c=D),D>P.e.c&&(P.e.c=D),l[0].slice(-2)==="/>"&&++D,ce=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(A<P.s.r&&(P.s.r=A),A>P.e.r&&(P.e.r=A),l[0].slice(-2)==="/>"&&(b=$i(l[0]),b.Index&&(A=+b.Index-1)),D=0,++A):(b=$i(l[0]),b.Index&&(A=+b.Index-1),G={},(b.AutoFitHeight=="0"||b.Height)&&(G.hpx=parseInt(b.Height,10),G.hpt=hk(G.hpx),ge[A]=G),b.Hidden=="1"&&(G.hidden=!0,ge[A]=G));break;case"worksheet":if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"));g.push(x),P.s.r<=P.e.r&&P.s.c<=P.e.c&&(p["!ref"]=Ft(P),n.sheetRows&&n.sheetRows<=P.e.r&&(p["!fullref"]=p["!ref"],P.e.r=n.sheetRows-1,p["!ref"]=Ft(P))),R.length&&(p["!merges"]=R),ae.length>0&&(p["!cols"]=ae),ge.length>0&&(p["!rows"]=ge),d[x]=p}else P={s:{r:2e6,c:2e6},e:{r:0,c:0}},A=D=0,f.push([l[3],!1]),c=$i(l[0]),x=Vt(c.Name),p=n.dense?[]:{},R=[],X=[],ge=[],re={name:x,Hidden:0},ee.Sheets.push(re);break;case"table":if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else{if(l[0].slice(-2)=="/>")break;f.push([l[3],!1]),ae=[],me=!1}break;case"style":l[1]==="/"?MG(M,U,n):U=$i(l[0]);break;case"numberformat":U.nf=Vt($i(l[0]).Format||"General"),e0[U.nf]&&(U.nf=e0[U.nf]);for(var Ce=0;Ce!=392&&_t[Ce]!=U.nf;++Ce);if(Ce==392){for(Ce=57;Ce!=392;++Ce)if(_t[Ce]==null){wu(U.nf,Ce);break}}break;case"column":if(f[f.length-1][0]!=="table")break;if(se=$i(l[0]),se.Hidden&&(se.hidden=!0,delete se.Hidden),se.Width&&(se.wpx=parseInt(se.Width,10)),!me&&se.wpx>10){me=!0,Pr=ck;for(var Ne=0;Ne<ae.length;++Ne)ae[Ne]&&dc(ae[Ne])}me&&dc(se),ae[se.Index-1||ae.length]=se;for(var he=0;he<+se.Span;++he)ae[ae.length]=fr(se);break;case"namedrange":if(l[1]==="/")break;ee.Names||(ee.Names=[]);var Y=ft(l[0]),Ie={Name:Y.Name,Ref:Ql(Y.RefersTo.slice(1),{r:0,c:0})};ee.Sheets.length>0&&(Ie.Sheet=ee.Sheets.length-1),ee.Names.push(Ie);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?N+=r.slice(k,l.index):k=l.index+l[0].length;break;case"interior":if(!n.cellStyles)break;U.Interior=$i(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?yU(V,pe,r.slice(F,l.index)):F=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else f.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"));LG(oe),ce.push(oe)}else f.push([l[3],!1]),c=$i(l[0]),oe={a:c.Author};break;case"autofilter":if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var Fe=$i(l[0]);p["!autofilter"]={ref:Ql(Fe.Range).replace(/\$/g,"")},f.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&f.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((c=f.pop())[0]!==l[3])throw new Error("Bad state: "+c.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&f.push([l[3],!0]);break;case"null":break;default:if(f.length==0&&l[3]=="document"||f.length==0&&l[3]=="uof")return VS(r,n);var Ke=!0;switch(f[f.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Ke=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Ke=!1}break;case"excelworkbook":switch(l[3]){case"date1904":ee.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Ke=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:Ke=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(r.slice(F,l.index)){case"SheetHidden":re.Hidden=1;break;case"SheetVeryHidden":re.Hidden=2;break}else F=l.index+l[0].length;break;case"header":p["!margins"]||Zf(p["!margins"]={},"xlml"),isNaN(+ft(l[0]).Margin)||(p["!margins"].header=+ft(l[0]).Margin);break;case"footer":p["!margins"]||Zf(p["!margins"]={},"xlml"),isNaN(+ft(l[0]).Margin)||(p["!margins"].footer=+ft(l[0]).Margin);break;case"pagemargins":var qe=ft(l[0]);p["!margins"]||Zf(p["!margins"]={},"xlml"),isNaN(+qe.Top)||(p["!margins"].top=+qe.Top),isNaN(+qe.Left)||(p["!margins"].left=+qe.Left),isNaN(+qe.Right)||(p["!margins"].right=+qe.Right),isNaN(+qe.Bottom)||(p["!margins"].bottom=+qe.Bottom);break;case"displayrighttoleft":ee.Views||(ee.Views=[]),ee.Views[0]||(ee.Views[0]={}),ee.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Ke=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Ke=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Ke=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Ke=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Ke=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Ke=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Ke=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Ke=!1}break;case"smarttags":break;default:Ke=!1;break}if(Ke||l[3].match(/!\[CDATA/))break;if(!f[f.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+f.join("|");if(f[f.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?NG(L,pe,q,r.slice(F,l.index)):(q=l,F=l.index+l[0].length);break}if(n.WTF)throw"Unrecognized tag: "+l[3]+"|"+f.join("|")}var He={};return!n.bookSheets&&!n.bookProps&&(He.Sheets=d),He.SheetNames=g,He.Workbook=ee,He.SSF=fr(_t),He.Props=V,He.Custprops=L,He}function my(t,e){switch(t_(e=e||{}),e.type||"base64"){case"base64":return K1(di(t),e);case"binary":case"buffer":case"file":return K1(t,e);case"array":return K1(zu(t),e)}}function OG(t){var e={},n=t.content;if(n.l=28,e.AnsiUserType=n.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=X7(n),n.length-n.l<=4)return e;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,e.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=J7(n),r=n.read_shift(4),r==0||r>40))return e;n.l-=4,e.Reserved2=n.read_shift(0,"lpwstr")}var FG=[60,1084,2066,2165,2175];function UG(t,e,n,r,i){var s=r,o=[],l=n.slice(n.l,n.l+s);if(i&&i.enc&&i.enc.insitu&&l.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(l)}o.push(l),n.l+=s;for(var f=ga(n,n.l),c=gy[f],d=0;c!=null&&FG.indexOf(f)>-1;)s=ga(n,n.l+2),d=n.l+4,f==2066?d+=4:(f==2165||f==2175)&&(d+=12),l=n.slice(d,n.l+4+s),o.push(l),n.l+=4+s,c=gy[f=ga(n,n.l)];var g=ho(o);lr(g,0);var p=0;g.lens=[];for(var x=0;x<o.length;++x)g.lens.push(p),p+=o[x].length;if(g.length<r)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+g.length+" < "+r;return e.f(g,g.length,i)}function _s(t,e,n){if(t.t!=="z"&&t.XF){var r=0;try{r=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=_t[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||$u[t.v]:r===0||r=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=g0(t.v):t.w=Nu(t.v):t.w=Mi(r,t.v,{date1904:!!n,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&t.t=="n"&&bc(_t[r]||String(r))){var i=bu(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Cd(t,e,n){return{v:t,ixfe:e,t:n}}function VG(t,e){var n={opts:{}},r={},i=e.dense?[]:{},s={},o={},l=null,f=[],c="",d={},g,p="",x,_,b,C,I={},D=[],A,P,M=[],U=[],N={Sheets:[],WBProps:{date1904:!1},Views:[{}]},k={},R=function(ht){return ht<8?Su[ht]:ht<64&&U[ht-8]||Su[ht]},V=function(ht,Ut,nn){var St=Ut.XF.data;if(!(!St||!St.patternType||!nn||!nn.cellStyles)){Ut.s={},Ut.s.patternType=St.patternType;var rn;(rn=_0(R(St.icvFore)))&&(Ut.s.fgColor={rgb:rn}),(rn=_0(R(St.icvBack)))&&(Ut.s.bgColor={rgb:rn})}},L=function(ht,Ut,nn){if(!(G>1)&&!(nn.sheetRows&&ht.r>=nn.sheetRows)){if(nn.cellStyles&&Ut.XF&&Ut.XF.data&&V(ht,Ut,nn),delete Ut.ixfe,delete Ut.XF,g=ht,p=gt(ht),(!o||!o.s||!o.e)&&(o={s:{r:0,c:0},e:{r:0,c:0}}),ht.r<o.s.r&&(o.s.r=ht.r),ht.c<o.s.c&&(o.s.c=ht.c),ht.r+1>o.e.r&&(o.e.r=ht.r+1),ht.c+1>o.e.c&&(o.e.c=ht.c+1),nn.cellFormula&&Ut.f){for(var St=0;St<D.length;++St)if(!(D[St][0].s.c>ht.c||D[St][0].s.r>ht.r)&&!(D[St][0].e.c<ht.c||D[St][0].e.r<ht.r)){Ut.F=Ft(D[St][0]),(D[St][0].s.c!=ht.c||D[St][0].s.r!=ht.r)&&delete Ut.f,Ut.f&&(Ut.f=""+_r(D[St][1],o,ht,X,F));break}}nn.dense?(i[ht.r]||(i[ht.r]=[]),i[ht.r][ht.c]=Ut):i[p]=Ut}},F={enc:!1,sbcch:0,snames:[],sharedf:I,arrayf:D,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(F.password=e.password);var q,ce=[],oe=[],ae=[],se=[],me=!1,X=[];X.SheetNames=F.snames,X.sharedf=F.sharedf,X.arrayf=F.arrayf,X.names=[],X.XTI=[];var ge=0,G=0,z=0,K=[],ee=[],re;F.codepage=1200,ns(1200);for(var pe=!1;t.l<t.length-1;){var ke=t.l,Re=t.read_shift(2);if(Re===0&&ge===10)break;var Ce=t.l===t.length?0:t.read_shift(2),Ne=gy[Re];if(Ne&&Ne.f){if(e.bookSheets&&ge===133&&Re!==133)break;if(ge=Re,Ne.r===2||Ne.r==12){var he=t.read_shift(2);if(Ce-=2,!F.enc&&he!==Re&&((he&255)<<8|he>>8)!==Re)throw new Error("rt mismatch: "+he+"!="+Re);Ne.r==12&&(t.l+=10,Ce-=10)}var Y={};if(Re===10?Y=Ne.f(t,Ce,F):Y=UG(Re,Ne,t,Ce,F),G==0&&[9,521,1033,2057].indexOf(ge)===-1)continue;switch(Re){case 34:n.opts.Date1904=N.WBProps.date1904=Y;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(F.enc||(t.l=0),F.enc=Y,!e.password)throw new Error("File is password-protected");if(Y.valid==null)throw new Error("Encryption scheme unsupported");if(!Y.valid)throw new Error("Password is incorrect");break;case 92:F.lastuser=Y;break;case 66:var Ie=Number(Y);switch(Ie){case 21010:Ie=1200;break;case 32768:Ie=1e4;break;case 32769:Ie=1252;break}ns(F.codepage=Ie),pe=!0;break;case 317:F.rrtabid=Y;break;case 25:F.winlocked=Y;break;case 439:n.opts.RefreshAll=Y;break;case 12:n.opts.CalcCount=Y;break;case 16:n.opts.CalcDelta=Y;break;case 17:n.opts.CalcIter=Y;break;case 13:n.opts.CalcMode=Y;break;case 14:n.opts.CalcPrecision=Y;break;case 95:n.opts.CalcSaveRecalc=Y;break;case 15:F.CalcRefMode=Y;break;case 2211:n.opts.FullCalc=Y;break;case 129:Y.fDialog&&(i["!type"]="dialog"),Y.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),Y.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:M.push(Y);break;case 430:X.push([Y]),X[X.length-1].XTI=[];break;case 35:case 547:X[X.length-1].push(Y);break;case 24:case 536:re={Name:Y.Name,Ref:_r(Y.rgce,o,null,X,F)},Y.itab>0&&(re.Sheet=Y.itab-1),X.names.push(re),X[0]||(X[0]=[],X[0].XTI=[]),X[X.length-1].push(Y),Y.Name=="_xlnm._FilterDatabase"&&Y.itab>0&&Y.rgce&&Y.rgce[0]&&Y.rgce[0][0]&&Y.rgce[0][0][0]=="PtgArea3d"&&(ee[Y.itab-1]={ref:Ft(Y.rgce[0][0][1][2])});break;case 22:F.ExternCount=Y;break;case 23:X.length==0&&(X[0]=[],X[0].XTI=[]),X[X.length-1].XTI=X[X.length-1].XTI.concat(Y),X.XTI=X.XTI.concat(Y);break;case 2196:if(F.biff<8)break;re!=null&&(re.Comment=Y[1]);break;case 18:i["!protect"]=Y;break;case 19:Y!==0&&F.WTF&&console.error("Password verifier: "+Y);break;case 133:s[Y.pos]=Y,F.snames.push(Y.name);break;case 10:{if(--G)break;if(o.e){if(o.e.r>0&&o.e.c>0){if(o.e.r--,o.e.c--,i["!ref"]=Ft(o),e.sheetRows&&e.sheetRows<=o.e.r){var Fe=o.e.r;o.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Ft(o),o.e.r=Fe}o.e.r++,o.e.c++}ce.length>0&&(i["!merges"]=ce),oe.length>0&&(i["!objects"]=oe),ae.length>0&&(i["!cols"]=ae),se.length>0&&(i["!rows"]=se),N.Sheets.push(k)}c===""?d=i:r[c]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(F.biff===8&&(F.biff={9:2,521:3,1033:4}[Re]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Y.BIFFVer]||8),F.biffguess=Y.BIFFVer==0,Y.BIFFVer==0&&Y.dt==4096&&(F.biff=5,pe=!0,ns(F.codepage=28591)),F.biff==8&&Y.BIFFVer==0&&Y.dt==16&&(F.biff=2),G++)break;if(i=e.dense?[]:{},F.biff<8&&!pe&&(pe=!0,ns(F.codepage=e.codepage||1252)),F.biff<5||Y.BIFFVer==0&&Y.dt==4096){c===""&&(c="Sheet1"),o={s:{r:0,c:0},e:{r:0,c:0}};var Ke={pos:t.l-Ce,name:c};s[Ke.pos]=Ke,F.snames.push(c)}else c=(s[ke]||{name:""}).name;Y.dt==32&&(i["!type"]="chart"),Y.dt==64&&(i["!type"]="macro"),ce=[],oe=[],F.arrayf=D=[],ae=[],se=[],me=!1,k={Hidden:(s[ke]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[Y.r]||[])[Y.c]:i[gt({c:Y.c,r:Y.r})])&&++Y.c,A={ixfe:Y.ixfe,XF:M[Y.ixfe]||{},v:Y.val,t:"n"},z>0&&(A.z=K[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),L({c:Y.c,r:Y.r},A,e);break;case 5:case 517:A={ixfe:Y.ixfe,XF:M[Y.ixfe],v:Y.val,t:Y.t},z>0&&(A.z=K[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),L({c:Y.c,r:Y.r},A,e);break;case 638:A={ixfe:Y.ixfe,XF:M[Y.ixfe],v:Y.rknum,t:"n"},z>0&&(A.z=K[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),L({c:Y.c,r:Y.r},A,e);break;case 189:for(var qe=Y.c;qe<=Y.C;++qe){var He=Y.rkrec[qe-Y.c][0];A={ixfe:He,XF:M[He],v:Y.rkrec[qe-Y.c][1],t:"n"},z>0&&(A.z=K[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),L({c:qe,r:Y.r},A,e)}break;case 6:case 518:case 1030:{if(Y.val=="String"){l=Y;break}if(A=Cd(Y.val,Y.cell.ixfe,Y.tt),A.XF=M[A.ixfe],e.cellFormula){var nt=Y.formula;if(nt&&nt[0]&&nt[0][0]&&nt[0][0][0]=="PtgExp"){var Ge=nt[0][0][1][0],We=nt[0][0][1][1],Yt=gt({r:Ge,c:We});I[Yt]?A.f=""+_r(Y.formula,o,Y.cell,X,F):A.F=((e.dense?(i[Ge]||[])[We]:i[Yt])||{}).F}else A.f=""+_r(Y.formula,o,Y.cell,X,F)}z>0&&(A.z=K[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),L(Y.cell,A,e),l=Y}break;case 7:case 519:if(l)l.val=Y,A=Cd(Y,l.cell.ixfe,"s"),A.XF=M[A.ixfe],e.cellFormula&&(A.f=""+_r(l.formula,o,l.cell,X,F)),z>0&&(A.z=K[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),L(l.cell,A,e),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{D.push(Y);var ot=gt(Y[0].s);if(x=e.dense?(i[Y[0].s.r]||[])[Y[0].s.c]:i[ot],e.cellFormula&&x){if(!l||!ot||!x)break;x.f=""+_r(Y[1],o,Y[0],X,F),x.F=Ft(Y[0])}}break;case 1212:{if(!e.cellFormula)break;if(p){if(!l)break;I[gt(l.cell)]=Y[0],x=e.dense?(i[l.cell.r]||[])[l.cell.c]:i[gt(l.cell)],(x||{}).f=""+_r(Y[0],o,g,X,F)}}break;case 253:A=Cd(f[Y.isst].t,Y.ixfe,"s"),f[Y.isst].h&&(A.h=f[Y.isst].h),A.XF=M[A.ixfe],z>0&&(A.z=K[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),L({c:Y.c,r:Y.r},A,e);break;case 513:e.sheetStubs&&(A={ixfe:Y.ixfe,XF:M[Y.ixfe],t:"z"},z>0&&(A.z=K[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),L({c:Y.c,r:Y.r},A,e));break;case 190:if(e.sheetStubs)for(var ut=Y.c;ut<=Y.C;++ut){var st=Y.ixfe[ut-Y.c];A={ixfe:st,XF:M[st],t:"z"},z>0&&(A.z=K[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),L({c:ut,r:Y.r},A,e)}break;case 214:case 516:case 4:A=Cd(Y.val,Y.ixfe,"s"),A.XF=M[A.ixfe],z>0&&(A.z=K[A.ixfe>>8&63]),_s(A,e,n.opts.Date1904),L({c:Y.c,r:Y.r},A,e);break;case 0:case 512:G===1&&(o=Y);break;case 252:f=Y;break;case 1054:if(F.biff==4){K[z++]=Y[1];for(var bt=0;bt<z+163&&_t[bt]!=Y[1];++bt);bt>=163&&wu(Y[1],z+163)}else wu(Y[1],Y[0]);break;case 30:{K[z++]=Y;for(var dt=0;dt<z+163&&_t[dt]!=Y;++dt);dt>=163&&wu(Y,z+163)}break;case 229:ce=ce.concat(Y);break;case 93:oe[Y.cmo[0]]=F.lastobj=Y;break;case 438:F.lastobj.TxO=Y;break;case 127:F.lastobj.ImData=Y;break;case 440:for(C=Y[0].s.r;C<=Y[0].e.r;++C)for(b=Y[0].s.c;b<=Y[0].e.c;++b)x=e.dense?(i[C]||[])[b]:i[gt({c:b,r:C})],x&&(x.l=Y[1]);break;case 2048:for(C=Y[0].s.r;C<=Y[0].e.r;++C)for(b=Y[0].s.c;b<=Y[0].e.c;++b)x=e.dense?(i[C]||[])[b]:i[gt({c:b,r:C})],x&&x.l&&(x.l.Tooltip=Y[1]);break;case 28:{if(F.biff<=5&&F.biff>=2)break;x=e.dense?(i[Y[0].r]||[])[Y[0].c]:i[gt(Y[0])];var tn=oe[Y[2]];x||(e.dense?(i[Y[0].r]||(i[Y[0].r]=[]),x=i[Y[0].r][Y[0].c]={t:"z"}):x=i[gt(Y[0])]={t:"z"},o.e.r=Math.max(o.e.r,Y[0].r),o.s.r=Math.min(o.s.r,Y[0].r),o.e.c=Math.max(o.e.c,Y[0].c),o.s.c=Math.min(o.s.c,Y[0].c)),x.c||(x.c=[]),_={a:Y[1],t:tn.TxO.t},x.c.push(_)}break;case 2173:oq(M[Y.ixfe],Y.ext);break;case 125:{if(!F.cellStyles)break;for(;Y.e>=Y.s;)ae[Y.e--]={width:Y.w/256,level:Y.level||0,hidden:!!(Y.flags&1)},me||(me=!0,Xv(Y.w/256)),dc(ae[Y.e+1])}break;case 520:{var wt={};Y.level!=null&&(se[Y.r]=wt,wt.level=Y.level),Y.hidden&&(se[Y.r]=wt,wt.hidden=!0),Y.hpt&&(se[Y.r]=wt,wt.hpt=Y.hpt,wt.hpx=T0(Y.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Zf(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[Re]]=Y;break;case 161:i["!margins"]||Zf(i["!margins"]={}),i["!margins"].header=Y.header,i["!margins"].footer=Y.footer;break;case 574:Y.RTL&&(N.Views[0].RTL=!0);break;case 146:U=Y;break;case 2198:q=Y;break;case 140:P=Y;break;case 442:c?k.CodeName=Y||k.name:N.WBProps.CodeName=Y||"ThisWorkbook";break}}else Ne||console.error("Missing Info for XLS Record 0x"+Re.toString(16)),t.l+=Ce}return n.SheetNames=Ms(s).sort(function(Pn,ht){return Number(Pn)-Number(ht)}).map(function(Pn){return s[Pn].name}),e.bookSheets||(n.Sheets=r),!n.SheetNames.length&&d["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=d)):n.Preamble=d,n.Sheets&&ee.forEach(function(Pn,ht){n.Sheets[n.SheetNames[ht]]["!autofilter"]=Pn}),n.Strings=f,n.SSF=fr(_t),F.enc&&(n.Encryption=F.enc),q&&(n.Themes=q),n.Metadata={},P!==void 0&&(n.Metadata.Country=P),X.names.length>0&&(N.Names=X.names),n.Workbook=N,n}var PS={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function BG(t,e,n){var r=Ot.find(t,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=xS(r,rU,PS.DSI);for(var s in i)e[s]=i[s]}catch(c){if(n.WTF)throw c}var o=Ot.find(t,"/!SummaryInformation");if(o&&o.size>0)try{var l=xS(o,iU,PS.SI);for(var f in l)e[f]==null&&(e[f]=l[f])}catch(c){if(n.WTF)throw c}e.HeadingPairs&&e.TitlesOfParts&&(W6(e.HeadingPairs,e.TitlesOfParts,e,n),delete e.HeadingPairs,delete e.TitlesOfParts)}function Rk(t,e){e||(e={}),t_(e),s6(),e.codepage&&Mv(e.codepage);var n,r;if(t.FullPaths){if(Ot.find(t,"/encryption"))throw new Error("File is password-protected");n=Ot.find(t,"!CompObj"),r=Ot.find(t,"/Workbook")||Ot.find(t,"/Book")}else{switch(e.type){case"base64":t=es(di(t));break;case"binary":t=es(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}lr(t,0),r={content:t}}var i,s;if(n&&OG(n),e.bookProps&&!e.bookSheets)i={};else{var o=Pt?"buffer":"array";if(r&&r.content)i=VG(r.content,e);else if((s=Ot.find(t,"PerfectOffice_MAIN"))&&s.content)i=Jf.to_workbook(s.content,(e.type=o,e));else if((s=Ot.find(t,"NativeContent_MAIN"))&&s.content)i=Jf.to_workbook(s.content,(e.type=o,e));else throw(s=Ot.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Ot.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=Sq(t))}var l={};return t.FullPaths&&BG(t,l,e),i.Props=i.Custprops=l,e.bookFiles&&(i.cfb=t),i}var Ip={0:{f:Tz},1:{f:Sz},2:{f:Pz},3:{f:kz},4:{f:Cz},5:{f:Mz},6:{f:Fz},7:{f:Nz},8:{f:Hz},9:{f:qz},10:{f:Vz},11:{f:Bz},12:{f:Az},13:{f:Lz},14:{f:Rz},15:{f:Iz},16:{f:Sk},17:{f:Uz},18:{f:Dz},19:{f:Gv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:mG},40:{},42:{},43:{f:VB},44:{f:UB},45:{f:BB},46:{f:HB},47:{f:qB},48:{},49:{f:z7},50:{},51:{f:lq},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:sk},62:{f:Oz},63:{f:pq},64:{f:Jz},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Cr,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Xz},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:wz},148:{f:Ez,p:16},151:{f:jz},152:{},153:{f:dG},154:{},155:{},156:{f:hG},157:{},158:{},159:{T:1,f:iB},160:{T:-1},161:{T:1,f:ju},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:zz},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:uq},336:{T:-1},337:{f:cq,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:fy},357:{},358:{},359:{},360:{T:1},361:{},362:{f:ik},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:$z},427:{f:Wz},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Yz},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:bz},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Gz},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:fy},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Eq},633:{T:1},634:{T:-1},635:{T:1,f:Tq},636:{T:-1},637:{f:j7},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:rG},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Qz},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},gy={6:{f:$1},10:{f:ao},12:{f:zn},13:{f:zn},14:{f:Dn},15:{f:Dn},16:{f:Er},17:{f:Dn},18:{f:Dn},19:{f:zn},20:{f:TS},21:{f:TS},23:{f:ik},24:{f:bS},25:{f:Dn},26:{},27:{},28:{f:vV},29:{},34:{f:Dn},35:{f:ES},38:{f:Er},39:{f:Er},40:{f:Er},41:{f:Er},42:{f:Dn},43:{f:Dn},47:{f:bB},49:{f:eV},51:{f:zn},60:{},61:{f:JU},64:{f:Dn},65:{f:ZU},66:{f:zn},77:{},80:{},81:{},82:{},85:{f:zn},89:{},90:{},91:{},92:{f:zU},93:{f:TV},94:{},95:{f:Dn},96:{},97:{},99:{f:Dn},125:{f:sk},128:{f:cV},129:{f:GU},130:{f:zn},131:{f:Dn},132:{f:Dn},133:{f:jU},134:{},140:{f:CV},141:{f:zn},144:{},146:{f:kV},151:{},152:{},153:{},154:{},155:{},156:{f:zn},157:{},158:{},160:{f:PV},161:{f:NV},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:aV},190:{f:oV},193:{f:ao},197:{},198:{},199:{},200:{},201:{},202:{f:Dn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:zn},220:{},221:{f:Dn},222:{},224:{f:lV},225:{f:HU},226:{f:ao},227:{},229:{f:_V},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:$U},253:{f:tV},255:{f:WU},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Q6},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Dn},353:{f:ao},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:hV},431:{f:Dn},432:{},433:{},434:{},437:{},438:{f:wV},439:{f:Dn},440:{f:SV},441:{},442:{f:B0},443:{},444:{f:zn},445:{},446:{},448:{f:ao},449:{f:XU,r:2},450:{f:ao},512:{f:vS},513:{f:MV},515:{f:fV},516:{f:nV},517:{f:_S},519:{f:LV},520:{f:KU},523:{},545:{f:wS},549:{f:yS},566:{},574:{f:QU},638:{f:sV},659:{},1048:{},1054:{f:rV},1084:{},1212:{f:gV},2048:{f:AV},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:wd},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:ao},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:RV,r:12},2173:{f:aq,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Dn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:mV,r:12},2197:{},2198:{f:eq,r:12},2199:{},2200:{},2201:{},2202:{f:xV,r:12},2203:{f:ao},2204:{},2205:{},2206:{},2207:{},2211:{f:YU},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:zn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:DV},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:IV},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:vS},1:{},2:{f:VV},3:{f:UV},4:{f:FV},5:{f:_S},7:{f:BV},8:{},9:{f:wd},11:{},22:{f:zn},30:{f:iV},31:{},32:{},33:{f:wS},36:{},37:{f:yS},50:{f:qV},62:{},52:{},67:{},68:{f:zn},69:{},86:{},126:{},127:{f:OV},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:HV},223:{},234:{},354:{},421:{},518:{f:$1},521:{f:wd},536:{f:bS},547:{f:ES},561:{},579:{},1030:{f:$1},1033:{f:wd},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Wi(t,e,n,r){var i=e;if(!isNaN(i)){var s=(n||[]).length||0,o=t.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&V6(n)&&t.push(n)}}function LS(t,e){var n=e||{},r=n.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),o=i.index,l=s&&s.index||t.length,f=f7(t.slice(o,l),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,d=0,g=0,p=0,x={s:{r:1e7,c:1e7},e:{r:0,c:0}},_=[];for(o=0;o<f.length;++o){var b=f[o].trim(),C=b.slice(0,3).toLowerCase();if(C=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}d=0;continue}if(!(C!="<td"&&C!="<th")){var I=b.split(/<\/t[dh]>/i);for(l=0;l<I.length;++l){var D=I[l].trim();if(D.match(/<t[dh]/i)){for(var A=D,P=0;A.charAt(0)=="<"&&(P=A.indexOf(">"))>-1;)A=A.slice(P+1);for(var M=0;M<_.length;++M){var U=_[M];U.s.c==d&&U.s.r<c&&c<=U.e.r&&(d=U.e.c+1,M=-1)}var N=ft(D.slice(0,D.indexOf(">")));p=N.colspan?+N.colspan:1,((g=+N.rowspan)>1||p>1)&&_.push({s:{r:c,c:d},e:{r:c+(g||1)-1,c:d+p-1}});var k=N.t||N["data-t"]||"";if(!A.length){d+=p;continue}if(A=A6(A),x.s.r>c&&(x.s.r=c),x.e.r<c&&(x.e.r=c),x.s.c>d&&(x.s.c=d),x.e.c<d&&(x.e.c=d),!A.length){d+=p;continue}var R={t:"s",v:A};n.raw||!A.trim().length||k=="s"||(A==="TRUE"?R={t:"b",v:!0}:A==="FALSE"?R={t:"b",v:!1}:isNaN(as(A))?isNaN(hc(A).getDate())||(R={t:"d",v:nr(A)},n.cellDates||(R={t:"n",v:Ur(R.v)}),R.z=n.dateNF||_t[14]):R={t:"n",v:as(A)}),n.dense?(r[c]||(r[c]=[]),r[c][d]=R):r[gt({r:c,c:d})]=R,d+=p}}}}return r["!ref"]=Ft(x),_.length&&(r["!merges"]=_),r}function qG(t,e,n,r){for(var i=t["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var l=0,f=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>o)&&!(i[c].e.r<n||i[c].e.c<o)){if(i[c].s.r<n||i[c].s.c<o){l=-1;break}l=i[c].e.r-i[c].s.r+1,f=i[c].e.c-i[c].s.c+1;break}if(!(l<0)){var d=gt({r:n,c:o}),g=r.dense?(t[n]||[])[o]:t[d],p=g&&g.v!=null&&(g.h||Vv(g.w||(ba(g),g.w)||""))||"",x={};l>1&&(x.rowspan=l),f>1&&(x.colspan=f),r.editable?p='<span contenteditable="true">'+p+"</span>":g&&(x["data-t"]=g&&g.t||"z",g.v!=null&&(x["data-v"]=g.v),g.z!=null&&(x["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+g.l.Target+'">'+p+"</a>")),x.id=(r.id||"sjs")+"-"+d,s.push(C7("td",p,x))}}var _="<tr>";return _+s.join("")+"</tr>"}var HG='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',zG="</body></html>";function GG(t,e){var n=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return Ho(LS(n[0],e),e);var r=r_();return n.forEach(function(i,s){i_(r,LS(i,e),"Sheet"+(s+1))}),r}function jG(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function $G(t,e){var n=e||{},r=n.header!=null?n.header:HG,i=n.footer!=null?n.footer:zG,s=[r],o=wc(t["!ref"]);n.dense=Array.isArray(t),s.push(jG(t,o,n));for(var l=o.s.r;l<=o.e.r;++l)s.push(qG(t,o,l,n));return s.push("</table>"+i),s.join("")}function Nk(t,e,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?Lr(r.origin):r.origin;i=o.r,s=o.c}var l=e.getElementsByTagName("tr"),f=Math.min(r.sheetRows||1e7,l.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var d=wc(t["!ref"]);c.s.r=Math.min(c.s.r,d.s.r),c.s.c=Math.min(c.s.c,d.s.c),c.e.r=Math.max(c.e.r,d.e.r),c.e.c=Math.max(c.e.c,d.e.c),i==-1&&(c.e.r=i=d.e.r+1)}var g=[],p=0,x=t["!rows"]||(t["!rows"]=[]),_=0,b=0,C=0,I=0,D=0,A=0;for(t["!cols"]||(t["!cols"]=[]);_<l.length&&b<f;++_){var P=l[_];if(OS(P)){if(r.display)continue;x[b]={hidden:!0}}var M=P.children;for(C=I=0;C<M.length;++C){var U=M[C];if(!(r.display&&OS(U))){var N=U.hasAttribute("data-v")?U.getAttribute("data-v"):U.hasAttribute("v")?U.getAttribute("v"):A6(U.innerHTML),k=U.getAttribute("data-z")||U.getAttribute("z");for(p=0;p<g.length;++p){var R=g[p];R.s.c==I+s&&R.s.r<b+i&&b+i<=R.e.r&&(I=R.e.c+1-s,p=-1)}A=+U.getAttribute("colspan")||1,((D=+U.getAttribute("rowspan")||1)>1||A>1)&&g.push({s:{r:b+i,c:I+s},e:{r:b+i+(D||1)-1,c:I+s+(A||1)-1}});var V={t:"s",v:N},L=U.getAttribute("data-t")||U.getAttribute("t")||"";N!=null&&(N.length==0?V.t=L||"z":r.raw||N.trim().length==0||L=="s"||(N==="TRUE"?V={t:"b",v:!0}:N==="FALSE"?V={t:"b",v:!1}:isNaN(as(N))?isNaN(hc(N).getDate())||(V={t:"d",v:nr(N)},r.cellDates||(V={t:"n",v:Ur(V.v)}),V.z=r.dateNF||_t[14]):V={t:"n",v:as(N)})),V.z===void 0&&k!=null&&(V.z=k);var F="",q=U.getElementsByTagName("A");if(q&&q.length)for(var ce=0;ce<q.length&&!(q[ce].hasAttribute("href")&&(F=q[ce].getAttribute("href"),F.charAt(0)!="#"));++ce);F&&F.charAt(0)!="#"&&(V.l={Target:F}),r.dense?(t[b+i]||(t[b+i]=[]),t[b+i][I+s]=V):t[gt({c:I+s,r:b+i})]=V,c.e.c<I+s&&(c.e.c=I+s),I+=A}}++b}return g.length&&(t["!merges"]=(t["!merges"]||[]).concat(g)),c.e.r=Math.max(c.e.r,b-1+i),t["!ref"]=Ft(c),b>=f&&(t["!fullref"]=Ft((c.e.r=l.length-_+b-1+i,c))),t}function Dk(t,e){var n=e||{},r=n.dense?[]:{};return Nk(r,t,e)}function WG(t,e){return Ho(Dk(t,e),e)}function OS(t){var e="",n=KG(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function KG(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function YG(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
    +`),n=Vt(e.replace(/<[^>]*>/g,""));return[n]}var FS={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Mk(t,e){var n=e||{},r=Bv(t),i=[],s,o,l={name:""},f="",c=0,d,g,p={},x=[],_=n.dense?[]:{},b,C,I={value:""},D="",A=0,P=[],M=-1,U=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},k=0,R={},V=[],L={},F=0,q=0,ce=[],oe=1,ae=1,se=[],me={Names:[]},X={},ge=["",""],G=[],z={},K="",ee=0,re=!1,pe=!1,ke=0;for(y0.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");b=y0.exec(r);)switch(b[3]=b[3].replace(/_.*$/,"")){case"table":case"":b[1]==="/"?(N.e.c>=N.s.c&&N.e.r>=N.s.r?_["!ref"]=Ft(N):_["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=N.e.r&&(_["!fullref"]=_["!ref"],N.e.r=n.sheetRows-1,_["!ref"]=Ft(N)),V.length&&(_["!merges"]=V),ce.length&&(_["!rows"]=ce),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),x.push(d.name),p[d.name]=_,pe=!1):b[0].charAt(b[0].length-2)!=="/"&&(d=ft(b[0],!1),M=U=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,_=n.dense?[]:{},V=[],ce=[],pe=!0);break;case"table-row-group":b[1]==="/"?--k:++k;break;case"table-row":case"":if(b[1]==="/"){M+=oe,oe=1;break}if(g=ft(b[0],!1),g.?M=g.-1:M==-1&&(M=0),oe=+g["number-rows-repeated"]||1,oe<10)for(ke=0;ke<oe;++ke)k>0&&(ce[M+ke]={level:k});U=-1;break;case"covered-table-cell":b[1]!=="/"&&++U,n.sheetStubs&&(n.dense?(_[M]||(_[M]=[]),_[M][U]={t:"z"}):_[gt({r:M,c:U})]={t:"z"}),D="",P=[];break;case"table-cell":case"":if(b[0].charAt(b[0].length-2)==="/")++U,I=ft(b[0],!1),ae=parseInt(I["number-columns-repeated"]||"1",10),C={t:"z",v:null},I.formula&&n.cellFormula!=!1&&(C.f=NS(Vt(I.formula))),(I.||I["value-type"])=="string"&&(C.t="s",C.v=Vt(I["string-value"]||""),n.dense?(_[M]||(_[M]=[]),_[M][U]=C):_[gt({r:M,c:U})]=C),U+=ae-1;else if(b[1]!=="/"){++U,D="",A=0,P=[],ae=1;var Re=oe?M+oe-1:M;if(U>N.e.c&&(N.e.c=U),U<N.s.c&&(N.s.c=U),M<N.s.r&&(N.s.r=M),Re>N.e.r&&(N.e.r=Re),I=ft(b[0],!1),G=[],z={},C={t:I.||I["value-type"],v:null},n.cellFormula)if(I.formula&&(I.formula=Vt(I.formula)),I["number-matrix-columns-spanned"]&&I["number-matrix-rows-spanned"]&&(F=parseInt(I["number-matrix-rows-spanned"],10)||0,q=parseInt(I["number-matrix-columns-spanned"],10)||0,L={s:{r:M,c:U},e:{r:M+F-1,c:U+q-1}},C.F=Ft(L),se.push([L,C.F])),I.formula)C.f=NS(I.formula);else for(ke=0;ke<se.length;++ke)M>=se[ke][0].s.r&&M<=se[ke][0].e.r&&U>=se[ke][0].s.c&&U<=se[ke][0].e.c&&(C.F=se[ke][1]);switch((I["number-columns-spanned"]||I["number-rows-spanned"])&&(F=parseInt(I["number-rows-spanned"],10)||0,q=parseInt(I["number-columns-spanned"],10)||0,L={s:{r:M,c:U},e:{r:M+F-1,c:U+q-1}},V.push(L)),I["number-columns-repeated"]&&(ae=parseInt(I["number-columns-repeated"],10)),C.t){case"boolean":C.t="b",C.v=_n(I["boolean-value"]);break;case"float":C.t="n",C.v=parseFloat(I.value);break;case"percentage":C.t="n",C.v=parseFloat(I.value);break;case"currency":C.t="n",C.v=parseFloat(I.value);break;case"date":C.t="d",C.v=nr(I["date-value"]),n.cellDates||(C.t="n",C.v=Ur(C.v)),C.z="m/d/yy";break;case"time":C.t="n",C.v=u7(I["time-value"])/86400,n.cellDates&&(C.t="d",C.v=pm(C.v)),C.z="HH:MM:SS";break;case"number":C.t="n",C.v=parseFloat(I.);break;default:if(C.t==="string"||C.t==="text"||!C.t)C.t="s",I["string-value"]!=null&&(D=Vt(I["string-value"]),P=[]);else throw new Error("Unsupported value type "+C.t)}}else{if(re=!1,C.t==="s"&&(C.v=D||"",P.length&&(C.R=P),re=A==0),X.Target&&(C.l=X),G.length>0&&(C.c=G,G=[]),D&&n.cellText!==!1&&(C.w=D),re&&(C.t="z",delete C.v),(!re||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=M))for(var Ce=0;Ce<oe;++Ce){if(ae=parseInt(I["number-columns-repeated"]||"1",10),n.dense)for(_[M+Ce]||(_[M+Ce]=[]),_[M+Ce][U]=Ce==0?C:fr(C);--ae>0;)_[M+Ce][U+ae]=fr(C);else for(_[gt({r:M+Ce,c:U})]=C;--ae>0;)_[gt({r:M+Ce,c:U+ae})]=fr(C);N.e.c<=U&&(N.e.c=U)}ae=parseInt(I["number-columns-repeated"]||"1",10),U+=ae-1,ae=0,C={},D="",P=[]}X={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(b[1]==="/"){if((s=i.pop())[0]!==b[3])throw"Bad state: "+s}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!0]);break;case"annotation":if(b[1]==="/"){if((s=i.pop())[0]!==b[3])throw"Bad state: "+s;z.t=D,P.length&&(z.R=P),z.a=K,G.push(z)}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!1]);K="",ee=0,D="",A=0,P=[];break;case"creator":b[1]==="/"?K=r.slice(ee,b.index):ee=b.index+b[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(b[1]==="/"){if((s=i.pop())[0]!==b[3])throw"Bad state: "+s}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!1]);D="",A=0,P=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(b[1]==="/"){if(R[l.name]=f,(s=i.pop())[0]!==b[3])throw"Bad state: "+s}else b[0].charAt(b[0].length-2)!=="/"&&(f="",l=ft(b[0],!1),i.push([b[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":o=ft(b[0],!1),f+=FS[b[3]][o.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":o=ft(b[0],!1),f+=FS[b[3]][o.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(b[0].slice(-2)==="/>")break;if(b[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":f+=r.slice(c,b.index);break}else c=b.index+b[0].length;break;case"named-range":o=ft(b[0],!1),ge=W1(o["cell-range-address"]);var Ne={Name:o.name,Ref:ge[0]+"!"+ge[1]};pe&&(Ne.Sheet=x.length),me.Names.push(Ne);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(b[1]==="/"&&(!I||!I["string-value"])){var he=YG(r.slice(A,b.index));D=(D.length>0?D+`
    +`:"")+he[0]}else ft(b[0],!1),A=b.index+b[0].length;break;case"s":break;case"database-range":if(b[1]==="/")break;try{ge=W1(ft(b[0])["target-range-address"]),p[ge[0]]["!autofilter"]={ref:ge[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(b[1]!=="/"){if(X=ft(b[0],!1),!X.href)break;X.Target=Vt(X.href),delete X.href,X.Target.charAt(0)=="#"&&X.Target.indexOf(".")>-1?(ge=W1(X.Target.slice(1)),X.Target="#"+ge[0]+"!"+ge[1]):X.Target.match(/^\.\.[\\\/]/)&&(X.Target=X.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(b[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(b)}}var Y={Sheets:p,SheetNames:x,Workbook:me};return n.bookSheets&&delete Y.Sheets,Y}function US(t,e){e=e||{},ki(t,"META-INF/manifest.xml")&&fU(Hn(t,"META-INF/manifest.xml"),e);var n=fi(t,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=Mk(dn(n),e);return ki(t,"meta.xml")&&(r.Props=$6(Hn(t,"meta.xml"))),r}function VS(t,e){return Mk(t,e)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Zv(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function xy(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):dn(zu(t))}function yy(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function BS(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function XG(t,e){for(var n=(t[e+15]&127)<<7|t[e+14]>>1,r=t[e+14]&1,i=e+13;i>=e;--i)r=r*256+t[i];return(t[e+15]&128?-r:r)*Math.pow(10,n-6176)}function E0(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function Jn(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function br(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=E0(t,n),s=i&7;i=Math.floor(i/8);var o=0,l;if(i==0)break;switch(s){case 0:{for(var f=n[0];t[n[0]++]>=128;);l=t.slice(f,n[0])}break;case 5:o=4,l=t.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,l=t.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=E0(t,n),l=t.slice(n[0],n[0]+o),n[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var c={data:l,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function e_(t,e){return(t==null?void 0:t.map(function(n){return e(n.data)}))||[]}function JG(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=E0(t,r),s=br(t.slice(r[0],r[0]+i));r[0]+=i;var o={id:Jn(s[1][0].data),messages:[]};s[2].forEach(function(l){var f=br(l.data),c=Jn(f[3][0].data);o.messages.push({meta:f,data:t.slice(r[0],r[0]+c)}),r[0]+=c}),(e=s[3])!=null&&e[0]&&(o.merge=Jn(s[3][0].data)>>>0>0),n.push(o)}return n}function QG(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=E0(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var o=e[n[0]++]>>2;if(o<60)++o;else{var l=o-59;o=e[n[0]],l>1&&(o|=e[n[0]+1]<<8),l>2&&(o|=e[n[0]+2]<<16),l>3&&(o|=e[n[0]+3]<<24),o>>>=0,o++,n[0]+=l}i.push(e.slice(n[0],n[0]+o)),n[0]+=o;continue}else{var f=0,c=0;if(s==1?(c=(e[n[0]]>>2&7)+4,f=(e[n[0]++]&224)<<3,f|=e[n[0]++]):(c=(e[n[0]++]>>2)+1,s==2?(f=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(f=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[yy(i)],f==0)throw new Error("Invalid offset 0");if(f>i[0].length)throw new Error("Invalid offset beyond length");if(c>=f)for(i.push(i[0].slice(-f)),c-=f;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-f,-f+c))}}var d=yy(i);if(d.length!=r)throw new Error("Unexpected length: ".concat(d.length," != ").concat(r));return d}function ZG(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(QG(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return yy(e)}function ej(t,e,n,r){var i=Zv(t),s=i.getUint32(4,!0),o=(r>1?12:8)+BS(s&(r>1?3470:398))*4,l=-1,f=-1,c=NaN,d=new Date(2001,0,1);s&512&&(l=i.getUint32(o,!0),o+=4),o+=BS(s&(r>1?12288:4096))*4,s&16&&(f=i.getUint32(o,!0),o+=4),s&32&&(c=i.getFloat64(o,!0),o+=8),s&64&&(d.setTime(d.getTime()+i.getFloat64(o,!0)*1e3),o+=8);var g;switch(t[2]){case 0:break;case 2:g={t:"n",v:c};break;case 3:g={t:"s",v:e[f]};break;case 5:g={t:"d",v:d};break;case 6:g={t:"b",v:c>0};break;case 7:g={t:"n",v:c/86400};break;case 8:g={t:"e",v:0};break;case 9:if(l>-1)g={t:"s",v:n[l]};else if(f>-1)g={t:"s",v:e[f]};else if(!isNaN(c))g={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return g}function tj(t,e,n){var r=Zv(t),i=r.getUint32(8,!0),s=12,o=-1,l=-1,f=NaN,c=NaN,d=new Date(2001,0,1);i&1&&(f=XG(t,s),s+=16),i&2&&(c=r.getFloat64(s,!0),s+=8),i&4&&(d.setTime(d.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(l=r.getUint32(s,!0),s+=4),i&16&&(o=r.getUint32(s,!0),s+=4);var g;switch(t[1]){case 0:break;case 2:g={t:"n",v:f};break;case 3:g={t:"s",v:e[l]};break;case 5:g={t:"d",v:d};break;case 6:g={t:"b",v:c>0};break;case 7:g={t:"n",v:c/86400};break;case 8:g={t:"e",v:0};break;case 9:if(o>-1)g={t:"s",v:n[o]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:g={t:"n",v:f};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return g}function nj(t,e,n){switch(t[0]){case 0:case 1:case 2:case 3:return ej(t,e,n,t[0]);case 5:return tj(t,e,n);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function wo(t){var e=br(t);return E0(e[1][0].data)}function qS(t,e){var n=br(e.data),r=Jn(n[1][0].data),i=n[3],s=[];return(i||[]).forEach(function(o){var l=br(o.data),f=Jn(l[1][0].data)>>>0;switch(r){case 1:s[f]=xy(l[3][0].data);break;case 8:{var c=t[wo(l[9][0].data)][0],d=br(c.data),g=t[wo(d[1][0].data)][0],p=Jn(g.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var x=br(g.data);s[f]=x[3].map(function(_){return xy(_.data)}).join("")}break}}),s}function rj(t,e){var n,r,i,s,o,l,f,c,d,g,p,x,_,b,C=br(t),I=Jn(C[1][0].data)>>>0,D=Jn(C[2][0].data)>>>0,A=((r=(n=C[8])==null?void 0:n[0])==null?void 0:r.data)&&Jn(C[8][0].data)>0||!1,P,M;if((s=(i=C[7])==null?void 0:i[0])!=null&&s.data&&e!=0)P=(l=(o=C[7])==null?void 0:o[0])==null?void 0:l.data,M=(c=(f=C[6])==null?void 0:f[0])==null?void 0:c.data;else if((g=(d=C[4])==null?void 0:d[0])!=null&&g.data&&e!=1)P=(x=(p=C[4])==null?void 0:p[0])==null?void 0:x.data,M=(b=(_=C[3])==null?void 0:_[0])==null?void 0:b.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var U=A?4:1,N=Zv(P),k=[],R=0;R<P.length/2;++R){var V=N.getUint16(R*2,!0);V<65535&&k.push([R,V])}if(k.length!=D)throw"Expected ".concat(D," cells, found ").concat(k.length);var L=[];for(R=0;R<k.length-1;++R)L[k[R][0]]=M.subarray(k[R][1]*U,k[R+1][1]*U);return k.length>=1&&(L[k[k.length-1][0]]=M.subarray(k[k.length-1][1]*U)),{R:I,cells:L}}function ij(t,e){var n,r=br(e.data),i=(n=r==null?void 0:r[7])!=null&&n[0]?Jn(r[7][0].data)>>>0>0?1:0:-1,s=e_(r[5],function(o){return rj(o,i)});return{nrows:Jn(r[4][0].data)>>>0,data:s.reduce(function(o,l){return o[l.R]||(o[l.R]=[]),l.cells.forEach(function(f,c){if(o[l.R][c])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(c));o[l.R][c]=f}),o},[])}}function sj(t,e,n){var r,i=br(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Jn(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Jn(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=Ft(s);var o=br(i[4][0].data),l=qS(t,t[wo(o[4][0].data)][0]),f=(r=o[17])!=null&&r[0]?qS(t,t[wo(o[17][0].data)][0]):[],c=br(o[3][0].data),d=0;c[1].forEach(function(g){var p=br(g.data),x=t[wo(p[2][0].data)][0],_=Jn(x.meta[1][0].data);if(_!=6002)throw new Error("6001 unexpected reference to ".concat(_));var b=ij(t,x);b.data.forEach(function(C,I){C.forEach(function(D,A){var P=gt({r:d+I,c:A}),M=nj(D,l,f);M&&(n[P]=M)})}),d+=b.nrows})}function aj(t,e){var n=br(e.data),r={"!ref":"A1"},i=t[wo(n[2][0].data)],s=Jn(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return sj(t,i[0],r),r}function oj(t,e){var n,r=br(e.data),i={name:(n=r[1])!=null&&n[0]?xy(r[1][0].data):"",sheets:[]},s=e_(r[2],wo);return s.forEach(function(o){t[o].forEach(function(l){var f=Jn(l.meta[1][0].data);f==6e3&&i.sheets.push(aj(t,l))})}),i}function uj(t,e){var n=r_(),r=br(e.data),i=e_(r[1],wo);if(i.forEach(function(s){t[s].forEach(function(o){var l=Jn(o.meta[1][0].data);if(l==2){var f=oj(t,o);f.sheets.forEach(function(c,d){i_(n,c,d==0?f.name:f.name+"_"+d,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function Y1(t){var e,n,r,i,s={},o=[];if(t.FullPaths.forEach(function(f){if(f.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(f){if(f.name.match(/\.iwa$/)){var c;try{c=ZG(f.content)}catch(g){return console.log("?? "+f.content.length+" "+(g.message||g))}var d;try{d=JG(c)}catch(g){return console.log("## "+(g.message||g))}d.forEach(function(g){s[g.id]=g.messages,o.push(g.id)})}}),!o.length)throw new Error("File has no messages");var l=((i=(r=(n=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&Jn(s[1][0].meta[1][0].data)==1&&s[1][0];if(l||o.forEach(function(f){s[f].forEach(function(c){var d=Jn(c.meta[1][0].data)>>>0;if(d==1)if(!l)l=c;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return uj(s,l)}function lj(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function t_(t){lj([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function cj(t){return zl.WS.indexOf(t)>-1?"sheet":t==zl.CS?"chart":t==zl.DS?"dialog":t==zl.MS?"macro":t&&t.length?t:"sheet"}function fj(t,e){if(!t)return 0;try{t=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,t["!id"][r.id].Target,cj(t["!id"][r.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function hj(t,e,n,r,i,s,o,l,f,c,d,g){try{s[r]=Yf(fi(t,n,!0),e);var p=Hn(t,e),x;switch(l){case"sheet":x=yG(p,e,i,f,s[r],c,d,g);break;case"chart":if(x=vG(p,e,i,f,s[r],c,d,g),!x||!x["!drawel"])break;var _=Of(x["!drawel"].Target,e),b=hy(_),C=xq(fi(t,_,!0),Yf(fi(t,b,!0),_)),I=Of(C,_),D=hy(I);x=tG(fi(t,I,!0),I,f,Yf(fi(t,D,!0),I),c,x);break;case"macro":x=_G(p,e,i,f,s[r],c,d,g);break;case"dialog":x=TG(p,e,i,f,s[r],c,d,g);break;default:throw new Error("Unrecognized sheet type "+l)}o[r]=x;var A=[];s&&s[r]&&Ms(s[r]).forEach(function(P){var M="";if(s[r][P].Type==zl.CMNT){M=Of(s[r][P].Target,e);var U=SG(Hn(t,M,!0),M,f);if(!U||!U.length)return;AS(x,U,!1)}s[r][P].Type==zl.TCMNT&&(M=Of(s[r][P].Target,e),A=A.concat(vq(Hn(t,M,!0),f)))}),A&&A.length&&AS(x,A,!0,f.people||[])}catch(P){if(f.WTF)throw P}}function Ci(t){return t.charAt(0)=="/"?t.slice(1):t}function dj(t,e){if(x6(),e=e||{},t_(e),ki(t,"META-INF/manifest.xml")||ki(t,"objectdata.xml"))return US(t,e);if(ki(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Y1<"u"){if(t.FileIndex)return Y1(t);var n=Ot.utils.cfb_new();return Zw(t).forEach(function(ce){p7(n,ce,d7(t,ce))}),Y1(n)}throw new Error("Unsupported NUMBERS file")}if(!ki(t,"[Content_Types].xml"))throw ki(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ki(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=Zw(t),i=lU(fi(t,"[Content_Types].xml")),s=!1,o,l;if(i.workbooks.length===0&&(l="xl/workbook.xml",Hn(t,l,!0)&&i.workbooks.push(l)),i.workbooks.length===0){if(l="xl/workbook.bin",!Hn(t,l,!0))throw new Error("Could not find workbook");i.workbooks.push(l),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var f={},c={};if(!e.bookSheets&&!e.bookProps){if(Qf=[],i.sst)try{Qf=wG(Hn(t,Ci(i.sst)),i.sst,e)}catch(ce){if(e.WTF)throw ce}e.cellStyles&&i.themes.length&&(f=bG(fi(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(c=EG(Hn(t,Ci(i.style)),i.style,f,e))}i.links.map(function(ce){try{var oe=Yf(fi(t,hy(Ci(ce))),ce);return CG(Hn(t,Ci(ce)),oe,ce,e)}catch{}});var d=xG(Hn(t,Ci(i.workbooks[0])),i.workbooks[0],e),g={},p="";i.coreprops.length&&(p=Hn(t,Ci(i.coreprops[0]),!0),p&&(g=$6(p)),i.extprops.length!==0&&(p=Hn(t,Ci(i.extprops[0]),!0),p&&pU(p,g,e)));var x={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(p=fi(t,Ci(i.custprops[0]),!0),p&&(x=gU(p,e)));var _={};if((e.bookSheets||e.bookProps)&&(d.Sheets?o=d.Sheets.map(function(oe){return oe.name}):g.Worksheets&&g.SheetNames.length>0&&(o=g.SheetNames),e.bookProps&&(_.Props=g,_.Custprops=x),e.bookSheets&&typeof o<"u"&&(_.SheetNames=o),e.bookSheets?_.SheetNames:e.bookProps))return _;o={};var b={};e.bookDeps&&i.calcchain&&(b=AG(Hn(t,Ci(i.calcchain)),i.calcchain));var C=0,I={},D,A;{var P=d.Sheets;g.Worksheets=P.length,g.SheetNames=[];for(var M=0;M!=P.length;++M)g.SheetNames[M]=P[M].name}var U=s?"bin":"xml",N=i.workbooks[0].lastIndexOf("/"),k=(i.workbooks[0].slice(0,N+1)+"_rels/"+i.workbooks[0].slice(N+1)+".rels").replace(/^\//,"");ki(t,k)||(k="xl/_rels/workbook."+U+".rels");var R=Yf(fi(t,k,!0),k.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=IG(Hn(t,Ci(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=_q(Hn(t,Ci(i.people[0])),e)),R&&(R=fj(R,d.Sheets));var V=Hn(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(C=0;C!=g.Worksheets;++C){var L="sheet";if(R&&R[C]?(D="xl/"+R[C][1].replace(/[\/]?xl\//,""),ki(t,D)||(D=R[C][1]),ki(t,D)||(D=k.replace(/_rels\/.*$/,"")+R[C][1]),L=R[C][2]):(D="xl/worksheets/sheet"+(C+1-V)+"."+U,D=D.replace(/sheet0\./,"sheet.")),A=D.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(C!=e.sheets)continue e;break;case"string":if(g.SheetNames[C].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var F=!1,q=0;q!=e.sheets.length;++q)typeof e.sheets[q]=="number"&&e.sheets[q]==C&&(F=1),typeof e.sheets[q]=="string"&&e.sheets[q].toLowerCase()==g.SheetNames[C].toLowerCase()&&(F=1);if(!F)continue e}}hj(t,D,A,g.SheetNames[C],C,I,o,L,e,d,f,c)}return _={Directory:i,Workbook:d,Props:g,Custprops:x,Deps:b,Sheets:o,SheetNames:g.SheetNames,Strings:Qf,Styles:c,Themes:f,SSF:fr(_t)},e&&e.bookFiles&&(t.files?(_.keys=r,_.files=t.files):(_.keys=[],_.files={},t.FullPaths.forEach(function(ce,oe){ce=ce.replace(/^Root Entry[\/]/,""),_.keys.push(ce),_.files[ce]=t.FileIndex[oe]}))),e&&e.bookVBA&&(i.vba.length>0?_.vbaraw=Hn(t,Ci(i.vba[0]),!0):i.defaults&&i.defaults.bin===wq&&(_.vbaraw=Hn(t,"xl/vbaProject.bin",!0))),_}function pj(t,e){var n=e||{},r="Workbook",i=Ot.find(t,r);try{if(r="/!DataSpaces/Version",i=Ot.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(aB(i.content),r="/!DataSpaces/DataSpaceMap",i=Ot.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=uB(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Ot.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=lB(i.content);if(o.length!=1||o[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Ot.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);fB(i.content)}catch{}if(r="/EncryptionInfo",i=Ot.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var l=hB(i.content);if(r="/EncryptedPackage",i=Ot.find(t,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],i.content,n.password||"",n);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function n_(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=di(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function mj(t,e){return Ot.find(t,"EncryptedPackage")?pj(t,e):Rk(t,e)}function gj(t,e){var n,r=t,i=e||{};return i.type||(i.type=Pt&&Buffer.isBuffer(t)?"buffer":"base64"),n=b6(r,i),dj(n,i)}function Pk(t,e){var n=0;e:for(;n<t.length;)switch(t.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return my(t.slice(n),e);default:break e}return v0.to_workbook(t,e)}function xj(t,e){var n="",r=n_(t,e);switch(e.type){case"base64":n=di(t);break;case"binary":n=t;break;case"buffer":n=t.toString("binary");break;case"array":n=Du(t);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=dn(n)),e.type="binary",Pk(n,e)}function yj(t,e){var n=t;return e.type=="base64"&&(n=di(n)),n=m0.utils.decode(1200,n.slice(2),"str"),e.type="binary",Pk(n,e)}function vj(t){return t.match(/[^\x00-\x7F]/)?Ff(t):t}function X1(t,e,n,r){return r?(n.type="string",v0.to_workbook(t,n)):v0.to_workbook(e,n)}function kp(t,e){s6();var n=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return kp(new Uint8Array(t),(n=fr(n),n.type="array",n));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=t,i=[0,0,0,0],s=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),Zl={},n.dateNF&&(Zl.dateNF=n.dateNF),n.type||(n.type=Pt&&Buffer.isBuffer(t)?"buffer":"base64"),n.type=="file"&&(n.type=Pt?"buffer":"binary",r=a7(t),typeof Uint8Array<"u"&&!Pt&&(n.type="array")),n.type=="string"&&(s=!0,n.type="binary",n.codepage=65001,r=vj(t)),n.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var o=new ArrayBuffer(3),l=new Uint8Array(o);if(l.foo="bar",!l.foo)return n=fr(n),n.type="array",kp(Pv(r),n)}switch((i=n_(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return mj(Ot.read(r,n),n);break;case 9:if(i[1]<=8)return Rk(r,n);break;case 60:return my(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return WV(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return jV.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?gj(r,n):X1(t,r,n,s);case 239:return i[3]===60?my(r,n):X1(t,r,n,s);case 255:if(i[1]===254)return yj(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return Jf.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Jf.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return SS.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return wB.to_workbook(r,n);break;case 10:case 13:case 32:return xj(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return zV.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?SS.to_workbook(r,n):X1(t,r,n,s)}function _j(t,e,n,r,i,s,o,l){var f=hr(n),c=l.defval,d=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),g=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:n,enumerable:!1})}catch{p.__rowNum__=n}else p.__rowNum__=n;if(!o||t[n])for(var x=e.s.c;x<=e.e.c;++x){var _=o?t[n][x]:t[r[x]+f];if(_===void 0||_.t===void 0){if(c===void 0)continue;s[x]!=null&&(p[s[x]]=c);continue}var b=_.v;switch(_.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+_.t)}if(s[x]!=null){if(b==null)if(_.t=="e"&&b===null)p[s[x]]=null;else if(c!==void 0)p[s[x]]=c;else if(d&&b===null)p[s[x]]=null;else continue;else p[s[x]]=d&&(_.t!=="n"||_.t==="n"&&l.rawNumbers!==!1)?b:ba(_,b,l);b!=null&&(g=!1)}}return{row:p,isempty:g}}function vy(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],o=0,l="",f={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},d=c.range!=null?c.range:t["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof d){case"string":f=In(d);break;case"number":f=In(t["!ref"]),f.s.r=d;break;default:f=d}r>0&&(i=0);var g=hr(f.s.r),p=[],x=[],_=0,b=0,C=Array.isArray(t),I=f.s.r,D=0,A={};C&&!t[I]&&(t[I]=[]);var P=c.skipHidden&&t["!cols"]||[],M=c.skipHidden&&t["!rows"]||[];for(D=f.s.c;D<=f.e.c;++D)if(!(P[D]||{}).hidden)switch(p[D]=Yn(D),n=C?t[I][D]:t[p[D]+g],r){case 1:s[D]=D-f.s.c;break;case 2:s[D]=p[D];break;case 3:s[D]=c.header[D-f.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),l=o=ba(n,null,c),b=A[o]||0,!b)A[o]=1;else{do l=o+"_"+b++;while(A[l]);A[o]=b,A[l]=1}s[D]=l}for(I=f.s.r+i;I<=f.e.r;++I)if(!(M[I]||{}).hidden){var U=_j(t,f,I,p,r,s,C,c);(U.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(x[_++]=U.row)}return x.length=_,x}var HS=/"/g;function Tj(t,e,n,r,i,s,o,l){for(var f=!0,c=[],d="",g=hr(n),p=e.s.c;p<=e.e.c;++p)if(r[p]){var x=l.dense?(t[n]||[])[p]:t[r[p]+g];if(x==null)d="";else if(x.v!=null){f=!1,d=""+(l.rawNumbers&&x.t=="n"?x.v:ba(x,null,l));for(var _=0,b=0;_!==d.length;++_)if((b=d.charCodeAt(_))===i||b===s||b===34||l.forceQuotes){d='"'+d.replace(HS,'""')+'"';break}d=="ID"&&(d='"ID"')}else x.f!=null&&!x.F?(f=!1,d="="+x.f,d.indexOf(",")>=0&&(d='"'+d.replace(HS,'""')+'"')):d="";c.push(d)}return l.blankrows===!1&&f?null:c.join(o)}function Lk(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=In(t["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),l=r.RS!==void 0?r.RS:`
    +`,f=l.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),d="",g=[];r.dense=Array.isArray(t);for(var p=r.skipHidden&&t["!cols"]||[],x=r.skipHidden&&t["!rows"]||[],_=i.s.c;_<=i.e.c;++_)(p[_]||{}).hidden||(g[_]=Yn(_));for(var b=0,C=i.s.r;C<=i.e.r;++C)(x[C]||{}).hidden||(d=Tj(t,i,C,g,o,f,s,r),d!=null&&(r.strip&&(d=d.replace(c,"")),(d||r.blankrows!==!1)&&n.push((b++?l:"")+d)));return delete r.dense,n.join("")}function Ej(t,e){e||(e={}),e.FS="	",e.RS=`
    +`;var n=Lk(t,e);return n}function bj(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=In(t["!ref"]),s="",o=[],l,f=[],c=Array.isArray(t);for(l=i.s.c;l<=i.e.c;++l)o[l]=Yn(l);for(var d=i.s.r;d<=i.e.r;++d)for(s=hr(d),l=i.s.c;l<=i.e.c;++l)if(e=o[l]+s,n=c?(t[d]||[])[l]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}f[f.length]=e+"="+r}return f}function Ok(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},o=0,l=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var f=typeof r.origin=="string"?Lr(r.origin):r.origin;o=f.r,l=f.c}var c,d={s:{c:0,r:0},e:{c:l,r:o+e.length-1+i}};if(s["!ref"]){var g=In(s["!ref"]);d.e.c=Math.max(d.e.c,g.e.c),d.e.r=Math.max(d.e.r,g.e.r),o==-1&&(o=g.e.r+1,d.e.r=o+e.length-1+i)}else o==-1&&(o=0,d.e.r=e.length-1+i);var p=r.header||[],x=0;e.forEach(function(b,C){Ms(b).forEach(function(I){(x=p.indexOf(I))==-1&&(p[x=p.length]=I);var D=b[I],A="z",P="",M=gt({c:l+x,r:o+C+i});c=b0(s,M),D&&typeof D=="object"&&!(D instanceof Date)?s[M]=D:(typeof D=="number"?A="n":typeof D=="boolean"?A="b":typeof D=="string"?A="s":D instanceof Date?(A="d",r.cellDates||(A="n",D=Ur(D)),P=r.dateNF||_t[14]):D===null&&r.nullError&&(A="e",D=0),c?(c.t=A,c.v=D,delete c.w,delete c.R,P&&(c.z=P)):s[M]=c={t:A,v:D},P&&(c.z=P))})}),d.e.c=Math.max(d.e.c,l+p.length-1);var _=hr(o);if(i)for(x=0;x<p.length;++x)s[Yn(x+l)+_]={t:"s",v:p[x]};return s["!ref"]=Ft(d),s}function wj(t,e){return Ok(null,t,e)}function b0(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Lr(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?b0(t,gt(e)):b0(t,gt({r:e,c:n||0}))}function Sj(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function r_(){return{SheetNames:[],Sheets:{}}}function i_(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=o+i)!=-1;++i);}if(lG(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function Aj(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=Sj(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function Cj(t,e){return t.z=e,t}function Fk(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function Ij(t,e,n){return Fk(t,"#"+e,n)}function kj(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function Rj(t,e,n,r){for(var i=typeof e!="string"?e:In(e),s=typeof e=="string"?e:Ft(e),o=i.s.r;o<=i.e.r;++o)for(var l=i.s.c;l<=i.e.c;++l){var f=b0(t,o,l);f.t="n",f.F=s,delete f.v,o==i.s.r&&l==i.s.c&&(f.f=n,r&&(f.D=!0))}return t}var Uk={encode_col:Yn,encode_row:hr,encode_cell:gt,encode_range:Ft,decode_col:zv,decode_row:Hv,split_cell:H7,decode_cell:Lr,decode_range:wc,format_cell:ba,sheet_add_aoa:q6,sheet_add_json:Ok,sheet_add_dom:Nk,aoa_to_sheet:Sc,json_to_sheet:wj,table_to_sheet:Dk,table_to_book:WG,sheet_to_csv:Lk,sheet_to_txt:Ej,sheet_to_json:vy,sheet_to_html:$G,sheet_to_formulae:bj,sheet_to_row_object_array:vy,sheet_get_cell:b0,book_new:r_,book_append_sheet:i_,book_set_sheet_visibility:Aj,cell_set_number_format:Cj,cell_set_hyperlink:Fk,cell_set_internal_link:Ij,cell_add_comment:kj,sheet_set_array_formula:Rj,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Vk=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z"})}),Nj=()=>{const[t,e]=fe.useState([]),[n,r]=fe.useState(""),[i,s]=fe.useState(!1),[o,l]=fe.useState([]),[f,c]=fe.useState(""),d=_=>{const b=Object.entries(_).reduce((D,[A,P])=>{if(P==null)return D;const M=A.toString().trim().toLowerCase().replace(/[^a-z0-9]/g,"");return D[M]=String(P).trim(),D},{}),C={email:"email",mail:"email",fullname:"fullName",name:"fullName",hovaten:"fullName",classid:"classId",class:"classId",malop:"classId",lop:"classId"},I={};return Object.entries(C).forEach(([D,A])=>{b[D]&&(I[A]=b[D])}),I},g=_=>{const b=_.filter(I=>I&&typeof I=="object").map(I=>d(I)),C=b.filter(I=>!!(I.email&&I.fullName&&I.classId));if(e(C),C.length===0&&_.length>0){c("File khng cha d liu hp l. Hy chc chn file c cc ct 'email', 'fullName', v 'classId' hoc cc tn tng ng.");return}if(C.length<b.length){c("Mt s dng b b qua do thiu thng tin email, h tn hoc m lp.");return}c("")},p=_=>{var C,I;const b=(C=_.target.files)==null?void 0:C[0];if(b){r(b.name),e([]),l([]),c("");const D=new FileReader,A=(I=b.name.split(".").pop())==null?void 0:I.toLowerCase();A==="csv"?(D.onload=P=>{var M;kF.parse((M=P.target)==null?void 0:M.result,{header:!0,skipEmptyLines:!0,complete:U=>g(U.data),error:U=>c(`Li khi c file CSV: ${U.message}`)})},D.readAsText(b)):A==="xlsx"||A==="xls"?(D.onload=P=>{var M;try{const U=kp((M=P.target)==null?void 0:M.result,{type:"binary"}),N=U.SheetNames[0],k=U.Sheets[N],R=Uk.sheet_to_json(k);g(R)}catch(U){c(`Li khi c file Excel: ${U.message}`)}},D.readAsBinaryString(b)):c("nh dng file khng c h tr. Vui lng chn file CSV hoc Excel (.xlsx, .xls).")}},x=async()=>{if(t.length===0){c("Khng c d liu hc sinh hp l  nhp.");return}s(!0),l([]),c("");try{const C=(await t6(sF,"bulkCreateUsers")({students:t})).data;l(C.results||[])}catch(_){console.error("Li khi gi Cloud Function:",_),c(`Li nghim trng khi thc thi: ${_.message}`)}finally{s(!1)}};return w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mt-4",children:[w.jsx("h3",{className:"text-xl font-bold mb-4",children:"Nhp Hc sinh t File"}),w.jsxs("p",{className:"mb-4 text-sm text-gray-600",children:["Chn file ",w.jsx("strong",{children:"CSV"})," hoc ",w.jsx("strong",{children:"Excel"})," c cc ct: ",w.jsx("strong",{children:"email"}),", ",w.jsx("strong",{children:"fullName"}),", v ",w.jsx("strong",{children:"classId"}),". Mt khu s c to t ng v ging vi email."]}),w.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[w.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-full px-4 py-6 bg-white text-blue-500 rounded-lg shadow-lg tracking-wide uppercase border border-blue-500 cursor-pointer hover:bg-blue-500 hover:text-white",children:[w.jsx(Vk,{className:"w-8 h-8"}),w.jsx("span",{className:"mt-2 text-base leading-normal text-center",children:n||"Chn mt file"}),w.jsx("input",{type:"file",accept:".csv, .xlsx, .xls",className:"hidden",onChange:p})]}),w.jsx("button",{onClick:x,disabled:t.length===0||i,className:"flex items-center justify-center w-full h-full px-6 py-3 text-white bg-green-600 rounded-lg shadow-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:i?w.jsx(Kt,{className:"w-5 h-5"}):"Bt u Nhp"})]}),f&&w.jsx("p",{className:"text-red-500 mt-4",children:f}),t.length>0&&!i&&w.jsxs("div",{className:"mt-6",children:[w.jsxs("h4",{className:"font-bold",children:["D liu xem trc (",t.length," hc sinh):"]}),w.jsxs("div",{className:"max-h-60 overflow-y-auto mt-2 border rounded-md",children:[w.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"H v Tn"}),w.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"M Lp"})]})}),w.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.slice(0,10).map((_,b)=>w.jsxs("tr",{children:[w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:_.email}),w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:_.fullName}),w.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm",children:_.classId})]},b))})]}),t.length>10&&w.jsxs("p",{className:"text-center text-sm text-gray-500 p-2",children:["... v ",t.length-10," hc sinh khc."]})]})]}),o.length>0&&w.jsxs("div",{className:"mt-6",children:[w.jsx("h4",{className:"font-bold",children:"Kt qu nhp liu:"}),w.jsx("div",{className:"max-h-60 overflow-y-auto mt-2 border rounded-md",children:w.jsx("ul",{className:"divide-y divide-gray-200",children:o.map((_,b)=>w.jsxs("li",{className:`p-3 flex justify-between items-center ${_.success?"bg-green-50":"bg-red-50"}`,children:[w.jsx("span",{className:"text-sm",children:_.email}),w.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-full ${_.success?"bg-green-200 text-green-800":"bg-red-200 text-red-800"}`,children:_.success?"Thnh cng":"Tht bi"}),!_.success&&w.jsx("p",{className:"text-xs text-red-600 w-1/2 text-right",children:_.message})]},b))})})]})]})},Fl=10,Dj=()=>{const[t,e]=fe.useState([]),[n,r]=fe.useState([]),[i,s]=fe.useState(!0),[o,l]=fe.useState(""),[f,c]=fe.useState(1),[d,g]=fe.useState(1),[p,x]=fe.useState(!1),[_,b]=fe.useState(null),[C,I]=fe.useState(!1),[D,A]=fe.useState(null),[P,M]=fe.useState(""),[U,N]=fe.useState(""),k=fe.useCallback(async()=>{s(!0),l("");try{const X=await O0();e(X.students),r(X.classes)}catch(X){console.error("Failed to fetch admin data:",X),l("Khng th ti d liu. Vui lng kim tra kt ni mng v th li.")}finally{s(!1)}},[]);fe.useEffect(()=>{k()},[]);const R=Math.ceil(t.length/Fl),V=fe.useMemo(()=>{const X=(f-1)*Fl;return t.slice(X,X+Fl)},[t,f]),L=Math.ceil(n.length/Fl),F=fe.useMemo(()=>{const X=(d-1)*Fl;return n.slice(X,X+Fl)},[n,d]),q=()=>{b(null),x(!0)},ce=X=>{b(X),x(!0)},oe=X=>{M("Xc nhn xa lp hc"),N("Bn c chc chn mun xa lp hc ny khng?"),A(()=>async()=>{try{alert("Chc nng xa tm thi b v hiu ha trong bn demo ny.")}catch(ge){console.error("Failed to delete class:",ge),alert(`Khng th xa lp hc: ${ge.message}`)}}),I(!0)},ae=()=>{x(!1),b(null)},se=()=>{ae(),k()},me=fe.useMemo(()=>new Map(n.map(X=>[X.id,X.name])),[n]);return i?w.jsxs("div",{className:"flex justify-center items-center h-64",children:[w.jsx(Kt,{}),w.jsx("p",{className:"ml-4 text-gray-600",children:"ang ti d liu..."})]}):o?w.jsx("div",{className:"text-center bg-rose-50 border border-rose-200 text-rose-800 p-4 rounded-lg",children:o}):w.jsxs("div",{className:"space-y-12",children:[p&&w.jsx(wF,{isOpen:p,onClose:ae,onSave:se,initialClass:_}),w.jsx(Nv,{isOpen:C,onClose:()=>I(!1),onConfirm:D,title:P,message:w.jsx("p",{children:U})}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Qun l hc vin"}),w.jsx("button",{className:"bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 font-semibold py-2 px-4 rounded-lg text-sm",children:"Xut CSV"})]}),w.jsx(Nj,{}),w.jsxs("div",{className:"mt-8",children:[" ",w.jsx("h4",{className:"text-xl font-bold text-gray-800 mb-4",children:"Danh sch hc vin hin ti"}),w.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 hidden md:block",children:w.jsxs("table",{className:"min-w-full bg-white",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"H v tn"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lp"})]})}),w.jsx("tbody",{className:"divide-y divide-gray-200",children:V.map(X=>w.jsxs("tr",{className:"hover:bg-gray-50",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:X.name}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:X.email}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:X.classIds&&X.classIds.length>0?X.classIds.map(ge=>me.get(ge)||ge).join(", "):"N/A"})]},X.id))})]})}),w.jsx("div",{className:"space-y-3 md:hidden",children:V.map(X=>w.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-200",children:[w.jsx("p",{className:"font-bold text-gray-900 truncate",children:X.name}),w.jsx("div",{className:"mt-2 pt-2 border-t text-sm space-y-1",children:w.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[w.jsx("span",{className:"text-gray-500 col-span-1",children:"Email:"}),w.jsx("span",{className:"text-gray-800 col-span-2 truncate",children:X.email}),w.jsx("span",{className:"text-gray-500 col-span-1",children:"Lp:"}),w.jsx("span",{className:"text-gray-800 font-medium col-span-2",children:X.classIds&&X.classIds.length>0?X.classIds.map(ge=>me.get(ge)||ge).join(", "):"N/A"})]})})]},X.id))}),w.jsx(fc,{currentPage:f,totalPages:R,onPageChange:c})]})]}),w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Qun l lp hc"}),w.jsxs("button",{onClick:q,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center transition-colors",children:[w.jsx(F0,{}),w.jsx("span",{className:"ml-2",children:"Thm lp hc mi"})]})]}),w.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 hidden md:block",children:w.jsxs("table",{className:"min-w-full bg-white",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tn lp"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hnh ng"})]})}),w.jsx("tbody",{className:"divide-y divide-gray-200",children:F.map(X=>w.jsxs("tr",{className:"hover:bg-gray-50",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:X.name}),w.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 space-x-2",children:[w.jsx("button",{onClick:()=>ce(X),className:"p-2 text-gray-500 hover:text-indigo-600 hover:bg-gray-100 rounded-full transition-colors",title:"Sa lp hc",children:w.jsx(xp,{})}),w.jsx("button",{onClick:()=>oe(X.id),className:"p-2 text-gray-500 hover:text-rose-600 hover:bg-gray-100 rounded-full transition-colors",title:"Xa lp hc",children:w.jsx(p0,{})})]})]},X.id))})]})}),w.jsx("div",{className:"space-y-3 md:hidden",children:F.map(X=>w.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-200 flex justify-between items-center",children:[w.jsx("p",{className:"font-bold text-gray-900",children:X.name}),w.jsxs("div",{className:"space-x-2 flex-shrink-0",children:[w.jsx("button",{onClick:()=>ce(X),className:"p-2 text-gray-500 hover:text-indigo-600 hover:bg-gray-100 rounded-full transition-colors",title:"Sa lp hc",children:w.jsx(xp,{})}),w.jsx("button",{onClick:()=>oe(X.id),className:"p-2 text-gray-500 hover:text-rose-600 hover:bg-gray-100 rounded-full transition-colors",title:"Xa lp hc",children:w.jsx(p0,{})})]})]},X.id))}),w.jsx(fc,{currentPage:d,totalPages:L,onPageChange:g})]})]})},zS=t=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:[w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),Rp=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),J1=10,GS=({onViewProctoringReport:t})=>{const[e,n]=fe.useState([]),[r,i]=fe.useState(!0),[s,o]=fe.useState(""),[l,f]=fe.useState("completed_at"),[c,d]=fe.useState("desc"),[g,p]=fe.useState(1),x=fe.useCallback(async()=>{i(!0),o("");try{const[A,P]=await Promise.all([_F(),O0()]),M=new Map(P.students.map(R=>[R.id,R])),U=new Map(P.exams.map(R=>[R.id,R])),N=new Map(P.classes.map(R=>[R.id,R.name])),k=A.map(R=>{const V=M.get(R.userId),L=U.get(R.examId),F=((V==null?void 0:V.classIds)||[]).map(q=>N.get(q)).filter(Boolean).join(", ");return{...R,userName:(V==null?void 0:V.name)||"Unknown User",examTitle:(L==null?void 0:L.title)||"Unknown Exam",className:F||"Unknown Class"}});n(k)}catch(A){console.error("Li khi ti kt qu:",A),o("Khng th ti d liu kt qu. Vui lng kim tra kt ni mng v th li.")}finally{i(!1)}},[]);fe.useEffect(()=>{x()},[x]);const _=fe.useMemo(()=>[...e].sort((A,P)=>{const M=A[l],U=P[l];return M===null?1:U===null?-1:M<U?c==="asc"?-1:1:M>U?c==="asc"?1:-1:0}),[e,l,c]),b=Math.ceil(_.length/J1),C=fe.useMemo(()=>{const A=(g-1)*J1;return _.slice(A,A+J1)},[_,g]),I=A=>{A===l?d(P=>P==="asc"?"desc":"asc"):(f(A),d("asc")),p(1)},D=({sortKey:A,label:P})=>w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer",onClick:()=>I(A),children:w.jsxs("div",{className:"flex items-center",children:[w.jsx("span",{children:P}),l===A&&w.jsx("span",{className:"ml-1",children:c==="asc"?"":""})]})});return w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Kt qu thi"}),w.jsx("button",{className:"bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 font-semibold py-2 px-4 rounded-lg text-sm",children:"Xut CSV"})]}),r?w.jsxs("div",{className:"flex justify-center items-center h-64",children:[w.jsx(Kt,{}),w.jsx("p",{className:"ml-4 text-gray-600",children:"ang ti kt qu..."})]}):s?w.jsx("div",{className:"text-center bg-rose-50 border border-rose-200 text-rose-800 p-4 rounded-lg",children:s}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 hidden md:block",children:w.jsxs("table",{className:"min-w-full bg-white",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{children:[w.jsx(D,{sortKey:"userName",label:"Hc vin"}),w.jsx(D,{sortKey:"examTitle",label:"Bi thi"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lp"}),w.jsx(D,{sortKey:"score",label:"im"}),w.jsx(D,{sortKey:"completed_at",label:"Ngy hon thnh"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hnh ng"})]})}),w.jsx("tbody",{className:"divide-y divide-gray-200",children:C.map(A=>w.jsxs("tr",{className:"hover:bg-gray-50",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:w.jsxs("div",{className:"flex items-center",children:[A.userName,A.reviewRequested&&w.jsx("span",{title:"Yu cu xem li",children:w.jsx(Rp,{className:"h-5 w-5 text-amber-500 ml-2"})})]})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:A.examTitle}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:A.className}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 font-semibold",children:A.score!==null?`${(A.score*100).toFixed(1)}%`:"N/A"}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:A.completed_at?new Date(A.completed_at).toLocaleString():"ang lm bi"}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:w.jsxs("button",{onClick:()=>t(A.id),className:"text-indigo-600 hover:text-indigo-800 flex items-center",title:"Xem nht k gim st",children:[w.jsx(zS,{}),w.jsx("span",{className:"ml-1",children:"Xem nht k"})]})})]},A.id))})]})}),w.jsx("div",{className:"space-y-3 md:hidden",children:C.map(A=>w.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-200 space-y-3",children:[w.jsxs("div",{className:"flex justify-between items-start gap-2",children:[w.jsxs("div",{className:"flex-1",children:[w.jsxs("p",{className:"font-bold text-gray-900 flex items-center",children:[w.jsx("span",{children:A.userName}),A.reviewRequested&&w.jsx("span",{title:"Yu cu xem li",children:w.jsx(Rp,{className:"h-5 w-5 text-amber-500 ml-2 flex-shrink-0"})})]}),w.jsx("p",{className:"text-sm text-gray-500",children:A.examTitle})]}),w.jsx("span",{className:`flex-shrink-0 font-semibold text-lg px-3 py-1 rounded-full ${A.score===null?"bg-gray-100 text-gray-800":A.score<.7?"bg-rose-100 text-rose-800":"bg-emerald-100 text-emerald-800"}`,children:A.score!==null?`${(A.score*100).toFixed(1)}%`:"N/A"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-sm pt-3 border-t",children:[w.jsx("span",{className:"text-gray-500",children:"Lp:"}),w.jsx("span",{className:"text-gray-800 font-medium",children:A.className}),w.jsx("span",{className:"text-gray-500",children:"Hon thnh:"}),w.jsx("span",{className:"text-gray-800 font-medium",children:A.completed_at?new Date(A.completed_at).toLocaleString():"ang lm bi"})]}),w.jsxs("button",{onClick:()=>t(A.id),className:"w-full text-center mt-2 bg-gray-50 hover:bg-gray-100 text-indigo-600 flex items-center justify-center py-2 rounded-md text-sm font-semibold",title:"Xem nht k gim st",children:[w.jsx(zS,{}),w.jsx("span",{className:"ml-2",children:"Xem nht k gim st"})]})]},A.id))}),w.jsx(fc,{currentPage:g,totalPages:b,onPageChange:p})]})]})};/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */let Ij,kj;function Rj(){return{geminiUrl:Ij,vertexUrl:kj}}function Nj(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const o=Rj();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(s=o.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
    + */let Mj,Pj;function Lj(){return{geminiUrl:Mj,vertexUrl:Pj}}function Oj(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const o=Lj();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(s=o.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */class $u{}function et(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function E(t,e,n){for(let s=0;s<e.length-1;s++){const o=e[s];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[l])){const f=t[l];if(Array.isArray(n))for(let c=0;c<f.length;c++){const d=f[c];E(d,e.slice(s+1),n[c])}else for(const c of f)E(c,e.slice(s+1),n)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in t||(t[l]=[{}]);const f=t[l];E(f[0],e.slice(s+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function y(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const o=t[s];return Array.isArray(o)?o.map(l=>y(l,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Dj(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),s=r.split("."),o=new Set;let l=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){l=f;break}if(l!==-1&&s.length>l)for(let f=l;f<s.length;f++){const c=s[f];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&o.add(c)}xy(t,i,s,0,o)}}function xy(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const o=s.slice(0,-2),l=t;if(o in l&&Array.isArray(l[o]))for(const f of l[o])xy(f,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,l=Object.keys(o).filter(c=>!c.startsWith("_")&&!i.has(c)),f={};for(const c of l)f[c]=o[c];for(const[c,d]of Object.entries(f)){const g=[];for(const p of n.slice(r))p==="*"?g.push(c):g.push(p);E(o,g,d)}for(const c of l)delete o[c]}}else{const o=t;s in o&&xy(o[s],e,n,r+1,i)}}/**
    + */class Ku{}function et(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function E(t,e,n){for(let s=0;s<e.length-1;s++){const o=e[s];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[l])){const f=t[l];if(Array.isArray(n))for(let c=0;c<f.length;c++){const d=f[c];E(d,e.slice(s+1),n[c])}else for(const c of f)E(c,e.slice(s+1),n)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in t||(t[l]=[{}]);const f=t[l];E(f[0],e.slice(s+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function y(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const o=t[s];return Array.isArray(o)?o.map(l=>y(l,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Fj(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),s=r.split("."),o=new Set;let l=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){l=f;break}if(l!==-1&&s.length>l)for(let f=l;f<s.length;f++){const c=s[f];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&o.add(c)}_y(t,i,s,0,o)}}function _y(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const o=s.slice(0,-2),l=t;if(o in l&&Array.isArray(l[o]))for(const f of l[o])_y(f,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,l=Object.keys(o).filter(c=>!c.startsWith("_")&&!i.has(c)),f={};for(const c of l)f[c]=o[c];for(const[c,d]of Object.entries(f)){const g=[];for(const p of n.slice(r))p==="*"?g.push(c):g.push(p);E(o,g,d)}for(const c of l)delete o[c]}}else{const o=t;s in o&&_y(o[s],e,n,r+1,i)}}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */function n_(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
    + */function s_(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */function Mj(t){const e={},n=y(t,["operationName"]);n!=null&&E(e,["operationName"],n);const r=y(t,["resourceName"]);return r!=null&&E(e,["_url","resourceName"],r),e}function Pj(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=y(t,["done"]);i!=null&&E(e,["done"],i);const s=y(t,["error"]);s!=null&&E(e,["error"],s);const o=y(t,["response","generateVideoResponse"]);return o!=null&&E(e,["response"],Oj(o)),e}function Lj(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=y(t,["done"]);i!=null&&E(e,["done"],i);const s=y(t,["error"]);s!=null&&E(e,["error"],s);const o=y(t,["response"]);return o!=null&&E(e,["response"],Fj(o)),e}function Oj(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Uj(o))),E(e,["generatedVideos"],s)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function Fj(t){const e={},n=y(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Vj(o))),E(e,["generatedVideos"],s)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function Uj(t){const e={},n=y(t,["video"]);return n!=null&&E(e,["video"],Hj(n)),e}function Vj(t){const e={},n=y(t,["_self"]);return n!=null&&E(e,["video"],zj(n)),e}function Bj(t){const e={},n=y(t,["operationName"]);return n!=null&&E(e,["_url","operationName"],n),e}function qj(t){const e={},n=y(t,["operationName"]);return n!=null&&E(e,["_url","operationName"],n),e}function Hj(t){const e={},n=y(t,["uri"]);n!=null&&E(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&E(e,["videoBytes"],n_(r));const i=y(t,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function zj(t){const e={},n=y(t,["gcsUri"]);n!=null&&E(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&E(e,["videoBytes"],n_(r));const i=y(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}/**
    + */function Uj(t){const e={},n=y(t,["operationName"]);n!=null&&E(e,["operationName"],n);const r=y(t,["resourceName"]);return r!=null&&E(e,["_url","resourceName"],r),e}function Vj(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=y(t,["done"]);i!=null&&E(e,["done"],i);const s=y(t,["error"]);s!=null&&E(e,["error"],s);const o=y(t,["response","generateVideoResponse"]);return o!=null&&E(e,["response"],qj(o)),e}function Bj(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=y(t,["done"]);i!=null&&E(e,["done"],i);const s=y(t,["error"]);s!=null&&E(e,["error"],s);const o=y(t,["response"]);return o!=null&&E(e,["response"],Hj(o)),e}function qj(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>zj(o))),E(e,["generatedVideos"],s)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function Hj(t){const e={},n=y(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Gj(o))),E(e,["generatedVideos"],s)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function zj(t){const e={},n=y(t,["video"]);return n!=null&&E(e,["video"],Wj(n)),e}function Gj(t){const e={},n=y(t,["_self"]);return n!=null&&E(e,["video"],Kj(n)),e}function jj(t){const e={},n=y(t,["operationName"]);return n!=null&&E(e,["_url","operationName"],n),e}function $j(t){const e={},n=y(t,["operationName"]);return n!=null&&E(e,["_url","operationName"],n),e}function Wj(t){const e={},n=y(t,["uri"]);n!=null&&E(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&E(e,["videoBytes"],s_(r));const i=y(t,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function Kj(t){const e={},n=y(t,["gcsUri"]);n!=null&&E(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&E(e,["videoBytes"],s_(r));const i=y(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */var zS;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(zS||(zS={}));var GS;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(GS||(GS={}));var jS;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(jS||(jS={}));var mo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(mo||(mo={}));var $S;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})($S||($S={}));var WS;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(WS||(WS={}));var KS;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(KS||(KS={}));var YS;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(YS||(YS={}));var XS;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(XS||(XS={}));var JS;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(JS||(JS={}));var QS;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(QS||(QS={}));var ZS;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(ZS||(ZS={}));var eA;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(eA||(eA={}));var tA;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(tA||(tA={}));var nA;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(nA||(nA={}));var rA;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(rA||(rA={}));var Rp;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Rp||(Rp={}));var iA;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(iA||(iA={}));var yy;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(yy||(yy={}));var sA;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(sA||(sA={}));var aA;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(aA||(aA={}));var oA;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(oA||(oA={}));var uA;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(uA||(uA={}));var lA;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(lA||(lA={}));var cA;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(cA||(cA={}));var fA;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(fA||(fA={}));var hA;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(hA||(hA={}));var dA;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(dA||(dA={}));var pA;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(pA||(pA={}));var mA;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(mA||(mA={}));var gA;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(gA||(gA={}));var xA;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(xA||(xA={}));var yA;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(yA||(yA={}));var vA;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(vA||(vA={}));var _A;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(_A||(_A={}));var TA;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(TA||(TA={}));var EA;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(EA||(EA={}));var bA;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(bA||(bA={}));var wA;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(wA||(wA={}));var SA;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(SA||(SA={}));var AA;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(AA||(AA={}));var CA;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(CA||(CA={}));var IA;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(IA||(IA={}));var kA;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(kA||(kA={}));var RA;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(RA||(RA={}));var NA;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(NA||(NA={}));var DA;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(DA||(DA={}));var MA;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(MA||(MA={}));var Hl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Hl||(Hl={}));class vy{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Sf{get text(){var e,n,r,i,s,o,l,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",d=!1;const g=[];for(const p of(f=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&f!==void 0?f:[]){for(const[x,_]of Object.entries(p))x!=="text"&&x!=="thought"&&(_!==null||_!==void 0)&&g.push(x);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;d=!0,c+=p.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,n,r,i,s,o,l,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const d=[];for(const g of(f=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&f!==void 0?f:[]){for(const[p,x]of Object.entries(g))p!=="inlineData"&&(x!==null||x!==void 0)&&d.push(p);g.inlineData&&typeof g.inlineData.data=="string"&&(c+=atob(g.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,s,o,l,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(f=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||f===void 0?void 0:f.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,i,s,o,l,f,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(f=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||f===void 0?void 0:f.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,s,o,l,f,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(f=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||f===void 0?void 0:f.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.output}}class PA{}class LA{}class Gj{}class jj{}class $j{}class Wj{}class OA{}class FA{}class UA{}class Kj{}class Np{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new Np;let i;const s=e;return n?i=Lj(s):i=Pj(s),Object.assign(r,i),r}}class VA{}class BA{}class qA{}class Yj{}class Xj{}class Jj{}class HA{}class Qj{get text(){var e,n,r;let i="",s=!1;const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,c]of Object.entries(l))f!=="text"&&f!=="thought"&&c!==null&&o.push(f);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;s=!0,i+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,f]of Object.entries(o))l!=="inlineData"&&f!==null&&s.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Zj{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
    + */var jS;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(jS||(jS={}));var $S;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})($S||($S={}));var WS;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(WS||(WS={}));var xo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(xo||(xo={}));var KS;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(KS||(KS={}));var YS;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(YS||(YS={}));var XS;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(XS||(XS={}));var JS;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(JS||(JS={}));var QS;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(QS||(QS={}));var ZS;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ZS||(ZS={}));var eA;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(eA||(eA={}));var tA;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(tA||(tA={}));var nA;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(nA||(nA={}));var rA;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(rA||(rA={}));var iA;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(iA||(iA={}));var sA;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(sA||(sA={}));var Np;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Np||(Np={}));var aA;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(aA||(aA={}));var Ty;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ty||(Ty={}));var oA;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(oA||(oA={}));var uA;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(uA||(uA={}));var lA;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(lA||(lA={}));var cA;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(cA||(cA={}));var fA;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(fA||(fA={}));var hA;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(hA||(hA={}));var dA;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(dA||(dA={}));var pA;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(pA||(pA={}));var mA;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(mA||(mA={}));var gA;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(gA||(gA={}));var xA;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(xA||(xA={}));var yA;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(yA||(yA={}));var vA;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(vA||(vA={}));var _A;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(_A||(_A={}));var TA;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(TA||(TA={}));var EA;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(EA||(EA={}));var bA;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(bA||(bA={}));var wA;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(wA||(wA={}));var SA;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(SA||(SA={}));var AA;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(AA||(AA={}));var CA;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(CA||(CA={}));var IA;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(IA||(IA={}));var kA;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(kA||(kA={}));var RA;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(RA||(RA={}));var NA;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(NA||(NA={}));var DA;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(DA||(DA={}));var MA;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(MA||(MA={}));var PA;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(PA||(PA={}));var LA;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(LA||(LA={}));var Gl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Gl||(Gl={}));class Ey{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Af{get text(){var e,n,r,i,s,o,l,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",d=!1;const g=[];for(const p of(f=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&f!==void 0?f:[]){for(const[x,_]of Object.entries(p))x!=="text"&&x!=="thought"&&(_!==null||_!==void 0)&&g.push(x);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;d=!0,c+=p.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?c:void 0}get data(){var e,n,r,i,s,o,l,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const d=[];for(const g of(f=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&f!==void 0?f:[]){for(const[p,x]of Object.entries(g))p!=="inlineData"&&(x!==null||x!==void 0)&&d.push(p);g.inlineData&&typeof g.inlineData.data=="string"&&(c+=atob(g.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,n,r,i,s,o,l,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(f=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||f===void 0?void 0:f.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,n,r,i,s,o,l,f,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(f=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||f===void 0?void 0:f.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,n,r,i,s,o,l,f,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(f=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||f===void 0?void 0:f.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((d==null?void 0:d.length)!==0)return(c=d==null?void 0:d[0])===null||c===void 0?void 0:c.output}}class OA{}class FA{}class Yj{}class Xj{}class Jj{}class Qj{}class UA{}class VA{}class BA{}class Zj{}class Dp{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new Dp;let i;const s=e;return n?i=Bj(s):i=Vj(s),Object.assign(r,i),r}}class qA{}class HA{}class zA{}class e${}class t${}class n${}class GA{}class r${get text(){var e,n,r;let i="",s=!1;const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,c]of Object.entries(l))f!=="text"&&f!=="thought"&&c!==null&&o.push(f);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;s=!0,i+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,f]of Object.entries(o))l!=="inlineData"&&f!==null&&s.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class i${get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */function Ht(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Lk(t,e){const n=Ht(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Ok(t){return Array.isArray(t)?t.map(e=>Dp(e)):[Dp(t)]}function Dp(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Fk(t){const e=Dp(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Uk(t){const e=Dp(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function zA(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Vk(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>zA(e)):[zA(t)]}function _y(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function GA(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function jA(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function wr(t){if(t==null)throw new Error("ContentUnion is required");return _y(t)?t:{role:"user",parts:Vk(t)}}function r_(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=wr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=wr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>wr(n)):[wr(e)]}function Ni(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(GA(t)||jA(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[wr(t)]}const e=[],n=[],r=_y(t[0]);for(const i of t){const s=_y(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(GA(i)||jA(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:Vk(n)}),e}function e$(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(mo).includes(n[0].toUpperCase())?n[0].toUpperCase():mo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(mo).includes(r.toUpperCase())?r.toUpperCase():mo.TYPE_UNSPECIFIED})}}function Ql(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&e$(t.type,e);for(const[o,l]of Object.entries(t))if(l!=null)if(o=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(mo).includes(l.toUpperCase())?l.toUpperCase():mo.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=Ql(l);else if(r.includes(o)){const f=[];for(const c of l){if(c.type=="null"){e.nullable=!0;continue}f.push(Ql(c))}e[o]=f}else if(i.includes(o)){const f={};for(const[c,d]of Object.entries(l))f[c]=Ql(d);e[o]=f}else{if(o==="additionalProperties")continue;e[o]=l}return e}function i_(t){return Ql(t)}function s_(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function a_(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Sc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ql(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ql(e.response));return t}function Ac(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function t$(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Sa(t,e){if(typeof e!="string")throw new Error("name must be a string");return t$(t,e,"cachedContents")}function Bk(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ho(t){return n_(t)}function n$(t){return t!=null&&typeof t=="object"&&"name"in t}function r$(t){return t!=null&&typeof t=="object"&&"video"in t}function i$(t){return t!=null&&typeof t=="object"&&"uri"in t}function qk(t){var e;let n;if(n$(t)&&(n=t.name),!(i$(t)&&(n=t.uri,n===void 0))&&!(r$(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Hk(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function zk(t){for(const e of["models","tunedModels","publisherModels"])if(s$(t,e))return t[e];return[]}function s$(t,e){return t!==null&&typeof t=="object"&&e in t}function a$(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function o$(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const o=a$(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function Gk(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function u$(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function jk(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const f=o.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Cc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function $k(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
    + */function Ht(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Bk(t,e){const n=Ht(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function qk(t){return Array.isArray(t)?t.map(e=>Mp(e)):[Mp(t)]}function Mp(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Hk(t){const e=Mp(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function zk(t){const e=Mp(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jA(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Gk(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>jA(e)):[jA(t)]}function by(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function $A(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function WA(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function wr(t){if(t==null)throw new Error("ContentUnion is required");return by(t)?t:{role:"user",parts:Gk(t)}}function a_(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=wr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=wr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>wr(n)):[wr(e)]}function Ni(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if($A(t)||WA(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[wr(t)]}const e=[],n=[],r=by(t[0]);for(const i of t){const s=by(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if($A(i)||WA(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:Gk(n)}),e}function s$(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(xo).includes(n[0].toUpperCase())?n[0].toUpperCase():xo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(xo).includes(r.toUpperCase())?r.toUpperCase():xo.TYPE_UNSPECIFIED})}}function ec(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&s$(t.type,e);for(const[o,l]of Object.entries(t))if(l!=null)if(o=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(xo).includes(l.toUpperCase())?l.toUpperCase():xo.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=ec(l);else if(r.includes(o)){const f=[];for(const c of l){if(c.type=="null"){e.nullable=!0;continue}f.push(ec(c))}e[o]=f}else if(i.includes(o)){const f={};for(const[c,d]of Object.entries(l))f[c]=ec(d);e[o]=f}else{if(o==="additionalProperties")continue;e[o]=l}return e}function o_(t){return ec(t)}function u_(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function l_(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ac(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ec(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ec(e.response));return t}function Cc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function a$(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Aa(t,e){if(typeof e!="string")throw new Error("name must be a string");return a$(t,e,"cachedContents")}function jk(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function zo(t){return s_(t)}function o$(t){return t!=null&&typeof t=="object"&&"name"in t}function u$(t){return t!=null&&typeof t=="object"&&"video"in t}function l$(t){return t!=null&&typeof t=="object"&&"uri"in t}function $k(t){var e;let n;if(o$(t)&&(n=t.name),!(l$(t)&&(n=t.uri,n===void 0))&&!(u$(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Wk(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Kk(t){for(const e of["models","tunedModels","publisherModels"])if(c$(t,e))return t[e];return[]}function c$(t,e){return t!==null&&typeof t=="object"&&e in t}function f$(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function h$(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const o=f$(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function Yk(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function d$(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Xk(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const f=o.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ic(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Jk(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */function l$(t){const e={},n=y(t,["responsesFile"]);n!=null&&E(e,["fileName"],n);const r=y(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>B$(o))),E(e,["inlinedResponses"],s)}const i=y(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),E(e,["inlinedEmbedContentResponses"],s)}return e}function c$(t){const e={},n=y(t,["predictionsFormat"]);n!=null&&E(e,["format"],n);const r=y(t,["gcsDestination","outputUriPrefix"]);r!=null&&E(e,["gcsUri"],r);const i=y(t,["bigqueryDestination","outputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function f$(t){const e={},n=y(t,["format"]);n!=null&&E(e,["predictionsFormat"],n);const r=y(t,["gcsUri"]);r!=null&&E(e,["gcsDestination","outputUriPrefix"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&E(e,["bigqueryDestination","outputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Wd(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["metadata","displayName"]);r!=null&&E(e,["displayName"],r);const i=y(t,["metadata","state"]);i!=null&&E(e,["state"],$k(i));const s=y(t,["metadata","createTime"]);s!=null&&E(e,["createTime"],s);const o=y(t,["metadata","endTime"]);o!=null&&E(e,["endTime"],o);const l=y(t,["metadata","updateTime"]);l!=null&&E(e,["updateTime"],l);const f=y(t,["metadata","model"]);f!=null&&E(e,["model"],f);const c=y(t,["metadata","output"]);return c!=null&&E(e,["dest"],l$(jk(c))),e}function Ty(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=y(t,["state"]);i!=null&&E(e,["state"],$k(i));const s=y(t,["error"]);s!=null&&E(e,["error"],s);const o=y(t,["createTime"]);o!=null&&E(e,["createTime"],o);const l=y(t,["startTime"]);l!=null&&E(e,["startTime"],l);const f=y(t,["endTime"]);f!=null&&E(e,["endTime"],f);const c=y(t,["updateTime"]);c!=null&&E(e,["updateTime"],c);const d=y(t,["model"]);d!=null&&E(e,["model"],d);const g=y(t,["inputConfig"]);g!=null&&E(e,["src"],h$(g));const p=y(t,["outputConfig"]);return p!=null&&E(e,["dest"],c$(jk(p))),e}function h$(t){const e={},n=y(t,["instancesFormat"]);n!=null&&E(e,["format"],n);const r=y(t,["gcsSource","uris"]);r!=null&&E(e,["gcsUri"],r);const i=y(t,["bigquerySource","inputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function d$(t,e){const n={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(e,["fileName"]);r!=null&&E(n,["fileName"],r);const i=y(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>V$(t,o))),E(n,["requests","requests"],s)}return n}function p$(t){const e={},n=y(t,["format"]);n!=null&&E(e,["instancesFormat"],n);const r=y(t,["gcsUri"]);r!=null&&E(e,["gcsSource","uris"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&E(e,["bigquerySource","inputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function m$(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["data"]);n!=null&&E(e,["data"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function g$(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Cc(t,r)),n}function x$(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Cc(t,r)),n}function y$(t){const e={},n=y(t,["content"]);n!=null&&E(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],v$(r));const i=y(t,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=y(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const o=y(t,["urlContextMetadata"]);o!=null&&E(e,["urlContextMetadata"],o);const l=y(t,["avgLogprobs"]);l!=null&&E(e,["avgLogprobs"],l);const f=y(t,["groundingMetadata"]);f!=null&&E(e,["groundingMetadata"],f);const c=y(t,["index"]);c!=null&&E(e,["index"],c);const d=y(t,["logprobsResult"]);d!=null&&E(e,["logprobsResult"],d);const g=y(t,["safetyRatings"]);if(g!=null){let p=g;Array.isArray(p)&&(p=p.map(x=>x)),E(e,["safetyRatings"],p)}return e}function v$(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),E(e,["citations"],r)}return e}function Wk(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>W$(s))),E(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&E(e,["role"],r),e}function _$(t,e){const n={},r=y(t,["displayName"]);if(e!==void 0&&r!=null&&E(e,["batch","displayName"],r),y(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function T$(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=y(t,["dest"]);return e!==void 0&&i!=null&&E(e,["outputConfig"],f$(u$(i))),n}function $A(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["src"]);i!=null&&E(n,["batch","inputConfig"],d$(t,Gk(t,i)));const s=y(e,["config"]);return s!=null&&_$(s,n),n}function E$(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["model"],Ht(t,r));const i=y(e,["src"]);i!=null&&E(n,["inputConfig"],p$(Gk(t,i)));const s=y(e,["config"]);return s!=null&&T$(s,n),n}function b$(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&E(e,["batch","displayName"],r),n}function w$(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["src"]);i!=null&&E(n,["batch","inputConfig"],N$(t,i));const s=y(e,["config"]);return s!=null&&b$(s,n),n}function S$(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Cc(t,r)),n}function A$(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Cc(t,r)),n}function C$(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&E(e,["name"],r);const i=y(t,["done"]);i!=null&&E(e,["done"],i);const s=y(t,["error"]);return s!=null&&E(e,["error"],s),e}function I$(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&E(e,["name"],r);const i=y(t,["done"]);i!=null&&E(e,["done"],i);const s=y(t,["error"]);return s!=null&&E(e,["error"],s),e}function k$(t,e){const n={},r=y(e,["contents"]);if(r!=null){let s=r_(t,r);Array.isArray(s)&&(s=s.map(o=>o)),E(n,["requests[]","request","content"],s)}const i=y(e,["config"]);return i!=null&&(E(n,["_self"],R$(i,n)),Dj(n,{"requests[].*":"requests[].request.*"})),n}function R$(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&E(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=y(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function N$(t,e){const n={},r=y(e,["fileName"]);r!=null&&E(n,["file_name"],r);const i=y(e,["inlinedRequests"]);return i!=null&&E(n,["requests"],k$(t,i)),n}function D$(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function M$(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],Wk(wr(i)));const s=y(e,["temperature"]);s!=null&&E(r,["temperature"],s);const o=y(e,["topP"]);o!=null&&E(r,["topP"],o);const l=y(e,["topK"]);l!=null&&E(r,["topK"],l);const f=y(e,["candidateCount"]);f!=null&&E(r,["candidateCount"],f);const c=y(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const d=y(e,["stopSequences"]);d!=null&&E(r,["stopSequences"],d);const g=y(e,["responseLogprobs"]);g!=null&&E(r,["responseLogprobs"],g);const p=y(e,["logprobs"]);p!=null&&E(r,["logprobs"],p);const x=y(e,["presencePenalty"]);x!=null&&E(r,["presencePenalty"],x);const _=y(e,["frequencyPenalty"]);_!=null&&E(r,["frequencyPenalty"],_);const b=y(e,["seed"]);b!=null&&E(r,["seed"],b);const C=y(e,["responseMimeType"]);C!=null&&E(r,["responseMimeType"],C);const I=y(e,["responseSchema"]);I!=null&&E(r,["responseSchema"],i_(I));const M=y(e,["responseJsonSchema"]);if(M!=null&&E(r,["responseJsonSchema"],M),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=y(e,["safetySettings"]);if(n!==void 0&&A!=null){let U=A;Array.isArray(U)&&(U=U.map(q=>K$(q))),E(n,["safetySettings"],U)}const P=y(e,["tools"]);if(n!==void 0&&P!=null){let U=Ac(P);Array.isArray(U)&&(U=U.map(q=>Y$(Sc(q)))),E(n,["tools"],U)}const D=y(e,["toolConfig"]);if(n!==void 0&&D!=null&&E(n,["toolConfig"],D),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=y(e,["cachedContent"]);n!==void 0&&V!=null&&E(n,["cachedContent"],Sa(t,V));const N=y(e,["responseModalities"]);N!=null&&E(r,["responseModalities"],N);const k=y(e,["mediaResolution"]);k!=null&&E(r,["mediaResolution"],k);const R=y(e,["speechConfig"]);if(R!=null&&E(r,["speechConfig"],s_(R)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=y(e,["thinkingConfig"]);O!=null&&E(r,["thinkingConfig"],O);const L=y(e,["imageConfig"]);return L!=null&&E(r,["imageConfig"],L),r}function P$(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(c=>y$(c))),E(e,["candidates"],f)}const i=y(t,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=y(t,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const o=y(t,["responseId"]);o!=null&&E(e,["responseId"],o);const l=y(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function L$(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Cc(t,r)),n}function O$(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Cc(t,r)),n}function F$(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&E(e,["enableWidget"],n),e}function U$(t){const e={},n=y(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],n),y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function V$(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["request","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let l=Ni(i);Array.isArray(l)&&(l=l.map(f=>Wk(f))),E(n,["request","contents"],l)}const s=y(e,["metadata"]);s!=null&&E(n,["metadata"],s);const o=y(e,["config"]);return o!=null&&E(n,["request","generationConfig"],M$(t,o,y(n,["request"],{}))),n}function B$(t){const e={},n=y(t,["response"]);n!=null&&E(e,["response"],P$(n));const r=y(t,["error"]);return r!=null&&E(e,["error"],r),e}function q$(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);if(e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),y(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function H$(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=y(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function z$(t){const e={},n=y(t,["config"]);return n!=null&&q$(n,e),e}function G$(t){const e={},n=y(t,["config"]);return n!=null&&H$(n,e),e}function j$(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Wd(o))),E(e,["batchJobs"],s)}return e}function $$(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Ty(o))),E(e,["batchJobs"],s)}return e}function W$(t){const e={},n=y(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],n);const r=y(t,["thought"]);r!=null&&E(e,["thought"],r);const i=y(t,["inlineData"]);i!=null&&E(e,["inlineData"],m$(i));const s=y(t,["fileData"]);s!=null&&E(e,["fileData"],D$(s));const o=y(t,["thoughtSignature"]);o!=null&&E(e,["thoughtSignature"],o);const l=y(t,["functionCall"]);l!=null&&E(e,["functionCall"],l);const f=y(t,["codeExecutionResult"]);f!=null&&E(e,["codeExecutionResult"],f);const c=y(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const d=y(t,["functionResponse"]);d!=null&&E(e,["functionResponse"],d);const g=y(t,["text"]);return g!=null&&E(e,["text"],g),e}function K$(t){const e={};if(y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=y(t,["category"]);n!=null&&E(e,["category"],n);const r=y(t,["threshold"]);return r!=null&&E(e,["threshold"],r),e}function Y$(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),E(e,["functionDeclarations"],c)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],U$(r));const i=y(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(t,["googleMaps"]);s!=null&&E(e,["googleMaps"],F$(s));const o=y(t,["urlContext"]);o!=null&&E(e,["urlContext"],o);const l=y(t,["computerUse"]);l!=null&&E(e,["computerUse"],l);const f=y(t,["codeExecution"]);return f!=null&&E(e,["codeExecution"],f),e}/**
    + */function p$(t){const e={},n=y(t,["responsesFile"]);n!=null&&E(e,["fileName"],n);const r=y(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>j$(o))),E(e,["inlinedResponses"],s)}const i=y(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),E(e,["inlinedEmbedContentResponses"],s)}return e}function m$(t){const e={},n=y(t,["predictionsFormat"]);n!=null&&E(e,["format"],n);const r=y(t,["gcsDestination","outputUriPrefix"]);r!=null&&E(e,["gcsUri"],r);const i=y(t,["bigqueryDestination","outputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function g$(t){const e={},n=y(t,["format"]);n!=null&&E(e,["predictionsFormat"],n);const r=y(t,["gcsUri"]);r!=null&&E(e,["gcsDestination","outputUriPrefix"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&E(e,["bigqueryDestination","outputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Kd(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["metadata","displayName"]);r!=null&&E(e,["displayName"],r);const i=y(t,["metadata","state"]);i!=null&&E(e,["state"],Jk(i));const s=y(t,["metadata","createTime"]);s!=null&&E(e,["createTime"],s);const o=y(t,["metadata","endTime"]);o!=null&&E(e,["endTime"],o);const l=y(t,["metadata","updateTime"]);l!=null&&E(e,["updateTime"],l);const f=y(t,["metadata","model"]);f!=null&&E(e,["model"],f);const c=y(t,["metadata","output"]);return c!=null&&E(e,["dest"],p$(Xk(c))),e}function wy(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=y(t,["state"]);i!=null&&E(e,["state"],Jk(i));const s=y(t,["error"]);s!=null&&E(e,["error"],s);const o=y(t,["createTime"]);o!=null&&E(e,["createTime"],o);const l=y(t,["startTime"]);l!=null&&E(e,["startTime"],l);const f=y(t,["endTime"]);f!=null&&E(e,["endTime"],f);const c=y(t,["updateTime"]);c!=null&&E(e,["updateTime"],c);const d=y(t,["model"]);d!=null&&E(e,["model"],d);const g=y(t,["inputConfig"]);g!=null&&E(e,["src"],x$(g));const p=y(t,["outputConfig"]);return p!=null&&E(e,["dest"],m$(Xk(p))),e}function x$(t){const e={},n=y(t,["instancesFormat"]);n!=null&&E(e,["format"],n);const r=y(t,["gcsSource","uris"]);r!=null&&E(e,["gcsUri"],r);const i=y(t,["bigquerySource","inputUri"]);return i!=null&&E(e,["bigqueryUri"],i),e}function y$(t,e){const n={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(e,["fileName"]);r!=null&&E(n,["fileName"],r);const i=y(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>G$(t,o))),E(n,["requests","requests"],s)}return n}function v$(t){const e={},n=y(t,["format"]);n!=null&&E(e,["instancesFormat"],n);const r=y(t,["gcsUri"]);r!=null&&E(e,["gcsSource","uris"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&E(e,["bigquerySource","inputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function _$(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["data"]);n!=null&&E(e,["data"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function T$(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Ic(t,r)),n}function E$(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Ic(t,r)),n}function b$(t){const e={},n=y(t,["content"]);n!=null&&E(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],w$(r));const i=y(t,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=y(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const o=y(t,["urlContextMetadata"]);o!=null&&E(e,["urlContextMetadata"],o);const l=y(t,["avgLogprobs"]);l!=null&&E(e,["avgLogprobs"],l);const f=y(t,["groundingMetadata"]);f!=null&&E(e,["groundingMetadata"],f);const c=y(t,["index"]);c!=null&&E(e,["index"],c);const d=y(t,["logprobsResult"]);d!=null&&E(e,["logprobsResult"],d);const g=y(t,["safetyRatings"]);if(g!=null){let p=g;Array.isArray(p)&&(p=p.map(x=>x)),E(e,["safetyRatings"],p)}return e}function w$(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),E(e,["citations"],r)}return e}function Qk(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Q$(s))),E(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&E(e,["role"],r),e}function S$(t,e){const n={},r=y(t,["displayName"]);if(e!==void 0&&r!=null&&E(e,["batch","displayName"],r),y(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function A$(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=y(t,["dest"]);return e!==void 0&&i!=null&&E(e,["outputConfig"],g$(d$(i))),n}function KA(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["src"]);i!=null&&E(n,["batch","inputConfig"],y$(t,Yk(t,i)));const s=y(e,["config"]);return s!=null&&S$(s,n),n}function C$(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["model"],Ht(t,r));const i=y(e,["src"]);i!=null&&E(n,["inputConfig"],v$(Yk(t,i)));const s=y(e,["config"]);return s!=null&&A$(s,n),n}function I$(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&E(e,["batch","displayName"],r),n}function k$(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["src"]);i!=null&&E(n,["batch","inputConfig"],O$(t,i));const s=y(e,["config"]);return s!=null&&I$(s,n),n}function R$(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Ic(t,r)),n}function N$(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Ic(t,r)),n}function D$(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&E(e,["name"],r);const i=y(t,["done"]);i!=null&&E(e,["done"],i);const s=y(t,["error"]);return s!=null&&E(e,["error"],s),e}function M$(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&E(e,["name"],r);const i=y(t,["done"]);i!=null&&E(e,["done"],i);const s=y(t,["error"]);return s!=null&&E(e,["error"],s),e}function P$(t,e){const n={},r=y(e,["contents"]);if(r!=null){let s=a_(t,r);Array.isArray(s)&&(s=s.map(o=>o)),E(n,["requests[]","request","content"],s)}const i=y(e,["config"]);return i!=null&&(E(n,["_self"],L$(i,n)),Fj(n,{"requests[].*":"requests[].request.*"})),n}function L$(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&E(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=y(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function O$(t,e){const n={},r=y(e,["fileName"]);r!=null&&E(n,["file_name"],r);const i=y(e,["inlinedRequests"]);return i!=null&&E(n,["requests"],P$(t,i)),n}function F$(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function U$(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],Qk(wr(i)));const s=y(e,["temperature"]);s!=null&&E(r,["temperature"],s);const o=y(e,["topP"]);o!=null&&E(r,["topP"],o);const l=y(e,["topK"]);l!=null&&E(r,["topK"],l);const f=y(e,["candidateCount"]);f!=null&&E(r,["candidateCount"],f);const c=y(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const d=y(e,["stopSequences"]);d!=null&&E(r,["stopSequences"],d);const g=y(e,["responseLogprobs"]);g!=null&&E(r,["responseLogprobs"],g);const p=y(e,["logprobs"]);p!=null&&E(r,["logprobs"],p);const x=y(e,["presencePenalty"]);x!=null&&E(r,["presencePenalty"],x);const _=y(e,["frequencyPenalty"]);_!=null&&E(r,["frequencyPenalty"],_);const b=y(e,["seed"]);b!=null&&E(r,["seed"],b);const C=y(e,["responseMimeType"]);C!=null&&E(r,["responseMimeType"],C);const I=y(e,["responseSchema"]);I!=null&&E(r,["responseSchema"],o_(I));const D=y(e,["responseJsonSchema"]);if(D!=null&&E(r,["responseJsonSchema"],D),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=y(e,["safetySettings"]);if(n!==void 0&&A!=null){let F=A;Array.isArray(F)&&(F=F.map(q=>Z$(q))),E(n,["safetySettings"],F)}const P=y(e,["tools"]);if(n!==void 0&&P!=null){let F=Cc(P);Array.isArray(F)&&(F=F.map(q=>eW(Ac(q)))),E(n,["tools"],F)}const M=y(e,["toolConfig"]);if(n!==void 0&&M!=null&&E(n,["toolConfig"],M),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=y(e,["cachedContent"]);n!==void 0&&U!=null&&E(n,["cachedContent"],Aa(t,U));const N=y(e,["responseModalities"]);N!=null&&E(r,["responseModalities"],N);const k=y(e,["mediaResolution"]);k!=null&&E(r,["mediaResolution"],k);const R=y(e,["speechConfig"]);if(R!=null&&E(r,["speechConfig"],u_(R)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=y(e,["thinkingConfig"]);V!=null&&E(r,["thinkingConfig"],V);const L=y(e,["imageConfig"]);return L!=null&&E(r,["imageConfig"],L),r}function V$(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(c=>b$(c))),E(e,["candidates"],f)}const i=y(t,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=y(t,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const o=y(t,["responseId"]);o!=null&&E(e,["responseId"],o);const l=y(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function B$(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Ic(t,r)),n}function q$(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Ic(t,r)),n}function H$(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&E(e,["enableWidget"],n),e}function z$(t){const e={},n=y(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],n),y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function G$(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["request","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let l=Ni(i);Array.isArray(l)&&(l=l.map(f=>Qk(f))),E(n,["request","contents"],l)}const s=y(e,["metadata"]);s!=null&&E(n,["metadata"],s);const o=y(e,["config"]);return o!=null&&E(n,["request","generationConfig"],U$(t,o,y(n,["request"],{}))),n}function j$(t){const e={},n=y(t,["response"]);n!=null&&E(e,["response"],V$(n));const r=y(t,["error"]);return r!=null&&E(e,["error"],r),e}function $$(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);if(e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),y(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function W$(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);e!==void 0&&i!=null&&E(e,["_query","pageToken"],i);const s=y(t,["filter"]);return e!==void 0&&s!=null&&E(e,["_query","filter"],s),n}function K$(t){const e={},n=y(t,["config"]);return n!=null&&$$(n,e),e}function Y$(t){const e={},n=y(t,["config"]);return n!=null&&W$(n,e),e}function X$(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Kd(o))),E(e,["batchJobs"],s)}return e}function J$(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>wy(o))),E(e,["batchJobs"],s)}return e}function Q$(t){const e={},n=y(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],n);const r=y(t,["thought"]);r!=null&&E(e,["thought"],r);const i=y(t,["inlineData"]);i!=null&&E(e,["inlineData"],_$(i));const s=y(t,["fileData"]);s!=null&&E(e,["fileData"],F$(s));const o=y(t,["thoughtSignature"]);o!=null&&E(e,["thoughtSignature"],o);const l=y(t,["functionCall"]);l!=null&&E(e,["functionCall"],l);const f=y(t,["codeExecutionResult"]);f!=null&&E(e,["codeExecutionResult"],f);const c=y(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const d=y(t,["functionResponse"]);d!=null&&E(e,["functionResponse"],d);const g=y(t,["text"]);return g!=null&&E(e,["text"],g),e}function Z$(t){const e={};if(y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=y(t,["category"]);n!=null&&E(e,["category"],n);const r=y(t,["threshold"]);return r!=null&&E(e,["threshold"],r),e}function eW(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),E(e,["functionDeclarations"],c)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],z$(r));const i=y(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(t,["googleMaps"]);s!=null&&E(e,["googleMaps"],H$(s));const o=y(t,["urlContext"]);o!=null&&E(e,["urlContext"],o);const l=y(t,["computerUse"]);l!=null&&E(e,["computerUse"],l);const f=y(t,["codeExecution"]);return f!=null&&E(e,["codeExecution"],f),e}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */var Mu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Mu||(Mu={}));class z0{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
    + */var Pu;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Pu||(Pu={}));class G0{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */class X$ extends $u{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new z0(Mu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=$A(this.apiClient,e),r=n._url,i=et("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,f=l.requests,c=[];for(const d of f){const g=Object.assign({},d);if(g.systemInstruction){const p=g.systemInstruction;delete g.systemInstruction;const x=g.request;x.systemInstruction=p,g.request=x}c.push(g)}return l.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),o=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=E$(this.apiClient,e);return l=et("batchPredictionJobs",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Ty(d))}else{const c=$A(this.apiClient,e);return l=et("{model}:batchGenerateContent",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>Wd(d))}}async createEmbeddingsInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=w$(this.apiClient,e);return s=et("{model}:asyncBatchEmbedContent",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>Wd(f))}}async get(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=O$(this.apiClient,e);return l=et("batchPredictionJobs/{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Ty(d))}else{const c=L$(this.apiClient,e);return l=et("batches/{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>Wd(d))}}async cancel(e){var n,r,i,s;let o="",l={};if(this.apiClient.isVertexAI()){const f=x$(this.apiClient,e);o=et("batchPredictionJobs/{name}:cancel",f._url),l=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=g$(this.apiClient,e);o=et("batches/{name}:cancel",f._url),l=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=G$(e);return l=et("batchPredictionJobs",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=$$(d),p=new HA;return Object.assign(p,g),p})}else{const c=z$(e);return l=et("batches",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=j$(d),p=new HA;return Object.assign(p,g),p})}}async delete(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=A$(this.apiClient,e);return l=et("batchPredictionJobs/{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>I$(d))}else{const c=S$(this.apiClient,e);return l=et("batches/{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>C$(d))}}}/**
    + */class tW extends Ku{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new G0(Pu.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=KA(this.apiClient,e),r=n._url,i=et("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,f=l.requests,c=[];for(const d of f){const g=Object.assign({},d);if(g.systemInstruction){const p=g.systemInstruction;delete g.systemInstruction;const x=g.request;x.systemInstruction=p,g.request=x}c.push(g)}return l.requests=c,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),o=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=C$(this.apiClient,e);return l=et("batchPredictionJobs",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>wy(d))}else{const c=KA(this.apiClient,e);return l=et("{model}:batchGenerateContent",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>Kd(d))}}async createEmbeddingsInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=k$(this.apiClient,e);return s=et("{model}:asyncBatchEmbedContent",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>Kd(f))}}async get(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=q$(this.apiClient,e);return l=et("batchPredictionJobs/{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>wy(d))}else{const c=B$(this.apiClient,e);return l=et("batches/{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>Kd(d))}}async cancel(e){var n,r,i,s;let o="",l={};if(this.apiClient.isVertexAI()){const f=E$(this.apiClient,e);o=et("batchPredictionJobs/{name}:cancel",f._url),l=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=T$(this.apiClient,e);o=et("batches/{name}:cancel",f._url),l=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=Y$(e);return l=et("batchPredictionJobs",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=J$(d),p=new GA;return Object.assign(p,g),p})}else{const c=K$(e);return l=et("batches",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=X$(d),p=new GA;return Object.assign(p,g),p})}}async delete(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=N$(this.apiClient,e);return l=et("batchPredictionJobs/{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>M$(d))}else{const c=R$(this.apiClient,e);return l=et("batches/{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>D$(d))}}}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */function J$(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["data"]);n!=null&&E(e,["data"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function WA(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>yW(s))),E(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&E(e,["role"],r),e}function Q$(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=y(t,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const o=y(t,["contents"]);if(e!==void 0&&o!=null){let d=Ni(o);Array.isArray(d)&&(d=d.map(g=>WA(g))),E(e,["contents"],d)}const l=y(t,["systemInstruction"]);e!==void 0&&l!=null&&E(e,["systemInstruction"],WA(wr(l)));const f=y(t,["tools"]);if(e!==void 0&&f!=null){let d=f;Array.isArray(d)&&(d=d.map(g=>vW(g))),E(e,["tools"],d)}const c=y(t,["toolConfig"]);if(e!==void 0&&c!=null&&E(e,["toolConfig"],c),y(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Z$(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=y(t,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const o=y(t,["contents"]);if(e!==void 0&&o!=null){let g=Ni(o);Array.isArray(g)&&(g=g.map(p=>p)),E(e,["contents"],g)}const l=y(t,["systemInstruction"]);e!==void 0&&l!=null&&E(e,["systemInstruction"],wr(l));const f=y(t,["tools"]);if(e!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(p=>_W(p))),E(e,["tools"],g)}const c=y(t,["toolConfig"]);e!==void 0&&c!=null&&E(e,["toolConfig"],c);const d=y(t,["kmsKeyName"]);return e!==void 0&&d!=null&&E(e,["encryption_spec","kmsKeyName"],d),n}function eW(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["model"],Lk(t,r));const i=y(e,["config"]);return i!=null&&Q$(i,n),n}function tW(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["model"],Lk(t,r));const i=y(e,["config"]);return i!=null&&Z$(i,n),n}function nW(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Sa(t,r)),n}function rW(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Sa(t,r)),n}function iW(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function sW(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function aW(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function oW(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&E(e,["description"],n);const r=y(t,["name"]);r!=null&&E(e,["name"],r);const i=y(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=y(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const o=y(t,["response"]);o!=null&&E(e,["response"],o);const l=y(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function uW(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Sa(t,r)),n}function lW(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Sa(t,r)),n}function cW(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&E(e,["enableWidget"],n),e}function fW(t){const e={},n=y(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],n),y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function hW(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function dW(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function pW(t){const e={},n=y(t,["config"]);return n!=null&&hW(n,e),e}function mW(t){const e={},n=y(t,["config"]);return n!=null&&dW(n,e),e}function gW(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),E(e,["cachedContents"],s)}return e}function xW(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),E(e,["cachedContents"],s)}return e}function yW(t){const e={},n=y(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],n);const r=y(t,["thought"]);r!=null&&E(e,["thought"],r);const i=y(t,["inlineData"]);i!=null&&E(e,["inlineData"],J$(i));const s=y(t,["fileData"]);s!=null&&E(e,["fileData"],aW(s));const o=y(t,["thoughtSignature"]);o!=null&&E(e,["thoughtSignature"],o);const l=y(t,["functionCall"]);l!=null&&E(e,["functionCall"],l);const f=y(t,["codeExecutionResult"]);f!=null&&E(e,["codeExecutionResult"],f);const c=y(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const d=y(t,["functionResponse"]);d!=null&&E(e,["functionResponse"],d);const g=y(t,["text"]);return g!=null&&E(e,["text"],g),e}function vW(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),E(e,["functionDeclarations"],c)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],fW(r));const i=y(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(t,["googleMaps"]);s!=null&&E(e,["googleMaps"],cW(s));const o=y(t,["urlContext"]);o!=null&&E(e,["urlContext"],o);const l=y(t,["computerUse"]);l!=null&&E(e,["computerUse"],l);const f=y(t,["codeExecution"]);return f!=null&&E(e,["codeExecution"],f),e}function _W(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(p=>oW(p))),E(e,["functionDeclarations"],g)}const r=y(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=y(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],i);const s=y(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],s);const o=y(t,["enterpriseWebSearch"]);o!=null&&E(e,["enterpriseWebSearch"],o);const l=y(t,["googleMaps"]);l!=null&&E(e,["googleMaps"],l);const f=y(t,["urlContext"]);f!=null&&E(e,["urlContext"],f);const c=y(t,["computerUse"]);c!=null&&E(e,["computerUse"],c);const d=y(t,["codeExecution"]);return d!=null&&E(e,["codeExecution"],d),e}function TW(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),n}function EW(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),n}function bW(t,e){const n={},r=y(e,["name"]);r!=null&&E(n,["_url","name"],Sa(t,r));const i=y(e,["config"]);return i!=null&&TW(i,n),n}function wW(t,e){const n={},r=y(e,["name"]);r!=null&&E(n,["_url","name"],Sa(t,r));const i=y(e,["config"]);return i!=null&&EW(i,n),n}/**
    + */function nW(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["data"]);n!=null&&E(e,["data"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function YA(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>bW(s))),E(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&E(e,["role"],r),e}function rW(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=y(t,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const o=y(t,["contents"]);if(e!==void 0&&o!=null){let d=Ni(o);Array.isArray(d)&&(d=d.map(g=>YA(g))),E(e,["contents"],d)}const l=y(t,["systemInstruction"]);e!==void 0&&l!=null&&E(e,["systemInstruction"],YA(wr(l)));const f=y(t,["tools"]);if(e!==void 0&&f!=null){let d=f;Array.isArray(d)&&(d=d.map(g=>wW(g))),E(e,["tools"],d)}const c=y(t,["toolConfig"]);if(e!==void 0&&c!=null&&E(e,["toolConfig"],c),y(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function iW(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&E(e,["expireTime"],i);const s=y(t,["displayName"]);e!==void 0&&s!=null&&E(e,["displayName"],s);const o=y(t,["contents"]);if(e!==void 0&&o!=null){let g=Ni(o);Array.isArray(g)&&(g=g.map(p=>p)),E(e,["contents"],g)}const l=y(t,["systemInstruction"]);e!==void 0&&l!=null&&E(e,["systemInstruction"],wr(l));const f=y(t,["tools"]);if(e!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(p=>SW(p))),E(e,["tools"],g)}const c=y(t,["toolConfig"]);e!==void 0&&c!=null&&E(e,["toolConfig"],c);const d=y(t,["kmsKeyName"]);return e!==void 0&&d!=null&&E(e,["encryption_spec","kmsKeyName"],d),n}function sW(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["model"],Bk(t,r));const i=y(e,["config"]);return i!=null&&rW(i,n),n}function aW(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["model"],Bk(t,r));const i=y(e,["config"]);return i!=null&&iW(i,n),n}function oW(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Aa(t,r)),n}function uW(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Aa(t,r)),n}function lW(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function cW(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function fW(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function hW(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&E(e,["description"],n);const r=y(t,["name"]);r!=null&&E(e,["name"],r);const i=y(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=y(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const o=y(t,["response"]);o!=null&&E(e,["response"],o);const l=y(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function dW(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Aa(t,r)),n}function pW(t,e){const n={},r=y(e,["name"]);return r!=null&&E(n,["_url","name"],Aa(t,r)),n}function mW(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&E(e,["enableWidget"],n),e}function gW(t){const e={},n=y(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],n),y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function xW(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function yW(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function vW(t){const e={},n=y(t,["config"]);return n!=null&&xW(n,e),e}function _W(t){const e={},n=y(t,["config"]);return n!=null&&yW(n,e),e}function TW(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),E(e,["cachedContents"],s)}return e}function EW(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),E(e,["cachedContents"],s)}return e}function bW(t){const e={},n=y(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],n);const r=y(t,["thought"]);r!=null&&E(e,["thought"],r);const i=y(t,["inlineData"]);i!=null&&E(e,["inlineData"],nW(i));const s=y(t,["fileData"]);s!=null&&E(e,["fileData"],fW(s));const o=y(t,["thoughtSignature"]);o!=null&&E(e,["thoughtSignature"],o);const l=y(t,["functionCall"]);l!=null&&E(e,["functionCall"],l);const f=y(t,["codeExecutionResult"]);f!=null&&E(e,["codeExecutionResult"],f);const c=y(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const d=y(t,["functionResponse"]);d!=null&&E(e,["functionResponse"],d);const g=y(t,["text"]);return g!=null&&E(e,["text"],g),e}function wW(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),E(e,["functionDeclarations"],c)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],gW(r));const i=y(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(t,["googleMaps"]);s!=null&&E(e,["googleMaps"],mW(s));const o=y(t,["urlContext"]);o!=null&&E(e,["urlContext"],o);const l=y(t,["computerUse"]);l!=null&&E(e,["computerUse"],l);const f=y(t,["codeExecution"]);return f!=null&&E(e,["codeExecution"],f),e}function SW(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(p=>hW(p))),E(e,["functionDeclarations"],g)}const r=y(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=y(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],i);const s=y(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],s);const o=y(t,["enterpriseWebSearch"]);o!=null&&E(e,["enterpriseWebSearch"],o);const l=y(t,["googleMaps"]);l!=null&&E(e,["googleMaps"],l);const f=y(t,["urlContext"]);f!=null&&E(e,["urlContext"],f);const c=y(t,["computerUse"]);c!=null&&E(e,["computerUse"],c);const d=y(t,["codeExecution"]);return d!=null&&E(e,["codeExecution"],d),e}function AW(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),n}function CW(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&E(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&E(e,["expireTime"],i),n}function IW(t,e){const n={},r=y(e,["name"]);r!=null&&E(n,["_url","name"],Aa(t,r));const i=y(e,["config"]);return i!=null&&AW(i,n),n}function kW(t,e){const n={},r=y(e,["name"]);r!=null&&E(n,["_url","name"],Aa(t,r));const i=y(e,["config"]);return i!=null&&CW(i,n),n}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */class SW extends $u{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new z0(Mu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=tW(this.apiClient,e);return l=et("cachedContents",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const c=eW(this.apiClient,e);return l=et("cachedContents",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async get(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=lW(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const c=uW(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=rW(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=sW(d),p=new BA;return Object.assign(p,g),p})}else{const c=nW(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=iW(d),p=new BA;return Object.assign(p,g),p})}}async update(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=wW(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const c=bW(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async listInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=mW(e);return l=et("cachedContents",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=xW(d),p=new qA;return Object.assign(p,g),p})}else{const c=pW(e);return l=et("cachedContents",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=gW(d),p=new qA;return Object.assign(p,g),p})}}}function KA(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gn(t){return this instanceof gn?(this.v=t,this):new gn(t)}function Zl(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(x){return function(_){return Promise.resolve(_).then(x,g)}}function l(x,_){r[x]&&(i[x]=function(b){return new Promise(function(C,I){s.push([x,b,C,I])>1||f(x,b)})},_&&(i[x]=_(i[x])))}function f(x,_){try{c(r[x](_))}catch(b){p(s[0][3],b)}}function c(x){x.value instanceof gn?Promise.resolve(x.value.v).then(d,g):p(s[0][2],x)}function d(x){f("next",x)}function g(x){f("throw",x)}function p(x,_){x(_),s.shift(),s.length&&f(s[0][0],s[0][1])}}function e0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof KA=="function"?KA(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(l,f){o=t[s](o),i(l,f,o.done,o.value)})}}function i(s,o,l,f){Promise.resolve(f).then(function(c){s({value:c,done:l})},o)}}/**
    + */class RW extends Ku{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new G0(Pu.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=aW(this.apiClient,e);return l=et("cachedContents",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const c=sW(this.apiClient,e);return l=et("cachedContents",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async get(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=pW(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const c=dW(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=uW(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=cW(d),p=new HA;return Object.assign(p,g),p})}else{const c=oW(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=lW(d),p=new HA;return Object.assign(p,g),p})}}async update(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=kW(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const c=IW(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async listInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=_W(e);return l=et("cachedContents",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=EW(d),p=new zA;return Object.assign(p,g),p})}else{const c=vW(e);return l=et("cachedContents",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=TW(d),p=new zA;return Object.assign(p,g),p})}}}function XA(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gn(t){return this instanceof gn?(this.v=t,this):new gn(t)}function tc(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(x){return function(_){return Promise.resolve(_).then(x,g)}}function l(x,_){r[x]&&(i[x]=function(b){return new Promise(function(C,I){s.push([x,b,C,I])>1||f(x,b)})},_&&(i[x]=_(i[x])))}function f(x,_){try{c(r[x](_))}catch(b){p(s[0][3],b)}}function c(x){x.value instanceof gn?Promise.resolve(x.value.v).then(d,g):p(s[0][2],x)}function d(x){f("next",x)}function g(x){f("throw",x)}function p(x,_){x(_),s.shift(),s.length&&f(s[0][0],s[0][1])}}function t0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof XA=="function"?XA(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(l,f){o=t[s](o),i(l,f,o.done,o.value)})}}function i(s,o,l,f){Promise.resolve(f).then(function(c){s({value:c,done:l})},o)}}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */function AW(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Kk(n)}function Kk(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function CW(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function YA(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!Kk(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class IW{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new kW(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class kW{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),CW(s)}async sendMessage(e){var n;await this.sendPromise;const r=wr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,o,l;const f=await i,c=(o=(s=f.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,d=f.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let p=[];d!=null&&(p=(l=d.slice(g))!==null&&l!==void 0?l:[]);const x=c?[c]:[];this.recordHistory(r,x,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=wr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?YA(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Zl(this,arguments,function*(){var o,l,f,c;const d=[];try{for(var g=!0,p=e0(e),x;x=yield gn(p.next()),o=x.done,!o;g=!0){c=x.value,g=!1;const _=c;if(AW(_)){const b=(i=(r=_.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;b!==void 0&&d.push(b)}yield yield gn(_)}}catch(_){l={error:_}}finally{try{!g&&!o&&(f=p.return)&&(yield gn(f.call(p)))}finally{if(l)throw l.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...YA(r)):this.history.push(e),this.history.push(...i)}}/**
    + */function NW(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Zk(n)}function Zk(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function DW(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function JA(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!Zk(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class MW{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new PW(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class PW{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),DW(s)}async sendMessage(e){var n;await this.sendPromise;const r=wr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,o,l;const f=await i,c=(o=(s=f.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,d=f.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let p=[];d!=null&&(p=(l=d.slice(g))!==null&&l!==void 0?l:[]);const x=c?[c]:[];this.recordHistory(r,x,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=wr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?JA(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return tc(this,arguments,function*(){var o,l,f,c;const d=[];try{for(var g=!0,p=t0(e),x;x=yield gn(p.next()),o=x.done,!o;g=!0){c=x.value,g=!1;const _=c;if(NW(_)){const b=(i=(r=_.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;b!==void 0&&d.push(b)}yield yield gn(_)}}catch(_){l={error:_}}finally{try{!g&&!o&&(f=p.return)&&(yield gn(f.call(p)))}finally{if(l)throw l.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...JA(r)):this.history.push(e),this.history.push(...i)}}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */class mm extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,mm.prototype)}}/**
    + */class ym extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ym.prototype)}}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */function RW(t){const e={},n=y(t,["file"]);return n!=null&&E(e,["file"],n),e}function NW(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function DW(t){const e={},n=y(t,["name"]);return n!=null&&E(e,["_url","file"],qk(n)),e}function MW(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function PW(t){const e={},n=y(t,["name"]);return n!=null&&E(e,["_url","file"],qk(n)),e}function LW(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function OW(t){const e={},n=y(t,["config"]);return n!=null&&LW(n,e),e}function FW(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),E(e,["files"],s)}return e}/**
    + */function LW(t){const e={},n=y(t,["file"]);return n!=null&&E(e,["file"],n),e}function OW(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function FW(t){const e={},n=y(t,["name"]);return n!=null&&E(e,["_url","file"],$k(n)),e}function UW(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function VW(t){const e={},n=y(t,["name"]);return n!=null&&E(e,["_url","file"],$k(n)),e}function BW(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&E(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&E(e,["_query","pageToken"],i),n}function qW(t){const e={},n=y(t,["config"]);return n!=null&&BW(n,e),e}function HW(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),E(e,["files"],s)}return e}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */class UW extends $u{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new z0(Mu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=OW(e);return s=et("files",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>{const c=FW(f),d=new Yj;return Object.assign(d,c),d})}}async createInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=RW(e);return s=et("upload/v1beta/files",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const c=NW(f),d=new Xj;return Object.assign(d,c),d})}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=PW(e);return s=et("files/{file}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=DW(e);return s=et("files/{file}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>{const c=MW(f),d=new Jj;return Object.assign(d,c),d})}}}/**
    + */class zW extends Ku{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new G0(Pu.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=qW(e);return s=et("files",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>{const c=HW(f),d=new e$;return Object.assign(d,c),d})}}async createInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=LW(e);return s=et("upload/v1beta/files",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const c=OW(f),d=new t$;return Object.assign(d,c),d})}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=VW(e);return s=et("files/{file}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=FW(e);return s=et("files/{file}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>{const c=UW(f),d=new n$;return Object.assign(d,c),d})}}}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */function Kd(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["data"]);n!=null&&E(e,["data"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function VW(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>eK(s))),E(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&E(e,["role"],r),e}function BW(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function qW(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&E(e,["description"],n);const r=y(t,["name"]);r!=null&&E(e,["name"],r);const i=y(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=y(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const o=y(t,["response"]);o!=null&&E(e,["response"],o);const l=y(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function HW(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&E(e,["modelConfig"],n);const r=y(t,["audioTimestamp"]);r!=null&&E(e,["audioTimestamp"],r);const i=y(t,["candidateCount"]);i!=null&&E(e,["candidateCount"],i);const s=y(t,["enableAffectiveDialog"]);s!=null&&E(e,["enableAffectiveDialog"],s);const o=y(t,["frequencyPenalty"]);o!=null&&E(e,["frequencyPenalty"],o);const l=y(t,["logprobs"]);l!=null&&E(e,["logprobs"],l);const f=y(t,["maxOutputTokens"]);f!=null&&E(e,["maxOutputTokens"],f);const c=y(t,["mediaResolution"]);c!=null&&E(e,["mediaResolution"],c);const d=y(t,["presencePenalty"]);d!=null&&E(e,["presencePenalty"],d);const g=y(t,["responseJsonSchema"]);g!=null&&E(e,["responseJsonSchema"],g);const p=y(t,["responseLogprobs"]);p!=null&&E(e,["responseLogprobs"],p);const x=y(t,["responseMimeType"]);x!=null&&E(e,["responseMimeType"],x);const _=y(t,["responseModalities"]);_!=null&&E(e,["responseModalities"],_);const b=y(t,["responseSchema"]);b!=null&&E(e,["responseSchema"],b);const C=y(t,["routingConfig"]);C!=null&&E(e,["routingConfig"],C);const I=y(t,["seed"]);I!=null&&E(e,["seed"],I);const M=y(t,["speechConfig"]);M!=null&&E(e,["speechConfig"],Yk(M));const A=y(t,["stopSequences"]);A!=null&&E(e,["stopSequences"],A);const P=y(t,["temperature"]);P!=null&&E(e,["temperature"],P);const D=y(t,["thinkingConfig"]);D!=null&&E(e,["thinkingConfig"],D);const V=y(t,["topK"]);V!=null&&E(e,["topK"],V);const N=y(t,["topP"]);if(N!=null&&E(e,["topP"],N),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function zW(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&E(e,["enableWidget"],n),e}function GW(t){const e={},n=y(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],n),y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function jW(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=y(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const o=y(t,["topP"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topP"],o);const l=y(t,["topK"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","topK"],l);const f=y(t,["maxOutputTokens"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","maxOutputTokens"],f);const c=y(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const d=y(t,["seed"]);e!==void 0&&d!=null&&E(e,["setup","generationConfig","seed"],d);const g=y(t,["speechConfig"]);e!==void 0&&g!=null&&E(e,["setup","generationConfig","speechConfig"],a_(g));const p=y(t,["thinkingConfig"]);e!==void 0&&p!=null&&E(e,["setup","generationConfig","thinkingConfig"],p);const x=y(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],x);const _=y(t,["systemInstruction"]);e!==void 0&&_!=null&&E(e,["setup","systemInstruction"],VW(wr(_)));const b=y(t,["tools"]);if(e!==void 0&&b!=null){let V=Ac(b);Array.isArray(V)&&(V=V.map(N=>nK(Sc(N)))),E(e,["setup","tools"],V)}const C=y(t,["sessionResumption"]);e!==void 0&&C!=null&&E(e,["setup","sessionResumption"],tK(C));const I=y(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&E(e,["setup","inputAudioTranscription"],I);const M=y(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&E(e,["setup","outputAudioTranscription"],M);const A=y(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&E(e,["setup","realtimeInputConfig"],A);const P=y(t,["contextWindowCompression"]);e!==void 0&&P!=null&&E(e,["setup","contextWindowCompression"],P);const D=y(t,["proactivity"]);return e!==void 0&&D!=null&&E(e,["setup","proactivity"],D),n}function $W(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],HW(r));const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=y(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const o=y(t,["topP"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topP"],o);const l=y(t,["topK"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","topK"],l);const f=y(t,["maxOutputTokens"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","maxOutputTokens"],f);const c=y(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const d=y(t,["seed"]);e!==void 0&&d!=null&&E(e,["setup","generationConfig","seed"],d);const g=y(t,["speechConfig"]);e!==void 0&&g!=null&&E(e,["setup","generationConfig","speechConfig"],Yk(a_(g)));const p=y(t,["thinkingConfig"]);e!==void 0&&p!=null&&E(e,["setup","generationConfig","thinkingConfig"],p);const x=y(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],x);const _=y(t,["systemInstruction"]);e!==void 0&&_!=null&&E(e,["setup","systemInstruction"],wr(_));const b=y(t,["tools"]);if(e!==void 0&&b!=null){let V=Ac(b);Array.isArray(V)&&(V=V.map(N=>rK(Sc(N)))),E(e,["setup","tools"],V)}const C=y(t,["sessionResumption"]);e!==void 0&&C!=null&&E(e,["setup","sessionResumption"],C);const I=y(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&E(e,["setup","inputAudioTranscription"],I);const M=y(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&E(e,["setup","outputAudioTranscription"],M);const A=y(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&E(e,["setup","realtimeInputConfig"],A);const P=y(t,["contextWindowCompression"]);e!==void 0&&P!=null&&E(e,["setup","contextWindowCompression"],P);const D=y(t,["proactivity"]);return e!==void 0&&D!=null&&E(e,["setup","proactivity"],D),n}function WW(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["setup","model"],Ht(t,r));const i=y(e,["config"]);return i!=null&&E(n,["config"],jW(i,n)),n}function KW(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["setup","model"],Ht(t,r));const i=y(e,["config"]);return i!=null&&E(n,["config"],$W(i,n)),n}function YW(t){const e={},n=y(t,["musicGenerationConfig"]);return n!=null&&E(e,["musicGenerationConfig"],n),e}function XW(t){const e={},n=y(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),E(e,["weightedPrompts"],r)}return e}function JW(t){const e={},n=y(t,["media"]);if(n!=null){let c=Ok(n);Array.isArray(c)&&(c=c.map(d=>Kd(d))),E(e,["mediaChunks"],c)}const r=y(t,["audio"]);r!=null&&E(e,["audio"],Kd(Uk(r)));const i=y(t,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=y(t,["video"]);s!=null&&E(e,["video"],Kd(Fk(s)));const o=y(t,["text"]);o!=null&&E(e,["text"],o);const l=y(t,["activityStart"]);l!=null&&E(e,["activityStart"],l);const f=y(t,["activityEnd"]);return f!=null&&E(e,["activityEnd"],f),e}function QW(t){const e={},n=y(t,["media"]);if(n!=null){let c=Ok(n);Array.isArray(c)&&(c=c.map(d=>d)),E(e,["mediaChunks"],c)}const r=y(t,["audio"]);r!=null&&E(e,["audio"],Uk(r));const i=y(t,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=y(t,["video"]);s!=null&&E(e,["video"],Fk(s));const o=y(t,["text"]);o!=null&&E(e,["text"],o);const l=y(t,["activityStart"]);l!=null&&E(e,["activityStart"],l);const f=y(t,["activityEnd"]);return f!=null&&E(e,["activityEnd"],f),e}function ZW(t){const e={},n=y(t,["setupComplete"]);n!=null&&E(e,["setupComplete"],n);const r=y(t,["serverContent"]);r!=null&&E(e,["serverContent"],r);const i=y(t,["toolCall"]);i!=null&&E(e,["toolCall"],i);const s=y(t,["toolCallCancellation"]);s!=null&&E(e,["toolCallCancellation"],s);const o=y(t,["usageMetadata"]);o!=null&&E(e,["usageMetadata"],iK(o));const l=y(t,["goAway"]);l!=null&&E(e,["goAway"],l);const f=y(t,["sessionResumptionUpdate"]);return f!=null&&E(e,["sessionResumptionUpdate"],f),e}function eK(t){const e={},n=y(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],n);const r=y(t,["thought"]);r!=null&&E(e,["thought"],r);const i=y(t,["inlineData"]);i!=null&&E(e,["inlineData"],Kd(i));const s=y(t,["fileData"]);s!=null&&E(e,["fileData"],BW(s));const o=y(t,["thoughtSignature"]);o!=null&&E(e,["thoughtSignature"],o);const l=y(t,["functionCall"]);l!=null&&E(e,["functionCall"],l);const f=y(t,["codeExecutionResult"]);f!=null&&E(e,["codeExecutionResult"],f);const c=y(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const d=y(t,["functionResponse"]);d!=null&&E(e,["functionResponse"],d);const g=y(t,["text"]);return g!=null&&E(e,["text"],g),e}function tK(t){const e={},n=y(t,["handle"]);if(n!=null&&E(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Yk(t){const e={},n=y(t,["voiceConfig"]);if(n!=null&&E(e,["voiceConfig"],n),y(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=y(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function nK(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),E(e,["functionDeclarations"],c)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],GW(r));const i=y(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(t,["googleMaps"]);s!=null&&E(e,["googleMaps"],zW(s));const o=y(t,["urlContext"]);o!=null&&E(e,["urlContext"],o);const l=y(t,["computerUse"]);l!=null&&E(e,["computerUse"],l);const f=y(t,["codeExecution"]);return f!=null&&E(e,["codeExecution"],f),e}function rK(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(p=>qW(p))),E(e,["functionDeclarations"],g)}const r=y(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=y(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],i);const s=y(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],s);const o=y(t,["enterpriseWebSearch"]);o!=null&&E(e,["enterpriseWebSearch"],o);const l=y(t,["googleMaps"]);l!=null&&E(e,["googleMaps"],l);const f=y(t,["urlContext"]);f!=null&&E(e,["urlContext"],f);const c=y(t,["computerUse"]);c!=null&&E(e,["computerUse"],c);const d=y(t,["codeExecution"]);return d!=null&&E(e,["codeExecution"],d),e}function iK(t){const e={},n=y(t,["promptTokenCount"]);n!=null&&E(e,["promptTokenCount"],n);const r=y(t,["cachedContentTokenCount"]);r!=null&&E(e,["cachedContentTokenCount"],r);const i=y(t,["candidatesTokenCount"]);i!=null&&E(e,["responseTokenCount"],i);const s=y(t,["toolUsePromptTokenCount"]);s!=null&&E(e,["toolUsePromptTokenCount"],s);const o=y(t,["thoughtsTokenCount"]);o!=null&&E(e,["thoughtsTokenCount"],o);const l=y(t,["totalTokenCount"]);l!=null&&E(e,["totalTokenCount"],l);const f=y(t,["promptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(_=>_)),E(e,["promptTokensDetails"],x)}const c=y(t,["cacheTokensDetails"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(_=>_)),E(e,["cacheTokensDetails"],x)}const d=y(t,["candidatesTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(_=>_)),E(e,["responseTokensDetails"],x)}const g=y(t,["toolUsePromptTokensDetails"]);if(g!=null){let x=g;Array.isArray(x)&&(x=x.map(_=>_)),E(e,["toolUsePromptTokensDetails"],x)}const p=y(t,["trafficType"]);return p!=null&&E(e,["trafficType"],p),e}/**
    + */function Yd(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["data"]);n!=null&&E(e,["data"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function GW(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>sK(s))),E(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&E(e,["role"],r),e}function jW(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function $W(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&E(e,["description"],n);const r=y(t,["name"]);r!=null&&E(e,["name"],r);const i=y(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=y(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const o=y(t,["response"]);o!=null&&E(e,["response"],o);const l=y(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function WW(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&E(e,["modelConfig"],n);const r=y(t,["audioTimestamp"]);r!=null&&E(e,["audioTimestamp"],r);const i=y(t,["candidateCount"]);i!=null&&E(e,["candidateCount"],i);const s=y(t,["enableAffectiveDialog"]);s!=null&&E(e,["enableAffectiveDialog"],s);const o=y(t,["frequencyPenalty"]);o!=null&&E(e,["frequencyPenalty"],o);const l=y(t,["logprobs"]);l!=null&&E(e,["logprobs"],l);const f=y(t,["maxOutputTokens"]);f!=null&&E(e,["maxOutputTokens"],f);const c=y(t,["mediaResolution"]);c!=null&&E(e,["mediaResolution"],c);const d=y(t,["presencePenalty"]);d!=null&&E(e,["presencePenalty"],d);const g=y(t,["responseJsonSchema"]);g!=null&&E(e,["responseJsonSchema"],g);const p=y(t,["responseLogprobs"]);p!=null&&E(e,["responseLogprobs"],p);const x=y(t,["responseMimeType"]);x!=null&&E(e,["responseMimeType"],x);const _=y(t,["responseModalities"]);_!=null&&E(e,["responseModalities"],_);const b=y(t,["responseSchema"]);b!=null&&E(e,["responseSchema"],b);const C=y(t,["routingConfig"]);C!=null&&E(e,["routingConfig"],C);const I=y(t,["seed"]);I!=null&&E(e,["seed"],I);const D=y(t,["speechConfig"]);D!=null&&E(e,["speechConfig"],eR(D));const A=y(t,["stopSequences"]);A!=null&&E(e,["stopSequences"],A);const P=y(t,["temperature"]);P!=null&&E(e,["temperature"],P);const M=y(t,["thinkingConfig"]);M!=null&&E(e,["thinkingConfig"],M);const U=y(t,["topK"]);U!=null&&E(e,["topK"],U);const N=y(t,["topP"]);if(N!=null&&E(e,["topP"],N),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function KW(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&E(e,["enableWidget"],n),e}function YW(t){const e={},n=y(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],n),y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function XW(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=y(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const o=y(t,["topP"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topP"],o);const l=y(t,["topK"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","topK"],l);const f=y(t,["maxOutputTokens"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","maxOutputTokens"],f);const c=y(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const d=y(t,["seed"]);e!==void 0&&d!=null&&E(e,["setup","generationConfig","seed"],d);const g=y(t,["speechConfig"]);e!==void 0&&g!=null&&E(e,["setup","generationConfig","speechConfig"],l_(g));const p=y(t,["thinkingConfig"]);e!==void 0&&p!=null&&E(e,["setup","generationConfig","thinkingConfig"],p);const x=y(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],x);const _=y(t,["systemInstruction"]);e!==void 0&&_!=null&&E(e,["setup","systemInstruction"],GW(wr(_)));const b=y(t,["tools"]);if(e!==void 0&&b!=null){let U=Cc(b);Array.isArray(U)&&(U=U.map(N=>oK(Ac(N)))),E(e,["setup","tools"],U)}const C=y(t,["sessionResumption"]);e!==void 0&&C!=null&&E(e,["setup","sessionResumption"],aK(C));const I=y(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&E(e,["setup","inputAudioTranscription"],I);const D=y(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&E(e,["setup","outputAudioTranscription"],D);const A=y(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&E(e,["setup","realtimeInputConfig"],A);const P=y(t,["contextWindowCompression"]);e!==void 0&&P!=null&&E(e,["setup","contextWindowCompression"],P);const M=y(t,["proactivity"]);return e!==void 0&&M!=null&&E(e,["setup","proactivity"],M),n}function JW(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],WW(r));const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=y(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const o=y(t,["topP"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topP"],o);const l=y(t,["topK"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","topK"],l);const f=y(t,["maxOutputTokens"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","maxOutputTokens"],f);const c=y(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const d=y(t,["seed"]);e!==void 0&&d!=null&&E(e,["setup","generationConfig","seed"],d);const g=y(t,["speechConfig"]);e!==void 0&&g!=null&&E(e,["setup","generationConfig","speechConfig"],eR(l_(g)));const p=y(t,["thinkingConfig"]);e!==void 0&&p!=null&&E(e,["setup","generationConfig","thinkingConfig"],p);const x=y(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],x);const _=y(t,["systemInstruction"]);e!==void 0&&_!=null&&E(e,["setup","systemInstruction"],wr(_));const b=y(t,["tools"]);if(e!==void 0&&b!=null){let U=Cc(b);Array.isArray(U)&&(U=U.map(N=>uK(Ac(N)))),E(e,["setup","tools"],U)}const C=y(t,["sessionResumption"]);e!==void 0&&C!=null&&E(e,["setup","sessionResumption"],C);const I=y(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&E(e,["setup","inputAudioTranscription"],I);const D=y(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&E(e,["setup","outputAudioTranscription"],D);const A=y(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&E(e,["setup","realtimeInputConfig"],A);const P=y(t,["contextWindowCompression"]);e!==void 0&&P!=null&&E(e,["setup","contextWindowCompression"],P);const M=y(t,["proactivity"]);return e!==void 0&&M!=null&&E(e,["setup","proactivity"],M),n}function QW(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["setup","model"],Ht(t,r));const i=y(e,["config"]);return i!=null&&E(n,["config"],XW(i,n)),n}function ZW(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["setup","model"],Ht(t,r));const i=y(e,["config"]);return i!=null&&E(n,["config"],JW(i,n)),n}function eK(t){const e={},n=y(t,["musicGenerationConfig"]);return n!=null&&E(e,["musicGenerationConfig"],n),e}function tK(t){const e={},n=y(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),E(e,["weightedPrompts"],r)}return e}function nK(t){const e={},n=y(t,["media"]);if(n!=null){let c=qk(n);Array.isArray(c)&&(c=c.map(d=>Yd(d))),E(e,["mediaChunks"],c)}const r=y(t,["audio"]);r!=null&&E(e,["audio"],Yd(zk(r)));const i=y(t,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=y(t,["video"]);s!=null&&E(e,["video"],Yd(Hk(s)));const o=y(t,["text"]);o!=null&&E(e,["text"],o);const l=y(t,["activityStart"]);l!=null&&E(e,["activityStart"],l);const f=y(t,["activityEnd"]);return f!=null&&E(e,["activityEnd"],f),e}function rK(t){const e={},n=y(t,["media"]);if(n!=null){let c=qk(n);Array.isArray(c)&&(c=c.map(d=>d)),E(e,["mediaChunks"],c)}const r=y(t,["audio"]);r!=null&&E(e,["audio"],zk(r));const i=y(t,["audioStreamEnd"]);i!=null&&E(e,["audioStreamEnd"],i);const s=y(t,["video"]);s!=null&&E(e,["video"],Hk(s));const o=y(t,["text"]);o!=null&&E(e,["text"],o);const l=y(t,["activityStart"]);l!=null&&E(e,["activityStart"],l);const f=y(t,["activityEnd"]);return f!=null&&E(e,["activityEnd"],f),e}function iK(t){const e={},n=y(t,["setupComplete"]);n!=null&&E(e,["setupComplete"],n);const r=y(t,["serverContent"]);r!=null&&E(e,["serverContent"],r);const i=y(t,["toolCall"]);i!=null&&E(e,["toolCall"],i);const s=y(t,["toolCallCancellation"]);s!=null&&E(e,["toolCallCancellation"],s);const o=y(t,["usageMetadata"]);o!=null&&E(e,["usageMetadata"],lK(o));const l=y(t,["goAway"]);l!=null&&E(e,["goAway"],l);const f=y(t,["sessionResumptionUpdate"]);return f!=null&&E(e,["sessionResumptionUpdate"],f),e}function sK(t){const e={},n=y(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],n);const r=y(t,["thought"]);r!=null&&E(e,["thought"],r);const i=y(t,["inlineData"]);i!=null&&E(e,["inlineData"],Yd(i));const s=y(t,["fileData"]);s!=null&&E(e,["fileData"],jW(s));const o=y(t,["thoughtSignature"]);o!=null&&E(e,["thoughtSignature"],o);const l=y(t,["functionCall"]);l!=null&&E(e,["functionCall"],l);const f=y(t,["codeExecutionResult"]);f!=null&&E(e,["codeExecutionResult"],f);const c=y(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const d=y(t,["functionResponse"]);d!=null&&E(e,["functionResponse"],d);const g=y(t,["text"]);return g!=null&&E(e,["text"],g),e}function aK(t){const e={},n=y(t,["handle"]);if(n!=null&&E(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function eR(t){const e={},n=y(t,["voiceConfig"]);if(n!=null&&E(e,["voiceConfig"],n),y(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=y(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function oK(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),E(e,["functionDeclarations"],c)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],YW(r));const i=y(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(t,["googleMaps"]);s!=null&&E(e,["googleMaps"],KW(s));const o=y(t,["urlContext"]);o!=null&&E(e,["urlContext"],o);const l=y(t,["computerUse"]);l!=null&&E(e,["computerUse"],l);const f=y(t,["codeExecution"]);return f!=null&&E(e,["codeExecution"],f),e}function uK(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(p=>$W(p))),E(e,["functionDeclarations"],g)}const r=y(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=y(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],i);const s=y(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],s);const o=y(t,["enterpriseWebSearch"]);o!=null&&E(e,["enterpriseWebSearch"],o);const l=y(t,["googleMaps"]);l!=null&&E(e,["googleMaps"],l);const f=y(t,["urlContext"]);f!=null&&E(e,["urlContext"],f);const c=y(t,["computerUse"]);c!=null&&E(e,["computerUse"],c);const d=y(t,["codeExecution"]);return d!=null&&E(e,["codeExecution"],d),e}function lK(t){const e={},n=y(t,["promptTokenCount"]);n!=null&&E(e,["promptTokenCount"],n);const r=y(t,["cachedContentTokenCount"]);r!=null&&E(e,["cachedContentTokenCount"],r);const i=y(t,["candidatesTokenCount"]);i!=null&&E(e,["responseTokenCount"],i);const s=y(t,["toolUsePromptTokenCount"]);s!=null&&E(e,["toolUsePromptTokenCount"],s);const o=y(t,["thoughtsTokenCount"]);o!=null&&E(e,["thoughtsTokenCount"],o);const l=y(t,["totalTokenCount"]);l!=null&&E(e,["totalTokenCount"],l);const f=y(t,["promptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(_=>_)),E(e,["promptTokensDetails"],x)}const c=y(t,["cacheTokensDetails"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(_=>_)),E(e,["cacheTokensDetails"],x)}const d=y(t,["candidatesTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(_=>_)),E(e,["responseTokensDetails"],x)}const g=y(t,["toolUsePromptTokensDetails"]);if(g!=null){let x=g;Array.isArray(x)&&(x=x.map(_=>_)),E(e,["toolUsePromptTokensDetails"],x)}const p=y(t,["trafficType"]);return p!=null&&E(e,["trafficType"],p),e}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */function sK(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["data"]);n!=null&&E(e,["data"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function aK(t){const e={},n=y(t,["content"]);n!=null&&E(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],oK(r));const i=y(t,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=y(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const o=y(t,["urlContextMetadata"]);o!=null&&E(e,["urlContextMetadata"],o);const l=y(t,["avgLogprobs"]);l!=null&&E(e,["avgLogprobs"],l);const f=y(t,["groundingMetadata"]);f!=null&&E(e,["groundingMetadata"],f);const c=y(t,["index"]);c!=null&&E(e,["index"],c);const d=y(t,["logprobsResult"]);d!=null&&E(e,["logprobsResult"],d);const g=y(t,["safetyRatings"]);if(g!=null){let p=g;Array.isArray(p)&&(p=p.map(x=>x)),E(e,["safetyRatings"],p)}return e}function oK(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),E(e,["citations"],r)}return e}function uK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let s=Ni(i);Array.isArray(s)&&(s=s.map(o=>o)),E(n,["contents"],s)}return n}function lK(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),E(e,["tokensInfo"],i)}return e}function cK(t){const e={},n=y(t,["values"]);n!=null&&E(e,["values"],n);const r=y(t,["statistics"]);return r!=null&&E(e,["statistics"],fK(r)),e}function fK(t){const e={},n=y(t,["truncated"]);n!=null&&E(e,["truncated"],n);const r=y(t,["token_count"]);return r!=null&&E(e,["tokenCount"],r),e}function gm(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>gY(s))),E(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&E(e,["role"],r),e}function hK(t){const e={},n=y(t,["controlType"]);n!=null&&E(e,["controlType"],n);const r=y(t,["enableControlImageComputation"]);return r!=null&&E(e,["computeControl"],r),e}function dK(t){const e={};if(y(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function pK(t,e){const n={},r=y(t,["systemInstruction"]);e!==void 0&&r!=null&&E(e,["systemInstruction"],wr(r));const i=y(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>eR(l))),E(e,["tools"],o)}const s=y(t,["generationConfig"]);return e!==void 0&&s!=null&&E(e,["generationConfig"],rY(s)),n}function mK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let o=Ni(i);Array.isArray(o)&&(o=o.map(l=>gm(l))),E(n,["contents"],o)}const s=y(e,["config"]);return s!=null&&dK(s),n}function gK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let o=Ni(i);Array.isArray(o)&&(o=o.map(l=>l)),E(n,["contents"],o)}const s=y(e,["config"]);return s!=null&&pK(s,n),n}function xK(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["totalTokens"]);r!=null&&E(e,["totalTokens"],r);const i=y(t,["cachedContentTokenCount"]);return i!=null&&E(e,["cachedContentTokenCount"],i),e}function yK(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["totalTokens"]);return r!=null&&E(e,["totalTokens"],r),e}function vK(t,e){const n={},r=y(e,["model"]);return r!=null&&E(n,["_url","name"],Ht(t,r)),n}function _K(t,e){const n={},r=y(e,["model"]);return r!=null&&E(n,["_url","name"],Ht(t,r)),n}function TK(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function EK(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function bK(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=y(t,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=y(t,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const o=y(t,["aspectRatio"]);e!==void 0&&o!=null&&E(e,["parameters","aspectRatio"],o);const l=y(t,["guidanceScale"]);e!==void 0&&l!=null&&E(e,["parameters","guidanceScale"],l);const f=y(t,["seed"]);e!==void 0&&f!=null&&E(e,["parameters","seed"],f);const c=y(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const d=y(t,["personGeneration"]);e!==void 0&&d!=null&&E(e,["parameters","personGeneration"],d);const g=y(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&E(e,["parameters","includeSafetyAttributes"],g);const p=y(t,["includeRaiReason"]);e!==void 0&&p!=null&&E(e,["parameters","includeRaiReason"],p);const x=y(t,["language"]);e!==void 0&&x!=null&&E(e,["parameters","language"],x);const _=y(t,["outputMimeType"]);e!==void 0&&_!=null&&E(e,["parameters","outputOptions","mimeType"],_);const b=y(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&E(e,["parameters","outputOptions","compressionQuality"],b);const C=y(t,["addWatermark"]);e!==void 0&&C!=null&&E(e,["parameters","addWatermark"],C);const I=y(t,["labels"]);e!==void 0&&I!=null&&E(e,["labels"],I);const M=y(t,["editMode"]);e!==void 0&&M!=null&&E(e,["parameters","editMode"],M);const A=y(t,["baseSteps"]);return e!==void 0&&A!=null&&E(e,["parameters","editConfig","baseSteps"],A),n}function wK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=y(e,["referenceImages"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(f=>EY(f))),E(n,["instances[0]","referenceImages"],l)}const o=y(e,["config"]);return o!=null&&bK(o,n),n}function SK(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>xm(s))),E(e,["generatedImages"],i)}return e}function AK(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&E(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=y(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function CK(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&E(e,["instances[]","task_type"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&E(e,["instances[]","title"],i);const s=y(t,["outputDimensionality"]);e!==void 0&&s!=null&&E(e,["parameters","outputDimensionality"],s);const o=y(t,["mimeType"]);e!==void 0&&o!=null&&E(e,["instances[]","mimeType"],o);const l=y(t,["autoTruncate"]);return e!==void 0&&l!=null&&E(e,["parameters","autoTruncate"],l),n}function IK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let l=r_(t,i);Array.isArray(l)&&(l=l.map(f=>f)),E(n,["requests[]","content"],l)}const s=y(e,["config"]);s!=null&&AK(s,n);const o=y(e,["model"]);return o!==void 0&&E(n,["requests[]","model"],Ht(t,o)),n}function kK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let o=r_(t,i);Array.isArray(o)&&(o=o.map(l=>l)),E(n,["instances[]","content"],o)}const s=y(e,["config"]);return s!=null&&CK(s,n),n}function RK(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),E(e,["embeddings"],s)}const i=y(t,["metadata"]);return i!=null&&E(e,["metadata"],i),e}function NK(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>cK(o))),E(e,["embeddings"],s)}const i=y(t,["metadata"]);return i!=null&&E(e,["metadata"],i),e}function DK(t){const e={},n=y(t,["endpoint"]);n!=null&&E(e,["name"],n);const r=y(t,["deployedModelId"]);return r!=null&&E(e,["deployedModelId"],r),e}function MK(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function PK(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&E(e,["description"],n);const r=y(t,["name"]);r!=null&&E(e,["name"],r);const i=y(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=y(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const o=y(t,["response"]);o!=null&&E(e,["response"],o);const l=y(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function LK(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],gm(wr(i)));const s=y(e,["temperature"]);s!=null&&E(r,["temperature"],s);const o=y(e,["topP"]);o!=null&&E(r,["topP"],o);const l=y(e,["topK"]);l!=null&&E(r,["topK"],l);const f=y(e,["candidateCount"]);f!=null&&E(r,["candidateCount"],f);const c=y(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const d=y(e,["stopSequences"]);d!=null&&E(r,["stopSequences"],d);const g=y(e,["responseLogprobs"]);g!=null&&E(r,["responseLogprobs"],g);const p=y(e,["logprobs"]);p!=null&&E(r,["logprobs"],p);const x=y(e,["presencePenalty"]);x!=null&&E(r,["presencePenalty"],x);const _=y(e,["frequencyPenalty"]);_!=null&&E(r,["frequencyPenalty"],_);const b=y(e,["seed"]);b!=null&&E(r,["seed"],b);const C=y(e,["responseMimeType"]);C!=null&&E(r,["responseMimeType"],C);const I=y(e,["responseSchema"]);I!=null&&E(r,["responseSchema"],i_(I));const M=y(e,["responseJsonSchema"]);if(M!=null&&E(r,["responseJsonSchema"],M),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=y(e,["safetySettings"]);if(n!==void 0&&A!=null){let U=A;Array.isArray(U)&&(U=U.map(q=>bY(q))),E(n,["safetySettings"],U)}const P=y(e,["tools"]);if(n!==void 0&&P!=null){let U=Ac(P);Array.isArray(U)&&(U=U.map(q=>kY(Sc(q)))),E(n,["tools"],U)}const D=y(e,["toolConfig"]);if(n!==void 0&&D!=null&&E(n,["toolConfig"],D),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const V=y(e,["cachedContent"]);n!==void 0&&V!=null&&E(n,["cachedContent"],Sa(t,V));const N=y(e,["responseModalities"]);N!=null&&E(r,["responseModalities"],N);const k=y(e,["mediaResolution"]);k!=null&&E(r,["mediaResolution"],k);const R=y(e,["speechConfig"]);if(R!=null&&E(r,["speechConfig"],s_(R)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=y(e,["thinkingConfig"]);O!=null&&E(r,["thinkingConfig"],O);const L=y(e,["imageConfig"]);return L!=null&&E(r,["imageConfig"],L),r}function OK(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],wr(i));const s=y(e,["temperature"]);s!=null&&E(r,["temperature"],s);const o=y(e,["topP"]);o!=null&&E(r,["topP"],o);const l=y(e,["topK"]);l!=null&&E(r,["topK"],l);const f=y(e,["candidateCount"]);f!=null&&E(r,["candidateCount"],f);const c=y(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const d=y(e,["stopSequences"]);d!=null&&E(r,["stopSequences"],d);const g=y(e,["responseLogprobs"]);g!=null&&E(r,["responseLogprobs"],g);const p=y(e,["logprobs"]);p!=null&&E(r,["logprobs"],p);const x=y(e,["presencePenalty"]);x!=null&&E(r,["presencePenalty"],x);const _=y(e,["frequencyPenalty"]);_!=null&&E(r,["frequencyPenalty"],_);const b=y(e,["seed"]);b!=null&&E(r,["seed"],b);const C=y(e,["responseMimeType"]);C!=null&&E(r,["responseMimeType"],C);const I=y(e,["responseSchema"]);I!=null&&E(r,["responseSchema"],i_(I));const M=y(e,["responseJsonSchema"]);M!=null&&E(r,["responseJsonSchema"],M);const A=y(e,["routingConfig"]);A!=null&&E(r,["routingConfig"],A);const P=y(e,["modelSelectionConfig"]);P!=null&&E(r,["modelConfig"],P);const D=y(e,["safetySettings"]);if(n!==void 0&&D!=null){let se=D;Array.isArray(se)&&(se=se.map(ue=>ue)),E(n,["safetySettings"],se)}const V=y(e,["tools"]);if(n!==void 0&&V!=null){let se=Ac(V);Array.isArray(se)&&(se=se.map(ue=>eR(Sc(ue)))),E(n,["tools"],se)}const N=y(e,["toolConfig"]);n!==void 0&&N!=null&&E(n,["toolConfig"],N);const k=y(e,["labels"]);n!==void 0&&k!=null&&E(n,["labels"],k);const R=y(e,["cachedContent"]);n!==void 0&&R!=null&&E(n,["cachedContent"],Sa(t,R));const O=y(e,["responseModalities"]);O!=null&&E(r,["responseModalities"],O);const L=y(e,["mediaResolution"]);L!=null&&E(r,["mediaResolution"],L);const U=y(e,["speechConfig"]);U!=null&&E(r,["speechConfig"],Zk(s_(U)));const q=y(e,["audioTimestamp"]);q!=null&&E(r,["audioTimestamp"],q);const he=y(e,["thinkingConfig"]);he!=null&&E(r,["thinkingConfig"],he);const ae=y(e,["imageConfig"]);return ae!=null&&E(r,["imageConfig"],ae),r}function XA(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let o=Ni(i);Array.isArray(o)&&(o=o.map(l=>gm(l))),E(n,["contents"],o)}const s=y(e,["config"]);return s!=null&&E(n,["generationConfig"],LK(t,s,n)),n}function JA(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let o=Ni(i);Array.isArray(o)&&(o=o.map(l=>l)),E(n,["contents"],o)}const s=y(e,["config"]);return s!=null&&E(n,["generationConfig"],OK(t,s,n)),n}function QA(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(c=>aK(c))),E(e,["candidates"],f)}const i=y(t,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=y(t,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const o=y(t,["responseId"]);o!=null&&E(e,["responseId"],o);const l=y(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function ZA(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),E(e,["candidates"],c)}const i=y(t,["createTime"]);i!=null&&E(e,["createTime"],i);const s=y(t,["modelVersion"]);s!=null&&E(e,["modelVersion"],s);const o=y(t,["promptFeedback"]);o!=null&&E(e,["promptFeedback"],o);const l=y(t,["responseId"]);l!=null&&E(e,["responseId"],l);const f=y(t,["usageMetadata"]);return f!=null&&E(e,["usageMetadata"],f),e}function FK(t,e){const n={};if(y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(t,["numberOfImages"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=y(t,["aspectRatio"]);e!==void 0&&i!=null&&E(e,["parameters","aspectRatio"],i);const s=y(t,["guidanceScale"]);if(e!==void 0&&s!=null&&E(e,["parameters","guidanceScale"],s),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=y(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&E(e,["parameters","safetySetting"],o);const l=y(t,["personGeneration"]);e!==void 0&&l!=null&&E(e,["parameters","personGeneration"],l);const f=y(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&E(e,["parameters","includeSafetyAttributes"],f);const c=y(t,["includeRaiReason"]);e!==void 0&&c!=null&&E(e,["parameters","includeRaiReason"],c);const d=y(t,["language"]);e!==void 0&&d!=null&&E(e,["parameters","language"],d);const g=y(t,["outputMimeType"]);e!==void 0&&g!=null&&E(e,["parameters","outputOptions","mimeType"],g);const p=y(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&E(e,["parameters","outputOptions","compressionQuality"],p),y(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=y(t,["imageSize"]);if(e!==void 0&&x!=null&&E(e,["parameters","sampleImageSize"],x),y(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function UK(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=y(t,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=y(t,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const o=y(t,["aspectRatio"]);e!==void 0&&o!=null&&E(e,["parameters","aspectRatio"],o);const l=y(t,["guidanceScale"]);e!==void 0&&l!=null&&E(e,["parameters","guidanceScale"],l);const f=y(t,["seed"]);e!==void 0&&f!=null&&E(e,["parameters","seed"],f);const c=y(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const d=y(t,["personGeneration"]);e!==void 0&&d!=null&&E(e,["parameters","personGeneration"],d);const g=y(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&E(e,["parameters","includeSafetyAttributes"],g);const p=y(t,["includeRaiReason"]);e!==void 0&&p!=null&&E(e,["parameters","includeRaiReason"],p);const x=y(t,["language"]);e!==void 0&&x!=null&&E(e,["parameters","language"],x);const _=y(t,["outputMimeType"]);e!==void 0&&_!=null&&E(e,["parameters","outputOptions","mimeType"],_);const b=y(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&E(e,["parameters","outputOptions","compressionQuality"],b);const C=y(t,["addWatermark"]);e!==void 0&&C!=null&&E(e,["parameters","addWatermark"],C);const I=y(t,["labels"]);e!==void 0&&I!=null&&E(e,["labels"],I);const M=y(t,["imageSize"]);e!==void 0&&M!=null&&E(e,["parameters","sampleImageSize"],M);const A=y(t,["enhancePrompt"]);return e!==void 0&&A!=null&&E(e,["parameters","enhancePrompt"],A),n}function VK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&FK(s,n),n}function BK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&UK(s,n),n}function qK(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>ZK(o))),E(e,["generatedImages"],s)}const i=y(t,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],Jk(i)),e}function HK(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>xm(o))),E(e,["generatedImages"],s)}const i=y(t,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],Qk(i)),e}function zK(t,e){const n={},r=y(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r),y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(t,["durationSeconds"]);if(e!==void 0&&i!=null&&E(e,["parameters","durationSeconds"],i),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(t,["aspectRatio"]);e!==void 0&&s!=null&&E(e,["parameters","aspectRatio"],s);const o=y(t,["resolution"]);e!==void 0&&o!=null&&E(e,["parameters","resolution"],o);const l=y(t,["personGeneration"]);if(e!==void 0&&l!=null&&E(e,["parameters","personGeneration"],l),y(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=y(t,["negativePrompt"]);e!==void 0&&f!=null&&E(e,["parameters","negativePrompt"],f);const c=y(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&E(e,["parameters","enhancePrompt"],c),y(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=y(t,["lastFrame"]);e!==void 0&&d!=null&&E(e,["instances[0]","lastFrame"],ym(d));const g=y(t,["referenceImages"]);if(e!==void 0&&g!=null){let p=g;Array.isArray(p)&&(p=p.map(x=>HY(x))),E(e,["instances[0]","referenceImages"],p)}if(y(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function GK(t,e){const n={},r=y(t,["numberOfVideos"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=y(t,["outputGcsUri"]);e!==void 0&&i!=null&&E(e,["parameters","storageUri"],i);const s=y(t,["fps"]);e!==void 0&&s!=null&&E(e,["parameters","fps"],s);const o=y(t,["durationSeconds"]);e!==void 0&&o!=null&&E(e,["parameters","durationSeconds"],o);const l=y(t,["seed"]);e!==void 0&&l!=null&&E(e,["parameters","seed"],l);const f=y(t,["aspectRatio"]);e!==void 0&&f!=null&&E(e,["parameters","aspectRatio"],f);const c=y(t,["resolution"]);e!==void 0&&c!=null&&E(e,["parameters","resolution"],c);const d=y(t,["personGeneration"]);e!==void 0&&d!=null&&E(e,["parameters","personGeneration"],d);const g=y(t,["pubsubTopic"]);e!==void 0&&g!=null&&E(e,["parameters","pubsubTopic"],g);const p=y(t,["negativePrompt"]);e!==void 0&&p!=null&&E(e,["parameters","negativePrompt"],p);const x=y(t,["enhancePrompt"]);e!==void 0&&x!=null&&E(e,["parameters","enhancePrompt"],x);const _=y(t,["generateAudio"]);e!==void 0&&_!=null&&E(e,["parameters","generateAudio"],_);const b=y(t,["lastFrame"]);e!==void 0&&b!=null&&E(e,["instances[0]","lastFrame"],us(b));const C=y(t,["referenceImages"]);if(e!==void 0&&C!=null){let A=C;Array.isArray(A)&&(A=A.map(P=>zY(P))),E(e,["instances[0]","referenceImages"],A)}const I=y(t,["mask"]);e!==void 0&&I!=null&&E(e,["instances[0]","mask"],qY(I));const M=y(t,["compressionQuality"]);return e!==void 0&&M!=null&&E(e,["parameters","compressionQuality"],M),n}function jK(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=y(t,["done"]);i!=null&&E(e,["done"],i);const s=y(t,["error"]);s!=null&&E(e,["error"],s);const o=y(t,["response","generateVideoResponse"]);return o!=null&&E(e,["response"],YK(o)),e}function $K(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=y(t,["done"]);i!=null&&E(e,["done"],i);const s=y(t,["error"]);s!=null&&E(e,["error"],s);const o=y(t,["response"]);return o!=null&&E(e,["response"],XK(o)),e}function WK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&E(n,["instances[0]","image"],ym(s));const o=y(e,["video"]);o!=null&&E(n,["instances[0]","video"],tR(o));const l=y(e,["source"]);l!=null&&JK(l,n);const f=y(e,["config"]);return f!=null&&zK(f,n),n}function KK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&E(n,["instances[0]","image"],us(s));const o=y(e,["video"]);o!=null&&E(n,["instances[0]","video"],nR(o));const l=y(e,["source"]);l!=null&&QK(l,n);const f=y(e,["config"]);return f!=null&&GK(f,n),n}function YK(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>tY(o))),E(e,["generatedVideos"],s)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function XK(t){const e={},n=y(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>nY(o))),E(e,["generatedVideos"],s)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function JK(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],ym(i));const s=y(t,["video"]);return e!==void 0&&s!=null&&E(e,["instances[0]","video"],tR(s)),n}function QK(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],us(i));const s=y(t,["video"]);return e!==void 0&&s!=null&&E(e,["instances[0]","video"],nR(s)),n}function ZK(t){const e={},n=y(t,["_self"]);n!=null&&E(e,["image"],uY(n));const r=y(t,["raiFilteredReason"]);r!=null&&E(e,["raiFilteredReason"],r);const i=y(t,["_self"]);return i!=null&&E(e,["safetyAttributes"],Jk(i)),e}function xm(t){const e={},n=y(t,["_self"]);n!=null&&E(e,["image"],Xk(n));const r=y(t,["raiFilteredReason"]);r!=null&&E(e,["raiFilteredReason"],r);const i=y(t,["_self"]);i!=null&&E(e,["safetyAttributes"],Qk(i));const s=y(t,["prompt"]);return s!=null&&E(e,["enhancedPrompt"],s),e}function eY(t){const e={},n=y(t,["_self"]);n!=null&&E(e,["mask"],Xk(n));const r=y(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),E(e,["labels"],i)}return e}function tY(t){const e={},n=y(t,["video"]);return n!=null&&E(e,["video"],VY(n)),e}function nY(t){const e={},n=y(t,["_self"]);return n!=null&&E(e,["video"],BY(n)),e}function rY(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&E(e,["modelConfig"],n);const r=y(t,["audioTimestamp"]);r!=null&&E(e,["audioTimestamp"],r);const i=y(t,["candidateCount"]);i!=null&&E(e,["candidateCount"],i);const s=y(t,["enableAffectiveDialog"]);s!=null&&E(e,["enableAffectiveDialog"],s);const o=y(t,["frequencyPenalty"]);o!=null&&E(e,["frequencyPenalty"],o);const l=y(t,["logprobs"]);l!=null&&E(e,["logprobs"],l);const f=y(t,["maxOutputTokens"]);f!=null&&E(e,["maxOutputTokens"],f);const c=y(t,["mediaResolution"]);c!=null&&E(e,["mediaResolution"],c);const d=y(t,["presencePenalty"]);d!=null&&E(e,["presencePenalty"],d);const g=y(t,["responseJsonSchema"]);g!=null&&E(e,["responseJsonSchema"],g);const p=y(t,["responseLogprobs"]);p!=null&&E(e,["responseLogprobs"],p);const x=y(t,["responseMimeType"]);x!=null&&E(e,["responseMimeType"],x);const _=y(t,["responseModalities"]);_!=null&&E(e,["responseModalities"],_);const b=y(t,["responseSchema"]);b!=null&&E(e,["responseSchema"],b);const C=y(t,["routingConfig"]);C!=null&&E(e,["routingConfig"],C);const I=y(t,["seed"]);I!=null&&E(e,["seed"],I);const M=y(t,["speechConfig"]);M!=null&&E(e,["speechConfig"],Zk(M));const A=y(t,["stopSequences"]);A!=null&&E(e,["stopSequences"],A);const P=y(t,["temperature"]);P!=null&&E(e,["temperature"],P);const D=y(t,["thinkingConfig"]);D!=null&&E(e,["thinkingConfig"],D);const V=y(t,["topK"]);V!=null&&E(e,["topK"],V);const N=y(t,["topP"]);if(N!=null&&E(e,["topP"],N),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function iY(t,e){const n={},r=y(e,["model"]);return r!=null&&E(n,["_url","name"],Ht(t,r)),n}function sY(t,e){const n={},r=y(e,["model"]);return r!=null&&E(n,["_url","name"],Ht(t,r)),n}function aY(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&E(e,["enableWidget"],n),e}function oY(t){const e={},n=y(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],n),y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function uY(t){const e={},n=y(t,["bytesBase64Encoded"]);n!=null&&E(e,["imageBytes"],Ho(n));const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function Xk(t){const e={},n=y(t,["gcsUri"]);n!=null&&E(e,["gcsUri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&E(e,["imageBytes"],Ho(r));const i=y(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function ym(t){const e={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=y(t,["imageBytes"]);n!=null&&E(e,["bytesBase64Encoded"],Ho(n));const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function us(t){const e={},n=y(t,["gcsUri"]);n!=null&&E(e,["gcsUri"],n);const r=y(t,["imageBytes"]);r!=null&&E(e,["bytesBase64Encoded"],Ho(r));const i=y(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function lY(t,e,n){const r={},i=y(e,["pageSize"]);n!==void 0&&i!=null&&E(n,["_query","pageSize"],i);const s=y(e,["pageToken"]);n!==void 0&&s!=null&&E(n,["_query","pageToken"],s);const o=y(e,["filter"]);n!==void 0&&o!=null&&E(n,["_query","filter"],o);const l=y(e,["queryBase"]);return n!==void 0&&l!=null&&E(n,["_url","models_url"],Hk(t,l)),r}function cY(t,e,n){const r={},i=y(e,["pageSize"]);n!==void 0&&i!=null&&E(n,["_query","pageSize"],i);const s=y(e,["pageToken"]);n!==void 0&&s!=null&&E(n,["_query","pageToken"],s);const o=y(e,["filter"]);n!==void 0&&o!=null&&E(n,["_query","filter"],o);const l=y(e,["queryBase"]);return n!==void 0&&l!=null&&E(n,["_url","models_url"],Hk(t,l)),r}function fY(t,e){const n={},r=y(e,["config"]);return r!=null&&lY(t,r,n),n}function hY(t,e){const n={},r=y(e,["config"]);return r!=null&&cY(t,r,n),n}function dY(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(t,["_self"]);if(i!=null){let s=zk(i);Array.isArray(s)&&(s=s.map(o=>Ey(o))),E(e,["models"],s)}return e}function pY(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(t,["_self"]);if(i!=null){let s=zk(i);Array.isArray(s)&&(s=s.map(o=>by(o))),E(e,["models"],s)}return e}function mY(t){const e={},n=y(t,["maskMode"]);n!=null&&E(e,["maskMode"],n);const r=y(t,["segmentationClasses"]);r!=null&&E(e,["maskClasses"],r);const i=y(t,["maskDilation"]);return i!=null&&E(e,["dilation"],i),e}function Ey(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=y(t,["description"]);i!=null&&E(e,["description"],i);const s=y(t,["version"]);s!=null&&E(e,["version"],s);const o=y(t,["_self"]);o!=null&&E(e,["tunedModelInfo"],RY(o));const l=y(t,["inputTokenLimit"]);l!=null&&E(e,["inputTokenLimit"],l);const f=y(t,["outputTokenLimit"]);f!=null&&E(e,["outputTokenLimit"],f);const c=y(t,["supportedGenerationMethods"]);return c!=null&&E(e,["supportedActions"],c),e}function by(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=y(t,["description"]);i!=null&&E(e,["description"],i);const s=y(t,["versionId"]);s!=null&&E(e,["version"],s);const o=y(t,["deployedModels"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(p=>DK(p))),E(e,["endpoints"],g)}const l=y(t,["labels"]);l!=null&&E(e,["labels"],l);const f=y(t,["_self"]);f!=null&&E(e,["tunedModelInfo"],NY(f));const c=y(t,["defaultCheckpointId"]);c!=null&&E(e,["defaultCheckpointId"],c);const d=y(t,["checkpoints"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(p=>p)),E(e,["checkpoints"],g)}return e}function gY(t){const e={},n=y(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],n);const r=y(t,["thought"]);r!=null&&E(e,["thought"],r);const i=y(t,["inlineData"]);i!=null&&E(e,["inlineData"],sK(i));const s=y(t,["fileData"]);s!=null&&E(e,["fileData"],MK(s));const o=y(t,["thoughtSignature"]);o!=null&&E(e,["thoughtSignature"],o);const l=y(t,["functionCall"]);l!=null&&E(e,["functionCall"],l);const f=y(t,["codeExecutionResult"]);f!=null&&E(e,["codeExecutionResult"],f);const c=y(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const d=y(t,["functionResponse"]);d!=null&&E(e,["functionResponse"],d);const g=y(t,["text"]);return g!=null&&E(e,["text"],g),e}function xY(t){const e={},n=y(t,["productImage"]);return n!=null&&E(e,["image"],us(n)),e}function yY(t,e){const n={},r=y(t,["numberOfImages"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=y(t,["baseSteps"]);e!==void 0&&i!=null&&E(e,["parameters","editConfig","baseSteps"],i);const s=y(t,["outputGcsUri"]);e!==void 0&&s!=null&&E(e,["parameters","storageUri"],s);const o=y(t,["seed"]);e!==void 0&&o!=null&&E(e,["parameters","seed"],o);const l=y(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&E(e,["parameters","safetySetting"],l);const f=y(t,["personGeneration"]);e!==void 0&&f!=null&&E(e,["parameters","personGeneration"],f);const c=y(t,["addWatermark"]);e!==void 0&&c!=null&&E(e,["parameters","addWatermark"],c);const d=y(t,["outputMimeType"]);e!==void 0&&d!=null&&E(e,["parameters","outputOptions","mimeType"],d);const g=y(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&E(e,["parameters","outputOptions","compressionQuality"],g);const p=y(t,["enhancePrompt"]);e!==void 0&&p!=null&&E(e,["parameters","enhancePrompt"],p);const x=y(t,["labels"]);return e!==void 0&&x!=null&&E(e,["labels"],x),n}function vY(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["source"]);i!=null&&TY(i,n);const s=y(e,["config"]);return s!=null&&yY(s,n),n}function _Y(t){const e={},n=y(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>xm(i))),E(e,["generatedImages"],r)}return e}function TY(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=y(t,["personImage"]);e!==void 0&&i!=null&&E(e,["instances[0]","personImage","image"],us(i));const s=y(t,["productImages"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>xY(l))),E(e,["instances[0]","productImages"],o)}return n}function EY(t){const e={},n=y(t,["referenceImage"]);n!=null&&E(e,["referenceImage"],us(n));const r=y(t,["referenceId"]);r!=null&&E(e,["referenceId"],r);const i=y(t,["referenceType"]);i!=null&&E(e,["referenceType"],i);const s=y(t,["maskImageConfig"]);s!=null&&E(e,["maskImageConfig"],mY(s));const o=y(t,["controlImageConfig"]);o!=null&&E(e,["controlImageConfig"],hK(o));const l=y(t,["styleImageConfig"]);l!=null&&E(e,["styleImageConfig"],l);const f=y(t,["subjectImageConfig"]);return f!=null&&E(e,["subjectImageConfig"],f),e}function Jk(t){const e={},n=y(t,["safetyAttributes","categories"]);n!=null&&E(e,["categories"],n);const r=y(t,["safetyAttributes","scores"]);r!=null&&E(e,["scores"],r);const i=y(t,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function Qk(t){const e={},n=y(t,["safetyAttributes","categories"]);n!=null&&E(e,["categories"],n);const r=y(t,["safetyAttributes","scores"]);r!=null&&E(e,["scores"],r);const i=y(t,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function bY(t){const e={};if(y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=y(t,["category"]);n!=null&&E(e,["category"],n);const r=y(t,["threshold"]);return r!=null&&E(e,["threshold"],r),e}function wY(t){const e={},n=y(t,["image"]);return n!=null&&E(e,["image"],us(n)),e}function SY(t,e){const n={},r=y(t,["mode"]);e!==void 0&&r!=null&&E(e,["parameters","mode"],r);const i=y(t,["maxPredictions"]);e!==void 0&&i!=null&&E(e,["parameters","maxPredictions"],i);const s=y(t,["confidenceThreshold"]);e!==void 0&&s!=null&&E(e,["parameters","confidenceThreshold"],s);const o=y(t,["maskDilation"]);e!==void 0&&o!=null&&E(e,["parameters","maskDilation"],o);const l=y(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&E(e,["parameters","binaryColorThreshold"],l);const f=y(t,["labels"]);return e!==void 0&&f!=null&&E(e,["labels"],f),n}function AY(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["source"]);i!=null&&IY(i,n);const s=y(e,["config"]);return s!=null&&SY(s,n),n}function CY(t){const e={},n=y(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>eY(i))),E(e,["generatedMasks"],r)}return e}function IY(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],us(i));const s=y(t,["scribbleImage"]);return e!==void 0&&s!=null&&E(e,["instances[0]","scribble"],wY(s)),n}function Zk(t){const e={},n=y(t,["voiceConfig"]);if(n!=null&&E(e,["voiceConfig"],n),y(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=y(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function kY(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),E(e,["functionDeclarations"],c)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],oY(r));const i=y(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(t,["googleMaps"]);s!=null&&E(e,["googleMaps"],aY(s));const o=y(t,["urlContext"]);o!=null&&E(e,["urlContext"],o);const l=y(t,["computerUse"]);l!=null&&E(e,["computerUse"],l);const f=y(t,["codeExecution"]);return f!=null&&E(e,["codeExecution"],f),e}function eR(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(p=>PK(p))),E(e,["functionDeclarations"],g)}const r=y(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=y(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],i);const s=y(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],s);const o=y(t,["enterpriseWebSearch"]);o!=null&&E(e,["enterpriseWebSearch"],o);const l=y(t,["googleMaps"]);l!=null&&E(e,["googleMaps"],l);const f=y(t,["urlContext"]);f!=null&&E(e,["urlContext"],f);const c=y(t,["computerUse"]);c!=null&&E(e,["computerUse"],c);const d=y(t,["codeExecution"]);return d!=null&&E(e,["codeExecution"],d),e}function RY(t){const e={},n=y(t,["baseModel"]);n!=null&&E(e,["baseModel"],n);const r=y(t,["createTime"]);r!=null&&E(e,["createTime"],r);const i=y(t,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function NY(t){const e={},n=y(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&E(e,["baseModel"],n);const r=y(t,["createTime"]);r!=null&&E(e,["createTime"],r);const i=y(t,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function DY(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=y(t,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=y(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),n}function MY(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=y(t,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=y(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),n}function PY(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","name"],Ht(t,r));const i=y(e,["config"]);return i!=null&&DY(i,n),n}function LY(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["config"]);return i!=null&&MY(i,n),n}function OY(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=y(t,["includeRaiReason"]);e!==void 0&&i!=null&&E(e,["parameters","includeRaiReason"],i);const s=y(t,["outputMimeType"]);e!==void 0&&s!=null&&E(e,["parameters","outputOptions","mimeType"],s);const o=y(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&E(e,["parameters","outputOptions","compressionQuality"],o);const l=y(t,["enhanceInputImage"]);e!==void 0&&l!=null&&E(e,["parameters","upscaleConfig","enhanceInputImage"],l);const f=y(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&E(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const c=y(t,["labels"]);e!==void 0&&c!=null&&E(e,["labels"],c);const d=y(t,["numberOfImages"]);e!==void 0&&d!=null&&E(e,["parameters","sampleCount"],d);const g=y(t,["mode"]);return e!==void 0&&g!=null&&E(e,["parameters","mode"],g),n}function FY(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["image"]);i!=null&&E(n,["instances[0]","image"],us(i));const s=y(e,["upscaleFactor"]);s!=null&&E(n,["parameters","upscaleConfig","upscaleFactor"],s);const o=y(e,["config"]);return o!=null&&OY(o,n),n}function UY(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>xm(s))),E(e,["generatedImages"],i)}return e}function VY(t){const e={},n=y(t,["uri"]);n!=null&&E(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&E(e,["videoBytes"],Ho(r));const i=y(t,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function BY(t){const e={},n=y(t,["gcsUri"]);n!=null&&E(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&E(e,["videoBytes"],Ho(r));const i=y(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function qY(t){const e={},n=y(t,["image"]);n!=null&&E(e,["_self"],us(n));const r=y(t,["maskMode"]);return r!=null&&E(e,["maskMode"],r),e}function HY(t){const e={},n=y(t,["image"]);n!=null&&E(e,["image"],ym(n));const r=y(t,["referenceType"]);return r!=null&&E(e,["referenceType"],r),e}function zY(t){const e={},n=y(t,["image"]);n!=null&&E(e,["image"],us(n));const r=y(t,["referenceType"]);return r!=null&&E(e,["referenceType"],r),e}function tR(t){const e={},n=y(t,["uri"]);n!=null&&E(e,["uri"],n);const r=y(t,["videoBytes"]);r!=null&&E(e,["encodedVideo"],Ho(r));const i=y(t,["mimeType"]);return i!=null&&E(e,["encoding"],i),e}function nR(t){const e={},n=y(t,["uri"]);n!=null&&E(e,["gcsUri"],n);const r=y(t,["videoBytes"]);r!=null&&E(e,["bytesBase64Encoded"],Ho(r));const i=y(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}/**
    + */function cK(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["data"]);n!=null&&E(e,["data"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function fK(t){const e={},n=y(t,["content"]);n!=null&&E(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&E(e,["citationMetadata"],hK(r));const i=y(t,["tokenCount"]);i!=null&&E(e,["tokenCount"],i);const s=y(t,["finishReason"]);s!=null&&E(e,["finishReason"],s);const o=y(t,["urlContextMetadata"]);o!=null&&E(e,["urlContextMetadata"],o);const l=y(t,["avgLogprobs"]);l!=null&&E(e,["avgLogprobs"],l);const f=y(t,["groundingMetadata"]);f!=null&&E(e,["groundingMetadata"],f);const c=y(t,["index"]);c!=null&&E(e,["index"],c);const d=y(t,["logprobsResult"]);d!=null&&E(e,["logprobsResult"],d);const g=y(t,["safetyRatings"]);if(g!=null){let p=g;Array.isArray(p)&&(p=p.map(x=>x)),E(e,["safetyRatings"],p)}return e}function hK(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),E(e,["citations"],r)}return e}function dK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let s=Ni(i);Array.isArray(s)&&(s=s.map(o=>o)),E(n,["contents"],s)}return n}function pK(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),E(e,["tokensInfo"],i)}return e}function mK(t){const e={},n=y(t,["values"]);n!=null&&E(e,["values"],n);const r=y(t,["statistics"]);return r!=null&&E(e,["statistics"],gK(r)),e}function gK(t){const e={},n=y(t,["truncated"]);n!=null&&E(e,["truncated"],n);const r=y(t,["token_count"]);return r!=null&&E(e,["tokenCount"],r),e}function vm(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>TY(s))),E(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&E(e,["role"],r),e}function xK(t){const e={},n=y(t,["controlType"]);n!=null&&E(e,["controlType"],n);const r=y(t,["enableControlImageComputation"]);return r!=null&&E(e,["computeControl"],r),e}function yK(t){const e={};if(y(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function vK(t,e){const n={},r=y(t,["systemInstruction"]);e!==void 0&&r!=null&&E(e,["systemInstruction"],wr(r));const i=y(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>sR(l))),E(e,["tools"],o)}const s=y(t,["generationConfig"]);return e!==void 0&&s!=null&&E(e,["generationConfig"],uY(s)),n}function _K(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let o=Ni(i);Array.isArray(o)&&(o=o.map(l=>vm(l))),E(n,["contents"],o)}const s=y(e,["config"]);return s!=null&&yK(s),n}function TK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let o=Ni(i);Array.isArray(o)&&(o=o.map(l=>l)),E(n,["contents"],o)}const s=y(e,["config"]);return s!=null&&vK(s,n),n}function EK(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["totalTokens"]);r!=null&&E(e,["totalTokens"],r);const i=y(t,["cachedContentTokenCount"]);return i!=null&&E(e,["cachedContentTokenCount"],i),e}function bK(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["totalTokens"]);return r!=null&&E(e,["totalTokens"],r),e}function wK(t,e){const n={},r=y(e,["model"]);return r!=null&&E(n,["_url","name"],Ht(t,r)),n}function SK(t,e){const n={},r=y(e,["model"]);return r!=null&&E(n,["_url","name"],Ht(t,r)),n}function AK(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function CK(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&E(e,["sdkHttpResponse"],n),e}function IK(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=y(t,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=y(t,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const o=y(t,["aspectRatio"]);e!==void 0&&o!=null&&E(e,["parameters","aspectRatio"],o);const l=y(t,["guidanceScale"]);e!==void 0&&l!=null&&E(e,["parameters","guidanceScale"],l);const f=y(t,["seed"]);e!==void 0&&f!=null&&E(e,["parameters","seed"],f);const c=y(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const d=y(t,["personGeneration"]);e!==void 0&&d!=null&&E(e,["parameters","personGeneration"],d);const g=y(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&E(e,["parameters","includeSafetyAttributes"],g);const p=y(t,["includeRaiReason"]);e!==void 0&&p!=null&&E(e,["parameters","includeRaiReason"],p);const x=y(t,["language"]);e!==void 0&&x!=null&&E(e,["parameters","language"],x);const _=y(t,["outputMimeType"]);e!==void 0&&_!=null&&E(e,["parameters","outputOptions","mimeType"],_);const b=y(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&E(e,["parameters","outputOptions","compressionQuality"],b);const C=y(t,["addWatermark"]);e!==void 0&&C!=null&&E(e,["parameters","addWatermark"],C);const I=y(t,["labels"]);e!==void 0&&I!=null&&E(e,["labels"],I);const D=y(t,["editMode"]);e!==void 0&&D!=null&&E(e,["parameters","editMode"],D);const A=y(t,["baseSteps"]);return e!==void 0&&A!=null&&E(e,["parameters","editConfig","baseSteps"],A),n}function kK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=y(e,["referenceImages"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(f=>CY(f))),E(n,["instances[0]","referenceImages"],l)}const o=y(e,["config"]);return o!=null&&IK(o,n),n}function RK(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>_m(s))),E(e,["generatedImages"],i)}return e}function NK(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&E(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&E(e,["requests[]","title"],i);const s=y(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&E(e,["requests[]","outputDimensionality"],s),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function DK(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&E(e,["instances[]","task_type"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&E(e,["instances[]","title"],i);const s=y(t,["outputDimensionality"]);e!==void 0&&s!=null&&E(e,["parameters","outputDimensionality"],s);const o=y(t,["mimeType"]);e!==void 0&&o!=null&&E(e,["instances[]","mimeType"],o);const l=y(t,["autoTruncate"]);return e!==void 0&&l!=null&&E(e,["parameters","autoTruncate"],l),n}function MK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let l=a_(t,i);Array.isArray(l)&&(l=l.map(f=>f)),E(n,["requests[]","content"],l)}const s=y(e,["config"]);s!=null&&NK(s,n);const o=y(e,["model"]);return o!==void 0&&E(n,["requests[]","model"],Ht(t,o)),n}function PK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let o=a_(t,i);Array.isArray(o)&&(o=o.map(l=>l)),E(n,["instances[]","content"],o)}const s=y(e,["config"]);return s!=null&&DK(s,n),n}function LK(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),E(e,["embeddings"],s)}const i=y(t,["metadata"]);return i!=null&&E(e,["metadata"],i),e}function OK(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>mK(o))),E(e,["embeddings"],s)}const i=y(t,["metadata"]);return i!=null&&E(e,["metadata"],i),e}function FK(t){const e={},n=y(t,["endpoint"]);n!=null&&E(e,["name"],n);const r=y(t,["deployedModelId"]);return r!=null&&E(e,["deployedModelId"],r),e}function UK(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function VK(t){const e={};if(y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(t,["description"]);n!=null&&E(e,["description"],n);const r=y(t,["name"]);r!=null&&E(e,["name"],r);const i=y(t,["parameters"]);i!=null&&E(e,["parameters"],i);const s=y(t,["parametersJsonSchema"]);s!=null&&E(e,["parametersJsonSchema"],s);const o=y(t,["response"]);o!=null&&E(e,["response"],o);const l=y(t,["responseJsonSchema"]);return l!=null&&E(e,["responseJsonSchema"],l),e}function BK(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],vm(wr(i)));const s=y(e,["temperature"]);s!=null&&E(r,["temperature"],s);const o=y(e,["topP"]);o!=null&&E(r,["topP"],o);const l=y(e,["topK"]);l!=null&&E(r,["topK"],l);const f=y(e,["candidateCount"]);f!=null&&E(r,["candidateCount"],f);const c=y(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const d=y(e,["stopSequences"]);d!=null&&E(r,["stopSequences"],d);const g=y(e,["responseLogprobs"]);g!=null&&E(r,["responseLogprobs"],g);const p=y(e,["logprobs"]);p!=null&&E(r,["logprobs"],p);const x=y(e,["presencePenalty"]);x!=null&&E(r,["presencePenalty"],x);const _=y(e,["frequencyPenalty"]);_!=null&&E(r,["frequencyPenalty"],_);const b=y(e,["seed"]);b!=null&&E(r,["seed"],b);const C=y(e,["responseMimeType"]);C!=null&&E(r,["responseMimeType"],C);const I=y(e,["responseSchema"]);I!=null&&E(r,["responseSchema"],o_(I));const D=y(e,["responseJsonSchema"]);if(D!=null&&E(r,["responseJsonSchema"],D),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=y(e,["safetySettings"]);if(n!==void 0&&A!=null){let F=A;Array.isArray(F)&&(F=F.map(q=>IY(q))),E(n,["safetySettings"],F)}const P=y(e,["tools"]);if(n!==void 0&&P!=null){let F=Cc(P);Array.isArray(F)&&(F=F.map(q=>PY(Ac(q)))),E(n,["tools"],F)}const M=y(e,["toolConfig"]);if(n!==void 0&&M!=null&&E(n,["toolConfig"],M),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=y(e,["cachedContent"]);n!==void 0&&U!=null&&E(n,["cachedContent"],Aa(t,U));const N=y(e,["responseModalities"]);N!=null&&E(r,["responseModalities"],N);const k=y(e,["mediaResolution"]);k!=null&&E(r,["mediaResolution"],k);const R=y(e,["speechConfig"]);if(R!=null&&E(r,["speechConfig"],u_(R)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const V=y(e,["thinkingConfig"]);V!=null&&E(r,["thinkingConfig"],V);const L=y(e,["imageConfig"]);return L!=null&&E(r,["imageConfig"],L),r}function qK(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&E(n,["systemInstruction"],wr(i));const s=y(e,["temperature"]);s!=null&&E(r,["temperature"],s);const o=y(e,["topP"]);o!=null&&E(r,["topP"],o);const l=y(e,["topK"]);l!=null&&E(r,["topK"],l);const f=y(e,["candidateCount"]);f!=null&&E(r,["candidateCount"],f);const c=y(e,["maxOutputTokens"]);c!=null&&E(r,["maxOutputTokens"],c);const d=y(e,["stopSequences"]);d!=null&&E(r,["stopSequences"],d);const g=y(e,["responseLogprobs"]);g!=null&&E(r,["responseLogprobs"],g);const p=y(e,["logprobs"]);p!=null&&E(r,["logprobs"],p);const x=y(e,["presencePenalty"]);x!=null&&E(r,["presencePenalty"],x);const _=y(e,["frequencyPenalty"]);_!=null&&E(r,["frequencyPenalty"],_);const b=y(e,["seed"]);b!=null&&E(r,["seed"],b);const C=y(e,["responseMimeType"]);C!=null&&E(r,["responseMimeType"],C);const I=y(e,["responseSchema"]);I!=null&&E(r,["responseSchema"],o_(I));const D=y(e,["responseJsonSchema"]);D!=null&&E(r,["responseJsonSchema"],D);const A=y(e,["routingConfig"]);A!=null&&E(r,["routingConfig"],A);const P=y(e,["modelSelectionConfig"]);P!=null&&E(r,["modelConfig"],P);const M=y(e,["safetySettings"]);if(n!==void 0&&M!=null){let ae=M;Array.isArray(ae)&&(ae=ae.map(se=>se)),E(n,["safetySettings"],ae)}const U=y(e,["tools"]);if(n!==void 0&&U!=null){let ae=Cc(U);Array.isArray(ae)&&(ae=ae.map(se=>sR(Ac(se)))),E(n,["tools"],ae)}const N=y(e,["toolConfig"]);n!==void 0&&N!=null&&E(n,["toolConfig"],N);const k=y(e,["labels"]);n!==void 0&&k!=null&&E(n,["labels"],k);const R=y(e,["cachedContent"]);n!==void 0&&R!=null&&E(n,["cachedContent"],Aa(t,R));const V=y(e,["responseModalities"]);V!=null&&E(r,["responseModalities"],V);const L=y(e,["mediaResolution"]);L!=null&&E(r,["mediaResolution"],L);const F=y(e,["speechConfig"]);F!=null&&E(r,["speechConfig"],iR(u_(F)));const q=y(e,["audioTimestamp"]);q!=null&&E(r,["audioTimestamp"],q);const ce=y(e,["thinkingConfig"]);ce!=null&&E(r,["thinkingConfig"],ce);const oe=y(e,["imageConfig"]);return oe!=null&&E(r,["imageConfig"],oe),r}function QA(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let o=Ni(i);Array.isArray(o)&&(o=o.map(l=>vm(l))),E(n,["contents"],o)}const s=y(e,["config"]);return s!=null&&E(n,["generationConfig"],BK(t,s,n)),n}function ZA(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["contents"]);if(i!=null){let o=Ni(i);Array.isArray(o)&&(o=o.map(l=>l)),E(n,["contents"],o)}const s=y(e,["config"]);return s!=null&&E(n,["generationConfig"],qK(t,s,n)),n}function e3(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(c=>fK(c))),E(e,["candidates"],f)}const i=y(t,["modelVersion"]);i!=null&&E(e,["modelVersion"],i);const s=y(t,["promptFeedback"]);s!=null&&E(e,["promptFeedback"],s);const o=y(t,["responseId"]);o!=null&&E(e,["responseId"],o);const l=y(t,["usageMetadata"]);return l!=null&&E(e,["usageMetadata"],l),e}function t3(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>d)),E(e,["candidates"],c)}const i=y(t,["createTime"]);i!=null&&E(e,["createTime"],i);const s=y(t,["modelVersion"]);s!=null&&E(e,["modelVersion"],s);const o=y(t,["promptFeedback"]);o!=null&&E(e,["promptFeedback"],o);const l=y(t,["responseId"]);l!=null&&E(e,["responseId"],l);const f=y(t,["usageMetadata"]);return f!=null&&E(e,["usageMetadata"],f),e}function HK(t,e){const n={};if(y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(t,["numberOfImages"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=y(t,["aspectRatio"]);e!==void 0&&i!=null&&E(e,["parameters","aspectRatio"],i);const s=y(t,["guidanceScale"]);if(e!==void 0&&s!=null&&E(e,["parameters","guidanceScale"],s),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=y(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&E(e,["parameters","safetySetting"],o);const l=y(t,["personGeneration"]);e!==void 0&&l!=null&&E(e,["parameters","personGeneration"],l);const f=y(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&E(e,["parameters","includeSafetyAttributes"],f);const c=y(t,["includeRaiReason"]);e!==void 0&&c!=null&&E(e,["parameters","includeRaiReason"],c);const d=y(t,["language"]);e!==void 0&&d!=null&&E(e,["parameters","language"],d);const g=y(t,["outputMimeType"]);e!==void 0&&g!=null&&E(e,["parameters","outputOptions","mimeType"],g);const p=y(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&E(e,["parameters","outputOptions","compressionQuality"],p),y(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=y(t,["imageSize"]);if(e!==void 0&&x!=null&&E(e,["parameters","sampleImageSize"],x),y(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function zK(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=y(t,["negativePrompt"]);e!==void 0&&i!=null&&E(e,["parameters","negativePrompt"],i);const s=y(t,["numberOfImages"]);e!==void 0&&s!=null&&E(e,["parameters","sampleCount"],s);const o=y(t,["aspectRatio"]);e!==void 0&&o!=null&&E(e,["parameters","aspectRatio"],o);const l=y(t,["guidanceScale"]);e!==void 0&&l!=null&&E(e,["parameters","guidanceScale"],l);const f=y(t,["seed"]);e!==void 0&&f!=null&&E(e,["parameters","seed"],f);const c=y(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&E(e,["parameters","safetySetting"],c);const d=y(t,["personGeneration"]);e!==void 0&&d!=null&&E(e,["parameters","personGeneration"],d);const g=y(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&E(e,["parameters","includeSafetyAttributes"],g);const p=y(t,["includeRaiReason"]);e!==void 0&&p!=null&&E(e,["parameters","includeRaiReason"],p);const x=y(t,["language"]);e!==void 0&&x!=null&&E(e,["parameters","language"],x);const _=y(t,["outputMimeType"]);e!==void 0&&_!=null&&E(e,["parameters","outputOptions","mimeType"],_);const b=y(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&E(e,["parameters","outputOptions","compressionQuality"],b);const C=y(t,["addWatermark"]);e!==void 0&&C!=null&&E(e,["parameters","addWatermark"],C);const I=y(t,["labels"]);e!==void 0&&I!=null&&E(e,["labels"],I);const D=y(t,["imageSize"]);e!==void 0&&D!=null&&E(e,["parameters","sampleImageSize"],D);const A=y(t,["enhancePrompt"]);return e!==void 0&&A!=null&&E(e,["parameters","enhancePrompt"],A),n}function GK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&HK(s,n),n}function jK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=y(e,["config"]);return s!=null&&zK(s,n),n}function $K(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>iY(o))),E(e,["generatedImages"],s)}const i=y(t,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],nR(i)),e}function WK(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>_m(o))),E(e,["generatedImages"],s)}const i=y(t,["positivePromptSafetyAttributes"]);return i!=null&&E(e,["positivePromptSafetyAttributes"],rR(i)),e}function KK(t,e){const n={},r=y(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r),y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(t,["durationSeconds"]);if(e!==void 0&&i!=null&&E(e,["parameters","durationSeconds"],i),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(t,["aspectRatio"]);e!==void 0&&s!=null&&E(e,["parameters","aspectRatio"],s);const o=y(t,["resolution"]);e!==void 0&&o!=null&&E(e,["parameters","resolution"],o);const l=y(t,["personGeneration"]);if(e!==void 0&&l!=null&&E(e,["parameters","personGeneration"],l),y(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=y(t,["negativePrompt"]);e!==void 0&&f!=null&&E(e,["parameters","negativePrompt"],f);const c=y(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&E(e,["parameters","enhancePrompt"],c),y(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=y(t,["lastFrame"]);e!==void 0&&d!=null&&E(e,["instances[0]","lastFrame"],Tm(d));const g=y(t,["referenceImages"]);if(e!==void 0&&g!=null){let p=g;Array.isArray(p)&&(p=p.map(x=>WY(x))),E(e,["instances[0]","referenceImages"],p)}if(y(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function YK(t,e){const n={},r=y(t,["numberOfVideos"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=y(t,["outputGcsUri"]);e!==void 0&&i!=null&&E(e,["parameters","storageUri"],i);const s=y(t,["fps"]);e!==void 0&&s!=null&&E(e,["parameters","fps"],s);const o=y(t,["durationSeconds"]);e!==void 0&&o!=null&&E(e,["parameters","durationSeconds"],o);const l=y(t,["seed"]);e!==void 0&&l!=null&&E(e,["parameters","seed"],l);const f=y(t,["aspectRatio"]);e!==void 0&&f!=null&&E(e,["parameters","aspectRatio"],f);const c=y(t,["resolution"]);e!==void 0&&c!=null&&E(e,["parameters","resolution"],c);const d=y(t,["personGeneration"]);e!==void 0&&d!=null&&E(e,["parameters","personGeneration"],d);const g=y(t,["pubsubTopic"]);e!==void 0&&g!=null&&E(e,["parameters","pubsubTopic"],g);const p=y(t,["negativePrompt"]);e!==void 0&&p!=null&&E(e,["parameters","negativePrompt"],p);const x=y(t,["enhancePrompt"]);e!==void 0&&x!=null&&E(e,["parameters","enhancePrompt"],x);const _=y(t,["generateAudio"]);e!==void 0&&_!=null&&E(e,["parameters","generateAudio"],_);const b=y(t,["lastFrame"]);e!==void 0&&b!=null&&E(e,["instances[0]","lastFrame"],us(b));const C=y(t,["referenceImages"]);if(e!==void 0&&C!=null){let A=C;Array.isArray(A)&&(A=A.map(P=>KY(P))),E(e,["instances[0]","referenceImages"],A)}const I=y(t,["mask"]);e!==void 0&&I!=null&&E(e,["instances[0]","mask"],$Y(I));const D=y(t,["compressionQuality"]);return e!==void 0&&D!=null&&E(e,["parameters","compressionQuality"],D),n}function XK(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=y(t,["done"]);i!=null&&E(e,["done"],i);const s=y(t,["error"]);s!=null&&E(e,["error"],s);const o=y(t,["response","generateVideoResponse"]);return o!=null&&E(e,["response"],eY(o)),e}function JK(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["metadata"]);r!=null&&E(e,["metadata"],r);const i=y(t,["done"]);i!=null&&E(e,["done"],i);const s=y(t,["error"]);s!=null&&E(e,["error"],s);const o=y(t,["response"]);return o!=null&&E(e,["response"],tY(o)),e}function QK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&E(n,["instances[0]","image"],Tm(s));const o=y(e,["video"]);o!=null&&E(n,["instances[0]","video"],aR(o));const l=y(e,["source"]);l!=null&&nY(l,n);const f=y(e,["config"]);return f!=null&&KK(f,n),n}function ZK(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["prompt"]);i!=null&&E(n,["instances[0]","prompt"],i);const s=y(e,["image"]);s!=null&&E(n,["instances[0]","image"],us(s));const o=y(e,["video"]);o!=null&&E(n,["instances[0]","video"],oR(o));const l=y(e,["source"]);l!=null&&rY(l,n);const f=y(e,["config"]);return f!=null&&YK(f,n),n}function eY(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>aY(o))),E(e,["generatedVideos"],s)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function tY(t){const e={},n=y(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>oY(o))),E(e,["generatedVideos"],s)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&E(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&E(e,["raiMediaFilteredReasons"],i),e}function nY(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],Tm(i));const s=y(t,["video"]);return e!==void 0&&s!=null&&E(e,["instances[0]","video"],aR(s)),n}function rY(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],us(i));const s=y(t,["video"]);return e!==void 0&&s!=null&&E(e,["instances[0]","video"],oR(s)),n}function iY(t){const e={},n=y(t,["_self"]);n!=null&&E(e,["image"],dY(n));const r=y(t,["raiFilteredReason"]);r!=null&&E(e,["raiFilteredReason"],r);const i=y(t,["_self"]);return i!=null&&E(e,["safetyAttributes"],nR(i)),e}function _m(t){const e={},n=y(t,["_self"]);n!=null&&E(e,["image"],tR(n));const r=y(t,["raiFilteredReason"]);r!=null&&E(e,["raiFilteredReason"],r);const i=y(t,["_self"]);i!=null&&E(e,["safetyAttributes"],rR(i));const s=y(t,["prompt"]);return s!=null&&E(e,["enhancedPrompt"],s),e}function sY(t){const e={},n=y(t,["_self"]);n!=null&&E(e,["mask"],tR(n));const r=y(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),E(e,["labels"],i)}return e}function aY(t){const e={},n=y(t,["video"]);return n!=null&&E(e,["video"],GY(n)),e}function oY(t){const e={},n=y(t,["_self"]);return n!=null&&E(e,["video"],jY(n)),e}function uY(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&E(e,["modelConfig"],n);const r=y(t,["audioTimestamp"]);r!=null&&E(e,["audioTimestamp"],r);const i=y(t,["candidateCount"]);i!=null&&E(e,["candidateCount"],i);const s=y(t,["enableAffectiveDialog"]);s!=null&&E(e,["enableAffectiveDialog"],s);const o=y(t,["frequencyPenalty"]);o!=null&&E(e,["frequencyPenalty"],o);const l=y(t,["logprobs"]);l!=null&&E(e,["logprobs"],l);const f=y(t,["maxOutputTokens"]);f!=null&&E(e,["maxOutputTokens"],f);const c=y(t,["mediaResolution"]);c!=null&&E(e,["mediaResolution"],c);const d=y(t,["presencePenalty"]);d!=null&&E(e,["presencePenalty"],d);const g=y(t,["responseJsonSchema"]);g!=null&&E(e,["responseJsonSchema"],g);const p=y(t,["responseLogprobs"]);p!=null&&E(e,["responseLogprobs"],p);const x=y(t,["responseMimeType"]);x!=null&&E(e,["responseMimeType"],x);const _=y(t,["responseModalities"]);_!=null&&E(e,["responseModalities"],_);const b=y(t,["responseSchema"]);b!=null&&E(e,["responseSchema"],b);const C=y(t,["routingConfig"]);C!=null&&E(e,["routingConfig"],C);const I=y(t,["seed"]);I!=null&&E(e,["seed"],I);const D=y(t,["speechConfig"]);D!=null&&E(e,["speechConfig"],iR(D));const A=y(t,["stopSequences"]);A!=null&&E(e,["stopSequences"],A);const P=y(t,["temperature"]);P!=null&&E(e,["temperature"],P);const M=y(t,["thinkingConfig"]);M!=null&&E(e,["thinkingConfig"],M);const U=y(t,["topK"]);U!=null&&E(e,["topK"],U);const N=y(t,["topP"]);if(N!=null&&E(e,["topP"],N),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function lY(t,e){const n={},r=y(e,["model"]);return r!=null&&E(n,["_url","name"],Ht(t,r)),n}function cY(t,e){const n={},r=y(e,["model"]);return r!=null&&E(n,["_url","name"],Ht(t,r)),n}function fY(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&E(e,["enableWidget"],n),e}function hY(t){const e={},n=y(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],n),y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function dY(t){const e={},n=y(t,["bytesBase64Encoded"]);n!=null&&E(e,["imageBytes"],zo(n));const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function tR(t){const e={},n=y(t,["gcsUri"]);n!=null&&E(e,["gcsUri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&E(e,["imageBytes"],zo(r));const i=y(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function Tm(t){const e={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=y(t,["imageBytes"]);n!=null&&E(e,["bytesBase64Encoded"],zo(n));const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function us(t){const e={},n=y(t,["gcsUri"]);n!=null&&E(e,["gcsUri"],n);const r=y(t,["imageBytes"]);r!=null&&E(e,["bytesBase64Encoded"],zo(r));const i=y(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function pY(t,e,n){const r={},i=y(e,["pageSize"]);n!==void 0&&i!=null&&E(n,["_query","pageSize"],i);const s=y(e,["pageToken"]);n!==void 0&&s!=null&&E(n,["_query","pageToken"],s);const o=y(e,["filter"]);n!==void 0&&o!=null&&E(n,["_query","filter"],o);const l=y(e,["queryBase"]);return n!==void 0&&l!=null&&E(n,["_url","models_url"],Wk(t,l)),r}function mY(t,e,n){const r={},i=y(e,["pageSize"]);n!==void 0&&i!=null&&E(n,["_query","pageSize"],i);const s=y(e,["pageToken"]);n!==void 0&&s!=null&&E(n,["_query","pageToken"],s);const o=y(e,["filter"]);n!==void 0&&o!=null&&E(n,["_query","filter"],o);const l=y(e,["queryBase"]);return n!==void 0&&l!=null&&E(n,["_url","models_url"],Wk(t,l)),r}function gY(t,e){const n={},r=y(e,["config"]);return r!=null&&pY(t,r,n),n}function xY(t,e){const n={},r=y(e,["config"]);return r!=null&&mY(t,r,n),n}function yY(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(t,["_self"]);if(i!=null){let s=Kk(i);Array.isArray(s)&&(s=s.map(o=>Sy(o))),E(e,["models"],s)}return e}function vY(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&E(e,["nextPageToken"],r);const i=y(t,["_self"]);if(i!=null){let s=Kk(i);Array.isArray(s)&&(s=s.map(o=>Ay(o))),E(e,["models"],s)}return e}function _Y(t){const e={},n=y(t,["maskMode"]);n!=null&&E(e,["maskMode"],n);const r=y(t,["segmentationClasses"]);r!=null&&E(e,["maskClasses"],r);const i=y(t,["maskDilation"]);return i!=null&&E(e,["dilation"],i),e}function Sy(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=y(t,["description"]);i!=null&&E(e,["description"],i);const s=y(t,["version"]);s!=null&&E(e,["version"],s);const o=y(t,["_self"]);o!=null&&E(e,["tunedModelInfo"],LY(o));const l=y(t,["inputTokenLimit"]);l!=null&&E(e,["inputTokenLimit"],l);const f=y(t,["outputTokenLimit"]);f!=null&&E(e,["outputTokenLimit"],f);const c=y(t,["supportedGenerationMethods"]);return c!=null&&E(e,["supportedActions"],c),e}function Ay(t){const e={},n=y(t,["name"]);n!=null&&E(e,["name"],n);const r=y(t,["displayName"]);r!=null&&E(e,["displayName"],r);const i=y(t,["description"]);i!=null&&E(e,["description"],i);const s=y(t,["versionId"]);s!=null&&E(e,["version"],s);const o=y(t,["deployedModels"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(p=>FK(p))),E(e,["endpoints"],g)}const l=y(t,["labels"]);l!=null&&E(e,["labels"],l);const f=y(t,["_self"]);f!=null&&E(e,["tunedModelInfo"],OY(f));const c=y(t,["defaultCheckpointId"]);c!=null&&E(e,["defaultCheckpointId"],c);const d=y(t,["checkpoints"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(p=>p)),E(e,["checkpoints"],g)}return e}function TY(t){const e={},n=y(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],n);const r=y(t,["thought"]);r!=null&&E(e,["thought"],r);const i=y(t,["inlineData"]);i!=null&&E(e,["inlineData"],cK(i));const s=y(t,["fileData"]);s!=null&&E(e,["fileData"],UK(s));const o=y(t,["thoughtSignature"]);o!=null&&E(e,["thoughtSignature"],o);const l=y(t,["functionCall"]);l!=null&&E(e,["functionCall"],l);const f=y(t,["codeExecutionResult"]);f!=null&&E(e,["codeExecutionResult"],f);const c=y(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const d=y(t,["functionResponse"]);d!=null&&E(e,["functionResponse"],d);const g=y(t,["text"]);return g!=null&&E(e,["text"],g),e}function EY(t){const e={},n=y(t,["productImage"]);return n!=null&&E(e,["image"],us(n)),e}function bY(t,e){const n={},r=y(t,["numberOfImages"]);e!==void 0&&r!=null&&E(e,["parameters","sampleCount"],r);const i=y(t,["baseSteps"]);e!==void 0&&i!=null&&E(e,["parameters","editConfig","baseSteps"],i);const s=y(t,["outputGcsUri"]);e!==void 0&&s!=null&&E(e,["parameters","storageUri"],s);const o=y(t,["seed"]);e!==void 0&&o!=null&&E(e,["parameters","seed"],o);const l=y(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&E(e,["parameters","safetySetting"],l);const f=y(t,["personGeneration"]);e!==void 0&&f!=null&&E(e,["parameters","personGeneration"],f);const c=y(t,["addWatermark"]);e!==void 0&&c!=null&&E(e,["parameters","addWatermark"],c);const d=y(t,["outputMimeType"]);e!==void 0&&d!=null&&E(e,["parameters","outputOptions","mimeType"],d);const g=y(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&E(e,["parameters","outputOptions","compressionQuality"],g);const p=y(t,["enhancePrompt"]);e!==void 0&&p!=null&&E(e,["parameters","enhancePrompt"],p);const x=y(t,["labels"]);return e!==void 0&&x!=null&&E(e,["labels"],x),n}function wY(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["source"]);i!=null&&AY(i,n);const s=y(e,["config"]);return s!=null&&bY(s,n),n}function SY(t){const e={},n=y(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>_m(i))),E(e,["generatedImages"],r)}return e}function AY(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=y(t,["personImage"]);e!==void 0&&i!=null&&E(e,["instances[0]","personImage","image"],us(i));const s=y(t,["productImages"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>EY(l))),E(e,["instances[0]","productImages"],o)}return n}function CY(t){const e={},n=y(t,["referenceImage"]);n!=null&&E(e,["referenceImage"],us(n));const r=y(t,["referenceId"]);r!=null&&E(e,["referenceId"],r);const i=y(t,["referenceType"]);i!=null&&E(e,["referenceType"],i);const s=y(t,["maskImageConfig"]);s!=null&&E(e,["maskImageConfig"],_Y(s));const o=y(t,["controlImageConfig"]);o!=null&&E(e,["controlImageConfig"],xK(o));const l=y(t,["styleImageConfig"]);l!=null&&E(e,["styleImageConfig"],l);const f=y(t,["subjectImageConfig"]);return f!=null&&E(e,["subjectImageConfig"],f),e}function nR(t){const e={},n=y(t,["safetyAttributes","categories"]);n!=null&&E(e,["categories"],n);const r=y(t,["safetyAttributes","scores"]);r!=null&&E(e,["scores"],r);const i=y(t,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function rR(t){const e={},n=y(t,["safetyAttributes","categories"]);n!=null&&E(e,["categories"],n);const r=y(t,["safetyAttributes","scores"]);r!=null&&E(e,["scores"],r);const i=y(t,["contentType"]);return i!=null&&E(e,["contentType"],i),e}function IY(t){const e={};if(y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=y(t,["category"]);n!=null&&E(e,["category"],n);const r=y(t,["threshold"]);return r!=null&&E(e,["threshold"],r),e}function kY(t){const e={},n=y(t,["image"]);return n!=null&&E(e,["image"],us(n)),e}function RY(t,e){const n={},r=y(t,["mode"]);e!==void 0&&r!=null&&E(e,["parameters","mode"],r);const i=y(t,["maxPredictions"]);e!==void 0&&i!=null&&E(e,["parameters","maxPredictions"],i);const s=y(t,["confidenceThreshold"]);e!==void 0&&s!=null&&E(e,["parameters","confidenceThreshold"],s);const o=y(t,["maskDilation"]);e!==void 0&&o!=null&&E(e,["parameters","maskDilation"],o);const l=y(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&E(e,["parameters","binaryColorThreshold"],l);const f=y(t,["labels"]);return e!==void 0&&f!=null&&E(e,["labels"],f),n}function NY(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["source"]);i!=null&&MY(i,n);const s=y(e,["config"]);return s!=null&&RY(s,n),n}function DY(t){const e={},n=y(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>sY(i))),E(e,["generatedMasks"],r)}return e}function MY(t,e){const n={},r=y(t,["prompt"]);e!==void 0&&r!=null&&E(e,["instances[0]","prompt"],r);const i=y(t,["image"]);e!==void 0&&i!=null&&E(e,["instances[0]","image"],us(i));const s=y(t,["scribbleImage"]);return e!==void 0&&s!=null&&E(e,["instances[0]","scribble"],kY(s)),n}function iR(t){const e={},n=y(t,["voiceConfig"]);if(n!=null&&E(e,["voiceConfig"],n),y(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=y(t,["languageCode"]);return r!=null&&E(e,["languageCode"],r),e}function PY(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),E(e,["functionDeclarations"],c)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],hY(r));const i=y(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(t,["googleMaps"]);s!=null&&E(e,["googleMaps"],fY(s));const o=y(t,["urlContext"]);o!=null&&E(e,["urlContext"],o);const l=y(t,["computerUse"]);l!=null&&E(e,["computerUse"],l);const f=y(t,["codeExecution"]);return f!=null&&E(e,["codeExecution"],f),e}function sR(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(p=>VK(p))),E(e,["functionDeclarations"],g)}const r=y(t,["retrieval"]);r!=null&&E(e,["retrieval"],r);const i=y(t,["googleSearch"]);i!=null&&E(e,["googleSearch"],i);const s=y(t,["googleSearchRetrieval"]);s!=null&&E(e,["googleSearchRetrieval"],s);const o=y(t,["enterpriseWebSearch"]);o!=null&&E(e,["enterpriseWebSearch"],o);const l=y(t,["googleMaps"]);l!=null&&E(e,["googleMaps"],l);const f=y(t,["urlContext"]);f!=null&&E(e,["urlContext"],f);const c=y(t,["computerUse"]);c!=null&&E(e,["computerUse"],c);const d=y(t,["codeExecution"]);return d!=null&&E(e,["codeExecution"],d),e}function LY(t){const e={},n=y(t,["baseModel"]);n!=null&&E(e,["baseModel"],n);const r=y(t,["createTime"]);r!=null&&E(e,["createTime"],r);const i=y(t,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function OY(t){const e={},n=y(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&E(e,["baseModel"],n);const r=y(t,["createTime"]);r!=null&&E(e,["createTime"],r);const i=y(t,["updateTime"]);return i!=null&&E(e,["updateTime"],i),e}function FY(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=y(t,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=y(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),n}function UY(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&E(e,["displayName"],r);const i=y(t,["description"]);e!==void 0&&i!=null&&E(e,["description"],i);const s=y(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&E(e,["defaultCheckpointId"],s),n}function VY(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","name"],Ht(t,r));const i=y(e,["config"]);return i!=null&&FY(i,n),n}function BY(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["config"]);return i!=null&&UY(i,n),n}function qY(t,e){const n={},r=y(t,["outputGcsUri"]);e!==void 0&&r!=null&&E(e,["parameters","storageUri"],r);const i=y(t,["includeRaiReason"]);e!==void 0&&i!=null&&E(e,["parameters","includeRaiReason"],i);const s=y(t,["outputMimeType"]);e!==void 0&&s!=null&&E(e,["parameters","outputOptions","mimeType"],s);const o=y(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&E(e,["parameters","outputOptions","compressionQuality"],o);const l=y(t,["enhanceInputImage"]);e!==void 0&&l!=null&&E(e,["parameters","upscaleConfig","enhanceInputImage"],l);const f=y(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&E(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const c=y(t,["labels"]);e!==void 0&&c!=null&&E(e,["labels"],c);const d=y(t,["numberOfImages"]);e!==void 0&&d!=null&&E(e,["parameters","sampleCount"],d);const g=y(t,["mode"]);return e!==void 0&&g!=null&&E(e,["parameters","mode"],g),n}function HY(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["_url","model"],Ht(t,r));const i=y(e,["image"]);i!=null&&E(n,["instances[0]","image"],us(i));const s=y(e,["upscaleFactor"]);s!=null&&E(n,["parameters","upscaleConfig","upscaleFactor"],s);const o=y(e,["config"]);return o!=null&&qY(o,n),n}function zY(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&E(e,["sdkHttpResponse"],n);const r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>_m(s))),E(e,["generatedImages"],i)}return e}function GY(t){const e={},n=y(t,["uri"]);n!=null&&E(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&E(e,["videoBytes"],zo(r));const i=y(t,["encoding"]);return i!=null&&E(e,["mimeType"],i),e}function jY(t){const e={},n=y(t,["gcsUri"]);n!=null&&E(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&E(e,["videoBytes"],zo(r));const i=y(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}function $Y(t){const e={},n=y(t,["image"]);n!=null&&E(e,["_self"],us(n));const r=y(t,["maskMode"]);return r!=null&&E(e,["maskMode"],r),e}function WY(t){const e={},n=y(t,["image"]);n!=null&&E(e,["image"],Tm(n));const r=y(t,["referenceType"]);return r!=null&&E(e,["referenceType"],r),e}function KY(t){const e={},n=y(t,["image"]);n!=null&&E(e,["image"],us(n));const r=y(t,["referenceType"]);return r!=null&&E(e,["referenceType"],r),e}function aR(t){const e={},n=y(t,["uri"]);n!=null&&E(e,["uri"],n);const r=y(t,["videoBytes"]);r!=null&&E(e,["encodedVideo"],zo(r));const i=y(t,["mimeType"]);return i!=null&&E(e,["encoding"],i),e}function oR(t){const e={},n=y(t,["uri"]);n!=null&&E(e,["gcsUri"],n);const r=y(t,["videoBytes"]);r!=null&&E(e,["bytesBase64Encoded"],zo(r));const i=y(t,["mimeType"]);return i!=null&&E(e,["mimeType"],i),e}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */const GY="Content-Type",jY="X-Server-Timeout",$Y="User-Agent",wy="x-goog-api-client",WY="1.27.0",KY=`google-genai-sdk/${WY}`,YY="v1beta1",XY="v1beta",e3=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class JY{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:YY,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:XY,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,l]of Object.entries(e.queryParams))i.searchParams.append(o,String(l));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const s=new AbortController,o=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>s.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=o}return n&&n.extraBody!==null&&QY(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await t3(i),new vy(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await t3(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return Zl(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:l,value:f}=yield gn(i.read());if(l){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=s.decode(f,{stream:!0});try{const g=JSON.parse(c);if("error"in g){const p=JSON.parse(JSON.stringify(g.error)),x=p.status,_=p.code,b=`got status: ${x}. ${JSON.stringify(g)}`;if(_>=400&&_<600)throw new mm({message:b,status:_})}}catch(g){if(g.name==="ApiError")throw g}o+=c;let d=o.match(e3);for(;d;){const g=d[1];try{const p=new Response(g,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield gn(new vy(p)),o=o.slice(d[0].length),d=o.match(e3)}catch(p){throw new Error(`exception parsing stream chunk ${g}. ${p}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=KY+" "+this.clientOptions.userAgentExtra;return e[$Y]=n,e[wy]=n,e[GY]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(jY,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,o=await s.stat(e);i.sizeBytes=String(o.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const f=await this.fetchUploadUrl(i,n);return s.upload(e,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},o=await this.request({path:et("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:i});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const l=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(l===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return l}}async function t3(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new mm({message:i,status:n}):new Error(i)}}function QY(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,o){const l=Object.assign({},s);for(const f in o)if(Object.prototype.hasOwnProperty.call(o,f)){const c=o[f],d=l[f];c&&typeof c=="object"&&!Array.isArray(c)&&d&&typeof d=="object"&&!Array.isArray(d)?l[f]=r(d,c):(d&&c&&typeof d!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof d}, New type: ${typeof c}. Overwriting.`),l[f]=c)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
    + */const YY="Content-Type",XY="X-Server-Timeout",JY="User-Agent",Cy="x-goog-api-client",QY="1.27.0",ZY=`google-genai-sdk/${QY}`,eX="v1beta1",tX="v1beta",n3=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class nX{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:eX,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:tX,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,l]of Object.entries(e.queryParams))i.searchParams.append(o,String(l));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const s=new AbortController,o=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>s.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=o}return n&&n.extraBody!==null&&rX(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await r3(i),new Ey(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await r3(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return tc(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:l,value:f}=yield gn(i.read());if(l){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=s.decode(f,{stream:!0});try{const g=JSON.parse(c);if("error"in g){const p=JSON.parse(JSON.stringify(g.error)),x=p.status,_=p.code,b=`got status: ${x}. ${JSON.stringify(g)}`;if(_>=400&&_<600)throw new ym({message:b,status:_})}}catch(g){if(g.name==="ApiError")throw g}o+=c;let d=o.match(n3);for(;d;){const g=d[1];try{const p=new Response(g,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield gn(new Ey(p)),o=o.slice(d[0].length),d=o.match(n3)}catch(p){throw new Error(`exception parsing stream chunk ${g}. ${p}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=ZY+" "+this.clientOptions.userAgentExtra;return e[JY]=n,e[Cy]=n,e[YY]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(XY,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,o=await s.stat(e);i.sizeBytes=String(o.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const f=await this.fetchUploadUrl(i,n);return s.upload(e,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},o=await this.request({path:et("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:i});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const l=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(l===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return l}}async function r3(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new ym({message:i,status:n}):new Error(i)}}function rX(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,o){const l=Object.assign({},s);for(const f in o)if(Object.prototype.hasOwnProperty.call(o,f)){const c=o[f],d=l[f];c&&typeof c=="object"&&!Array.isArray(c)&&d&&typeof d=="object"&&!Array.isArray(d)?l[f]=r(d,c):(d&&c&&typeof d!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof d}, New type: ${typeof c}. Overwriting.`),l[f]=c)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */const ZY="mcp_used/unknown";let eX=!1;function rR(t){for(const e of t)if(tX(e)||typeof e=="object"&&"inputSchema"in e)return!0;return eX}function iR(t){var e;const n=(e=t[wy])!==null&&e!==void 0?e:"";t[wy]=(n+` ${ZY}`).trimStart()}function tX(t){return t!==null&&typeof t=="object"&&t instanceof o_}function nX(t,e=100){return Zl(this,arguments,function*(){let r,i=0;for(;i<e;){const s=yield gn(t.listTools({cursor:r}));for(const o of s.tools)yield yield gn(o),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class o_{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new o_(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},o=[];for(const d of this.mcpClients)try{for(var l=!0,f=(n=void 0,e0(nX(d))),c;c=await f.next(),e=c.done,!e;l=!0){i=c.value,l=!1;const g=i;o.push(g);const p=g.name;if(s[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);s[p]=d}}catch(g){n={error:g}}finally{try{!l&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),o$(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
    + */const iX="mcp_used/unknown";let sX=!1;function uR(t){for(const e of t)if(aX(e)||typeof e=="object"&&"inputSchema"in e)return!0;return sX}function lR(t){var e;const n=(e=t[Cy])!==null&&e!==void 0?e:"";t[Cy]=(n+` ${iX}`).trimStart()}function aX(t){return t!==null&&typeof t=="object"&&t instanceof c_}function oX(t,e=100){return tc(this,arguments,function*(){let r,i=0;for(;i<e;){const s=yield gn(t.listTools({cursor:r}));for(const o of s.tools)yield yield gn(o),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class c_{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new c_(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},o=[];for(const d of this.mcpClients)try{for(var l=!0,f=(n=void 0,t0(oX(d))),c;c=await f.next(),e=c.done,!e;l=!0){i=c.value,l=!1;const g=i;o.push(g);const p=g.name;if(s[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);s[p]=d}}catch(g){n={error:g}}finally{try{!l&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),h$(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */async function rX(t,e,n){const r=new Zj;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class iX{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=oX(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${l}`;let c=()=>{};const d=new Promise(A=>{c=A}),g=e.callbacks,p=function(){c({})},x=this.apiClient,_={onopen:p,onmessage:A=>{rX(x,g.onmessage,A)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(A){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(A){}},b=this.webSocketFactory.create(f,aX(o),_);b.connect(),await d;const M={setup:{model:Ht(this.apiClient,e.model)}};return b.send(JSON.stringify(M)),new sX(b,this.apiClient)}}class sX{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=XW(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=YW(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Hl.PLAY)}pause(){this.sendPlaybackControl(Hl.PAUSE)}stop(){this.sendPlaybackControl(Hl.STOP)}resetContext(){this.sendPlaybackControl(Hl.RESET_CONTEXT)}close(){this.conn.close()}}function aX(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function oX(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
    + */async function uX(t,e,n){const r=new i$;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class lX{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=hX(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${l}`;let c=()=>{};const d=new Promise(A=>{c=A}),g=e.callbacks,p=function(){c({})},x=this.apiClient,_={onopen:p,onmessage:A=>{uX(x,g.onmessage,A)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(A){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(A){}},b=this.webSocketFactory.create(f,fX(o),_);b.connect(),await d;const D={setup:{model:Ht(this.apiClient,e.model)}};return b.send(JSON.stringify(D)),new cX(b,this.apiClient)}}class cX{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=tK(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=eK(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Gl.PLAY)}pause(){this.sendPlaybackControl(Gl.PAUSE)}stop(){this.sendPlaybackControl(Gl.STOP)}resetContext(){this.sendPlaybackControl(Gl.RESET_CONTEXT)}close(){this.conn.close()}}function fX(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function hX(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */const uX="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function lX(t,e,n){const r=new Qj;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const o=ZW(s);Object.assign(r,o)}else Object.assign(r,s);e(r)}class cX{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new iX(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,o,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let d;const g=this.apiClient.getHeaders();e.config&&e.config.tools&&rR(e.config.tools)&&iR(g);const p=pX(g);if(this.apiClient.isVertexAI())d=`${f}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,d);else{const R=this.apiClient.getApiKey();let O="BidiGenerateContent",L="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),O="BidiGenerateContentConstrained",L="access_token"),d=`${f}/ws/google.ai.generativelanguage.${c}.GenerativeService.${O}?${L}=${R}`}let x=()=>{};const _=new Promise(R=>{x=R}),b=e.callbacks,C=function(){var R;(R=b==null?void 0:b.onopen)===null||R===void 0||R.call(b),x({})},I=this.apiClient,M={onopen:C,onmessage:R=>{lX(I,b.onmessage,R)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(R){}},A=this.webSocketFactory.create(d,dX(p),M);A.connect(),await _;let P=Ht(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const R=this.apiClient.getProject(),O=this.apiClient.getLocation();P=`projects/${R}/locations/${O}/`+P}let D={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Rp.AUDIO]}:e.config.responseModalities=[Rp.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const V=(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[],N=[];for(const R of V)if(this.isCallableTool(R)){const O=R;N.push(await O.tool())}else N.push(R);N.length>0&&(e.config.tools=N);const k={model:P,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?D=KW(this.apiClient,k):D=WW(this.apiClient,k),delete D.config,A.send(JSON.stringify(D)),new hX(A,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const fX={turnComplete:!0};class hX{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ni(n.turns),e.isVertexAI()||(r=r.map(i=>gm(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(uX)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},fX),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:QW(e)}:n={realtimeInput:JW(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function dX(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function pX(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
    + */const dX="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function pX(t,e,n){const r=new r$;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const o=iK(s);Object.assign(r,o)}else Object.assign(r,s);e(r)}class mX{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new lX(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,o,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let d;const g=this.apiClient.getHeaders();e.config&&e.config.tools&&uR(e.config.tools)&&lR(g);const p=vX(g);if(this.apiClient.isVertexAI())d=`${f}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,d);else{const R=this.apiClient.getApiKey();let V="BidiGenerateContent",L="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),V="BidiGenerateContentConstrained",L="access_token"),d=`${f}/ws/google.ai.generativelanguage.${c}.GenerativeService.${V}?${L}=${R}`}let x=()=>{};const _=new Promise(R=>{x=R}),b=e.callbacks,C=function(){var R;(R=b==null?void 0:b.onopen)===null||R===void 0||R.call(b),x({})},I=this.apiClient,D={onopen:C,onmessage:R=>{pX(I,b.onmessage,R)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(R){}},A=this.webSocketFactory.create(d,yX(p),D);A.connect(),await _;let P=Ht(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const R=this.apiClient.getProject(),V=this.apiClient.getLocation();P=`projects/${R}/locations/${V}/`+P}let M={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Np.AUDIO]}:e.config.responseModalities=[Np.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const U=(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[],N=[];for(const R of U)if(this.isCallableTool(R)){const V=R;N.push(await V.tool())}else N.push(R);N.length>0&&(e.config.tools=N);const k={model:P,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?M=ZW(this.apiClient,k):M=QW(this.apiClient,k),delete M.config,A.send(JSON.stringify(M)),new xX(A,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const gX={turnComplete:!0};class xX{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ni(n.turns),e.isVertexAI()||(r=r.map(i=>vm(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(dX)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},gX),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:rK(e)}:n={realtimeInput:nK(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function yX(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function vX(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */const n3=10;function r3(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ec(o)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function ec(t){return"callTool"in t&&typeof t.callTool=="function"}function mX(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>ec(i)))!==null&&r!==void 0?r:!1}function gX(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!ec(i)))!==null&&r!==void 0?r:!1}function i3(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
    + */const i3=10;function s3(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(nc(o)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function nc(t){return"callTool"in t&&typeof t.callTool=="function"}function _X(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>nc(i)))!==null&&r!==void 0?r:!1}function TX(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!nc(i)))!==null&&r!==void 0?r:!1}function a3(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */class xX extends $u{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,o,l;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!mX(n)||r3(n.config))return await this.generateContentInternal(f);if(gX(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,d;const g=Ni(f.contents),p=(s=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:n3;let x=0;for(;x<p&&(c=await this.generateContentInternal(f),!(!c.functionCalls||c.functionCalls.length===0));){const _=c.candidates[0].content,b=[];for(const C of(l=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(ec(C)){const M=await C.callTool(c.functionCalls);b.push(...M)}x++,d={role:"user",parts:b},f.contents=Ni(f.contents),f.contents.push(_),f.contents.push(d),i3(f.config)&&(g.push(_),g.push(d))}return i3(f.config)&&(c.automaticFunctionCallingHistory=g),c},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),r3(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const o=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=f==null?void 0:f.safetyAttributes:o.push(f);let l;return s?l={generatedImages:o,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new z0(Mu.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,o,l,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(s=n.source)===null||s===void 0?void 0:s.video)===null||o===void 0)&&o.uri&&(!((f=(l=n.source)===null||l===void 0?void 0:l.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const o=await Promise.all(s.map(async f=>ec(f)?await f.tool():f)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(l.config.tools=o,e.config&&e.config.tools&&rR(e.config.tools)){const f=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},f);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),iR(c),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return l}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ec(o)){const l=o,f=await l.tool();for(const c of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,l)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:n3;let o=!1,l=0;const f=await this.initAfcToolsMap(e);return(function(c,d,g){var p,x;return Zl(this,arguments,function*(){for(var _,b,C,I;l<s;){o&&(l++,o=!1);const D=yield gn(c.processParamsMaybeAddMcpUsage(g)),V=yield gn(c.generateContentStreamInternal(D)),N=[],k=[];try{for(var M=!0,A=(b=void 0,e0(V)),P;P=yield gn(A.next()),_=P.done,!_;M=!0){I=P.value,M=!1;const R=I;if(yield yield gn(R),R.candidates&&(!((p=R.candidates[0])===null||p===void 0)&&p.content)){k.push(R.candidates[0].content);for(const O of(x=R.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(l<s&&O.functionCall){if(!O.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(O.functionCall.name)){const L=yield gn(d.get(O.functionCall.name).callTool([O.functionCall]));N.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${O.functionCall.name}`)}}}}catch(R){b={error:R}}finally{try{!M&&!_&&(C=A.return)&&(yield gn(C.call(A)))}finally{if(b)throw b.error}}if(N.length>0){o=!0;const R=new Sf;R.candidates=[{content:{role:"user",parts:N}}],yield yield gn(R);const O=[];O.push(...k),O.push({role:"user",parts:N});const L=Ni(g.contents).concat(O);g.contents=L}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=JA(this.apiClient,e);return l=et("{model}:generateContent",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=ZA(d),p=new Sf;return Object.assign(p,g),p})}else{const c=XA(this.apiClient,e);return l=et("{model}:generateContent",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=QA(d),p=new Sf;return Object.assign(p,g),p})}}async generateContentStreamInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=JA(this.apiClient,e);return l=et("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(g){return Zl(this,arguments,function*(){var p,x,_,b;try{for(var C=!0,I=e0(g),M;M=yield gn(I.next()),p=M.done,!p;C=!0){b=M.value,C=!1;const A=b,P=ZA(yield gn(A.json()));P.sdkHttpResponse={headers:A.headers};const D=new Sf;Object.assign(D,P),yield yield gn(D)}}catch(A){x={error:A}}finally{try{!C&&!p&&(_=I.return)&&(yield gn(_.call(I)))}finally{if(x)throw x.error}}})})}else{const c=XA(this.apiClient,e);return l=et("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(g){return Zl(this,arguments,function*(){var p,x,_,b;try{for(var C=!0,I=e0(g),M;M=yield gn(I.next()),p=M.done,!p;C=!0){b=M.value,C=!1;const A=b,P=QA(yield gn(A.json()));P.sdkHttpResponse={headers:A.headers};const D=new Sf;Object.assign(D,P),yield yield gn(D)}}catch(A){x={error:A}}finally{try{!C&&!p&&(_=I.return)&&(yield gn(_.call(I)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=kK(this.apiClient,e);return l=et("{model}:predict",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=NK(d),p=new PA;return Object.assign(p,g),p})}else{const c=IK(this.apiClient,e);return l=et("{model}:batchEmbedContents",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=RK(d),p=new PA;return Object.assign(p,g),p})}}async generateImagesInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=BK(this.apiClient,e);return l=et("{model}:predict",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=HK(d),p=new LA;return Object.assign(p,g),p})}else{const c=VK(this.apiClient,e);return l=et("{model}:predict",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=qK(d),p=new LA;return Object.assign(p,g),p})}}async editImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=wK(this.apiClient,e);return s=et("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>{const c=SK(f),d=new Gj;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=FY(this.apiClient,e);return s=et("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>{const c=UY(f),d=new jj;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=vY(this.apiClient,e);return s=et("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const c=_Y(f),d=new $j;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=AY(this.apiClient,e);return s=et("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const c=CY(f),d=new Wj;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=sY(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>by(d))}else{const c=iY(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>Ey(d))}}async listInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=hY(this.apiClient,e);return l=et("{models_url}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=pY(d),p=new OA;return Object.assign(p,g),p})}else{const c=fY(this.apiClient,e);return l=et("{models_url}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=dY(d),p=new OA;return Object.assign(p,g),p})}}async update(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=LY(this.apiClient,e);return l=et("{model}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>by(d))}else{const c=PY(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>Ey(d))}}async delete(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=_K(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=EK(d),p=new FA;return Object.assign(p,g),p})}else{const c=vK(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=TK(d),p=new FA;return Object.assign(p,g),p})}}async countTokens(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=gK(this.apiClient,e);return l=et("{model}:countTokens",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=yK(d),p=new UA;return Object.assign(p,g),p})}else{const c=mK(this.apiClient,e);return l=et("{model}:countTokens",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=xK(d),p=new UA;return Object.assign(p,g),p})}}async computeTokens(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=uK(this.apiClient,e);return s=et("{model}:computeTokens",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>{const c=lK(f),d=new Kj;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=KK(this.apiClient,e);return l=et("{model}:predictLongRunning",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const g=$K(d),p=new Np;return Object.assign(p,g),p})}else{const c=WK(this.apiClient,e);return l=et("{model}:predictLongRunning",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>{const g=jK(d),p=new Np;return Object.assign(p,g),p})}}}/**
    + */class EX extends Ku{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,o,l;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!_X(n)||s3(n.config))return await this.generateContentInternal(f);if(TX(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,d;const g=Ni(f.contents),p=(s=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:i3;let x=0;for(;x<p&&(c=await this.generateContentInternal(f),!(!c.functionCalls||c.functionCalls.length===0));){const _=c.candidates[0].content,b=[];for(const C of(l=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(nc(C)){const D=await C.callTool(c.functionCalls);b.push(...D)}x++,d={role:"user",parts:b},f.contents=Ni(f.contents),f.contents.push(_),f.contents.push(d),a3(f.config)&&(g.push(_),g.push(d))}return a3(f.config)&&(c.automaticFunctionCallingHistory=g),c},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),s3(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const o=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=f==null?void 0:f.safetyAttributes:o.push(f);let l;return s?l={generatedImages:o,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new G0(Pu.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,o,l,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(s=n.source)===null||s===void 0?void 0:s.video)===null||o===void 0)&&o.uri&&(!((f=(l=n.source)===null||l===void 0?void 0:l.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const o=await Promise.all(s.map(async f=>nc(f)?await f.tool():f)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(l.config.tools=o,e.config&&e.config.tools&&uR(e.config.tools)){const f=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let c=Object.assign({},f);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),lR(c),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return l}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(nc(o)){const l=o,f=await l.tool();for(const c of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,l)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:i3;let o=!1,l=0;const f=await this.initAfcToolsMap(e);return(function(c,d,g){var p,x;return tc(this,arguments,function*(){for(var _,b,C,I;l<s;){o&&(l++,o=!1);const M=yield gn(c.processParamsMaybeAddMcpUsage(g)),U=yield gn(c.generateContentStreamInternal(M)),N=[],k=[];try{for(var D=!0,A=(b=void 0,t0(U)),P;P=yield gn(A.next()),_=P.done,!_;D=!0){I=P.value,D=!1;const R=I;if(yield yield gn(R),R.candidates&&(!((p=R.candidates[0])===null||p===void 0)&&p.content)){k.push(R.candidates[0].content);for(const V of(x=R.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(l<s&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(V.functionCall.name)){const L=yield gn(d.get(V.functionCall.name).callTool([V.functionCall]));N.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(R){b={error:R}}finally{try{!D&&!_&&(C=A.return)&&(yield gn(C.call(A)))}finally{if(b)throw b.error}}if(N.length>0){o=!0;const R=new Af;R.candidates=[{content:{role:"user",parts:N}}],yield yield gn(R);const V=[];V.push(...k),V.push({role:"user",parts:N});const L=Ni(g.contents).concat(V);g.contents=L}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=ZA(this.apiClient,e);return l=et("{model}:generateContent",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=t3(d),p=new Af;return Object.assign(p,g),p})}else{const c=QA(this.apiClient,e);return l=et("{model}:generateContent",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=e3(d),p=new Af;return Object.assign(p,g),p})}}async generateContentStreamInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=ZA(this.apiClient,e);return l=et("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(g){return tc(this,arguments,function*(){var p,x,_,b;try{for(var C=!0,I=t0(g),D;D=yield gn(I.next()),p=D.done,!p;C=!0){b=D.value,C=!1;const A=b,P=t3(yield gn(A.json()));P.sdkHttpResponse={headers:A.headers};const M=new Af;Object.assign(M,P),yield yield gn(M)}}catch(A){x={error:A}}finally{try{!C&&!p&&(_=I.return)&&(yield gn(_.call(I)))}finally{if(x)throw x.error}}})})}else{const c=QA(this.apiClient,e);return l=et("{model}:streamGenerateContent?alt=sse",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.requestStream({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(g){return tc(this,arguments,function*(){var p,x,_,b;try{for(var C=!0,I=t0(g),D;D=yield gn(I.next()),p=D.done,!p;C=!0){b=D.value,C=!1;const A=b,P=e3(yield gn(A.json()));P.sdkHttpResponse={headers:A.headers};const M=new Af;Object.assign(M,P),yield yield gn(M)}}catch(A){x={error:A}}finally{try{!C&&!p&&(_=I.return)&&(yield gn(_.call(I)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=PK(this.apiClient,e);return l=et("{model}:predict",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=OK(d),p=new OA;return Object.assign(p,g),p})}else{const c=MK(this.apiClient,e);return l=et("{model}:batchEmbedContents",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=LK(d),p=new OA;return Object.assign(p,g),p})}}async generateImagesInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=jK(this.apiClient,e);return l=et("{model}:predict",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=WK(d),p=new FA;return Object.assign(p,g),p})}else{const c=GK(this.apiClient,e);return l=et("{model}:predict",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=$K(d),p=new FA;return Object.assign(p,g),p})}}async editImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=kK(this.apiClient,e);return s=et("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>{const c=RK(f),d=new Yj;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=HY(this.apiClient,e);return s=et("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>{const c=zY(f),d=new Xj;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=wY(this.apiClient,e);return s=et("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const c=SY(f),d=new Jj;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=NY(this.apiClient,e);return s=et("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const c=DY(f),d=new Qj;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=cY(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Ay(d))}else{const c=lY(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>Sy(d))}}async listInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=xY(this.apiClient,e);return l=et("{models_url}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=vY(d),p=new UA;return Object.assign(p,g),p})}else{const c=gY(this.apiClient,e);return l=et("{models_url}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=yY(d),p=new UA;return Object.assign(p,g),p})}}async update(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=BY(this.apiClient,e);return l=et("{model}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Ay(d))}else{const c=VY(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>Sy(d))}}async delete(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=SK(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=CK(d),p=new VA;return Object.assign(p,g),p})}else{const c=wK(this.apiClient,e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=AK(d),p=new VA;return Object.assign(p,g),p})}}async countTokens(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=TK(this.apiClient,e);return l=et("{model}:countTokens",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=bK(d),p=new BA;return Object.assign(p,g),p})}else{const c=_K(this.apiClient,e);return l=et("{model}:countTokens",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=EK(d),p=new BA;return Object.assign(p,g),p})}}async computeTokens(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=dK(this.apiClient,e);return s=et("{model}:computeTokens",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>{const c=pK(f),d=new Zj;return Object.assign(d,c),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=ZK(this.apiClient,e);return l=et("{model}:predictLongRunning",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const g=JK(d),p=new Dp;return Object.assign(p,g),p})}else{const c=QK(this.apiClient,e);return l=et("{model}:predictLongRunning",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>{const g=XK(d),p=new Dp;return Object.assign(p,g),p})}}}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */class yX extends $u{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=qj(e);return l=et("{operationName}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o}else{const c=Bj(e);return l=et("{operationName}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=Mj(e);return s=et("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
    + */class bX extends Ku{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=$j(e);return l=et("{operationName}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o}else{const c=jj(e);return l=et("{operationName}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=Uj(e);return s=et("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */function vX(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["data"]);n!=null&&E(e,["data"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function _X(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>IX(s))),E(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&E(e,["role"],r),e}function TX(t,e,n){const r={},i=y(e,["expireTime"]);n!==void 0&&i!=null&&E(n,["expireTime"],i);const s=y(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&E(n,["newSessionExpireTime"],s);const o=y(e,["uses"]);n!==void 0&&o!=null&&E(n,["uses"],o);const l=y(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&E(n,["bidiGenerateContentSetup"],CX(t,l));const f=y(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&E(n,["fieldMask"],f),r}function EX(t,e){const n={},r=y(e,["config"]);return r!=null&&E(n,["config"],TX(t,r,n)),n}function bX(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function wX(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&E(e,["enableWidget"],n),e}function SX(t){const e={},n=y(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],n),y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function AX(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=y(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const o=y(t,["topP"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topP"],o);const l=y(t,["topK"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","topK"],l);const f=y(t,["maxOutputTokens"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","maxOutputTokens"],f);const c=y(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const d=y(t,["seed"]);e!==void 0&&d!=null&&E(e,["setup","generationConfig","seed"],d);const g=y(t,["speechConfig"]);e!==void 0&&g!=null&&E(e,["setup","generationConfig","speechConfig"],a_(g));const p=y(t,["thinkingConfig"]);e!==void 0&&p!=null&&E(e,["setup","generationConfig","thinkingConfig"],p);const x=y(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],x);const _=y(t,["systemInstruction"]);e!==void 0&&_!=null&&E(e,["setup","systemInstruction"],_X(wr(_)));const b=y(t,["tools"]);if(e!==void 0&&b!=null){let V=Ac(b);Array.isArray(V)&&(V=V.map(N=>RX(Sc(N)))),E(e,["setup","tools"],V)}const C=y(t,["sessionResumption"]);e!==void 0&&C!=null&&E(e,["setup","sessionResumption"],kX(C));const I=y(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&E(e,["setup","inputAudioTranscription"],I);const M=y(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&E(e,["setup","outputAudioTranscription"],M);const A=y(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&E(e,["setup","realtimeInputConfig"],A);const P=y(t,["contextWindowCompression"]);e!==void 0&&P!=null&&E(e,["setup","contextWindowCompression"],P);const D=y(t,["proactivity"]);return e!==void 0&&D!=null&&E(e,["setup","proactivity"],D),n}function CX(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["setup","model"],Ht(t,r));const i=y(e,["config"]);return i!=null&&E(n,["config"],AX(i,n)),n}function IX(t){const e={},n=y(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],n);const r=y(t,["thought"]);r!=null&&E(e,["thought"],r);const i=y(t,["inlineData"]);i!=null&&E(e,["inlineData"],vX(i));const s=y(t,["fileData"]);s!=null&&E(e,["fileData"],bX(s));const o=y(t,["thoughtSignature"]);o!=null&&E(e,["thoughtSignature"],o);const l=y(t,["functionCall"]);l!=null&&E(e,["functionCall"],l);const f=y(t,["codeExecutionResult"]);f!=null&&E(e,["codeExecutionResult"],f);const c=y(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const d=y(t,["functionResponse"]);d!=null&&E(e,["functionResponse"],d);const g=y(t,["text"]);return g!=null&&E(e,["text"],g),e}function kX(t){const e={},n=y(t,["handle"]);if(n!=null&&E(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function RX(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),E(e,["functionDeclarations"],c)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],SX(r));const i=y(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(t,["googleMaps"]);s!=null&&E(e,["googleMaps"],wX(s));const o=y(t,["urlContext"]);o!=null&&E(e,["urlContext"],o);const l=y(t,["computerUse"]);l!=null&&E(e,["computerUse"],l);const f=y(t,["codeExecution"]);return f!=null&&E(e,["codeExecution"],f),e}/**
    + */function wX(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["data"]);n!=null&&E(e,["data"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function SX(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>MX(s))),E(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&E(e,["role"],r),e}function AX(t,e,n){const r={},i=y(e,["expireTime"]);n!==void 0&&i!=null&&E(n,["expireTime"],i);const s=y(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&E(n,["newSessionExpireTime"],s);const o=y(e,["uses"]);n!==void 0&&o!=null&&E(n,["uses"],o);const l=y(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&E(n,["bidiGenerateContentSetup"],DX(t,l));const f=y(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&E(n,["fieldMask"],f),r}function CX(t,e){const n={},r=y(e,["config"]);return r!=null&&E(n,["config"],AX(t,r,n)),n}function IX(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&E(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&E(e,["mimeType"],r),e}function kX(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&E(e,["enableWidget"],n),e}function RX(t){const e={},n=y(t,["timeRangeFilter"]);if(n!=null&&E(e,["timeRangeFilter"],n),y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function NX(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&E(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&E(e,["setup","generationConfig","responseModalities"],i);const s=y(t,["temperature"]);e!==void 0&&s!=null&&E(e,["setup","generationConfig","temperature"],s);const o=y(t,["topP"]);e!==void 0&&o!=null&&E(e,["setup","generationConfig","topP"],o);const l=y(t,["topK"]);e!==void 0&&l!=null&&E(e,["setup","generationConfig","topK"],l);const f=y(t,["maxOutputTokens"]);e!==void 0&&f!=null&&E(e,["setup","generationConfig","maxOutputTokens"],f);const c=y(t,["mediaResolution"]);e!==void 0&&c!=null&&E(e,["setup","generationConfig","mediaResolution"],c);const d=y(t,["seed"]);e!==void 0&&d!=null&&E(e,["setup","generationConfig","seed"],d);const g=y(t,["speechConfig"]);e!==void 0&&g!=null&&E(e,["setup","generationConfig","speechConfig"],l_(g));const p=y(t,["thinkingConfig"]);e!==void 0&&p!=null&&E(e,["setup","generationConfig","thinkingConfig"],p);const x=y(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&E(e,["setup","generationConfig","enableAffectiveDialog"],x);const _=y(t,["systemInstruction"]);e!==void 0&&_!=null&&E(e,["setup","systemInstruction"],SX(wr(_)));const b=y(t,["tools"]);if(e!==void 0&&b!=null){let U=Cc(b);Array.isArray(U)&&(U=U.map(N=>LX(Ac(N)))),E(e,["setup","tools"],U)}const C=y(t,["sessionResumption"]);e!==void 0&&C!=null&&E(e,["setup","sessionResumption"],PX(C));const I=y(t,["inputAudioTranscription"]);e!==void 0&&I!=null&&E(e,["setup","inputAudioTranscription"],I);const D=y(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&E(e,["setup","outputAudioTranscription"],D);const A=y(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&E(e,["setup","realtimeInputConfig"],A);const P=y(t,["contextWindowCompression"]);e!==void 0&&P!=null&&E(e,["setup","contextWindowCompression"],P);const M=y(t,["proactivity"]);return e!==void 0&&M!=null&&E(e,["setup","proactivity"],M),n}function DX(t,e){const n={},r=y(e,["model"]);r!=null&&E(n,["setup","model"],Ht(t,r));const i=y(e,["config"]);return i!=null&&E(n,["config"],NX(i,n)),n}function MX(t){const e={},n=y(t,["videoMetadata"]);n!=null&&E(e,["videoMetadata"],n);const r=y(t,["thought"]);r!=null&&E(e,["thought"],r);const i=y(t,["inlineData"]);i!=null&&E(e,["inlineData"],wX(i));const s=y(t,["fileData"]);s!=null&&E(e,["fileData"],IX(s));const o=y(t,["thoughtSignature"]);o!=null&&E(e,["thoughtSignature"],o);const l=y(t,["functionCall"]);l!=null&&E(e,["functionCall"],l);const f=y(t,["codeExecutionResult"]);f!=null&&E(e,["codeExecutionResult"],f);const c=y(t,["executableCode"]);c!=null&&E(e,["executableCode"],c);const d=y(t,["functionResponse"]);d!=null&&E(e,["functionResponse"],d);const g=y(t,["text"]);return g!=null&&E(e,["text"],g),e}function PX(t){const e={},n=y(t,["handle"]);if(n!=null&&E(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function LX(t){const e={},n=y(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(d=>d)),E(e,["functionDeclarations"],c)}if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["googleSearch"]);r!=null&&E(e,["googleSearch"],RX(r));const i=y(t,["googleSearchRetrieval"]);if(i!=null&&E(e,["googleSearchRetrieval"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(t,["googleMaps"]);s!=null&&E(e,["googleMaps"],kX(s));const o=y(t,["urlContext"]);o!=null&&E(e,["urlContext"],o);const l=y(t,["computerUse"]);l!=null&&E(e,["computerUse"],l);const f=y(t,["codeExecution"]);return f!=null&&E(e,["codeExecution"],f),e}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */function NX(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function DX(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=NX(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(c=>o.includes(c)?`generationConfig.${c}`:c));const f=[];s&&f.push(s),l.length>0&&f.push(...l),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class MX extends $u{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=EX(this.apiClient,e);s=et("auth_tokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const f=DX(l,e.config);return i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}}/**
    + */function OX(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function FX(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=OX(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(c=>o.includes(c)?`generationConfig.${c}`:c));const f=[];s&&f.push(s),l.length>0&&f.push(...l),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class UX extends Ku{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=CX(this.apiClient,e);s=et("auth_tokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const f=FX(l,e.config);return i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */function PX(t,e){const n={},r=y(t,["name"]);return r!=null&&E(n,["_url","name"],r),n}function LX(t,e){const n={},r=y(t,["name"]);return r!=null&&E(n,["_url","name"],r),n}function OX(t,e,n){const r={};if(y(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&E(e,["displayName"],i),y(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=y(t,["epochCount"]);e!==void 0&&s!=null&&E(e,["tuningTask","hyperparameters","epochCount"],s);const o=y(t,["learningRateMultiplier"]);if(o!=null&&E(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),y(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=y(t,["batchSize"]);e!==void 0&&l!=null&&E(e,["tuningTask","hyperparameters","batchSize"],l);const f=y(t,["learningRate"]);if(e!==void 0&&f!=null&&E(e,["tuningTask","hyperparameters","learningRate"],f),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return r}function FX(t,e,n){const r={},i=y(t,["validationDataset"]);e!==void 0&&i!=null&&E(e,["supervisedTuningSpec"],QX(i));const s=y(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&E(e,["tunedModelDisplayName"],s);const o=y(t,["description"]);e!==void 0&&o!=null&&E(e,["description"],o);const l=y(t,["epochCount"]);e!==void 0&&l!=null&&E(e,["supervisedTuningSpec","hyperParameters","epochCount"],l);const f=y(t,["learningRateMultiplier"]);e!==void 0&&f!=null&&E(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],f);const c=y(t,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&E(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const d=y(t,["adapterSize"]);if(e!==void 0&&d!=null&&E(e,["supervisedTuningSpec","hyperParameters","adapterSize"],d),y(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const g=y(t,["labels"]);return e!==void 0&&g!=null&&E(e,["labels"],g),r}function UX(t,e){const n={},r=y(t,["baseModel"]);r!=null&&E(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&E(n,["preTunedModel"],i);const s=y(t,["trainingDataset"]);s!=null&&E(n,["tuningTask","trainingData"],YX(s));const o=y(t,["config"]);return o!=null&&OX(o,n),n}function VX(t,e){const n={},r=y(t,["baseModel"]);r!=null&&E(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&E(n,["preTunedModel"],i);const s=y(t,["trainingDataset"]);s!=null&&XX(s,n);const o=y(t,["config"]);return o!=null&&FX(o,n),n}function BX(t,e){const n={},r=y(t,["name"]);return r!=null&&E(n,["_url","name"],r),n}function qX(t,e){const n={},r=y(t,["name"]);return r!=null&&E(n,["_url","name"],r),n}function HX(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&E(e,["_query","pageSize"],i);const s=y(t,["pageToken"]);e!==void 0&&s!=null&&E(e,["_query","pageToken"],s);const o=y(t,["filter"]);return e!==void 0&&o!=null&&E(e,["_query","filter"],o),r}function zX(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&E(e,["_query","pageSize"],i);const s=y(t,["pageToken"]);e!==void 0&&s!=null&&E(e,["_query","pageToken"],s);const o=y(t,["filter"]);return e!==void 0&&o!=null&&E(e,["_query","filter"],o),r}function GX(t,e){const n={},r=y(t,["config"]);return r!=null&&HX(r,n),n}function jX(t,e){const n={},r=y(t,["config"]);return r!=null&&zX(r,n),n}function $X(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&E(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&E(n,["nextPageToken"],i);const s=y(t,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>sR(l))),E(n,["tuningJobs"],o)}return n}function WX(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&E(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&E(n,["nextPageToken"],i);const s=y(t,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>Sy(l))),E(n,["tuningJobs"],o)}return n}function KX(t,e){const n={},r=y(t,["name"]);r!=null&&E(n,["model"],r);const i=y(t,["name"]);return i!=null&&E(n,["endpoint"],i),n}function YX(t,e){const n={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),E(n,["examples","examples"],i)}return n}function XX(t,e,n){const r={},i=y(t,["gcsUri"]);e!==void 0&&i!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],i);const s=y(t,["vertexDatasetResource"]);if(e!==void 0&&s!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],s),y(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function sR(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&E(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&E(n,["name"],i);const s=y(t,["state"]);s!=null&&E(n,["state"],Bk(s));const o=y(t,["createTime"]);o!=null&&E(n,["createTime"],o);const l=y(t,["tuningTask","startTime"]);l!=null&&E(n,["startTime"],l);const f=y(t,["tuningTask","completeTime"]);f!=null&&E(n,["endTime"],f);const c=y(t,["updateTime"]);c!=null&&E(n,["updateTime"],c);const d=y(t,["description"]);d!=null&&E(n,["description"],d);const g=y(t,["baseModel"]);g!=null&&E(n,["baseModel"],g);const p=y(t,["_self"]);return p!=null&&E(n,["tunedModel"],KX(p)),n}function Sy(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&E(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&E(n,["name"],i);const s=y(t,["state"]);s!=null&&E(n,["state"],Bk(s));const o=y(t,["createTime"]);o!=null&&E(n,["createTime"],o);const l=y(t,["startTime"]);l!=null&&E(n,["startTime"],l);const f=y(t,["endTime"]);f!=null&&E(n,["endTime"],f);const c=y(t,["updateTime"]);c!=null&&E(n,["updateTime"],c);const d=y(t,["error"]);d!=null&&E(n,["error"],d);const g=y(t,["description"]);g!=null&&E(n,["description"],g);const p=y(t,["baseModel"]);p!=null&&E(n,["baseModel"],p);const x=y(t,["tunedModel"]);x!=null&&E(n,["tunedModel"],x);const _=y(t,["preTunedModel"]);_!=null&&E(n,["preTunedModel"],_);const b=y(t,["supervisedTuningSpec"]);b!=null&&E(n,["supervisedTuningSpec"],b);const C=y(t,["tuningDataStats"]);C!=null&&E(n,["tuningDataStats"],C);const I=y(t,["encryptionSpec"]);I!=null&&E(n,["encryptionSpec"],I);const M=y(t,["partnerModelTuningSpec"]);M!=null&&E(n,["partnerModelTuningSpec"],M);const A=y(t,["customBaseModel"]);A!=null&&E(n,["customBaseModel"],A);const P=y(t,["experiment"]);P!=null&&E(n,["experiment"],P);const D=y(t,["labels"]);D!=null&&E(n,["labels"],D);const V=y(t,["outputUri"]);V!=null&&E(n,["outputUri"],V);const N=y(t,["pipelineJob"]);N!=null&&E(n,["pipelineJob"],N);const k=y(t,["serviceAccount"]);k!=null&&E(n,["serviceAccount"],k);const R=y(t,["tunedModelDisplayName"]);R!=null&&E(n,["tunedModelDisplayName"],R);const O=y(t,["veoTuningSpec"]);return O!=null&&E(n,["veoTuningSpec"],O),n}function JX(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&E(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&E(n,["name"],i);const s=y(t,["metadata"]);s!=null&&E(n,["metadata"],s);const o=y(t,["done"]);o!=null&&E(n,["done"],o);const l=y(t,["error"]);return l!=null&&E(n,["error"],l),n}function QX(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&E(n,["validationDatasetUri"],r);const i=y(t,["vertexDatasetResource"]);return i!=null&&E(n,["validationDatasetUri"],i),n}/**
    + */function VX(t,e){const n={},r=y(t,["name"]);return r!=null&&E(n,["_url","name"],r),n}function BX(t,e){const n={},r=y(t,["name"]);return r!=null&&E(n,["_url","name"],r),n}function qX(t,e,n){const r={};if(y(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&E(e,["displayName"],i),y(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=y(t,["epochCount"]);e!==void 0&&s!=null&&E(e,["tuningTask","hyperparameters","epochCount"],s);const o=y(t,["learningRateMultiplier"]);if(o!=null&&E(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),y(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=y(t,["batchSize"]);e!==void 0&&l!=null&&E(e,["tuningTask","hyperparameters","batchSize"],l);const f=y(t,["learningRate"]);if(e!==void 0&&f!=null&&E(e,["tuningTask","hyperparameters","learningRate"],f),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return r}function HX(t,e,n){const r={},i=y(t,["validationDataset"]);e!==void 0&&i!=null&&E(e,["supervisedTuningSpec"],rJ(i));const s=y(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&E(e,["tunedModelDisplayName"],s);const o=y(t,["description"]);e!==void 0&&o!=null&&E(e,["description"],o);const l=y(t,["epochCount"]);e!==void 0&&l!=null&&E(e,["supervisedTuningSpec","hyperParameters","epochCount"],l);const f=y(t,["learningRateMultiplier"]);e!==void 0&&f!=null&&E(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],f);const c=y(t,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&E(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const d=y(t,["adapterSize"]);if(e!==void 0&&d!=null&&E(e,["supervisedTuningSpec","hyperParameters","adapterSize"],d),y(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const g=y(t,["labels"]);return e!==void 0&&g!=null&&E(e,["labels"],g),r}function zX(t,e){const n={},r=y(t,["baseModel"]);r!=null&&E(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&E(n,["preTunedModel"],i);const s=y(t,["trainingDataset"]);s!=null&&E(n,["tuningTask","trainingData"],eJ(s));const o=y(t,["config"]);return o!=null&&qX(o,n),n}function GX(t,e){const n={},r=y(t,["baseModel"]);r!=null&&E(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&E(n,["preTunedModel"],i);const s=y(t,["trainingDataset"]);s!=null&&tJ(s,n);const o=y(t,["config"]);return o!=null&&HX(o,n),n}function jX(t,e){const n={},r=y(t,["name"]);return r!=null&&E(n,["_url","name"],r),n}function $X(t,e){const n={},r=y(t,["name"]);return r!=null&&E(n,["_url","name"],r),n}function WX(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&E(e,["_query","pageSize"],i);const s=y(t,["pageToken"]);e!==void 0&&s!=null&&E(e,["_query","pageToken"],s);const o=y(t,["filter"]);return e!==void 0&&o!=null&&E(e,["_query","filter"],o),r}function KX(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&E(e,["_query","pageSize"],i);const s=y(t,["pageToken"]);e!==void 0&&s!=null&&E(e,["_query","pageToken"],s);const o=y(t,["filter"]);return e!==void 0&&o!=null&&E(e,["_query","filter"],o),r}function YX(t,e){const n={},r=y(t,["config"]);return r!=null&&WX(r,n),n}function XX(t,e){const n={},r=y(t,["config"]);return r!=null&&KX(r,n),n}function JX(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&E(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&E(n,["nextPageToken"],i);const s=y(t,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>cR(l))),E(n,["tuningJobs"],o)}return n}function QX(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&E(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&E(n,["nextPageToken"],i);const s=y(t,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>Iy(l))),E(n,["tuningJobs"],o)}return n}function ZX(t,e){const n={},r=y(t,["name"]);r!=null&&E(n,["model"],r);const i=y(t,["name"]);return i!=null&&E(n,["endpoint"],i),n}function eJ(t,e){const n={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),E(n,["examples","examples"],i)}return n}function tJ(t,e,n){const r={},i=y(t,["gcsUri"]);e!==void 0&&i!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],i);const s=y(t,["vertexDatasetResource"]);if(e!==void 0&&s!=null&&E(e,["supervisedTuningSpec","trainingDatasetUri"],s),y(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function cR(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&E(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&E(n,["name"],i);const s=y(t,["state"]);s!=null&&E(n,["state"],jk(s));const o=y(t,["createTime"]);o!=null&&E(n,["createTime"],o);const l=y(t,["tuningTask","startTime"]);l!=null&&E(n,["startTime"],l);const f=y(t,["tuningTask","completeTime"]);f!=null&&E(n,["endTime"],f);const c=y(t,["updateTime"]);c!=null&&E(n,["updateTime"],c);const d=y(t,["description"]);d!=null&&E(n,["description"],d);const g=y(t,["baseModel"]);g!=null&&E(n,["baseModel"],g);const p=y(t,["_self"]);return p!=null&&E(n,["tunedModel"],ZX(p)),n}function Iy(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&E(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&E(n,["name"],i);const s=y(t,["state"]);s!=null&&E(n,["state"],jk(s));const o=y(t,["createTime"]);o!=null&&E(n,["createTime"],o);const l=y(t,["startTime"]);l!=null&&E(n,["startTime"],l);const f=y(t,["endTime"]);f!=null&&E(n,["endTime"],f);const c=y(t,["updateTime"]);c!=null&&E(n,["updateTime"],c);const d=y(t,["error"]);d!=null&&E(n,["error"],d);const g=y(t,["description"]);g!=null&&E(n,["description"],g);const p=y(t,["baseModel"]);p!=null&&E(n,["baseModel"],p);const x=y(t,["tunedModel"]);x!=null&&E(n,["tunedModel"],x);const _=y(t,["preTunedModel"]);_!=null&&E(n,["preTunedModel"],_);const b=y(t,["supervisedTuningSpec"]);b!=null&&E(n,["supervisedTuningSpec"],b);const C=y(t,["tuningDataStats"]);C!=null&&E(n,["tuningDataStats"],C);const I=y(t,["encryptionSpec"]);I!=null&&E(n,["encryptionSpec"],I);const D=y(t,["partnerModelTuningSpec"]);D!=null&&E(n,["partnerModelTuningSpec"],D);const A=y(t,["customBaseModel"]);A!=null&&E(n,["customBaseModel"],A);const P=y(t,["experiment"]);P!=null&&E(n,["experiment"],P);const M=y(t,["labels"]);M!=null&&E(n,["labels"],M);const U=y(t,["outputUri"]);U!=null&&E(n,["outputUri"],U);const N=y(t,["pipelineJob"]);N!=null&&E(n,["pipelineJob"],N);const k=y(t,["serviceAccount"]);k!=null&&E(n,["serviceAccount"],k);const R=y(t,["tunedModelDisplayName"]);R!=null&&E(n,["tunedModelDisplayName"],R);const V=y(t,["veoTuningSpec"]);return V!=null&&E(n,["veoTuningSpec"],V),n}function nJ(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&E(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&E(n,["name"],i);const s=y(t,["metadata"]);s!=null&&E(n,["metadata"],s);const o=y(t,["done"]);o!=null&&E(n,["done"],o);const l=y(t,["error"]);return l!=null&&E(n,["error"],l),n}function rJ(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&E(n,["validationDatasetUri"],r);const i=y(t,["vertexDatasetResource"]);return i!=null&&E(n,["validationDatasetUri"],i),n}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */class ZX extends $u{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new z0(Mu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),s=await this.tuneMldevInternal(i);let o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:yy.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=qX(e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>Sy(d))}else{const c=BX(e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>sR(d))}}async listInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=jX(e);return l=et("tuningJobs",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=WX(d),p=new VA;return Object.assign(p,g),p})}else{const c=GX(e);return l=et("tunedModels",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=$X(d),p=new VA;return Object.assign(p,g),p})}}async cancel(e){var n,r,i,s;let o="",l={};if(this.apiClient.isVertexAI()){const f=LX(e);o=et("{name}:cancel",f._url),l=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=PX(e);o=et("{name}:cancel",f._url),l=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=VX(e);return s=et("tuningJobs",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>Sy(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=UX(e);return s=et("tunedModels",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>JX(f))}}}/**
    + */class iJ extends Ku{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new G0(Pu.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),s=await this.tuneMldevInternal(i);let o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:Ty.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=$X(e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>Iy(d))}else{const c=jX(e);return l=et("{name}",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>cR(d))}}async listInternal(e){var n,r,i,s;let o,l="",f={};if(this.apiClient.isVertexAI()){const c=XX(e);return l=et("tuningJobs",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=QX(d),p=new qA;return Object.assign(p,g),p})}else{const c=YX(e);return l=et("tunedModels",c._url),f=c._query,delete c._url,delete c._query,o=this.apiClient.request({path:l,queryParams:f,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(g=>{const p=g;return p.sdkHttpResponse={headers:d.headers},p})),o.then(d=>{const g=JX(d),p=new qA;return Object.assign(p,g),p})}}async cancel(e){var n,r,i,s;let o="",l={};if(this.apiClient.isVertexAI()){const f=BX(e);o=et("{name}:cancel",f._url),l=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=VX(e);o=et("{name}:cancel",f._url),l=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=GX(e);return s=et("tuningJobs",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>Iy(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=zX(e);return s=et("tunedModels",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(c=>{const d=c;return d.sdkHttpResponse={headers:f.headers},d})),i.then(f=>nJ(f))}}}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */class eJ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const tJ=1024*1024*8,nJ=3,rJ=1e3,iJ=2,Y1="x-goog-upload-status";async function sJ(t,e,n){var r,i,s;let o=0,l=0,f=new vy(new Response),c="upload";for(o=t.size;l<o;){const g=Math.min(tJ,o-l),p=t.slice(l,l+g);l+g>=o&&(c+=", finalize");let x=0,_=rJ;for(;x<nJ&&(f=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(g)}}}),!(!((r=f==null?void 0:f.headers)===null||r===void 0)&&r[Y1]));)x++,await oJ(_),_=_*iJ;if(l+=g,((i=f==null?void 0:f.headers)===null||i===void 0?void 0:i[Y1])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(f==null?void 0:f.json());if(((s=f==null?void 0:f.headers)===null||s===void 0?void 0:s[Y1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function aJ(t){return{size:t.size,type:t.type}}function oJ(t){return new Promise(e=>setTimeout(e,t))}class uJ{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await sJ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await aJ(e)}}/**
    + */class sJ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const aJ=1024*1024*8,oJ=3,uJ=1e3,lJ=2,Q1="x-goog-upload-status";async function cJ(t,e,n){var r,i,s;let o=0,l=0,f=new Ey(new Response),c="upload";for(o=t.size;l<o;){const g=Math.min(aJ,o-l),p=t.slice(l,l+g);l+g>=o&&(c+=", finalize");let x=0,_=uJ;for(;x<oJ&&(f=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(g)}}}),!(!((r=f==null?void 0:f.headers)===null||r===void 0)&&r[Q1]));)x++,await hJ(_),_=_*lJ;if(l+=g,((i=f==null?void 0:f.headers)===null||i===void 0?void 0:i[Q1])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(f==null?void 0:f.json());if(((s=f==null?void 0:f.headers)===null||s===void 0?void 0:s[Q1])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function fJ(t){return{size:t.size,type:t.type}}function hJ(t){return new Promise(e=>setTimeout(e,t))}class dJ{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await cJ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await fJ(e)}}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */class lJ{create(e,n,r){return new cJ(e,n,r)}}class cJ{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
    + */class pJ{create(e,n,r){return new mJ(e,n,r)}}class mJ{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */const s3="x-goog-api-key";class fJ{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(s3)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(s3,this.apiKey)}}}/**
    + */const o3="x-goog-api-key";class gJ{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(o3)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(o3,this.apiKey)}}}/**
      * @license
      * Copyright 2025 Google LLC
      * SPDX-License-Identifier: Apache-2.0
    - */const hJ="gl-node/";class dJ{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Nj(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new fJ(this.apiKey);this.apiClient=new JY({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:hJ+"web",uploader:new uJ,downloader:new eJ}),this.models=new xX(this.apiClient),this.live=new cX(this.apiClient,i,new lJ),this.batches=new X$(this.apiClient),this.chats=new IW(this.models,this.apiClient),this.caches=new SW(this.apiClient),this.files=new UW(this.apiClient),this.operations=new yX(this.apiClient),this.authTokens=new MX(this.apiClient),this.tunings=new ZX(this.apiClient)}}function u_(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Wu=u_();function aR(t){Wu=t}var t0={exec:()=>null};function zt(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(Or.caret,"$1"),n=n.replace(i,o),r},getRegex:()=>new RegExp(n,e)};return r}var Or={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},pJ=/^(?:[ \t]*(?:\n|$))+/,mJ=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,gJ=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,G0=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,xJ=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,l_=/(?:[*+-]|\d{1,9}[.)])/,oR=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,uR=zt(oR).replace(/bull/g,l_).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),yJ=zt(oR).replace(/bull/g,l_).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),c_=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,vJ=/^[^\n]+/,f_=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,_J=zt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",f_).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),TJ=zt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,l_).getRegex(),vm="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",h_=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,EJ=zt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",h_).replace("tag",vm).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),lR=zt(c_).replace("hr",G0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vm).getRegex(),bJ=zt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",lR).getRegex(),d_={blockquote:bJ,code:mJ,def:_J,fences:gJ,heading:xJ,hr:G0,html:EJ,lheading:uR,list:TJ,newline:pJ,paragraph:lR,table:t0,text:vJ},a3=zt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",G0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vm).getRegex(),wJ={...d_,lheading:yJ,table:a3,paragraph:zt(c_).replace("hr",G0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",a3).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",vm).getRegex()},SJ={...d_,html:zt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",h_).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:t0,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:zt(c_).replace("hr",G0).replace("heading",` *#{1,6} *[^
    -]`).replace("lheading",uR).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},AJ=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,CJ=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,cR=/^( {2,}|\\)\n(?!\s*$)/,IJ=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,_m=/[\p{P}\p{S}]/u,p_=/[\s\p{P}\p{S}]/u,fR=/[^\s\p{P}\p{S}]/u,kJ=zt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,p_).getRegex(),hR=/(?!~)[\p{P}\p{S}]/u,RJ=/(?!~)[\s\p{P}\p{S}]/u,NJ=/(?:[^\s\p{P}\p{S}]|~)/u,DJ=zt(/link|code|html/,"g").replace("link",new RegExp("\\[(?:[^\\[\\]`]|(?<!`)(?<a>`+)[^`]+\\k<a>(?!`))*?\\]\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)]|\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)])*\\))*\\)")).replace("code",new RegExp("(?<!`)(?<b>`+)[^`]+\\k<b>(?!`)")).replace("html",/<(?! )[^<>]*?>/).getRegex(),dR=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,MJ=zt(dR,"u").replace(/punct/g,_m).getRegex(),PJ=zt(dR,"u").replace(/punct/g,hR).getRegex(),pR="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",LJ=zt(pR,"gu").replace(/notPunctSpace/g,fR).replace(/punctSpace/g,p_).replace(/punct/g,_m).getRegex(),OJ=zt(pR,"gu").replace(/notPunctSpace/g,NJ).replace(/punctSpace/g,RJ).replace(/punct/g,hR).getRegex(),FJ=zt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,fR).replace(/punctSpace/g,p_).replace(/punct/g,_m).getRegex(),UJ=zt(/\\(punct)/,"gu").replace(/punct/g,_m).getRegex(),VJ=zt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),BJ=zt(h_).replace("(?:-->|$)","-->").getRegex(),qJ=zt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",BJ).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Mp=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,HJ=zt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Mp).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),mR=zt(/^!?\[(label)\]\[(ref)\]/).replace("label",Mp).replace("ref",f_).getRegex(),gR=zt(/^!?\[(ref)\](?:\[\])?/).replace("ref",f_).getRegex(),zJ=zt("reflink|nolink(?!\\()","g").replace("reflink",mR).replace("nolink",gR).getRegex(),o3=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,m_={_backpedal:t0,anyPunctuation:UJ,autolink:VJ,blockSkip:DJ,br:cR,code:CJ,del:t0,emStrongLDelim:MJ,emStrongRDelimAst:LJ,emStrongRDelimUnd:FJ,escape:AJ,link:HJ,nolink:gR,punctuation:kJ,reflink:mR,reflinkSearch:zJ,tag:qJ,text:IJ,url:t0},GJ={...m_,link:zt(/^!?\[(label)\]\((.*?)\)/).replace("label",Mp).getRegex(),reflink:zt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Mp).getRegex()},Ay={...m_,emStrongRDelimAst:OJ,emStrongLDelim:PJ,url:zt(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",o3).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:zt(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",o3).getRegex()},jJ={...Ay,br:zt(cR).replace("{2,}","*").getRegex(),text:zt(Ay.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Cd={normal:d_,gfm:wJ,pedantic:SJ},Af={normal:m_,gfm:Ay,breaks:jJ,pedantic:GJ},$J={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u3=t=>$J[t];function bs(t,e){if(e){if(Or.escapeTest.test(t))return t.replace(Or.escapeReplace,u3)}else if(Or.escapeTestNoEncode.test(t))return t.replace(Or.escapeReplaceNoEncode,u3);return t}function l3(t){try{t=encodeURI(t).replace(Or.percentDecode,"%")}catch{return null}return t}function c3(t,e){var s;let n=t.replace(Or.findPipe,(o,l,f)=>{let c=!1,d=l;for(;--d>=0&&f[d]==="\\";)c=!c;return c?"|":" |"}),r=n.split(Or.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!((s=r.at(-1))!=null&&s.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(Or.slashPipe,"|");return r}function Cf(t,e,n){let r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}function WJ(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function f3(t,e,n,r,i){let s=e.href,o=e.title||null,l=t[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let f={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:o,text:l,tokens:r.inlineTokens(l)};return r.state.inLink=!1,f}function KJ(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let i=r[1];return e.split(`
    + */const xJ="gl-node/";class yJ{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Oj(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new gJ(this.apiKey);this.apiClient=new nX({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:xJ+"web",uploader:new dJ,downloader:new sJ}),this.models=new EX(this.apiClient),this.live=new mX(this.apiClient,i,new pJ),this.batches=new tW(this.apiClient),this.chats=new MW(this.models,this.apiClient),this.caches=new RW(this.apiClient),this.files=new zW(this.apiClient),this.operations=new bX(this.apiClient),this.authTokens=new UX(this.apiClient),this.tunings=new iJ(this.apiClient)}}function f_(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Yu=f_();function fR(t){Yu=t}var n0={exec:()=>null};function zt(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(Or.caret,"$1"),n=n.replace(i,o),r},getRegex:()=>new RegExp(n,e)};return r}var Or={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},vJ=/^(?:[ \t]*(?:\n|$))+/,_J=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,TJ=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,j0=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,EJ=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,h_=/(?:[*+-]|\d{1,9}[.)])/,hR=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,dR=zt(hR).replace(/bull/g,h_).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),bJ=zt(hR).replace(/bull/g,h_).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),d_=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,wJ=/^[^\n]+/,p_=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,SJ=zt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",p_).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),AJ=zt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,h_).getRegex(),Em="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",m_=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,CJ=zt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",m_).replace("tag",Em).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),pR=zt(d_).replace("hr",j0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Em).getRegex(),IJ=zt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",pR).getRegex(),g_={blockquote:IJ,code:_J,def:SJ,fences:TJ,heading:EJ,hr:j0,html:CJ,lheading:dR,list:AJ,newline:vJ,paragraph:pR,table:n0,text:wJ},u3=zt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",j0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Em).getRegex(),kJ={...g_,lheading:bJ,table:u3,paragraph:zt(d_).replace("hr",j0).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",u3).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Em).getRegex()},RJ={...g_,html:zt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",m_).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:n0,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:zt(d_).replace("hr",j0).replace("heading",` *#{1,6} *[^
    +]`).replace("lheading",dR).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},NJ=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,DJ=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,mR=/^( {2,}|\\)\n(?!\s*$)/,MJ=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,bm=/[\p{P}\p{S}]/u,x_=/[\s\p{P}\p{S}]/u,gR=/[^\s\p{P}\p{S}]/u,PJ=zt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,x_).getRegex(),xR=/(?!~)[\p{P}\p{S}]/u,LJ=/(?!~)[\s\p{P}\p{S}]/u,OJ=/(?:[^\s\p{P}\p{S}]|~)/u,FJ=zt(/link|code|html/,"g").replace("link",new RegExp("\\[(?:[^\\[\\]`]|(?<!`)(?<a>`+)[^`]+\\k<a>(?!`))*?\\]\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)]|\\((?:\\\\[\\s\\S]|[^\\\\\\(\\)])*\\))*\\)")).replace("code",new RegExp("(?<!`)(?<b>`+)[^`]+\\k<b>(?!`)")).replace("html",/<(?! )[^<>]*?>/).getRegex(),yR=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,UJ=zt(yR,"u").replace(/punct/g,bm).getRegex(),VJ=zt(yR,"u").replace(/punct/g,xR).getRegex(),vR="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",BJ=zt(vR,"gu").replace(/notPunctSpace/g,gR).replace(/punctSpace/g,x_).replace(/punct/g,bm).getRegex(),qJ=zt(vR,"gu").replace(/notPunctSpace/g,OJ).replace(/punctSpace/g,LJ).replace(/punct/g,xR).getRegex(),HJ=zt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,gR).replace(/punctSpace/g,x_).replace(/punct/g,bm).getRegex(),zJ=zt(/\\(punct)/,"gu").replace(/punct/g,bm).getRegex(),GJ=zt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),jJ=zt(m_).replace("(?:-->|$)","-->").getRegex(),$J=zt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",jJ).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Pp=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,WJ=zt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Pp).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),_R=zt(/^!?\[(label)\]\[(ref)\]/).replace("label",Pp).replace("ref",p_).getRegex(),TR=zt(/^!?\[(ref)\](?:\[\])?/).replace("ref",p_).getRegex(),KJ=zt("reflink|nolink(?!\\()","g").replace("reflink",_R).replace("nolink",TR).getRegex(),l3=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,y_={_backpedal:n0,anyPunctuation:zJ,autolink:GJ,blockSkip:FJ,br:mR,code:DJ,del:n0,emStrongLDelim:UJ,emStrongRDelimAst:BJ,emStrongRDelimUnd:HJ,escape:NJ,link:WJ,nolink:TR,punctuation:PJ,reflink:_R,reflinkSearch:KJ,tag:$J,text:MJ,url:n0},YJ={...y_,link:zt(/^!?\[(label)\]\((.*?)\)/).replace("label",Pp).getRegex(),reflink:zt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Pp).getRegex()},ky={...y_,emStrongRDelimAst:qJ,emStrongLDelim:VJ,url:zt(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",l3).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:zt(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",l3).getRegex()},XJ={...ky,br:zt(mR).replace("{2,}","*").getRegex(),text:zt(ky.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Id={normal:g_,gfm:kJ,pedantic:RJ},Cf={normal:y_,gfm:ky,breaks:XJ,pedantic:YJ},JJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c3=t=>JJ[t];function bs(t,e){if(e){if(Or.escapeTest.test(t))return t.replace(Or.escapeReplace,c3)}else if(Or.escapeTestNoEncode.test(t))return t.replace(Or.escapeReplaceNoEncode,c3);return t}function f3(t){try{t=encodeURI(t).replace(Or.percentDecode,"%")}catch{return null}return t}function h3(t,e){var s;let n=t.replace(Or.findPipe,(o,l,f)=>{let c=!1,d=l;for(;--d>=0&&f[d]==="\\";)c=!c;return c?"|":" |"}),r=n.split(Or.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!((s=r.at(-1))!=null&&s.trim())&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(Or.slashPipe,"|");return r}function If(t,e,n){let r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}function QJ(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function d3(t,e,n,r,i){let s=e.href,o=e.title||null,l=t[1].replace(i.other.outputLinkReplace,"$1");r.state.inLink=!0;let f={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:o,text:l,tokens:r.inlineTokens(l)};return r.state.inLink=!1,f}function ZJ(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let i=r[1];return e.split(`
     `).map(s=>{let o=s.match(n.other.beginningSpace);if(o===null)return s;let[l]=o;return l.length>=i.length?s.slice(i.length):s}).join(`
    -`)}var Pp=class{constructor(t){ln(this,"options");ln(this,"rules");ln(this,"lexer");this.options=t||Wu}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Cf(n,`
    -`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let n=e[0],r=KJ(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){let r=Cf(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:Cf(e[0],`
    -`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let n=Cf(e[0],`
    +`)}var Lp=class{constructor(t){ln(this,"options");ln(this,"rules");ln(this,"lexer");this.options=t||Yu}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:If(n,`
    +`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let n=e[0],r=ZJ(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){let r=If(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:If(e[0],`
    +`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let n=If(e[0],`
     `).split(`
     `),r="",i="",s=[];for(;n.length>0;){let o=!1,l=[],f;for(f=0;f<n.length;f++)if(this.rules.other.blockquoteStart.test(n[f]))l.push(n[f]),o=!0;else if(!o)l.push(n[f]);else break;n=n.slice(f);let c=l.join(`
     `),d=c.replace(this.rules.other.blockquoteSetextReplace,`
         $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
     ${c}`:c,i=i?`${i}
     ${d}`:d;let g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,s,!0),this.lexer.state.top=g,n.length===0)break;let p=s.at(-1);if((p==null?void 0:p.type)==="code")break;if((p==null?void 0:p.type)==="blockquote"){let x=p,_=x.raw+`
     `+n.join(`
     `),b=this.blockquote(_);s[s.length-1]=b,r=r.substring(0,r.length-x.raw.length)+b.raw,i=i.substring(0,i.length-x.text.length)+b.text;break}else if((p==null?void 0:p.type)==="list"){let x=p,_=x.raw+`
     `+n.join(`
     `),b=this.list(_);s[s.length-1]=b,r=r.substring(0,r.length-p.raw.length)+b.raw,i=i.substring(0,i.length-x.raw.length)+b.raw,n=_.substring(s.at(-1).raw.length).split(`
     `);continue}}return{type:"blockquote",raw:r,tokens:s,text:i}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim(),r=n.length>1,i={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let s=this.rules.other.listItemRegex(n),o=!1;for(;t;){let f=!1,c="",d="";if(!(e=s.exec(t))||this.rules.block.hr.test(t))break;c=e[0],t=t.substring(c.length);let g=e[2].split(`
     `,1)[0].replace(this.rules.other.listReplaceTabs,I=>" ".repeat(3*I.length)),p=t.split(`
     `,1)[0],x=!g.trim(),_=0;if(this.options.pedantic?(_=2,d=g.trimStart()):x?_=e[1].length+1:(_=e[2].search(this.rules.other.nonSpaceChar),_=_>4?1:_,d=g.slice(_),_+=e[1].length),x&&this.rules.other.blankLine.test(p)&&(c+=p+`
    -`,t=t.substring(p.length+1),f=!0),!f){let I=this.rules.other.nextBulletRegex(_),M=this.rules.other.hrRegex(_),A=this.rules.other.fencesBeginRegex(_),P=this.rules.other.headingBeginRegex(_),D=this.rules.other.htmlBeginRegex(_);for(;t;){let V=t.split(`
    -`,1)[0],N;if(p=V,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),N=p):N=p.replace(this.rules.other.tabCharGlobal,"    "),A.test(p)||P.test(p)||D.test(p)||I.test(p)||M.test(p))break;if(N.search(this.rules.other.nonSpaceChar)>=_||!p.trim())d+=`
    -`+N.slice(_);else{if(x||g.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||A.test(g)||P.test(g)||M.test(g))break;d+=`
    -`+p}!x&&!p.trim()&&(x=!0),c+=V+`
    -`,t=t.substring(V.length+1),g=N.slice(_)}}i.loose||(o?i.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(o=!0));let b=null,C;this.options.gfm&&(b=this.rules.other.listIsTask.exec(d),b&&(C=b[0]!=="[ ] ",d=d.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:c,task:!!b,checked:C,loose:!1,text:d,tokens:[]}),i.raw+=c}let l=i.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let f=0;f<i.items.length;f++)if(this.lexer.state.top=!1,i.items[f].tokens=this.lexer.blockTokens(i.items[f].text,[]),!i.loose){let c=i.items[f].tokens.filter(g=>g.type==="space"),d=c.length>0&&c.some(g=>this.rules.other.anyLine.test(g.raw));i.loose=d}if(i.loose)for(let f=0;f<i.items.length;f++)i.items[f].loose=!0;return i}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:r,title:i}}}table(t){var o;let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let n=c3(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(o=e[3])!=null&&o.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
    -`):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let l of r)this.rules.other.tableAlignRight.test(l)?s.align.push("right"):this.rules.other.tableAlignCenter.test(l)?s.align.push("center"):this.rules.other.tableAlignLeft.test(l)?s.align.push("left"):s.align.push(null);for(let l=0;l<n.length;l++)s.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:s.align[l]});for(let l of i)s.rows.push(c3(l,s.header.length).map((f,c)=>({text:f,tokens:this.lexer.inline(f),header:!1,align:s.align[c]})));return s}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let n=e[1].charAt(e[1].length-1)===`
    -`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let s=Cf(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{let s=WJ(e[2],"()");if(s===-2)return;if(s>-1){let o=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,o).trim(),e[3]=""}}let r=e[2],i="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(r);s&&(r=s[1],i=s[3])}else i=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),f3(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=e[r.toLowerCase()];if(!i){let s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return f3(n,i,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let i=[...r[0]].length-1,s,o,l=i,f=0,c=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,e=e.slice(-1*t.length+i);(r=c.exec(e))!=null;){if(s=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!s)continue;if(o=[...s].length,r[3]||r[4]){l+=o;continue}else if((r[5]||r[6])&&i%3&&!((i+o)%3)){f+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+f);let d=[...r[0]][0].length,g=t.slice(0,i+r.index+d+o);if(Math.min(i,o)%2){let x=g.slice(1,-1);return{type:"em",raw:g,text:x,tokens:this.lexer.inlineTokens(x)}}let p=g.slice(2,-2);return{type:"strong",raw:g,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let n,r;return e[2]==="@"?(n=e[1],r="mailto:"+n):(n=e[1],r=n),{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let e;if(e=this.rules.inline.url.exec(t)){let r,i;if(e[2]==="@")r=e[0],i="mailto:"+r;else{let s;do s=e[0],e[0]=((n=this.rules.inline._backpedal.exec(e[0]))==null?void 0:n[0])??"";while(s!==e[0]);r=e[0],e[1]==="www."?i="http://"+e[0]:i=e[0]}return{type:"link",raw:e[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}},Qi=class Cy{constructor(e){ln(this,"tokens");ln(this,"options");ln(this,"state");ln(this,"tokenizer");ln(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Wu,this.options.tokenizer=this.options.tokenizer||new Pp,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:Or,block:Cd.normal,inline:Af.normal};this.options.pedantic?(n.block=Cd.pedantic,n.inline=Af.pedantic):this.options.gfm&&(n.block=Cd.gfm,this.options.breaks?n.inline=Af.breaks:n.inline=Af.gfm),this.tokenizer.rules=n}static get rules(){return{block:Cd,inline:Af}}static lex(e,n){return new Cy(n).lex(e)}static lexInline(e,n){return new Cy(n).inlineTokens(e)}lex(e){e=e.replace(Or.carriageReturn,`
    +`,t=t.substring(p.length+1),f=!0),!f){let I=this.rules.other.nextBulletRegex(_),D=this.rules.other.hrRegex(_),A=this.rules.other.fencesBeginRegex(_),P=this.rules.other.headingBeginRegex(_),M=this.rules.other.htmlBeginRegex(_);for(;t;){let U=t.split(`
    +`,1)[0],N;if(p=U,this.options.pedantic?(p=p.replace(this.rules.other.listReplaceNesting,"  "),N=p):N=p.replace(this.rules.other.tabCharGlobal,"    "),A.test(p)||P.test(p)||M.test(p)||I.test(p)||D.test(p))break;if(N.search(this.rules.other.nonSpaceChar)>=_||!p.trim())d+=`
    +`+N.slice(_);else{if(x||g.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||A.test(g)||P.test(g)||D.test(g))break;d+=`
    +`+p}!x&&!p.trim()&&(x=!0),c+=U+`
    +`,t=t.substring(U.length+1),g=N.slice(_)}}i.loose||(o?i.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(o=!0));let b=null,C;this.options.gfm&&(b=this.rules.other.listIsTask.exec(d),b&&(C=b[0]!=="[ ] ",d=d.replace(this.rules.other.listReplaceTask,""))),i.items.push({type:"list_item",raw:c,task:!!b,checked:C,loose:!1,text:d,tokens:[]}),i.raw+=c}let l=i.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;i.raw=i.raw.trimEnd();for(let f=0;f<i.items.length;f++)if(this.lexer.state.top=!1,i.items[f].tokens=this.lexer.blockTokens(i.items[f].text,[]),!i.loose){let c=i.items[f].tokens.filter(g=>g.type==="space"),d=c.length>0&&c.some(g=>this.rules.other.anyLine.test(g.raw));i.loose=d}if(i.loose)for(let f=0;f<i.items.length;f++)i.items[f].loose=!0;return i}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:r,title:i}}}table(t){var o;let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let n=h3(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),i=(o=e[3])!=null&&o.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
    +`):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let l of r)this.rules.other.tableAlignRight.test(l)?s.align.push("right"):this.rules.other.tableAlignCenter.test(l)?s.align.push("center"):this.rules.other.tableAlignLeft.test(l)?s.align.push("left"):s.align.push(null);for(let l=0;l<n.length;l++)s.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:s.align[l]});for(let l of i)s.rows.push(h3(l,s.header.length).map((f,c)=>({text:f,tokens:this.lexer.inline(f),header:!1,align:s.align[c]})));return s}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let n=e[1].charAt(e[1].length-1)===`
    +`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let s=If(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{let s=QJ(e[2],"()");if(s===-2)return;if(s>-1){let o=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,o).trim(),e[3]=""}}let r=e[2],i="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(r);s&&(r=s[1],i=s[3])}else i=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),d3(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),i=e[r.toLowerCase()];if(!i){let s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return d3(n,i,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let i=[...r[0]].length-1,s,o,l=i,f=0,c=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,e=e.slice(-1*t.length+i);(r=c.exec(e))!=null;){if(s=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!s)continue;if(o=[...s].length,r[3]||r[4]){l+=o;continue}else if((r[5]||r[6])&&i%3&&!((i+o)%3)){f+=o;continue}if(l-=o,l>0)continue;o=Math.min(o,o+l+f);let d=[...r[0]][0].length,g=t.slice(0,i+r.index+d+o);if(Math.min(i,o)%2){let x=g.slice(1,-1);return{type:"em",raw:g,text:x,tokens:this.lexer.inlineTokens(x)}}let p=g.slice(2,-2);return{type:"strong",raw:g,text:p,tokens:this.lexer.inlineTokens(p)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),i=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&i&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let n,r;return e[2]==="@"?(n=e[1],r="mailto:"+n):(n=e[1],r=n),{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(t){var n;let e;if(e=this.rules.inline.url.exec(t)){let r,i;if(e[2]==="@")r=e[0],i="mailto:"+r;else{let s;do s=e[0],e[0]=((n=this.rules.inline._backpedal.exec(e[0]))==null?void 0:n[0])??"";while(s!==e[0]);r=e[0],e[1]==="www."?i="http://"+e[0]:i=e[0]}return{type:"link",raw:e[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}},Qi=class Ry{constructor(e){ln(this,"tokens");ln(this,"options");ln(this,"state");ln(this,"tokenizer");ln(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Yu,this.options.tokenizer=this.options.tokenizer||new Lp,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:Or,block:Id.normal,inline:Cf.normal};this.options.pedantic?(n.block=Id.pedantic,n.inline=Cf.pedantic):this.options.gfm&&(n.block=Id.gfm,this.options.breaks?n.inline=Cf.breaks:n.inline=Cf.gfm),this.tokenizer.rules=n}static get rules(){return{block:Id,inline:Cf}}static lex(e,n){return new Ry(n).lex(e)}static lexInline(e,n){return new Ry(n).inlineTokens(e)}lex(e){e=e.replace(Or.carriageReturn,`
     `),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){var i,s,o;for(this.options.pedantic&&(e=e.replace(Or.tabCharGlobal,"    ").replace(Or.spaceLine,""));e;){let l;if((s=(i=this.options.extensions)==null?void 0:i.block)!=null&&s.some(c=>(l=c.call({lexer:this},e,n))?(e=e.substring(l.raw.length),n.push(l),!0):!1))continue;if(l=this.tokenizer.space(e)){e=e.substring(l.raw.length);let c=n.at(-1);l.raw.length===1&&c!==void 0?c.raw+=`
     `:n.push(l);continue}if(l=this.tokenizer.code(e)){e=e.substring(l.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
     `)?"":`
     `)+l.raw,c.text+=`
     `+l.text,this.inlineQueue.at(-1).src=c.text):n.push(l);continue}if(l=this.tokenizer.fences(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.heading(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.hr(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.blockquote(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.list(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.html(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.def(e)){e=e.substring(l.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
     `)?"":`
     `)+l.raw,c.text+=`
     `+l.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title},n.push(l));continue}if(l=this.tokenizer.table(e)){e=e.substring(l.raw.length),n.push(l);continue}if(l=this.tokenizer.lheading(e)){e=e.substring(l.raw.length),n.push(l);continue}let f=e;if((o=this.options.extensions)!=null&&o.startBlock){let c=1/0,d=e.slice(1),g;this.options.extensions.startBlock.forEach(p=>{g=p.call({lexer:this},d),typeof g=="number"&&g>=0&&(c=Math.min(c,g))}),c<1/0&&c>=0&&(f=e.substring(0,c+1))}if(this.state.top&&(l=this.tokenizer.paragraph(f))){let c=n.at(-1);r&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=(c.raw.endsWith(`
     `)?"":`
     `)+l.raw,c.text+=`
     `+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(l),r=f.length!==e.length,e=e.substring(l.raw.length);continue}if(l=this.tokenizer.text(e)){e=e.substring(l.raw.length);let c=n.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=(c.raw.endsWith(`
     `)?"":`
     `)+l.raw,c.text+=`
    -`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(l);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){var l,f,c,d,g;let r=e,i=null;if(this.tokens.links){let p=Object.keys(this.tokens.links);if(p.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)p.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=((f=(l=this.options.hooks)==null?void 0:l.emStrongMask)==null?void 0:f.call({lexer:this},r))??r;let s=!1,o="";for(;e;){s||(o=""),s=!1;let p;if((d=(c=this.options.extensions)==null?void 0:c.inline)!=null&&d.some(_=>(p=_.call({lexer:this},e,n))?(e=e.substring(p.raw.length),n.push(p),!0):!1))continue;if(p=this.tokenizer.escape(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.tag(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.link(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(p.raw.length);let _=n.at(-1);p.type==="text"&&(_==null?void 0:_.type)==="text"?(_.raw+=p.raw,_.text+=p.text):n.push(p);continue}if(p=this.tokenizer.emStrong(e,r,o)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.codespan(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.br(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.del(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.autolink(e)){e=e.substring(p.raw.length),n.push(p);continue}if(!this.state.inLink&&(p=this.tokenizer.url(e))){e=e.substring(p.raw.length),n.push(p);continue}let x=e;if((g=this.options.extensions)!=null&&g.startInline){let _=1/0,b=e.slice(1),C;this.options.extensions.startInline.forEach(I=>{C=I.call({lexer:this},b),typeof C=="number"&&C>=0&&(_=Math.min(_,C))}),_<1/0&&_>=0&&(x=e.substring(0,_+1))}if(p=this.tokenizer.inlineText(x)){e=e.substring(p.raw.length),p.raw.slice(-1)!=="_"&&(o=p.raw.slice(-1)),s=!0;let _=n.at(-1);(_==null?void 0:_.type)==="text"?(_.raw+=p.raw,_.text+=p.text):n.push(p);continue}if(e){let _="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(_);break}else throw new Error(_)}}return n}},Lp=class{constructor(t){ln(this,"options");ln(this,"parser");this.options=t||Wu}space(t){return""}code({text:t,lang:e,escaped:n}){var s;let r=(s=(e||"").match(Or.notSpaceStart))==null?void 0:s[0],i=t.replace(Or.endingNewline,"")+`
    +`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(l);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){var l,f,c,d,g;let r=e,i=null;if(this.tokens.links){let p=Object.keys(this.tokens.links);if(p.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)p.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=((f=(l=this.options.hooks)==null?void 0:l.emStrongMask)==null?void 0:f.call({lexer:this},r))??r;let s=!1,o="";for(;e;){s||(o=""),s=!1;let p;if((d=(c=this.options.extensions)==null?void 0:c.inline)!=null&&d.some(_=>(p=_.call({lexer:this},e,n))?(e=e.substring(p.raw.length),n.push(p),!0):!1))continue;if(p=this.tokenizer.escape(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.tag(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.link(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(p.raw.length);let _=n.at(-1);p.type==="text"&&(_==null?void 0:_.type)==="text"?(_.raw+=p.raw,_.text+=p.text):n.push(p);continue}if(p=this.tokenizer.emStrong(e,r,o)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.codespan(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.br(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.del(e)){e=e.substring(p.raw.length),n.push(p);continue}if(p=this.tokenizer.autolink(e)){e=e.substring(p.raw.length),n.push(p);continue}if(!this.state.inLink&&(p=this.tokenizer.url(e))){e=e.substring(p.raw.length),n.push(p);continue}let x=e;if((g=this.options.extensions)!=null&&g.startInline){let _=1/0,b=e.slice(1),C;this.options.extensions.startInline.forEach(I=>{C=I.call({lexer:this},b),typeof C=="number"&&C>=0&&(_=Math.min(_,C))}),_<1/0&&_>=0&&(x=e.substring(0,_+1))}if(p=this.tokenizer.inlineText(x)){e=e.substring(p.raw.length),p.raw.slice(-1)!=="_"&&(o=p.raw.slice(-1)),s=!0;let _=n.at(-1);(_==null?void 0:_.type)==="text"?(_.raw+=p.raw,_.text+=p.text):n.push(p);continue}if(e){let _="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(_);break}else throw new Error(_)}}return n}},Op=class{constructor(t){ln(this,"options");ln(this,"parser");this.options=t||Yu}space(t){return""}code({text:t,lang:e,escaped:n}){var s;let r=(s=(e||"").match(Or.notSpaceStart))==null?void 0:s[0],i=t.replace(Or.endingNewline,"")+`
     `;return r?'<pre><code class="language-'+bs(r)+'">'+(n?i:bs(i,!0))+`</code></pre>
     `:"<pre><code>"+(n?i:bs(i,!0))+`</code></pre>
     `}blockquote({tokens:t}){return`<blockquote>
     ${this.parser.parse(t)}</blockquote>
     `}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
     `}hr(t){return`<hr>
     `}list(t){let e=t.ordered,n=t.start,r="";for(let o=0;o<t.items.length;o++){let l=t.items[o];r+=this.listitem(l)}let i=e?"ol":"ul",s=e&&n!==1?' start="'+n+'"':"";return"<"+i+s+`>
     `+r+"</"+i+`>
     `}listitem(t){var n;let e="";if(t.task){let r=this.checkbox({checked:!!t.checked});t.loose?((n=t.tokens[0])==null?void 0:n.type)==="paragraph"?(t.tokens[0].text=r+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=r+" "+bs(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):e+=r+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
     `}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
     `}table(t){let e="",n="";for(let i=0;i<t.header.length;i++)n+=this.tablecell(t.header[i]);e+=this.tablerow({text:n});let r="";for(let i=0;i<t.rows.length;i++){let s=t.rows[i];n="";for(let o=0;o<s.length;o++)n+=this.tablecell(s[o]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
     <thead>
     `+e+`</thead>
     `+r+`</table>
     `}tablerow({text:t}){return`<tr>
     ${t}</tr>
     `}tablecell(t){let e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
    -`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${bs(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){let r=this.parser.parseInline(n),i=l3(t);if(i===null)return r;t=i;let s='<a href="'+t+'"';return e&&(s+=' title="'+bs(e)+'"'),s+=">"+r+"</a>",s}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=l3(t);if(i===null)return bs(n);t=i;let s=`<img src="${t}" alt="${n}"`;return e&&(s+=` title="${bs(e)}"`),s+=">",s}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:bs(t.text)}},g_=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Zi=class Iy{constructor(e){ln(this,"options");ln(this,"renderer");ln(this,"textRenderer");this.options=e||Wu,this.options.renderer=this.options.renderer||new Lp,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new g_}static parse(e,n){return new Iy(n).parse(e)}static parseInline(e,n){return new Iy(n).parseInline(e)}parse(e,n=!0){var i,s;let r="";for(let o=0;o<e.length;o++){let l=e[o];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[l.type]){let c=l,d=this.options.extensions.renderers[c.type].call({parser:this},c);if(d!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(c.type)){r+=d||"";continue}}let f=l;switch(f.type){case"space":{r+=this.renderer.space(f);continue}case"hr":{r+=this.renderer.hr(f);continue}case"heading":{r+=this.renderer.heading(f);continue}case"code":{r+=this.renderer.code(f);continue}case"table":{r+=this.renderer.table(f);continue}case"blockquote":{r+=this.renderer.blockquote(f);continue}case"list":{r+=this.renderer.list(f);continue}case"html":{r+=this.renderer.html(f);continue}case"def":{r+=this.renderer.def(f);continue}case"paragraph":{r+=this.renderer.paragraph(f);continue}case"text":{let c=f,d=this.renderer.text(c);for(;o+1<e.length&&e[o+1].type==="text";)c=e[++o],d+=`
    -`+this.renderer.text(c);n?r+=this.renderer.paragraph({type:"paragraph",raw:d,text:d,tokens:[{type:"text",raw:d,text:d,escaped:!0}]}):r+=d;continue}default:{let c='Token with "'+f.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}parseInline(e,n=this.renderer){var i,s;let r="";for(let o=0;o<e.length;o++){let l=e[o];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[l.type]){let c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){r+=c||"";continue}}let f=l;switch(f.type){case"escape":{r+=n.text(f);break}case"html":{r+=n.html(f);break}case"link":{r+=n.link(f);break}case"image":{r+=n.image(f);break}case"strong":{r+=n.strong(f);break}case"em":{r+=n.em(f);break}case"codespan":{r+=n.codespan(f);break}case"br":{r+=n.br(f);break}case"del":{r+=n.del(f);break}case"text":{r+=n.text(f);break}default:{let c='Token with "'+f.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},Ld,Ff=(Ld=class{constructor(t){ln(this,"options");ln(this,"block");this.options=t||Wu}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?Qi.lex:Qi.lexInline}provideParser(){return this.block?Zi.parse:Zi.parseInline}},ln(Ld,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),ln(Ld,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Ld),YJ=class{constructor(...t){ln(this,"defaults",u_());ln(this,"options",this.setOptions);ln(this,"parse",this.parseMarkdown(!0));ln(this,"parseInline",this.parseMarkdown(!1));ln(this,"Parser",Zi);ln(this,"Renderer",Lp);ln(this,"TextRenderer",g_);ln(this,"Lexer",Qi);ln(this,"Tokenizer",Pp);ln(this,"Hooks",Ff);this.use(...t)}walkTokens(t,e){var r,i;let n=[];for(let s of t)switch(n=n.concat(e.call(this,s)),s.type){case"table":{let o=s;for(let l of o.header)n=n.concat(this.walkTokens(l.tokens,e));for(let l of o.rows)for(let f of l)n=n.concat(this.walkTokens(f.tokens,e));break}case"list":{let o=s;n=n.concat(this.walkTokens(o.items,e));break}default:{let o=s;(i=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&i[o.type]?this.defaults.extensions.childTokens[o.type].forEach(l=>{let f=o[l].flat(1/0);n=n.concat(this.walkTokens(f,e))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,e)))}}return n}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let s=e.renderers[i.name];s?e.renderers[i.name]=function(...o){let l=i.renderer.apply(this,o);return l===!1&&(l=s.apply(this,o)),l}:e.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=e[i.level];s?s.unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),n.renderer){let i=this.defaults.renderer||new Lp(this.defaults);for(let s in n.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let o=s,l=n.renderer[o],f=i[o];i[o]=(...c)=>{let d=l.apply(i,c);return d===!1&&(d=f.apply(i,c)),d||""}}r.renderer=i}if(n.tokenizer){let i=this.defaults.tokenizer||new Pp(this.defaults);for(let s in n.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let o=s,l=n.tokenizer[o],f=i[o];i[o]=(...c)=>{let d=l.apply(i,c);return d===!1&&(d=f.apply(i,c)),d}}r.tokenizer=i}if(n.hooks){let i=this.defaults.hooks||new Ff;for(let s in n.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let o=s,l=n.hooks[o],f=i[o];Ff.passThroughHooks.has(s)?i[o]=c=>{if(this.defaults.async&&Ff.passThroughHooksRespectAsync.has(s))return(async()=>{let g=await l.call(i,c);return f.call(i,g)})();let d=l.call(i,c);return f.call(i,d)}:i[o]=(...c)=>{if(this.defaults.async)return(async()=>{let g=await l.apply(i,c);return g===!1&&(g=await f.apply(i,c)),g})();let d=l.apply(i,c);return d===!1&&(d=f.apply(i,c)),d}}r.hooks=i}if(n.walkTokens){let i=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(o){let l=[];return l.push(s.call(this,o)),i&&(l=l.concat(i.call(this,o))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Qi.lex(t,e??this.defaults)}parser(t,e){return Zi.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{let r={...n},i={...this.defaults,...r},s=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&r.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(i.hooks&&(i.hooks.options=i,i.hooks.block=t),i.async)return(async()=>{let o=i.hooks?await i.hooks.preprocess(e):e,l=await(i.hooks?await i.hooks.provideLexer():t?Qi.lex:Qi.lexInline)(o,i),f=i.hooks?await i.hooks.processAllTokens(l):l;i.walkTokens&&await Promise.all(this.walkTokens(f,i.walkTokens));let c=await(i.hooks?await i.hooks.provideParser():t?Zi.parse:Zi.parseInline)(f,i);return i.hooks?await i.hooks.postprocess(c):c})().catch(s);try{i.hooks&&(e=i.hooks.preprocess(e));let o=(i.hooks?i.hooks.provideLexer():t?Qi.lex:Qi.lexInline)(e,i);i.hooks&&(o=i.hooks.processAllTokens(o)),i.walkTokens&&this.walkTokens(o,i.walkTokens);let l=(i.hooks?i.hooks.provideParser():t?Zi.parse:Zi.parseInline)(o,i);return i.hooks&&(l=i.hooks.postprocess(l)),l}catch(o){return s(o)}}}onError(t,e){return n=>{if(n.message+=`
    -Please report this to https://github.com/markedjs/marked.`,t){let r="<p>An error occurred:</p><pre>"+bs(n.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(n);throw n}}},Pu=new YJ;function $t(t,e){return Pu.parse(t,e)}$t.options=$t.setOptions=function(t){return Pu.setOptions(t),$t.defaults=Pu.defaults,aR($t.defaults),$t};$t.getDefaults=u_;$t.defaults=Wu;$t.use=function(...t){return Pu.use(...t),$t.defaults=Pu.defaults,aR($t.defaults),$t};$t.walkTokens=function(t,e){return Pu.walkTokens(t,e)};$t.parseInline=Pu.parseInline;$t.Parser=Zi;$t.parser=Zi.parse;$t.Renderer=Lp;$t.TextRenderer=g_;$t.Lexer=Qi;$t.lexer=Qi.lex;$t.Tokenizer=Pp;$t.Hooks=Ff;$t.parse=$t;$t.options;$t.setOptions;$t.use;$t.walkTokens;$t.parseInline;Zi.parse;Qi.lex;var Ki={},Yi={},X1={},Xi={},Id={},h3;function XJ(){return h3||(h3=1,Object.defineProperty(Id,"__esModule",{value:!0}),Id.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(t){return t.charCodeAt(0)}))),Id}var kd={},d3;function JJ(){return d3||(d3=1,Object.defineProperty(kd,"__esModule",{value:!0}),kd.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(t){return t.charCodeAt(0)}))),kd}var J1={},p3;function m3(){return p3||(p3=1,(function(t){var e;Object.defineProperty(t,"__esModule",{value:!0}),t.replaceCodePoint=t.fromCodePoint=void 0;var n=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);t.fromCodePoint=(e=String.fromCodePoint)!==null&&e!==void 0?e:function(s){var o="";return s>65535&&(s-=65536,o+=String.fromCharCode(s>>>10&1023|55296),s=56320|s&1023),o+=String.fromCharCode(s),o};function r(s){var o;return s>=55296&&s<=57343||s>1114111?65533:(o=n.get(s))!==null&&o!==void 0?o:s}t.replaceCodePoint=r;function i(s){return(0,t.fromCodePoint)(r(s))}t.default=i})(J1)),J1}var g3;function Op(){return g3||(g3=1,(function(t){var e=Xi&&Xi.__createBinding||(Object.create?(function(L,U,q,he){he===void 0&&(he=q);var ae=Object.getOwnPropertyDescriptor(U,q);(!ae||("get"in ae?!U.__esModule:ae.writable||ae.configurable))&&(ae={enumerable:!0,get:function(){return U[q]}}),Object.defineProperty(L,he,ae)}):(function(L,U,q,he){he===void 0&&(he=q),L[he]=U[q]})),n=Xi&&Xi.__setModuleDefault||(Object.create?(function(L,U){Object.defineProperty(L,"default",{enumerable:!0,value:U})}):function(L,U){L.default=U}),r=Xi&&Xi.__importStar||function(L){if(L&&L.__esModule)return L;var U={};if(L!=null)for(var q in L)q!=="default"&&Object.prototype.hasOwnProperty.call(L,q)&&e(U,L,q);return n(U,L),U},i=Xi&&Xi.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXML=t.decodeHTMLStrict=t.decodeHTMLAttribute=t.decodeHTML=t.determineBranch=t.EntityDecoder=t.DecodingMode=t.BinTrieFlags=t.fromCodePoint=t.replaceCodePoint=t.decodeCodePoint=t.xmlDecodeTree=t.htmlDecodeTree=void 0;var s=i(XJ());t.htmlDecodeTree=s.default;var o=i(JJ());t.xmlDecodeTree=o.default;var l=r(m3());t.decodeCodePoint=l.default;var f=m3();Object.defineProperty(t,"replaceCodePoint",{enumerable:!0,get:function(){return f.replaceCodePoint}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return f.fromCodePoint}});var c;(function(L){L[L.NUM=35]="NUM",L[L.SEMI=59]="SEMI",L[L.EQUALS=61]="EQUALS",L[L.ZERO=48]="ZERO",L[L.NINE=57]="NINE",L[L.LOWER_A=97]="LOWER_A",L[L.LOWER_F=102]="LOWER_F",L[L.LOWER_X=120]="LOWER_X",L[L.LOWER_Z=122]="LOWER_Z",L[L.UPPER_A=65]="UPPER_A",L[L.UPPER_F=70]="UPPER_F",L[L.UPPER_Z=90]="UPPER_Z"})(c||(c={}));var d=32,g;(function(L){L[L.VALUE_LENGTH=49152]="VALUE_LENGTH",L[L.BRANCH_LENGTH=16256]="BRANCH_LENGTH",L[L.JUMP_TABLE=127]="JUMP_TABLE"})(g=t.BinTrieFlags||(t.BinTrieFlags={}));function p(L){return L>=c.ZERO&&L<=c.NINE}function x(L){return L>=c.UPPER_A&&L<=c.UPPER_F||L>=c.LOWER_A&&L<=c.LOWER_F}function _(L){return L>=c.UPPER_A&&L<=c.UPPER_Z||L>=c.LOWER_A&&L<=c.LOWER_Z||p(L)}function b(L){return L===c.EQUALS||_(L)}var C;(function(L){L[L.EntityStart=0]="EntityStart",L[L.NumericStart=1]="NumericStart",L[L.NumericDecimal=2]="NumericDecimal",L[L.NumericHex=3]="NumericHex",L[L.NamedEntity=4]="NamedEntity"})(C||(C={}));var I;(function(L){L[L.Legacy=0]="Legacy",L[L.Strict=1]="Strict",L[L.Attribute=2]="Attribute"})(I=t.DecodingMode||(t.DecodingMode={}));var M=(function(){function L(U,q,he){this.decodeTree=U,this.emitCodePoint=q,this.errors=he,this.state=C.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=I.Strict}return L.prototype.startEntity=function(U){this.decodeMode=U,this.state=C.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},L.prototype.write=function(U,q){switch(this.state){case C.EntityStart:return U.charCodeAt(q)===c.NUM?(this.state=C.NumericStart,this.consumed+=1,this.stateNumericStart(U,q+1)):(this.state=C.NamedEntity,this.stateNamedEntity(U,q));case C.NumericStart:return this.stateNumericStart(U,q);case C.NumericDecimal:return this.stateNumericDecimal(U,q);case C.NumericHex:return this.stateNumericHex(U,q);case C.NamedEntity:return this.stateNamedEntity(U,q)}},L.prototype.stateNumericStart=function(U,q){return q>=U.length?-1:(U.charCodeAt(q)|d)===c.LOWER_X?(this.state=C.NumericHex,this.consumed+=1,this.stateNumericHex(U,q+1)):(this.state=C.NumericDecimal,this.stateNumericDecimal(U,q))},L.prototype.addToNumericResult=function(U,q,he,ae){if(q!==he){var se=he-q;this.result=this.result*Math.pow(ae,se)+parseInt(U.substr(q,se),ae),this.consumed+=se}},L.prototype.stateNumericHex=function(U,q){for(var he=q;q<U.length;){var ae=U.charCodeAt(q);if(p(ae)||x(ae))q+=1;else return this.addToNumericResult(U,he,q,16),this.emitNumericEntity(ae,3)}return this.addToNumericResult(U,he,q,16),-1},L.prototype.stateNumericDecimal=function(U,q){for(var he=q;q<U.length;){var ae=U.charCodeAt(q);if(p(ae))q+=1;else return this.addToNumericResult(U,he,q,10),this.emitNumericEntity(ae,2)}return this.addToNumericResult(U,he,q,10),-1},L.prototype.emitNumericEntity=function(U,q){var he;if(this.consumed<=q)return(he=this.errors)===null||he===void 0||he.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(U===c.SEMI)this.consumed+=1;else if(this.decodeMode===I.Strict)return 0;return this.emitCodePoint((0,l.replaceCodePoint)(this.result),this.consumed),this.errors&&(U!==c.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},L.prototype.stateNamedEntity=function(U,q){for(var he=this.decodeTree,ae=he[this.treeIndex],se=(ae&g.VALUE_LENGTH)>>14;q<U.length;q++,this.excess++){var ue=U.charCodeAt(q);if(this.treeIndex=P(he,ae,this.treeIndex+Math.max(1,se),ue),this.treeIndex<0)return this.result===0||this.decodeMode===I.Attribute&&(se===0||b(ue))?0:this.emitNotTerminatedNamedEntity();if(ae=he[this.treeIndex],se=(ae&g.VALUE_LENGTH)>>14,se!==0){if(ue===c.SEMI)return this.emitNamedEntityData(this.treeIndex,se,this.consumed+this.excess);this.decodeMode!==I.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},L.prototype.emitNotTerminatedNamedEntity=function(){var U,q=this,he=q.result,ae=q.decodeTree,se=(ae[he]&g.VALUE_LENGTH)>>14;return this.emitNamedEntityData(he,se,this.consumed),(U=this.errors)===null||U===void 0||U.missingSemicolonAfterCharacterReference(),this.consumed},L.prototype.emitNamedEntityData=function(U,q,he){var ae=this.decodeTree;return this.emitCodePoint(q===1?ae[U]&~g.VALUE_LENGTH:ae[U+1],he),q===3&&this.emitCodePoint(ae[U+2],he),he},L.prototype.end=function(){var U;switch(this.state){case C.NamedEntity:return this.result!==0&&(this.decodeMode!==I.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case C.NumericDecimal:return this.emitNumericEntity(0,2);case C.NumericHex:return this.emitNumericEntity(0,3);case C.NumericStart:return(U=this.errors)===null||U===void 0||U.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case C.EntityStart:return 0}},L})();t.EntityDecoder=M;function A(L){var U="",q=new M(L,function(he){return U+=(0,l.fromCodePoint)(he)});return function(ae,se){for(var ue=0,Ce=0;(Ce=ae.indexOf("&",Ce))>=0;){U+=ae.slice(ue,Ce),q.startEntity(se);var J=q.write(ae,Ce+1);if(J<0){ue=Ce+q.end();break}ue=Ce+J,Ce=J===0?ue+1:ue}var be=U+ae.slice(ue);return U="",be}}function P(L,U,q,he){var ae=(U&g.BRANCH_LENGTH)>>7,se=U&g.JUMP_TABLE;if(ae===0)return se!==0&&he===se?q:-1;if(se){var ue=he-se;return ue<0||ue>=ae?-1:L[q+ue]-1}for(var Ce=q,J=Ce+ae-1;Ce<=J;){var be=Ce+J>>>1,j=L[be];if(j<he)Ce=be+1;else if(j>he)J=be-1;else return L[be+ae]}return-1}t.determineBranch=P;var D=A(s.default),V=A(o.default);function N(L,U){return U===void 0&&(U=I.Legacy),D(L,U)}t.decodeHTML=N;function k(L){return D(L,I.Attribute)}t.decodeHTMLAttribute=k;function R(L){return D(L,I.Strict)}t.decodeHTMLStrict=R;function O(L){return V(L,I.Strict)}t.decodeXML=O})(Xi)),Xi}var x3;function xR(){return x3||(x3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteType=void 0;var e=Op(),n;(function(p){p[p.Tab=9]="Tab",p[p.NewLine=10]="NewLine",p[p.FormFeed=12]="FormFeed",p[p.CarriageReturn=13]="CarriageReturn",p[p.Space=32]="Space",p[p.ExclamationMark=33]="ExclamationMark",p[p.Number=35]="Number",p[p.Amp=38]="Amp",p[p.SingleQuote=39]="SingleQuote",p[p.DoubleQuote=34]="DoubleQuote",p[p.Dash=45]="Dash",p[p.Slash=47]="Slash",p[p.Zero=48]="Zero",p[p.Nine=57]="Nine",p[p.Semi=59]="Semi",p[p.Lt=60]="Lt",p[p.Eq=61]="Eq",p[p.Gt=62]="Gt",p[p.Questionmark=63]="Questionmark",p[p.UpperA=65]="UpperA",p[p.LowerA=97]="LowerA",p[p.UpperF=70]="UpperF",p[p.LowerF=102]="LowerF",p[p.UpperZ=90]="UpperZ",p[p.LowerZ=122]="LowerZ",p[p.LowerX=120]="LowerX",p[p.OpeningSquareBracket=91]="OpeningSquareBracket"})(n||(n={}));var r;(function(p){p[p.Text=1]="Text",p[p.BeforeTagName=2]="BeforeTagName",p[p.InTagName=3]="InTagName",p[p.InSelfClosingTag=4]="InSelfClosingTag",p[p.BeforeClosingTagName=5]="BeforeClosingTagName",p[p.InClosingTagName=6]="InClosingTagName",p[p.AfterClosingTagName=7]="AfterClosingTagName",p[p.BeforeAttributeName=8]="BeforeAttributeName",p[p.InAttributeName=9]="InAttributeName",p[p.AfterAttributeName=10]="AfterAttributeName",p[p.BeforeAttributeValue=11]="BeforeAttributeValue",p[p.InAttributeValueDq=12]="InAttributeValueDq",p[p.InAttributeValueSq=13]="InAttributeValueSq",p[p.InAttributeValueNq=14]="InAttributeValueNq",p[p.BeforeDeclaration=15]="BeforeDeclaration",p[p.InDeclaration=16]="InDeclaration",p[p.InProcessingInstruction=17]="InProcessingInstruction",p[p.BeforeComment=18]="BeforeComment",p[p.CDATASequence=19]="CDATASequence",p[p.InSpecialComment=20]="InSpecialComment",p[p.InCommentLike=21]="InCommentLike",p[p.BeforeSpecialS=22]="BeforeSpecialS",p[p.SpecialStartSequence=23]="SpecialStartSequence",p[p.InSpecialTag=24]="InSpecialTag",p[p.BeforeEntity=25]="BeforeEntity",p[p.BeforeNumericEntity=26]="BeforeNumericEntity",p[p.InNamedEntity=27]="InNamedEntity",p[p.InNumericEntity=28]="InNumericEntity",p[p.InHexEntity=29]="InHexEntity"})(r||(r={}));function i(p){return p===n.Space||p===n.NewLine||p===n.Tab||p===n.FormFeed||p===n.CarriageReturn}function s(p){return p===n.Slash||p===n.Gt||i(p)}function o(p){return p>=n.Zero&&p<=n.Nine}function l(p){return p>=n.LowerA&&p<=n.LowerZ||p>=n.UpperA&&p<=n.UpperZ}function f(p){return p>=n.UpperA&&p<=n.UpperF||p>=n.LowerA&&p<=n.LowerF}var c;(function(p){p[p.NoValue=0]="NoValue",p[p.Unquoted=1]="Unquoted",p[p.Single=2]="Single",p[p.Double=3]="Double"})(c=t.QuoteType||(t.QuoteType={}));var d={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},g=(function(){function p(x,_){var b=x.xmlMode,C=b===void 0?!1:b,I=x.decodeEntities,M=I===void 0?!0:I;this.cbs=_,this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=C,this.decodeEntities=M,this.entityTrie=C?e.xmlDecodeTree:e.htmlDecodeTree}return p.prototype.reset=function(){this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},p.prototype.write=function(x){this.offset+=this.buffer.length,this.buffer=x,this.parse()},p.prototype.end=function(){this.running&&this.finish()},p.prototype.pause=function(){this.running=!1},p.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},p.prototype.getIndex=function(){return this.index},p.prototype.getSectionStart=function(){return this.sectionStart},p.prototype.stateText=function(x){x===n.Lt||!this.decodeEntities&&this.fastForwardTo(n.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=r.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&x===n.Amp&&(this.state=r.BeforeEntity)},p.prototype.stateSpecialStartSequence=function(x){var _=this.sequenceIndex===this.currentSequence.length,b=_?s(x):(x|32)===this.currentSequence[this.sequenceIndex];if(!b)this.isSpecial=!1;else if(!_){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=r.InTagName,this.stateInTagName(x)},p.prototype.stateInSpecialTag=function(x){if(this.sequenceIndex===this.currentSequence.length){if(x===n.Gt||i(x)){var _=this.index-this.currentSequence.length;if(this.sectionStart<_){var b=this.index;this.index=_,this.cbs.ontext(this.sectionStart,_),this.index=b}this.isSpecial=!1,this.sectionStart=_+2,this.stateInClosingTagName(x);return}this.sequenceIndex=0}(x|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===d.TitleEnd?this.decodeEntities&&x===n.Amp&&(this.state=r.BeforeEntity):this.fastForwardTo(n.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(x===n.Lt)},p.prototype.stateCDATASequence=function(x){x===d.Cdata[this.sequenceIndex]?++this.sequenceIndex===d.Cdata.length&&(this.state=r.InCommentLike,this.currentSequence=d.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=r.InDeclaration,this.stateInDeclaration(x))},p.prototype.fastForwardTo=function(x){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===x)return!0;return this.index=this.buffer.length+this.offset-1,!1},p.prototype.stateInCommentLike=function(x){x===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=r.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):x!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},p.prototype.isTagStartChar=function(x){return this.xmlMode?!s(x):l(x)},p.prototype.startSpecial=function(x,_){this.isSpecial=!0,this.currentSequence=x,this.sequenceIndex=_,this.state=r.SpecialStartSequence},p.prototype.stateBeforeTagName=function(x){if(x===n.ExclamationMark)this.state=r.BeforeDeclaration,this.sectionStart=this.index+1;else if(x===n.Questionmark)this.state=r.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(x)){var _=x|32;this.sectionStart=this.index,!this.xmlMode&&_===d.TitleEnd[2]?this.startSpecial(d.TitleEnd,3):this.state=!this.xmlMode&&_===d.ScriptEnd[2]?r.BeforeSpecialS:r.InTagName}else x===n.Slash?this.state=r.BeforeClosingTagName:(this.state=r.Text,this.stateText(x))},p.prototype.stateInTagName=function(x){s(x)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(x))},p.prototype.stateBeforeClosingTagName=function(x){i(x)||(x===n.Gt?this.state=r.Text:(this.state=this.isTagStartChar(x)?r.InClosingTagName:r.InSpecialComment,this.sectionStart=this.index))},p.prototype.stateInClosingTagName=function(x){(x===n.Gt||i(x))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterClosingTagName,this.stateAfterClosingTagName(x))},p.prototype.stateAfterClosingTagName=function(x){(x===n.Gt||this.fastForwardTo(n.Gt))&&(this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1)},p.prototype.stateBeforeAttributeName=function(x){x===n.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=r.InSpecialTag,this.sequenceIndex=0):this.state=r.Text,this.baseState=this.state,this.sectionStart=this.index+1):x===n.Slash?this.state=r.InSelfClosingTag:i(x)||(this.state=r.InAttributeName,this.sectionStart=this.index)},p.prototype.stateInSelfClosingTag=function(x){x===n.Gt?(this.cbs.onselfclosingtag(this.index),this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1,this.isSpecial=!1):i(x)||(this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(x))},p.prototype.stateInAttributeName=function(x){(x===n.Eq||s(x))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterAttributeName,this.stateAfterAttributeName(x))},p.prototype.stateAfterAttributeName=function(x){x===n.Eq?this.state=r.BeforeAttributeValue:x===n.Slash||x===n.Gt?(this.cbs.onattribend(c.NoValue,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(x)):i(x)||(this.cbs.onattribend(c.NoValue,this.index),this.state=r.InAttributeName,this.sectionStart=this.index)},p.prototype.stateBeforeAttributeValue=function(x){x===n.DoubleQuote?(this.state=r.InAttributeValueDq,this.sectionStart=this.index+1):x===n.SingleQuote?(this.state=r.InAttributeValueSq,this.sectionStart=this.index+1):i(x)||(this.sectionStart=this.index,this.state=r.InAttributeValueNq,this.stateInAttributeValueNoQuotes(x))},p.prototype.handleInAttributeValue=function(x,_){x===_||!this.decodeEntities&&this.fastForwardTo(_)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(_===n.DoubleQuote?c.Double:c.Single,this.index),this.state=r.BeforeAttributeName):this.decodeEntities&&x===n.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},p.prototype.stateInAttributeValueDoubleQuotes=function(x){this.handleInAttributeValue(x,n.DoubleQuote)},p.prototype.stateInAttributeValueSingleQuotes=function(x){this.handleInAttributeValue(x,n.SingleQuote)},p.prototype.stateInAttributeValueNoQuotes=function(x){i(x)||x===n.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(c.Unquoted,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(x)):this.decodeEntities&&x===n.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},p.prototype.stateBeforeDeclaration=function(x){x===n.OpeningSquareBracket?(this.state=r.CDATASequence,this.sequenceIndex=0):this.state=x===n.Dash?r.BeforeComment:r.InDeclaration},p.prototype.stateInDeclaration=function(x){(x===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},p.prototype.stateInProcessingInstruction=function(x){(x===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},p.prototype.stateBeforeComment=function(x){x===n.Dash?(this.state=r.InCommentLike,this.currentSequence=d.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=r.InDeclaration},p.prototype.stateInSpecialComment=function(x){(x===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=r.Text,this.sectionStart=this.index+1)},p.prototype.stateBeforeSpecialS=function(x){var _=x|32;_===d.ScriptEnd[3]?this.startSpecial(d.ScriptEnd,4):_===d.StyleEnd[3]?this.startSpecial(d.StyleEnd,4):(this.state=r.InTagName,this.stateInTagName(x))},p.prototype.stateBeforeEntity=function(x){this.entityExcess=1,this.entityResult=0,x===n.Number?this.state=r.BeforeNumericEntity:x===n.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=r.InNamedEntity,this.stateInNamedEntity(x))},p.prototype.stateInNamedEntity=function(x){if(this.entityExcess+=1,this.trieIndex=(0,e.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,x),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var _=this.trieCurrent&e.BinTrieFlags.VALUE_LENGTH;if(_){var b=(_>>14)-1;if(!this.allowLegacyEntity()&&x!==n.Semi)this.trieIndex+=b;else{var C=this.index-this.entityExcess+1;C>this.sectionStart&&this.emitPartial(this.sectionStart,C),this.entityResult=this.trieIndex,this.trieIndex+=b,this.entityExcess=0,this.sectionStart=this.index+1,b===0&&this.emitNamedEntity()}}},p.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var x=(this.entityTrie[this.entityResult]&e.BinTrieFlags.VALUE_LENGTH)>>14;switch(x){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~e.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},p.prototype.stateBeforeNumericEntity=function(x){(x|32)===n.LowerX?(this.entityExcess++,this.state=r.InHexEntity):(this.state=r.InNumericEntity,this.stateInNumericEntity(x))},p.prototype.emitNumericEntity=function(x){var _=this.index-this.entityExcess-1,b=_+2+ +(this.state===r.InHexEntity);b!==this.index&&(_>this.sectionStart&&this.emitPartial(this.sectionStart,_),this.sectionStart=this.index+Number(x),this.emitCodePoint((0,e.replaceCodePoint)(this.entityResult))),this.state=this.baseState},p.prototype.stateInNumericEntity=function(x){x===n.Semi?this.emitNumericEntity(!0):o(x)?(this.entityResult=this.entityResult*10+(x-n.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},p.prototype.stateInHexEntity=function(x){x===n.Semi?this.emitNumericEntity(!0):o(x)?(this.entityResult=this.entityResult*16+(x-n.Zero),this.entityExcess++):f(x)?(this.entityResult=this.entityResult*16+((x|32)-n.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},p.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===r.Text||this.baseState===r.InSpecialTag)},p.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===r.Text||this.state===r.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===r.InAttributeValueDq||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},p.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},p.prototype.parse=function(){for(;this.shouldContinue();){var x=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case r.Text:{this.stateText(x);break}case r.SpecialStartSequence:{this.stateSpecialStartSequence(x);break}case r.InSpecialTag:{this.stateInSpecialTag(x);break}case r.CDATASequence:{this.stateCDATASequence(x);break}case r.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(x);break}case r.InAttributeName:{this.stateInAttributeName(x);break}case r.InCommentLike:{this.stateInCommentLike(x);break}case r.InSpecialComment:{this.stateInSpecialComment(x);break}case r.BeforeAttributeName:{this.stateBeforeAttributeName(x);break}case r.InTagName:{this.stateInTagName(x);break}case r.InClosingTagName:{this.stateInClosingTagName(x);break}case r.BeforeTagName:{this.stateBeforeTagName(x);break}case r.AfterAttributeName:{this.stateAfterAttributeName(x);break}case r.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(x);break}case r.BeforeAttributeValue:{this.stateBeforeAttributeValue(x);break}case r.BeforeClosingTagName:{this.stateBeforeClosingTagName(x);break}case r.AfterClosingTagName:{this.stateAfterClosingTagName(x);break}case r.BeforeSpecialS:{this.stateBeforeSpecialS(x);break}case r.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(x);break}case r.InSelfClosingTag:{this.stateInSelfClosingTag(x);break}case r.InDeclaration:{this.stateInDeclaration(x);break}case r.BeforeDeclaration:{this.stateBeforeDeclaration(x);break}case r.BeforeComment:{this.stateBeforeComment(x);break}case r.InProcessingInstruction:{this.stateInProcessingInstruction(x);break}case r.InNamedEntity:{this.stateInNamedEntity(x);break}case r.BeforeEntity:{this.stateBeforeEntity(x);break}case r.InHexEntity:{this.stateInHexEntity(x);break}case r.InNumericEntity:{this.stateInNumericEntity(x);break}default:this.stateBeforeNumericEntity(x)}this.index++}this.cleanup()},p.prototype.finish=function(){this.state===r.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},p.prototype.handleTrailingData=function(){var x=this.buffer.length+this.offset;this.state===r.InCommentLike?this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,x,0):this.cbs.oncomment(this.sectionStart,x,0):this.state===r.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InTagName||this.state===r.BeforeAttributeName||this.state===r.BeforeAttributeValue||this.state===r.AfterAttributeName||this.state===r.InAttributeName||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueDq||this.state===r.InAttributeValueNq||this.state===r.InClosingTagName||this.cbs.ontext(this.sectionStart,x)},p.prototype.emitPartial=function(x,_){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribdata(x,_):this.cbs.ontext(x,_)},p.prototype.emitCodePoint=function(x){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribentity(x):this.cbs.ontextentity(x)},p})();t.default=g})(X1)),X1}var y3;function v3(){if(y3)return Yi;y3=1;var t=Yi&&Yi.__createBinding||(Object.create?(function(C,I,M,A){A===void 0&&(A=M);var P=Object.getOwnPropertyDescriptor(I,M);(!P||("get"in P?!I.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return I[M]}}),Object.defineProperty(C,A,P)}):(function(C,I,M,A){A===void 0&&(A=M),C[A]=I[M]})),e=Yi&&Yi.__setModuleDefault||(Object.create?(function(C,I){Object.defineProperty(C,"default",{enumerable:!0,value:I})}):function(C,I){C.default=I}),n=Yi&&Yi.__importStar||function(C){if(C&&C.__esModule)return C;var I={};if(C!=null)for(var M in C)M!=="default"&&Object.prototype.hasOwnProperty.call(C,M)&&t(I,C,M);return e(I,C),I};Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.Parser=void 0;var r=n(xR()),i=Op(),s=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),l=new Set(["thead","tbody"]),f=new Set(["dd","dt"]),c=new Set(["rt","rp"]),d=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",o],["h1",o],["h2",o],["h3",o],["h4",o],["h5",o],["h6",o],["select",s],["input",s],["output",s],["button",s],["datalist",s],["textarea",s],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",f],["dt",f],["address",o],["article",o],["aside",o],["blockquote",o],["details",o],["div",o],["dl",o],["fieldset",o],["figcaption",o],["figure",o],["footer",o],["form",o],["header",o],["hr",o],["main",o],["nav",o],["ol",o],["pre",o],["section",o],["table",o],["ul",o],["rt",c],["rp",c],["tbody",l],["tfoot",l]]),g=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),p=new Set(["math","svg"]),x=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),_=/\s|\//,b=(function(){function C(I,M){M===void 0&&(M={});var A,P,D,V,N;this.options=M,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=I??{},this.lowerCaseTagNames=(A=M.lowerCaseTags)!==null&&A!==void 0?A:!M.xmlMode,this.lowerCaseAttributeNames=(P=M.lowerCaseAttributeNames)!==null&&P!==void 0?P:!M.xmlMode,this.tokenizer=new((D=M.Tokenizer)!==null&&D!==void 0?D:r.default)(this.options,this),(N=(V=this.cbs).onparserinit)===null||N===void 0||N.call(V,this)}return C.prototype.ontext=function(I,M){var A,P,D=this.getSlice(I,M);this.endIndex=M-1,(P=(A=this.cbs).ontext)===null||P===void 0||P.call(A,D),this.startIndex=M},C.prototype.ontextentity=function(I){var M,A,P=this.tokenizer.getSectionStart();this.endIndex=P-1,(A=(M=this.cbs).ontext)===null||A===void 0||A.call(M,(0,i.fromCodePoint)(I)),this.startIndex=P},C.prototype.isVoidElement=function(I){return!this.options.xmlMode&&g.has(I)},C.prototype.onopentagname=function(I,M){this.endIndex=M;var A=this.getSlice(I,M);this.lowerCaseTagNames&&(A=A.toLowerCase()),this.emitOpenTag(A)},C.prototype.emitOpenTag=function(I){var M,A,P,D;this.openTagStart=this.startIndex,this.tagname=I;var V=!this.options.xmlMode&&d.get(I);if(V)for(;this.stack.length>0&&V.has(this.stack[this.stack.length-1]);){var N=this.stack.pop();(A=(M=this.cbs).onclosetag)===null||A===void 0||A.call(M,N,!0)}this.isVoidElement(I)||(this.stack.push(I),p.has(I)?this.foreignContext.push(!0):x.has(I)&&this.foreignContext.push(!1)),(D=(P=this.cbs).onopentagname)===null||D===void 0||D.call(P,I),this.cbs.onopentag&&(this.attribs={})},C.prototype.endOpenTag=function(I){var M,A;this.startIndex=this.openTagStart,this.attribs&&((A=(M=this.cbs).onopentag)===null||A===void 0||A.call(M,this.tagname,this.attribs,I),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},C.prototype.onopentagend=function(I){this.endIndex=I,this.endOpenTag(!1),this.startIndex=I+1},C.prototype.onclosetag=function(I,M){var A,P,D,V,N,k;this.endIndex=M;var R=this.getSlice(I,M);if(this.lowerCaseTagNames&&(R=R.toLowerCase()),(p.has(R)||x.has(R))&&this.foreignContext.pop(),this.isVoidElement(R))!this.options.xmlMode&&R==="br"&&((P=(A=this.cbs).onopentagname)===null||P===void 0||P.call(A,"br"),(V=(D=this.cbs).onopentag)===null||V===void 0||V.call(D,"br",{},!0),(k=(N=this.cbs).onclosetag)===null||k===void 0||k.call(N,"br",!1));else{var O=this.stack.lastIndexOf(R);if(O!==-1)if(this.cbs.onclosetag)for(var L=this.stack.length-O;L--;)this.cbs.onclosetag(this.stack.pop(),L!==0);else this.stack.length=O;else!this.options.xmlMode&&R==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=M+1},C.prototype.onselfclosingtag=function(I){this.endIndex=I,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=I+1):this.onopentagend(I)},C.prototype.closeCurrentTag=function(I){var M,A,P=this.tagname;this.endOpenTag(I),this.stack[this.stack.length-1]===P&&((A=(M=this.cbs).onclosetag)===null||A===void 0||A.call(M,P,!I),this.stack.pop())},C.prototype.onattribname=function(I,M){this.startIndex=I;var A=this.getSlice(I,M);this.attribname=this.lowerCaseAttributeNames?A.toLowerCase():A},C.prototype.onattribdata=function(I,M){this.attribvalue+=this.getSlice(I,M)},C.prototype.onattribentity=function(I){this.attribvalue+=(0,i.fromCodePoint)(I)},C.prototype.onattribend=function(I,M){var A,P;this.endIndex=M,(P=(A=this.cbs).onattribute)===null||P===void 0||P.call(A,this.attribname,this.attribvalue,I===r.QuoteType.Double?'"':I===r.QuoteType.Single?"'":I===r.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},C.prototype.getInstructionName=function(I){var M=I.search(_),A=M<0?I:I.substr(0,M);return this.lowerCaseTagNames&&(A=A.toLowerCase()),A},C.prototype.ondeclaration=function(I,M){this.endIndex=M;var A=this.getSlice(I,M);if(this.cbs.onprocessinginstruction){var P=this.getInstructionName(A);this.cbs.onprocessinginstruction("!".concat(P),"!".concat(A))}this.startIndex=M+1},C.prototype.onprocessinginstruction=function(I,M){this.endIndex=M;var A=this.getSlice(I,M);if(this.cbs.onprocessinginstruction){var P=this.getInstructionName(A);this.cbs.onprocessinginstruction("?".concat(P),"?".concat(A))}this.startIndex=M+1},C.prototype.oncomment=function(I,M,A){var P,D,V,N;this.endIndex=M,(D=(P=this.cbs).oncomment)===null||D===void 0||D.call(P,this.getSlice(I,M-A)),(N=(V=this.cbs).oncommentend)===null||N===void 0||N.call(V),this.startIndex=M+1},C.prototype.oncdata=function(I,M,A){var P,D,V,N,k,R,O,L,U,q;this.endIndex=M;var he=this.getSlice(I,M-A);this.options.xmlMode||this.options.recognizeCDATA?((D=(P=this.cbs).oncdatastart)===null||D===void 0||D.call(P),(N=(V=this.cbs).ontext)===null||N===void 0||N.call(V,he),(R=(k=this.cbs).oncdataend)===null||R===void 0||R.call(k)):((L=(O=this.cbs).oncomment)===null||L===void 0||L.call(O,"[CDATA[".concat(he,"]]")),(q=(U=this.cbs).oncommentend)===null||q===void 0||q.call(U)),this.startIndex=M+1},C.prototype.onend=function(){var I,M;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var A=this.stack.length;A>0;this.cbs.onclosetag(this.stack[--A],!0));}(M=(I=this.cbs).onend)===null||M===void 0||M.call(I)},C.prototype.reset=function(){var I,M,A,P;(M=(I=this.cbs).onreset)===null||M===void 0||M.call(I),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(P=(A=this.cbs).onparserinit)===null||P===void 0||P.call(A,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},C.prototype.parseComplete=function(I){this.reset(),this.end(I)},C.prototype.getSlice=function(I,M){for(;I-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var A=this.buffers[0].slice(I-this.bufferOffset,M-this.bufferOffset);M-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),A+=this.buffers[0].slice(0,M-this.bufferOffset);return A},C.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},C.prototype.write=function(I){var M,A;if(this.ended){(A=(M=this.cbs).onerror)===null||A===void 0||A.call(M,new Error(".write() after done!"));return}this.buffers.push(I),this.tokenizer.running&&(this.tokenizer.write(I),this.writeIndex++)},C.prototype.end=function(I){var M,A;if(this.ended){(A=(M=this.cbs).onerror)===null||A===void 0||A.call(M,new Error(".end() after done!"));return}I&&this.write(I),this.ended=!0,this.tokenizer.end()},C.prototype.pause=function(){this.tokenizer.pause()},C.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},C.prototype.parseChunk=function(I){this.write(I)},C.prototype.done=function(I){this.end(I)},C})();return Yi.Parser=b,Yi}var mu={},Q1={},_3;function j0(){return _3||(_3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function n(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}t.isTag=n,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype})(Q1)),Q1}var Et={},T3;function E3(){if(T3)return Et;T3=1;var t=Et&&Et.__extends||(function(){var D=function(V,N){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,R){k.__proto__=R}||function(k,R){for(var O in R)Object.prototype.hasOwnProperty.call(R,O)&&(k[O]=R[O])},D(V,N)};return function(V,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");D(V,N);function k(){this.constructor=V}V.prototype=N===null?Object.create(N):(k.prototype=N.prototype,new k)}})(),e=Et&&Et.__assign||function(){return e=Object.assign||function(D){for(var V,N=1,k=arguments.length;N<k;N++){V=arguments[N];for(var R in V)Object.prototype.hasOwnProperty.call(V,R)&&(D[R]=V[R])}return D},e.apply(this,arguments)};Object.defineProperty(Et,"__esModule",{value:!0}),Et.cloneNode=Et.hasChildren=Et.isDocument=Et.isDirective=Et.isComment=Et.isText=Et.isCDATA=Et.isTag=Et.Element=Et.Document=Et.CDATA=Et.NodeWithChildren=Et.ProcessingInstruction=Et.Comment=Et.Text=Et.DataNode=Et.Node=void 0;var n=j0(),r=(function(){function D(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(D.prototype,"parentNode",{get:function(){return this.parent},set:function(V){this.parent=V},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"previousSibling",{get:function(){return this.prev},set:function(V){this.prev=V},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"nextSibling",{get:function(){return this.next},set:function(V){this.next=V},enumerable:!1,configurable:!0}),D.prototype.cloneNode=function(V){return V===void 0&&(V=!1),A(this,V)},D})();Et.Node=r;var i=(function(D){t(V,D);function V(N){var k=D.call(this)||this;return k.data=N,k}return Object.defineProperty(V.prototype,"nodeValue",{get:function(){return this.data},set:function(N){this.data=N},enumerable:!1,configurable:!0}),V})(r);Et.DataNode=i;var s=(function(D){t(V,D);function V(){var N=D!==null&&D.apply(this,arguments)||this;return N.type=n.ElementType.Text,N}return Object.defineProperty(V.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),V})(i);Et.Text=s;var o=(function(D){t(V,D);function V(){var N=D!==null&&D.apply(this,arguments)||this;return N.type=n.ElementType.Comment,N}return Object.defineProperty(V.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),V})(i);Et.Comment=o;var l=(function(D){t(V,D);function V(N,k){var R=D.call(this,k)||this;return R.name=N,R.type=n.ElementType.Directive,R}return Object.defineProperty(V.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),V})(i);Et.ProcessingInstruction=l;var f=(function(D){t(V,D);function V(N){var k=D.call(this)||this;return k.children=N,k}return Object.defineProperty(V.prototype,"firstChild",{get:function(){var N;return(N=this.children[0])!==null&&N!==void 0?N:null},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"childNodes",{get:function(){return this.children},set:function(N){this.children=N},enumerable:!1,configurable:!0}),V})(r);Et.NodeWithChildren=f;var c=(function(D){t(V,D);function V(){var N=D!==null&&D.apply(this,arguments)||this;return N.type=n.ElementType.CDATA,N}return Object.defineProperty(V.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),V})(f);Et.CDATA=c;var d=(function(D){t(V,D);function V(){var N=D!==null&&D.apply(this,arguments)||this;return N.type=n.ElementType.Root,N}return Object.defineProperty(V.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),V})(f);Et.Document=d;var g=(function(D){t(V,D);function V(N,k,R,O){R===void 0&&(R=[]),O===void 0&&(O=N==="script"?n.ElementType.Script:N==="style"?n.ElementType.Style:n.ElementType.Tag);var L=D.call(this,R)||this;return L.name=N,L.attribs=k,L.type=O,L}return Object.defineProperty(V.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"tagName",{get:function(){return this.name},set:function(N){this.name=N},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"attributes",{get:function(){var N=this;return Object.keys(this.attribs).map(function(k){var R,O;return{name:k,value:N.attribs[k],namespace:(R=N["x-attribsNamespace"])===null||R===void 0?void 0:R[k],prefix:(O=N["x-attribsPrefix"])===null||O===void 0?void 0:O[k]}})},enumerable:!1,configurable:!0}),V})(f);Et.Element=g;function p(D){return(0,n.isTag)(D)}Et.isTag=p;function x(D){return D.type===n.ElementType.CDATA}Et.isCDATA=x;function _(D){return D.type===n.ElementType.Text}Et.isText=_;function b(D){return D.type===n.ElementType.Comment}Et.isComment=b;function C(D){return D.type===n.ElementType.Directive}Et.isDirective=C;function I(D){return D.type===n.ElementType.Root}Et.isDocument=I;function M(D){return Object.prototype.hasOwnProperty.call(D,"children")}Et.hasChildren=M;function A(D,V){V===void 0&&(V=!1);var N;if(_(D))N=new s(D.data);else if(b(D))N=new o(D.data);else if(p(D)){var k=V?P(D.children):[],R=new g(D.name,e({},D.attribs),k);k.forEach(function(q){return q.parent=R}),D.namespace!=null&&(R.namespace=D.namespace),D["x-attribsNamespace"]&&(R["x-attribsNamespace"]=e({},D["x-attribsNamespace"])),D["x-attribsPrefix"]&&(R["x-attribsPrefix"]=e({},D["x-attribsPrefix"])),N=R}else if(x(D)){var k=V?P(D.children):[],O=new c(k);k.forEach(function(he){return he.parent=O}),N=O}else if(I(D)){var k=V?P(D.children):[],L=new d(k);k.forEach(function(he){return he.parent=L}),D["x-mode"]&&(L["x-mode"]=D["x-mode"]),N=L}else if(C(D)){var U=new l(D.name,D.data);D["x-name"]!=null&&(U["x-name"]=D["x-name"],U["x-publicId"]=D["x-publicId"],U["x-systemId"]=D["x-systemId"]),N=U}else throw new Error("Not implemented yet: ".concat(D.type));return N.startIndex=D.startIndex,N.endIndex=D.endIndex,D.sourceCodeLocation!=null&&(N.sourceCodeLocation=D.sourceCodeLocation),N}Et.cloneNode=A;function P(D){for(var V=D.map(function(k){return A(k,!0)}),N=1;N<V.length;N++)V[N].prev=V[N-1],V[N-1].next=V[N];return V}return Et}var b3;function Po(){return b3||(b3=1,(function(t){var e=mu&&mu.__createBinding||(Object.create?(function(l,f,c,d){d===void 0&&(d=c);var g=Object.getOwnPropertyDescriptor(f,c);(!g||("get"in g?!f.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return f[c]}}),Object.defineProperty(l,d,g)}):(function(l,f,c,d){d===void 0&&(d=c),l[d]=f[c]})),n=mu&&mu.__exportStar||function(l,f){for(var c in l)c!=="default"&&!Object.prototype.hasOwnProperty.call(f,c)&&e(f,l,c)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var r=j0(),i=E3();n(E3(),t);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=(function(){function l(f,c,d){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof c=="function"&&(d=c,c=s),typeof f=="object"&&(c=f,f=void 0),this.callback=f??null,this.options=c??s,this.elementCB=d??null}return l.prototype.onparserinit=function(f){this.parser=f},l.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},l.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},l.prototype.onerror=function(f){this.handleCallback(f)},l.prototype.onclosetag=function(){this.lastNode=null;var f=this.tagStack.pop();this.options.withEndIndices&&(f.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(f)},l.prototype.onopentag=function(f,c){var d=this.options.xmlMode?r.ElementType.Tag:void 0,g=new i.Element(f,c,void 0,d);this.addNode(g),this.tagStack.push(g)},l.prototype.ontext=function(f){var c=this.lastNode;if(c&&c.type===r.ElementType.Text)c.data+=f,this.options.withEndIndices&&(c.endIndex=this.parser.endIndex);else{var d=new i.Text(f);this.addNode(d),this.lastNode=d}},l.prototype.oncomment=function(f){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=f;return}var c=new i.Comment(f);this.addNode(c),this.lastNode=c},l.prototype.oncommentend=function(){this.lastNode=null},l.prototype.oncdatastart=function(){var f=new i.Text(""),c=new i.CDATA([f]);this.addNode(c),f.parent=c,this.lastNode=f},l.prototype.oncdataend=function(){this.lastNode=null},l.prototype.onprocessinginstruction=function(f,c){var d=new i.ProcessingInstruction(f,c);this.addNode(d)},l.prototype.handleCallback=function(f){if(typeof this.callback=="function")this.callback(f,this.dom);else if(f)throw f},l.prototype.addNode=function(f){var c=this.tagStack[this.tagStack.length-1],d=c.children[c.children.length-1];this.options.withStartIndices&&(f.startIndex=this.parser.startIndex),this.options.withEndIndices&&(f.endIndex=this.parser.endIndex),c.children.push(f),d&&(f.prev=d,d.next=f),f.parent=c,this.lastNode=null},l})();t.DomHandler=o,t.default=o})(mu)),mu}var gu={},Ts={},$r={},Z1={},ua={},Rd={},w3;function QJ(){if(w3)return Rd;w3=1,Object.defineProperty(Rd,"__esModule",{value:!0});function t(e){for(var n=1;n<e.length;n++)e[n][0]+=e[n-1][0]+1;return e}return Rd.default=new Map(t([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(t([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(t([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(t([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),Rd}var ex={},S3;function ky(){return S3||(S3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.getCodePoint=t.xmlReplacer=void 0,t.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var e=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);t.getCodePoint=String.prototype.codePointAt!=null?function(i,s){return i.codePointAt(s)}:function(i,s){return(i.charCodeAt(s)&64512)===55296?(i.charCodeAt(s)-55296)*1024+i.charCodeAt(s+1)-56320+65536:i.charCodeAt(s)};function n(i){for(var s="",o=0,l;(l=t.xmlReplacer.exec(i))!==null;){var f=l.index,c=i.charCodeAt(f),d=e.get(c);d!==void 0?(s+=i.substring(o,f)+d,o=f+1):(s+="".concat(i.substring(o,f),"&#x").concat((0,t.getCodePoint)(i,f).toString(16),";"),o=t.xmlReplacer.lastIndex+=+((c&64512)===55296))}return s+i.substr(o)}t.encodeXML=n,t.escape=n;function r(i,s){return function(l){for(var f,c=0,d="";f=i.exec(l);)c!==f.index&&(d+=l.substring(c,f.index)),d+=s.get(f[0].charCodeAt(0)),c=f.index+1;return d+l.substring(c)}}t.escapeUTF8=r(/[&<>'"]/g,e),t.escapeAttribute=r(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),t.escapeText=r(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))})(ex)),ex}var A3;function C3(){if(A3)return ua;A3=1;var t=ua&&ua.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ua,"__esModule",{value:!0}),ua.encodeNonAsciiHTML=ua.encodeHTML=void 0;var e=t(QJ()),n=ky(),r=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function i(l){return o(r,l)}ua.encodeHTML=i;function s(l){return o(n.xmlReplacer,l)}ua.encodeNonAsciiHTML=s;function o(l,f){for(var c="",d=0,g;(g=l.exec(f))!==null;){var p=g.index;c+=f.substring(d,p);var x=f.charCodeAt(p),_=e.default.get(x);if(typeof _=="object"){if(p+1<f.length){var b=f.charCodeAt(p+1),C=typeof _.n=="number"?_.n===b?_.o:void 0:_.n.get(b);if(C!==void 0){c+=C,d=l.lastIndex+=1;continue}}_=_.v}if(_!==void 0)c+=_,d=p+1;else{var I=(0,n.getCodePoint)(f,p);c+="&#x".concat(I.toString(16),";"),d=l.lastIndex+=+(I!==x)}}return c+f.substr(d)}return ua}var I3;function ZJ(){return I3||(I3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLAttribute=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.DecodingMode=t.EntityDecoder=t.encodeHTML5=t.encodeHTML4=t.encodeNonAsciiHTML=t.encodeHTML=t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.encode=t.decodeStrict=t.decode=t.EncodingMode=t.EntityLevel=void 0;var e=Op(),n=C3(),r=ky(),i;(function(p){p[p.XML=0]="XML",p[p.HTML=1]="HTML"})(i=t.EntityLevel||(t.EntityLevel={}));var s;(function(p){p[p.UTF8=0]="UTF8",p[p.ASCII=1]="ASCII",p[p.Extensive=2]="Extensive",p[p.Attribute=3]="Attribute",p[p.Text=4]="Text"})(s=t.EncodingMode||(t.EncodingMode={}));function o(p,x){x===void 0&&(x=i.XML);var _=typeof x=="number"?x:x.level;if(_===i.HTML){var b=typeof x=="object"?x.mode:void 0;return(0,e.decodeHTML)(p,b)}return(0,e.decodeXML)(p)}t.decode=o;function l(p,x){var _;x===void 0&&(x=i.XML);var b=typeof x=="number"?{level:x}:x;return(_=b.mode)!==null&&_!==void 0||(b.mode=e.DecodingMode.Strict),o(p,b)}t.decodeStrict=l;function f(p,x){x===void 0&&(x=i.XML);var _=typeof x=="number"?{level:x}:x;return _.mode===s.UTF8?(0,r.escapeUTF8)(p):_.mode===s.Attribute?(0,r.escapeAttribute)(p):_.mode===s.Text?(0,r.escapeText)(p):_.level===i.HTML?_.mode===s.ASCII?(0,n.encodeNonAsciiHTML)(p):(0,n.encodeHTML)(p):(0,r.encodeXML)(p)}t.encode=f;var c=ky();Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return c.encodeXML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return c.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return c.escapeUTF8}}),Object.defineProperty(t,"escapeAttribute",{enumerable:!0,get:function(){return c.escapeAttribute}}),Object.defineProperty(t,"escapeText",{enumerable:!0,get:function(){return c.escapeText}});var d=C3();Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return d.encodeNonAsciiHTML}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return d.encodeHTML}});var g=Op();Object.defineProperty(t,"EntityDecoder",{enumerable:!0,get:function(){return g.EntityDecoder}}),Object.defineProperty(t,"DecodingMode",{enumerable:!0,get:function(){return g.DecodingMode}}),Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return g.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return g.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return g.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTMLAttribute",{enumerable:!0,get:function(){return g.decodeHTMLAttribute}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return g.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return g.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return g.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return g.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return g.decodeXML}})})(Z1)),Z1}var xu={},k3;function eQ(){return k3||(k3=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.attributeNames=xu.elementNames=void 0,xu.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(t){return[t.toLowerCase(),t]})),xu.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(t){return[t.toLowerCase(),t]}))),xu}var R3;function tQ(){if(R3)return $r;R3=1;var t=$r&&$r.__assign||function(){return t=Object.assign||function(P){for(var D,V=1,N=arguments.length;V<N;V++){D=arguments[V];for(var k in D)Object.prototype.hasOwnProperty.call(D,k)&&(P[k]=D[k])}return P},t.apply(this,arguments)},e=$r&&$r.__createBinding||(Object.create?(function(P,D,V,N){N===void 0&&(N=V);var k=Object.getOwnPropertyDescriptor(D,V);(!k||("get"in k?!D.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return D[V]}}),Object.defineProperty(P,N,k)}):(function(P,D,V,N){N===void 0&&(N=V),P[N]=D[V]})),n=$r&&$r.__setModuleDefault||(Object.create?(function(P,D){Object.defineProperty(P,"default",{enumerable:!0,value:D})}):function(P,D){P.default=D}),r=$r&&$r.__importStar||function(P){if(P&&P.__esModule)return P;var D={};if(P!=null)for(var V in P)V!=="default"&&Object.prototype.hasOwnProperty.call(P,V)&&e(D,P,V);return n(D,P),D};Object.defineProperty($r,"__esModule",{value:!0}),$r.render=void 0;var i=r(j0()),s=ZJ(),o=eQ(),l=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function f(P){return P.replace(/"/g,"&quot;")}function c(P,D){var V;if(P){var N=((V=D.encodeEntities)!==null&&V!==void 0?V:D.decodeEntities)===!1?f:D.xmlMode||D.encodeEntities!=="utf8"?s.encodeXML:s.escapeAttribute;return Object.keys(P).map(function(k){var R,O,L=(R=P[k])!==null&&R!==void 0?R:"";return D.xmlMode==="foreign"&&(k=(O=o.attributeNames.get(k))!==null&&O!==void 0?O:k),!D.emptyAttrs&&!D.xmlMode&&L===""?k:"".concat(k,'="').concat(N(L),'"')}).join(" ")}}var d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function g(P,D){D===void 0&&(D={});for(var V=("length"in P)?P:[P],N="",k=0;k<V.length;k++)N+=p(V[k],D);return N}$r.render=g,$r.default=g;function p(P,D){switch(P.type){case i.Root:return g(P.children,D);case i.Doctype:case i.Directive:return C(P);case i.Comment:return A(P);case i.CDATA:return M(P);case i.Script:case i.Style:case i.Tag:return b(P,D);case i.Text:return I(P,D)}}var x=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),_=new Set(["svg","math"]);function b(P,D){var V;D.xmlMode==="foreign"&&(P.name=(V=o.elementNames.get(P.name))!==null&&V!==void 0?V:P.name,P.parent&&x.has(P.parent.name)&&(D=t(t({},D),{xmlMode:!1}))),!D.xmlMode&&_.has(P.name)&&(D=t(t({},D),{xmlMode:"foreign"}));var N="<".concat(P.name),k=c(P.attribs,D);return k&&(N+=" ".concat(k)),P.children.length===0&&(D.xmlMode?D.selfClosingTags!==!1:D.selfClosingTags&&d.has(P.name))?(D.xmlMode||(N+=" "),N+="/>"):(N+=">",P.children.length>0&&(N+=g(P.children,D)),(D.xmlMode||!d.has(P.name))&&(N+="</".concat(P.name,">"))),N}function C(P){return"<".concat(P.data,">")}function I(P,D){var V,N=P.data||"";return((V=D.encodeEntities)!==null&&V!==void 0?V:D.decodeEntities)!==!1&&!(!D.xmlMode&&P.parent&&l.has(P.parent.name))&&(N=D.xmlMode||D.encodeEntities!=="utf8"?(0,s.encodeXML)(N):(0,s.escapeText)(N)),N}function M(P){return"<![CDATA[".concat(P.children[0].data,"]]>")}function A(P){return"<!--".concat(P.data,"-->")}return $r}var N3;function yR(){if(N3)return Ts;N3=1;var t=Ts&&Ts.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.getOuterHTML=i,Ts.getInnerHTML=s,Ts.getText=o,Ts.textContent=l,Ts.innerText=f;var e=Po(),n=t(tQ()),r=j0();function i(c,d){return(0,n.default)(c,d)}function s(c,d){return(0,e.hasChildren)(c)?c.children.map(function(g){return i(g,d)}).join(""):""}function o(c){return Array.isArray(c)?c.map(o).join(""):(0,e.isTag)(c)?c.name==="br"?`
    -`:o(c.children):(0,e.isCDATA)(c)?o(c.children):(0,e.isText)(c)?c.data:""}function l(c){return Array.isArray(c)?c.map(l).join(""):(0,e.hasChildren)(c)&&!(0,e.isComment)(c)?l(c.children):(0,e.isText)(c)?c.data:""}function f(c){return Array.isArray(c)?c.map(f).join(""):(0,e.hasChildren)(c)&&(c.type===r.ElementType.Tag||(0,e.isCDATA)(c))?f(c.children):(0,e.isText)(c)?c.data:""}return Ts}var Ji={},D3;function nQ(){if(D3)return Ji;D3=1,Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.getChildren=e,Ji.getParent=n,Ji.getSiblings=r,Ji.getAttributeValue=i,Ji.hasAttrib=s,Ji.getName=o,Ji.nextElementSibling=l,Ji.prevElementSibling=f;var t=Po();function e(c){return(0,t.hasChildren)(c)?c.children:[]}function n(c){return c.parent||null}function r(c){var d,g,p=n(c);if(p!=null)return e(p);for(var x=[c],_=c.prev,b=c.next;_!=null;)x.unshift(_),d=_,_=d.prev;for(;b!=null;)x.push(b),g=b,b=g.next;return x}function i(c,d){var g;return(g=c.attribs)===null||g===void 0?void 0:g[d]}function s(c,d){return c.attribs!=null&&Object.prototype.hasOwnProperty.call(c.attribs,d)&&c.attribs[d]!=null}function o(c){return c.name}function l(c){for(var d,g=c.next;g!==null&&!(0,t.isTag)(g);)d=g,g=d.next;return g}function f(c){for(var d,g=c.prev;g!==null&&!(0,t.isTag)(g);)d=g,g=d.prev;return g}return Ji}var la={},M3;function rQ(){if(M3)return la;M3=1,Object.defineProperty(la,"__esModule",{value:!0}),la.removeElement=t,la.replaceElement=e,la.appendChild=n,la.append=r,la.prependChild=i,la.prepend=s;function t(o){if(o.prev&&(o.prev.next=o.next),o.next&&(o.next.prev=o.prev),o.parent){var l=o.parent.children,f=l.lastIndexOf(o);f>=0&&l.splice(f,1)}o.next=null,o.prev=null,o.parent=null}function e(o,l){var f=l.prev=o.prev;f&&(f.next=l);var c=l.next=o.next;c&&(c.prev=l);var d=l.parent=o.parent;if(d){var g=d.children;g[g.lastIndexOf(o)]=l,o.parent=null}}function n(o,l){if(t(l),l.next=null,l.parent=o,o.children.push(l)>1){var f=o.children[o.children.length-2];f.next=l,l.prev=f}else l.prev=null}function r(o,l){t(l);var f=o.parent,c=o.next;if(l.next=c,l.prev=o,o.next=l,l.parent=f,c){if(c.prev=l,f){var d=f.children;d.splice(d.lastIndexOf(c),0,l)}}else f&&f.children.push(l)}function i(o,l){if(t(l),l.parent=o,l.prev=null,o.children.unshift(l)!==1){var f=o.children[1];f.prev=l,l.next=f}else l.next=null}function s(o,l){t(l);var f=o.parent;if(f){var c=f.children;c.splice(c.indexOf(o),0,l)}o.prev&&(o.prev.next=l),l.parent=f,l.prev=o.prev,l.next=o,o.prev=l}return la}var ca={},P3;function vR(){if(P3)return ca;P3=1,Object.defineProperty(ca,"__esModule",{value:!0}),ca.filter=e,ca.find=n,ca.findOneChild=r,ca.findOne=i,ca.existsOne=s,ca.findAll=o;var t=Po();function e(l,f,c,d){return c===void 0&&(c=!0),d===void 0&&(d=1/0),n(l,Array.isArray(f)?f:[f],c,d)}function n(l,f,c,d){for(var g=[],p=[Array.isArray(f)?f:[f]],x=[0];;){if(x[0]>=p[0].length){if(x.length===1)return g;p.shift(),x.shift();continue}var _=p[0][x[0]++];if(l(_)&&(g.push(_),--d<=0))return g;c&&(0,t.hasChildren)(_)&&_.children.length>0&&(x.unshift(0),p.unshift(_.children))}}function r(l,f){return f.find(l)}function i(l,f,c){c===void 0&&(c=!0);for(var d=Array.isArray(f)?f:[f],g=0;g<d.length;g++){var p=d[g];if((0,t.isTag)(p)&&l(p))return p;if(c&&(0,t.hasChildren)(p)&&p.children.length>0){var x=i(l,p.children,!0);if(x)return x}}return null}function s(l,f){return(Array.isArray(f)?f:[f]).some(function(c){return(0,t.isTag)(c)&&l(c)||(0,t.hasChildren)(c)&&s(l,c.children)})}function o(l,f){for(var c=[],d=[Array.isArray(f)?f:[f]],g=[0];;){if(g[0]>=d[0].length){if(d.length===1)return c;d.shift(),g.shift();continue}var p=d[0][g[0]++];(0,t.isTag)(p)&&l(p)&&c.push(p),(0,t.hasChildren)(p)&&p.children.length>0&&(g.unshift(0),d.unshift(p.children))}}return ca}var fa={},L3;function _R(){if(L3)return fa;L3=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.testElement=o,fa.getElements=l,fa.getElementById=f,fa.getElementsByTagName=c,fa.getElementsByClassName=d,fa.getElementsByTagType=g;var t=Po(),e=vR(),n={tag_name:function(p){return typeof p=="function"?function(x){return(0,t.isTag)(x)&&p(x.name)}:p==="*"?t.isTag:function(x){return(0,t.isTag)(x)&&x.name===p}},tag_type:function(p){return typeof p=="function"?function(x){return p(x.type)}:function(x){return x.type===p}},tag_contains:function(p){return typeof p=="function"?function(x){return(0,t.isText)(x)&&p(x.data)}:function(x){return(0,t.isText)(x)&&x.data===p}}};function r(p,x){return typeof x=="function"?function(_){return(0,t.isTag)(_)&&x(_.attribs[p])}:function(_){return(0,t.isTag)(_)&&_.attribs[p]===x}}function i(p,x){return function(_){return p(_)||x(_)}}function s(p){var x=Object.keys(p).map(function(_){var b=p[_];return Object.prototype.hasOwnProperty.call(n,_)?n[_](b):r(_,b)});return x.length===0?null:x.reduce(i)}function o(p,x){var _=s(p);return _?_(x):!0}function l(p,x,_,b){b===void 0&&(b=1/0);var C=s(p);return C?(0,e.filter)(C,x,_,b):[]}function f(p,x,_){return _===void 0&&(_=!0),Array.isArray(x)||(x=[x]),(0,e.findOne)(r("id",p),x,_)}function c(p,x,_,b){return _===void 0&&(_=!0),b===void 0&&(b=1/0),(0,e.filter)(n.tag_name(p),x,_,b)}function d(p,x,_,b){return _===void 0&&(_=!0),b===void 0&&(b=1/0),(0,e.filter)(r("class",p),x,_,b)}function g(p,x,_,b){return _===void 0&&(_=!0),b===void 0&&(b=1/0),(0,e.filter)(n.tag_type(p),x,_,b)}return fa}var ao={},O3;function iQ(){if(O3)return ao;O3=1,Object.defineProperty(ao,"__esModule",{value:!0}),ao.DocumentPosition=void 0,ao.removeSubsets=e,ao.compareDocumentPosition=r,ao.uniqueSort=i;var t=Po();function e(s){for(var o=s.length;--o>=0;){var l=s[o];if(o>0&&s.lastIndexOf(l,o-1)>=0){s.splice(o,1);continue}for(var f=l.parent;f;f=f.parent)if(s.includes(f)){s.splice(o,1);break}}return s}var n;(function(s){s[s.DISCONNECTED=1]="DISCONNECTED",s[s.PRECEDING=2]="PRECEDING",s[s.FOLLOWING=4]="FOLLOWING",s[s.CONTAINS=8]="CONTAINS",s[s.CONTAINED_BY=16]="CONTAINED_BY"})(n||(ao.DocumentPosition=n={}));function r(s,o){var l=[],f=[];if(s===o)return 0;for(var c=(0,t.hasChildren)(s)?s:s.parent;c;)l.unshift(c),c=c.parent;for(c=(0,t.hasChildren)(o)?o:o.parent;c;)f.unshift(c),c=c.parent;for(var d=Math.min(l.length,f.length),g=0;g<d&&l[g]===f[g];)g++;if(g===0)return n.DISCONNECTED;var p=l[g-1],x=p.children,_=l[g],b=f[g];return x.indexOf(_)>x.indexOf(b)?p===o?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:p===s?n.PRECEDING|n.CONTAINS:n.PRECEDING}function i(s){return s=s.filter(function(o,l,f){return!f.includes(o,l+1)}),s.sort(function(o,l){var f=r(o,l);return f&n.PRECEDING?-1:f&n.FOLLOWING?1:0}),s}return ao}var Nd={},F3;function sQ(){if(F3)return Nd;F3=1,Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.getFeed=n;var t=yR(),e=_R();function n(p){var x=f(g,p);return x?x.name==="feed"?r(x):i(x):null}function r(p){var x,_=p.children,b={type:"atom",items:(0,e.getElementsByTagName)("entry",_).map(function(M){var A,P=M.children,D={media:l(P)};d(D,"id","id",P),d(D,"title","title",P);var V=(A=f("link",P))===null||A===void 0?void 0:A.attribs.href;V&&(D.link=V);var N=c("summary",P)||c("content",P);N&&(D.description=N);var k=c("updated",P);return k&&(D.pubDate=new Date(k)),D})};d(b,"id","id",_),d(b,"title","title",_);var C=(x=f("link",_))===null||x===void 0?void 0:x.attribs.href;C&&(b.link=C),d(b,"description","subtitle",_);var I=c("updated",_);return I&&(b.updated=new Date(I)),d(b,"author","email",_,!0),b}function i(p){var x,_,b=(_=(x=f("channel",p.children))===null||x===void 0?void 0:x.children)!==null&&_!==void 0?_:[],C={type:p.name.substr(0,3),id:"",items:(0,e.getElementsByTagName)("item",p.children).map(function(M){var A=M.children,P={media:l(A)};d(P,"id","guid",A),d(P,"title","title",A),d(P,"link","link",A),d(P,"description","description",A);var D=c("pubDate",A)||c("dc:date",A);return D&&(P.pubDate=new Date(D)),P})};d(C,"title","title",b),d(C,"link","link",b),d(C,"description","description",b);var I=c("lastBuildDate",b);return I&&(C.updated=new Date(I)),d(C,"author","managingEditor",b,!0),C}var s=["url","type","lang"],o=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function l(p){return(0,e.getElementsByTagName)("media:content",p).map(function(x){for(var _=x.attribs,b={medium:_.medium,isDefault:!!_.isDefault},C=0,I=s;C<I.length;C++){var M=I[C];_[M]&&(b[M]=_[M])}for(var A=0,P=o;A<P.length;A++){var M=P[A];_[M]&&(b[M]=parseInt(_[M],10))}return _.expression&&(b.expression=_.expression),b})}function f(p,x){return(0,e.getElementsByTagName)(p,x,!0,1)[0]}function c(p,x,_){return _===void 0&&(_=!1),(0,t.textContent)((0,e.getElementsByTagName)(p,x,_,1)).trim()}function d(p,x,_,b,C){C===void 0&&(C=!1);var I=c(_,b,C);I&&(p[x]=I)}function g(p){return p==="rss"||p==="feed"||p==="rdf:RDF"}return Nd}var U3;function tx(){return U3||(U3=1,(function(t){var e=gu&&gu.__createBinding||(Object.create?(function(i,s,o,l){l===void 0&&(l=o);var f=Object.getOwnPropertyDescriptor(s,o);(!f||("get"in f?!s.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,l,f)}):(function(i,s,o,l){l===void 0&&(l=o),i[l]=s[o]})),n=gu&&gu.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,i,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isDocument=t.isComment=t.isText=t.isCDATA=t.isTag=void 0,n(yR(),t),n(nQ(),t),n(rQ(),t),n(vR(),t),n(_R(),t),n(iQ(),t),n(sQ(),t);var r=Po();Object.defineProperty(t,"isTag",{enumerable:!0,get:function(){return r.isTag}}),Object.defineProperty(t,"isCDATA",{enumerable:!0,get:function(){return r.isCDATA}}),Object.defineProperty(t,"isText",{enumerable:!0,get:function(){return r.isText}}),Object.defineProperty(t,"isComment",{enumerable:!0,get:function(){return r.isComment}}),Object.defineProperty(t,"isDocument",{enumerable:!0,get:function(){return r.isDocument}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return r.hasChildren}})})(gu)),gu}var V3;function aQ(){return V3||(V3=1,(function(t){var e=Ki&&Ki.__createBinding||(Object.create?(function(I,M,A,P){P===void 0&&(P=A);var D=Object.getOwnPropertyDescriptor(M,A);(!D||("get"in D?!M.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return M[A]}}),Object.defineProperty(I,P,D)}):(function(I,M,A,P){P===void 0&&(P=A),I[P]=M[A]})),n=Ki&&Ki.__setModuleDefault||(Object.create?(function(I,M){Object.defineProperty(I,"default",{enumerable:!0,value:M})}):function(I,M){I.default=M}),r=Ki&&Ki.__importStar||function(I){if(I&&I.__esModule)return I;var M={};if(I!=null)for(var A in I)A!=="default"&&Object.prototype.hasOwnProperty.call(I,A)&&e(M,I,A);return n(M,I),M},i=Ki&&Ki.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DefaultHandler=t.DomHandler=t.Parser=void 0;var s=v3(),o=v3();Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return o.Parser}});var l=Po(),f=Po();Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return f.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return f.DomHandler}});function c(I,M){var A=new l.DomHandler(void 0,M);return new s.Parser(A,M).end(I),A.root}t.parseDocument=c;function d(I,M){return c(I,M).children}t.parseDOM=d;function g(I,M,A){var P=new l.DomHandler(I,M,A);return new s.Parser(P,M)}t.createDomStream=g;var p=xR();Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return i(p).default}}),t.ElementType=r(j0());var x=tx(),_=tx();Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return _.getFeed}});var b={xmlMode:!0};function C(I,M){return M===void 0&&(M=b),(0,x.getFeed)(d(I,M))}t.parseFeed=C,t.DomUtils=r(tx())})(Ki)),Ki}var nx,B3;function oQ(){return B3||(B3=1,nx=t=>{if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}),nx}var Dd={},q3;function uQ(){if(q3)return Dd;q3=1,Object.defineProperty(Dd,"__esModule",{value:!0});/*!
    +`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${bs(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){let r=this.parser.parseInline(n),i=f3(t);if(i===null)return r;t=i;let s='<a href="'+t+'"';return e&&(s+=' title="'+bs(e)+'"'),s+=">"+r+"</a>",s}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let i=f3(t);if(i===null)return bs(n);t=i;let s=`<img src="${t}" alt="${n}"`;return e&&(s+=` title="${bs(e)}"`),s+=">",s}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:bs(t.text)}},v_=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Zi=class Ny{constructor(e){ln(this,"options");ln(this,"renderer");ln(this,"textRenderer");this.options=e||Yu,this.options.renderer=this.options.renderer||new Op,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new v_}static parse(e,n){return new Ny(n).parse(e)}static parseInline(e,n){return new Ny(n).parseInline(e)}parse(e,n=!0){var i,s;let r="";for(let o=0;o<e.length;o++){let l=e[o];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[l.type]){let c=l,d=this.options.extensions.renderers[c.type].call({parser:this},c);if(d!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(c.type)){r+=d||"";continue}}let f=l;switch(f.type){case"space":{r+=this.renderer.space(f);continue}case"hr":{r+=this.renderer.hr(f);continue}case"heading":{r+=this.renderer.heading(f);continue}case"code":{r+=this.renderer.code(f);continue}case"table":{r+=this.renderer.table(f);continue}case"blockquote":{r+=this.renderer.blockquote(f);continue}case"list":{r+=this.renderer.list(f);continue}case"html":{r+=this.renderer.html(f);continue}case"def":{r+=this.renderer.def(f);continue}case"paragraph":{r+=this.renderer.paragraph(f);continue}case"text":{let c=f,d=this.renderer.text(c);for(;o+1<e.length&&e[o+1].type==="text";)c=e[++o],d+=`
    +`+this.renderer.text(c);n?r+=this.renderer.paragraph({type:"paragraph",raw:d,text:d,tokens:[{type:"text",raw:d,text:d,escaped:!0}]}):r+=d;continue}default:{let c='Token with "'+f.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}parseInline(e,n=this.renderer){var i,s;let r="";for(let o=0;o<e.length;o++){let l=e[o];if((s=(i=this.options.extensions)==null?void 0:i.renderers)!=null&&s[l.type]){let c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){r+=c||"";continue}}let f=l;switch(f.type){case"escape":{r+=n.text(f);break}case"html":{r+=n.html(f);break}case"link":{r+=n.link(f);break}case"image":{r+=n.image(f);break}case"strong":{r+=n.strong(f);break}case"em":{r+=n.em(f);break}case"codespan":{r+=n.codespan(f);break}case"br":{r+=n.br(f);break}case"del":{r+=n.del(f);break}case"text":{r+=n.text(f);break}default:{let c='Token with "'+f.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},Od,Uf=(Od=class{constructor(t){ln(this,"options");ln(this,"block");this.options=t||Yu}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?Qi.lex:Qi.lexInline}provideParser(){return this.block?Zi.parse:Zi.parseInline}},ln(Od,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens","emStrongMask"])),ln(Od,"passThroughHooksRespectAsync",new Set(["preprocess","postprocess","processAllTokens"])),Od),eQ=class{constructor(...t){ln(this,"defaults",f_());ln(this,"options",this.setOptions);ln(this,"parse",this.parseMarkdown(!0));ln(this,"parseInline",this.parseMarkdown(!1));ln(this,"Parser",Zi);ln(this,"Renderer",Op);ln(this,"TextRenderer",v_);ln(this,"Lexer",Qi);ln(this,"Tokenizer",Lp);ln(this,"Hooks",Uf);this.use(...t)}walkTokens(t,e){var r,i;let n=[];for(let s of t)switch(n=n.concat(e.call(this,s)),s.type){case"table":{let o=s;for(let l of o.header)n=n.concat(this.walkTokens(l.tokens,e));for(let l of o.rows)for(let f of l)n=n.concat(this.walkTokens(f.tokens,e));break}case"list":{let o=s;n=n.concat(this.walkTokens(o.items,e));break}default:{let o=s;(i=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&i[o.type]?this.defaults.extensions.childTokens[o.type].forEach(l=>{let f=o[l].flat(1/0);n=n.concat(this.walkTokens(f,e))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,e)))}}return n}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){let s=e.renderers[i.name];s?e.renderers[i.name]=function(...o){let l=i.renderer.apply(this,o);return l===!1&&(l=s.apply(this,o)),l}:e.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=e[i.level];s?s.unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),r.extensions=e),n.renderer){let i=this.defaults.renderer||new Op(this.defaults);for(let s in n.renderer){if(!(s in i))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let o=s,l=n.renderer[o],f=i[o];i[o]=(...c)=>{let d=l.apply(i,c);return d===!1&&(d=f.apply(i,c)),d||""}}r.renderer=i}if(n.tokenizer){let i=this.defaults.tokenizer||new Lp(this.defaults);for(let s in n.tokenizer){if(!(s in i))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let o=s,l=n.tokenizer[o],f=i[o];i[o]=(...c)=>{let d=l.apply(i,c);return d===!1&&(d=f.apply(i,c)),d}}r.tokenizer=i}if(n.hooks){let i=this.defaults.hooks||new Uf;for(let s in n.hooks){if(!(s in i))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let o=s,l=n.hooks[o],f=i[o];Uf.passThroughHooks.has(s)?i[o]=c=>{if(this.defaults.async&&Uf.passThroughHooksRespectAsync.has(s))return(async()=>{let g=await l.call(i,c);return f.call(i,g)})();let d=l.call(i,c);return f.call(i,d)}:i[o]=(...c)=>{if(this.defaults.async)return(async()=>{let g=await l.apply(i,c);return g===!1&&(g=await f.apply(i,c)),g})();let d=l.apply(i,c);return d===!1&&(d=f.apply(i,c)),d}}r.hooks=i}if(n.walkTokens){let i=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(o){let l=[];return l.push(s.call(this,o)),i&&(l=l.concat(i.call(this,o))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Qi.lex(t,e??this.defaults)}parser(t,e){return Zi.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{let r={...n},i={...this.defaults,...r},s=this.onError(!!i.silent,!!i.async);if(this.defaults.async===!0&&r.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(i.hooks&&(i.hooks.options=i,i.hooks.block=t),i.async)return(async()=>{let o=i.hooks?await i.hooks.preprocess(e):e,l=await(i.hooks?await i.hooks.provideLexer():t?Qi.lex:Qi.lexInline)(o,i),f=i.hooks?await i.hooks.processAllTokens(l):l;i.walkTokens&&await Promise.all(this.walkTokens(f,i.walkTokens));let c=await(i.hooks?await i.hooks.provideParser():t?Zi.parse:Zi.parseInline)(f,i);return i.hooks?await i.hooks.postprocess(c):c})().catch(s);try{i.hooks&&(e=i.hooks.preprocess(e));let o=(i.hooks?i.hooks.provideLexer():t?Qi.lex:Qi.lexInline)(e,i);i.hooks&&(o=i.hooks.processAllTokens(o)),i.walkTokens&&this.walkTokens(o,i.walkTokens);let l=(i.hooks?i.hooks.provideParser():t?Zi.parse:Zi.parseInline)(o,i);return i.hooks&&(l=i.hooks.postprocess(l)),l}catch(o){return s(o)}}}onError(t,e){return n=>{if(n.message+=`
    +Please report this to https://github.com/markedjs/marked.`,t){let r="<p>An error occurred:</p><pre>"+bs(n.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(n);throw n}}},Lu=new eQ;function $t(t,e){return Lu.parse(t,e)}$t.options=$t.setOptions=function(t){return Lu.setOptions(t),$t.defaults=Lu.defaults,fR($t.defaults),$t};$t.getDefaults=f_;$t.defaults=Yu;$t.use=function(...t){return Lu.use(...t),$t.defaults=Lu.defaults,fR($t.defaults),$t};$t.walkTokens=function(t,e){return Lu.walkTokens(t,e)};$t.parseInline=Lu.parseInline;$t.Parser=Zi;$t.parser=Zi.parse;$t.Renderer=Op;$t.TextRenderer=v_;$t.Lexer=Qi;$t.lexer=Qi.lex;$t.Tokenizer=Lp;$t.Hooks=Uf;$t.parse=$t;$t.options;$t.setOptions;$t.use;$t.walkTokens;$t.parseInline;Zi.parse;Qi.lex;var Ki={},Yi={},Z1={},Xi={},kd={},p3;function tQ(){return p3||(p3=1,Object.defineProperty(kd,"__esModule",{value:!0}),kd.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(t){return t.charCodeAt(0)}))),kd}var Rd={},m3;function nQ(){return m3||(m3=1,Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(t){return t.charCodeAt(0)}))),Rd}var ex={},g3;function x3(){return g3||(g3=1,(function(t){var e;Object.defineProperty(t,"__esModule",{value:!0}),t.replaceCodePoint=t.fromCodePoint=void 0;var n=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);t.fromCodePoint=(e=String.fromCodePoint)!==null&&e!==void 0?e:function(s){var o="";return s>65535&&(s-=65536,o+=String.fromCharCode(s>>>10&1023|55296),s=56320|s&1023),o+=String.fromCharCode(s),o};function r(s){var o;return s>=55296&&s<=57343||s>1114111?65533:(o=n.get(s))!==null&&o!==void 0?o:s}t.replaceCodePoint=r;function i(s){return(0,t.fromCodePoint)(r(s))}t.default=i})(ex)),ex}var y3;function Fp(){return y3||(y3=1,(function(t){var e=Xi&&Xi.__createBinding||(Object.create?(function(L,F,q,ce){ce===void 0&&(ce=q);var oe=Object.getOwnPropertyDescriptor(F,q);(!oe||("get"in oe?!F.__esModule:oe.writable||oe.configurable))&&(oe={enumerable:!0,get:function(){return F[q]}}),Object.defineProperty(L,ce,oe)}):(function(L,F,q,ce){ce===void 0&&(ce=q),L[ce]=F[q]})),n=Xi&&Xi.__setModuleDefault||(Object.create?(function(L,F){Object.defineProperty(L,"default",{enumerable:!0,value:F})}):function(L,F){L.default=F}),r=Xi&&Xi.__importStar||function(L){if(L&&L.__esModule)return L;var F={};if(L!=null)for(var q in L)q!=="default"&&Object.prototype.hasOwnProperty.call(L,q)&&e(F,L,q);return n(F,L),F},i=Xi&&Xi.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXML=t.decodeHTMLStrict=t.decodeHTMLAttribute=t.decodeHTML=t.determineBranch=t.EntityDecoder=t.DecodingMode=t.BinTrieFlags=t.fromCodePoint=t.replaceCodePoint=t.decodeCodePoint=t.xmlDecodeTree=t.htmlDecodeTree=void 0;var s=i(tQ());t.htmlDecodeTree=s.default;var o=i(nQ());t.xmlDecodeTree=o.default;var l=r(x3());t.decodeCodePoint=l.default;var f=x3();Object.defineProperty(t,"replaceCodePoint",{enumerable:!0,get:function(){return f.replaceCodePoint}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return f.fromCodePoint}});var c;(function(L){L[L.NUM=35]="NUM",L[L.SEMI=59]="SEMI",L[L.EQUALS=61]="EQUALS",L[L.ZERO=48]="ZERO",L[L.NINE=57]="NINE",L[L.LOWER_A=97]="LOWER_A",L[L.LOWER_F=102]="LOWER_F",L[L.LOWER_X=120]="LOWER_X",L[L.LOWER_Z=122]="LOWER_Z",L[L.UPPER_A=65]="UPPER_A",L[L.UPPER_F=70]="UPPER_F",L[L.UPPER_Z=90]="UPPER_Z"})(c||(c={}));var d=32,g;(function(L){L[L.VALUE_LENGTH=49152]="VALUE_LENGTH",L[L.BRANCH_LENGTH=16256]="BRANCH_LENGTH",L[L.JUMP_TABLE=127]="JUMP_TABLE"})(g=t.BinTrieFlags||(t.BinTrieFlags={}));function p(L){return L>=c.ZERO&&L<=c.NINE}function x(L){return L>=c.UPPER_A&&L<=c.UPPER_F||L>=c.LOWER_A&&L<=c.LOWER_F}function _(L){return L>=c.UPPER_A&&L<=c.UPPER_Z||L>=c.LOWER_A&&L<=c.LOWER_Z||p(L)}function b(L){return L===c.EQUALS||_(L)}var C;(function(L){L[L.EntityStart=0]="EntityStart",L[L.NumericStart=1]="NumericStart",L[L.NumericDecimal=2]="NumericDecimal",L[L.NumericHex=3]="NumericHex",L[L.NamedEntity=4]="NamedEntity"})(C||(C={}));var I;(function(L){L[L.Legacy=0]="Legacy",L[L.Strict=1]="Strict",L[L.Attribute=2]="Attribute"})(I=t.DecodingMode||(t.DecodingMode={}));var D=(function(){function L(F,q,ce){this.decodeTree=F,this.emitCodePoint=q,this.errors=ce,this.state=C.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=I.Strict}return L.prototype.startEntity=function(F){this.decodeMode=F,this.state=C.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},L.prototype.write=function(F,q){switch(this.state){case C.EntityStart:return F.charCodeAt(q)===c.NUM?(this.state=C.NumericStart,this.consumed+=1,this.stateNumericStart(F,q+1)):(this.state=C.NamedEntity,this.stateNamedEntity(F,q));case C.NumericStart:return this.stateNumericStart(F,q);case C.NumericDecimal:return this.stateNumericDecimal(F,q);case C.NumericHex:return this.stateNumericHex(F,q);case C.NamedEntity:return this.stateNamedEntity(F,q)}},L.prototype.stateNumericStart=function(F,q){return q>=F.length?-1:(F.charCodeAt(q)|d)===c.LOWER_X?(this.state=C.NumericHex,this.consumed+=1,this.stateNumericHex(F,q+1)):(this.state=C.NumericDecimal,this.stateNumericDecimal(F,q))},L.prototype.addToNumericResult=function(F,q,ce,oe){if(q!==ce){var ae=ce-q;this.result=this.result*Math.pow(oe,ae)+parseInt(F.substr(q,ae),oe),this.consumed+=ae}},L.prototype.stateNumericHex=function(F,q){for(var ce=q;q<F.length;){var oe=F.charCodeAt(q);if(p(oe)||x(oe))q+=1;else return this.addToNumericResult(F,ce,q,16),this.emitNumericEntity(oe,3)}return this.addToNumericResult(F,ce,q,16),-1},L.prototype.stateNumericDecimal=function(F,q){for(var ce=q;q<F.length;){var oe=F.charCodeAt(q);if(p(oe))q+=1;else return this.addToNumericResult(F,ce,q,10),this.emitNumericEntity(oe,2)}return this.addToNumericResult(F,ce,q,10),-1},L.prototype.emitNumericEntity=function(F,q){var ce;if(this.consumed<=q)return(ce=this.errors)===null||ce===void 0||ce.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(F===c.SEMI)this.consumed+=1;else if(this.decodeMode===I.Strict)return 0;return this.emitCodePoint((0,l.replaceCodePoint)(this.result),this.consumed),this.errors&&(F!==c.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},L.prototype.stateNamedEntity=function(F,q){for(var ce=this.decodeTree,oe=ce[this.treeIndex],ae=(oe&g.VALUE_LENGTH)>>14;q<F.length;q++,this.excess++){var se=F.charCodeAt(q);if(this.treeIndex=P(ce,oe,this.treeIndex+Math.max(1,ae),se),this.treeIndex<0)return this.result===0||this.decodeMode===I.Attribute&&(ae===0||b(se))?0:this.emitNotTerminatedNamedEntity();if(oe=ce[this.treeIndex],ae=(oe&g.VALUE_LENGTH)>>14,ae!==0){if(se===c.SEMI)return this.emitNamedEntityData(this.treeIndex,ae,this.consumed+this.excess);this.decodeMode!==I.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},L.prototype.emitNotTerminatedNamedEntity=function(){var F,q=this,ce=q.result,oe=q.decodeTree,ae=(oe[ce]&g.VALUE_LENGTH)>>14;return this.emitNamedEntityData(ce,ae,this.consumed),(F=this.errors)===null||F===void 0||F.missingSemicolonAfterCharacterReference(),this.consumed},L.prototype.emitNamedEntityData=function(F,q,ce){var oe=this.decodeTree;return this.emitCodePoint(q===1?oe[F]&~g.VALUE_LENGTH:oe[F+1],ce),q===3&&this.emitCodePoint(oe[F+2],ce),ce},L.prototype.end=function(){var F;switch(this.state){case C.NamedEntity:return this.result!==0&&(this.decodeMode!==I.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case C.NumericDecimal:return this.emitNumericEntity(0,2);case C.NumericHex:return this.emitNumericEntity(0,3);case C.NumericStart:return(F=this.errors)===null||F===void 0||F.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case C.EntityStart:return 0}},L})();t.EntityDecoder=D;function A(L){var F="",q=new D(L,function(ce){return F+=(0,l.fromCodePoint)(ce)});return function(oe,ae){for(var se=0,me=0;(me=oe.indexOf("&",me))>=0;){F+=oe.slice(se,me),q.startEntity(ae);var X=q.write(oe,me+1);if(X<0){se=me+q.end();break}se=me+X,me=X===0?se+1:se}var ge=F+oe.slice(se);return F="",ge}}function P(L,F,q,ce){var oe=(F&g.BRANCH_LENGTH)>>7,ae=F&g.JUMP_TABLE;if(oe===0)return ae!==0&&ce===ae?q:-1;if(ae){var se=ce-ae;return se<0||se>=oe?-1:L[q+se]-1}for(var me=q,X=me+oe-1;me<=X;){var ge=me+X>>>1,G=L[ge];if(G<ce)me=ge+1;else if(G>ce)X=ge-1;else return L[ge+oe]}return-1}t.determineBranch=P;var M=A(s.default),U=A(o.default);function N(L,F){return F===void 0&&(F=I.Legacy),M(L,F)}t.decodeHTML=N;function k(L){return M(L,I.Attribute)}t.decodeHTMLAttribute=k;function R(L){return M(L,I.Strict)}t.decodeHTMLStrict=R;function V(L){return U(L,I.Strict)}t.decodeXML=V})(Xi)),Xi}var v3;function ER(){return v3||(v3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.QuoteType=void 0;var e=Fp(),n;(function(p){p[p.Tab=9]="Tab",p[p.NewLine=10]="NewLine",p[p.FormFeed=12]="FormFeed",p[p.CarriageReturn=13]="CarriageReturn",p[p.Space=32]="Space",p[p.ExclamationMark=33]="ExclamationMark",p[p.Number=35]="Number",p[p.Amp=38]="Amp",p[p.SingleQuote=39]="SingleQuote",p[p.DoubleQuote=34]="DoubleQuote",p[p.Dash=45]="Dash",p[p.Slash=47]="Slash",p[p.Zero=48]="Zero",p[p.Nine=57]="Nine",p[p.Semi=59]="Semi",p[p.Lt=60]="Lt",p[p.Eq=61]="Eq",p[p.Gt=62]="Gt",p[p.Questionmark=63]="Questionmark",p[p.UpperA=65]="UpperA",p[p.LowerA=97]="LowerA",p[p.UpperF=70]="UpperF",p[p.LowerF=102]="LowerF",p[p.UpperZ=90]="UpperZ",p[p.LowerZ=122]="LowerZ",p[p.LowerX=120]="LowerX",p[p.OpeningSquareBracket=91]="OpeningSquareBracket"})(n||(n={}));var r;(function(p){p[p.Text=1]="Text",p[p.BeforeTagName=2]="BeforeTagName",p[p.InTagName=3]="InTagName",p[p.InSelfClosingTag=4]="InSelfClosingTag",p[p.BeforeClosingTagName=5]="BeforeClosingTagName",p[p.InClosingTagName=6]="InClosingTagName",p[p.AfterClosingTagName=7]="AfterClosingTagName",p[p.BeforeAttributeName=8]="BeforeAttributeName",p[p.InAttributeName=9]="InAttributeName",p[p.AfterAttributeName=10]="AfterAttributeName",p[p.BeforeAttributeValue=11]="BeforeAttributeValue",p[p.InAttributeValueDq=12]="InAttributeValueDq",p[p.InAttributeValueSq=13]="InAttributeValueSq",p[p.InAttributeValueNq=14]="InAttributeValueNq",p[p.BeforeDeclaration=15]="BeforeDeclaration",p[p.InDeclaration=16]="InDeclaration",p[p.InProcessingInstruction=17]="InProcessingInstruction",p[p.BeforeComment=18]="BeforeComment",p[p.CDATASequence=19]="CDATASequence",p[p.InSpecialComment=20]="InSpecialComment",p[p.InCommentLike=21]="InCommentLike",p[p.BeforeSpecialS=22]="BeforeSpecialS",p[p.SpecialStartSequence=23]="SpecialStartSequence",p[p.InSpecialTag=24]="InSpecialTag",p[p.BeforeEntity=25]="BeforeEntity",p[p.BeforeNumericEntity=26]="BeforeNumericEntity",p[p.InNamedEntity=27]="InNamedEntity",p[p.InNumericEntity=28]="InNumericEntity",p[p.InHexEntity=29]="InHexEntity"})(r||(r={}));function i(p){return p===n.Space||p===n.NewLine||p===n.Tab||p===n.FormFeed||p===n.CarriageReturn}function s(p){return p===n.Slash||p===n.Gt||i(p)}function o(p){return p>=n.Zero&&p<=n.Nine}function l(p){return p>=n.LowerA&&p<=n.LowerZ||p>=n.UpperA&&p<=n.UpperZ}function f(p){return p>=n.UpperA&&p<=n.UpperF||p>=n.LowerA&&p<=n.LowerF}var c;(function(p){p[p.NoValue=0]="NoValue",p[p.Unquoted=1]="Unquoted",p[p.Single=2]="Single",p[p.Double=3]="Double"})(c=t.QuoteType||(t.QuoteType={}));var d={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},g=(function(){function p(x,_){var b=x.xmlMode,C=b===void 0?!1:b,I=x.decodeEntities,D=I===void 0?!0:I;this.cbs=_,this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=C,this.decodeEntities=D,this.entityTrie=C?e.xmlDecodeTree:e.htmlDecodeTree}return p.prototype.reset=function(){this.state=r.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=r.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},p.prototype.write=function(x){this.offset+=this.buffer.length,this.buffer=x,this.parse()},p.prototype.end=function(){this.running&&this.finish()},p.prototype.pause=function(){this.running=!1},p.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},p.prototype.getIndex=function(){return this.index},p.prototype.getSectionStart=function(){return this.sectionStart},p.prototype.stateText=function(x){x===n.Lt||!this.decodeEntities&&this.fastForwardTo(n.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=r.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&x===n.Amp&&(this.state=r.BeforeEntity)},p.prototype.stateSpecialStartSequence=function(x){var _=this.sequenceIndex===this.currentSequence.length,b=_?s(x):(x|32)===this.currentSequence[this.sequenceIndex];if(!b)this.isSpecial=!1;else if(!_){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=r.InTagName,this.stateInTagName(x)},p.prototype.stateInSpecialTag=function(x){if(this.sequenceIndex===this.currentSequence.length){if(x===n.Gt||i(x)){var _=this.index-this.currentSequence.length;if(this.sectionStart<_){var b=this.index;this.index=_,this.cbs.ontext(this.sectionStart,_),this.index=b}this.isSpecial=!1,this.sectionStart=_+2,this.stateInClosingTagName(x);return}this.sequenceIndex=0}(x|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===d.TitleEnd?this.decodeEntities&&x===n.Amp&&(this.state=r.BeforeEntity):this.fastForwardTo(n.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(x===n.Lt)},p.prototype.stateCDATASequence=function(x){x===d.Cdata[this.sequenceIndex]?++this.sequenceIndex===d.Cdata.length&&(this.state=r.InCommentLike,this.currentSequence=d.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=r.InDeclaration,this.stateInDeclaration(x))},p.prototype.fastForwardTo=function(x){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===x)return!0;return this.index=this.buffer.length+this.offset-1,!1},p.prototype.stateInCommentLike=function(x){x===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=r.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):x!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},p.prototype.isTagStartChar=function(x){return this.xmlMode?!s(x):l(x)},p.prototype.startSpecial=function(x,_){this.isSpecial=!0,this.currentSequence=x,this.sequenceIndex=_,this.state=r.SpecialStartSequence},p.prototype.stateBeforeTagName=function(x){if(x===n.ExclamationMark)this.state=r.BeforeDeclaration,this.sectionStart=this.index+1;else if(x===n.Questionmark)this.state=r.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(x)){var _=x|32;this.sectionStart=this.index,!this.xmlMode&&_===d.TitleEnd[2]?this.startSpecial(d.TitleEnd,3):this.state=!this.xmlMode&&_===d.ScriptEnd[2]?r.BeforeSpecialS:r.InTagName}else x===n.Slash?this.state=r.BeforeClosingTagName:(this.state=r.Text,this.stateText(x))},p.prototype.stateInTagName=function(x){s(x)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(x))},p.prototype.stateBeforeClosingTagName=function(x){i(x)||(x===n.Gt?this.state=r.Text:(this.state=this.isTagStartChar(x)?r.InClosingTagName:r.InSpecialComment,this.sectionStart=this.index))},p.prototype.stateInClosingTagName=function(x){(x===n.Gt||i(x))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterClosingTagName,this.stateAfterClosingTagName(x))},p.prototype.stateAfterClosingTagName=function(x){(x===n.Gt||this.fastForwardTo(n.Gt))&&(this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1)},p.prototype.stateBeforeAttributeName=function(x){x===n.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=r.InSpecialTag,this.sequenceIndex=0):this.state=r.Text,this.baseState=this.state,this.sectionStart=this.index+1):x===n.Slash?this.state=r.InSelfClosingTag:i(x)||(this.state=r.InAttributeName,this.sectionStart=this.index)},p.prototype.stateInSelfClosingTag=function(x){x===n.Gt?(this.cbs.onselfclosingtag(this.index),this.state=r.Text,this.baseState=r.Text,this.sectionStart=this.index+1,this.isSpecial=!1):i(x)||(this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(x))},p.prototype.stateInAttributeName=function(x){(x===n.Eq||s(x))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=r.AfterAttributeName,this.stateAfterAttributeName(x))},p.prototype.stateAfterAttributeName=function(x){x===n.Eq?this.state=r.BeforeAttributeValue:x===n.Slash||x===n.Gt?(this.cbs.onattribend(c.NoValue,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(x)):i(x)||(this.cbs.onattribend(c.NoValue,this.index),this.state=r.InAttributeName,this.sectionStart=this.index)},p.prototype.stateBeforeAttributeValue=function(x){x===n.DoubleQuote?(this.state=r.InAttributeValueDq,this.sectionStart=this.index+1):x===n.SingleQuote?(this.state=r.InAttributeValueSq,this.sectionStart=this.index+1):i(x)||(this.sectionStart=this.index,this.state=r.InAttributeValueNq,this.stateInAttributeValueNoQuotes(x))},p.prototype.handleInAttributeValue=function(x,_){x===_||!this.decodeEntities&&this.fastForwardTo(_)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(_===n.DoubleQuote?c.Double:c.Single,this.index),this.state=r.BeforeAttributeName):this.decodeEntities&&x===n.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},p.prototype.stateInAttributeValueDoubleQuotes=function(x){this.handleInAttributeValue(x,n.DoubleQuote)},p.prototype.stateInAttributeValueSingleQuotes=function(x){this.handleInAttributeValue(x,n.SingleQuote)},p.prototype.stateInAttributeValueNoQuotes=function(x){i(x)||x===n.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(c.Unquoted,this.index),this.state=r.BeforeAttributeName,this.stateBeforeAttributeName(x)):this.decodeEntities&&x===n.Amp&&(this.baseState=this.state,this.state=r.BeforeEntity)},p.prototype.stateBeforeDeclaration=function(x){x===n.OpeningSquareBracket?(this.state=r.CDATASequence,this.sequenceIndex=0):this.state=x===n.Dash?r.BeforeComment:r.InDeclaration},p.prototype.stateInDeclaration=function(x){(x===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},p.prototype.stateInProcessingInstruction=function(x){(x===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=r.Text,this.sectionStart=this.index+1)},p.prototype.stateBeforeComment=function(x){x===n.Dash?(this.state=r.InCommentLike,this.currentSequence=d.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=r.InDeclaration},p.prototype.stateInSpecialComment=function(x){(x===n.Gt||this.fastForwardTo(n.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=r.Text,this.sectionStart=this.index+1)},p.prototype.stateBeforeSpecialS=function(x){var _=x|32;_===d.ScriptEnd[3]?this.startSpecial(d.ScriptEnd,4):_===d.StyleEnd[3]?this.startSpecial(d.StyleEnd,4):(this.state=r.InTagName,this.stateInTagName(x))},p.prototype.stateBeforeEntity=function(x){this.entityExcess=1,this.entityResult=0,x===n.Number?this.state=r.BeforeNumericEntity:x===n.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=r.InNamedEntity,this.stateInNamedEntity(x))},p.prototype.stateInNamedEntity=function(x){if(this.entityExcess+=1,this.trieIndex=(0,e.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,x),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var _=this.trieCurrent&e.BinTrieFlags.VALUE_LENGTH;if(_){var b=(_>>14)-1;if(!this.allowLegacyEntity()&&x!==n.Semi)this.trieIndex+=b;else{var C=this.index-this.entityExcess+1;C>this.sectionStart&&this.emitPartial(this.sectionStart,C),this.entityResult=this.trieIndex,this.trieIndex+=b,this.entityExcess=0,this.sectionStart=this.index+1,b===0&&this.emitNamedEntity()}}},p.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var x=(this.entityTrie[this.entityResult]&e.BinTrieFlags.VALUE_LENGTH)>>14;switch(x){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~e.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},p.prototype.stateBeforeNumericEntity=function(x){(x|32)===n.LowerX?(this.entityExcess++,this.state=r.InHexEntity):(this.state=r.InNumericEntity,this.stateInNumericEntity(x))},p.prototype.emitNumericEntity=function(x){var _=this.index-this.entityExcess-1,b=_+2+ +(this.state===r.InHexEntity);b!==this.index&&(_>this.sectionStart&&this.emitPartial(this.sectionStart,_),this.sectionStart=this.index+Number(x),this.emitCodePoint((0,e.replaceCodePoint)(this.entityResult))),this.state=this.baseState},p.prototype.stateInNumericEntity=function(x){x===n.Semi?this.emitNumericEntity(!0):o(x)?(this.entityResult=this.entityResult*10+(x-n.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},p.prototype.stateInHexEntity=function(x){x===n.Semi?this.emitNumericEntity(!0):o(x)?(this.entityResult=this.entityResult*16+(x-n.Zero),this.entityExcess++):f(x)?(this.entityResult=this.entityResult*16+((x|32)-n.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},p.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===r.Text||this.baseState===r.InSpecialTag)},p.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===r.Text||this.state===r.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===r.InAttributeValueDq||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},p.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},p.prototype.parse=function(){for(;this.shouldContinue();){var x=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case r.Text:{this.stateText(x);break}case r.SpecialStartSequence:{this.stateSpecialStartSequence(x);break}case r.InSpecialTag:{this.stateInSpecialTag(x);break}case r.CDATASequence:{this.stateCDATASequence(x);break}case r.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(x);break}case r.InAttributeName:{this.stateInAttributeName(x);break}case r.InCommentLike:{this.stateInCommentLike(x);break}case r.InSpecialComment:{this.stateInSpecialComment(x);break}case r.BeforeAttributeName:{this.stateBeforeAttributeName(x);break}case r.InTagName:{this.stateInTagName(x);break}case r.InClosingTagName:{this.stateInClosingTagName(x);break}case r.BeforeTagName:{this.stateBeforeTagName(x);break}case r.AfterAttributeName:{this.stateAfterAttributeName(x);break}case r.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(x);break}case r.BeforeAttributeValue:{this.stateBeforeAttributeValue(x);break}case r.BeforeClosingTagName:{this.stateBeforeClosingTagName(x);break}case r.AfterClosingTagName:{this.stateAfterClosingTagName(x);break}case r.BeforeSpecialS:{this.stateBeforeSpecialS(x);break}case r.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(x);break}case r.InSelfClosingTag:{this.stateInSelfClosingTag(x);break}case r.InDeclaration:{this.stateInDeclaration(x);break}case r.BeforeDeclaration:{this.stateBeforeDeclaration(x);break}case r.BeforeComment:{this.stateBeforeComment(x);break}case r.InProcessingInstruction:{this.stateInProcessingInstruction(x);break}case r.InNamedEntity:{this.stateInNamedEntity(x);break}case r.BeforeEntity:{this.stateBeforeEntity(x);break}case r.InHexEntity:{this.stateInHexEntity(x);break}case r.InNumericEntity:{this.stateInNumericEntity(x);break}default:this.stateBeforeNumericEntity(x)}this.index++}this.cleanup()},p.prototype.finish=function(){this.state===r.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},p.prototype.handleTrailingData=function(){var x=this.buffer.length+this.offset;this.state===r.InCommentLike?this.currentSequence===d.CdataEnd?this.cbs.oncdata(this.sectionStart,x,0):this.cbs.oncomment(this.sectionStart,x,0):this.state===r.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===r.InTagName||this.state===r.BeforeAttributeName||this.state===r.BeforeAttributeValue||this.state===r.AfterAttributeName||this.state===r.InAttributeName||this.state===r.InAttributeValueSq||this.state===r.InAttributeValueDq||this.state===r.InAttributeValueNq||this.state===r.InClosingTagName||this.cbs.ontext(this.sectionStart,x)},p.prototype.emitPartial=function(x,_){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribdata(x,_):this.cbs.ontext(x,_)},p.prototype.emitCodePoint=function(x){this.baseState!==r.Text&&this.baseState!==r.InSpecialTag?this.cbs.onattribentity(x):this.cbs.ontextentity(x)},p})();t.default=g})(Z1)),Z1}var _3;function T3(){if(_3)return Yi;_3=1;var t=Yi&&Yi.__createBinding||(Object.create?(function(C,I,D,A){A===void 0&&(A=D);var P=Object.getOwnPropertyDescriptor(I,D);(!P||("get"in P?!I.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return I[D]}}),Object.defineProperty(C,A,P)}):(function(C,I,D,A){A===void 0&&(A=D),C[A]=I[D]})),e=Yi&&Yi.__setModuleDefault||(Object.create?(function(C,I){Object.defineProperty(C,"default",{enumerable:!0,value:I})}):function(C,I){C.default=I}),n=Yi&&Yi.__importStar||function(C){if(C&&C.__esModule)return C;var I={};if(C!=null)for(var D in C)D!=="default"&&Object.prototype.hasOwnProperty.call(C,D)&&t(I,C,D);return e(I,C),I};Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.Parser=void 0;var r=n(ER()),i=Fp(),s=new Set(["input","option","optgroup","select","button","datalist","textarea"]),o=new Set(["p"]),l=new Set(["thead","tbody"]),f=new Set(["dd","dt"]),c=new Set(["rt","rp"]),d=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",o],["h1",o],["h2",o],["h3",o],["h4",o],["h5",o],["h6",o],["select",s],["input",s],["output",s],["button",s],["datalist",s],["textarea",s],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",f],["dt",f],["address",o],["article",o],["aside",o],["blockquote",o],["details",o],["div",o],["dl",o],["fieldset",o],["figcaption",o],["figure",o],["footer",o],["form",o],["header",o],["hr",o],["main",o],["nav",o],["ol",o],["pre",o],["section",o],["table",o],["ul",o],["rt",c],["rp",c],["tbody",l],["tfoot",l]]),g=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),p=new Set(["math","svg"]),x=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),_=/\s|\//,b=(function(){function C(I,D){D===void 0&&(D={});var A,P,M,U,N;this.options=D,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=I??{},this.lowerCaseTagNames=(A=D.lowerCaseTags)!==null&&A!==void 0?A:!D.xmlMode,this.lowerCaseAttributeNames=(P=D.lowerCaseAttributeNames)!==null&&P!==void 0?P:!D.xmlMode,this.tokenizer=new((M=D.Tokenizer)!==null&&M!==void 0?M:r.default)(this.options,this),(N=(U=this.cbs).onparserinit)===null||N===void 0||N.call(U,this)}return C.prototype.ontext=function(I,D){var A,P,M=this.getSlice(I,D);this.endIndex=D-1,(P=(A=this.cbs).ontext)===null||P===void 0||P.call(A,M),this.startIndex=D},C.prototype.ontextentity=function(I){var D,A,P=this.tokenizer.getSectionStart();this.endIndex=P-1,(A=(D=this.cbs).ontext)===null||A===void 0||A.call(D,(0,i.fromCodePoint)(I)),this.startIndex=P},C.prototype.isVoidElement=function(I){return!this.options.xmlMode&&g.has(I)},C.prototype.onopentagname=function(I,D){this.endIndex=D;var A=this.getSlice(I,D);this.lowerCaseTagNames&&(A=A.toLowerCase()),this.emitOpenTag(A)},C.prototype.emitOpenTag=function(I){var D,A,P,M;this.openTagStart=this.startIndex,this.tagname=I;var U=!this.options.xmlMode&&d.get(I);if(U)for(;this.stack.length>0&&U.has(this.stack[this.stack.length-1]);){var N=this.stack.pop();(A=(D=this.cbs).onclosetag)===null||A===void 0||A.call(D,N,!0)}this.isVoidElement(I)||(this.stack.push(I),p.has(I)?this.foreignContext.push(!0):x.has(I)&&this.foreignContext.push(!1)),(M=(P=this.cbs).onopentagname)===null||M===void 0||M.call(P,I),this.cbs.onopentag&&(this.attribs={})},C.prototype.endOpenTag=function(I){var D,A;this.startIndex=this.openTagStart,this.attribs&&((A=(D=this.cbs).onopentag)===null||A===void 0||A.call(D,this.tagname,this.attribs,I),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},C.prototype.onopentagend=function(I){this.endIndex=I,this.endOpenTag(!1),this.startIndex=I+1},C.prototype.onclosetag=function(I,D){var A,P,M,U,N,k;this.endIndex=D;var R=this.getSlice(I,D);if(this.lowerCaseTagNames&&(R=R.toLowerCase()),(p.has(R)||x.has(R))&&this.foreignContext.pop(),this.isVoidElement(R))!this.options.xmlMode&&R==="br"&&((P=(A=this.cbs).onopentagname)===null||P===void 0||P.call(A,"br"),(U=(M=this.cbs).onopentag)===null||U===void 0||U.call(M,"br",{},!0),(k=(N=this.cbs).onclosetag)===null||k===void 0||k.call(N,"br",!1));else{var V=this.stack.lastIndexOf(R);if(V!==-1)if(this.cbs.onclosetag)for(var L=this.stack.length-V;L--;)this.cbs.onclosetag(this.stack.pop(),L!==0);else this.stack.length=V;else!this.options.xmlMode&&R==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=D+1},C.prototype.onselfclosingtag=function(I){this.endIndex=I,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=I+1):this.onopentagend(I)},C.prototype.closeCurrentTag=function(I){var D,A,P=this.tagname;this.endOpenTag(I),this.stack[this.stack.length-1]===P&&((A=(D=this.cbs).onclosetag)===null||A===void 0||A.call(D,P,!I),this.stack.pop())},C.prototype.onattribname=function(I,D){this.startIndex=I;var A=this.getSlice(I,D);this.attribname=this.lowerCaseAttributeNames?A.toLowerCase():A},C.prototype.onattribdata=function(I,D){this.attribvalue+=this.getSlice(I,D)},C.prototype.onattribentity=function(I){this.attribvalue+=(0,i.fromCodePoint)(I)},C.prototype.onattribend=function(I,D){var A,P;this.endIndex=D,(P=(A=this.cbs).onattribute)===null||P===void 0||P.call(A,this.attribname,this.attribvalue,I===r.QuoteType.Double?'"':I===r.QuoteType.Single?"'":I===r.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},C.prototype.getInstructionName=function(I){var D=I.search(_),A=D<0?I:I.substr(0,D);return this.lowerCaseTagNames&&(A=A.toLowerCase()),A},C.prototype.ondeclaration=function(I,D){this.endIndex=D;var A=this.getSlice(I,D);if(this.cbs.onprocessinginstruction){var P=this.getInstructionName(A);this.cbs.onprocessinginstruction("!".concat(P),"!".concat(A))}this.startIndex=D+1},C.prototype.onprocessinginstruction=function(I,D){this.endIndex=D;var A=this.getSlice(I,D);if(this.cbs.onprocessinginstruction){var P=this.getInstructionName(A);this.cbs.onprocessinginstruction("?".concat(P),"?".concat(A))}this.startIndex=D+1},C.prototype.oncomment=function(I,D,A){var P,M,U,N;this.endIndex=D,(M=(P=this.cbs).oncomment)===null||M===void 0||M.call(P,this.getSlice(I,D-A)),(N=(U=this.cbs).oncommentend)===null||N===void 0||N.call(U),this.startIndex=D+1},C.prototype.oncdata=function(I,D,A){var P,M,U,N,k,R,V,L,F,q;this.endIndex=D;var ce=this.getSlice(I,D-A);this.options.xmlMode||this.options.recognizeCDATA?((M=(P=this.cbs).oncdatastart)===null||M===void 0||M.call(P),(N=(U=this.cbs).ontext)===null||N===void 0||N.call(U,ce),(R=(k=this.cbs).oncdataend)===null||R===void 0||R.call(k)):((L=(V=this.cbs).oncomment)===null||L===void 0||L.call(V,"[CDATA[".concat(ce,"]]")),(q=(F=this.cbs).oncommentend)===null||q===void 0||q.call(F)),this.startIndex=D+1},C.prototype.onend=function(){var I,D;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var A=this.stack.length;A>0;this.cbs.onclosetag(this.stack[--A],!0));}(D=(I=this.cbs).onend)===null||D===void 0||D.call(I)},C.prototype.reset=function(){var I,D,A,P;(D=(I=this.cbs).onreset)===null||D===void 0||D.call(I),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(P=(A=this.cbs).onparserinit)===null||P===void 0||P.call(A,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},C.prototype.parseComplete=function(I){this.reset(),this.end(I)},C.prototype.getSlice=function(I,D){for(;I-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var A=this.buffers[0].slice(I-this.bufferOffset,D-this.bufferOffset);D-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),A+=this.buffers[0].slice(0,D-this.bufferOffset);return A},C.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},C.prototype.write=function(I){var D,A;if(this.ended){(A=(D=this.cbs).onerror)===null||A===void 0||A.call(D,new Error(".write() after done!"));return}this.buffers.push(I),this.tokenizer.running&&(this.tokenizer.write(I),this.writeIndex++)},C.prototype.end=function(I){var D,A;if(this.ended){(A=(D=this.cbs).onerror)===null||A===void 0||A.call(D,new Error(".end() after done!"));return}I&&this.write(I),this.ended=!0,this.tokenizer.end()},C.prototype.pause=function(){this.tokenizer.pause()},C.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},C.prototype.parseChunk=function(I){this.write(I)},C.prototype.done=function(I){this.end(I)},C})();return Yi.Parser=b,Yi}var gu={},tx={},E3;function $0(){return E3||(E3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function n(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}t.isTag=n,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype})(tx)),tx}var Et={},b3;function w3(){if(b3)return Et;b3=1;var t=Et&&Et.__extends||(function(){var M=function(U,N){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,R){k.__proto__=R}||function(k,R){for(var V in R)Object.prototype.hasOwnProperty.call(R,V)&&(k[V]=R[V])},M(U,N)};return function(U,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");M(U,N);function k(){this.constructor=U}U.prototype=N===null?Object.create(N):(k.prototype=N.prototype,new k)}})(),e=Et&&Et.__assign||function(){return e=Object.assign||function(M){for(var U,N=1,k=arguments.length;N<k;N++){U=arguments[N];for(var R in U)Object.prototype.hasOwnProperty.call(U,R)&&(M[R]=U[R])}return M},e.apply(this,arguments)};Object.defineProperty(Et,"__esModule",{value:!0}),Et.cloneNode=Et.hasChildren=Et.isDocument=Et.isDirective=Et.isComment=Et.isText=Et.isCDATA=Et.isTag=Et.Element=Et.Document=Et.CDATA=Et.NodeWithChildren=Et.ProcessingInstruction=Et.Comment=Et.Text=Et.DataNode=Et.Node=void 0;var n=$0(),r=(function(){function M(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(M.prototype,"parentNode",{get:function(){return this.parent},set:function(U){this.parent=U},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"previousSibling",{get:function(){return this.prev},set:function(U){this.prev=U},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"nextSibling",{get:function(){return this.next},set:function(U){this.next=U},enumerable:!1,configurable:!0}),M.prototype.cloneNode=function(U){return U===void 0&&(U=!1),A(this,U)},M})();Et.Node=r;var i=(function(M){t(U,M);function U(N){var k=M.call(this)||this;return k.data=N,k}return Object.defineProperty(U.prototype,"nodeValue",{get:function(){return this.data},set:function(N){this.data=N},enumerable:!1,configurable:!0}),U})(r);Et.DataNode=i;var s=(function(M){t(U,M);function U(){var N=M!==null&&M.apply(this,arguments)||this;return N.type=n.ElementType.Text,N}return Object.defineProperty(U.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),U})(i);Et.Text=s;var o=(function(M){t(U,M);function U(){var N=M!==null&&M.apply(this,arguments)||this;return N.type=n.ElementType.Comment,N}return Object.defineProperty(U.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),U})(i);Et.Comment=o;var l=(function(M){t(U,M);function U(N,k){var R=M.call(this,k)||this;return R.name=N,R.type=n.ElementType.Directive,R}return Object.defineProperty(U.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),U})(i);Et.ProcessingInstruction=l;var f=(function(M){t(U,M);function U(N){var k=M.call(this)||this;return k.children=N,k}return Object.defineProperty(U.prototype,"firstChild",{get:function(){var N;return(N=this.children[0])!==null&&N!==void 0?N:null},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"childNodes",{get:function(){return this.children},set:function(N){this.children=N},enumerable:!1,configurable:!0}),U})(r);Et.NodeWithChildren=f;var c=(function(M){t(U,M);function U(){var N=M!==null&&M.apply(this,arguments)||this;return N.type=n.ElementType.CDATA,N}return Object.defineProperty(U.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),U})(f);Et.CDATA=c;var d=(function(M){t(U,M);function U(){var N=M!==null&&M.apply(this,arguments)||this;return N.type=n.ElementType.Root,N}return Object.defineProperty(U.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),U})(f);Et.Document=d;var g=(function(M){t(U,M);function U(N,k,R,V){R===void 0&&(R=[]),V===void 0&&(V=N==="script"?n.ElementType.Script:N==="style"?n.ElementType.Style:n.ElementType.Tag);var L=M.call(this,R)||this;return L.name=N,L.attribs=k,L.type=V,L}return Object.defineProperty(U.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"tagName",{get:function(){return this.name},set:function(N){this.name=N},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"attributes",{get:function(){var N=this;return Object.keys(this.attribs).map(function(k){var R,V;return{name:k,value:N.attribs[k],namespace:(R=N["x-attribsNamespace"])===null||R===void 0?void 0:R[k],prefix:(V=N["x-attribsPrefix"])===null||V===void 0?void 0:V[k]}})},enumerable:!1,configurable:!0}),U})(f);Et.Element=g;function p(M){return(0,n.isTag)(M)}Et.isTag=p;function x(M){return M.type===n.ElementType.CDATA}Et.isCDATA=x;function _(M){return M.type===n.ElementType.Text}Et.isText=_;function b(M){return M.type===n.ElementType.Comment}Et.isComment=b;function C(M){return M.type===n.ElementType.Directive}Et.isDirective=C;function I(M){return M.type===n.ElementType.Root}Et.isDocument=I;function D(M){return Object.prototype.hasOwnProperty.call(M,"children")}Et.hasChildren=D;function A(M,U){U===void 0&&(U=!1);var N;if(_(M))N=new s(M.data);else if(b(M))N=new o(M.data);else if(p(M)){var k=U?P(M.children):[],R=new g(M.name,e({},M.attribs),k);k.forEach(function(q){return q.parent=R}),M.namespace!=null&&(R.namespace=M.namespace),M["x-attribsNamespace"]&&(R["x-attribsNamespace"]=e({},M["x-attribsNamespace"])),M["x-attribsPrefix"]&&(R["x-attribsPrefix"]=e({},M["x-attribsPrefix"])),N=R}else if(x(M)){var k=U?P(M.children):[],V=new c(k);k.forEach(function(ce){return ce.parent=V}),N=V}else if(I(M)){var k=U?P(M.children):[],L=new d(k);k.forEach(function(ce){return ce.parent=L}),M["x-mode"]&&(L["x-mode"]=M["x-mode"]),N=L}else if(C(M)){var F=new l(M.name,M.data);M["x-name"]!=null&&(F["x-name"]=M["x-name"],F["x-publicId"]=M["x-publicId"],F["x-systemId"]=M["x-systemId"]),N=F}else throw new Error("Not implemented yet: ".concat(M.type));return N.startIndex=M.startIndex,N.endIndex=M.endIndex,M.sourceCodeLocation!=null&&(N.sourceCodeLocation=M.sourceCodeLocation),N}Et.cloneNode=A;function P(M){for(var U=M.map(function(k){return A(k,!0)}),N=1;N<U.length;N++)U[N].prev=U[N-1],U[N-1].next=U[N];return U}return Et}var S3;function Oo(){return S3||(S3=1,(function(t){var e=gu&&gu.__createBinding||(Object.create?(function(l,f,c,d){d===void 0&&(d=c);var g=Object.getOwnPropertyDescriptor(f,c);(!g||("get"in g?!f.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return f[c]}}),Object.defineProperty(l,d,g)}):(function(l,f,c,d){d===void 0&&(d=c),l[d]=f[c]})),n=gu&&gu.__exportStar||function(l,f){for(var c in l)c!=="default"&&!Object.prototype.hasOwnProperty.call(f,c)&&e(f,l,c)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var r=$0(),i=w3();n(w3(),t);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=(function(){function l(f,c,d){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof c=="function"&&(d=c,c=s),typeof f=="object"&&(c=f,f=void 0),this.callback=f??null,this.options=c??s,this.elementCB=d??null}return l.prototype.onparserinit=function(f){this.parser=f},l.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},l.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},l.prototype.onerror=function(f){this.handleCallback(f)},l.prototype.onclosetag=function(){this.lastNode=null;var f=this.tagStack.pop();this.options.withEndIndices&&(f.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(f)},l.prototype.onopentag=function(f,c){var d=this.options.xmlMode?r.ElementType.Tag:void 0,g=new i.Element(f,c,void 0,d);this.addNode(g),this.tagStack.push(g)},l.prototype.ontext=function(f){var c=this.lastNode;if(c&&c.type===r.ElementType.Text)c.data+=f,this.options.withEndIndices&&(c.endIndex=this.parser.endIndex);else{var d=new i.Text(f);this.addNode(d),this.lastNode=d}},l.prototype.oncomment=function(f){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=f;return}var c=new i.Comment(f);this.addNode(c),this.lastNode=c},l.prototype.oncommentend=function(){this.lastNode=null},l.prototype.oncdatastart=function(){var f=new i.Text(""),c=new i.CDATA([f]);this.addNode(c),f.parent=c,this.lastNode=f},l.prototype.oncdataend=function(){this.lastNode=null},l.prototype.onprocessinginstruction=function(f,c){var d=new i.ProcessingInstruction(f,c);this.addNode(d)},l.prototype.handleCallback=function(f){if(typeof this.callback=="function")this.callback(f,this.dom);else if(f)throw f},l.prototype.addNode=function(f){var c=this.tagStack[this.tagStack.length-1],d=c.children[c.children.length-1];this.options.withStartIndices&&(f.startIndex=this.parser.startIndex),this.options.withEndIndices&&(f.endIndex=this.parser.endIndex),c.children.push(f),d&&(f.prev=d,d.next=f),f.parent=c,this.lastNode=null},l})();t.DomHandler=o,t.default=o})(gu)),gu}var xu={},Ts={},$r={},nx={},la={},Nd={},A3;function rQ(){if(A3)return Nd;A3=1,Object.defineProperty(Nd,"__esModule",{value:!0});function t(e){for(var n=1;n<e.length;n++)e[n][0]+=e[n-1][0]+1;return e}return Nd.default=new Map(t([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(t([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(t([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(t([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),Nd}var rx={},C3;function Dy(){return C3||(C3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.getCodePoint=t.xmlReplacer=void 0,t.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var e=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);t.getCodePoint=String.prototype.codePointAt!=null?function(i,s){return i.codePointAt(s)}:function(i,s){return(i.charCodeAt(s)&64512)===55296?(i.charCodeAt(s)-55296)*1024+i.charCodeAt(s+1)-56320+65536:i.charCodeAt(s)};function n(i){for(var s="",o=0,l;(l=t.xmlReplacer.exec(i))!==null;){var f=l.index,c=i.charCodeAt(f),d=e.get(c);d!==void 0?(s+=i.substring(o,f)+d,o=f+1):(s+="".concat(i.substring(o,f),"&#x").concat((0,t.getCodePoint)(i,f).toString(16),";"),o=t.xmlReplacer.lastIndex+=+((c&64512)===55296))}return s+i.substr(o)}t.encodeXML=n,t.escape=n;function r(i,s){return function(l){for(var f,c=0,d="";f=i.exec(l);)c!==f.index&&(d+=l.substring(c,f.index)),d+=s.get(f[0].charCodeAt(0)),c=f.index+1;return d+l.substring(c)}}t.escapeUTF8=r(/[&<>'"]/g,e),t.escapeAttribute=r(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),t.escapeText=r(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))})(rx)),rx}var I3;function k3(){if(I3)return la;I3=1;var t=la&&la.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(la,"__esModule",{value:!0}),la.encodeNonAsciiHTML=la.encodeHTML=void 0;var e=t(rQ()),n=Dy(),r=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function i(l){return o(r,l)}la.encodeHTML=i;function s(l){return o(n.xmlReplacer,l)}la.encodeNonAsciiHTML=s;function o(l,f){for(var c="",d=0,g;(g=l.exec(f))!==null;){var p=g.index;c+=f.substring(d,p);var x=f.charCodeAt(p),_=e.default.get(x);if(typeof _=="object"){if(p+1<f.length){var b=f.charCodeAt(p+1),C=typeof _.n=="number"?_.n===b?_.o:void 0:_.n.get(b);if(C!==void 0){c+=C,d=l.lastIndex+=1;continue}}_=_.v}if(_!==void 0)c+=_,d=p+1;else{var I=(0,n.getCodePoint)(f,p);c+="&#x".concat(I.toString(16),";"),d=l.lastIndex+=+(I!==x)}}return c+f.substr(d)}return la}var R3;function iQ(){return R3||(R3=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLAttribute=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.DecodingMode=t.EntityDecoder=t.encodeHTML5=t.encodeHTML4=t.encodeNonAsciiHTML=t.encodeHTML=t.escapeText=t.escapeAttribute=t.escapeUTF8=t.escape=t.encodeXML=t.encode=t.decodeStrict=t.decode=t.EncodingMode=t.EntityLevel=void 0;var e=Fp(),n=k3(),r=Dy(),i;(function(p){p[p.XML=0]="XML",p[p.HTML=1]="HTML"})(i=t.EntityLevel||(t.EntityLevel={}));var s;(function(p){p[p.UTF8=0]="UTF8",p[p.ASCII=1]="ASCII",p[p.Extensive=2]="Extensive",p[p.Attribute=3]="Attribute",p[p.Text=4]="Text"})(s=t.EncodingMode||(t.EncodingMode={}));function o(p,x){x===void 0&&(x=i.XML);var _=typeof x=="number"?x:x.level;if(_===i.HTML){var b=typeof x=="object"?x.mode:void 0;return(0,e.decodeHTML)(p,b)}return(0,e.decodeXML)(p)}t.decode=o;function l(p,x){var _;x===void 0&&(x=i.XML);var b=typeof x=="number"?{level:x}:x;return(_=b.mode)!==null&&_!==void 0||(b.mode=e.DecodingMode.Strict),o(p,b)}t.decodeStrict=l;function f(p,x){x===void 0&&(x=i.XML);var _=typeof x=="number"?{level:x}:x;return _.mode===s.UTF8?(0,r.escapeUTF8)(p):_.mode===s.Attribute?(0,r.escapeAttribute)(p):_.mode===s.Text?(0,r.escapeText)(p):_.level===i.HTML?_.mode===s.ASCII?(0,n.encodeNonAsciiHTML)(p):(0,n.encodeHTML)(p):(0,r.encodeXML)(p)}t.encode=f;var c=Dy();Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return c.encodeXML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return c.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return c.escapeUTF8}}),Object.defineProperty(t,"escapeAttribute",{enumerable:!0,get:function(){return c.escapeAttribute}}),Object.defineProperty(t,"escapeText",{enumerable:!0,get:function(){return c.escapeText}});var d=k3();Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return d.encodeNonAsciiHTML}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return d.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return d.encodeHTML}});var g=Fp();Object.defineProperty(t,"EntityDecoder",{enumerable:!0,get:function(){return g.EntityDecoder}}),Object.defineProperty(t,"DecodingMode",{enumerable:!0,get:function(){return g.DecodingMode}}),Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return g.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return g.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return g.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTMLAttribute",{enumerable:!0,get:function(){return g.decodeHTMLAttribute}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return g.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return g.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return g.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return g.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return g.decodeXML}})})(nx)),nx}var yu={},N3;function sQ(){return N3||(N3=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.attributeNames=yu.elementNames=void 0,yu.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(t){return[t.toLowerCase(),t]})),yu.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(t){return[t.toLowerCase(),t]}))),yu}var D3;function aQ(){if(D3)return $r;D3=1;var t=$r&&$r.__assign||function(){return t=Object.assign||function(P){for(var M,U=1,N=arguments.length;U<N;U++){M=arguments[U];for(var k in M)Object.prototype.hasOwnProperty.call(M,k)&&(P[k]=M[k])}return P},t.apply(this,arguments)},e=$r&&$r.__createBinding||(Object.create?(function(P,M,U,N){N===void 0&&(N=U);var k=Object.getOwnPropertyDescriptor(M,U);(!k||("get"in k?!M.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return M[U]}}),Object.defineProperty(P,N,k)}):(function(P,M,U,N){N===void 0&&(N=U),P[N]=M[U]})),n=$r&&$r.__setModuleDefault||(Object.create?(function(P,M){Object.defineProperty(P,"default",{enumerable:!0,value:M})}):function(P,M){P.default=M}),r=$r&&$r.__importStar||function(P){if(P&&P.__esModule)return P;var M={};if(P!=null)for(var U in P)U!=="default"&&Object.prototype.hasOwnProperty.call(P,U)&&e(M,P,U);return n(M,P),M};Object.defineProperty($r,"__esModule",{value:!0}),$r.render=void 0;var i=r($0()),s=iQ(),o=sQ(),l=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function f(P){return P.replace(/"/g,"&quot;")}function c(P,M){var U;if(P){var N=((U=M.encodeEntities)!==null&&U!==void 0?U:M.decodeEntities)===!1?f:M.xmlMode||M.encodeEntities!=="utf8"?s.encodeXML:s.escapeAttribute;return Object.keys(P).map(function(k){var R,V,L=(R=P[k])!==null&&R!==void 0?R:"";return M.xmlMode==="foreign"&&(k=(V=o.attributeNames.get(k))!==null&&V!==void 0?V:k),!M.emptyAttrs&&!M.xmlMode&&L===""?k:"".concat(k,'="').concat(N(L),'"')}).join(" ")}}var d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function g(P,M){M===void 0&&(M={});for(var U=("length"in P)?P:[P],N="",k=0;k<U.length;k++)N+=p(U[k],M);return N}$r.render=g,$r.default=g;function p(P,M){switch(P.type){case i.Root:return g(P.children,M);case i.Doctype:case i.Directive:return C(P);case i.Comment:return A(P);case i.CDATA:return D(P);case i.Script:case i.Style:case i.Tag:return b(P,M);case i.Text:return I(P,M)}}var x=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),_=new Set(["svg","math"]);function b(P,M){var U;M.xmlMode==="foreign"&&(P.name=(U=o.elementNames.get(P.name))!==null&&U!==void 0?U:P.name,P.parent&&x.has(P.parent.name)&&(M=t(t({},M),{xmlMode:!1}))),!M.xmlMode&&_.has(P.name)&&(M=t(t({},M),{xmlMode:"foreign"}));var N="<".concat(P.name),k=c(P.attribs,M);return k&&(N+=" ".concat(k)),P.children.length===0&&(M.xmlMode?M.selfClosingTags!==!1:M.selfClosingTags&&d.has(P.name))?(M.xmlMode||(N+=" "),N+="/>"):(N+=">",P.children.length>0&&(N+=g(P.children,M)),(M.xmlMode||!d.has(P.name))&&(N+="</".concat(P.name,">"))),N}function C(P){return"<".concat(P.data,">")}function I(P,M){var U,N=P.data||"";return((U=M.encodeEntities)!==null&&U!==void 0?U:M.decodeEntities)!==!1&&!(!M.xmlMode&&P.parent&&l.has(P.parent.name))&&(N=M.xmlMode||M.encodeEntities!=="utf8"?(0,s.encodeXML)(N):(0,s.escapeText)(N)),N}function D(P){return"<![CDATA[".concat(P.children[0].data,"]]>")}function A(P){return"<!--".concat(P.data,"-->")}return $r}var M3;function bR(){if(M3)return Ts;M3=1;var t=Ts&&Ts.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.getOuterHTML=i,Ts.getInnerHTML=s,Ts.getText=o,Ts.textContent=l,Ts.innerText=f;var e=Oo(),n=t(aQ()),r=$0();function i(c,d){return(0,n.default)(c,d)}function s(c,d){return(0,e.hasChildren)(c)?c.children.map(function(g){return i(g,d)}).join(""):""}function o(c){return Array.isArray(c)?c.map(o).join(""):(0,e.isTag)(c)?c.name==="br"?`
    +`:o(c.children):(0,e.isCDATA)(c)?o(c.children):(0,e.isText)(c)?c.data:""}function l(c){return Array.isArray(c)?c.map(l).join(""):(0,e.hasChildren)(c)&&!(0,e.isComment)(c)?l(c.children):(0,e.isText)(c)?c.data:""}function f(c){return Array.isArray(c)?c.map(f).join(""):(0,e.hasChildren)(c)&&(c.type===r.ElementType.Tag||(0,e.isCDATA)(c))?f(c.children):(0,e.isText)(c)?c.data:""}return Ts}var Ji={},P3;function oQ(){if(P3)return Ji;P3=1,Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.getChildren=e,Ji.getParent=n,Ji.getSiblings=r,Ji.getAttributeValue=i,Ji.hasAttrib=s,Ji.getName=o,Ji.nextElementSibling=l,Ji.prevElementSibling=f;var t=Oo();function e(c){return(0,t.hasChildren)(c)?c.children:[]}function n(c){return c.parent||null}function r(c){var d,g,p=n(c);if(p!=null)return e(p);for(var x=[c],_=c.prev,b=c.next;_!=null;)x.unshift(_),d=_,_=d.prev;for(;b!=null;)x.push(b),g=b,b=g.next;return x}function i(c,d){var g;return(g=c.attribs)===null||g===void 0?void 0:g[d]}function s(c,d){return c.attribs!=null&&Object.prototype.hasOwnProperty.call(c.attribs,d)&&c.attribs[d]!=null}function o(c){return c.name}function l(c){for(var d,g=c.next;g!==null&&!(0,t.isTag)(g);)d=g,g=d.next;return g}function f(c){for(var d,g=c.prev;g!==null&&!(0,t.isTag)(g);)d=g,g=d.prev;return g}return Ji}var ca={},L3;function uQ(){if(L3)return ca;L3=1,Object.defineProperty(ca,"__esModule",{value:!0}),ca.removeElement=t,ca.replaceElement=e,ca.appendChild=n,ca.append=r,ca.prependChild=i,ca.prepend=s;function t(o){if(o.prev&&(o.prev.next=o.next),o.next&&(o.next.prev=o.prev),o.parent){var l=o.parent.children,f=l.lastIndexOf(o);f>=0&&l.splice(f,1)}o.next=null,o.prev=null,o.parent=null}function e(o,l){var f=l.prev=o.prev;f&&(f.next=l);var c=l.next=o.next;c&&(c.prev=l);var d=l.parent=o.parent;if(d){var g=d.children;g[g.lastIndexOf(o)]=l,o.parent=null}}function n(o,l){if(t(l),l.next=null,l.parent=o,o.children.push(l)>1){var f=o.children[o.children.length-2];f.next=l,l.prev=f}else l.prev=null}function r(o,l){t(l);var f=o.parent,c=o.next;if(l.next=c,l.prev=o,o.next=l,l.parent=f,c){if(c.prev=l,f){var d=f.children;d.splice(d.lastIndexOf(c),0,l)}}else f&&f.children.push(l)}function i(o,l){if(t(l),l.parent=o,l.prev=null,o.children.unshift(l)!==1){var f=o.children[1];f.prev=l,l.next=f}else l.next=null}function s(o,l){t(l);var f=o.parent;if(f){var c=f.children;c.splice(c.indexOf(o),0,l)}o.prev&&(o.prev.next=l),l.parent=f,l.prev=o.prev,l.next=o,o.prev=l}return ca}var fa={},O3;function wR(){if(O3)return fa;O3=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.filter=e,fa.find=n,fa.findOneChild=r,fa.findOne=i,fa.existsOne=s,fa.findAll=o;var t=Oo();function e(l,f,c,d){return c===void 0&&(c=!0),d===void 0&&(d=1/0),n(l,Array.isArray(f)?f:[f],c,d)}function n(l,f,c,d){for(var g=[],p=[Array.isArray(f)?f:[f]],x=[0];;){if(x[0]>=p[0].length){if(x.length===1)return g;p.shift(),x.shift();continue}var _=p[0][x[0]++];if(l(_)&&(g.push(_),--d<=0))return g;c&&(0,t.hasChildren)(_)&&_.children.length>0&&(x.unshift(0),p.unshift(_.children))}}function r(l,f){return f.find(l)}function i(l,f,c){c===void 0&&(c=!0);for(var d=Array.isArray(f)?f:[f],g=0;g<d.length;g++){var p=d[g];if((0,t.isTag)(p)&&l(p))return p;if(c&&(0,t.hasChildren)(p)&&p.children.length>0){var x=i(l,p.children,!0);if(x)return x}}return null}function s(l,f){return(Array.isArray(f)?f:[f]).some(function(c){return(0,t.isTag)(c)&&l(c)||(0,t.hasChildren)(c)&&s(l,c.children)})}function o(l,f){for(var c=[],d=[Array.isArray(f)?f:[f]],g=[0];;){if(g[0]>=d[0].length){if(d.length===1)return c;d.shift(),g.shift();continue}var p=d[0][g[0]++];(0,t.isTag)(p)&&l(p)&&c.push(p),(0,t.hasChildren)(p)&&p.children.length>0&&(g.unshift(0),d.unshift(p.children))}}return fa}var ha={},F3;function SR(){if(F3)return ha;F3=1,Object.defineProperty(ha,"__esModule",{value:!0}),ha.testElement=o,ha.getElements=l,ha.getElementById=f,ha.getElementsByTagName=c,ha.getElementsByClassName=d,ha.getElementsByTagType=g;var t=Oo(),e=wR(),n={tag_name:function(p){return typeof p=="function"?function(x){return(0,t.isTag)(x)&&p(x.name)}:p==="*"?t.isTag:function(x){return(0,t.isTag)(x)&&x.name===p}},tag_type:function(p){return typeof p=="function"?function(x){return p(x.type)}:function(x){return x.type===p}},tag_contains:function(p){return typeof p=="function"?function(x){return(0,t.isText)(x)&&p(x.data)}:function(x){return(0,t.isText)(x)&&x.data===p}}};function r(p,x){return typeof x=="function"?function(_){return(0,t.isTag)(_)&&x(_.attribs[p])}:function(_){return(0,t.isTag)(_)&&_.attribs[p]===x}}function i(p,x){return function(_){return p(_)||x(_)}}function s(p){var x=Object.keys(p).map(function(_){var b=p[_];return Object.prototype.hasOwnProperty.call(n,_)?n[_](b):r(_,b)});return x.length===0?null:x.reduce(i)}function o(p,x){var _=s(p);return _?_(x):!0}function l(p,x,_,b){b===void 0&&(b=1/0);var C=s(p);return C?(0,e.filter)(C,x,_,b):[]}function f(p,x,_){return _===void 0&&(_=!0),Array.isArray(x)||(x=[x]),(0,e.findOne)(r("id",p),x,_)}function c(p,x,_,b){return _===void 0&&(_=!0),b===void 0&&(b=1/0),(0,e.filter)(n.tag_name(p),x,_,b)}function d(p,x,_,b){return _===void 0&&(_=!0),b===void 0&&(b=1/0),(0,e.filter)(r("class",p),x,_,b)}function g(p,x,_,b){return _===void 0&&(_=!0),b===void 0&&(b=1/0),(0,e.filter)(n.tag_type(p),x,_,b)}return ha}var oo={},U3;function lQ(){if(U3)return oo;U3=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.DocumentPosition=void 0,oo.removeSubsets=e,oo.compareDocumentPosition=r,oo.uniqueSort=i;var t=Oo();function e(s){for(var o=s.length;--o>=0;){var l=s[o];if(o>0&&s.lastIndexOf(l,o-1)>=0){s.splice(o,1);continue}for(var f=l.parent;f;f=f.parent)if(s.includes(f)){s.splice(o,1);break}}return s}var n;(function(s){s[s.DISCONNECTED=1]="DISCONNECTED",s[s.PRECEDING=2]="PRECEDING",s[s.FOLLOWING=4]="FOLLOWING",s[s.CONTAINS=8]="CONTAINS",s[s.CONTAINED_BY=16]="CONTAINED_BY"})(n||(oo.DocumentPosition=n={}));function r(s,o){var l=[],f=[];if(s===o)return 0;for(var c=(0,t.hasChildren)(s)?s:s.parent;c;)l.unshift(c),c=c.parent;for(c=(0,t.hasChildren)(o)?o:o.parent;c;)f.unshift(c),c=c.parent;for(var d=Math.min(l.length,f.length),g=0;g<d&&l[g]===f[g];)g++;if(g===0)return n.DISCONNECTED;var p=l[g-1],x=p.children,_=l[g],b=f[g];return x.indexOf(_)>x.indexOf(b)?p===o?n.FOLLOWING|n.CONTAINED_BY:n.FOLLOWING:p===s?n.PRECEDING|n.CONTAINS:n.PRECEDING}function i(s){return s=s.filter(function(o,l,f){return!f.includes(o,l+1)}),s.sort(function(o,l){var f=r(o,l);return f&n.PRECEDING?-1:f&n.FOLLOWING?1:0}),s}return oo}var Dd={},V3;function cQ(){if(V3)return Dd;V3=1,Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.getFeed=n;var t=bR(),e=SR();function n(p){var x=f(g,p);return x?x.name==="feed"?r(x):i(x):null}function r(p){var x,_=p.children,b={type:"atom",items:(0,e.getElementsByTagName)("entry",_).map(function(D){var A,P=D.children,M={media:l(P)};d(M,"id","id",P),d(M,"title","title",P);var U=(A=f("link",P))===null||A===void 0?void 0:A.attribs.href;U&&(M.link=U);var N=c("summary",P)||c("content",P);N&&(M.description=N);var k=c("updated",P);return k&&(M.pubDate=new Date(k)),M})};d(b,"id","id",_),d(b,"title","title",_);var C=(x=f("link",_))===null||x===void 0?void 0:x.attribs.href;C&&(b.link=C),d(b,"description","subtitle",_);var I=c("updated",_);return I&&(b.updated=new Date(I)),d(b,"author","email",_,!0),b}function i(p){var x,_,b=(_=(x=f("channel",p.children))===null||x===void 0?void 0:x.children)!==null&&_!==void 0?_:[],C={type:p.name.substr(0,3),id:"",items:(0,e.getElementsByTagName)("item",p.children).map(function(D){var A=D.children,P={media:l(A)};d(P,"id","guid",A),d(P,"title","title",A),d(P,"link","link",A),d(P,"description","description",A);var M=c("pubDate",A)||c("dc:date",A);return M&&(P.pubDate=new Date(M)),P})};d(C,"title","title",b),d(C,"link","link",b),d(C,"description","description",b);var I=c("lastBuildDate",b);return I&&(C.updated=new Date(I)),d(C,"author","managingEditor",b,!0),C}var s=["url","type","lang"],o=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function l(p){return(0,e.getElementsByTagName)("media:content",p).map(function(x){for(var _=x.attribs,b={medium:_.medium,isDefault:!!_.isDefault},C=0,I=s;C<I.length;C++){var D=I[C];_[D]&&(b[D]=_[D])}for(var A=0,P=o;A<P.length;A++){var D=P[A];_[D]&&(b[D]=parseInt(_[D],10))}return _.expression&&(b.expression=_.expression),b})}function f(p,x){return(0,e.getElementsByTagName)(p,x,!0,1)[0]}function c(p,x,_){return _===void 0&&(_=!1),(0,t.textContent)((0,e.getElementsByTagName)(p,x,_,1)).trim()}function d(p,x,_,b,C){C===void 0&&(C=!1);var I=c(_,b,C);I&&(p[x]=I)}function g(p){return p==="rss"||p==="feed"||p==="rdf:RDF"}return Dd}var B3;function ix(){return B3||(B3=1,(function(t){var e=xu&&xu.__createBinding||(Object.create?(function(i,s,o,l){l===void 0&&(l=o);var f=Object.getOwnPropertyDescriptor(s,o);(!f||("get"in f?!s.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,l,f)}):(function(i,s,o,l){l===void 0&&(l=o),i[l]=s[o]})),n=xu&&xu.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,i,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isDocument=t.isComment=t.isText=t.isCDATA=t.isTag=void 0,n(bR(),t),n(oQ(),t),n(uQ(),t),n(wR(),t),n(SR(),t),n(lQ(),t),n(cQ(),t);var r=Oo();Object.defineProperty(t,"isTag",{enumerable:!0,get:function(){return r.isTag}}),Object.defineProperty(t,"isCDATA",{enumerable:!0,get:function(){return r.isCDATA}}),Object.defineProperty(t,"isText",{enumerable:!0,get:function(){return r.isText}}),Object.defineProperty(t,"isComment",{enumerable:!0,get:function(){return r.isComment}}),Object.defineProperty(t,"isDocument",{enumerable:!0,get:function(){return r.isDocument}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return r.hasChildren}})})(xu)),xu}var q3;function fQ(){return q3||(q3=1,(function(t){var e=Ki&&Ki.__createBinding||(Object.create?(function(I,D,A,P){P===void 0&&(P=A);var M=Object.getOwnPropertyDescriptor(D,A);(!M||("get"in M?!D.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return D[A]}}),Object.defineProperty(I,P,M)}):(function(I,D,A,P){P===void 0&&(P=A),I[P]=D[A]})),n=Ki&&Ki.__setModuleDefault||(Object.create?(function(I,D){Object.defineProperty(I,"default",{enumerable:!0,value:D})}):function(I,D){I.default=D}),r=Ki&&Ki.__importStar||function(I){if(I&&I.__esModule)return I;var D={};if(I!=null)for(var A in I)A!=="default"&&Object.prototype.hasOwnProperty.call(I,A)&&e(D,I,A);return n(D,I),D},i=Ki&&Ki.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomUtils=t.parseFeed=t.getFeed=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DefaultHandler=t.DomHandler=t.Parser=void 0;var s=T3(),o=T3();Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return o.Parser}});var l=Oo(),f=Oo();Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return f.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return f.DomHandler}});function c(I,D){var A=new l.DomHandler(void 0,D);return new s.Parser(A,D).end(I),A.root}t.parseDocument=c;function d(I,D){return c(I,D).children}t.parseDOM=d;function g(I,D,A){var P=new l.DomHandler(I,D,A);return new s.Parser(P,D)}t.createDomStream=g;var p=ER();Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return i(p).default}}),t.ElementType=r($0());var x=ix(),_=ix();Object.defineProperty(t,"getFeed",{enumerable:!0,get:function(){return _.getFeed}});var b={xmlMode:!0};function C(I,D){return D===void 0&&(D=b),(0,x.getFeed)(d(I,D))}t.parseFeed=C,t.DomUtils=r(ix())})(Ki)),Ki}var sx,H3;function hQ(){return H3||(H3=1,sx=t=>{if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}),sx}var Md={},z3;function dQ(){if(z3)return Md;z3=1,Object.defineProperty(Md,"__esModule",{value:!0});/*!
      * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
      *
      * Copyright (c) 2014-2017, Jon Schlinkert.
      * Released under the MIT License.
    - */function t(n){return Object.prototype.toString.call(n)==="[object Object]"}function e(n){var r,i;return t(n)===!1?!1:(r=n.constructor,r===void 0?!0:(i=r.prototype,!(t(i)===!1||i.hasOwnProperty("isPrototypeOf")===!1)))}return Dd.isPlainObject=e,Dd}var rx,H3;function lQ(){if(H3)return rx;H3=1;var t=function(M){return e(M)&&!n(M)};function e(I){return!!I&&typeof I=="object"}function n(I){var M=Object.prototype.toString.call(I);return M==="[object RegExp]"||M==="[object Date]"||s(I)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function s(I){return I.$$typeof===i}function o(I){return Array.isArray(I)?[]:{}}function l(I,M){return M.clone!==!1&&M.isMergeableObject(I)?b(o(I),I,M):I}function f(I,M,A){return I.concat(M).map(function(P){return l(P,A)})}function c(I,M){if(!M.customMerge)return b;var A=M.customMerge(I);return typeof A=="function"?A:b}function d(I){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(I).filter(function(M){return Object.propertyIsEnumerable.call(I,M)}):[]}function g(I){return Object.keys(I).concat(d(I))}function p(I,M){try{return M in I}catch{return!1}}function x(I,M){return p(I,M)&&!(Object.hasOwnProperty.call(I,M)&&Object.propertyIsEnumerable.call(I,M))}function _(I,M,A){var P={};return A.isMergeableObject(I)&&g(I).forEach(function(D){P[D]=l(I[D],A)}),g(M).forEach(function(D){x(I,D)||(p(I,D)&&A.isMergeableObject(M[D])?P[D]=c(D,A)(I[D],M[D],A):P[D]=l(M[D],A))}),P}function b(I,M,A){A=A||{},A.arrayMerge=A.arrayMerge||f,A.isMergeableObject=A.isMergeableObject||t,A.cloneUnlessOtherwiseSpecified=l;var P=Array.isArray(M),D=Array.isArray(I),V=P===D;return V?P?A.arrayMerge(I,M,A):_(I,M,A):l(M,A)}b.all=function(M,A){if(!Array.isArray(M))throw new Error("first argument should be an array");return M.reduce(function(P,D){return b(P,D,A)},{})};var C=b;return rx=C,rx}var Yd={exports:{}},cQ=Yd.exports,z3;function fQ(){return z3||(z3=1,(function(t){(function(e,n){t.exports?t.exports=n():e.parseSrcset=n()})(cQ,function(){return function(e){function n(P){return P===" "||P==="	"||P===`
    -`||P==="\f"||P==="\r"}function r(P){var D,V=P.exec(e.substring(C));if(V)return D=V[0],C+=D.length,D}for(var i=e.length,s=/^[ \t\n\r\u000c]+/,o=/^[, \t\n\r\u000c]+/,l=/^[^ \t\n\r\u000c]+/,f=/[,]+$/,c=/^\d+$/,d=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,g,p,x,_,b,C=0,I=[];;){if(r(o),C>=i)return I;g=r(l),p=[],g.slice(-1)===","?(g=g.replace(f,""),A()):M()}function M(){for(r(s),x="",_="in descriptor";;){if(b=e.charAt(C),_==="in descriptor")if(n(b))x&&(p.push(x),x="",_="after descriptor");else if(b===","){C+=1,x&&p.push(x),A();return}else if(b==="(")x=x+b,_="in parens";else if(b===""){x&&p.push(x),A();return}else x=x+b;else if(_==="in parens")if(b===")")x=x+b,_="in descriptor";else if(b===""){p.push(x),A();return}else x=x+b;else if(_==="after descriptor"&&!n(b))if(b===""){A();return}else _="in descriptor",C-=1;C+=1}}function A(){var P=!1,D,V,N,k,R={},O,L,U,q,he;for(k=0;k<p.length;k++)O=p[k],L=O[O.length-1],U=O.substring(0,O.length-1),q=parseInt(U,10),he=parseFloat(U),c.test(U)&&L==="w"?((D||V)&&(P=!0),q===0?P=!0:D=q):d.test(U)&&L==="x"?((D||V||N)&&(P=!0),he<0?P=!0:V=he):c.test(U)&&L==="h"?((N||V)&&(P=!0),q===0?P=!0:N=q):P=!0;P?console&&console.log&&console.log("Invalid srcset descriptor found in '"+e+"' at '"+O+"'."):(R.url=g,D&&(R.w=D),V&&(R.d=V),N&&(R.h=N),I.push(R))}}})})(Yd)),Yd.exports}var Md={exports:{}},G3;function hQ(){if(G3)return Md.exports;G3=1;var t=String,e=function(){return{isColorSupported:!1,reset:t,bold:t,dim:t,italic:t,underline:t,inverse:t,hidden:t,strikethrough:t,black:t,red:t,green:t,yellow:t,blue:t,magenta:t,cyan:t,white:t,gray:t,bgBlack:t,bgRed:t,bgGreen:t,bgYellow:t,bgBlue:t,bgMagenta:t,bgCyan:t,bgWhite:t,blackBright:t,redBright:t,greenBright:t,yellowBright:t,blueBright:t,magentaBright:t,cyanBright:t,whiteBright:t,bgBlackBright:t,bgRedBright:t,bgGreenBright:t,bgYellowBright:t,bgBlueBright:t,bgMagentaBright:t,bgCyanBright:t,bgWhiteBright:t}};return Md.exports=e(),Md.exports.createColors=e,Md.exports}const dQ={},pQ=Object.freeze(Object.defineProperty({__proto__:null,default:dQ},Symbol.toStringTag,{value:"Module"})),is=o8(pQ);var ix,j3;function x_(){if(j3)return ix;j3=1;let t=hQ(),e=is;class n extends Error{constructor(i,s,o,l,f,c){super(i),this.name="CssSyntaxError",this.reason=i,f&&(this.file=f),l&&(this.source=l),c&&(this.plugin=c),typeof s<"u"&&typeof o<"u"&&(typeof s=="number"?(this.line=s,this.column=o):(this.line=s.line,this.column=s.column,this.endLine=o.line,this.endColumn=o.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,n)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(i){if(!this.source)return"";let s=this.source;i==null&&(i=t.isColorSupported);let o=x=>x,l=x=>x,f=x=>x;if(i){let{bold:x,gray:_,red:b}=t.createColors(!0);l=C=>x(b(C)),o=C=>_(C),e&&(f=C=>e(C))}let c=s.split(/\r?\n/),d=Math.max(this.line-3,0),g=Math.min(this.line+2,c.length),p=String(g).length;return c.slice(d,g).map((x,_)=>{let b=d+1+_,C=" "+(" "+b).slice(-p)+" | ";if(b===this.line){if(x.length>160){let M=20,A=Math.max(0,this.column-M),P=Math.max(this.column+M,this.endColumn+M),D=x.slice(A,P),V=o(C.replace(/\d/g," "))+x.slice(0,Math.min(this.column-1,M-1)).replace(/[^\t]/g," ");return l(">")+o(C)+f(D)+`
    - `+V+l("^")}let I=o(C.replace(/\d/g," "))+x.slice(0,this.column-1).replace(/[^\t]/g," ");return l(">")+o(C)+f(x)+`
    + */function t(n){return Object.prototype.toString.call(n)==="[object Object]"}function e(n){var r,i;return t(n)===!1?!1:(r=n.constructor,r===void 0?!0:(i=r.prototype,!(t(i)===!1||i.hasOwnProperty("isPrototypeOf")===!1)))}return Md.isPlainObject=e,Md}var ax,G3;function pQ(){if(G3)return ax;G3=1;var t=function(D){return e(D)&&!n(D)};function e(I){return!!I&&typeof I=="object"}function n(I){var D=Object.prototype.toString.call(I);return D==="[object RegExp]"||D==="[object Date]"||s(I)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function s(I){return I.$$typeof===i}function o(I){return Array.isArray(I)?[]:{}}function l(I,D){return D.clone!==!1&&D.isMergeableObject(I)?b(o(I),I,D):I}function f(I,D,A){return I.concat(D).map(function(P){return l(P,A)})}function c(I,D){if(!D.customMerge)return b;var A=D.customMerge(I);return typeof A=="function"?A:b}function d(I){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(I).filter(function(D){return Object.propertyIsEnumerable.call(I,D)}):[]}function g(I){return Object.keys(I).concat(d(I))}function p(I,D){try{return D in I}catch{return!1}}function x(I,D){return p(I,D)&&!(Object.hasOwnProperty.call(I,D)&&Object.propertyIsEnumerable.call(I,D))}function _(I,D,A){var P={};return A.isMergeableObject(I)&&g(I).forEach(function(M){P[M]=l(I[M],A)}),g(D).forEach(function(M){x(I,M)||(p(I,M)&&A.isMergeableObject(D[M])?P[M]=c(M,A)(I[M],D[M],A):P[M]=l(D[M],A))}),P}function b(I,D,A){A=A||{},A.arrayMerge=A.arrayMerge||f,A.isMergeableObject=A.isMergeableObject||t,A.cloneUnlessOtherwiseSpecified=l;var P=Array.isArray(D),M=Array.isArray(I),U=P===M;return U?P?A.arrayMerge(I,D,A):_(I,D,A):l(D,A)}b.all=function(D,A){if(!Array.isArray(D))throw new Error("first argument should be an array");return D.reduce(function(P,M){return b(P,M,A)},{})};var C=b;return ax=C,ax}var Xd={exports:{}},mQ=Xd.exports,j3;function gQ(){return j3||(j3=1,(function(t){(function(e,n){t.exports?t.exports=n():e.parseSrcset=n()})(mQ,function(){return function(e){function n(P){return P===" "||P==="	"||P===`
    +`||P==="\f"||P==="\r"}function r(P){var M,U=P.exec(e.substring(C));if(U)return M=U[0],C+=M.length,M}for(var i=e.length,s=/^[ \t\n\r\u000c]+/,o=/^[, \t\n\r\u000c]+/,l=/^[^ \t\n\r\u000c]+/,f=/[,]+$/,c=/^\d+$/,d=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,g,p,x,_,b,C=0,I=[];;){if(r(o),C>=i)return I;g=r(l),p=[],g.slice(-1)===","?(g=g.replace(f,""),A()):D()}function D(){for(r(s),x="",_="in descriptor";;){if(b=e.charAt(C),_==="in descriptor")if(n(b))x&&(p.push(x),x="",_="after descriptor");else if(b===","){C+=1,x&&p.push(x),A();return}else if(b==="(")x=x+b,_="in parens";else if(b===""){x&&p.push(x),A();return}else x=x+b;else if(_==="in parens")if(b===")")x=x+b,_="in descriptor";else if(b===""){p.push(x),A();return}else x=x+b;else if(_==="after descriptor"&&!n(b))if(b===""){A();return}else _="in descriptor",C-=1;C+=1}}function A(){var P=!1,M,U,N,k,R={},V,L,F,q,ce;for(k=0;k<p.length;k++)V=p[k],L=V[V.length-1],F=V.substring(0,V.length-1),q=parseInt(F,10),ce=parseFloat(F),c.test(F)&&L==="w"?((M||U)&&(P=!0),q===0?P=!0:M=q):d.test(F)&&L==="x"?((M||U||N)&&(P=!0),ce<0?P=!0:U=ce):c.test(F)&&L==="h"?((N||U)&&(P=!0),q===0?P=!0:N=q):P=!0;P?console&&console.log&&console.log("Invalid srcset descriptor found in '"+e+"' at '"+V+"'."):(R.url=g,M&&(R.w=M),U&&(R.d=U),N&&(R.h=N),I.push(R))}}})})(Xd)),Xd.exports}var Pd={exports:{}},$3;function xQ(){if($3)return Pd.exports;$3=1;var t=String,e=function(){return{isColorSupported:!1,reset:t,bold:t,dim:t,italic:t,underline:t,inverse:t,hidden:t,strikethrough:t,black:t,red:t,green:t,yellow:t,blue:t,magenta:t,cyan:t,white:t,gray:t,bgBlack:t,bgRed:t,bgGreen:t,bgYellow:t,bgBlue:t,bgMagenta:t,bgCyan:t,bgWhite:t,blackBright:t,redBright:t,greenBright:t,yellowBright:t,blueBright:t,magentaBright:t,cyanBright:t,whiteBright:t,bgBlackBright:t,bgRedBright:t,bgGreenBright:t,bgYellowBright:t,bgBlueBright:t,bgMagentaBright:t,bgCyanBright:t,bgWhiteBright:t}};return Pd.exports=e(),Pd.exports.createColors=e,Pd.exports}const yQ={},vQ=Object.freeze(Object.defineProperty({__proto__:null,default:yQ},Symbol.toStringTag,{value:"Module"})),is=d8(vQ);var ox,W3;function __(){if(W3)return ox;W3=1;let t=xQ(),e=is;class n extends Error{constructor(i,s,o,l,f,c){super(i),this.name="CssSyntaxError",this.reason=i,f&&(this.file=f),l&&(this.source=l),c&&(this.plugin=c),typeof s<"u"&&typeof o<"u"&&(typeof s=="number"?(this.line=s,this.column=o):(this.line=s.line,this.column=s.column,this.endLine=o.line,this.endColumn=o.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,n)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(i){if(!this.source)return"";let s=this.source;i==null&&(i=t.isColorSupported);let o=x=>x,l=x=>x,f=x=>x;if(i){let{bold:x,gray:_,red:b}=t.createColors(!0);l=C=>x(b(C)),o=C=>_(C),e&&(f=C=>e(C))}let c=s.split(/\r?\n/),d=Math.max(this.line-3,0),g=Math.min(this.line+2,c.length),p=String(g).length;return c.slice(d,g).map((x,_)=>{let b=d+1+_,C=" "+(" "+b).slice(-p)+" | ";if(b===this.line){if(x.length>160){let D=20,A=Math.max(0,this.column-D),P=Math.max(this.column+D,this.endColumn+D),M=x.slice(A,P),U=o(C.replace(/\d/g," "))+x.slice(0,Math.min(this.column-1,D-1)).replace(/[^\t]/g," ");return l(">")+o(C)+f(M)+`
    + `+U+l("^")}let I=o(C.replace(/\d/g," "))+x.slice(0,this.column-1).replace(/[^\t]/g," ");return l(">")+o(C)+f(x)+`
      `+I+l("^")}return" "+o(C)+f(x)}).join(`
     `)}toString(){let i=this.showSourceCode();return i&&(i=`
     
     `+i+`
    -`),this.name+": "+this.message+i}}return ix=n,n.default=n,ix}var sx,$3;function TR(){if($3)return sx;$3=1;const t={after:`
    +`),this.name+": "+this.message+i}}return ox=n,n.default=n,ox}var ux,K3;function AR(){if(K3)return ux;K3=1;const t={after:`
     `,beforeClose:`
     `,beforeComment:`
     `,beforeDecl:`
     `,beforeOpen:" ",beforeRule:`
     `,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function e(r){return r[0].toUpperCase()+r.slice(1)}class n{constructor(i){this.builder=i}atrule(i,s){let o="@"+i.name,l=i.params?this.rawValue(i,"params"):"";if(typeof i.raws.afterName<"u"?o+=i.raws.afterName:l&&(o+=" "),i.nodes)this.block(i,o+l);else{let f=(i.raws.between||"")+(s?";":"");this.builder(o+l+f,i)}}beforeAfter(i,s){let o;i.type==="decl"?o=this.raw(i,null,"beforeDecl"):i.type==="comment"?o=this.raw(i,null,"beforeComment"):s==="before"?o=this.raw(i,null,"beforeRule"):o=this.raw(i,null,"beforeClose");let l=i.parent,f=0;for(;l&&l.type!=="root";)f+=1,l=l.parent;if(o.includes(`
     `)){let c=this.raw(i,null,"indent");if(c.length)for(let d=0;d<f;d++)o+=c}return o}block(i,s){let o=this.raw(i,"between","beforeOpen");this.builder(s+o+"{",i,"start");let l;i.nodes&&i.nodes.length?(this.body(i),l=this.raw(i,"after")):l=this.raw(i,"after","emptyBody"),l&&this.builder(l),this.builder("}",i,"end")}body(i){let s=i.nodes.length-1;for(;s>0&&i.nodes[s].type==="comment";)s-=1;let o=this.raw(i,"semicolon");for(let l=0;l<i.nodes.length;l++){let f=i.nodes[l],c=this.raw(f,"before");c&&this.builder(c),this.stringify(f,s!==l||o)}}comment(i){let s=this.raw(i,"left","commentLeft"),o=this.raw(i,"right","commentRight");this.builder("/*"+s+i.text+o+"*/",i)}decl(i,s){let o=this.raw(i,"between","colon"),l=i.prop+o+this.rawValue(i,"value");i.important&&(l+=i.raws.important||" !important"),s&&(l+=";"),this.builder(l,i)}document(i){this.body(i)}raw(i,s,o){let l;if(o||(o=s),s&&(l=i.raws[s],typeof l<"u"))return l;let f=i.parent;if(o==="before"&&(!f||f.type==="root"&&f.first===i||f&&f.type==="document"))return"";if(!f)return t[o];let c=i.root();if(c.rawCache||(c.rawCache={}),typeof c.rawCache[o]<"u")return c.rawCache[o];if(o==="before"||o==="after")return this.beforeAfter(i,o);{let d="raw"+e(o);this[d]?l=this[d](c,i):c.walk(g=>{if(l=g.raws[s],typeof l<"u")return!1})}return typeof l>"u"&&(l=t[o]),c.rawCache[o]=l,l}rawBeforeClose(i){let s;return i.walk(o=>{if(o.nodes&&o.nodes.length>0&&typeof o.raws.after<"u")return s=o.raws.after,s.includes(`
     `)&&(s=s.replace(/[^\n]+$/,"")),!1}),s&&(s=s.replace(/\S/g,"")),s}rawBeforeComment(i,s){let o;return i.walkComments(l=>{if(typeof l.raws.before<"u")return o=l.raws.before,o.includes(`
     `)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(s,null,"beforeDecl"):o&&(o=o.replace(/\S/g,"")),o}rawBeforeDecl(i,s){let o;return i.walkDecls(l=>{if(typeof l.raws.before<"u")return o=l.raws.before,o.includes(`
     `)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(s,null,"beforeRule"):o&&(o=o.replace(/\S/g,"")),o}rawBeforeOpen(i){let s;return i.walk(o=>{if(o.type!=="decl"&&(s=o.raws.between,typeof s<"u"))return!1}),s}rawBeforeRule(i){let s;return i.walk(o=>{if(o.nodes&&(o.parent!==i||i.first!==o)&&typeof o.raws.before<"u")return s=o.raws.before,s.includes(`
     `)&&(s=s.replace(/[^\n]+$/,"")),!1}),s&&(s=s.replace(/\S/g,"")),s}rawColon(i){let s;return i.walkDecls(o=>{if(typeof o.raws.between<"u")return s=o.raws.between.replace(/[^\s:]/g,""),!1}),s}rawEmptyBody(i){let s;return i.walk(o=>{if(o.nodes&&o.nodes.length===0&&(s=o.raws.after,typeof s<"u"))return!1}),s}rawIndent(i){if(i.raws.indent)return i.raws.indent;let s;return i.walk(o=>{let l=o.parent;if(l&&l!==i&&l.parent&&l.parent===i&&typeof o.raws.before<"u"){let f=o.raws.before.split(`
    -`);return s=f[f.length-1],s=s.replace(/\S/g,""),!1}}),s}rawSemicolon(i){let s;return i.walk(o=>{if(o.nodes&&o.nodes.length&&o.last.type==="decl"&&(s=o.raws.semicolon,typeof s<"u"))return!1}),s}rawValue(i,s){let o=i[s],l=i.raws[s];return l&&l.value===o?l.raw:o}root(i){this.body(i),i.raws.after&&this.builder(i.raws.after)}rule(i){this.block(i,this.rawValue(i,"selector")),i.raws.ownSemicolon&&this.builder(i.raws.ownSemicolon,i,"end")}stringify(i,s){if(!this[i.type])throw new Error("Unknown AST node type "+i.type+". Maybe you need to change PostCSS stringifier.");this[i.type](i,s)}}return sx=n,n.default=n,sx}var ax,W3;function Tm(){if(W3)return ax;W3=1;let t=TR();function e(n,r){new t(r).stringify(n)}return ax=e,e.default=e,ax}var Pd={},K3;function y_(){return K3||(K3=1,Pd.isClean=Symbol("isClean"),Pd.my=Symbol("my")),Pd}var ox,Y3;function Em(){if(Y3)return ox;Y3=1;let t=x_(),e=TR(),n=Tm(),{isClean:r,my:i}=y_();function s(f,c){let d=new f.constructor;for(let g in f){if(!Object.prototype.hasOwnProperty.call(f,g)||g==="proxyCache")continue;let p=f[g],x=typeof p;g==="parent"&&x==="object"?c&&(d[g]=c):g==="source"?d[g]=p:Array.isArray(p)?d[g]=p.map(_=>s(_,d)):(x==="object"&&p!==null&&(p=s(p)),d[g]=p)}return d}function o(f,c){if(c&&typeof c.offset<"u")return c.offset;let d=1,g=1,p=0;for(let x=0;x<f.length;x++){if(g===c.line&&d===c.column){p=x;break}f[x]===`
    +`);return s=f[f.length-1],s=s.replace(/\S/g,""),!1}}),s}rawSemicolon(i){let s;return i.walk(o=>{if(o.nodes&&o.nodes.length&&o.last.type==="decl"&&(s=o.raws.semicolon,typeof s<"u"))return!1}),s}rawValue(i,s){let o=i[s],l=i.raws[s];return l&&l.value===o?l.raw:o}root(i){this.body(i),i.raws.after&&this.builder(i.raws.after)}rule(i){this.block(i,this.rawValue(i,"selector")),i.raws.ownSemicolon&&this.builder(i.raws.ownSemicolon,i,"end")}stringify(i,s){if(!this[i.type])throw new Error("Unknown AST node type "+i.type+". Maybe you need to change PostCSS stringifier.");this[i.type](i,s)}}return ux=n,n.default=n,ux}var lx,Y3;function wm(){if(Y3)return lx;Y3=1;let t=AR();function e(n,r){new t(r).stringify(n)}return lx=e,e.default=e,lx}var Ld={},X3;function T_(){return X3||(X3=1,Ld.isClean=Symbol("isClean"),Ld.my=Symbol("my")),Ld}var cx,J3;function Sm(){if(J3)return cx;J3=1;let t=__(),e=AR(),n=wm(),{isClean:r,my:i}=T_();function s(f,c){let d=new f.constructor;for(let g in f){if(!Object.prototype.hasOwnProperty.call(f,g)||g==="proxyCache")continue;let p=f[g],x=typeof p;g==="parent"&&x==="object"?c&&(d[g]=c):g==="source"?d[g]=p:Array.isArray(p)?d[g]=p.map(_=>s(_,d)):(x==="object"&&p!==null&&(p=s(p)),d[g]=p)}return d}function o(f,c){if(c&&typeof c.offset<"u")return c.offset;let d=1,g=1,p=0;for(let x=0;x<f.length;x++){if(g===c.line&&d===c.column){p=x;break}f[x]===`
     `?(d=1,g+=1):d+=1}return p}class l{get proxyOf(){return this}constructor(c={}){this.raws={},this[r]=!1,this[i]=!0;for(let d in c)if(d==="nodes"){this.nodes=[];for(let g of c[d])typeof g.clone=="function"?this.append(g.clone()):this.append(g)}else this[d]=c[d]}addToError(c){if(c.postcssNode=this,c.stack&&this.source&&/\n\s{4}at /.test(c.stack)){let d=this.source;c.stack=c.stack.replace(/\n\s{4}at /,`$&${d.input.from}:${d.start.line}:${d.start.column}$&`)}return c}after(c){return this.parent.insertAfter(this,c),this}assign(c={}){for(let d in c)this[d]=c[d];return this}before(c){return this.parent.insertBefore(this,c),this}cleanRaws(c){delete this.raws.before,delete this.raws.after,c||delete this.raws.between}clone(c={}){let d=s(this);for(let g in c)d[g]=c[g];return d}cloneAfter(c={}){let d=this.clone(c);return this.parent.insertAfter(this,d),d}cloneBefore(c={}){let d=this.clone(c);return this.parent.insertBefore(this,d),d}error(c,d={}){if(this.source){let{end:g,start:p}=this.rangeBy(d);return this.source.input.error(c,{column:p.column,line:p.line},{column:g.column,line:g.line},d)}return new t(c)}getProxyProcessor(){return{get(c,d){return d==="proxyOf"?c:d==="root"?()=>c.root().toProxy():c[d]},set(c,d,g){return c[d]===g||(c[d]=g,(d==="prop"||d==="value"||d==="name"||d==="params"||d==="important"||d==="text")&&c.markDirty()),!0}}}markClean(){this[r]=!0}markDirty(){if(this[r]){this[r]=!1;let c=this;for(;c=c.parent;)c[r]=!1}}next(){if(!this.parent)return;let c=this.parent.index(this);return this.parent.nodes[c+1]}positionBy(c={}){let d=this.source.start;if(c.index)d=this.positionInside(c.index);else if(c.word){let g="document"in this.source.input?this.source.input.document:this.source.input.css,x=g.slice(o(g,this.source.start),o(g,this.source.end)).indexOf(c.word);x!==-1&&(d=this.positionInside(x))}return d}positionInside(c){let d=this.source.start.column,g=this.source.start.line,p="document"in this.source.input?this.source.input.document:this.source.input.css,x=o(p,this.source.start),_=x+c;for(let b=x;b<_;b++)p[b]===`
    -`?(d=1,g+=1):d+=1;return{column:d,line:g,offset:_}}prev(){if(!this.parent)return;let c=this.parent.index(this);return this.parent.nodes[c-1]}rangeBy(c={}){let d="document"in this.source.input?this.source.input.document:this.source.input.css,g={column:this.source.start.column,line:this.source.start.line,offset:o(d,this.source.start)},p=this.source.end?{column:this.source.end.column+1,line:this.source.end.line,offset:typeof this.source.end.offset=="number"?this.source.end.offset:o(d,this.source.end)+1}:{column:g.column+1,line:g.line,offset:g.offset+1};if(c.word){let _=d.slice(o(d,this.source.start),o(d,this.source.end)).indexOf(c.word);_!==-1&&(g=this.positionInside(_),p=this.positionInside(_+c.word.length))}else c.start?g={column:c.start.column,line:c.start.line,offset:o(d,c.start)}:c.index&&(g=this.positionInside(c.index)),c.end?p={column:c.end.column,line:c.end.line,offset:o(d,c.end)}:typeof c.endIndex=="number"?p=this.positionInside(c.endIndex):c.index&&(p=this.positionInside(c.index+1));return(p.line<g.line||p.line===g.line&&p.column<=g.column)&&(p={column:g.column+1,line:g.line,offset:g.offset+1}),{end:p,start:g}}raw(c,d){return new e().raw(this,c,d)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...c){if(this.parent){let d=this,g=!1;for(let p of c)p===this?g=!0:g?(this.parent.insertAfter(d,p),d=p):this.parent.insertBefore(d,p);g||this.remove()}return this}root(){let c=this;for(;c.parent&&c.parent.type!=="document";)c=c.parent;return c}toJSON(c,d){let g={},p=d==null;d=d||new Map;let x=0;for(let _ in this){if(!Object.prototype.hasOwnProperty.call(this,_)||_==="parent"||_==="proxyCache")continue;let b=this[_];if(Array.isArray(b))g[_]=b.map(C=>typeof C=="object"&&C.toJSON?C.toJSON(null,d):C);else if(typeof b=="object"&&b.toJSON)g[_]=b.toJSON(null,d);else if(_==="source"){if(b==null)continue;let C=d.get(b.input);C==null&&(C=x,d.set(b.input,x),x++),g[_]={end:b.end,inputId:C,start:b.start}}else g[_]=b}return p&&(g.inputs=[...d.keys()].map(_=>_.toJSON())),g}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(c=n){c.stringify&&(c=c.stringify);let d="";return c(this,g=>{d+=g}),d}warn(c,d,g={}){let p={node:this};for(let x in g)p[x]=g[x];return c.warn(d,p)}}return ox=l,l.default=l,ox}var ux,X3;function bm(){if(X3)return ux;X3=1;let t=Em();class e extends t{constructor(r){super(r),this.type="comment"}}return ux=e,e.default=e,ux}var lx,J3;function wm(){if(J3)return lx;J3=1;let t=Em();class e extends t{get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}constructor(r){r&&typeof r.value<"u"&&typeof r.value!="string"&&(r={...r,value:String(r.value)}),super(r),this.type="decl"}}return lx=e,e.default=e,lx}var cx,Q3;function Ku(){if(Q3)return cx;Q3=1;let t=bm(),e=wm(),n=Em(),{isClean:r,my:i}=y_(),s,o,l,f;function c(p){return p.map(x=>(x.nodes&&(x.nodes=c(x.nodes)),delete x.source,x))}function d(p){if(p[r]=!1,p.proxyOf.nodes)for(let x of p.proxyOf.nodes)d(x)}class g extends n{get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}append(...x){for(let _ of x){let b=this.normalize(_,this.last);for(let C of b)this.proxyOf.nodes.push(C)}return this.markDirty(),this}cleanRaws(x){if(super.cleanRaws(x),this.nodes)for(let _ of this.nodes)_.cleanRaws(x)}each(x){if(!this.proxyOf.nodes)return;let _=this.getIterator(),b,C;for(;this.indexes[_]<this.proxyOf.nodes.length&&(b=this.indexes[_],C=x(this.proxyOf.nodes[b],b),C!==!1);)this.indexes[_]+=1;return delete this.indexes[_],C}every(x){return this.nodes.every(x)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let x=this.lastEach;return this.indexes[x]=0,x}getProxyProcessor(){return{get(x,_){return _==="proxyOf"?x:x[_]?_==="each"||typeof _=="string"&&_.startsWith("walk")?(...b)=>x[_](...b.map(C=>typeof C=="function"?(I,M)=>C(I.toProxy(),M):C)):_==="every"||_==="some"?b=>x[_]((C,...I)=>b(C.toProxy(),...I)):_==="root"?()=>x.root().toProxy():_==="nodes"?x.nodes.map(b=>b.toProxy()):_==="first"||_==="last"?x[_].toProxy():x[_]:x[_]},set(x,_,b){return x[_]===b||(x[_]=b,(_==="name"||_==="params"||_==="selector")&&x.markDirty()),!0}}}index(x){return typeof x=="number"?x:(x.proxyOf&&(x=x.proxyOf),this.proxyOf.nodes.indexOf(x))}insertAfter(x,_){let b=this.index(x),C=this.normalize(_,this.proxyOf.nodes[b]).reverse();b=this.index(x);for(let M of C)this.proxyOf.nodes.splice(b+1,0,M);let I;for(let M in this.indexes)I=this.indexes[M],b<I&&(this.indexes[M]=I+C.length);return this.markDirty(),this}insertBefore(x,_){let b=this.index(x),C=b===0?"prepend":!1,I=this.normalize(_,this.proxyOf.nodes[b],C).reverse();b=this.index(x);for(let A of I)this.proxyOf.nodes.splice(b,0,A);let M;for(let A in this.indexes)M=this.indexes[A],b<=M&&(this.indexes[A]=M+I.length);return this.markDirty(),this}normalize(x,_){if(typeof x=="string")x=c(o(x).nodes);else if(typeof x>"u")x=[];else if(Array.isArray(x)){x=x.slice(0);for(let C of x)C.parent&&C.parent.removeChild(C,"ignore")}else if(x.type==="root"&&this.type!=="document"){x=x.nodes.slice(0);for(let C of x)C.parent&&C.parent.removeChild(C,"ignore")}else if(x.type)x=[x];else if(x.prop){if(typeof x.value>"u")throw new Error("Value field is missed in node creation");typeof x.value!="string"&&(x.value=String(x.value)),x=[new e(x)]}else if(x.selector||x.selectors)x=[new f(x)];else if(x.name)x=[new s(x)];else if(x.text)x=[new t(x)];else throw new Error("Unknown node type in node creation");return x.map(C=>(C[i]||g.rebuild(C),C=C.proxyOf,C.parent&&C.parent.removeChild(C),C[r]&&d(C),C.raws||(C.raws={}),typeof C.raws.before>"u"&&_&&typeof _.raws.before<"u"&&(C.raws.before=_.raws.before.replace(/\S/g,"")),C.parent=this.proxyOf,C))}prepend(...x){x=x.reverse();for(let _ of x){let b=this.normalize(_,this.first,"prepend").reverse();for(let C of b)this.proxyOf.nodes.unshift(C);for(let C in this.indexes)this.indexes[C]=this.indexes[C]+b.length}return this.markDirty(),this}push(x){return x.parent=this,this.proxyOf.nodes.push(x),this}removeAll(){for(let x of this.proxyOf.nodes)x.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(x){x=this.index(x),this.proxyOf.nodes[x].parent=void 0,this.proxyOf.nodes.splice(x,1);let _;for(let b in this.indexes)_=this.indexes[b],_>=x&&(this.indexes[b]=_-1);return this.markDirty(),this}replaceValues(x,_,b){return b||(b=_,_={}),this.walkDecls(C=>{_.props&&!_.props.includes(C.prop)||_.fast&&!C.value.includes(_.fast)||(C.value=C.value.replace(x,b))}),this.markDirty(),this}some(x){return this.nodes.some(x)}walk(x){return this.each((_,b)=>{let C;try{C=x(_,b)}catch(I){throw _.addToError(I)}return C!==!1&&_.walk&&(C=_.walk(x)),C})}walkAtRules(x,_){return _?x instanceof RegExp?this.walk((b,C)=>{if(b.type==="atrule"&&x.test(b.name))return _(b,C)}):this.walk((b,C)=>{if(b.type==="atrule"&&b.name===x)return _(b,C)}):(_=x,this.walk((b,C)=>{if(b.type==="atrule")return _(b,C)}))}walkComments(x){return this.walk((_,b)=>{if(_.type==="comment")return x(_,b)})}walkDecls(x,_){return _?x instanceof RegExp?this.walk((b,C)=>{if(b.type==="decl"&&x.test(b.prop))return _(b,C)}):this.walk((b,C)=>{if(b.type==="decl"&&b.prop===x)return _(b,C)}):(_=x,this.walk((b,C)=>{if(b.type==="decl")return _(b,C)}))}walkRules(x,_){return _?x instanceof RegExp?this.walk((b,C)=>{if(b.type==="rule"&&x.test(b.selector))return _(b,C)}):this.walk((b,C)=>{if(b.type==="rule"&&b.selector===x)return _(b,C)}):(_=x,this.walk((b,C)=>{if(b.type==="rule")return _(b,C)}))}}return g.registerParse=p=>{o=p},g.registerRule=p=>{f=p},g.registerAtRule=p=>{s=p},g.registerRoot=p=>{l=p},cx=g,g.default=g,g.rebuild=p=>{p.type==="atrule"?Object.setPrototypeOf(p,s.prototype):p.type==="rule"?Object.setPrototypeOf(p,f.prototype):p.type==="decl"?Object.setPrototypeOf(p,e.prototype):p.type==="comment"?Object.setPrototypeOf(p,t.prototype):p.type==="root"&&Object.setPrototypeOf(p,l.prototype),p[i]=!0,p.nodes&&p.nodes.forEach(x=>{g.rebuild(x)})},cx}var fx,Z3;function v_(){if(Z3)return fx;Z3=1;let t=Ku();class e extends t{constructor(r){super(r),this.type="atrule"}append(...r){return this.proxyOf.nodes||(this.nodes=[]),super.append(...r)}prepend(...r){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...r)}}return fx=e,e.default=e,t.registerAtRule(e),fx}var hx,eC;function __(){if(eC)return hx;eC=1;let t=Ku(),e,n;class r extends t{constructor(s){super({type:"document",...s}),this.nodes||(this.nodes=[])}toResult(s={}){return new e(new n,this,s).stringify()}}return r.registerLazyResult=i=>{e=i},r.registerProcessor=i=>{n=i},hx=r,r.default=r,hx}var dx,tC;function mQ(){if(tC)return dx;tC=1;let t="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";return dx={nanoid:(r=21)=>{let i="",s=r|0;for(;s--;)i+=t[Math.random()*64|0];return i},customAlphabet:(r,i=21)=>(s=i)=>{let o="",l=s|0;for(;l--;)o+=r[Math.random()*r.length|0];return o}},dx}var px,nC;function ER(){if(nC)return px;nC=1;let{existsSync:t,readFileSync:e}=is,{dirname:n,join:r}=is,{SourceMapConsumer:i,SourceMapGenerator:s}=is;function o(f){return Buffer?Buffer.from(f,"base64").toString():window.atob(f)}class l{constructor(c,d){if(d.map===!1)return;this.loadAnnotation(c),this.inline=this.startWith(this.annotation,"data:");let g=d.map?d.map.prev:void 0,p=this.loadMap(d.from,g);!this.mapFile&&d.from&&(this.mapFile=d.from),this.mapFile&&(this.root=n(this.mapFile)),p&&(this.text=p)}consumer(){return this.consumerCache||(this.consumerCache=new i(this.text)),this.consumerCache}decodeInline(c){let d=/^data:application\/json;charset=utf-?8;base64,/,g=/^data:application\/json;base64,/,p=/^data:application\/json;charset=utf-?8,/,x=/^data:application\/json,/,_=c.match(p)||c.match(x);if(_)return decodeURIComponent(c.substr(_[0].length));let b=c.match(d)||c.match(g);if(b)return o(c.substr(b[0].length));let C=c.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+C)}getAnnotationURL(c){return c.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(c){return typeof c!="object"?!1:typeof c.mappings=="string"||typeof c._mappings=="string"||Array.isArray(c.sections)}loadAnnotation(c){let d=c.match(/\/\*\s*# sourceMappingURL=/g);if(!d)return;let g=c.lastIndexOf(d.pop()),p=c.indexOf("*/",g);g>-1&&p>-1&&(this.annotation=this.getAnnotationURL(c.substring(g,p)))}loadFile(c){if(this.root=n(c),t(c))return this.mapFile=c,e(c,"utf-8").toString().trim()}loadMap(c,d){if(d===!1)return!1;if(d){if(typeof d=="string")return d;if(typeof d=="function"){let g=d(c);if(g){let p=this.loadFile(g);if(!p)throw new Error("Unable to load previous source map: "+g.toString());return p}}else{if(d instanceof i)return s.fromSourceMap(d).toString();if(d instanceof s)return d.toString();if(this.isMap(d))return JSON.stringify(d);throw new Error("Unsupported previous source map format: "+d.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let g=this.annotation;return c&&(g=r(n(c),g)),this.loadFile(g)}}}startWith(c,d){return c?c.substr(0,d.length)===d:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}return px=l,l.default=l,px}var mx,rC;function Sm(){if(rC)return mx;rC=1;let{nanoid:t}=mQ(),{isAbsolute:e,resolve:n}=is,{SourceMapConsumer:r,SourceMapGenerator:i}=is,{fileURLToPath:s,pathToFileURL:o}=is,l=x_(),f=ER(),c=is,d=Symbol("lineToIndexCache"),g=!!(r&&i),p=!!(n&&e);function x(b){if(b[d])return b[d];let C=b.css.split(`
    -`),I=new Array(C.length),M=0;for(let A=0,P=C.length;A<P;A++)I[A]=M,M+=C[A].length+1;return b[d]=I,I}class _{get from(){return this.file||this.id}constructor(C,I={}){if(C===null||typeof C>"u"||typeof C=="object"&&!C.toString)throw new Error(`PostCSS received ${C} instead of CSS string`);if(this.css=C.toString(),this.css[0]==="\uFEFF"||this.css[0]===""?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,this.document=this.css,I.document&&(this.document=I.document.toString()),I.from&&(!p||/^\w+:\/\//.test(I.from)||e(I.from)?this.file=I.from:this.file=n(I.from)),p&&g){let M=new f(this.css,I);if(M.text){this.map=M;let A=M.consumer().file;!this.file&&A&&(this.file=this.mapResolve(A))}}this.file||(this.id="<input css "+t(6)+">"),this.map&&(this.map.file=this.from)}error(C,I,M,A={}){let P,D,V,N,k;if(I&&typeof I=="object"){let O=I,L=M;if(typeof O.offset=="number"){N=O.offset;let U=this.fromOffset(N);I=U.line,M=U.col}else I=O.line,M=O.column,N=this.fromLineAndColumn(I,M);if(typeof L.offset=="number"){V=L.offset;let U=this.fromOffset(V);D=U.line,P=U.col}else D=L.line,P=L.column,V=this.fromLineAndColumn(L.line,L.column)}else if(M)N=this.fromLineAndColumn(I,M);else{N=I;let O=this.fromOffset(N);I=O.line,M=O.col}let R=this.origin(I,M,D,P);return R?k=new l(C,R.endLine===void 0?R.line:{column:R.column,line:R.line},R.endLine===void 0?R.column:{column:R.endColumn,line:R.endLine},R.source,R.file,A.plugin):k=new l(C,D===void 0?I:{column:M,line:I},D===void 0?M:{column:P,line:D},this.css,this.file,A.plugin),k.input={column:M,endColumn:P,endLine:D,endOffset:V,line:I,offset:N,source:this.css},this.file&&(o&&(k.input.url=o(this.file).toString()),k.input.file=this.file),k}fromLineAndColumn(C,I){return x(this)[C-1]+I-1}fromOffset(C){let I=x(this),M=I[I.length-1],A=0;if(C>=M)A=I.length-1;else{let P=I.length-2,D;for(;A<P;)if(D=A+(P-A>>1),C<I[D])P=D-1;else if(C>=I[D+1])A=D+1;else{A=D;break}}return{col:C-I[A]+1,line:A+1}}mapResolve(C){return/^\w+:\/\//.test(C)?C:n(this.map.consumer().sourceRoot||this.map.root||".",C)}origin(C,I,M,A){if(!this.map)return!1;let P=this.map.consumer(),D=P.originalPositionFor({column:I,line:C});if(!D.source)return!1;let V;typeof M=="number"&&(V=P.originalPositionFor({column:A,line:M}));let N;e(D.source)?N=o(D.source):N=new URL(D.source,this.map.consumer().sourceRoot||o(this.map.mapFile));let k={column:D.column,endColumn:V&&V.column,endLine:V&&V.line,line:D.line,url:N.toString()};if(N.protocol==="file:")if(s)k.file=s(N);else throw new Error("file: protocol is not available in this PostCSS build");let R=P.sourceContentFor(D.source);return R&&(k.source=R),k}toJSON(){let C={};for(let I of["hasBOM","css","file","id"])this[I]!=null&&(C[I]=this[I]);return this.map&&(C.map={...this.map},C.map.consumerCache&&(C.map.consumerCache=void 0)),C}}return mx=_,_.default=_,c&&c.registerInput&&c.registerInput(_),mx}var gx,iC;function $0(){if(iC)return gx;iC=1;let t=Ku(),e,n;class r extends t{constructor(s){super(s),this.type="root",this.nodes||(this.nodes=[])}normalize(s,o,l){let f=super.normalize(s);if(o){if(l==="prepend")this.nodes.length>1?o.raws.before=this.nodes[1].raws.before:delete o.raws.before;else if(this.first!==o)for(let c of f)c.raws.before=o.raws.before}return f}removeChild(s,o){let l=this.index(s);return!o&&l===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[l].raws.before),super.removeChild(s)}toResult(s={}){return new e(new n,this,s).stringify()}}return r.registerLazyResult=i=>{e=i},r.registerProcessor=i=>{n=i},gx=r,r.default=r,t.registerRoot(r),gx}var xx,sC;function bR(){if(sC)return xx;sC=1;let t={comma(e){return t.split(e,[","],!0)},space(e){let n=[" ",`
    -`,"	"];return t.split(e,n)},split(e,n,r){let i=[],s="",o=!1,l=0,f=!1,c="",d=!1;for(let g of e)d?d=!1:g==="\\"?d=!0:f?g===c&&(f=!1):g==='"'||g==="'"?(f=!0,c=g):g==="("?l+=1:g===")"?l>0&&(l-=1):l===0&&n.includes(g)&&(o=!0),o?(s!==""&&i.push(s.trim()),s="",o=!1):s+=g;return(r||s!=="")&&i.push(s.trim()),i}};return xx=t,t.default=t,xx}var yx,aC;function T_(){if(aC)return yx;aC=1;let t=Ku(),e=bR();class n extends t{get selectors(){return e.comma(this.selector)}set selectors(i){let s=this.selector?this.selector.match(/,\s*/):null,o=s?s[0]:","+this.raw("between","beforeOpen");this.selector=i.join(o)}constructor(i){super(i),this.type="rule",this.nodes||(this.nodes=[])}}return yx=n,n.default=n,t.registerRule(n),yx}var vx,oC;function gQ(){if(oC)return vx;oC=1;let t=v_(),e=bm(),n=wm(),r=Sm(),i=ER(),s=$0(),o=T_();function l(f,c){if(Array.isArray(f))return f.map(p=>l(p));let{inputs:d,...g}=f;if(d){c=[];for(let p of d){let x={...p,__proto__:r.prototype};x.map&&(x.map={...x.map,__proto__:i.prototype}),c.push(x)}}if(g.nodes&&(g.nodes=f.nodes.map(p=>l(p,c))),g.source){let{inputId:p,...x}=g.source;g.source=x,p!=null&&(g.source.input=c[p])}if(g.type==="root")return new s(g);if(g.type==="decl")return new n(g);if(g.type==="rule")return new o(g);if(g.type==="comment")return new e(g);if(g.type==="atrule")return new t(g);throw new Error("Unknown node type: "+f.type)}return vx=l,l.default=l,vx}var _x,uC;function wR(){if(uC)return _x;uC=1;let{dirname:t,relative:e,resolve:n,sep:r}=is,{SourceMapConsumer:i,SourceMapGenerator:s}=is,{pathToFileURL:o}=is,l=Sm(),f=!!(i&&s),c=!!(t&&n&&e&&r);class d{constructor(p,x,_,b){this.stringify=p,this.mapOpts=_.map||{},this.root=x,this.opts=_,this.css=b,this.originalCSS=b,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let p;this.isInline()?p="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?p=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?p=this.mapOpts.annotation(this.opts.to,this.root):p=this.outputFile()+".map";let x=`
    +`?(d=1,g+=1):d+=1;return{column:d,line:g,offset:_}}prev(){if(!this.parent)return;let c=this.parent.index(this);return this.parent.nodes[c-1]}rangeBy(c={}){let d="document"in this.source.input?this.source.input.document:this.source.input.css,g={column:this.source.start.column,line:this.source.start.line,offset:o(d,this.source.start)},p=this.source.end?{column:this.source.end.column+1,line:this.source.end.line,offset:typeof this.source.end.offset=="number"?this.source.end.offset:o(d,this.source.end)+1}:{column:g.column+1,line:g.line,offset:g.offset+1};if(c.word){let _=d.slice(o(d,this.source.start),o(d,this.source.end)).indexOf(c.word);_!==-1&&(g=this.positionInside(_),p=this.positionInside(_+c.word.length))}else c.start?g={column:c.start.column,line:c.start.line,offset:o(d,c.start)}:c.index&&(g=this.positionInside(c.index)),c.end?p={column:c.end.column,line:c.end.line,offset:o(d,c.end)}:typeof c.endIndex=="number"?p=this.positionInside(c.endIndex):c.index&&(p=this.positionInside(c.index+1));return(p.line<g.line||p.line===g.line&&p.column<=g.column)&&(p={column:g.column+1,line:g.line,offset:g.offset+1}),{end:p,start:g}}raw(c,d){return new e().raw(this,c,d)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...c){if(this.parent){let d=this,g=!1;for(let p of c)p===this?g=!0:g?(this.parent.insertAfter(d,p),d=p):this.parent.insertBefore(d,p);g||this.remove()}return this}root(){let c=this;for(;c.parent&&c.parent.type!=="document";)c=c.parent;return c}toJSON(c,d){let g={},p=d==null;d=d||new Map;let x=0;for(let _ in this){if(!Object.prototype.hasOwnProperty.call(this,_)||_==="parent"||_==="proxyCache")continue;let b=this[_];if(Array.isArray(b))g[_]=b.map(C=>typeof C=="object"&&C.toJSON?C.toJSON(null,d):C);else if(typeof b=="object"&&b.toJSON)g[_]=b.toJSON(null,d);else if(_==="source"){if(b==null)continue;let C=d.get(b.input);C==null&&(C=x,d.set(b.input,x),x++),g[_]={end:b.end,inputId:C,start:b.start}}else g[_]=b}return p&&(g.inputs=[...d.keys()].map(_=>_.toJSON())),g}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(c=n){c.stringify&&(c=c.stringify);let d="";return c(this,g=>{d+=g}),d}warn(c,d,g={}){let p={node:this};for(let x in g)p[x]=g[x];return c.warn(d,p)}}return cx=l,l.default=l,cx}var fx,Q3;function Am(){if(Q3)return fx;Q3=1;let t=Sm();class e extends t{constructor(r){super(r),this.type="comment"}}return fx=e,e.default=e,fx}var hx,Z3;function Cm(){if(Z3)return hx;Z3=1;let t=Sm();class e extends t{get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}constructor(r){r&&typeof r.value<"u"&&typeof r.value!="string"&&(r={...r,value:String(r.value)}),super(r),this.type="decl"}}return hx=e,e.default=e,hx}var dx,eC;function Xu(){if(eC)return dx;eC=1;let t=Am(),e=Cm(),n=Sm(),{isClean:r,my:i}=T_(),s,o,l,f;function c(p){return p.map(x=>(x.nodes&&(x.nodes=c(x.nodes)),delete x.source,x))}function d(p){if(p[r]=!1,p.proxyOf.nodes)for(let x of p.proxyOf.nodes)d(x)}class g extends n{get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}append(...x){for(let _ of x){let b=this.normalize(_,this.last);for(let C of b)this.proxyOf.nodes.push(C)}return this.markDirty(),this}cleanRaws(x){if(super.cleanRaws(x),this.nodes)for(let _ of this.nodes)_.cleanRaws(x)}each(x){if(!this.proxyOf.nodes)return;let _=this.getIterator(),b,C;for(;this.indexes[_]<this.proxyOf.nodes.length&&(b=this.indexes[_],C=x(this.proxyOf.nodes[b],b),C!==!1);)this.indexes[_]+=1;return delete this.indexes[_],C}every(x){return this.nodes.every(x)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let x=this.lastEach;return this.indexes[x]=0,x}getProxyProcessor(){return{get(x,_){return _==="proxyOf"?x:x[_]?_==="each"||typeof _=="string"&&_.startsWith("walk")?(...b)=>x[_](...b.map(C=>typeof C=="function"?(I,D)=>C(I.toProxy(),D):C)):_==="every"||_==="some"?b=>x[_]((C,...I)=>b(C.toProxy(),...I)):_==="root"?()=>x.root().toProxy():_==="nodes"?x.nodes.map(b=>b.toProxy()):_==="first"||_==="last"?x[_].toProxy():x[_]:x[_]},set(x,_,b){return x[_]===b||(x[_]=b,(_==="name"||_==="params"||_==="selector")&&x.markDirty()),!0}}}index(x){return typeof x=="number"?x:(x.proxyOf&&(x=x.proxyOf),this.proxyOf.nodes.indexOf(x))}insertAfter(x,_){let b=this.index(x),C=this.normalize(_,this.proxyOf.nodes[b]).reverse();b=this.index(x);for(let D of C)this.proxyOf.nodes.splice(b+1,0,D);let I;for(let D in this.indexes)I=this.indexes[D],b<I&&(this.indexes[D]=I+C.length);return this.markDirty(),this}insertBefore(x,_){let b=this.index(x),C=b===0?"prepend":!1,I=this.normalize(_,this.proxyOf.nodes[b],C).reverse();b=this.index(x);for(let A of I)this.proxyOf.nodes.splice(b,0,A);let D;for(let A in this.indexes)D=this.indexes[A],b<=D&&(this.indexes[A]=D+I.length);return this.markDirty(),this}normalize(x,_){if(typeof x=="string")x=c(o(x).nodes);else if(typeof x>"u")x=[];else if(Array.isArray(x)){x=x.slice(0);for(let C of x)C.parent&&C.parent.removeChild(C,"ignore")}else if(x.type==="root"&&this.type!=="document"){x=x.nodes.slice(0);for(let C of x)C.parent&&C.parent.removeChild(C,"ignore")}else if(x.type)x=[x];else if(x.prop){if(typeof x.value>"u")throw new Error("Value field is missed in node creation");typeof x.value!="string"&&(x.value=String(x.value)),x=[new e(x)]}else if(x.selector||x.selectors)x=[new f(x)];else if(x.name)x=[new s(x)];else if(x.text)x=[new t(x)];else throw new Error("Unknown node type in node creation");return x.map(C=>(C[i]||g.rebuild(C),C=C.proxyOf,C.parent&&C.parent.removeChild(C),C[r]&&d(C),C.raws||(C.raws={}),typeof C.raws.before>"u"&&_&&typeof _.raws.before<"u"&&(C.raws.before=_.raws.before.replace(/\S/g,"")),C.parent=this.proxyOf,C))}prepend(...x){x=x.reverse();for(let _ of x){let b=this.normalize(_,this.first,"prepend").reverse();for(let C of b)this.proxyOf.nodes.unshift(C);for(let C in this.indexes)this.indexes[C]=this.indexes[C]+b.length}return this.markDirty(),this}push(x){return x.parent=this,this.proxyOf.nodes.push(x),this}removeAll(){for(let x of this.proxyOf.nodes)x.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(x){x=this.index(x),this.proxyOf.nodes[x].parent=void 0,this.proxyOf.nodes.splice(x,1);let _;for(let b in this.indexes)_=this.indexes[b],_>=x&&(this.indexes[b]=_-1);return this.markDirty(),this}replaceValues(x,_,b){return b||(b=_,_={}),this.walkDecls(C=>{_.props&&!_.props.includes(C.prop)||_.fast&&!C.value.includes(_.fast)||(C.value=C.value.replace(x,b))}),this.markDirty(),this}some(x){return this.nodes.some(x)}walk(x){return this.each((_,b)=>{let C;try{C=x(_,b)}catch(I){throw _.addToError(I)}return C!==!1&&_.walk&&(C=_.walk(x)),C})}walkAtRules(x,_){return _?x instanceof RegExp?this.walk((b,C)=>{if(b.type==="atrule"&&x.test(b.name))return _(b,C)}):this.walk((b,C)=>{if(b.type==="atrule"&&b.name===x)return _(b,C)}):(_=x,this.walk((b,C)=>{if(b.type==="atrule")return _(b,C)}))}walkComments(x){return this.walk((_,b)=>{if(_.type==="comment")return x(_,b)})}walkDecls(x,_){return _?x instanceof RegExp?this.walk((b,C)=>{if(b.type==="decl"&&x.test(b.prop))return _(b,C)}):this.walk((b,C)=>{if(b.type==="decl"&&b.prop===x)return _(b,C)}):(_=x,this.walk((b,C)=>{if(b.type==="decl")return _(b,C)}))}walkRules(x,_){return _?x instanceof RegExp?this.walk((b,C)=>{if(b.type==="rule"&&x.test(b.selector))return _(b,C)}):this.walk((b,C)=>{if(b.type==="rule"&&b.selector===x)return _(b,C)}):(_=x,this.walk((b,C)=>{if(b.type==="rule")return _(b,C)}))}}return g.registerParse=p=>{o=p},g.registerRule=p=>{f=p},g.registerAtRule=p=>{s=p},g.registerRoot=p=>{l=p},dx=g,g.default=g,g.rebuild=p=>{p.type==="atrule"?Object.setPrototypeOf(p,s.prototype):p.type==="rule"?Object.setPrototypeOf(p,f.prototype):p.type==="decl"?Object.setPrototypeOf(p,e.prototype):p.type==="comment"?Object.setPrototypeOf(p,t.prototype):p.type==="root"&&Object.setPrototypeOf(p,l.prototype),p[i]=!0,p.nodes&&p.nodes.forEach(x=>{g.rebuild(x)})},dx}var px,tC;function E_(){if(tC)return px;tC=1;let t=Xu();class e extends t{constructor(r){super(r),this.type="atrule"}append(...r){return this.proxyOf.nodes||(this.nodes=[]),super.append(...r)}prepend(...r){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...r)}}return px=e,e.default=e,t.registerAtRule(e),px}var mx,nC;function b_(){if(nC)return mx;nC=1;let t=Xu(),e,n;class r extends t{constructor(s){super({type:"document",...s}),this.nodes||(this.nodes=[])}toResult(s={}){return new e(new n,this,s).stringify()}}return r.registerLazyResult=i=>{e=i},r.registerProcessor=i=>{n=i},mx=r,r.default=r,mx}var gx,rC;function _Q(){if(rC)return gx;rC=1;let t="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";return gx={nanoid:(r=21)=>{let i="",s=r|0;for(;s--;)i+=t[Math.random()*64|0];return i},customAlphabet:(r,i=21)=>(s=i)=>{let o="",l=s|0;for(;l--;)o+=r[Math.random()*r.length|0];return o}},gx}var xx,iC;function CR(){if(iC)return xx;iC=1;let{existsSync:t,readFileSync:e}=is,{dirname:n,join:r}=is,{SourceMapConsumer:i,SourceMapGenerator:s}=is;function o(f){return Buffer?Buffer.from(f,"base64").toString():window.atob(f)}class l{constructor(c,d){if(d.map===!1)return;this.loadAnnotation(c),this.inline=this.startWith(this.annotation,"data:");let g=d.map?d.map.prev:void 0,p=this.loadMap(d.from,g);!this.mapFile&&d.from&&(this.mapFile=d.from),this.mapFile&&(this.root=n(this.mapFile)),p&&(this.text=p)}consumer(){return this.consumerCache||(this.consumerCache=new i(this.text)),this.consumerCache}decodeInline(c){let d=/^data:application\/json;charset=utf-?8;base64,/,g=/^data:application\/json;base64,/,p=/^data:application\/json;charset=utf-?8,/,x=/^data:application\/json,/,_=c.match(p)||c.match(x);if(_)return decodeURIComponent(c.substr(_[0].length));let b=c.match(d)||c.match(g);if(b)return o(c.substr(b[0].length));let C=c.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+C)}getAnnotationURL(c){return c.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(c){return typeof c!="object"?!1:typeof c.mappings=="string"||typeof c._mappings=="string"||Array.isArray(c.sections)}loadAnnotation(c){let d=c.match(/\/\*\s*# sourceMappingURL=/g);if(!d)return;let g=c.lastIndexOf(d.pop()),p=c.indexOf("*/",g);g>-1&&p>-1&&(this.annotation=this.getAnnotationURL(c.substring(g,p)))}loadFile(c){if(this.root=n(c),t(c))return this.mapFile=c,e(c,"utf-8").toString().trim()}loadMap(c,d){if(d===!1)return!1;if(d){if(typeof d=="string")return d;if(typeof d=="function"){let g=d(c);if(g){let p=this.loadFile(g);if(!p)throw new Error("Unable to load previous source map: "+g.toString());return p}}else{if(d instanceof i)return s.fromSourceMap(d).toString();if(d instanceof s)return d.toString();if(this.isMap(d))return JSON.stringify(d);throw new Error("Unsupported previous source map format: "+d.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let g=this.annotation;return c&&(g=r(n(c),g)),this.loadFile(g)}}}startWith(c,d){return c?c.substr(0,d.length)===d:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}return xx=l,l.default=l,xx}var yx,sC;function Im(){if(sC)return yx;sC=1;let{nanoid:t}=_Q(),{isAbsolute:e,resolve:n}=is,{SourceMapConsumer:r,SourceMapGenerator:i}=is,{fileURLToPath:s,pathToFileURL:o}=is,l=__(),f=CR(),c=is,d=Symbol("lineToIndexCache"),g=!!(r&&i),p=!!(n&&e);function x(b){if(b[d])return b[d];let C=b.css.split(`
    +`),I=new Array(C.length),D=0;for(let A=0,P=C.length;A<P;A++)I[A]=D,D+=C[A].length+1;return b[d]=I,I}class _{get from(){return this.file||this.id}constructor(C,I={}){if(C===null||typeof C>"u"||typeof C=="object"&&!C.toString)throw new Error(`PostCSS received ${C} instead of CSS string`);if(this.css=C.toString(),this.css[0]==="\uFEFF"||this.css[0]===""?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,this.document=this.css,I.document&&(this.document=I.document.toString()),I.from&&(!p||/^\w+:\/\//.test(I.from)||e(I.from)?this.file=I.from:this.file=n(I.from)),p&&g){let D=new f(this.css,I);if(D.text){this.map=D;let A=D.consumer().file;!this.file&&A&&(this.file=this.mapResolve(A))}}this.file||(this.id="<input css "+t(6)+">"),this.map&&(this.map.file=this.from)}error(C,I,D,A={}){let P,M,U,N,k;if(I&&typeof I=="object"){let V=I,L=D;if(typeof V.offset=="number"){N=V.offset;let F=this.fromOffset(N);I=F.line,D=F.col}else I=V.line,D=V.column,N=this.fromLineAndColumn(I,D);if(typeof L.offset=="number"){U=L.offset;let F=this.fromOffset(U);M=F.line,P=F.col}else M=L.line,P=L.column,U=this.fromLineAndColumn(L.line,L.column)}else if(D)N=this.fromLineAndColumn(I,D);else{N=I;let V=this.fromOffset(N);I=V.line,D=V.col}let R=this.origin(I,D,M,P);return R?k=new l(C,R.endLine===void 0?R.line:{column:R.column,line:R.line},R.endLine===void 0?R.column:{column:R.endColumn,line:R.endLine},R.source,R.file,A.plugin):k=new l(C,M===void 0?I:{column:D,line:I},M===void 0?D:{column:P,line:M},this.css,this.file,A.plugin),k.input={column:D,endColumn:P,endLine:M,endOffset:U,line:I,offset:N,source:this.css},this.file&&(o&&(k.input.url=o(this.file).toString()),k.input.file=this.file),k}fromLineAndColumn(C,I){return x(this)[C-1]+I-1}fromOffset(C){let I=x(this),D=I[I.length-1],A=0;if(C>=D)A=I.length-1;else{let P=I.length-2,M;for(;A<P;)if(M=A+(P-A>>1),C<I[M])P=M-1;else if(C>=I[M+1])A=M+1;else{A=M;break}}return{col:C-I[A]+1,line:A+1}}mapResolve(C){return/^\w+:\/\//.test(C)?C:n(this.map.consumer().sourceRoot||this.map.root||".",C)}origin(C,I,D,A){if(!this.map)return!1;let P=this.map.consumer(),M=P.originalPositionFor({column:I,line:C});if(!M.source)return!1;let U;typeof D=="number"&&(U=P.originalPositionFor({column:A,line:D}));let N;e(M.source)?N=o(M.source):N=new URL(M.source,this.map.consumer().sourceRoot||o(this.map.mapFile));let k={column:M.column,endColumn:U&&U.column,endLine:U&&U.line,line:M.line,url:N.toString()};if(N.protocol==="file:")if(s)k.file=s(N);else throw new Error("file: protocol is not available in this PostCSS build");let R=P.sourceContentFor(M.source);return R&&(k.source=R),k}toJSON(){let C={};for(let I of["hasBOM","css","file","id"])this[I]!=null&&(C[I]=this[I]);return this.map&&(C.map={...this.map},C.map.consumerCache&&(C.map.consumerCache=void 0)),C}}return yx=_,_.default=_,c&&c.registerInput&&c.registerInput(_),yx}var vx,aC;function W0(){if(aC)return vx;aC=1;let t=Xu(),e,n;class r extends t{constructor(s){super(s),this.type="root",this.nodes||(this.nodes=[])}normalize(s,o,l){let f=super.normalize(s);if(o){if(l==="prepend")this.nodes.length>1?o.raws.before=this.nodes[1].raws.before:delete o.raws.before;else if(this.first!==o)for(let c of f)c.raws.before=o.raws.before}return f}removeChild(s,o){let l=this.index(s);return!o&&l===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[l].raws.before),super.removeChild(s)}toResult(s={}){return new e(new n,this,s).stringify()}}return r.registerLazyResult=i=>{e=i},r.registerProcessor=i=>{n=i},vx=r,r.default=r,t.registerRoot(r),vx}var _x,oC;function IR(){if(oC)return _x;oC=1;let t={comma(e){return t.split(e,[","],!0)},space(e){let n=[" ",`
    +`,"	"];return t.split(e,n)},split(e,n,r){let i=[],s="",o=!1,l=0,f=!1,c="",d=!1;for(let g of e)d?d=!1:g==="\\"?d=!0:f?g===c&&(f=!1):g==='"'||g==="'"?(f=!0,c=g):g==="("?l+=1:g===")"?l>0&&(l-=1):l===0&&n.includes(g)&&(o=!0),o?(s!==""&&i.push(s.trim()),s="",o=!1):s+=g;return(r||s!=="")&&i.push(s.trim()),i}};return _x=t,t.default=t,_x}var Tx,uC;function w_(){if(uC)return Tx;uC=1;let t=Xu(),e=IR();class n extends t{get selectors(){return e.comma(this.selector)}set selectors(i){let s=this.selector?this.selector.match(/,\s*/):null,o=s?s[0]:","+this.raw("between","beforeOpen");this.selector=i.join(o)}constructor(i){super(i),this.type="rule",this.nodes||(this.nodes=[])}}return Tx=n,n.default=n,t.registerRule(n),Tx}var Ex,lC;function TQ(){if(lC)return Ex;lC=1;let t=E_(),e=Am(),n=Cm(),r=Im(),i=CR(),s=W0(),o=w_();function l(f,c){if(Array.isArray(f))return f.map(p=>l(p));let{inputs:d,...g}=f;if(d){c=[];for(let p of d){let x={...p,__proto__:r.prototype};x.map&&(x.map={...x.map,__proto__:i.prototype}),c.push(x)}}if(g.nodes&&(g.nodes=f.nodes.map(p=>l(p,c))),g.source){let{inputId:p,...x}=g.source;g.source=x,p!=null&&(g.source.input=c[p])}if(g.type==="root")return new s(g);if(g.type==="decl")return new n(g);if(g.type==="rule")return new o(g);if(g.type==="comment")return new e(g);if(g.type==="atrule")return new t(g);throw new Error("Unknown node type: "+f.type)}return Ex=l,l.default=l,Ex}var bx,cC;function kR(){if(cC)return bx;cC=1;let{dirname:t,relative:e,resolve:n,sep:r}=is,{SourceMapConsumer:i,SourceMapGenerator:s}=is,{pathToFileURL:o}=is,l=Im(),f=!!(i&&s),c=!!(t&&n&&e&&r);class d{constructor(p,x,_,b){this.stringify=p,this.mapOpts=_.map||{},this.root=x,this.opts=_,this.css=b,this.originalCSS=b,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let p;this.isInline()?p="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?p=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?p=this.mapOpts.annotation(this.opts.to,this.root):p=this.outputFile()+".map";let x=`
     `;this.css.includes(`\r
     `)&&(x=`\r
    -`),this.css+=x+"/*# sourceMappingURL="+p+" */"}applyPrevMaps(){for(let p of this.previous()){let x=this.toUrl(this.path(p.file)),_=p.root||t(p.file),b;this.mapOpts.sourcesContent===!1?(b=new i(p.text),b.sourcesContent&&(b.sourcesContent=null)):b=p.consumer(),this.map.applySourceMap(b,x,this.toUrl(this.path(_)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let p;for(let x=this.root.nodes.length-1;x>=0;x--)p=this.root.nodes[x],p.type==="comment"&&p.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(x)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),c&&f&&this.isMap())return this.generateMap();{let p="";return this.stringify(this.root,x=>{p+=x}),[p]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let p=this.previous()[0].consumer();p.file=this.outputFile(),this.map=s.fromSourceMap(p,{ignoreInvalidMapping:!0})}else this.map=new s({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new s({file:this.outputFile(),ignoreInvalidMapping:!0});let p=1,x=1,_="<no source>",b={generated:{column:0,line:0},original:{column:0,line:0},source:""},C,I;this.stringify(this.root,(M,A,P)=>{if(this.css+=M,A&&P!=="end"&&(b.generated.line=p,b.generated.column=x-1,A.source&&A.source.start?(b.source=this.sourcePath(A),b.original.line=A.source.start.line,b.original.column=A.source.start.column-1,this.map.addMapping(b)):(b.source=_,b.original.line=1,b.original.column=0,this.map.addMapping(b))),I=M.match(/\n/g),I?(p+=I.length,C=M.lastIndexOf(`
    -`),x=M.length-C):x+=M.length,A&&P!=="start"){let D=A.parent||{raws:{}};(!(A.type==="decl"||A.type==="atrule"&&!A.nodes)||A!==D.last||D.raws.semicolon)&&(A.source&&A.source.end?(b.source=this.sourcePath(A),b.original.line=A.source.end.line,b.original.column=A.source.end.column-1,b.generated.line=p,b.generated.column=x-2,this.map.addMapping(b)):(b.source=_,b.original.line=1,b.original.column=0,b.generated.line=p,b.generated.column=x-1,this.map.addMapping(b)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(p=>p.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let p=this.mapOpts.annotation;return typeof p<"u"&&p!==!0?!1:this.previous().length?this.previous().some(x=>x.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(p=>p.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(p){if(this.mapOpts.absolute||p.charCodeAt(0)===60||/^\w+:\/\//.test(p))return p;let x=this.memoizedPaths.get(p);if(x)return x;let _=this.opts.to?t(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(_=t(n(_,this.mapOpts.annotation)));let b=e(_,p);return this.memoizedPaths.set(p,b),b}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(p=>{if(p.source&&p.source.input.map){let x=p.source.input.map;this.previousMaps.includes(x)||this.previousMaps.push(x)}});else{let p=new l(this.originalCSS,this.opts);p.map&&this.previousMaps.push(p.map)}return this.previousMaps}setSourcesContent(){let p={};if(this.root)this.root.walk(x=>{if(x.source){let _=x.source.input.from;if(_&&!p[_]){p[_]=!0;let b=this.usesFileUrls?this.toFileUrl(_):this.toUrl(this.path(_));this.map.setSourceContent(b,x.source.input.css)}}});else if(this.css){let x=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(x,this.css)}}sourcePath(p){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(p.source.input.from):this.toUrl(this.path(p.source.input.from))}toBase64(p){return Buffer?Buffer.from(p).toString("base64"):window.btoa(unescape(encodeURIComponent(p)))}toFileUrl(p){let x=this.memoizedFileURLs.get(p);if(x)return x;if(o){let _=o(p).toString();return this.memoizedFileURLs.set(p,_),_}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(p){let x=this.memoizedURLs.get(p);if(x)return x;r==="\\"&&(p=p.replace(/\\/g,"/"));let _=encodeURI(p).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(p,_),_}}return _x=d,_x}var Tx,lC;function xQ(){if(lC)return Tx;lC=1;const t=39,e=34,n=92,r=47,i=10,s=32,o=12,l=9,f=13,c=91,d=93,g=40,p=41,x=123,_=125,b=59,C=42,I=58,M=64,A=/[\t\n\f\r "#'()/;[\\\]{}]/g,P=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,D=/.[\r\n"'(/\\]/,V=/[\da-f]/i;return Tx=function(k,R={}){let O=k.css.valueOf(),L=R.ignoreErrors,U,q,he,ae,se,ue,Ce,J,be,j,z=O.length,K=0,ee=[],re=[];function pe(){return K}function ke(ce){throw k.error("Unclosed "+ce,K)}function Re(){return re.length===0&&K>=z}function Ae(ce){if(re.length)return re.pop();if(K>=z)return;let Y=ce?ce.ignoreUnclosed:!1;switch(U=O.charCodeAt(K),U){case i:case s:case l:case f:case o:{ae=K;do ae+=1,U=O.charCodeAt(ae);while(U===s||U===i||U===l||U===f||U===o);ue=["space",O.slice(K,ae)],K=ae-1;break}case c:case d:case x:case _:case I:case b:case p:{let Ie=String.fromCharCode(U);ue=[Ie,Ie,K];break}case g:{if(j=ee.length?ee.pop()[1]:"",be=O.charCodeAt(K+1),j==="url"&&be!==t&&be!==e&&be!==s&&be!==i&&be!==l&&be!==o&&be!==f){ae=K;do{if(Ce=!1,ae=O.indexOf(")",ae+1),ae===-1)if(L||Y){ae=K;break}else ke("bracket");for(J=ae;O.charCodeAt(J-1)===n;)J-=1,Ce=!Ce}while(Ce);ue=["brackets",O.slice(K,ae+1),K,ae],K=ae}else ae=O.indexOf(")",K+1),q=O.slice(K,ae+1),ae===-1||D.test(q)?ue=["(","(",K]:(ue=["brackets",q,K,ae],K=ae);break}case t:case e:{se=U===t?"'":'"',ae=K;do{if(Ce=!1,ae=O.indexOf(se,ae+1),ae===-1)if(L||Y){ae=K+1;break}else ke("string");for(J=ae;O.charCodeAt(J-1)===n;)J-=1,Ce=!Ce}while(Ce);ue=["string",O.slice(K,ae+1),K,ae],K=ae;break}case M:{A.lastIndex=K+1,A.test(O),A.lastIndex===0?ae=O.length-1:ae=A.lastIndex-2,ue=["at-word",O.slice(K,ae+1),K,ae],K=ae;break}case n:{for(ae=K,he=!0;O.charCodeAt(ae+1)===n;)ae+=1,he=!he;if(U=O.charCodeAt(ae+1),he&&U!==r&&U!==s&&U!==i&&U!==l&&U!==f&&U!==o&&(ae+=1,V.test(O.charAt(ae)))){for(;V.test(O.charAt(ae+1));)ae+=1;O.charCodeAt(ae+1)===s&&(ae+=1)}ue=["word",O.slice(K,ae+1),K,ae],K=ae;break}default:{U===r&&O.charCodeAt(K+1)===C?(ae=O.indexOf("*/",K+2)+1,ae===0&&(L||Y?ae=O.length:ke("comment")),ue=["comment",O.slice(K,ae+1),K,ae],K=ae):(P.lastIndex=K+1,P.test(O),P.lastIndex===0?ae=O.length-1:ae=P.lastIndex-2,ue=["word",O.slice(K,ae+1),K,ae],ee.push(ue),K=ae);break}}return K++,ue}function Ne(ce){re.push(ce)}return{back:Ne,endOfFile:Re,nextToken:Ae,position:pe}},Tx}var Ex,cC;function yQ(){if(cC)return Ex;cC=1;let t=v_(),e=bm(),n=wm(),r=$0(),i=T_(),s=xQ();const o={empty:!0,space:!0};function l(c){for(let d=c.length-1;d>=0;d--){let g=c[d],p=g[3]||g[2];if(p)return p}}class f{constructor(d){this.input=d,this.root=new r,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:d,start:{column:1,line:1,offset:0}}}atrule(d){let g=new t;g.name=d[1].slice(1),g.name===""&&this.unnamedAtrule(g,d),this.init(g,d[2]);let p,x,_,b=!1,C=!1,I=[],M=[];for(;!this.tokenizer.endOfFile();){if(d=this.tokenizer.nextToken(),p=d[0],p==="("||p==="["?M.push(p==="("?")":"]"):p==="{"&&M.length>0?M.push("}"):p===M[M.length-1]&&M.pop(),M.length===0)if(p===";"){g.source.end=this.getPosition(d[2]),g.source.end.offset++,this.semicolon=!0;break}else if(p==="{"){C=!0;break}else if(p==="}"){if(I.length>0){for(_=I.length-1,x=I[_];x&&x[0]==="space";)x=I[--_];x&&(g.source.end=this.getPosition(x[3]||x[2]),g.source.end.offset++)}this.end(d);break}else I.push(d);else I.push(d);if(this.tokenizer.endOfFile()){b=!0;break}}g.raws.between=this.spacesAndCommentsFromEnd(I),I.length?(g.raws.afterName=this.spacesAndCommentsFromStart(I),this.raw(g,"params",I),b&&(d=I[I.length-1],g.source.end=this.getPosition(d[3]||d[2]),g.source.end.offset++,this.spaces=g.raws.between,g.raws.between="")):(g.raws.afterName="",g.params=""),C&&(g.nodes=[],this.current=g)}checkMissedSemicolon(d){let g=this.colon(d);if(g===!1)return;let p=0,x;for(let _=g-1;_>=0&&(x=d[_],!(x[0]!=="space"&&(p+=1,p===2)));_--);throw this.input.error("Missed semicolon",x[0]==="word"?x[3]+1:x[2])}colon(d){let g=0,p,x,_;for(let[b,C]of d.entries()){if(x=C,_=x[0],_==="("&&(g+=1),_===")"&&(g-=1),g===0&&_===":")if(!p)this.doubleColon(x);else{if(p[0]==="word"&&p[1]==="progid")continue;return b}p=x}return!1}comment(d){let g=new e;this.init(g,d[2]),g.source.end=this.getPosition(d[3]||d[2]),g.source.end.offset++;let p=d[1].slice(2,-2);if(/^\s*$/.test(p))g.text="",g.raws.left=p,g.raws.right="";else{let x=p.match(/^(\s*)([^]*\S)(\s*)$/);g.text=x[2],g.raws.left=x[1],g.raws.right=x[3]}}createTokenizer(){this.tokenizer=s(this.input)}decl(d,g){let p=new n;this.init(p,d[0][2]);let x=d[d.length-1];for(x[0]===";"&&(this.semicolon=!0,d.pop()),p.source.end=this.getPosition(x[3]||x[2]||l(d)),p.source.end.offset++;d[0][0]!=="word";)d.length===1&&this.unknownWord(d),p.raws.before+=d.shift()[1];for(p.source.start=this.getPosition(d[0][2]),p.prop="";d.length;){let M=d[0][0];if(M===":"||M==="space"||M==="comment")break;p.prop+=d.shift()[1]}p.raws.between="";let _;for(;d.length;)if(_=d.shift(),_[0]===":"){p.raws.between+=_[1];break}else _[0]==="word"&&/\w/.test(_[1])&&this.unknownWord([_]),p.raws.between+=_[1];(p.prop[0]==="_"||p.prop[0]==="*")&&(p.raws.before+=p.prop[0],p.prop=p.prop.slice(1));let b=[],C;for(;d.length&&(C=d[0][0],!(C!=="space"&&C!=="comment"));)b.push(d.shift());this.precheckMissedSemicolon(d);for(let M=d.length-1;M>=0;M--){if(_=d[M],_[1].toLowerCase()==="!important"){p.important=!0;let A=this.stringFrom(d,M);A=this.spacesFromEnd(d)+A,A!==" !important"&&(p.raws.important=A);break}else if(_[1].toLowerCase()==="important"){let A=d.slice(0),P="";for(let D=M;D>0;D--){let V=A[D][0];if(P.trim().startsWith("!")&&V!=="space")break;P=A.pop()[1]+P}P.trim().startsWith("!")&&(p.important=!0,p.raws.important=P,d=A)}if(_[0]!=="space"&&_[0]!=="comment")break}d.some(M=>M[0]!=="space"&&M[0]!=="comment")&&(p.raws.between+=b.map(M=>M[1]).join(""),b=[]),this.raw(p,"value",b.concat(d),g),p.value.includes(":")&&!g&&this.checkMissedSemicolon(d)}doubleColon(d){throw this.input.error("Double colon",{offset:d[2]},{offset:d[2]+d[1].length})}emptyRule(d){let g=new i;this.init(g,d[2]),g.selector="",g.raws.between="",this.current=g}end(d){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(d[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(d)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(d){if(this.spaces+=d[1],this.current.nodes){let g=this.current.nodes[this.current.nodes.length-1];g&&g.type==="rule"&&!g.raws.ownSemicolon&&(g.raws.ownSemicolon=this.spaces,this.spaces="",g.source.end=this.getPosition(d[2]),g.source.end.offset+=g.raws.ownSemicolon.length)}}getPosition(d){let g=this.input.fromOffset(d);return{column:g.col,line:g.line,offset:d}}init(d,g){this.current.push(d),d.source={input:this.input,start:this.getPosition(g)},d.raws.before=this.spaces,this.spaces="",d.type!=="comment"&&(this.semicolon=!1)}other(d){let g=!1,p=null,x=!1,_=null,b=[],C=d[1].startsWith("--"),I=[],M=d;for(;M;){if(p=M[0],I.push(M),p==="("||p==="[")_||(_=M),b.push(p==="("?")":"]");else if(C&&x&&p==="{")_||(_=M),b.push("}");else if(b.length===0)if(p===";")if(x){this.decl(I,C);return}else break;else if(p==="{"){this.rule(I);return}else if(p==="}"){this.tokenizer.back(I.pop()),g=!0;break}else p===":"&&(x=!0);else p===b[b.length-1]&&(b.pop(),b.length===0&&(_=null));M=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(g=!0),b.length>0&&this.unclosedBracket(_),g&&x){if(!C)for(;I.length&&(M=I[I.length-1][0],!(M!=="space"&&M!=="comment"));)this.tokenizer.back(I.pop());this.decl(I,C)}else this.unknownWord(I)}parse(){let d;for(;!this.tokenizer.endOfFile();)switch(d=this.tokenizer.nextToken(),d[0]){case"space":this.spaces+=d[1];break;case";":this.freeSemicolon(d);break;case"}":this.end(d);break;case"comment":this.comment(d);break;case"at-word":this.atrule(d);break;case"{":this.emptyRule(d);break;default:this.other(d);break}this.endFile()}precheckMissedSemicolon(){}raw(d,g,p,x){let _,b,C=p.length,I="",M=!0,A,P;for(let D=0;D<C;D+=1)_=p[D],b=_[0],b==="space"&&D===C-1&&!x?M=!1:b==="comment"?(P=p[D-1]?p[D-1][0]:"empty",A=p[D+1]?p[D+1][0]:"empty",!o[P]&&!o[A]?I.slice(-1)===","?M=!1:I+=_[1]:M=!1):I+=_[1];if(!M){let D=p.reduce((V,N)=>V+N[1],"");d.raws[g]={raw:D,value:I}}d[g]=I}rule(d){d.pop();let g=new i;this.init(g,d[0][2]),g.raws.between=this.spacesAndCommentsFromEnd(d),this.raw(g,"selector",d),this.current=g}spacesAndCommentsFromEnd(d){let g,p="";for(;d.length&&(g=d[d.length-1][0],!(g!=="space"&&g!=="comment"));)p=d.pop()[1]+p;return p}spacesAndCommentsFromStart(d){let g,p="";for(;d.length&&(g=d[0][0],!(g!=="space"&&g!=="comment"));)p+=d.shift()[1];return p}spacesFromEnd(d){let g,p="";for(;d.length&&(g=d[d.length-1][0],g==="space");)p=d.pop()[1]+p;return p}stringFrom(d,g){let p="";for(let x=g;x<d.length;x++)p+=d[x][1];return d.splice(g,d.length-g),p}unclosedBlock(){let d=this.current.source.start;throw this.input.error("Unclosed block",d.line,d.column)}unclosedBracket(d){throw this.input.error("Unclosed bracket",{offset:d[2]},{offset:d[2]+1})}unexpectedClose(d){throw this.input.error("Unexpected }",{offset:d[2]},{offset:d[2]+1})}unknownWord(d){throw this.input.error("Unknown word "+d[0][1],{offset:d[0][2]},{offset:d[0][2]+d[0][1].length})}unnamedAtrule(d,g){throw this.input.error("At-rule without name",{offset:g[2]},{offset:g[2]+g[1].length})}}return Ex=f,Ex}var bx,fC;function E_(){if(fC)return bx;fC=1;let t=Ku(),e=Sm(),n=yQ();function r(i,s){let o=new e(i,s),l=new n(o);try{l.parse()}catch(f){throw f}return l.root}return bx=r,r.default=r,t.registerParse(r),bx}var wx,hC;function SR(){if(hC)return wx;hC=1;class t{constructor(n,r={}){if(this.type="warning",this.text=n,r.node&&r.node.source){let i=r.node.rangeBy(r);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(let i in r)this[i]=r[i]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}return wx=t,t.default=t,wx}var Sx,dC;function b_(){if(dC)return Sx;dC=1;let t=SR();class e{get content(){return this.css}constructor(r,i,s){this.processor=r,this.messages=[],this.root=i,this.opts=s,this.css="",this.map=void 0}toString(){return this.css}warn(r,i={}){i.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(i.plugin=this.lastPlugin.postcssPlugin);let s=new t(r,i);return this.messages.push(s),s}warnings(){return this.messages.filter(r=>r.type==="warning")}}return Sx=e,e.default=e,Sx}var Ax,pC;function AR(){if(pC)return Ax;pC=1;let t=Ku(),e=__(),n=wR(),r=E_(),i=b_(),s=$0(),o=Tm(),{isClean:l,my:f}=y_();const c={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},d={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},g={Once:!0,postcssPlugin:!0,prepare:!0},p=0;function x(A){return typeof A=="object"&&typeof A.then=="function"}function _(A){let P=!1,D=c[A.type];return A.type==="decl"?P=A.prop.toLowerCase():A.type==="atrule"&&(P=A.name.toLowerCase()),P&&A.append?[D,D+"-"+P,p,D+"Exit",D+"Exit-"+P]:P?[D,D+"-"+P,D+"Exit",D+"Exit-"+P]:A.append?[D,p,D+"Exit"]:[D,D+"Exit"]}function b(A){let P;return A.type==="document"?P=["Document",p,"DocumentExit"]:A.type==="root"?P=["Root",p,"RootExit"]:P=_(A),{eventIndex:0,events:P,iterator:0,node:A,visitorIndex:0,visitors:[]}}function C(A){return A[l]=!1,A.nodes&&A.nodes.forEach(P=>C(P)),A}let I={};class M{get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}constructor(P,D,V){this.stringified=!1,this.processed=!1;let N;if(typeof D=="object"&&D!==null&&(D.type==="root"||D.type==="document"))N=C(D);else if(D instanceof M||D instanceof i)N=C(D.root),D.map&&(typeof V.map>"u"&&(V.map={}),V.map.inline||(V.map.inline=!1),V.map.prev=D.map);else{let k=r;V.syntax&&(k=V.syntax.parse),V.parser&&(k=V.parser),k.parse&&(k=k.parse);try{N=k(D,V)}catch(R){this.processed=!0,this.error=R}N&&!N[f]&&t.rebuild(N)}this.result=new i(P,N,V),this.helpers={...I,postcss:I,result:this.result},this.plugins=this.processor.plugins.map(k=>typeof k=="object"&&k.prepare?{...k,...k.prepare(this.result)}:k)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(P){return this.async().catch(P)}finally(P){return this.async().then(P,P)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(P,D){let V=this.result.lastPlugin;try{D&&D.addToError(P),this.error=P,P.name==="CssSyntaxError"&&!P.plugin?(P.plugin=V.postcssPlugin,P.setMessage()):V.postcssVersion}catch(N){console&&console.error&&console.error(N)}return P}prepareVisitors(){this.listeners={};let P=(D,V,N)=>{this.listeners[V]||(this.listeners[V]=[]),this.listeners[V].push([D,N])};for(let D of this.plugins)if(typeof D=="object")for(let V in D){if(!d[V]&&/^[A-Z]/.test(V))throw new Error(`Unknown event ${V} in ${D.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!g[V])if(typeof D[V]=="object")for(let N in D[V])N==="*"?P(D,V,D[V][N]):P(D,V+"-"+N.toLowerCase(),D[V][N]);else typeof D[V]=="function"&&P(D,V,D[V])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let P=0;P<this.plugins.length;P++){let D=this.plugins[P],V=this.runOnRoot(D);if(x(V))try{await V}catch(N){throw this.handleError(N)}}if(this.prepareVisitors(),this.hasListener){let P=this.result.root;for(;!P[l];){P[l]=!0;let D=[b(P)];for(;D.length>0;){let V=this.visitTick(D);if(x(V))try{await V}catch(N){let k=D[D.length-1].node;throw this.handleError(N,k)}}}if(this.listeners.OnceExit)for(let[D,V]of this.listeners.OnceExit){this.result.lastPlugin=D;try{if(P.type==="document"){let N=P.nodes.map(k=>V(k,this.helpers));await Promise.all(N)}else await V(P,this.helpers)}catch(N){throw this.handleError(N)}}}return this.processed=!0,this.stringify()}runOnRoot(P){this.result.lastPlugin=P;try{if(typeof P=="object"&&P.Once){if(this.result.root.type==="document"){let D=this.result.root.nodes.map(V=>P.Once(V,this.helpers));return x(D[0])?Promise.all(D):D}return P.Once(this.result.root,this.helpers)}else if(typeof P=="function")return P(this.result.root,this.result)}catch(D){throw this.handleError(D)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let P=this.result.opts,D=o;P.syntax&&(D=P.syntax.stringify),P.stringifier&&(D=P.stringifier),D.stringify&&(D=D.stringify);let N=new n(D,this.result.root,this.result.opts).generate();return this.result.css=N[0],this.result.map=N[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let P of this.plugins){let D=this.runOnRoot(P);if(x(D))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let P=this.result.root;for(;!P[l];)P[l]=!0,this.walkSync(P);if(this.listeners.OnceExit)if(P.type==="document")for(let D of P.nodes)this.visitSync(this.listeners.OnceExit,D);else this.visitSync(this.listeners.OnceExit,P)}return this.result}then(P,D){return this.async().then(P,D)}toString(){return this.css}visitSync(P,D){for(let[V,N]of P){this.result.lastPlugin=V;let k;try{k=N(D,this.helpers)}catch(R){throw this.handleError(R,D.proxyOf)}if(D.type!=="root"&&D.type!=="document"&&!D.parent)return!0;if(x(k))throw this.getAsyncError()}}visitTick(P){let D=P[P.length-1],{node:V,visitors:N}=D;if(V.type!=="root"&&V.type!=="document"&&!V.parent){P.pop();return}if(N.length>0&&D.visitorIndex<N.length){let[R,O]=N[D.visitorIndex];D.visitorIndex+=1,D.visitorIndex===N.length&&(D.visitors=[],D.visitorIndex=0),this.result.lastPlugin=R;try{return O(V.toProxy(),this.helpers)}catch(L){throw this.handleError(L,V)}}if(D.iterator!==0){let R=D.iterator,O;for(;O=V.nodes[V.indexes[R]];)if(V.indexes[R]+=1,!O[l]){O[l]=!0,P.push(b(O));return}D.iterator=0,delete V.indexes[R]}let k=D.events;for(;D.eventIndex<k.length;){let R=k[D.eventIndex];if(D.eventIndex+=1,R===p){V.nodes&&V.nodes.length&&(V[l]=!0,D.iterator=V.getIterator());return}else if(this.listeners[R]){D.visitors=this.listeners[R];return}}P.pop()}walkSync(P){P[l]=!0;let D=_(P);for(let V of D)if(V===p)P.nodes&&P.each(N=>{N[l]||this.walkSync(N)});else{let N=this.listeners[V];if(N&&this.visitSync(N,P.toProxy()))return}}warnings(){return this.sync().warnings()}}return M.registerPostcss=A=>{I=A},Ax=M,M.default=M,s.registerLazyResult(M),e.registerLazyResult(M),Ax}var Cx,mC;function vQ(){if(mC)return Cx;mC=1;let t=wR(),e=E_();const n=b_();let r=Tm();class i{get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let o,l=e;try{o=l(this._css,this._opts)}catch(f){this.error=f}if(this.error)throw this.error;return this._root=o,o}get[Symbol.toStringTag](){return"NoWorkResult"}constructor(o,l,f){l=l.toString(),this.stringified=!1,this._processor=o,this._css=l,this._opts=f,this._map=void 0;let c,d=r;this.result=new n(this._processor,c,this._opts),this.result.css=l;let g=this;Object.defineProperty(this.result,"root",{get(){return g.root}});let p=new t(d,c,this._opts,l);if(p.isMap()){let[x,_]=p.generate();x&&(this.result.css=x),_&&(this.result.map=_)}else p.clearAnnotation(),this.result.css=p.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(o){return this.async().catch(o)}finally(o){return this.async().then(o,o)}sync(){if(this.error)throw this.error;return this.result}then(o,l){return this.async().then(o,l)}toString(){return this._css}warnings(){return[]}}return Cx=i,i.default=i,Cx}var Ix,gC;function _Q(){if(gC)return Ix;gC=1;let t=__(),e=AR(),n=vQ(),r=$0();class i{constructor(o=[]){this.version="8.5.6",this.plugins=this.normalize(o)}normalize(o){let l=[];for(let f of o)if(f.postcss===!0?f=f():f.postcss&&(f=f.postcss),typeof f=="object"&&Array.isArray(f.plugins))l=l.concat(f.plugins);else if(typeof f=="object"&&f.postcssPlugin)l.push(f);else if(typeof f=="function")l.push(f);else if(!(typeof f=="object"&&(f.parse||f.stringify)))throw new Error(f+" is not a PostCSS plugin");return l}process(o,l={}){return!this.plugins.length&&!l.parser&&!l.stringifier&&!l.syntax?new n(this,o,l):new e(this,o,l)}use(o){return this.plugins=this.plugins.concat(this.normalize([o])),this}}return Ix=i,i.default=i,r.registerProcessor(i),t.registerProcessor(i),Ix}var kx,xC;function TQ(){if(xC)return kx;xC=1;var t={};let e=v_(),n=bm(),r=Ku(),i=x_(),s=wm(),o=__(),l=gQ(),f=Sm(),c=AR(),d=bR(),g=Em(),p=E_(),x=_Q(),_=b_(),b=$0(),C=T_(),I=Tm(),M=SR();function A(...P){return P.length===1&&Array.isArray(P[0])&&(P=P[0]),new x(P)}return A.plugin=function(D,V){let N=!1;function k(...O){console&&console.warn&&!N&&(N=!0,console.warn(D+`: postcss.plugin was deprecated. Migration guide:
    -https://evilmartians.com/chronicles/postcss-8-plugin-migration`),t.LANG&&t.LANG.startsWith("cn")&&console.warn(D+`:  postcss.plugin . :
    -https://www.w3ctech.com/topic/2226`));let L=V(...O);return L.postcssPlugin=D,L.postcssVersion=new x().version,L}let R;return Object.defineProperty(k,"postcss",{get(){return R||(R=k()),R}}),k.process=function(O,L,U){return A([k(U)]).process(O,L)},k},A.stringify=I,A.parse=p,A.fromJSON=l,A.list=d,A.comment=P=>new n(P),A.atRule=P=>new e(P),A.decl=P=>new s(P),A.rule=P=>new C(P),A.root=P=>new b(P),A.document=P=>new o(P),A.CssSyntaxError=i,A.Declaration=s,A.Container=r,A.Processor=x,A.Document=o,A.Comment=n,A.Warning=M,A.AtRule=e,A.Result=_,A.Input=f,A.Rule=C,A.Root=b,A.Node=g,c.registerPostcss(A),kx=A,A.default=A,kx}var Rx,yC;function EQ(){if(yC)return Rx;yC=1;const t=aQ(),e=oQ(),{isPlainObject:n}=uQ(),r=lQ(),i=fQ(),{parse:s}=TQ(),o=["img","audio","video","picture","svg","object","map","iframe","embed"],l=["script","style"];function f(C,I){C&&Object.keys(C).forEach(function(M){I(C[M],M)})}function c(C,I){return{}.hasOwnProperty.call(C,I)}function d(C,I){const M=[];return f(C,function(A){I(A)&&M.push(A)}),M}function g(C){for(const I in C)if(c(C,I))return!1;return!0}function p(C){return C.map(function(I){if(!I.url)throw new Error("URL missing");return I.url+(I.w?` ${I.w}w`:"")+(I.h?` ${I.h}h`:"")+(I.d?` ${I.d}x`:"")}).join(", ")}Rx=_;const x=/^[^\0\t\n\f\r /<=>]+$/;function _(C,I,M){if(C==null)return"";typeof C=="number"&&(C=C.toString());let A="",P="";function D(ce,Y){const Ie=this;this.tag=ce,this.attribs=Y||{},this.tagPosition=A.length,this.text="",this.openingTagLength=0,this.mediaChildren=[],this.updateParentNodeText=function(){if(se.length){const Fe=se[se.length-1];Fe.text+=Ie.text}},this.updateParentNodeMediaChildren=function(){se.length&&o.includes(this.tag)&&se[se.length-1].mediaChildren.push(this.tag)}}I=Object.assign({},_.defaults,I),I.parser=Object.assign({},b,I.parser);const V=function(ce){return I.allowedTags===!1||(I.allowedTags||[]).indexOf(ce)>-1};l.forEach(function(ce){V(ce)&&!I.allowVulnerableTags&&console.warn(`
    +`),this.css+=x+"/*# sourceMappingURL="+p+" */"}applyPrevMaps(){for(let p of this.previous()){let x=this.toUrl(this.path(p.file)),_=p.root||t(p.file),b;this.mapOpts.sourcesContent===!1?(b=new i(p.text),b.sourcesContent&&(b.sourcesContent=null)):b=p.consumer(),this.map.applySourceMap(b,x,this.toUrl(this.path(_)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let p;for(let x=this.root.nodes.length-1;x>=0;x--)p=this.root.nodes[x],p.type==="comment"&&p.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(x)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),c&&f&&this.isMap())return this.generateMap();{let p="";return this.stringify(this.root,x=>{p+=x}),[p]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let p=this.previous()[0].consumer();p.file=this.outputFile(),this.map=s.fromSourceMap(p,{ignoreInvalidMapping:!0})}else this.map=new s({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new s({file:this.outputFile(),ignoreInvalidMapping:!0});let p=1,x=1,_="<no source>",b={generated:{column:0,line:0},original:{column:0,line:0},source:""},C,I;this.stringify(this.root,(D,A,P)=>{if(this.css+=D,A&&P!=="end"&&(b.generated.line=p,b.generated.column=x-1,A.source&&A.source.start?(b.source=this.sourcePath(A),b.original.line=A.source.start.line,b.original.column=A.source.start.column-1,this.map.addMapping(b)):(b.source=_,b.original.line=1,b.original.column=0,this.map.addMapping(b))),I=D.match(/\n/g),I?(p+=I.length,C=D.lastIndexOf(`
    +`),x=D.length-C):x+=D.length,A&&P!=="start"){let M=A.parent||{raws:{}};(!(A.type==="decl"||A.type==="atrule"&&!A.nodes)||A!==M.last||M.raws.semicolon)&&(A.source&&A.source.end?(b.source=this.sourcePath(A),b.original.line=A.source.end.line,b.original.column=A.source.end.column-1,b.generated.line=p,b.generated.column=x-2,this.map.addMapping(b)):(b.source=_,b.original.line=1,b.original.column=0,b.generated.line=p,b.generated.column=x-1,this.map.addMapping(b)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(p=>p.annotation):!0}isInline(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;let p=this.mapOpts.annotation;return typeof p<"u"&&p!==!0?!1:this.previous().length?this.previous().some(x=>x.inline):!0}isMap(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(p=>p.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(p){if(this.mapOpts.absolute||p.charCodeAt(0)===60||/^\w+:\/\//.test(p))return p;let x=this.memoizedPaths.get(p);if(x)return x;let _=this.opts.to?t(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(_=t(n(_,this.mapOpts.annotation)));let b=e(_,p);return this.memoizedPaths.set(p,b),b}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(p=>{if(p.source&&p.source.input.map){let x=p.source.input.map;this.previousMaps.includes(x)||this.previousMaps.push(x)}});else{let p=new l(this.originalCSS,this.opts);p.map&&this.previousMaps.push(p.map)}return this.previousMaps}setSourcesContent(){let p={};if(this.root)this.root.walk(x=>{if(x.source){let _=x.source.input.from;if(_&&!p[_]){p[_]=!0;let b=this.usesFileUrls?this.toFileUrl(_):this.toUrl(this.path(_));this.map.setSourceContent(b,x.source.input.css)}}});else if(this.css){let x=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(x,this.css)}}sourcePath(p){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(p.source.input.from):this.toUrl(this.path(p.source.input.from))}toBase64(p){return Buffer?Buffer.from(p).toString("base64"):window.btoa(unescape(encodeURIComponent(p)))}toFileUrl(p){let x=this.memoizedFileURLs.get(p);if(x)return x;if(o){let _=o(p).toString();return this.memoizedFileURLs.set(p,_),_}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(p){let x=this.memoizedURLs.get(p);if(x)return x;r==="\\"&&(p=p.replace(/\\/g,"/"));let _=encodeURI(p).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(p,_),_}}return bx=d,bx}var wx,fC;function EQ(){if(fC)return wx;fC=1;const t=39,e=34,n=92,r=47,i=10,s=32,o=12,l=9,f=13,c=91,d=93,g=40,p=41,x=123,_=125,b=59,C=42,I=58,D=64,A=/[\t\n\f\r "#'()/;[\\\]{}]/g,P=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,M=/.[\r\n"'(/\\]/,U=/[\da-f]/i;return wx=function(k,R={}){let V=k.css.valueOf(),L=R.ignoreErrors,F,q,ce,oe,ae,se,me,X,ge,G,z=V.length,K=0,ee=[],re=[];function pe(){return K}function ke(he){throw k.error("Unclosed "+he,K)}function Re(){return re.length===0&&K>=z}function Ce(he){if(re.length)return re.pop();if(K>=z)return;let Y=he?he.ignoreUnclosed:!1;switch(F=V.charCodeAt(K),F){case i:case s:case l:case f:case o:{oe=K;do oe+=1,F=V.charCodeAt(oe);while(F===s||F===i||F===l||F===f||F===o);se=["space",V.slice(K,oe)],K=oe-1;break}case c:case d:case x:case _:case I:case b:case p:{let Ie=String.fromCharCode(F);se=[Ie,Ie,K];break}case g:{if(G=ee.length?ee.pop()[1]:"",ge=V.charCodeAt(K+1),G==="url"&&ge!==t&&ge!==e&&ge!==s&&ge!==i&&ge!==l&&ge!==o&&ge!==f){oe=K;do{if(me=!1,oe=V.indexOf(")",oe+1),oe===-1)if(L||Y){oe=K;break}else ke("bracket");for(X=oe;V.charCodeAt(X-1)===n;)X-=1,me=!me}while(me);se=["brackets",V.slice(K,oe+1),K,oe],K=oe}else oe=V.indexOf(")",K+1),q=V.slice(K,oe+1),oe===-1||M.test(q)?se=["(","(",K]:(se=["brackets",q,K,oe],K=oe);break}case t:case e:{ae=F===t?"'":'"',oe=K;do{if(me=!1,oe=V.indexOf(ae,oe+1),oe===-1)if(L||Y){oe=K+1;break}else ke("string");for(X=oe;V.charCodeAt(X-1)===n;)X-=1,me=!me}while(me);se=["string",V.slice(K,oe+1),K,oe],K=oe;break}case D:{A.lastIndex=K+1,A.test(V),A.lastIndex===0?oe=V.length-1:oe=A.lastIndex-2,se=["at-word",V.slice(K,oe+1),K,oe],K=oe;break}case n:{for(oe=K,ce=!0;V.charCodeAt(oe+1)===n;)oe+=1,ce=!ce;if(F=V.charCodeAt(oe+1),ce&&F!==r&&F!==s&&F!==i&&F!==l&&F!==f&&F!==o&&(oe+=1,U.test(V.charAt(oe)))){for(;U.test(V.charAt(oe+1));)oe+=1;V.charCodeAt(oe+1)===s&&(oe+=1)}se=["word",V.slice(K,oe+1),K,oe],K=oe;break}default:{F===r&&V.charCodeAt(K+1)===C?(oe=V.indexOf("*/",K+2)+1,oe===0&&(L||Y?oe=V.length:ke("comment")),se=["comment",V.slice(K,oe+1),K,oe],K=oe):(P.lastIndex=K+1,P.test(V),P.lastIndex===0?oe=V.length-1:oe=P.lastIndex-2,se=["word",V.slice(K,oe+1),K,oe],ee.push(se),K=oe);break}}return K++,se}function Ne(he){re.push(he)}return{back:Ne,endOfFile:Re,nextToken:Ce,position:pe}},wx}var Sx,hC;function bQ(){if(hC)return Sx;hC=1;let t=E_(),e=Am(),n=Cm(),r=W0(),i=w_(),s=EQ();const o={empty:!0,space:!0};function l(c){for(let d=c.length-1;d>=0;d--){let g=c[d],p=g[3]||g[2];if(p)return p}}class f{constructor(d){this.input=d,this.root=new r,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:d,start:{column:1,line:1,offset:0}}}atrule(d){let g=new t;g.name=d[1].slice(1),g.name===""&&this.unnamedAtrule(g,d),this.init(g,d[2]);let p,x,_,b=!1,C=!1,I=[],D=[];for(;!this.tokenizer.endOfFile();){if(d=this.tokenizer.nextToken(),p=d[0],p==="("||p==="["?D.push(p==="("?")":"]"):p==="{"&&D.length>0?D.push("}"):p===D[D.length-1]&&D.pop(),D.length===0)if(p===";"){g.source.end=this.getPosition(d[2]),g.source.end.offset++,this.semicolon=!0;break}else if(p==="{"){C=!0;break}else if(p==="}"){if(I.length>0){for(_=I.length-1,x=I[_];x&&x[0]==="space";)x=I[--_];x&&(g.source.end=this.getPosition(x[3]||x[2]),g.source.end.offset++)}this.end(d);break}else I.push(d);else I.push(d);if(this.tokenizer.endOfFile()){b=!0;break}}g.raws.between=this.spacesAndCommentsFromEnd(I),I.length?(g.raws.afterName=this.spacesAndCommentsFromStart(I),this.raw(g,"params",I),b&&(d=I[I.length-1],g.source.end=this.getPosition(d[3]||d[2]),g.source.end.offset++,this.spaces=g.raws.between,g.raws.between="")):(g.raws.afterName="",g.params=""),C&&(g.nodes=[],this.current=g)}checkMissedSemicolon(d){let g=this.colon(d);if(g===!1)return;let p=0,x;for(let _=g-1;_>=0&&(x=d[_],!(x[0]!=="space"&&(p+=1,p===2)));_--);throw this.input.error("Missed semicolon",x[0]==="word"?x[3]+1:x[2])}colon(d){let g=0,p,x,_;for(let[b,C]of d.entries()){if(x=C,_=x[0],_==="("&&(g+=1),_===")"&&(g-=1),g===0&&_===":")if(!p)this.doubleColon(x);else{if(p[0]==="word"&&p[1]==="progid")continue;return b}p=x}return!1}comment(d){let g=new e;this.init(g,d[2]),g.source.end=this.getPosition(d[3]||d[2]),g.source.end.offset++;let p=d[1].slice(2,-2);if(/^\s*$/.test(p))g.text="",g.raws.left=p,g.raws.right="";else{let x=p.match(/^(\s*)([^]*\S)(\s*)$/);g.text=x[2],g.raws.left=x[1],g.raws.right=x[3]}}createTokenizer(){this.tokenizer=s(this.input)}decl(d,g){let p=new n;this.init(p,d[0][2]);let x=d[d.length-1];for(x[0]===";"&&(this.semicolon=!0,d.pop()),p.source.end=this.getPosition(x[3]||x[2]||l(d)),p.source.end.offset++;d[0][0]!=="word";)d.length===1&&this.unknownWord(d),p.raws.before+=d.shift()[1];for(p.source.start=this.getPosition(d[0][2]),p.prop="";d.length;){let D=d[0][0];if(D===":"||D==="space"||D==="comment")break;p.prop+=d.shift()[1]}p.raws.between="";let _;for(;d.length;)if(_=d.shift(),_[0]===":"){p.raws.between+=_[1];break}else _[0]==="word"&&/\w/.test(_[1])&&this.unknownWord([_]),p.raws.between+=_[1];(p.prop[0]==="_"||p.prop[0]==="*")&&(p.raws.before+=p.prop[0],p.prop=p.prop.slice(1));let b=[],C;for(;d.length&&(C=d[0][0],!(C!=="space"&&C!=="comment"));)b.push(d.shift());this.precheckMissedSemicolon(d);for(let D=d.length-1;D>=0;D--){if(_=d[D],_[1].toLowerCase()==="!important"){p.important=!0;let A=this.stringFrom(d,D);A=this.spacesFromEnd(d)+A,A!==" !important"&&(p.raws.important=A);break}else if(_[1].toLowerCase()==="important"){let A=d.slice(0),P="";for(let M=D;M>0;M--){let U=A[M][0];if(P.trim().startsWith("!")&&U!=="space")break;P=A.pop()[1]+P}P.trim().startsWith("!")&&(p.important=!0,p.raws.important=P,d=A)}if(_[0]!=="space"&&_[0]!=="comment")break}d.some(D=>D[0]!=="space"&&D[0]!=="comment")&&(p.raws.between+=b.map(D=>D[1]).join(""),b=[]),this.raw(p,"value",b.concat(d),g),p.value.includes(":")&&!g&&this.checkMissedSemicolon(d)}doubleColon(d){throw this.input.error("Double colon",{offset:d[2]},{offset:d[2]+d[1].length})}emptyRule(d){let g=new i;this.init(g,d[2]),g.selector="",g.raws.between="",this.current=g}end(d){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(d[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(d)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(d){if(this.spaces+=d[1],this.current.nodes){let g=this.current.nodes[this.current.nodes.length-1];g&&g.type==="rule"&&!g.raws.ownSemicolon&&(g.raws.ownSemicolon=this.spaces,this.spaces="",g.source.end=this.getPosition(d[2]),g.source.end.offset+=g.raws.ownSemicolon.length)}}getPosition(d){let g=this.input.fromOffset(d);return{column:g.col,line:g.line,offset:d}}init(d,g){this.current.push(d),d.source={input:this.input,start:this.getPosition(g)},d.raws.before=this.spaces,this.spaces="",d.type!=="comment"&&(this.semicolon=!1)}other(d){let g=!1,p=null,x=!1,_=null,b=[],C=d[1].startsWith("--"),I=[],D=d;for(;D;){if(p=D[0],I.push(D),p==="("||p==="[")_||(_=D),b.push(p==="("?")":"]");else if(C&&x&&p==="{")_||(_=D),b.push("}");else if(b.length===0)if(p===";")if(x){this.decl(I,C);return}else break;else if(p==="{"){this.rule(I);return}else if(p==="}"){this.tokenizer.back(I.pop()),g=!0;break}else p===":"&&(x=!0);else p===b[b.length-1]&&(b.pop(),b.length===0&&(_=null));D=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(g=!0),b.length>0&&this.unclosedBracket(_),g&&x){if(!C)for(;I.length&&(D=I[I.length-1][0],!(D!=="space"&&D!=="comment"));)this.tokenizer.back(I.pop());this.decl(I,C)}else this.unknownWord(I)}parse(){let d;for(;!this.tokenizer.endOfFile();)switch(d=this.tokenizer.nextToken(),d[0]){case"space":this.spaces+=d[1];break;case";":this.freeSemicolon(d);break;case"}":this.end(d);break;case"comment":this.comment(d);break;case"at-word":this.atrule(d);break;case"{":this.emptyRule(d);break;default:this.other(d);break}this.endFile()}precheckMissedSemicolon(){}raw(d,g,p,x){let _,b,C=p.length,I="",D=!0,A,P;for(let M=0;M<C;M+=1)_=p[M],b=_[0],b==="space"&&M===C-1&&!x?D=!1:b==="comment"?(P=p[M-1]?p[M-1][0]:"empty",A=p[M+1]?p[M+1][0]:"empty",!o[P]&&!o[A]?I.slice(-1)===","?D=!1:I+=_[1]:D=!1):I+=_[1];if(!D){let M=p.reduce((U,N)=>U+N[1],"");d.raws[g]={raw:M,value:I}}d[g]=I}rule(d){d.pop();let g=new i;this.init(g,d[0][2]),g.raws.between=this.spacesAndCommentsFromEnd(d),this.raw(g,"selector",d),this.current=g}spacesAndCommentsFromEnd(d){let g,p="";for(;d.length&&(g=d[d.length-1][0],!(g!=="space"&&g!=="comment"));)p=d.pop()[1]+p;return p}spacesAndCommentsFromStart(d){let g,p="";for(;d.length&&(g=d[0][0],!(g!=="space"&&g!=="comment"));)p+=d.shift()[1];return p}spacesFromEnd(d){let g,p="";for(;d.length&&(g=d[d.length-1][0],g==="space");)p=d.pop()[1]+p;return p}stringFrom(d,g){let p="";for(let x=g;x<d.length;x++)p+=d[x][1];return d.splice(g,d.length-g),p}unclosedBlock(){let d=this.current.source.start;throw this.input.error("Unclosed block",d.line,d.column)}unclosedBracket(d){throw this.input.error("Unclosed bracket",{offset:d[2]},{offset:d[2]+1})}unexpectedClose(d){throw this.input.error("Unexpected }",{offset:d[2]},{offset:d[2]+1})}unknownWord(d){throw this.input.error("Unknown word "+d[0][1],{offset:d[0][2]},{offset:d[0][2]+d[0][1].length})}unnamedAtrule(d,g){throw this.input.error("At-rule without name",{offset:g[2]},{offset:g[2]+g[1].length})}}return Sx=f,Sx}var Ax,dC;function S_(){if(dC)return Ax;dC=1;let t=Xu(),e=Im(),n=bQ();function r(i,s){let o=new e(i,s),l=new n(o);try{l.parse()}catch(f){throw f}return l.root}return Ax=r,r.default=r,t.registerParse(r),Ax}var Cx,pC;function RR(){if(pC)return Cx;pC=1;class t{constructor(n,r={}){if(this.type="warning",this.text=n,r.node&&r.node.source){let i=r.node.rangeBy(r);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(let i in r)this[i]=r[i]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}return Cx=t,t.default=t,Cx}var Ix,mC;function A_(){if(mC)return Ix;mC=1;let t=RR();class e{get content(){return this.css}constructor(r,i,s){this.processor=r,this.messages=[],this.root=i,this.opts=s,this.css="",this.map=void 0}toString(){return this.css}warn(r,i={}){i.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(i.plugin=this.lastPlugin.postcssPlugin);let s=new t(r,i);return this.messages.push(s),s}warnings(){return this.messages.filter(r=>r.type==="warning")}}return Ix=e,e.default=e,Ix}var kx,gC;function NR(){if(gC)return kx;gC=1;let t=Xu(),e=b_(),n=kR(),r=S_(),i=A_(),s=W0(),o=wm(),{isClean:l,my:f}=T_();const c={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},d={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},g={Once:!0,postcssPlugin:!0,prepare:!0},p=0;function x(A){return typeof A=="object"&&typeof A.then=="function"}function _(A){let P=!1,M=c[A.type];return A.type==="decl"?P=A.prop.toLowerCase():A.type==="atrule"&&(P=A.name.toLowerCase()),P&&A.append?[M,M+"-"+P,p,M+"Exit",M+"Exit-"+P]:P?[M,M+"-"+P,M+"Exit",M+"Exit-"+P]:A.append?[M,p,M+"Exit"]:[M,M+"Exit"]}function b(A){let P;return A.type==="document"?P=["Document",p,"DocumentExit"]:A.type==="root"?P=["Root",p,"RootExit"]:P=_(A),{eventIndex:0,events:P,iterator:0,node:A,visitorIndex:0,visitors:[]}}function C(A){return A[l]=!1,A.nodes&&A.nodes.forEach(P=>C(P)),A}let I={};class D{get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}constructor(P,M,U){this.stringified=!1,this.processed=!1;let N;if(typeof M=="object"&&M!==null&&(M.type==="root"||M.type==="document"))N=C(M);else if(M instanceof D||M instanceof i)N=C(M.root),M.map&&(typeof U.map>"u"&&(U.map={}),U.map.inline||(U.map.inline=!1),U.map.prev=M.map);else{let k=r;U.syntax&&(k=U.syntax.parse),U.parser&&(k=U.parser),k.parse&&(k=k.parse);try{N=k(M,U)}catch(R){this.processed=!0,this.error=R}N&&!N[f]&&t.rebuild(N)}this.result=new i(P,N,U),this.helpers={...I,postcss:I,result:this.result},this.plugins=this.processor.plugins.map(k=>typeof k=="object"&&k.prepare?{...k,...k.prepare(this.result)}:k)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(P){return this.async().catch(P)}finally(P){return this.async().then(P,P)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(P,M){let U=this.result.lastPlugin;try{M&&M.addToError(P),this.error=P,P.name==="CssSyntaxError"&&!P.plugin?(P.plugin=U.postcssPlugin,P.setMessage()):U.postcssVersion}catch(N){console&&console.error&&console.error(N)}return P}prepareVisitors(){this.listeners={};let P=(M,U,N)=>{this.listeners[U]||(this.listeners[U]=[]),this.listeners[U].push([M,N])};for(let M of this.plugins)if(typeof M=="object")for(let U in M){if(!d[U]&&/^[A-Z]/.test(U))throw new Error(`Unknown event ${U} in ${M.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!g[U])if(typeof M[U]=="object")for(let N in M[U])N==="*"?P(M,U,M[U][N]):P(M,U+"-"+N.toLowerCase(),M[U][N]);else typeof M[U]=="function"&&P(M,U,M[U])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let P=0;P<this.plugins.length;P++){let M=this.plugins[P],U=this.runOnRoot(M);if(x(U))try{await U}catch(N){throw this.handleError(N)}}if(this.prepareVisitors(),this.hasListener){let P=this.result.root;for(;!P[l];){P[l]=!0;let M=[b(P)];for(;M.length>0;){let U=this.visitTick(M);if(x(U))try{await U}catch(N){let k=M[M.length-1].node;throw this.handleError(N,k)}}}if(this.listeners.OnceExit)for(let[M,U]of this.listeners.OnceExit){this.result.lastPlugin=M;try{if(P.type==="document"){let N=P.nodes.map(k=>U(k,this.helpers));await Promise.all(N)}else await U(P,this.helpers)}catch(N){throw this.handleError(N)}}}return this.processed=!0,this.stringify()}runOnRoot(P){this.result.lastPlugin=P;try{if(typeof P=="object"&&P.Once){if(this.result.root.type==="document"){let M=this.result.root.nodes.map(U=>P.Once(U,this.helpers));return x(M[0])?Promise.all(M):M}return P.Once(this.result.root,this.helpers)}else if(typeof P=="function")return P(this.result.root,this.result)}catch(M){throw this.handleError(M)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let P=this.result.opts,M=o;P.syntax&&(M=P.syntax.stringify),P.stringifier&&(M=P.stringifier),M.stringify&&(M=M.stringify);let N=new n(M,this.result.root,this.result.opts).generate();return this.result.css=N[0],this.result.map=N[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let P of this.plugins){let M=this.runOnRoot(P);if(x(M))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let P=this.result.root;for(;!P[l];)P[l]=!0,this.walkSync(P);if(this.listeners.OnceExit)if(P.type==="document")for(let M of P.nodes)this.visitSync(this.listeners.OnceExit,M);else this.visitSync(this.listeners.OnceExit,P)}return this.result}then(P,M){return this.async().then(P,M)}toString(){return this.css}visitSync(P,M){for(let[U,N]of P){this.result.lastPlugin=U;let k;try{k=N(M,this.helpers)}catch(R){throw this.handleError(R,M.proxyOf)}if(M.type!=="root"&&M.type!=="document"&&!M.parent)return!0;if(x(k))throw this.getAsyncError()}}visitTick(P){let M=P[P.length-1],{node:U,visitors:N}=M;if(U.type!=="root"&&U.type!=="document"&&!U.parent){P.pop();return}if(N.length>0&&M.visitorIndex<N.length){let[R,V]=N[M.visitorIndex];M.visitorIndex+=1,M.visitorIndex===N.length&&(M.visitors=[],M.visitorIndex=0),this.result.lastPlugin=R;try{return V(U.toProxy(),this.helpers)}catch(L){throw this.handleError(L,U)}}if(M.iterator!==0){let R=M.iterator,V;for(;V=U.nodes[U.indexes[R]];)if(U.indexes[R]+=1,!V[l]){V[l]=!0,P.push(b(V));return}M.iterator=0,delete U.indexes[R]}let k=M.events;for(;M.eventIndex<k.length;){let R=k[M.eventIndex];if(M.eventIndex+=1,R===p){U.nodes&&U.nodes.length&&(U[l]=!0,M.iterator=U.getIterator());return}else if(this.listeners[R]){M.visitors=this.listeners[R];return}}P.pop()}walkSync(P){P[l]=!0;let M=_(P);for(let U of M)if(U===p)P.nodes&&P.each(N=>{N[l]||this.walkSync(N)});else{let N=this.listeners[U];if(N&&this.visitSync(N,P.toProxy()))return}}warnings(){return this.sync().warnings()}}return D.registerPostcss=A=>{I=A},kx=D,D.default=D,s.registerLazyResult(D),e.registerLazyResult(D),kx}var Rx,xC;function wQ(){if(xC)return Rx;xC=1;let t=kR(),e=S_();const n=A_();let r=wm();class i{get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let o,l=e;try{o=l(this._css,this._opts)}catch(f){this.error=f}if(this.error)throw this.error;return this._root=o,o}get[Symbol.toStringTag](){return"NoWorkResult"}constructor(o,l,f){l=l.toString(),this.stringified=!1,this._processor=o,this._css=l,this._opts=f,this._map=void 0;let c,d=r;this.result=new n(this._processor,c,this._opts),this.result.css=l;let g=this;Object.defineProperty(this.result,"root",{get(){return g.root}});let p=new t(d,c,this._opts,l);if(p.isMap()){let[x,_]=p.generate();x&&(this.result.css=x),_&&(this.result.map=_)}else p.clearAnnotation(),this.result.css=p.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(o){return this.async().catch(o)}finally(o){return this.async().then(o,o)}sync(){if(this.error)throw this.error;return this.result}then(o,l){return this.async().then(o,l)}toString(){return this._css}warnings(){return[]}}return Rx=i,i.default=i,Rx}var Nx,yC;function SQ(){if(yC)return Nx;yC=1;let t=b_(),e=NR(),n=wQ(),r=W0();class i{constructor(o=[]){this.version="8.5.6",this.plugins=this.normalize(o)}normalize(o){let l=[];for(let f of o)if(f.postcss===!0?f=f():f.postcss&&(f=f.postcss),typeof f=="object"&&Array.isArray(f.plugins))l=l.concat(f.plugins);else if(typeof f=="object"&&f.postcssPlugin)l.push(f);else if(typeof f=="function")l.push(f);else if(!(typeof f=="object"&&(f.parse||f.stringify)))throw new Error(f+" is not a PostCSS plugin");return l}process(o,l={}){return!this.plugins.length&&!l.parser&&!l.stringifier&&!l.syntax?new n(this,o,l):new e(this,o,l)}use(o){return this.plugins=this.plugins.concat(this.normalize([o])),this}}return Nx=i,i.default=i,r.registerProcessor(i),t.registerProcessor(i),Nx}var Dx,vC;function AQ(){if(vC)return Dx;vC=1;var t={};let e=E_(),n=Am(),r=Xu(),i=__(),s=Cm(),o=b_(),l=TQ(),f=Im(),c=NR(),d=IR(),g=Sm(),p=S_(),x=SQ(),_=A_(),b=W0(),C=w_(),I=wm(),D=RR();function A(...P){return P.length===1&&Array.isArray(P[0])&&(P=P[0]),new x(P)}return A.plugin=function(M,U){let N=!1;function k(...V){console&&console.warn&&!N&&(N=!0,console.warn(M+`: postcss.plugin was deprecated. Migration guide:
    +https://evilmartians.com/chronicles/postcss-8-plugin-migration`),t.LANG&&t.LANG.startsWith("cn")&&console.warn(M+`:  postcss.plugin . :
    +https://www.w3ctech.com/topic/2226`));let L=U(...V);return L.postcssPlugin=M,L.postcssVersion=new x().version,L}let R;return Object.defineProperty(k,"postcss",{get(){return R||(R=k()),R}}),k.process=function(V,L,F){return A([k(F)]).process(V,L)},k},A.stringify=I,A.parse=p,A.fromJSON=l,A.list=d,A.comment=P=>new n(P),A.atRule=P=>new e(P),A.decl=P=>new s(P),A.rule=P=>new C(P),A.root=P=>new b(P),A.document=P=>new o(P),A.CssSyntaxError=i,A.Declaration=s,A.Container=r,A.Processor=x,A.Document=o,A.Comment=n,A.Warning=D,A.AtRule=e,A.Result=_,A.Input=f,A.Rule=C,A.Root=b,A.Node=g,c.registerPostcss(A),Dx=A,A.default=A,Dx}var Mx,_C;function CQ(){if(_C)return Mx;_C=1;const t=fQ(),e=hQ(),{isPlainObject:n}=dQ(),r=pQ(),i=gQ(),{parse:s}=AQ(),o=["img","audio","video","picture","svg","object","map","iframe","embed"],l=["script","style"];function f(C,I){C&&Object.keys(C).forEach(function(D){I(C[D],D)})}function c(C,I){return{}.hasOwnProperty.call(C,I)}function d(C,I){const D=[];return f(C,function(A){I(A)&&D.push(A)}),D}function g(C){for(const I in C)if(c(C,I))return!1;return!0}function p(C){return C.map(function(I){if(!I.url)throw new Error("URL missing");return I.url+(I.w?` ${I.w}w`:"")+(I.h?` ${I.h}h`:"")+(I.d?` ${I.d}x`:"")}).join(", ")}Mx=_;const x=/^[^\0\t\n\f\r /<=>]+$/;function _(C,I,D){if(C==null)return"";typeof C=="number"&&(C=C.toString());let A="",P="";function M(he,Y){const Ie=this;this.tag=he,this.attribs=Y||{},this.tagPosition=A.length,this.text="",this.openingTagLength=0,this.mediaChildren=[],this.updateParentNodeText=function(){if(ae.length){const Fe=ae[ae.length-1];Fe.text+=Ie.text}},this.updateParentNodeMediaChildren=function(){ae.length&&o.includes(this.tag)&&ae[ae.length-1].mediaChildren.push(this.tag)}}I=Object.assign({},_.defaults,I),I.parser=Object.assign({},b,I.parser);const U=function(he){return I.allowedTags===!1||(I.allowedTags||[]).indexOf(he)>-1};l.forEach(function(he){U(he)&&!I.allowVulnerableTags&&console.warn(`
     
    - Your \`allowedTags\` option includes, \`${ce}\`, which is inherently
    + Your \`allowedTags\` option includes, \`${he}\`, which is inherently
     vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
     Or, to disable this warning, add the \`allowVulnerableTags\` option
     and ensure you are accounting for this risk.
     
    -`)});const N=I.nonTextTags||["script","style","textarea","option"];let k,R;I.allowedAttributes&&(k={},R={},f(I.allowedAttributes,function(ce,Y){k[Y]=[];const Ie=[];ce.forEach(function(Fe){typeof Fe=="string"&&Fe.indexOf("*")>=0?Ie.push(e(Fe).replace(/\\\*/g,".*")):k[Y].push(Fe)}),Ie.length&&(R[Y]=new RegExp("^("+Ie.join("|")+")$"))}));const O={},L={},U={};f(I.allowedClasses,function(ce,Y){if(k&&(c(k,Y)||(k[Y]=[]),k[Y].push("class")),O[Y]=ce,Array.isArray(ce)){const Ie=[];O[Y]=[],U[Y]=[],ce.forEach(function(Fe){typeof Fe=="string"&&Fe.indexOf("*")>=0?Ie.push(e(Fe).replace(/\\\*/g,".*")):Fe instanceof RegExp?U[Y].push(Fe):O[Y].push(Fe)}),Ie.length&&(L[Y]=new RegExp("^("+Ie.join("|")+")$"))}});const q={};let he;f(I.transformTags,function(ce,Y){let Ie;typeof ce=="function"?Ie=ce:typeof ce=="string"&&(Ie=_.simpleTransform(ce)),Y==="*"?he=Ie:q[Y]=Ie});let ae,se,ue,Ce,J,be,j=!1;K();const z=new t.Parser({onopentag:function(ce,Y){if(I.onOpenTag&&I.onOpenTag(ce,Y),I.enforceHtmlBoundary&&ce==="html"&&K(),J){be++;return}const Ie=new D(ce,Y);se.push(Ie);let Fe=!1;const Ke=!!Ie.text;let qe;if(c(q,ce)&&(qe=q[ce](ce,Y),Ie.attribs=Y=qe.attribs,qe.text!==void 0&&(Ie.innerText=qe.text),ce!==qe.tagName&&(Ie.name=ce=qe.tagName,Ce[ae]=qe.tagName)),he&&(qe=he(ce,Y),Ie.attribs=Y=qe.attribs,ce!==qe.tagName&&(Ie.name=ce=qe.tagName,Ce[ae]=qe.tagName)),(!V(ce)||I.disallowedTagsMode==="recursiveEscape"&&!g(ue)||I.nestingLimit!=null&&ae>=I.nestingLimit)&&(Fe=!0,ue[ae]=!0,(I.disallowedTagsMode==="discard"||I.disallowedTagsMode==="completelyDiscard")&&N.indexOf(ce)!==-1&&(J=!0,be=1)),ae++,Fe){if(I.disallowedTagsMode==="discard"||I.disallowedTagsMode==="completelyDiscard"){if(Ie.innerText&&!Ke){const Ge=ee(Ie.innerText);I.textFilter?A+=I.textFilter(Ge,ce):A+=Ge,j=!0}return}P=A,A=""}A+="<"+ce,ce==="script"&&(I.allowedScriptHostnames||I.allowedScriptDomains)&&(Ie.innerText=""),Fe&&(I.disallowedTagsMode==="escape"||I.disallowedTagsMode==="recursiveEscape")&&I.preserveEscapedAttributes?f(Y,function(Ge,We){A+=" "+We+'="'+ee(Ge||"",!0)+'"'}):(!k||c(k,ce)||k["*"])&&f(Y,function(Ge,We){if(!x.test(We)){delete Ie.attribs[We];return}if(Ge===""&&!I.allowedEmptyAttributes.includes(We)&&(I.nonBooleanAttributes.includes(We)||I.nonBooleanAttributes.includes("*"))){delete Ie.attribs[We];return}let Kt=!1;if(!k||c(k,ce)&&k[ce].indexOf(We)!==-1||k["*"]&&k["*"].indexOf(We)!==-1||c(R,ce)&&R[ce].test(We)||R["*"]&&R["*"].test(We))Kt=!0;else if(k&&k[ce]){for(const ot of k[ce])if(n(ot)&&ot.name&&ot.name===We){Kt=!0;let ut="";if(ot.multiple===!0){const st=Ge.split(" ");for(const bt of st)ot.values.indexOf(bt)!==-1&&(ut===""?ut=bt:ut+=" "+bt)}else ot.values.indexOf(Ge)>=0&&(ut=Ge);Ge=ut}}if(Kt){if(I.allowedSchemesAppliedToAttributes.indexOf(We)!==-1&&re(ce,Ge)){delete Ie.attribs[We];return}if(ce==="script"&&We==="src"){let ot=!0;try{const ut=pe(Ge);if(I.allowedScriptHostnames||I.allowedScriptDomains){const st=(I.allowedScriptHostnames||[]).find(function(dt){return dt===ut.url.hostname}),bt=(I.allowedScriptDomains||[]).find(function(dt){return ut.url.hostname===dt||ut.url.hostname.endsWith(`.${dt}`)});ot=st||bt}}catch{ot=!1}if(!ot){delete Ie.attribs[We];return}}if(ce==="iframe"&&We==="src"){let ot=!0;try{const ut=pe(Ge);if(ut.isRelativeUrl)ot=c(I,"allowIframeRelativeUrls")?I.allowIframeRelativeUrls:!I.allowedIframeHostnames&&!I.allowedIframeDomains;else if(I.allowedIframeHostnames||I.allowedIframeDomains){const st=(I.allowedIframeHostnames||[]).find(function(dt){return dt===ut.url.hostname}),bt=(I.allowedIframeDomains||[]).find(function(dt){return ut.url.hostname===dt||ut.url.hostname.endsWith(`.${dt}`)});ot=st||bt}}catch{ot=!1}if(!ot){delete Ie.attribs[We];return}}if(We==="srcset")try{let ot=i(Ge);if(ot.forEach(function(ut){re("srcset",ut.url)&&(ut.evil=!0)}),ot=d(ot,function(ut){return!ut.evil}),ot.length)Ge=p(d(ot,function(ut){return!ut.evil})),Ie.attribs[We]=Ge;else{delete Ie.attribs[We];return}}catch{delete Ie.attribs[We];return}if(We==="class"){const ot=O[ce],ut=O["*"],st=L[ce],bt=U[ce],dt=U["*"],tn=L["*"],wt=[st,tn].concat(bt,dt).filter(function(Pn){return Pn});if(ot&&ut?Ge=Ne(Ge,r(ot,ut),wt):Ge=Ne(Ge,ot||ut,wt),!Ge.length){delete Ie.attribs[We];return}}if(We==="style"){if(I.parseStyleAttributes)try{const ot=s(ce+" {"+Ge+"}",{map:!1}),ut=ke(ot,I.allowedStyles);if(Ge=Re(ut),Ge.length===0){delete Ie.attribs[We];return}}catch{typeof window<"u"&&console.warn('Failed to parse "'+ce+" {"+Ge+`}", If you're running this in a browser, we recommend to disable style parsing: options.parseStyleAttributes: false, since this only works in a node environment due to a postcss dependency, More info: https://github.com/apostrophecms/sanitize-html/issues/547`),delete Ie.attribs[We];return}else if(I.allowedStyles)throw new Error("allowedStyles option cannot be used together with parseStyleAttributes: false.")}A+=" "+We,Ge&&Ge.length?A+='="'+ee(Ge,!0)+'"':I.allowedEmptyAttributes.includes(We)&&(A+='=""')}else delete Ie.attribs[We]}),I.selfClosing.indexOf(ce)!==-1?A+=" />":(A+=">",Ie.innerText&&!Ke&&!I.textFilter&&(A+=ee(Ie.innerText),j=!0)),Fe&&(A=P+ee(A),P=""),Ie.openingTagLength=A.length-Ie.tagPosition},ontext:function(ce){if(J)return;const Y=se[se.length-1];let Ie;if(Y&&(Ie=Y.tag,ce=Y.innerText!==void 0?Y.innerText:ce),I.disallowedTagsMode==="completelyDiscard"&&!V(Ie))ce="";else if((I.disallowedTagsMode==="discard"||I.disallowedTagsMode==="completelyDiscard")&&(Ie==="script"||Ie==="style"))A+=ce;else if(!j){const Fe=ee(ce,!1);I.textFilter?A+=I.textFilter(Fe,Ie):A+=Fe}if(se.length){const Fe=se[se.length-1];Fe.text+=ce}},onclosetag:function(ce,Y){if(I.onCloseTag&&I.onCloseTag(ce,Y),J)if(be--,!be)J=!1;else return;const Ie=se.pop();if(!Ie)return;if(Ie.tag!==ce){se.push(Ie);return}J=I.enforceHtmlBoundary?ce==="html":!1,ae--;const Fe=ue[ae];if(Fe){if(delete ue[ae],I.disallowedTagsMode==="discard"||I.disallowedTagsMode==="completelyDiscard"){Ie.updateParentNodeText();return}P=A,A=""}if(Ce[ae]&&(ce=Ce[ae],delete Ce[ae]),I.exclusiveFilter){const Ke=I.exclusiveFilter(Ie);if(Ke==="excludeTag"){Fe&&(A=P,P=""),A=A.substring(0,Ie.tagPosition)+A.substring(Ie.tagPosition+Ie.openingTagLength);return}else if(Ke){A=A.substring(0,Ie.tagPosition);return}}if(Ie.updateParentNodeMediaChildren(),Ie.updateParentNodeText(),I.selfClosing.indexOf(ce)!==-1||Y&&!V(ce)&&["escape","recursiveEscape"].indexOf(I.disallowedTagsMode)>=0){Fe&&(A=P,P="");return}A+="</"+ce+">",Fe&&(A=P+ee(A),P=""),j=!1}},I.parser);return z.write(C),z.end(),A;function K(){A="",ae=0,se=[],ue={},Ce={},J=!1,be=0}function ee(ce,Y){return typeof ce!="string"&&(ce=ce+""),I.parser.decodeEntities&&(ce=ce.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Y&&(ce=ce.replace(/"/g,"&quot;"))),ce=ce.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Y&&(ce=ce.replace(/"/g,"&quot;")),ce}function re(ce,Y){for(Y=Y.replace(/[\x00-\x20]+/g,"");;){const Ke=Y.indexOf("<!--");if(Ke===-1)break;const qe=Y.indexOf("-->",Ke+4);if(qe===-1)break;Y=Y.substring(0,Ke)+Y.substring(qe+3)}const Ie=Y.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!Ie)return Y.match(/^[/\\]{2}/)?!I.allowProtocolRelative:!1;const Fe=Ie[1].toLowerCase();return c(I.allowedSchemesByTag,ce)?I.allowedSchemesByTag[ce].indexOf(Fe)===-1:!I.allowedSchemes||I.allowedSchemes.indexOf(Fe)===-1}function pe(ce){if(ce=ce.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//"),ce.startsWith("relative:"))throw new Error("relative: exploit attempt");let Y="relative://relative-site";for(let Ke=0;Ke<100;Ke++)Y+=`/${Ke}`;const Ie=new URL(ce,Y);return{isRelativeUrl:Ie&&Ie.hostname==="relative-site"&&Ie.protocol==="relative:",url:Ie}}function ke(ce,Y){if(!Y)return ce;const Ie=ce.nodes[0];let Fe;return Y[Ie.selector]&&Y["*"]?Fe=r(Y[Ie.selector],Y["*"]):Fe=Y[Ie.selector]||Y["*"],Fe&&(ce.nodes[0].nodes=Ie.nodes.reduce(Ae(Fe),[])),ce}function Re(ce){return ce.nodes[0].nodes.reduce(function(Y,Ie){return Y.push(`${Ie.prop}:${Ie.value}${Ie.important?" !important":""}`),Y},[]).join(";")}function Ae(ce){return function(Y,Ie){return c(ce,Ie.prop)&&ce[Ie.prop].some(function(Ke){return Ke.test(Ie.value)})&&Y.push(Ie),Y}}function Ne(ce,Y,Ie){return Y?(ce=ce.split(/\s+/),ce.filter(function(Fe){return Y.indexOf(Fe)!==-1||Ie.some(function(Ke){return Ke.test(Fe)})}).join(" ")):ce}}const b={decodeEntities:!0};return _.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","menu","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],nonBooleanAttributes:["abbr","accept","accept-charset","accesskey","action","allow","alt","as","autocapitalize","autocomplete","blocking","charset","cite","class","color","cols","colspan","content","contenteditable","coords","crossorigin","data","datetime","decoding","dir","dirname","download","draggable","enctype","enterkeyhint","fetchpriority","for","form","formaction","formenctype","formmethod","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","id","imagesizes","imagesrcset","inputmode","integrity","is","itemid","itemprop","itemref","itemtype","kind","label","lang","list","loading","low","max","maxlength","media","method","min","minlength","name","nonce","optimum","pattern","ping","placeholder","popover","popovertarget","popovertargetaction","poster","preload","referrerpolicy","rel","rows","rowspan","sandbox","scope","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","tabindex","target","title","translate","type","usemap","value","width","wrap","onauxclick","onafterprint","onbeforematch","onbeforeprint","onbeforeunload","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","onhashchange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onlanguagechange","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmessageerror","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreset","onresize","onrejectionhandled","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","ontoggle","onunhandledrejection","onunload","onvolumechange","onwaiting","onwheel"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},allowedEmptyAttributes:["alt"],selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1,parseStyleAttributes:!0,preserveEscapedAttributes:!1},_.simpleTransform=function(C,I,M){return M=M===void 0?!0:M,I=I||{},function(A,P){let D;if(M)for(D in I)P[D]=I[D];else P=I;return{tagName:C,attribs:P}}},Rx}var bQ=EQ();const bo=Fp(bQ),wQ="YOUR_GEMINI_API_KEY_HERE",w_=new dJ({apiKey:wQ}),CR={allowedTags:[],allowedAttributes:{}},SQ=async t=>{const e=t.map(i=>bo(i,CR)),r=`
    +`)});const N=I.nonTextTags||["script","style","textarea","option"];let k,R;I.allowedAttributes&&(k={},R={},f(I.allowedAttributes,function(he,Y){k[Y]=[];const Ie=[];he.forEach(function(Fe){typeof Fe=="string"&&Fe.indexOf("*")>=0?Ie.push(e(Fe).replace(/\\\*/g,".*")):k[Y].push(Fe)}),Ie.length&&(R[Y]=new RegExp("^("+Ie.join("|")+")$"))}));const V={},L={},F={};f(I.allowedClasses,function(he,Y){if(k&&(c(k,Y)||(k[Y]=[]),k[Y].push("class")),V[Y]=he,Array.isArray(he)){const Ie=[];V[Y]=[],F[Y]=[],he.forEach(function(Fe){typeof Fe=="string"&&Fe.indexOf("*")>=0?Ie.push(e(Fe).replace(/\\\*/g,".*")):Fe instanceof RegExp?F[Y].push(Fe):V[Y].push(Fe)}),Ie.length&&(L[Y]=new RegExp("^("+Ie.join("|")+")$"))}});const q={};let ce;f(I.transformTags,function(he,Y){let Ie;typeof he=="function"?Ie=he:typeof he=="string"&&(Ie=_.simpleTransform(he)),Y==="*"?ce=Ie:q[Y]=Ie});let oe,ae,se,me,X,ge,G=!1;K();const z=new t.Parser({onopentag:function(he,Y){if(I.onOpenTag&&I.onOpenTag(he,Y),I.enforceHtmlBoundary&&he==="html"&&K(),X){ge++;return}const Ie=new M(he,Y);ae.push(Ie);let Fe=!1;const Ke=!!Ie.text;let qe;if(c(q,he)&&(qe=q[he](he,Y),Ie.attribs=Y=qe.attribs,qe.text!==void 0&&(Ie.innerText=qe.text),he!==qe.tagName&&(Ie.name=he=qe.tagName,me[oe]=qe.tagName)),ce&&(qe=ce(he,Y),Ie.attribs=Y=qe.attribs,he!==qe.tagName&&(Ie.name=he=qe.tagName,me[oe]=qe.tagName)),(!U(he)||I.disallowedTagsMode==="recursiveEscape"&&!g(se)||I.nestingLimit!=null&&oe>=I.nestingLimit)&&(Fe=!0,se[oe]=!0,(I.disallowedTagsMode==="discard"||I.disallowedTagsMode==="completelyDiscard")&&N.indexOf(he)!==-1&&(X=!0,ge=1)),oe++,Fe){if(I.disallowedTagsMode==="discard"||I.disallowedTagsMode==="completelyDiscard"){if(Ie.innerText&&!Ke){const Ge=ee(Ie.innerText);I.textFilter?A+=I.textFilter(Ge,he):A+=Ge,G=!0}return}P=A,A=""}A+="<"+he,he==="script"&&(I.allowedScriptHostnames||I.allowedScriptDomains)&&(Ie.innerText=""),Fe&&(I.disallowedTagsMode==="escape"||I.disallowedTagsMode==="recursiveEscape")&&I.preserveEscapedAttributes?f(Y,function(Ge,We){A+=" "+We+'="'+ee(Ge||"",!0)+'"'}):(!k||c(k,he)||k["*"])&&f(Y,function(Ge,We){if(!x.test(We)){delete Ie.attribs[We];return}if(Ge===""&&!I.allowedEmptyAttributes.includes(We)&&(I.nonBooleanAttributes.includes(We)||I.nonBooleanAttributes.includes("*"))){delete Ie.attribs[We];return}let Yt=!1;if(!k||c(k,he)&&k[he].indexOf(We)!==-1||k["*"]&&k["*"].indexOf(We)!==-1||c(R,he)&&R[he].test(We)||R["*"]&&R["*"].test(We))Yt=!0;else if(k&&k[he]){for(const ot of k[he])if(n(ot)&&ot.name&&ot.name===We){Yt=!0;let ut="";if(ot.multiple===!0){const st=Ge.split(" ");for(const bt of st)ot.values.indexOf(bt)!==-1&&(ut===""?ut=bt:ut+=" "+bt)}else ot.values.indexOf(Ge)>=0&&(ut=Ge);Ge=ut}}if(Yt){if(I.allowedSchemesAppliedToAttributes.indexOf(We)!==-1&&re(he,Ge)){delete Ie.attribs[We];return}if(he==="script"&&We==="src"){let ot=!0;try{const ut=pe(Ge);if(I.allowedScriptHostnames||I.allowedScriptDomains){const st=(I.allowedScriptHostnames||[]).find(function(dt){return dt===ut.url.hostname}),bt=(I.allowedScriptDomains||[]).find(function(dt){return ut.url.hostname===dt||ut.url.hostname.endsWith(`.${dt}`)});ot=st||bt}}catch{ot=!1}if(!ot){delete Ie.attribs[We];return}}if(he==="iframe"&&We==="src"){let ot=!0;try{const ut=pe(Ge);if(ut.isRelativeUrl)ot=c(I,"allowIframeRelativeUrls")?I.allowIframeRelativeUrls:!I.allowedIframeHostnames&&!I.allowedIframeDomains;else if(I.allowedIframeHostnames||I.allowedIframeDomains){const st=(I.allowedIframeHostnames||[]).find(function(dt){return dt===ut.url.hostname}),bt=(I.allowedIframeDomains||[]).find(function(dt){return ut.url.hostname===dt||ut.url.hostname.endsWith(`.${dt}`)});ot=st||bt}}catch{ot=!1}if(!ot){delete Ie.attribs[We];return}}if(We==="srcset")try{let ot=i(Ge);if(ot.forEach(function(ut){re("srcset",ut.url)&&(ut.evil=!0)}),ot=d(ot,function(ut){return!ut.evil}),ot.length)Ge=p(d(ot,function(ut){return!ut.evil})),Ie.attribs[We]=Ge;else{delete Ie.attribs[We];return}}catch{delete Ie.attribs[We];return}if(We==="class"){const ot=V[he],ut=V["*"],st=L[he],bt=F[he],dt=F["*"],tn=L["*"],wt=[st,tn].concat(bt,dt).filter(function(Pn){return Pn});if(ot&&ut?Ge=Ne(Ge,r(ot,ut),wt):Ge=Ne(Ge,ot||ut,wt),!Ge.length){delete Ie.attribs[We];return}}if(We==="style"){if(I.parseStyleAttributes)try{const ot=s(he+" {"+Ge+"}",{map:!1}),ut=ke(ot,I.allowedStyles);if(Ge=Re(ut),Ge.length===0){delete Ie.attribs[We];return}}catch{typeof window<"u"&&console.warn('Failed to parse "'+he+" {"+Ge+`}", If you're running this in a browser, we recommend to disable style parsing: options.parseStyleAttributes: false, since this only works in a node environment due to a postcss dependency, More info: https://github.com/apostrophecms/sanitize-html/issues/547`),delete Ie.attribs[We];return}else if(I.allowedStyles)throw new Error("allowedStyles option cannot be used together with parseStyleAttributes: false.")}A+=" "+We,Ge&&Ge.length?A+='="'+ee(Ge,!0)+'"':I.allowedEmptyAttributes.includes(We)&&(A+='=""')}else delete Ie.attribs[We]}),I.selfClosing.indexOf(he)!==-1?A+=" />":(A+=">",Ie.innerText&&!Ke&&!I.textFilter&&(A+=ee(Ie.innerText),G=!0)),Fe&&(A=P+ee(A),P=""),Ie.openingTagLength=A.length-Ie.tagPosition},ontext:function(he){if(X)return;const Y=ae[ae.length-1];let Ie;if(Y&&(Ie=Y.tag,he=Y.innerText!==void 0?Y.innerText:he),I.disallowedTagsMode==="completelyDiscard"&&!U(Ie))he="";else if((I.disallowedTagsMode==="discard"||I.disallowedTagsMode==="completelyDiscard")&&(Ie==="script"||Ie==="style"))A+=he;else if(!G){const Fe=ee(he,!1);I.textFilter?A+=I.textFilter(Fe,Ie):A+=Fe}if(ae.length){const Fe=ae[ae.length-1];Fe.text+=he}},onclosetag:function(he,Y){if(I.onCloseTag&&I.onCloseTag(he,Y),X)if(ge--,!ge)X=!1;else return;const Ie=ae.pop();if(!Ie)return;if(Ie.tag!==he){ae.push(Ie);return}X=I.enforceHtmlBoundary?he==="html":!1,oe--;const Fe=se[oe];if(Fe){if(delete se[oe],I.disallowedTagsMode==="discard"||I.disallowedTagsMode==="completelyDiscard"){Ie.updateParentNodeText();return}P=A,A=""}if(me[oe]&&(he=me[oe],delete me[oe]),I.exclusiveFilter){const Ke=I.exclusiveFilter(Ie);if(Ke==="excludeTag"){Fe&&(A=P,P=""),A=A.substring(0,Ie.tagPosition)+A.substring(Ie.tagPosition+Ie.openingTagLength);return}else if(Ke){A=A.substring(0,Ie.tagPosition);return}}if(Ie.updateParentNodeMediaChildren(),Ie.updateParentNodeText(),I.selfClosing.indexOf(he)!==-1||Y&&!U(he)&&["escape","recursiveEscape"].indexOf(I.disallowedTagsMode)>=0){Fe&&(A=P,P="");return}A+="</"+he+">",Fe&&(A=P+ee(A),P=""),G=!1}},I.parser);return z.write(C),z.end(),A;function K(){A="",oe=0,ae=[],se={},me={},X=!1,ge=0}function ee(he,Y){return typeof he!="string"&&(he=he+""),I.parser.decodeEntities&&(he=he.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Y&&(he=he.replace(/"/g,"&quot;"))),he=he.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Y&&(he=he.replace(/"/g,"&quot;")),he}function re(he,Y){for(Y=Y.replace(/[\x00-\x20]+/g,"");;){const Ke=Y.indexOf("<!--");if(Ke===-1)break;const qe=Y.indexOf("-->",Ke+4);if(qe===-1)break;Y=Y.substring(0,Ke)+Y.substring(qe+3)}const Ie=Y.match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!Ie)return Y.match(/^[/\\]{2}/)?!I.allowProtocolRelative:!1;const Fe=Ie[1].toLowerCase();return c(I.allowedSchemesByTag,he)?I.allowedSchemesByTag[he].indexOf(Fe)===-1:!I.allowedSchemes||I.allowedSchemes.indexOf(Fe)===-1}function pe(he){if(he=he.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//"),he.startsWith("relative:"))throw new Error("relative: exploit attempt");let Y="relative://relative-site";for(let Ke=0;Ke<100;Ke++)Y+=`/${Ke}`;const Ie=new URL(he,Y);return{isRelativeUrl:Ie&&Ie.hostname==="relative-site"&&Ie.protocol==="relative:",url:Ie}}function ke(he,Y){if(!Y)return he;const Ie=he.nodes[0];let Fe;return Y[Ie.selector]&&Y["*"]?Fe=r(Y[Ie.selector],Y["*"]):Fe=Y[Ie.selector]||Y["*"],Fe&&(he.nodes[0].nodes=Ie.nodes.reduce(Ce(Fe),[])),he}function Re(he){return he.nodes[0].nodes.reduce(function(Y,Ie){return Y.push(`${Ie.prop}:${Ie.value}${Ie.important?" !important":""}`),Y},[]).join(";")}function Ce(he){return function(Y,Ie){return c(he,Ie.prop)&&he[Ie.prop].some(function(Ke){return Ke.test(Ie.value)})&&Y.push(Ie),Y}}function Ne(he,Y,Ie){return Y?(he=he.split(/\s+/),he.filter(function(Fe){return Y.indexOf(Fe)!==-1||Ie.some(function(Ke){return Ke.test(Fe)})}).join(" ")):he}}const b={decodeEntities:!0};return _.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","menu","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],nonBooleanAttributes:["abbr","accept","accept-charset","accesskey","action","allow","alt","as","autocapitalize","autocomplete","blocking","charset","cite","class","color","cols","colspan","content","contenteditable","coords","crossorigin","data","datetime","decoding","dir","dirname","download","draggable","enctype","enterkeyhint","fetchpriority","for","form","formaction","formenctype","formmethod","formtarget","headers","height","hidden","high","href","hreflang","http-equiv","id","imagesizes","imagesrcset","inputmode","integrity","is","itemid","itemprop","itemref","itemtype","kind","label","lang","list","loading","low","max","maxlength","media","method","min","minlength","name","nonce","optimum","pattern","ping","placeholder","popover","popovertarget","popovertargetaction","poster","preload","referrerpolicy","rel","rows","rowspan","sandbox","scope","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","tabindex","target","title","translate","type","usemap","value","width","wrap","onauxclick","onafterprint","onbeforematch","onbeforeprint","onbeforeunload","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","onhashchange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onlanguagechange","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmessageerror","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onoffline","ononline","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onpopstate","onprogress","onratechange","onreset","onresize","onrejectionhandled","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onstorage","onsubmit","onsuspend","ontimeupdate","ontoggle","onunhandledrejection","onunload","onvolumechange","onwaiting","onwheel"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},allowedEmptyAttributes:["alt"],selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1,parseStyleAttributes:!0,preserveEscapedAttributes:!1},_.simpleTransform=function(C,I,D){return D=D===void 0?!0:D,I=I||{},function(A,P){let M;if(D)for(M in I)P[M]=I[M];else P=I;return{tagName:C,attribs:P}}},Mx}var IQ=CQ();const So=Vp(IQ),kQ="YOUR_GEMINI_API_KEY_HERE",C_=new yJ({apiKey:kQ}),DR={allowedTags:[],allowedAttributes:{}},RQ=async t=>{const e=t.map(i=>So(i,DR)),r=`
         Ti va hon thnh mt bi kim tra v cn tr gip n tp cc ch  ti  lm sai. 
         Cc ch   l: ${[...new Set(e)].join(", ")}.
     
         Vui lng to mt hng dn n tp ngn gn, d hiu cho cc ch  ny. 
         S dng nh dng markdown. i vi mi ch , hy cung cp:
         1. Gii thch ngn gn v khi nim ct li.
         2. Mt v d m n gin hoc mt s tht quan trng.
         3. Mt hoc hai im quan trng cn nh.
     
         Cu trc cu tr li ca bn vi cc tiu  r rng cho mi ch .
    -  `;try{const s=(await w_.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:r}]}]})).text,o=await $t.parse(s,{async:!0,gfm:!0});return bo(o,{allowedTags:bo.defaults.allowedTags.concat(["h1","h2","h3","ul","li","strong","code","p","br"])})}catch(i){return console.error("Gemini API call failed:",i),"<p><strong>Li:</strong> Khng th to ghi ch n tp vo lc ny. Dch v AI c th khng kh dng hoc kha API khng hp l.</p>"}},AQ=async(t,e)=>{const r=`To mt cu hi trc nghim cho mt k thi trc tuyn v ch  "${bo(t,CR)}" vi  kh l "${e}'. 
    +  `;try{const s=(await C_.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:r}]}]})).text,o=await $t.parse(s,{async:!0,gfm:!0});return So(o,{allowedTags:So.defaults.allowedTags.concat(["h1","h2","h3","ul","li","strong","code","p","br"])})}catch(i){return console.error("Gemini API call failed:",i),"<p><strong>Li:</strong> Khng th to ghi ch n tp vo lc ny. Dch v AI c th khng kh dng hoc kha API khng hp l.</p>"}},NQ=async(t,e)=>{const r=`To mt cu hi trc nghim cho mt k thi trc tuyn v ch  "${So(t,DR)}" vi  kh l "${e}'. 
         Cu hi nn c 4 la chn. p n phi l mt trong cc la chn .
         Cung cp cu tr li ca bn di dng mt i tng JSON c cu trc sau: 
         { "stem": "Ni dung cu hi  y...", "options": ["La chn A", "La chn B", "La chn C", "La chn D"], "answerIndex": 0 }
    -    Phn thn cu hi c th cha cc th HTML n gin nh <code> v <p>. m bo JSON hp l.`;try{const s=(await w_.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:r}]}],generationConfig:{responseMimeType:"application/json"}})).text.trim(),o=JSON.parse(s);if(o.stem&&Array.isArray(o.options)&&typeof o.answerIndex=="number"){const l=bo(o.stem),f=o.options.map(c=>bo(c));return{...o,stem:l,options:f}}return null}catch(i){return console.error("Khng th to cu hi bng AI",i),null}},CQ=async t=>{if(t.length===0)return Promise.resolve("<p>Khng c hot ng ng ng no c ghi li cho ln th ny.</p>");const n=`
    +    Phn thn cu hi c th cha cc th HTML n gin nh <code> v <p>. m bo JSON hp l.`;try{const s=(await C_.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:r}]}],generationConfig:{responseMimeType:"application/json"}})).text.trim(),o=JSON.parse(s);if(o.stem&&Array.isArray(o.options)&&typeof o.answerIndex=="number"){const l=So(o.stem),f=o.options.map(c=>So(c));return{...o,stem:l,options:f}}return null}catch(i){return console.error("Khng th to cu hi bng AI",i),null}},DQ=async t=>{if(t.length===0)return Promise.resolve("<p>Khng c hot ng ng ng no c ghi li cho ln th ny.</p>");const n=`
             Vi vai tr l gim th k thi, ti ang xem li nht k hot ng ca mt hc vin. Vui lng tm tt cc s kin sau v a ra nh gi ngn gn v vic liu m hnh hot ng c ng ng hay khng. Mt vi s kin ring l l bnh thng, nhng cc cm s kin (c bit l 'visibility_hidden' hoc 'focus_lost') l ng ng.
     
             Nht k s kin:
             ${t.map(r=>`- Vo lc ${new Date(r.timestamp).toLocaleTimeString()}, s kin '${r.event}'  xy ra.`).join(`
     `)}
     
             Cung cp bn tm tt ca bn  nh dng Markdown. Bt u bng tiu  "Tm tt gim st" v kt thc bng mt kt lun (v d: "Kt lun: Ri ro gian ln thp." hoc "Kt lun: Nghi ng gian ln cao do nhiu ln chuyn tab.").
    -    `;try{const i=(await w_.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:n}]}]})).text,s=await $t.parse(i,{async:!0,gfm:!0});return bo(s,{allowedTags:bo.defaults.allowedTags.concat(["h2","strong","p"])})}catch(r){return console.error("Gemini log summarization failed:",r),"<p><strong>Li:</strong> Khng th to tm tt.</p>"}},S_=t=>{if(!t||typeof t!="string")return;const e=/drive\.google\.com\/(?:file\/d\/|open\?id=)([a-zA-Z0-9_-]+)/,n=t.match(e);return n&&n[1]?`https://drive.google.com/uc?id=${n[1]}`:t},IQ=({isOpen:t,onClose:e,onSave:n,initialQuestion:r})=>{var N;const[i,s]=fe.useState({examId:(r==null?void 0:r.examId)||"",stem:(r==null?void 0:r.stem)||"",options:(N=r==null?void 0:r.options)!=null&&N.length?r.options:[{id:"opt-1",text:""},{id:"opt-2",text:""},{id:"opt-3",text:""},{id:"opt-4",text:""}],answer_key:(r==null?void 0:r.answer_key)||"",topic:(r==null?void 0:r.topic)||"",difficulty:(r==null?void 0:r.difficulty)||"medium",imageUrl:(r==null?void 0:r.imageUrl)||""}),[o,l]=fe.useState([]),[f,c]=fe.useState(!1),[d,g]=fe.useState(!1),[p,x]=fe.useState("");fe.useEffect(()=>{var k;s(r?{examId:r.examId||"",stem:r.stem||"",options:(k=r.options)!=null&&k.length?r.options:[{id:"opt-1",text:""},{id:"opt-2",text:""},{id:"opt-3",text:""},{id:"opt-4",text:""}],answer_key:r.answer_key||"",topic:r.topic||"",difficulty:r.difficulty||"medium",imageUrl:r.imageUrl||""}:{examId:o.length>0?o[0].id:"",stem:"",options:[{id:"opt-1",text:""},{id:"opt-2",text:""},{id:"opt-3",text:""},{id:"opt-4",text:""}],answer_key:"",topic:"",difficulty:"medium",imageUrl:""})},[r,t,o]),fe.useEffect(()=>{t&&(async()=>{const O=(await L0()).exams;l(O),!r&&O.length>0&&s(L=>({...L,examId:O[0].id}))})()},[r,t]);const _=k=>{const{name:R,value:O}=k.target;s(L=>({...L,[R]:O}))},b=(k,R)=>{const O=[...i.options];O[k].text=R,s(L=>({...L,options:O}))},C=()=>{s(k=>({...k,options:[...k.options,{id:`opt-${Date.now()}`,text:""}]}))},I=k=>{const R=i.options.filter((O,L)=>L!==k);i.answer_key===i.options[k].id?s(O=>({...O,options:R,answer_key:""})):s(O=>({...O,options:R}))},M=async()=>{if(!i.topic){x("Vui lng nhp ch  trc khi to bng AI.");return}g(!0),x("");try{const k=await AQ(i.topic,i.difficulty);if(k){const R=k.options.map((O,L)=>({id:`opt-gen-${L}`,text:O}));s(O=>{var L;return{...O,stem:k.stem,options:R,answer_key:((L=R[k.answerIndex])==null?void 0:L.id)||""}})}else x("AI khng th to cu hi hp l. Vui lng th li.")}catch{x(" xy ra li khi giao tip vi AI.")}finally{g(!1)}},A=async k=>{if(k.preventDefault(),!i.answer_key){x("Vui lng chn mt cu tr li ng.");return}c(!0),x("");try{const R={stem:i.stem,options:i.options.filter(O=>O.text.trim()!==""),answer_key:i.answer_key,topic:i.topic,difficulty:i.difficulty,imageUrl:i.imageUrl,points:(r==null?void 0:r.points)||1};r?await dF({...r,...R}):await hF(i.examId,R),n()}catch(R){console.error("Failed to save question",R),x(" xy ra li khi lu. Vui lng th li.")}finally{c(!1)}};if(!t)return null;const P=S_(i.imageUrl),D="block w-full rounded-lg border-0 py-2 px-3 bg-white text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",V="block text-sm font-medium leading-6 text-gray-900";return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 md:p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Sa cu hi":"Thm cu hi mi"}),w.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-3xl leading-none transition-colors",children:""})]}),w.jsxs("form",{onSubmit:A,className:"space-y-6",children:[p&&w.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-700 px-4 py-3 rounded-lg text-sm",children:p}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"topic",className:V,children:"Ch "}),w.jsx("div",{className:"mt-2",children:w.jsx("input",{id:"topic",name:"topic",type:"text",value:i.topic,onChange:_,className:D,required:!0,placeholder:"v d: React Hooks"})})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"difficulty",className:V,children:" kh"}),w.jsx("div",{className:"mt-2",children:w.jsxs("select",{id:"difficulty",name:"difficulty",value:i.difficulty,onChange:_,className:D,required:!0,children:[w.jsx("option",{value:"easy",children:"D"}),w.jsx("option",{value:"medium",children:"Trung bnh"}),w.jsx("option",{value:"hard",children:"Kh"})]})})]})]}),w.jsx("div",{children:w.jsx("button",{type:"button",onClick:M,disabled:d,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2.5 px-4 rounded-lg flex items-center justify-center disabled:bg-indigo-400 transition-colors shadow-sm",children:d?w.jsx(en,{}):" To bng AI"})}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"stem",className:V,children:"Ni dung cu hi (cho php HTML)"}),w.jsx("div",{className:"mt-2",children:w.jsx("textarea",{id:"stem",name:"stem",value:i.stem,onChange:_,rows:4,className:D,required:!0})})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"imageUrl",className:V,children:"URL hnh nh (ty chn)"}),w.jsx("div",{className:"mt-2",children:w.jsx("input",{id:"imageUrl",name:"imageUrl",type:"text",value:i.imageUrl,onChange:_,className:D,placeholder:"Dn lin kt hnh nh t Google Drive..."})}),P&&w.jsx("div",{className:"mt-3 p-2 border rounded-lg bg-gray-50 inline-block",children:w.jsx("img",{src:P,alt:"Xem trc",className:"max-h-40 w-auto rounded"})})]}),w.jsxs("div",{children:[w.jsx("label",{className:V,children:"Cc la chn & p n ng"}),w.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Chn nt radio cho cu tr li ng."}),w.jsx("div",{className:"space-y-3 mt-3",children:i.options.map((k,R)=>w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("input",{type:"radio",name:"answer_key",value:k.id,checked:i.answer_key===k.id,onChange:_,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),w.jsx("input",{type:"text",value:k.text,onChange:O=>b(R,O.target.value),className:`flex-grow ${D}`,placeholder:`La chn ${R+1}`}),w.jsx("button",{type:"button",onClick:()=>I(R),disabled:i.options.length<=2,className:"text-rose-500 hover:text-rose-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold text-xl","aria-label":"Xa la chn",children:""})]},k.id))}),w.jsx("button",{type:"button",onClick:C,className:"text-sm font-semibold text-indigo-600 hover:text-indigo-800 mt-3",children:"+ Thm la chn"})]}),w.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[w.jsx("button",{type:"button",onClick:e,className:"bg-white text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 font-bold py-2 px-4 rounded-lg transition-colors text-sm",children:"Hy"}),w.jsx("button",{type:"submit",disabled:f,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center disabled:bg-indigo-400 transition-colors shadow-sm text-sm",children:f?w.jsx(en,{}):"Lu cu hi"})]})]})]})})},kQ=({isOpen:t,onClose:e,imageUrl:n})=>t?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 transition-opacity",onClick:e,children:w.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-2xl max-w-4xl max-h-[90vh] w-auto relative",onClick:r=>r.stopPropagation(),children:[w.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-600 bg-white/70 hover:bg-white rounded-full p-1 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-colors","aria-label":"ng",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),w.jsx("img",{src:n,alt:"Hnh nh xem trc",className:"max-w-full max-h-[85vh] object-contain rounded-lg"})]})}):null,vC=400,RQ=({onImportComplete:t,onImportError:e,onProgress:n})=>{const[r,i]=fe.useState(null),[s,o]=fe.useState(!1),l=c=>{c.target.files&&c.target.files.length>0?i(c.target.files[0]):i(null)},f=async()=>{if(!r){e("Vui lng chn mt tp Excel (.xlsx) hoc CSV (.csv)  nhp.");return}o(!0),n("Bt u qu trnh nhp... Vui lng khng ng tab ny.");try{const c=Ea(),d=await r.arrayBuffer(),g=Ip(d),p=g.SheetNames[0],x=g.Sheets[p],_=Mk.sheet_to_json(x);if(_.length===0)throw new Error("Tp khng c d liu hoc khng ng nh dng. Hy chc chn dng u tin l dng tiu .");let b=0;for(let C=0;C<_.length;C+=vC){const I=_.slice(C,C+vC),M=jI(c);n(`ang x l: ${C+I.length} / ${_.length} cu hi...`);for(const A of I){const P=A["ID Cu hi"]||A.ID,D=A["Cu hi"]||A["Cu hi (Ni dung chnh)"],V=A["p n ng (chp li ni dung)"]||A["Correct Text"],N=A["Ch /Lp/Ngnh"]||A.Topic;if(!P||!D||!V){console.warn("B qua dng do thiu cc trng bt buc (ID, Cu hi, p n ng):",A);continue}const k=[A["p n A"],A.A,A["p n B"],A.B,A["p n C"],A.C,A["p n D"],A.D].filter(U=>U!=null&&String(U).trim()!=="").map(String),R=[...new Set(k)],O={id:String(P).trim(),questionText:String(D).trim(),options:R,correctAnswer:String(V).trim(),points:parseInt(A.Points||A.im,10)||1,topic:String(N).trim(),difficulty:String(A["Bc/ kh"]||A.Bc||A.Difficulty||"Trung bnh").trim(),imageUrl:String(A["Link nh minh ha (nu c)"]||A["Image Link"]||"").trim()},L=Bo(c,"questionBank",O.id);M.set(L,O)}await M.commit(),b+=I.length}t(b)}catch(c){console.error("Li khi nhp tp:",c),e(` xy ra li: ${c.message}`)}finally{o(!1);const c=document.getElementById("csv-file-input");c&&(c.value=""),i(null)}};return w.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg shadow-inner mt-6",children:[w.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:"Nhp t tp Excel / CSV"}),w.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["1. Chun b tp Excel (",w.jsx("strong",{children:".xlsx"}),") hoc CSV (",w.jsx("strong",{children:".csv"}),"). Dng u tin phi l dng tiu .",w.jsx("br",{}),"2. Nhp vo nt bn di  chn v ti ln tp ca bn."]}),w.jsx("input",{id:"csv-file-input",type:"file",accept:".xlsx, .xls, .csv",onChange:l,disabled:s,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-violet-50 file:text-violet-700 hover:file:bg-violet-100"}),w.jsx("button",{onClick:f,disabled:s||!r,className:"mt-4 px-6 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:s?"ang x l...":"Bt u Nhp"})]})},Nx=10,NQ=()=>{const[t,e]=fe.useState([]),[n,r]=fe.useState(!0),[i,s]=fe.useState(""),[o,l]=fe.useState(!1),[f,c]=fe.useState(null),[d,g]=fe.useState(""),[p,x]=fe.useState(1),[_,b]=fe.useState(!1),[C,I]=fe.useState({message:"",type:""}),[M,A]=fe.useState(!1),[P,D]=fe.useState(""),V=fe.useCallback(async()=>{r(!0),s("");try{const j=Ea(),z=Vo(j,"questionBank"),ee=(await _c(z)).docs.map(re=>({...re.data(),id:re.id}));e(ee)}catch(j){console.error("Failed to fetch questions from Firestore",j),s("Khng th ti ngn hng cu hi t c s d liu. Vui lng th li.")}finally{r(!1)}},[]);fe.useEffect(()=>{V()},[V]),fe.useEffect(()=>{x(1)},[d]);const N=fe.useMemo(()=>{const j=t.map(z=>z.topic).filter(Boolean);return[...new Set(j)]},[t]),k=fe.useMemo(()=>d?t.filter(j=>j.topic===d):t,[t,d]),R=Math.ceil(k.length/Nx),O=fe.useMemo(()=>{const j=(p-1)*Nx;return k.slice(j,j+Nx)},[k,p]),L=()=>{c(null),l(!0)},U=j=>{c(j),l(!0)},q=async j=>{if(window.confirm("Bn c chc chn mun xa cu hi ny khi ngn hng cu hi khng?"))try{const z=Ea();await NO(Bo(z,"questionBank",j)),await V()}catch(z){console.error("Failed to delete question:",z),s("Khng th xa cu hi. Vui lng th li.")}},he=()=>{l(!1),c(null)},ae=()=>{he(),V()},se=j=>{I({message:j,type:"progress"})},ue=j=>{I({message:`Nhp thnh cng!  x l ${j} cu hi. ang lm mi danh sch...`,type:"success"}),V(),setTimeout(()=>I({message:"",type:""}),5e3)},Ce=j=>{I({message:`Li khi nhp: ${j}`,type:"error"})},J=j=>{D(j),A(!0)},be=()=>{switch(C.type){case"success":return"text-emerald-700 bg-emerald-50 border-emerald-200";case"error":return"text-rose-700 bg-rose-50 border-rose-200";case"progress":return"text-sky-700 bg-sky-50 border-sky-200";default:return"hidden"}};return w.jsxs("div",{children:[w.jsxs("div",{className:"flex flex-wrap gap-4 justify-between items-center mb-4",children:[w.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Ngn hng cu hi"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{onClick:()=>b(!_),className:"bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-4 rounded-lg flex items-center transition-colors",children:[w.jsx(Pk,{}),w.jsx("span",{className:"ml-2",children:_?"ng Nhp liu":"Nhp t CSV"})]}),w.jsxs("button",{onClick:L,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center transition-colors",children:[w.jsx(O0,{}),w.jsx("span",{className:"ml-2",children:"Thm cu hi"})]})]})]}),C.message&&w.jsx("div",{className:`p-3 my-4 border rounded-lg text-sm ${be()}`,children:C.message}),_&&w.jsx(RQ,{onProgress:se,onImportComplete:ue,onImportError:Ce}),w.jsxs("div",{className:"mb-4 mt-6",children:[w.jsx("label",{htmlFor:"topic-filter",className:"block text-sm font-medium text-gray-700",children:"Lc theo ch "}),w.jsxs("select",{id:"topic-filter",value:d,onChange:j=>g(j.target.value),className:"mt-1 block w-full md:w-1/3 p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[w.jsx("option",{value:"",children:"Tt c ch "}),N.map(j=>w.jsx("option",{value:j,children:j},j))]})]}),n?w.jsxs("div",{className:"flex justify-center items-center h-64",children:[w.jsx(en,{}),w.jsx("p",{className:"ml-4 text-gray-600",children:"ang ti cu hi..."})]}):i?w.jsx("div",{className:"text-center bg-rose-50 border border-rose-200 text-rose-800 p-4 rounded-lg",children:i}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"space-y-4",children:O.map(j=>{const z=j.imageUrl?S_(j.imageUrl):"";return w.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-xs font-semibold text-indigo-600 bg-indigo-100 inline-block px-2 py-1 rounded-full mb-2",children:j.topic}),w.jsx("p",{className:"text-gray-900 font-medium",children:j.questionText}),z&&w.jsx("button",{type:"button",onClick:()=>J(z),className:"mt-3 bg-gray-100 rounded-lg p-2 border border-gray-200 inline-block hover:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition",children:w.jsx("img",{src:z,alt:"Hnh minh ha",className:"max-h-40 w-auto object-contain rounded-md"})})]}),w.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-2 ml-4",children:[w.jsx("button",{onClick:()=>U(j),className:"p-2 text-gray-500 hover:text-indigo-600 hover:bg-gray-200 rounded-full transition-colors",children:w.jsx(gp,{})}),w.jsx("button",{onClick:()=>q(j.id),className:"p-2 text-gray-500 hover:text-rose-600 hover:bg-gray-200 rounded-full transition-colors",children:w.jsx(d0,{})})]})]}),w.jsx("ul",{className:"mt-3 space-y-2",children:j.options.map((K,ee)=>w.jsx("li",{className:`text-sm pl-4 py-1 rounded ${K===j.correctAnswer?"bg-emerald-100 text-emerald-800 border-l-4 border-emerald-500 font-semibold":"text-gray-700"}`,children:K},ee))})]},j.id)})}),w.jsx(lc,{currentPage:p,totalPages:R,onPageChange:x})]}),M&&w.jsx(kQ,{isOpen:M,onClose:()=>A(!1),imageUrl:P}),o&&w.jsx(IQ,{isOpen:o,onClose:he,onSave:ae,initialQuestion:f})]})},DQ=async()=>{const t=Ea(),e=Vo(t,"questionBank"),n=await _c(e);return n.empty?(console.warn("Warning: Question bank is empty or not accessible."),[]):n.docs.map(r=>({...r.data(),id:r.id}))};async function MQ(t){var r;const e=YI(),n=XI(e,"generateExamVariantsHttps");try{console.log(`Calling cloud function 'generateExamVariantsHttps' with examId: ${t}`);const s=(await n({examId:t})).data;return console.log("Cloud function returned:",s),s}catch(i){return console.error("Error calling cloud function:",i),{success:!1,message:`Li t server: ${((r=i.details)==null?void 0:r.message)||i.message||" xy ra li khng xc nh."}`}}}const PQ=async()=>{const t=Ea(),e=Vo(t,"exams");return(await _c(e)).docs.map(r=>({...r.data(),id:r.id}))},LQ=async t=>{const e=Ea(),n={...t,isSynced:!1,lastSyncedAt:null,snapshotVariantIds:[]};return await zI(Vo(e,"exams"),n)},OQ=async(t,e)=>{const n=Ea(),r={...e,isSynced:!1,lastSyncedAt:null,snapshotVariantIds:[]};return await lm(Bo(n,"exams",t),r)},FQ=async t=>{const e=Ea(),n=jI(e),r=Ev(Vo(e,"examSnapshots"),CO("examId","==",t));(await _c(r)).forEach(o=>{n.delete(o.ref)});const s=Bo(e,"exams",t);n.delete(s),await n.commit()},UQ=({isOpen:t,onClose:e,onSave:n,initialExam:r})=>{const[i,s]=fe.useState({title:"",description:"",duration:60,pass_threshold:.7,blueprint:[],variants:10}),[o,l]=fe.useState(!1),[f,c]=fe.useState(""),[d,g]=fe.useState(!0),[p,x]=fe.useState([]),[_,b]=fe.useState([]);fe.useEffect(()=>{t&&(async()=>{g(!0);try{const D=await DQ(),V=[...new Set(D.map(k=>k.topic||"Cha phn loi"))],N=[...new Set(D.map(k=>k.difficulty||"Cha xc nh"))];x(V),b(N)}catch{c("Khng th ti d liu ch  v  kh t ngn hng cu hi.")}finally{g(!1)}})()},[t]),fe.useEffect(()=>{if(t&&!d)if(c(""),r){let P=[];if(typeof r.blueprint=="string"&&r.blueprint.trim().startsWith("["))try{P=JSON.parse(r.blueprint)}catch{P=[]}else Array.isArray(r.blueprint)&&(P=r.blueprint);s({...r,blueprint:P})}else s({title:"",description:"",duration:60,pass_threshold:.7,variants:10,blueprint:p.length>0&&_.length>0?[{topic:p[0],difficulty:_[0],count:1}]:[]})},[r,t,d,p,_]);const C=(P,D,V)=>{const N=[...i.blueprint],k={...N[P]};k[D]=D==="count"?parseInt(V,10):V,N[P]=k,s(R=>({...R,blueprint:N}))},I=()=>{if(p.length===0||_.length===0)return;const P={topic:p[0],difficulty:_[0],count:1};s(D=>({...D,blueprint:[...D.blueprint||[],P]}))},M=P=>{s(D=>({...D,blueprint:i.blueprint.filter((V,N)=>N!==P)}))},A=async P=>{P.preventDefault(),l(!0),c("");const D={...i,blueprint:i.blueprint||[]};try{r&&r.id?await OQ(r.id,D):await LQ(D),n()}catch(V){console.error("Failed to save exam",V),c(`Lu bi thi tht bi: ${V.message}`)}finally{l(!1)}};return t?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 md:p-8 max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Sa bi thi":"To bi thi mi"}),w.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-3xl leading-none",children:""})]}),d?w.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[w.jsx(en,{}),w.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti d liu cu hi..."})]}):w.jsxs("form",{onSubmit:A,className:"space-y-6",children:[f&&w.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-700 px-4 py-3 rounded-lg text-sm",children:f}),w.jsx(VQ,{blueprint:i.blueprint,allTopics:p,allDifficulties:_,onBlueprintChange:C,onAddRule:I,onRemoveRule:M}),w.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[w.jsx("button",{type:"button",onClick:e,className:"bg-white text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 font-bold py-2 px-4 rounded-lg",children:"Hy"}),w.jsx("button",{type:"submit",disabled:o,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center disabled:bg-indigo-400",children:o?w.jsx(en,{}):"Lu bi thi"})]})]})]})}):null},VQ=({blueprint:t,allTopics:e,allDifficulties:n,onBlueprintChange:r,onAddRule:i,onRemoveRule:s})=>{const o="block w-full rounded-lg border-0 py-2 px-3 bg-white text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm";return w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Ma trn  thi"}),w.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[(t||[]).map((l,f)=>w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-8 gap-3 items-center",children:[w.jsxs("div",{className:"md:col-span-3",children:[w.jsx("label",{className:"text-xs text-gray-600",children:"Ch "}),w.jsx("select",{value:l.topic,onChange:c=>r(f,"topic",c.target.value),className:o,children:e.map(c=>w.jsx("option",{value:c,children:c},c))})]}),w.jsxs("div",{className:"md:col-span-2",children:[w.jsx("label",{className:"text-xs text-gray-600",children:" kh"}),w.jsx("select",{value:l.difficulty,onChange:c=>r(f,"difficulty",c.target.value),className:o,children:n.map(c=>w.jsx("option",{value:c,children:c},c))})]}),w.jsxs("div",{className:"md:col-span-2",children:[w.jsx("label",{className:"text-xs text-gray-600",children:"S lng"}),w.jsx("input",{type:"number",value:l.count,onChange:c=>r(f,"count",c.target.value),className:o,min:"1"})]}),w.jsx("div",{className:"md:col-span-1 self-end",children:w.jsx("button",{type:"button",onClick:()=>s(f),className:"p-2 text-gray-500 hover:text-rose-600 hover:bg-gray-200 rounded-full",children:w.jsx(d0,{})})})]},f)),w.jsxs("button",{type:"button",onClick:i,className:"mt-3 bg-white hover:bg-gray-100 text-indigo-600 font-semibold py-2 px-3 border border-indigo-200 rounded-lg flex items-center text-sm",children:[w.jsx(O0,{}),w.jsx("span",{className:"ml-2",children:"Thm quy tc"})]})]}),w.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Tng s cu hi: ",w.jsx("span",{className:"font-bold",children:(t||[]).reduce((l,f)=>l+(f.count||0),0)})]})]})},BQ=({isOpen:t,onClose:e,exam:n})=>{const i=fe.useMemo(()=>{const s=n.questionsSnapshotUrl;if(!s)return[];const o=s.replace(/_variant-\d{2}_snapshot\.json$/,""),l=[];for(let f=1;f<=10;f++){const c=String(f).padStart(2,"0");l.push(`${o}_variant-${c}_snapshot.json`)}return l},[n.questionsSnapshotUrl]);return t?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 md:p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Cc bin th  thi"}),w.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-3xl leading-none transition-colors",children:""})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("p",{className:"text-gray-700",children:["y l cc lin kt trc tip n ",10," file cu hi (bin th)  c to cho bi thi ",w.jsx("strong",{className:"text-indigo-600",children:n.title}),". Bn c th m chng  kim tra ni dung."]}),i.length>0?w.jsx("ul",{className:"space-y-2 list-disc list-inside bg-gray-50 p-4 rounded-lg border",children:i.map((s,o)=>w.jsx("li",{className:"text-sm",children:w.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-indigo-700 hover:text-indigo-900 hover:underline break-all",children:["Bin th ",o+1]})},o))}):w.jsx("p",{className:"text-amber-700 bg-amber-50 p-4 rounded-lg border border-amber-200",children:"Bi thi ny cha c ng b, v vy cha c bin th no c to."})]}),w.jsx("div",{className:"flex justify-end mt-6 pt-4 border-t border-gray-200",children:w.jsx("button",{type:"button",onClick:e,className:"bg-white text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 font-bold py-2 px-4 rounded-lg transition-colors text-sm",children:"ng"})})]})}):null},qQ=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),HQ=()=>{const[t,e]=fe.useState([]),[n,r]=fe.useState(!0),[i,s]=fe.useState(""),[o,l]=fe.useState(!1),[f,c]=fe.useState(!1),[d,g]=fe.useState(null),[p,x]=fe.useState(null),[_,b]=fe.useState(null),[C,I]=fe.useState({}),M=fe.useCallback(async()=>{r(!0);try{const O=await PQ();e(O.sort((L,U)=>{var q,he;return(((q=U.createdAt)==null?void 0:q.seconds)||0)-(((he=L.createdAt)==null?void 0:he.seconds)||0)}))}catch{s("Khng th ti danh sch bi thi.")}finally{r(!1)}},[]);fe.useEffect(()=>{M()},[M]);const A=()=>{g(null),l(!0)},P=O=>{g(O),l(!0)},D=async O=>{if(window.confirm("Bn c chc chn mun xa bi thi ny v tt c cc bin th ca n khng? Hnh ng ny khng th hon tc."))try{await FQ(O),M()}catch(L){s("Khng th xa bi thi. Vui lng th li."),console.error("Deletion error:",L)}},V=async O=>{b(O),I(L=>({...L,[O]:{status:"success",message:"ang ng b..."}}));try{const L=await MQ(O);if(L.success)I(U=>({...U,[O]:{status:"success",message:L.message}})),await M();else throw new Error(L.message)}catch(L){console.error("Sync error:",L),I(U=>({...U,[O]:{status:"error",message:L.message||"ng b tht bi vi li khng xc nh."}}))}finally{b(null),setTimeout(()=>{I(L=>{const U={...L};return delete U[O],U})},1e4)}},N=O=>{x(O),c(!0)},k=()=>{l(!1),c(!1),g(null),x(null)},R=()=>{k(),M()};return n?w.jsxs("div",{className:"flex justify-center items-center h-64",children:[w.jsx(en,{})," ",w.jsx("p",{className:"ml-4",children:"ang ti..."})]}):i?w.jsxs("div",{className:"bg-rose-50 border border-rose-200 text-rose-800 p-4 rounded-lg",children:["Li: ",i]}):w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Qun l Bi thi"}),w.jsxs("button",{onClick:A,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center transition-colors",children:[w.jsx(O0,{}),w.jsx("span",{className:"ml-2",children:"To bi thi mi"})]})]}),w.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{children:[w.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"}),w.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tiu  Bi thi"}),w.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"S bin th"}),w.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hnh ng"})]})}),w.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(O=>w.jsxs("tr",{children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:O.isSynced?w.jsxs("span",{className:"flex items-center text-sm font-medium text-emerald-600",children:[w.jsx(QI,{className:"w-5 h-5 mr-1"}),"  ng b"]}):w.jsxs("span",{className:"flex items-center text-sm font-medium text-amber-600",children:[w.jsx(kp,{className:"w-5 h-5 mr-1"})," Cha ng b"]})}),w.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[w.jsx("div",{className:"text-sm font-semibold text-gray-900",children:O.title}),w.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",O.id]})]}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O.variants}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("button",{onClick:()=>V(O.id),disabled:_===O.id,className:"p-2 text-gray-500 hover:text-sky-600 hover:bg-gray-100 rounded-full disabled:opacity-50 disabled:cursor-wait transition-colors",title:"ng b  to b  thi",children:_===O.id?w.jsx(en,{}):w.jsx(Cv,{})}),w.jsx("button",{onClick:()=>P(O),className:"p-2 text-gray-500 hover:text-indigo-600 hover:bg-gray-100 rounded-full transition-colors",title:"Sa",children:w.jsx(gp,{})}),w.jsx("button",{onClick:()=>D(O.id),className:"p-2 text-gray-500 hover:text-rose-600 hover:bg-gray-100 rounded-full transition-colors",title:"Xa",children:w.jsx(d0,{})}),O.isSynced&&w.jsx("button",{onClick:()=>N(O),className:"p-2 text-gray-500 hover:text-emerald-600 hover:bg-gray-100 rounded-full transition-colors",title:"Xem cc bin th",children:w.jsx(qQ,{})})]})})]},O.id))})]})})}),Object.keys(C).length>0&&w.jsx("div",{className:"mt-4 space-y-2",children:Object.entries(C).map(([O,L])=>{var U;return w.jsxs("div",{className:`p-3 rounded-lg text-sm ${L.status==="success"?"bg-blue-50 text-blue-700":"bg-rose-50 text-rose-700"}`,children:[w.jsxs("strong",{children:["Bi thi ",(U=t.find(q=>q.id===O))==null?void 0:U.title,":"]})," ",L.message]},O)})}),o&&w.jsx(UQ,{isOpen:o,onClose:k,onSave:R,initialExam:d}),f&&w.jsx(BQ,{isOpen:f,onClose:k,exam:p})]})},zQ=({isOpen:t,onClose:e,onSave:n,exams:r,classes:i})=>{var C,I;const[s,o]=fe.useState({examId:((C=r[0])==null?void 0:C.id)||"",classId:((I=i[0])==null?void 0:I.id)||"",start_at:"",end_at:"",accessCode:""}),[l,f]=fe.useState(!1),[c,d]=fe.useState("");fe.useEffect(()=>{var M,A;t&&(o({examId:((M=r[0])==null?void 0:M.id)||"",classId:((A=i[0])==null?void 0:A.id)||"",start_at:"",end_at:"",accessCode:g()}),d(""))},[t,r,i]);const g=(M=6)=>{const A="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let P="";for(let D=0;D<M;D++)P+=A.charAt(Math.floor(Math.random()*A.length));return P},p=M=>{const{name:A,value:P}=M.target;o(D=>({...D,[A]:P}))},x=async M=>{if(M.preventDefault(),!s.examId||!s.classId||!s.start_at||!s.end_at){d("Vui lng in y  tt c cc trng.");return}const A=new Date(s.start_at).getTime(),P=new Date(s.end_at).getTime();if(A>=P){d("Thi gian kt thc phi sau thi gian bt u.");return}f(!0),d("");try{const D={examId:s.examId,classId:s.classId,start_at:A,end_at:P,accessCode:s.accessCode};await fF(D),n()}catch(D){console.error("Failed to save window",D),d(`Lu ca thi tht bi: ${D.message}`)}finally{f(!1)}};if(!t)return null;const _="block w-full rounded-lg border-0 py-2 px-3 bg-white text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",b="block text-sm font-medium leading-6 text-gray-900";return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 md:p-8 max-w-2xl w-full",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Ln lch ca thi mi"}),w.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-3xl leading-none transition-colors",children:""})]}),w.jsxs("form",{onSubmit:x,className:"space-y-4",children:[c&&w.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-700 px-4 py-3 rounded-lg text-sm",children:c}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"examId",className:b,children:"Bi thi"}),w.jsx("div",{className:"mt-1",children:w.jsx("select",{id:"examId",name:"examId",value:s.examId,onChange:p,className:_,required:!0,children:r.map(M=>w.jsx("option",{value:M.id,children:M.title},M.id))})})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"classId",className:b,children:"Lp hc"}),w.jsx("div",{className:"mt-1",children:w.jsx("select",{id:"classId",name:"classId",value:s.classId,onChange:p,className:_,required:!0,children:i.map(M=>w.jsx("option",{value:M.id,children:M.name},M.id))})})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"start_at",className:b,children:"Thi gian bt u"}),w.jsx("div",{className:"mt-1",children:w.jsx("input",{id:"start_at",name:"start_at",type:"datetime-local",value:s.start_at,onChange:p,className:_,required:!0})})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"end_at",className:b,children:"Thi gian kt thc"}),w.jsx("div",{className:"mt-1",children:w.jsx("input",{id:"end_at",name:"end_at",type:"datetime-local",value:s.end_at,onChange:p,className:_,required:!0})})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"accessCode",className:b,children:"M truy cp"}),w.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[w.jsx("input",{id:"accessCode",name:"accessCode",type:"text",value:s.accessCode,onChange:p,className:_,required:!0}),w.jsx("button",{type:"button",onClick:()=>o(M=>({...M,accessCode:g()})),className:"p-2 bg-white hover:bg-gray-100 rounded-lg border border-gray-300",title:"To m mi",children:w.jsx(Cv,{className:"h-5 w-5 text-gray-600"})})]})]}),w.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-gray-200",children:[w.jsx("button",{type:"button",onClick:e,className:"bg-white text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 font-bold py-2 px-4 rounded-lg transition-colors text-sm",children:"Hy"}),w.jsx("button",{type:"submit",disabled:l,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center disabled:bg-indigo-400 transition-colors shadow-sm text-sm",children:l?w.jsx(en,{}):"Lu ca thi"})]})]})]})})},Dx=10,GQ=()=>{const[t,e]=fe.useState([]),[n,r]=fe.useState([]),[i,s]=fe.useState([]),[o,l]=fe.useState(!0),[f,c]=fe.useState(""),[d,g]=fe.useState(1),[p,x]=fe.useState(!1),_=fe.useCallback(async()=>{l(!0),c("");try{const V=await L0();e(V.windows),r(V.exams),s(V.classes)}catch(V){console.error("Failed to fetch scheduling data:",V),c("Khng th ti d liu lch thi. Vui lng kim tra kt ni mng v th li.")}finally{l(!1)}},[]);fe.useEffect(()=>{_()},[_]);const b=()=>{x(!1)},C=()=>{b(),_()},I=Math.ceil(t.length/Dx),M=fe.useMemo(()=>{const V=(d-1)*Dx;return[...t].sort((k,R)=>R.start_at-k.start_at).slice(V,V+Dx)},[t,d]),A=new Map(n.map(V=>[V.id,V.title])),P=new Map(i.map(V=>[V.id,V.name])),D=(V,N)=>{const k=Date.now();return k<V?w.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-sky-100 text-sky-800",children:"Sp din ra"}):k>N?w.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-rose-100 text-rose-800",children:" ht hn"}):w.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-emerald-100 text-emerald-800",children:"ang hot ng"})};return w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Ln lch thi"}),w.jsxs("button",{onClick:()=>x(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center transition-colors",children:[w.jsx(O0,{}),w.jsx("span",{className:"ml-2",children:"Ln lch ca thi mi"})]})]}),o?w.jsxs("div",{className:"flex justify-center items-center h-64",children:[w.jsx(en,{}),w.jsx("p",{className:"ml-4 text-gray-600",children:"ang ti lch thi..."})]}):f?w.jsx("div",{className:"text-center bg-rose-50 border border-rose-200 text-rose-800 p-4 rounded-lg",children:f}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 hidden md:block",children:w.jsxs("table",{className:"min-w-full bg-white",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bi thi"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lp"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thi gian bt u"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thi gian kt thc"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"M truy cp"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"})]})}),w.jsx("tbody",{className:"divide-y divide-gray-200",children:M.map(V=>w.jsxs("tr",{className:"hover:bg-gray-50",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:A.get(V.examId)}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:P.get(V.classId)}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(V.start_at).toLocaleString()}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(V.end_at).toLocaleString()}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:w.jsx("code",{className:"font-mono bg-gray-100 text-gray-800 px-2 py-1 rounded-md",children:V.accessCode})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:D(V.start_at,V.end_at)})]},V.id))})]})}),w.jsx("div",{className:"space-y-3 md:hidden",children:M.map(V=>w.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-200 space-y-3",children:[w.jsxs("div",{className:"flex justify-between items-start gap-2",children:[w.jsx("p",{className:"font-bold text-indigo-600 flex-1 pr-2",children:A.get(V.examId)}),D(V.start_at,V.end_at)]}),w.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-sm pt-3 border-t",children:[w.jsx("span",{className:"text-gray-500",children:"Lp:"}),w.jsx("span",{className:"text-gray-800 font-medium",children:P.get(V.classId)}),w.jsx("span",{className:"text-gray-500",children:"M truy cp:"}),w.jsx("code",{className:"font-mono bg-gray-100 text-gray-800 px-2 py-0.5 rounded-md text-xs self-center",children:V.accessCode})]}),w.jsxs("div",{className:"text-sm text-gray-500 pt-3 border-t space-y-1",children:[w.jsxs("div",{children:[w.jsx("strong",{className:"font-medium text-gray-700",children:"Bt u:"})," ",new Date(V.start_at).toLocaleString()]}),w.jsxs("div",{children:[w.jsx("strong",{className:"font-medium text-gray-700",children:"Kt thc:"})," ",new Date(V.end_at).toLocaleString()]})]})]},V.id))}),w.jsx(lc,{currentPage:d,totalPages:I,onPageChange:g})]}),p&&w.jsx(zQ,{isOpen:p,onClose:b,onSave:C,exams:n,classes:i})]})},Mx=10,jQ=()=>{const[t,e]=fe.useState([]),[n,r]=fe.useState(""),[i,s]=fe.useState(null),[o,l]=fe.useState(!0),[f,c]=fe.useState(!1),[d,g]=fe.useState(""),[p,x]=fe.useState(1);fe.useEffect(()=>{(async()=>{l(!0),g("");try{const M=await L0();e(M.exams),M.exams.length>0&&r(M.exams[0].id)}catch(M){console.error("Failed to fetch exams for analytics",M),g("Khng th ti danh sch bi thi. Vui lng kim tra kt ni mng.")}finally{l(!1)}})()},[]),fe.useEffect(()=>{(async()=>{if(n){c(!0),s(null),g(""),x(1);try{const M=await pF(n);s(M.questionAnalytics)}catch(M){console.error("Failed to fetch analytics data",M),g("Khng th ti d liu phn tch cho bi thi ny.")}finally{c(!1)}}})()},[n]);const _=Math.ceil(((i==null?void 0:i.length)||0)/Mx),b=fe.useMemo(()=>{if(!i)return[];const I=(p-1)*Mx;return i.slice(I,I+Mx)},[i,p]),C=I=>I>.8?w.jsx("span",{className:"text-emerald-600",children:"D"}):I<.3?w.jsx("span",{className:"text-rose-600",children:"Kh"}):w.jsx("span",{className:"text-amber-600",children:"Trung bnh"});return w.jsxs("div",{children:[w.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Phn tch bi thi"}),o?w.jsxs("div",{className:"flex justify-center items-center h-64",children:[w.jsx(en,{}),w.jsx("p",{className:"ml-4 text-gray-600",children:"ang ti bi thi..."})]}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{htmlFor:"exam-select",className:"block text-sm font-medium text-gray-700",children:"Chn bi thi  phn tch"}),w.jsx("select",{id:"exam-select",value:n,onChange:I=>r(I.target.value),className:"mt-1 block w-full md:w-1/2 p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:t.map(I=>w.jsx("option",{value:I.id,children:I.title},I.id))})]}),d&&w.jsx("div",{className:"text-center bg-rose-50 border border-rose-200 text-rose-800 p-4 rounded-lg my-4",children:d}),f?w.jsxs("div",{className:"flex justify-center items-center h-64",children:[w.jsx(en,{}),w.jsx("p",{className:"ml-4 text-gray-600",children:"ang tnh ton phn tch..."})]}):i&&!d?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:w.jsxs("table",{className:"min-w-full bg-white",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ni dung cu hi"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ch "}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"P-Value ( kh)"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Din gii"})]})}),w.jsx("tbody",{children:b.map(I=>{var M,A;return w.jsxs("tr",{className:"border-b border-gray-200 last:border-b-0 hover:bg-gray-50",children:[w.jsx("td",{className:"px-6 py-3 prose prose-sm max-w-md text-gray-800",dangerouslySetInnerHTML:{__html:I.stem}}),w.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-600",children:I.topic}),w.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm font-semibold text-gray-800",children:((M=I.analytics)==null?void 0:M.pValue)??"N/A"}),w.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm font-bold",children:((A=I.analytics)==null?void 0:A.pValue)!==void 0?C(I.analytics.pValue):"N/A"})]},I.id)})})]})}),w.jsx(lc,{currentPage:p,totalPages:_,onPageChange:x})]}):!d&&w.jsx("p",{className:"text-center text-gray-500 mt-8",children:"Khng c d liu phn tch cho bi thi ny."})]})]})},$Q=t=>w.jsx(Ls,{d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197m0 0A5.975 5.975 0 0112 13a5.975 5.975 0 01-3 5.197M15 21a6 6 0 00-9-5.197",...t}),WQ=t=>w.jsx(Ls,{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01",...t}),KQ=t=>w.jsx(Ls,{d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10",...t}),YQ=t=>w.jsx(Ls,{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",...t}),XQ=t=>w.jsx(Ls,{d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",...t}),JQ=t=>w.jsx(Ls,{d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z",...t}),QQ=({onViewProctoringReport:t})=>{const[e,n]=fe.useState("analytics"),r=()=>{switch(e){case"students":return w.jsx(Cj,{});case"results":return w.jsx(HS,{onViewProctoringReport:t});case"questions":return w.jsx(NQ,{});case"exams":return w.jsx(HQ,{});case"scheduling":return w.jsx(GQ,{});case"analytics":return w.jsx(jQ,{});default:return w.jsx(HS,{onViewProctoringReport:t})}},i=({view:s,label:o,icon:l})=>{const f=e===s;return w.jsxs("button",{onClick:()=>n(s),className:`flex items-center space-x-3 px-4 py-3 rounded-lg font-semibold transition-colors w-full text-left ${f?"bg-gray-200 text-gray-900":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[l,w.jsx("span",{className:"flex-grow",children:o}),f&&w.jsx("svg",{className:"w-5 h-5 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})};return w.jsxs("div",{className:"space-y-8",children:[w.jsx("h1",{className:"text-4xl font-bold text-gray-800 tracking-tight",children:"Bng iu khin qun tr"}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 items-start",children:[w.jsx("aside",{className:"lg:col-span-1",children:w.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 space-y-2",children:[w.jsx(i,{view:"analytics",label:"Phn tch bi thi",icon:w.jsx(JQ,{className:"w-5 h-5"})}),w.jsx(i,{view:"results",label:"Kt qu thi",icon:w.jsx(WQ,{className:"w-5 h-5"})}),w.jsx(i,{view:"scheduling",label:"Ln lch thi",icon:w.jsx(XQ,{className:"w-5 h-5"})}),w.jsx(i,{view:"exams",label:"Qun l bi thi",icon:w.jsx(YQ,{className:"w-5 h-5"})}),w.jsx(i,{view:"questions",label:"Ngn hng cu hi",icon:w.jsx(KQ,{className:"w-5 h-5"})}),w.jsx(i,{view:"students",label:"Qun l hc vin",icon:w.jsx($Q,{className:"w-5 h-5"})})]})}),w.jsx("main",{className:"lg:col-span-3",children:w.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 min-h-[480px]",children:r()})})]})]})},ZQ=6e4,eZ=[.05,.5,.95],_C=3,tZ=(t,e)=>{const[n,r]=fe.useState(t),i=fe.useRef(null),s=fe.useCallback(()=>{i.current&&clearInterval(i.current),r(t),i.current=window.setInterval(()=>{r(o=>o<=1?(i.current&&clearInterval(i.current),e(),0):o-1)},1e3)},[t,e]);return fe.useEffect(()=>()=>{i.current&&clearInterval(i.current)},[]),{timeLeft:n,startTimer:s}},nZ=t=>{const[e,n]=fe.useState(!1),r=fe.useCallback(()=>{document.documentElement.requestFullscreen().catch(i=>{console.error(`Error attempting to enable full-screen mode: ${i.message} (${i.name})`)})},[]);return fe.useEffect(()=>{const i=s=>{s.preventDefault(),t("copy_paste_blocked")};return document.addEventListener("copy",i),document.addEventListener("paste",i),document.addEventListener("cut",i),()=>{document.removeEventListener("copy",i),document.removeEventListener("paste",i),document.removeEventListener("cut",i)}},[t]),fe.useEffect(()=>{const i=()=>{const s=document.fullscreenElement!=null;n(s)};return document.addEventListener("fullscreenchange",i),()=>document.removeEventListener("fullscreenchange",i)},[]),fe.useEffect(()=>{const i=()=>t("focus_lost");return window.addEventListener("blur",i),()=>window.removeEventListener("blur",i)},[t]),fe.useEffect(()=>{const i=()=>{document.visibilityState==="hidden"&&t("visibility_hidden")};return document.addEventListener("visibilitychange",i),()=>document.removeEventListener("visibilitychange",i)},[t]),{requestFullScreen:r,isFullScreen:e}},rZ=({question:t,questionNumber:e,totalQuestions:n,selectedOption:r,onAnswer:i})=>{const s=S_(t.imageUrl);return w.jsxs("div",{children:[w.jsxs("p",{className:"text-sm font-semibold text-gray-500 mb-2",children:["Cu ",e," trn ",n]}),s&&w.jsx("div",{className:"my-4 flex justify-center",children:w.jsx("img",{src:s,alt:`Hnh minh ha cho cu hi ${e}`,className:"max-w-full h-auto max-h-80 rounded-lg shadow-md object-contain border border-gray-200"})}),w.jsx("div",{className:"text-lg text-gray-900 prose max-w-none mb-6",dangerouslySetInnerHTML:{__html:t.stem}}),w.jsx("div",{className:"space-y-4",children:t.options.map((o,l)=>w.jsxs("label",{className:`flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${r===o.id?"border-indigo-500 bg-indigo-50 ring-2 ring-indigo-200":"border-gray-300 bg-white hover:border-indigo-400"}`,children:[w.jsx("input",{type:"radio",name:`question-${t.id}`,value:o.id,checked:r===o.id,onChange:()=>i(t.id,o.id),className:"sr-only","aria-labelledby":`option-text-${o.id}`}),w.jsx("span",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center mr-4 border-2 ${r===o.id?"border-indigo-500 bg-indigo-500":"border-gray-400 bg-white"}`,children:r===o.id&&w.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})}),w.jsxs("span",{className:"font-semibold text-gray-700 mr-2",children:[String.fromCharCode(65+l),"."]}),w.jsx("span",{id:`option-text-${o.id}`,className:"text-gray-800 flex-grow",children:o.text})]},o.id))})]})},iZ=({timeLeft:t})=>{const e=Math.floor(t/60),n=t%60,r=t<300;return w.jsxs("div",{className:`p-4 rounded-lg flex items-center justify-center space-x-3 ${r?"bg-rose-100":"bg-indigo-100"}`,children:[w.jsx(JI,{className:`h-6 w-6 ${r?"text-rose-600":"text-indigo-600"}`}),w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:`text-sm font-bold uppercase tracking-wider ${r?"text-rose-700":"text-indigo-700"}`,children:"Thi gian cn li"}),w.jsxs("p",{className:`text-3xl font-mono font-bold tracking-wider ${r?"text-rose-900":"text-indigo-900"}`,children:[String(e).padStart(2,"0"),":",String(n).padStart(2,"0")]})]})]})},sZ=t=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:[w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),aZ=({reason:t,onDone:e,onPhotoTaken:n})=>{const r=fe.useRef(null),[i,s]=fe.useState(!1),[o,l]=fe.useState(null),[f,c]=fe.useState(null),[d,g]=fe.useState(null),p=fe.useCallback(async()=>{try{const _=await navigator.mediaDevices.getUserMedia({video:!0});c(_),r.current&&(r.current.srcObject=_)}catch(_){console.error("Error accessing camera:",_),g("Khng th truy cp my nh. Vui lng m bo bn  cp quyn v khng c ng dng no khc ang s dng.")}},[]);fe.useEffect(()=>(p(),()=>{f==null||f.getTracks().forEach(_=>_.stop())}),[]);const x=fe.useCallback(()=>{s(!0),l(3);const _=setInterval(()=>{l(b=>b!==null?b-1:null)},1e3);setTimeout(()=>{if(clearInterval(_),r.current){const b=document.createElement("canvas");b.width=r.current.videoWidth,b.height=r.current.videoHeight;const C=b.getContext("2d");if(C){C.drawImage(r.current,0,0,b.width,b.height);const I=b.toDataURL("image/jpeg",.8);console.log("Photo captured. Size:",Math.round(I.length/1024),"KB"),n(I)}}s(!1),e()},3e3)},[e,n]);return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-lg w-full text-center",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Kim tra danh tnh"}),w.jsx("p",{className:"text-gray-600 mb-4",children:t}),w.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden aspect-video relative flex items-center justify-center mb-4 border border-gray-700",children:[d?w.jsx("p",{className:"text-rose-400 p-4",children:d}):w.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),o!==null&&o>0&&w.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50",children:w.jsx("span",{className:"text-white text-9xl font-bold",children:o})}),!f&&!d&&w.jsxs("div",{className:"absolute inset-0 flex items-center justify-center flex-col text-white",children:[w.jsx(en,{}),w.jsx("p",{className:"mt-2",children:"ang khi ng my nh..."})]})]}),w.jsx("button",{onClick:x,disabled:i||!!d||!f,className:"w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200 disabled:bg-indigo-400 disabled:cursor-not-allowed flex justify-center items-center",children:i?w.jsx(en,{}):w.jsxs(w.Fragment,{children:[w.jsx(sZ,{})," ",w.jsx("span",{className:"ml-2",children:"Chp nh"})]})})]})})},oZ=({isOpen:t,onClose:e,violationCount:n,maxViolations:r})=>{if(!t)return null;const i=n>=r;return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[60] p-4",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-lg w-full text-center",children:[w.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-rose-100",children:w.jsx(kp,{className:"h-8 w-8 text-rose-600"})}),w.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-4 mb-2",children:"Cnh bo vi phm"}),w.jsx("p",{className:"text-gray-600 mb-4",children:i?"Bn  vt qu s ln cho php ri khi mn hnh thi. Bi thi s c np t ng.":"H thng  pht hin bn ri khi mn hnh thi. Vui lng tp trung vo bi lm  trnh b hy kt qu."}),w.jsx("div",{className:"bg-gray-100 p-3 rounded-lg mb-6",children:w.jsxs("p",{className:"font-semibold text-gray-800",children:["S ln vi phm: ",w.jsxs("span",{className:"text-rose-600 font-bold text-lg",children:[n," / ",r]})]})}),!i&&w.jsx("button",{onClick:e,className:"w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200",children:"Ti  hiu, quay li bi thi"})]})})},uZ=()=>w.jsxs("div",{className:"flex justify-center items-center h-[50vh]",children:[w.jsx(en,{}),w.jsx("p",{className:"ml-4 text-lg text-gray-600",children:"ang xo trn cu hi..."})]}),lZ=({status:t})=>{switch(t){case"saving":return w.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[w.jsx(en,{})," ",w.jsx("span",{className:"ml-2",children:"ang lu..."})]});case"success":return w.jsx("div",{className:"text-sm text-emerald-600",children:"  lu tt c thay i."});case"error":return w.jsx("div",{className:"text-sm text-rose-600",children:" Li khi lu. Hy kim tra kt ni mng."});default:return w.jsx("div",{className:"text-sm text-gray-500",children:"Thay i s c t ng lu."})}},cZ=({exam:t,attempt:e,questions:n,onSubmit:r})=>{const[i]=fe.useState(()=>{if(!n||n.length===0)return[];const J=j=>{const z=[...j];for(let K=z.length-1;K>0;K--){const ee=Math.floor(Math.random()*(K+1));[z[K],z[ee]]=[z[ee],z[K]]}return z},be=JSON.parse(JSON.stringify(n));return be.forEach(j=>{j.options&&(j.options=J(j.options))}),J(be)}),[s,o]=fe.useState(0),[l,f]=fe.useState(e.answers),[c,d]=fe.useState(!1),[g,p]=fe.useState(!1),[x,_]=fe.useState(""),[b,C]=fe.useState("idle"),I=fe.useRef(0),[M,A]=fe.useState(!1),[P,D]=fe.useState(0),[V,N]=fe.useState(!1),k=fe.useRef(e);k.current={...e,answers:l};const R=fe.useRef([]),O=fe.useCallback(async J=>{if(!c){d(!0),console.log(`Np bi v: ${J}`);try{let be=0;i.forEach(re=>{l[re.id]===re.answer_key&&be++});const j=i.length,z=j>0?be/j:0,K={...k.current,score:z,questions:i},ee=await rF(K);r(ee)}catch(be){console.error("Failed to submit",be),alert(" c li khi np bi thi ca bn. Vui lng kim tra kt ni."),d(!1)}}},[r,c,i,l]),L=fe.useCallback(()=>{c||O("Ht gi")},[c,O]),{timeLeft:U,startTimer:q}=tZ(t.duration*60,L),he=fe.useCallback(async(J,be)=>{if(console.warn(`Proctoring event: ${J}`,be||""),await iF({attemptId:e.id,event:J,timestamp:Date.now(),metadata:be}),J==="focus_lost"||J==="visibility_hidden"){I.current+=1;const j=I.current;D(j),A(!0),j>=_C&&setTimeout(()=>O("Vt qu s ln vi phm cho php"),3e3)}},[e.id,O]),{requestFullScreen:ae,isFullScreen:se}=nZ(he);fe.useEffect(()=>{q(),ae(),p(!0),_("Xc minh danh tnh ban u")},[t.id,q,ae]),fe.useEffect(()=>{const J=t.duration*60,j=(J-U)/J;eZ.forEach((z,K)=>{j>=z&&!R.current.includes(K)&&(R.current.push(K),p(!0),_(`Kim tra danh tnh ti ${Math.round(z*100)}% tin `))})},[U,t.duration]),fe.useEffect(()=>{const J=setInterval(async()=>{if(Object.keys(k.current.answers).length>0){C("saving");try{await nF(k.current.id,k.current.answers),C("success"),setTimeout(()=>C("idle"),3e3)}catch(be){console.error("Li t ng lu:",be),C("error")}}},ZQ);return()=>clearInterval(J)},[]);const ue=(J,be)=>{f(j=>({...j,[J]:be}))},Ce=()=>{p(!1),_("")};return se?i.length===0?w.jsx(uZ,{}):w.jsxs("div",{className:"flex flex-col md:flex-row gap-8 max-w-7xl mx-auto",children:[w.jsx(Iv,{isOpen:V,onClose:()=>N(!1),onConfirm:()=>O("Ngi dng np bi"),title:"Xc nhn np bi",message:w.jsx("p",{children:"Bn c chc chn mun np bi thi khng? Hnh ng ny khng th hon tc."})}),w.jsx(oZ,{isOpen:M,onClose:()=>A(!1),violationCount:P,maxViolations:_C}),g&&w.jsx(aZ,{reason:x,onDone:Ce,onPhotoTaken:J=>he("photo_taken",{size:J.length})}),w.jsx("div",{className:"flex-grow bg-white p-4 sm:p-8 rounded-xl shadow-xl border border-gray-200",children:w.jsx(rZ,{question:i[s],questionNumber:s+1,totalQuestions:i.length,selectedOption:l[i[s].id],onAnswer:ue})}),w.jsx("div",{className:"w-full md:w-80 lg:w-96 flex-shrink-0",children:w.jsxs("div",{className:"sticky top-24 bg-white p-4 sm:p-6 rounded-xl shadow-xl border border-gray-200 space-y-6",children:[w.jsx(iZ,{timeLeft:U}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-bold text-lg mb-3 text-gray-900",children:"iu hng"}),w.jsx("div",{className:"overflow-x-auto pb-2",children:w.jsx("div",{className:"grid grid-flow-col auto-cols-max gap-2 sm:grid sm:grid-cols-5 md:grid-cols-4 lg:grid-cols-5",children:i.map((J,be)=>w.jsx("button",{onClick:()=>o(be),"aria-label":`i n cu ${be+1}`,className:`h-10 w-10 rounded-full flex items-center justify-center font-bold transition-colors flex-shrink-0 text-sm border-2 border-transparent ${be===s?"bg-indigo-600 text-white ring-2 ring-offset-2 ring-indigo-500":l[J.id]?"bg-emerald-100 text-emerald-800 hover:bg-emerald-200 border-emerald-200":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:be+1},J.id))})})]}),w.jsxs("div",{className:"pt-6 border-t border-gray-200 space-y-4",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("button",{onClick:()=>o(J=>Math.max(0,J-1)),disabled:s===0,className:"bg-white hover:bg-gray-100 text-gray-800 font-bold py-2 px-4 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cu trc"}),s===i.length-1?w.jsx("button",{onClick:()=>N(!0),disabled:c,className:"bg-rose-600 hover:bg-rose-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center disabled:bg-rose-400 transition-colors",children:c?w.jsx(en,{}):"Np bi"}):w.jsx("button",{onClick:()=>o(J=>Math.min(i.length-1,J+1)),disabled:s===i.length-1,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cu sau"})]}),w.jsx("div",{className:"text-center h-5",children:w.jsx(lZ,{status:b})})]})]})})]}):w.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex flex-col items-center justify-center z-50 text-white p-8 text-center",children:[w.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Yu cu ton mn hnh"}),w.jsx("p",{className:"text-lg mb-8 max-w-2xl",children:"V mc ch gim st, bi thi ny phi c thc hin  ch  ton mn hnh. iu ny gip m bo mt mi trng thi cng bng."}),w.jsx("button",{onClick:ae,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg text-xl",children:"Vo ch  ton mn hnh"})]})},fZ=({user:t,exam:e,attempt:n,questions:r})=>{const i=fe.useMemo(()=>{let s=0;r.forEach(c=>{n.answers[c.id]===c.answer_key&&s++});const o=r.length,l=o>0?s/o*100:0,f=l>=e.pass_threshold*100;return{correctCount:s,total:o,score:l,passed:f}},[n,r,e]);return w.jsxs("div",{className:"p-8 font-sans",children:[w.jsx("h1",{className:"text-3xl font-bold mb-2 text-center",children:"BO CO KT QU BI THI"}),w.jsxs("div",{className:"text-center mb-8 border-b pb-4",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Bi thi:"})," ",e.title]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Hc vin:"})," ",t.name]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Ngy hon thnh:"})," ",new Date(n.completed_at).toLocaleString()]})]}),w.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8 text-center",children:[w.jsxs("div",{className:"p-4 bg-gray-100 rounded",children:[w.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"KT QU"}),w.jsx("p",{className:`text-2xl font-bold ${i.passed?"text-green-600":"text-red-600"}`,children:i.passed?"T":"KHNG T"})]}),w.jsxs("div",{className:"p-4 bg-gray-100 rounded",children:[w.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"IM S"}),w.jsxs("p",{className:"text-2xl font-bold",children:[i.score.toFixed(1),"%"]})]}),w.jsxs("div",{className:"p-4 bg-gray-100 rounded",children:[w.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"TR LI NG"}),w.jsxs("p",{className:"text-2xl font-bold",children:[i.correctCount," / ",i.total]})]})]}),w.jsx("h2",{className:"text-2xl font-bold mt-8 mb-4 border-b pb-2",children:"Chi tit cu tr li"}),w.jsx("div",{className:"space-y-6",children:r.map((s,o)=>{var g,p;const l=n.answers[s.id],f=l===s.answer_key,c=(g=s.options.find(x=>x.id===l))==null?void 0:g.text,d=(p=s.options.find(x=>x.id===s.answer_key))==null?void 0:p.text;return w.jsxs("div",{className:"p-4 border rounded-lg break-inside-avoid",children:[w.jsxs("p",{className:"font-bold text-gray-800",children:["Cu ",o+1,":"]}),w.jsx("div",{className:"prose prose-sm max-w-none mb-3",dangerouslySetInnerHTML:{__html:s.stem}}),w.jsxs("p",{className:`p-2 rounded text-sm ${f?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[w.jsx("strong",{children:"Cu tr li ca bn: "})," ",c||w.jsx("span",{className:"italic",children:"Cha tr li"})]}),!f&&w.jsxs("p",{className:"p-2 mt-2 rounded text-sm bg-green-100 text-green-800",children:[w.jsx("strong",{children:"p n ng: "})," ",d]})]},s.id)})})]})},hZ=({user:t,exam:e,attempt:n,questions:r,onBackToDashboard:i})=>{const[s,o]=fe.useState(!1),[l,f]=fe.useState(null),[c,d]=fe.useState(n.reviewRequested),[g,p]=fe.useState(!0),[x,_]=fe.useState(!1);fe.useEffect(()=>{const D=setTimeout(()=>{p(!1)},1500);return()=>clearTimeout(D)},[]);const b=fe.useMemo(()=>{let D=0;const V=new Set;r.forEach(L=>{n.answers[L.id]===L.answer_key?D++:V.add(L.topic)});const N=r.length,k=N>0?D/N:0,R=k>=e.pass_threshold,O=Array.from(V);return O.length===0&&!R&&N>0&&O.push("n tp chung"),n.score=k,{correctCount:D,total:N,score:k,passed:R,incorrectTopics:O}},[e,n,r]),C=async()=>{o(!0),f(null);try{const D=await SQ(b.incorrectTopics);f(D)}catch(D){console.error("Li khi to ghi ch n tp:",D),f("Xin li,  c li khi to ghi ch n tp. Vui lng th li sau.")}finally{o(!1)}},I=async()=>{try{await sF(n.id),d(!0)}catch(D){console.error("Li khi yu cu xem li:",D),alert("Khng th gi yu cu. Vui lng kim tra kt ni mng v th li.")}},M=()=>{window.print()},A=b.score*100,P=e.pass_threshold*100;return g?w.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-xl max-w-4xl mx-auto text-center border border-gray-200",children:[w.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"ang x l kt qu"}),w.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Bi lm ca bn  c np thnh cng. Vui lng i trong giy lt trong khi h thng chm im."}),w.jsx("div",{className:"flex justify-center items-center h-40",children:w.jsx(en,{})})]}):w.jsxs(w.Fragment,{children:[w.jsx("style",{children:`
    +    `;try{const i=(await C_.models.generateContent({model:"gemini-1.5-flash",contents:[{role:"user",parts:[{text:n}]}]})).text,s=await $t.parse(i,{async:!0,gfm:!0});return So(s,{allowedTags:So.defaults.allowedTags.concat(["h2","strong","p"])})}catch(r){return console.error("Gemini log summarization failed:",r),"<p><strong>Li:</strong> Khng th to tm tt.</p>"}},MQ=t=>{try{const e=new URL(t.trim());if(!/\.google\./.test(e.hostname)||!e.hostname.includes("drive"))return null;const n=e.pathname.split("/").findIndex(s=>s==="d");if(n!==-1){const o=e.pathname.split("/")[n+1];if(o)return o}const r=e.searchParams.get("id");if(r)return r;const i=e.searchParams.get("thumbnail");return i||null}catch{return null}},Up=t=>{if(!t||typeof t!="string")return;const e=MQ(t);return e?`https://drive.google.com/uc?export=view&id=${e}`:t.trim()},MR=({isOpen:t,onClose:e,imageUrl:n})=>t?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 transition-opacity",onClick:e,children:w.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-2xl max-w-4xl max-h-[90vh] w-auto relative",onClick:r=>r.stopPropagation(),children:[w.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-600 bg-white/70 hover:bg-white rounded-full p-1 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-colors","aria-label":"ng",children:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),w.jsx("img",{src:n,alt:"Hnh nh xem trc",className:"max-w-full max-h-[85vh] object-contain rounded-lg",referrerPolicy:"no-referrer"})]})}):null,PQ=4,TC=()=>Array.from({length:PQ},(t,e)=>({id:`opt-${e+1}`,text:""})),uo=t=>t==null?"":typeof t=="string"?t.trim():typeof t=="number"||typeof t=="boolean"?String(t):typeof t=="object"&&t!==null&&"text"in t?uo(t.text):String(t),EC=(t,e)=>{if(!t)return{examId:e,stem:"",options:TC(),answer_key:"",topic:"",difficulty:My[0]||"",imageUrl:""};const n=Array.isArray(t.options)?t.options:[];let r=[],i=t.answer_key||"";const s=[];if(n.length>0&&typeof n[0]=="object"&&n[0]!==null&&"text"in n[0]?r=n.map((o,l)=>({id:o.id||`opt-${l+1}`,text:uo(o.text)})):n.length>0&&s.push(...n.map(o=>uo(o)).filter(o=>o!=="")),!s.length){const o=[t.optionA??t.option1,t.optionB??t.option2,t.optionC??t.option3,t.optionD??t.option4];s.push(...o.map(l=>uo(l)).filter(l=>l!==""))}if(!r.length&&s.length&&(r=s.map((o,l)=>({id:`opt-${l+1}`,text:o}))),r.length||(r=TC()),i&&!r.some(l=>l.id===i)){const l=r.find(f=>f.text.trim()===i.trim());l?i=l.id:i=""}if(!i&&typeof t.correctAnswer=="string"){const o=t.correctAnswer.trim(),l=r.find(f=>f.text.trim()===o);l&&(i=l.id)}return{examId:t.examId||e,stem:uo(t.stem||t.questionText),options:r,answer_key:i,topic:t.topic?uo(t.topic):"",difficulty:t.difficulty?uo(t.difficulty):My[0]||"",imageUrl:t.imageUrl?uo(t.imageUrl):""}},My=["Bc 1-2","Bc 2-3","Bc 3-4","Bc 4-5","Bc 5-6","easy","medium","hard"],LQ=({isOpen:t,onClose:e,onSave:n,initialQuestion:r})=>{var ae;const[i,s]=fe.useState(()=>EC(r,(r==null?void 0:r.examId)||"")),[o,l]=fe.useState([]),[f,c]=fe.useState(!1),[d,g]=fe.useState(!1),[p,x]=fe.useState(""),[_,b]=fe.useState(!1),[C,I]=fe.useState(""),[D,A]=fe.useState(!1);fe.useEffect(()=>{var me;const se=(r==null?void 0:r.examId)||(((me=o[0])==null?void 0:me.id)??"");s(EC(r,se))},[r,t,o]),fe.useEffect(()=>{t&&(async()=>{const X=(await O0()).exams;l(X),!r&&X.length>0&&s(ge=>({...ge,examId:X[0].id}))})()},[r,t]);const P=se=>{const{name:me,value:X}=se.target;s(ge=>({...ge,[me]:X})),x(""),me==="imageUrl"&&A(!1)},M=(se,me)=>{const X=[...i.options];X[se].text=me,s(ge=>({...ge,options:X}))},U=()=>{s(se=>({...se,options:[...se.options,{id:`opt-${Date.now()}`,text:""}]}))},N=se=>{const me=i.options.filter((X,ge)=>ge!==se);i.answer_key===i.options[se].id?s(X=>({...X,options:me,answer_key:""})):s(X=>({...X,options:me}))},k=fe.useMemo(()=>{const se=new Set;return i.difficulty&&se.add(i.difficulty),My.forEach(me=>se.add(me)),Array.from(se)},[i.difficulty]),R=async()=>{if(!i.topic||i.topic.trim()===""){x("Vui lng nhp ch  trc khi to bng AI.");return}g(!0),x("");try{const se=i.difficulty==="easy"||i.difficulty==="medium"||i.difficulty==="hard"?i.difficulty:"medium";se==="medium"&&i.difficulty!=="medium"&&console.warn(`AI generator ch h tr cc mc "easy", "medium" hoc "hard". ang s dng mc nh "medium" cho  kh "${i.difficulty}".`);const me=await NQ(i.topic,se);if(me){const X=me.options.map((ge,G)=>({id:`opt-gen-${G}`,text:ge}));s(ge=>{var G;return{...ge,stem:me.stem,options:X,answer_key:((G=X[me.answerIndex])==null?void 0:G.id)||""}})}else x("AI khng th to cu hi hp l. Vui lng th li.")}catch(se){console.error("Li khi to cu hi bng AI:",se),x(" xy ra li khi giao tip vi AI. Vui lng kim tra console  bit thm chi tit.")}finally{g(!1)}},V=se=>{I(se),b(!0)},L=()=>{if(!i.imageUrl||!i.imageUrl.trim()){x("Vui lng nhp URL hnh nh trc khi xem trc.");return}const se=Up(i.imageUrl.trim());if(!se){x("Khng th chuyn i URL hnh nh. Vui lng kim tra li lin kt Google Drive.");return}x(""),A(!1),V(se)},F=async se=>{var ge;se.preventDefault();const me=i.options.map((G,z)=>({id:G.id||`opt-${z+1}`,text:G.text.trim()})).filter(G=>G.text!=="");if(me.length<2){x("Vui lng nhp ti thiu hai la chn khc nhau.");return}const X=me.find(G=>G.id===i.answer_key);if(!X){x("Vui lng chn mt cu tr li ng t cc la chn  nhp.");return}c(!0),x("");try{const G={stem:i.stem.trim(),questionText:i.stem.trim(),options:me.map(z=>z.text),correctAnswer:X.text,answer_key:X.id,topic:i.topic.trim(),difficulty:i.difficulty.trim(),imageUrl:((ge=i.imageUrl)==null?void 0:ge.trim())||"",points:(r==null?void 0:r.points)||1};r?await yF({...r,...G}):await xF(i.examId,G),n()}catch(G){console.error("Failed to save question",G),x(" xy ra li khi lu. Vui lng th li.")}finally{c(!1)}};if(!t)return null;const q=Up(i.imageUrl),ce="block w-full rounded-lg border-0 py-2 px-3 bg-white text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",oe="block text-sm font-medium leading-6 text-gray-900";return w.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity",children:[w.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 md:p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Sa cu hi":"Thm cu hi mi"}),w.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-3xl leading-none transition-colors",children:""})]}),w.jsxs("form",{onSubmit:F,className:"space-y-6",children:[p&&w.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-700 px-4 py-3 rounded-lg text-sm",children:p}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"topic",className:oe,children:"Ch "}),w.jsx("div",{className:"mt-2",children:w.jsx("input",{id:"topic",name:"topic",type:"text",value:i.topic,onChange:P,className:ce,required:!0,placeholder:"v d: React Hooks"})})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"difficulty",className:oe,children:" kh"}),w.jsxs("div",{className:"mt-2",children:[w.jsx("input",{id:"difficulty",name:"difficulty",type:"text",value:i.difficulty,onChange:P,className:ce,list:"difficulty-suggestions",placeholder:"V d: Bc 1-2",required:!0}),w.jsx("datalist",{id:"difficulty-suggestions",children:k.map(se=>w.jsx("option",{value:se},se))})]})]})]}),w.jsx("div",{children:w.jsx("button",{type:"button",onClick:R,disabled:d||!i.topic.trim(),className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2.5 px-4 rounded-lg flex items-center justify-center disabled:bg-indigo-400 transition-colors shadow-sm",children:d?w.jsx(Kt,{}):" To bng AI"})}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"stem",className:oe,children:"Ni dung cu hi (cho php HTML)"}),w.jsx("div",{className:"mt-2",children:w.jsx("textarea",{id:"stem",name:"stem",value:i.stem,onChange:P,rows:4,className:ce,required:!0})})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"imageUrl",className:oe,children:"URL hnh nh (ty chn)"}),w.jsxs("div",{className:"mt-2 flex gap-3",children:[w.jsx("input",{id:"imageUrl",name:"imageUrl",type:"text",value:i.imageUrl,onChange:P,className:`${ce} flex-1`,placeholder:"Dn lin kt hnh nh t Google Drive..."}),w.jsx("button",{type:"button",onClick:L,className:"px-4 py-2 rounded-lg border border-indigo-200 text-indigo-600 hover:text-white hover:bg-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm font-semibold",disabled:!((ae=i.imageUrl)!=null&&ae.trim()),children:"Xem trc"})]}),q&&!D&&w.jsx("button",{type:"button",onClick:()=>V(q),className:"mt-3 p-2 border rounded-lg bg-gray-50 inline-block hover:border-indigo-300 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:w.jsx("img",{src:q,alt:"Xem trc",className:"max-h-40 w-auto rounded",loading:"lazy",referrerPolicy:"no-referrer",onLoad:()=>A(!1),onError:()=>A(!0)})}),D&&w.jsx("p",{className:"mt-2 text-sm text-rose-600",children:"Khng th ti hnh nh xem trc. Hy kim tra quyn chia s hoc URL."})]}),w.jsxs("div",{children:[w.jsx("label",{className:oe,children:"Cc la chn & p n ng"}),w.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Chn nt radio cho cu tr li ng."}),w.jsx("div",{className:"space-y-3 mt-3",children:i.options.map((se,me)=>w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("input",{type:"radio",name:"answer_key",value:se.id,checked:i.answer_key===se.id,onChange:P,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"}),w.jsx("input",{type:"text",value:se.text,onChange:X=>M(me,X.target.value),className:`flex-grow ${ce}`,placeholder:`La chn ${me+1}`}),w.jsx("button",{type:"button",onClick:()=>N(me),disabled:i.options.length<=2,className:"text-rose-500 hover:text-rose-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold text-xl","aria-label":"Xa la chn",children:""})]},se.id))}),w.jsx("button",{type:"button",onClick:U,className:"text-sm font-semibold text-indigo-600 hover:text-indigo-800 mt-3",children:"+ Thm la chn"})]}),w.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[w.jsx("button",{type:"button",onClick:e,className:"bg-white text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 font-bold py-2 px-4 rounded-lg transition-colors text-sm",children:"Hy"}),w.jsx("button",{type:"submit",disabled:f,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center disabled:bg-indigo-400 transition-colors shadow-sm text-sm",children:f?w.jsx(Kt,{}):"Lu cu hi"})]})]})]}),_&&C&&w.jsx(MR,{isOpen:_,onClose:()=>b(!1),imageUrl:C})]})},bC=400,OQ=({onImportComplete:t,onImportError:e,onProgress:n})=>{const[r,i]=fe.useState(null),[s,o]=fe.useState(!1),l=c=>{c.target.files&&c.target.files.length>0?i(c.target.files[0]):i(null)},f=async()=>{if(!r){e("Vui lng chn mt tp Excel (.xlsx) hoc CSV (.csv)  nhp.");return}o(!0),n("Bt u qu trnh nhp... Vui lng khng ng tab ny.");try{const c=Ds(),d=await r.arrayBuffer(),g=kp(d),p=g.SheetNames[0],x=g.Sheets[p],_=Uk.sheet_to_json(x);if(_.length===0)throw new Error("Tp khng c d liu hoc khng ng nh dng. Hy chc chn dng u tin l dng tiu .");let b=0;for(let C=0;C<_.length;C+=bC){const I=_.slice(C,C+bC),D=XI(c);n(`ang x l: ${C+I.length} / ${_.length} cu hi...`);for(const A of I){const P=A["ID Cu hi"]||A.ID,M=A["Cu hi"]||A["Cu hi (Ni dung chnh)"],U=A["p n ng (chp li ni dung)"]||A["Correct Text"],N=A["Ch /Lp/Ngnh"]||A.Topic;if(!P||!M||!U){console.warn("B qua dng do thiu cc trng bt buc (ID, Cu hi, p n ng):",A);continue}const k=[A["p n A"],A.A,A["p n B"],A.B,A["p n C"],A.C,A["p n D"],A.D].filter(F=>F!=null&&String(F).trim()!=="").map(String),R=[...new Set(k)],V={id:String(P).trim(),questionText:String(M).trim(),options:R,correctAnswer:String(U).trim(),points:parseInt(A.Points||A.im,10)||1,topic:String(N).trim(),difficulty:String(A["Bc/ kh"]||A.Bc||A.Difficulty||"Trung bnh").trim(),imageUrl:String(A["Link nh minh ha (nu c)"]||A["Image Link"]||"").trim()},L=qo(c,"questionBank",V.id);D.set(L,V)}await D.commit(),b+=I.length}t(b)}catch(c){console.error("Li khi nhp tp:",c),e(` xy ra li: ${c.message}`)}finally{o(!1);const c=document.getElementById("csv-file-input");c&&(c.value=""),i(null)}};return w.jsxs("div",{className:"p-4 bg-gray-100 rounded-lg shadow-inner mt-6",children:[w.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:"Nhp t tp Excel / CSV"}),w.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["1. Chun b tp Excel (",w.jsx("strong",{children:".xlsx"}),") hoc CSV (",w.jsx("strong",{children:".csv"}),"). Dng u tin phi l dng tiu .",w.jsx("br",{}),"2. Nhp vo nt bn di  chn v ti ln tp ca bn."]}),w.jsx("input",{id:"csv-file-input",type:"file",accept:".xlsx, .xls, .csv",onChange:l,disabled:s,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-violet-50 file:text-violet-700 hover:file:bg-violet-100"}),w.jsx("button",{onClick:f,disabled:s||!r,className:"mt-4 px-6 py-2 bg-blue-600 text-white font-semibold rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:s?"ang x l...":"Bt u Nhp"})]})},Px=10,FQ=()=>{const[t,e]=fe.useState([]),[n,r]=fe.useState(!0),[i,s]=fe.useState(""),[o,l]=fe.useState(!1),[f,c]=fe.useState(null),[d,g]=fe.useState(""),[p,x]=fe.useState(1),[_,b]=fe.useState(!1),[C,I]=fe.useState({message:"",type:""}),[D,A]=fe.useState(!1),[P,M]=fe.useState(""),U=fe.useCallback(async()=>{r(!0),s("");try{const G=Ds(),z=wa(G,"questionBank"),ee=(await qu(z)).docs.map(re=>({...re.data(),id:re.id}));e(ee)}catch(G){console.error("Failed to fetch questions from Firestore",G),s("Khng th ti ngn hng cu hi t c s d liu. Vui lng th li.")}finally{r(!1)}},[]);fe.useEffect(()=>{U()},[U]),fe.useEffect(()=>{x(1)},[d]);const N=fe.useMemo(()=>{const G=t.map(z=>z.topic).filter(Boolean);return[...new Set(G)]},[t]),k=fe.useMemo(()=>d?t.filter(G=>G.topic===d):t,[t,d]),R=Math.ceil(k.length/Px),V=fe.useMemo(()=>{const G=(p-1)*Px;return k.slice(G,G+Px)},[k,p]),L=()=>{c(null),l(!0)},F=G=>{c(G),l(!0)},q=async G=>{if(window.confirm("Bn c chc chn mun xa cu hi ny khi ngn hng cu hi khng?"))try{const z=Ds();await OO(qo(z,"questionBank",G)),await U()}catch(z){console.error("Failed to delete question:",z),s("Khng th xa cu hi. Vui lng th li.")}},ce=()=>{l(!1),c(null)},oe=()=>{ce(),U()},ae=G=>{I({message:G,type:"progress"})},se=G=>{I({message:`Nhp thnh cng!  x l ${G} cu hi. ang lm mi danh sch...`,type:"success"}),U(),setTimeout(()=>I({message:"",type:""}),5e3)},me=G=>{I({message:`Li khi nhp: ${G}`,type:"error"})},X=G=>{M(G),A(!0)},ge=()=>{switch(C.type){case"success":return"text-emerald-700 bg-emerald-50 border-emerald-200";case"error":return"text-rose-700 bg-rose-50 border-rose-200";case"progress":return"text-sky-700 bg-sky-50 border-sky-200";default:return"hidden"}};return w.jsxs("div",{children:[w.jsxs("div",{className:"flex flex-wrap gap-4 justify-between items-center mb-4",children:[w.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Ngn hng cu hi"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{onClick:()=>b(!_),className:"bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-4 rounded-lg flex items-center transition-colors",children:[w.jsx(Vk,{}),w.jsx("span",{className:"ml-2",children:_?"ng Nhp liu":"Nhp t CSV"})]}),w.jsxs("button",{onClick:L,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center transition-colors",children:[w.jsx(F0,{}),w.jsx("span",{className:"ml-2",children:"Thm cu hi"})]})]})]}),C.message&&w.jsx("div",{className:`p-3 my-4 border rounded-lg text-sm ${ge()}`,children:C.message}),_&&w.jsx(OQ,{onProgress:ae,onImportComplete:se,onImportError:me}),w.jsxs("div",{className:"mb-4 mt-6",children:[w.jsx("label",{htmlFor:"topic-filter",className:"block text-sm font-medium text-gray-700",children:"Lc theo ch "}),w.jsxs("select",{id:"topic-filter",value:d,onChange:G=>g(G.target.value),className:"mt-1 block w-full md:w-1/3 p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[w.jsx("option",{value:"",children:"Tt c ch "}),N.map(G=>w.jsx("option",{value:G,children:G},G))]})]}),n?w.jsxs("div",{className:"flex justify-center items-center h-64",children:[w.jsx(Kt,{}),w.jsx("p",{className:"ml-4 text-gray-600",children:"ang ti cu hi..."})]}):i?w.jsx("div",{className:"text-center bg-rose-50 border border-rose-200 text-rose-800 p-4 rounded-lg",children:i}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"space-y-4",children:V.map(G=>{const z=G.imageUrl?Up(G.imageUrl):"";return w.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-xs font-semibold text-indigo-600 bg-indigo-100 inline-block px-2 py-1 rounded-full mb-2",children:G.topic}),w.jsx("p",{className:"text-gray-900 font-medium",children:G.questionText}),z&&w.jsx("button",{type:"button",onClick:()=>X(z),className:"mt-3 bg-gray-100 rounded-lg p-2 border border-gray-200 inline-block hover:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition",children:w.jsx("img",{src:z,alt:"Hnh minh ha",className:"max-h-40 w-auto object-contain rounded-md"})})]}),w.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-2 ml-4",children:[w.jsx("button",{onClick:()=>F(G),className:"p-2 text-gray-500 hover:text-indigo-600 hover:bg-gray-200 rounded-full transition-colors",children:w.jsx(xp,{})}),w.jsx("button",{onClick:()=>q(G.id),className:"p-2 text-gray-500 hover:text-rose-600 hover:bg-gray-200 rounded-full transition-colors",children:w.jsx(p0,{})})]})]}),w.jsx("ul",{className:"mt-3 space-y-2",children:G.options.map((K,ee)=>w.jsx("li",{className:`text-sm pl-4 py-1 rounded ${K===G.correctAnswer?"bg-emerald-100 text-emerald-800 border-l-4 border-emerald-500 font-semibold":"text-gray-700"}`,children:K},ee))})]},G.id)})}),w.jsx(fc,{currentPage:p,totalPages:R,onPageChange:x})]}),D&&w.jsx(MR,{isOpen:D,onClose:()=>A(!1),imageUrl:P}),o&&w.jsx(LQ,{isOpen:o,onClose:ce,onSave:oe,initialQuestion:f})]})},UQ=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),VQ=async()=>{const t=Ds(),e=wa(t,"questionBank"),n=await qu(e);return n.empty?(console.warn("Warning: Question bank is empty or not accessible."),[]):n.docs.map(r=>({...r.data(),id:r.id}))};async function BQ(t){var r;const e=e6(),n=t6(e,"generateExamVariantsHttps");try{console.log(`Calling cloud function 'generateExamVariantsHttps' with examId: ${t}`);const s=(await n({examId:t})).data;return console.log("Cloud function returned:",s),s}catch(i){return console.error("Error calling cloud function:",i),{success:!1,message:`Li t server: ${((r=i.details)==null?void 0:r.message)||i.message||" xy ra li khng xc nh."}`}}}const qQ=async()=>{const t=Ds(),e=wa(t,"exams");return(await qu(e)).docs.map(r=>{const i=r.data(),s=Array.isArray(i.snapshotVariantIds)?i.snapshotVariantIds:[];return{...i,id:r.id,snapshotVariantIds:s,variants:typeof i.variants=="number"?i.variants:s.length||0}})},HQ=async t=>{const e=Ds(),n={...t,isSynced:!1,lastSyncedAt:null,snapshotVariantIds:[]};return await KI(wa(e,"exams"),n)},zQ=async(t,e)=>{const n=Ds(),r={...e,isSynced:!1,lastSyncedAt:null,snapshotVariantIds:[]};return await hm(qo(n,"exams",t),r)},GQ=async t=>{const e=Ds(),n=XI(e),r=cm(wa(e,"examSnapshots"),GI("examId","==",t));(await qu(r)).forEach(o=>{n.delete(o.ref)});const s=qo(e,"exams",t);n.delete(s),await n.commit()},jQ=async t=>{const e=Ds(),n=cm(wa(e,"examSnapshots"),GI("examId","==",t));return(await qu(n)).docs.map(i=>({id:i.id,...i.data()})).sort((i,s)=>(i.variant||0)-(s.variant||0))},$Q=({isOpen:t,onClose:e,onSave:n,initialExam:r})=>{const[i,s]=fe.useState({title:"",description:"",duration:60,pass_threshold:.7,blueprint:[],variants:10}),[o,l]=fe.useState(!1),[f,c]=fe.useState(""),[d,g]=fe.useState(!0),[p,x]=fe.useState([]),[_,b]=fe.useState([]);fe.useEffect(()=>{t&&(async()=>{g(!0);try{const M=await VQ(),U=[...new Set(M.map(k=>k.topic||"Cha phn loi"))],N=[...new Set(M.map(k=>k.difficulty||"Cha xc nh"))];x(U),b(N)}catch{c("Khng th ti d liu ch  v  kh t ngn hng cu hi.")}finally{g(!1)}})()},[t]),fe.useEffect(()=>{if(t&&!d)if(c(""),r){let P=[];if(typeof r.blueprint=="string"&&r.blueprint.trim().startsWith("["))try{P=JSON.parse(r.blueprint)}catch{P=[]}else Array.isArray(r.blueprint)&&(P=r.blueprint);s({...r,blueprint:P})}else s({title:"",description:"",duration:60,pass_threshold:.7,variants:10,blueprint:p.length>0&&_.length>0?[{topic:p[0],difficulty:_[0],count:1}]:[]})},[r,t,d,p,_]);const C=(P,M,U)=>{const N=[...i.blueprint],k={...N[P]};k[M]=M==="count"?parseInt(U,10):U,N[P]=k,s(R=>({...R,blueprint:N}))},I=()=>{if(p.length===0||_.length===0)return;const P={topic:p[0],difficulty:_[0],count:1};s(M=>({...M,blueprint:[...M.blueprint||[],P]}))},D=P=>{s(M=>({...M,blueprint:i.blueprint.filter((U,N)=>N!==P)}))},A=async P=>{P.preventDefault(),l(!0),c("");const M={...i,blueprint:i.blueprint||[]};try{r&&r.id?await zQ(r.id,M):await HQ(M),n()}catch(U){console.error("Failed to save exam",U),c(`Lu bi thi tht bi: ${U.message}`)}finally{l(!1)}};return t?w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 md:p-8 max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Sa bi thi":"To bi thi mi"}),w.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-3xl leading-none",children:""})]}),d?w.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[w.jsx(Kt,{}),w.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti d liu cu hi..."})]}):w.jsxs("form",{onSubmit:A,className:"space-y-6",children:[f&&w.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-700 px-4 py-3 rounded-lg text-sm",children:f}),w.jsx(WQ,{blueprint:i.blueprint,allTopics:p,allDifficulties:_,onBlueprintChange:C,onAddRule:I,onRemoveRule:D}),w.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[w.jsx("button",{type:"button",onClick:e,className:"bg-white text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 font-bold py-2 px-4 rounded-lg",children:"Hy"}),w.jsx("button",{type:"submit",disabled:o,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center disabled:bg-indigo-400",children:o?w.jsx(Kt,{}):"Lu bi thi"})]})]})]})}):null},WQ=({blueprint:t,allTopics:e,allDifficulties:n,onBlueprintChange:r,onAddRule:i,onRemoveRule:s})=>{const o="block w-full rounded-lg border-0 py-2 px-3 bg-white text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm";return w.jsxs("div",{children:[w.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Ma trn  thi"}),w.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[(t||[]).map((l,f)=>w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-8 gap-3 items-center",children:[w.jsxs("div",{className:"md:col-span-3",children:[w.jsx("label",{className:"text-xs text-gray-600",children:"Ch "}),w.jsx("select",{value:l.topic,onChange:c=>r(f,"topic",c.target.value),className:o,children:e.map(c=>w.jsx("option",{value:c,children:c},c))})]}),w.jsxs("div",{className:"md:col-span-2",children:[w.jsx("label",{className:"text-xs text-gray-600",children:" kh"}),w.jsx("select",{value:l.difficulty,onChange:c=>r(f,"difficulty",c.target.value),className:o,children:n.map(c=>w.jsx("option",{value:c,children:c},c))})]}),w.jsxs("div",{className:"md:col-span-2",children:[w.jsx("label",{className:"text-xs text-gray-600",children:"S lng"}),w.jsx("input",{type:"number",value:l.count,onChange:c=>r(f,"count",c.target.value),className:o,min:"1"})]}),w.jsx("div",{className:"md:col-span-1 self-end",children:w.jsx("button",{type:"button",onClick:()=>s(f),className:"p-2 text-gray-500 hover:text-rose-600 hover:bg-gray-200 rounded-full",children:w.jsx(p0,{})})})]},f)),w.jsxs("button",{type:"button",onClick:i,className:"mt-3 bg-white hover:bg-gray-100 text-indigo-600 font-semibold py-2 px-3 border border-indigo-200 rounded-lg flex items-center text-sm",children:[w.jsx(F0,{}),w.jsx("span",{className:"ml-2",children:"Thm quy tc"})]})]}),w.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Tng s cu hi: ",w.jsx("span",{className:"font-bold",children:(t||[]).reduce((l,f)=>l+(f.count||0),0)})]})]})},KQ=({isOpen:t,onClose:e,exam:n})=>{var x;const[r,i]=fe.useState([]),[s,o]=fe.useState(!1),[l,f]=fe.useState(""),c=Array.isArray(n==null?void 0:n.snapshotVariantIds)?n.snapshotVariantIds:[],d=typeof(n==null?void 0:n.variants)=="number"&&n.variants>0?n.variants:Math.max(c.length,1),g=!!(n!=null&&n.isSynced&&c.length>0);if(fe.useEffect(()=>{if(!t||!n){i([]),f("");return}if(!g){i([]),f("");return}o(!0),f(""),jQ(n.id).then(_=>{i(_),_.length===0&&f("Khng tm thy document bin th no trong Firestore.")}).catch(_=>{console.error("Failed to load exam snapshots",_),f("Khng th ti danh sch bin th. Vui lng th li sau.")}).finally(()=>o(!1))},[n,t,g]),!t)return null;const p=async _=>{try{await navigator.clipboard.writeText(_),f("")}catch(b){console.error("Failed to copy variant id",b),f("Khng th sao chp ID. Trnh duyt ca bn c th khng h tr Clipboard API.")}};return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 md:p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Cc bin th  thi"}),w.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-3xl leading-none transition-colors",children:""})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("p",{className:"text-gray-700",children:["Cc bin th cho bi thi ",w.jsx("strong",{className:"text-indigo-600",children:n.title})," c lu trong collection ",w.jsx("code",{className:"font-mono bg-gray-100 px-1 py-0.5 rounded",children:"examSnapshots"}),". Danh sch di y hin th ID ti liu, s cu hi v tng im  bn d kim tra trong Firestore."]}),!g&&w.jsx("p",{className:"text-amber-700 bg-amber-50 p-4 rounded-lg border border-amber-200",children:"Bi thi ny cha c ng b, v vy cha c bin th no c to."}),g&&w.jsxs("div",{className:"space-y-3",children:[w.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 bg-gray-50 border border-gray-200 rounded-lg px-4 py-2",children:[w.jsxs("span",{children:[" to ",w.jsx("strong",{children:c.length})," / ",d," bin th."]}),((x=n.lastSyncedAt)==null?void 0:x.seconds)&&w.jsxs("span",{children:["ng b ln cui: ",new Date(n.lastSyncedAt.seconds*1e3).toLocaleString("vi-VN")]})]}),s?w.jsx("div",{className:"flex items-center justify-center py-6",children:w.jsx(Kt,{})}):w.jsx("ul",{className:"space-y-2",children:r.map((_,b)=>{var C;return w.jsx("li",{className:"border border-gray-200 rounded-lg p-4 bg-white shadow-sm",children:w.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[w.jsxs("div",{children:[w.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:["Bin th ",_.variant??b+1," "]}),w.jsxs("p",{className:"text-xs text-gray-500 break-all",children:["ID: ",w.jsx("span",{className:"font-mono",children:_.id})]}),w.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[((C=_.questions)==null?void 0:C.length)??0," cu hi  ",_.totalPoints??0," im  thi lng ",_.duration??n.duration," pht"]})]}),w.jsx("button",{type:"button",onClick:()=>p(_.id),className:"self-start bg-indigo-50 text-indigo-600 hover:bg-indigo-100 text-xs font-semibold px-3 py-1 rounded-md transition-colors",children:"Sao chp ID"})]})},_.id)})})]}),l&&w.jsx("p",{className:"text-rose-700 bg-rose-50 p-3 rounded-lg border border-rose-200 text-sm",children:l})]}),w.jsx("div",{className:"flex justify-end mt-6 pt-4 border-t border-gray-200",children:w.jsx("button",{type:"button",onClick:e,className:"bg-white text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 font-bold py-2 px-4 rounded-lg transition-colors text-sm",children:"ng"})})]})})},YQ=()=>{const[t,e]=fe.useState([]),[n,r]=fe.useState(!0),[i,s]=fe.useState(""),[o,l]=fe.useState(!1),[f,c]=fe.useState(null),[d,g]=fe.useState(!1),[p,x]=fe.useState(null),[_,b]=fe.useState(null),[C,I]=fe.useState({}),D=fe.useCallback(async(L=!0)=>{L&&r(!0),s("");try{const F=await qQ();e(F)}catch(F){console.error("Khng th ti danh sch bi thi:",F),s("Khng th ti danh sch bi thi. Vui lng kim tra kt ni v th li.")}finally{L&&r(!1)}},[]);fe.useEffect(()=>{D().catch(L=>{console.error("Load exams failed:",L)})},[D]);const A=()=>{c(null),l(!0)},P=L=>{c(L),l(!0)},M=async L=>{if(window.confirm("Bn c chc chn mun xa bi thi ny?")){s("");try{await GQ(L),e(F=>F.filter(q=>q.id!==L))}catch(F){console.error("Khng th xa bi thi:",F);const q=F instanceof Error?`Khng th xa bi thi: ${F.message}`:"Khng th xa bi thi. Vui lng th li.";s(q)}}},U=()=>{l(!1),g(!1),c(null),x(null)},N=async()=>{U(),await D()},k=()=>{U()},R=async L=>{b(L),I(F=>{const{[L]:q,...ce}=F;return ce});try{const F=await BQ(L);F.success?(I(q=>({...q,[L]:{status:"success",message:F.message||" ng b thnh cng cc bin th."}})),await D(!1)):(I(q=>({...q,[L]:{status:"error",message:F.message||"Khng th ng b bi thi."}})),e(q=>q.map(ce=>ce.id===L?{...ce,isSynced:!1,snapshotVariantIds:[]}:ce)))}catch(F){console.error("Li khi ng b bi thi:",F),I(q=>({...q,[L]:{status:"error",message:F instanceof Error?F.message:" xy ra li khng mong mun."}})),e(q=>q.map(ce=>ce.id===L?{...ce,isSynced:!1,snapshotVariantIds:[]}:ce))}finally{b(null)}},V=L=>{x(L),g(!0)};return w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center justify-between mb-6",children:[w.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Qun l Bi thi"}),w.jsxs("button",{onClick:A,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center transition-colors",children:[w.jsx(F0,{className:"w-5 h-5"}),w.jsx("span",{className:"ml-2",children:"To bi thi mi"})]})]}),w.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:n?w.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[w.jsx(Kt,{}),w.jsx("p",{className:"mt-4 text-gray-600",children:"ang ti danh sch bi thi..."})]}):w.jsx("div",{className:"overflow-x-auto",children:w.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Trng thi"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Tiu  Bi thi"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wide",children:"S bin th"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Hnh ng"})]})}),w.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(L=>{const q=(Array.isArray(L.snapshotVariantIds)?L.snapshotVariantIds:[]).length,ce=typeof L.variants=="number"&&L.variants>0?L.variants:Math.max(q,1),oe=!!(L.isSynced&&q>0);return w.jsxs("tr",{children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:oe?w.jsxs("span",{className:"flex items-center text-sm font-medium text-emerald-600",children:[w.jsx(r6,{className:"w-5 h-5 mr-1"})," ng b"]}):w.jsxs("span",{className:"flex items-center text-sm font-medium text-amber-600",children:[w.jsx(Rp,{className:"w-5 h-5 mr-1"}),"Cha ng b"]})}),w.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[w.jsx("div",{className:"text-sm font-semibold text-gray-900",children:L.title}),w.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",L.id]})]}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:oe?`${q} / ${ce}`:`0 / ${ce}`}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("button",{onClick:()=>R(L.id),disabled:_===L.id,className:"p-2 text-gray-500 hover:text-sky-600 hover:bg-gray-100 rounded-full disabled:opacity-50 disabled:cursor-wait transition-colors",title:"ng b  to b  thi",children:_===L.id?w.jsx(Kt,{}):w.jsx(Rv,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>P(L),className:"p-2 text-gray-500 hover:text-indigo-600 hover:bg-gray-100 rounded-full transition-colors",title:"Sa",children:w.jsx(xp,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>M(L.id),className:"p-2 text-gray-500 hover:text-rose-600 hover:bg-gray-100 rounded-full transition-colors",title:"Xa",children:w.jsx(p0,{className:"w-5 h-5"})}),oe&&w.jsx("button",{onClick:()=>V(L),className:"p-2 text-gray-500 hover:text-emerald-600 hover:bg-gray-100 rounded-full transition-colors",title:"Xem cc bin th",children:w.jsx(UQ,{className:"w-5 h-5"})})]})})]},L.id)})})]})})}),i&&w.jsx("div",{className:"mt-4 bg-rose-50 border border-rose-200 text-rose-700 px-4 py-3 rounded-lg text-sm",children:i}),Object.keys(C).length>0&&w.jsx("div",{className:"mt-4 space-y-2",children:Object.entries(C).map(([L,F])=>{var q;return w.jsxs("div",{className:`p-3 rounded-lg text-sm ${F.status==="success"?"bg-blue-50 text-blue-700":"bg-rose-50 text-rose-700"}`,children:[w.jsxs("strong",{children:["Bi thi ",(q=t.find(ce=>ce.id===L))==null?void 0:q.title,":"]})," ",F.message]},L)})}),o&&w.jsx($Q,{isOpen:o,onClose:k,onSave:N,initialExam:f}),d&&p&&w.jsx(KQ,{isOpen:d,onClose:k,exam:p})]})},XQ=({isOpen:t,onClose:e,onSave:n,exams:r,classes:i})=>{var C,I;const[s,o]=fe.useState({examId:((C=r[0])==null?void 0:C.id)||"",classId:((I=i[0])==null?void 0:I.id)||"",start_at:"",end_at:"",accessCode:""}),[l,f]=fe.useState(!1),[c,d]=fe.useState("");fe.useEffect(()=>{var D,A;t&&(o({examId:((D=r[0])==null?void 0:D.id)||"",classId:((A=i[0])==null?void 0:A.id)||"",start_at:"",end_at:"",accessCode:g()}),d(""))},[t,r,i]);const g=(D=6)=>{const A="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let P="";for(let M=0;M<D;M++)P+=A.charAt(Math.floor(Math.random()*A.length));return P},p=D=>{const{name:A,value:P}=D.target;o(M=>({...M,[A]:P}))},x=async D=>{if(D.preventDefault(),!s.examId||!s.classId||!s.start_at||!s.end_at){d("Vui lng in y  tt c cc trng.");return}const A=new Date(s.start_at).getTime(),P=new Date(s.end_at).getTime();if(A>=P){d("Thi gian kt thc phi sau thi gian bt u.");return}f(!0),d("");try{const M={examId:s.examId,classId:s.classId,start_at:A,end_at:P,accessCode:s.accessCode};await gF(M),n()}catch(M){console.error("Failed to save window",M),d(`Lu ca thi tht bi: ${M.message}`)}finally{f(!1)}};if(!t)return null;const _="block w-full rounded-lg border-0 py-2 px-3 bg-white text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6",b="block text-sm font-medium leading-6 text-gray-900";return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 transition-opacity",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 md:p-8 max-w-2xl w-full",children:[w.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Ln lch ca thi mi"}),w.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-3xl leading-none transition-colors",children:""})]}),w.jsxs("form",{onSubmit:x,className:"space-y-4",children:[c&&w.jsx("div",{className:"bg-rose-50 border border-rose-200 text-rose-700 px-4 py-3 rounded-lg text-sm",children:c}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"examId",className:b,children:"Bi thi"}),w.jsx("div",{className:"mt-1",children:w.jsx("select",{id:"examId",name:"examId",value:s.examId,onChange:p,className:_,required:!0,children:r.map(D=>w.jsx("option",{value:D.id,children:D.title},D.id))})})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"classId",className:b,children:"Lp hc"}),w.jsx("div",{className:"mt-1",children:w.jsx("select",{id:"classId",name:"classId",value:s.classId,onChange:p,className:_,required:!0,children:i.map(D=>w.jsx("option",{value:D.id,children:D.name},D.id))})})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{htmlFor:"start_at",className:b,children:"Thi gian bt u"}),w.jsx("div",{className:"mt-1",children:w.jsx("input",{id:"start_at",name:"start_at",type:"datetime-local",value:s.start_at,onChange:p,className:_,required:!0})})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"end_at",className:b,children:"Thi gian kt thc"}),w.jsx("div",{className:"mt-1",children:w.jsx("input",{id:"end_at",name:"end_at",type:"datetime-local",value:s.end_at,onChange:p,className:_,required:!0})})]})]}),w.jsxs("div",{children:[w.jsx("label",{htmlFor:"accessCode",className:b,children:"M truy cp"}),w.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[w.jsx("input",{id:"accessCode",name:"accessCode",type:"text",value:s.accessCode,onChange:p,className:_,required:!0}),w.jsx("button",{type:"button",onClick:()=>o(D=>({...D,accessCode:g()})),className:"p-2 bg-white hover:bg-gray-100 rounded-lg border border-gray-300",title:"To m mi",children:w.jsx(Rv,{className:"h-5 w-5 text-gray-600"})})]})]}),w.jsxs("div",{className:"flex justify-end space-x-4 pt-4 border-t border-gray-200",children:[w.jsx("button",{type:"button",onClick:e,className:"bg-white text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 font-bold py-2 px-4 rounded-lg transition-colors text-sm",children:"Hy"}),w.jsx("button",{type:"submit",disabled:l,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center disabled:bg-indigo-400 transition-colors shadow-sm text-sm",children:l?w.jsx(Kt,{}):"Lu ca thi"})]})]})]})})},Lx=10,JQ=()=>{const[t,e]=fe.useState([]),[n,r]=fe.useState([]),[i,s]=fe.useState([]),[o,l]=fe.useState(!0),[f,c]=fe.useState(""),[d,g]=fe.useState(1),[p,x]=fe.useState(!1),_=fe.useCallback(async()=>{l(!0),c("");try{const U=await O0();e(U.windows),r(U.exams),s(U.classes)}catch(U){console.error("Failed to fetch scheduling data:",U),c("Khng th ti d liu lch thi. Vui lng kim tra kt ni mng v th li.")}finally{l(!1)}},[]);fe.useEffect(()=>{_()},[_]);const b=()=>{x(!1)},C=()=>{b(),_()},I=Math.ceil(t.length/Lx),D=fe.useMemo(()=>{const U=(d-1)*Lx;return[...t].sort((k,R)=>R.start_at-k.start_at).slice(U,U+Lx)},[t,d]),A=new Map(n.map(U=>[U.id,U.title])),P=new Map(i.map(U=>[U.id,U.name])),M=(U,N)=>{const k=Date.now();return k<U?w.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-sky-100 text-sky-800",children:"Sp din ra"}):k>N?w.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-rose-100 text-rose-800",children:" ht hn"}):w.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-emerald-100 text-emerald-800",children:"ang hot ng"})};return w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Ln lch thi"}),w.jsxs("button",{onClick:()=>x(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg flex items-center transition-colors",children:[w.jsx(F0,{}),w.jsx("span",{className:"ml-2",children:"Ln lch ca thi mi"})]})]}),o?w.jsxs("div",{className:"flex justify-center items-center h-64",children:[w.jsx(Kt,{}),w.jsx("p",{className:"ml-4 text-gray-600",children:"ang ti lch thi..."})]}):f?w.jsx("div",{className:"text-center bg-rose-50 border border-rose-200 text-rose-800 p-4 rounded-lg",children:f}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 hidden md:block",children:w.jsxs("table",{className:"min-w-full bg-white",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bi thi"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lp"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thi gian bt u"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Thi gian kt thc"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"M truy cp"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng thi"})]})}),w.jsx("tbody",{className:"divide-y divide-gray-200",children:D.map(U=>w.jsxs("tr",{className:"hover:bg-gray-50",children:[w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:A.get(U.examId)}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:P.get(U.classId)}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(U.start_at).toLocaleString()}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(U.end_at).toLocaleString()}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:w.jsx("code",{className:"font-mono bg-gray-100 text-gray-800 px-2 py-1 rounded-md",children:U.accessCode})}),w.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:M(U.start_at,U.end_at)})]},U.id))})]})}),w.jsx("div",{className:"space-y-3 md:hidden",children:D.map(U=>w.jsxs("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-200 space-y-3",children:[w.jsxs("div",{className:"flex justify-between items-start gap-2",children:[w.jsx("p",{className:"font-bold text-indigo-600 flex-1 pr-2",children:A.get(U.examId)}),M(U.start_at,U.end_at)]}),w.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-sm pt-3 border-t",children:[w.jsx("span",{className:"text-gray-500",children:"Lp:"}),w.jsx("span",{className:"text-gray-800 font-medium",children:P.get(U.classId)}),w.jsx("span",{className:"text-gray-500",children:"M truy cp:"}),w.jsx("code",{className:"font-mono bg-gray-100 text-gray-800 px-2 py-0.5 rounded-md text-xs self-center",children:U.accessCode})]}),w.jsxs("div",{className:"text-sm text-gray-500 pt-3 border-t space-y-1",children:[w.jsxs("div",{children:[w.jsx("strong",{className:"font-medium text-gray-700",children:"Bt u:"})," ",new Date(U.start_at).toLocaleString()]}),w.jsxs("div",{children:[w.jsx("strong",{className:"font-medium text-gray-700",children:"Kt thc:"})," ",new Date(U.end_at).toLocaleString()]})]})]},U.id))}),w.jsx(fc,{currentPage:d,totalPages:I,onPageChange:g})]}),p&&w.jsx(XQ,{isOpen:p,onClose:b,onSave:C,exams:n,classes:i})]})},Ox=10,QQ=()=>{const[t,e]=fe.useState([]),[n,r]=fe.useState(""),[i,s]=fe.useState(null),[o,l]=fe.useState(!0),[f,c]=fe.useState(!1),[d,g]=fe.useState(""),[p,x]=fe.useState(1);fe.useEffect(()=>{(async()=>{l(!0),g("");try{const D=await O0();e(D.exams),D.exams.length>0&&r(D.exams[0].id)}catch(D){console.error("Failed to fetch exams for analytics",D),g("Khng th ti danh sch bi thi. Vui lng kim tra kt ni mng.")}finally{l(!1)}})()},[]),fe.useEffect(()=>{(async()=>{if(n){c(!0),s(null),g(""),x(1);try{const D=await vF(n);s(D.questionAnalytics)}catch(D){console.error("Failed to fetch analytics data",D),g("Khng th ti d liu phn tch cho bi thi ny.")}finally{c(!1)}}})()},[n]);const _=Math.ceil(((i==null?void 0:i.length)||0)/Ox),b=fe.useMemo(()=>{if(!i)return[];const I=(p-1)*Ox;return i.slice(I,I+Ox)},[i,p]),C=I=>I>.8?w.jsx("span",{className:"text-emerald-600",children:"D"}):I<.3?w.jsx("span",{className:"text-rose-600",children:"Kh"}):w.jsx("span",{className:"text-amber-600",children:"Trung bnh"});return w.jsxs("div",{children:[w.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Phn tch bi thi"}),o?w.jsxs("div",{className:"flex justify-center items-center h-64",children:[w.jsx(Kt,{}),w.jsx("p",{className:"ml-4 text-gray-600",children:"ang ti bi thi..."})]}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"mb-4",children:[w.jsx("label",{htmlFor:"exam-select",className:"block text-sm font-medium text-gray-700",children:"Chn bi thi  phn tch"}),w.jsx("select",{id:"exam-select",value:n,onChange:I=>r(I.target.value),className:"mt-1 block w-full md:w-1/2 p-2 border border-gray-300 rounded-md bg-white shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:t.map(I=>w.jsx("option",{value:I.id,children:I.title},I.id))})]}),d&&w.jsx("div",{className:"text-center bg-rose-50 border border-rose-200 text-rose-800 p-4 rounded-lg my-4",children:d}),f?w.jsxs("div",{className:"flex justify-center items-center h-64",children:[w.jsx(Kt,{}),w.jsx("p",{className:"ml-4 text-gray-600",children:"ang tnh ton phn tch..."})]}):i&&!d?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200",children:w.jsxs("table",{className:"min-w-full bg-white",children:[w.jsx("thead",{className:"bg-gray-50",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ni dung cu hi"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ch "}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"P-Value ( kh)"}),w.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Din gii"})]})}),w.jsx("tbody",{children:b.map(I=>{var D,A;return w.jsxs("tr",{className:"border-b border-gray-200 last:border-b-0 hover:bg-gray-50",children:[w.jsx("td",{className:"px-6 py-3 prose prose-sm max-w-md text-gray-800",dangerouslySetInnerHTML:{__html:I.stem}}),w.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm text-gray-600",children:I.topic}),w.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm font-semibold text-gray-800",children:((D=I.analytics)==null?void 0:D.pValue)??"N/A"}),w.jsx("td",{className:"px-6 py-3 whitespace-nowrap text-sm font-bold",children:((A=I.analytics)==null?void 0:A.pValue)!==void 0?C(I.analytics.pValue):"N/A"})]},I.id)})})]})}),w.jsx(fc,{currentPage:p,totalPages:_,onPageChange:x})]}):!d&&w.jsx("p",{className:"text-center text-gray-500 mt-8",children:"Khng c d liu phn tch cho bi thi ny."})]})]})},ZQ=t=>w.jsx(Os,{d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M15 21a6 6 0 00-9-5.197m0 0A5.975 5.975 0 0112 13a5.975 5.975 0 01-3 5.197M15 21a6 6 0 00-9-5.197",...t}),eZ=t=>w.jsx(Os,{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01",...t}),tZ=t=>w.jsx(Os,{d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10",...t}),nZ=t=>w.jsx(Os,{d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",...t}),rZ=t=>w.jsx(Os,{d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",...t}),iZ=t=>w.jsx(Os,{d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z",...t}),sZ=({onViewProctoringReport:t})=>{const[e,n]=fe.useState("analytics"),r=()=>{switch(e){case"students":return w.jsx(Dj,{});case"results":return w.jsx(GS,{onViewProctoringReport:t});case"questions":return w.jsx(FQ,{});case"exams":return w.jsx(YQ,{});case"scheduling":return w.jsx(JQ,{});case"analytics":return w.jsx(QQ,{});default:return w.jsx(GS,{onViewProctoringReport:t})}},i=({view:s,label:o,icon:l})=>{const f=e===s;return w.jsxs("button",{onClick:()=>n(s),className:`flex items-center space-x-3 px-4 py-3 rounded-lg font-semibold transition-colors w-full text-left ${f?"bg-gray-200 text-gray-900":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[l,w.jsx("span",{className:"flex-grow",children:o}),f&&w.jsx("svg",{className:"w-5 h-5 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})};return w.jsxs("div",{className:"space-y-8",children:[w.jsx("h1",{className:"text-4xl font-bold text-gray-800 tracking-tight",children:"Bng iu khin qun tr"}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 items-start",children:[w.jsx("aside",{className:"lg:col-span-1",children:w.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 space-y-2",children:[w.jsx(i,{view:"analytics",label:"Phn tch bi thi",icon:w.jsx(iZ,{className:"w-5 h-5"})}),w.jsx(i,{view:"results",label:"Kt qu thi",icon:w.jsx(eZ,{className:"w-5 h-5"})}),w.jsx(i,{view:"scheduling",label:"Ln lch thi",icon:w.jsx(rZ,{className:"w-5 h-5"})}),w.jsx(i,{view:"exams",label:"Qun l bi thi",icon:w.jsx(nZ,{className:"w-5 h-5"})}),w.jsx(i,{view:"questions",label:"Ngn hng cu hi",icon:w.jsx(tZ,{className:"w-5 h-5"})}),w.jsx(i,{view:"students",label:"Qun l hc vin",icon:w.jsx(ZQ,{className:"w-5 h-5"})})]})}),w.jsx("main",{className:"lg:col-span-3",children:w.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 min-h-[480px]",children:r()})})]})]})},aZ=6e4,oZ=[.05,.5,.95],wC=3,uZ=(t,e)=>{const[n,r]=fe.useState(t),i=fe.useRef(null),s=fe.useCallback(()=>{i.current&&clearInterval(i.current),r(t),i.current=window.setInterval(()=>{r(o=>o<=1?(i.current&&clearInterval(i.current),e(),0):o-1)},1e3)},[t,e]);return fe.useEffect(()=>()=>{i.current&&clearInterval(i.current)},[]),{timeLeft:n,startTimer:s}},lZ=t=>{const[e,n]=fe.useState(!1),r=fe.useCallback(()=>{document.documentElement.requestFullscreen().catch(i=>{console.error(`Error attempting to enable full-screen mode: ${i.message} (${i.name})`)})},[]);return fe.useEffect(()=>{const i=s=>{s.preventDefault(),t("copy_paste_blocked")};return document.addEventListener("copy",i),document.addEventListener("paste",i),document.addEventListener("cut",i),()=>{document.removeEventListener("copy",i),document.removeEventListener("paste",i),document.removeEventListener("cut",i)}},[t]),fe.useEffect(()=>{const i=()=>{const s=document.fullscreenElement!=null;n(s)};return document.addEventListener("fullscreenchange",i),()=>document.removeEventListener("fullscreenchange",i)},[]),fe.useEffect(()=>{const i=()=>t("focus_lost");return window.addEventListener("blur",i),()=>window.removeEventListener("blur",i)},[t]),fe.useEffect(()=>{const i=()=>{document.visibilityState==="hidden"&&t("visibility_hidden")};return document.addEventListener("visibilitychange",i),()=>document.removeEventListener("visibilitychange",i)},[t]),{requestFullScreen:r,isFullScreen:e}},cZ=({question:t,questionNumber:e,totalQuestions:n,selectedOption:r,onAnswer:i})=>{const s=Up(t.imageUrl);return w.jsxs("div",{children:[w.jsxs("p",{className:"text-sm font-semibold text-gray-500 mb-2",children:["Cu ",e," trn ",n]}),s&&w.jsx("div",{className:"my-4 flex justify-center",children:w.jsx("img",{src:s,alt:`Hnh minh ha cho cu hi ${e}`,className:"max-w-full h-auto max-h-80 rounded-lg shadow-md object-contain border border-gray-200"})}),w.jsx("div",{className:"text-lg text-gray-900 prose max-w-none mb-6",dangerouslySetInnerHTML:{__html:t.stem}}),w.jsx("div",{className:"space-y-4",children:t.options.map((o,l)=>w.jsxs("label",{className:`flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${r===o.id?"border-indigo-500 bg-indigo-50 ring-2 ring-indigo-200":"border-gray-300 bg-white hover:border-indigo-400"}`,children:[w.jsx("input",{type:"radio",name:`question-${t.id}`,value:o.id,checked:r===o.id,onChange:()=>i(t.id,o.id),className:"sr-only","aria-labelledby":`option-text-${o.id}`}),w.jsx("span",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center mr-4 border-2 ${r===o.id?"border-indigo-500 bg-indigo-500":"border-gray-400 bg-white"}`,children:r===o.id&&w.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})}),w.jsxs("span",{className:"font-semibold text-gray-700 mr-2",children:[String.fromCharCode(65+l),"."]}),w.jsx("span",{id:`option-text-${o.id}`,className:"text-gray-800 flex-grow",children:o.text})]},o.id))})]})},fZ=({timeLeft:t})=>{const e=Math.floor(t/60),n=t%60,r=t<300;return w.jsxs("div",{className:`p-4 rounded-lg flex items-center justify-center space-x-3 ${r?"bg-rose-100":"bg-indigo-100"}`,children:[w.jsx(n6,{className:`h-6 w-6 ${r?"text-rose-600":"text-indigo-600"}`}),w.jsxs("div",{className:"text-center",children:[w.jsx("p",{className:`text-sm font-bold uppercase tracking-wider ${r?"text-rose-700":"text-indigo-700"}`,children:"Thi gian cn li"}),w.jsxs("p",{className:`text-3xl font-mono font-bold tracking-wider ${r?"text-rose-900":"text-indigo-900"}`,children:[String(e).padStart(2,"0"),":",String(n).padStart(2,"0")]})]})]})},hZ=t=>w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:[w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),dZ=({reason:t,onDone:e,onPhotoTaken:n})=>{const r=fe.useRef(null),[i,s]=fe.useState(!1),[o,l]=fe.useState(null),[f,c]=fe.useState(null),[d,g]=fe.useState(null),p=fe.useCallback(async()=>{try{const _=await navigator.mediaDevices.getUserMedia({video:!0});c(_),r.current&&(r.current.srcObject=_)}catch(_){console.error("Error accessing camera:",_),g("Khng th truy cp my nh. Vui lng m bo bn  cp quyn v khng c ng dng no khc ang s dng.")}},[]);fe.useEffect(()=>(p(),()=>{f==null||f.getTracks().forEach(_=>_.stop())}),[]);const x=fe.useCallback(()=>{s(!0),l(3);const _=setInterval(()=>{l(b=>b!==null?b-1:null)},1e3);setTimeout(()=>{if(clearInterval(_),r.current){const b=document.createElement("canvas");b.width=r.current.videoWidth,b.height=r.current.videoHeight;const C=b.getContext("2d");if(C){C.drawImage(r.current,0,0,b.width,b.height);const I=b.toDataURL("image/jpeg",.8);console.log("Photo captured. Size:",Math.round(I.length/1024),"KB"),n(I)}}s(!1),e()},3e3)},[e,n]);return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-lg w-full text-center",children:[w.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Kim tra danh tnh"}),w.jsx("p",{className:"text-gray-600 mb-4",children:t}),w.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden aspect-video relative flex items-center justify-center mb-4 border border-gray-700",children:[d?w.jsx("p",{className:"text-rose-400 p-4",children:d}):w.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),o!==null&&o>0&&w.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50",children:w.jsx("span",{className:"text-white text-9xl font-bold",children:o})}),!f&&!d&&w.jsxs("div",{className:"absolute inset-0 flex items-center justify-center flex-col text-white",children:[w.jsx(Kt,{}),w.jsx("p",{className:"mt-2",children:"ang khi ng my nh..."})]})]}),w.jsx("button",{onClick:x,disabled:i||!!d||!f,className:"w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200 disabled:bg-indigo-400 disabled:cursor-not-allowed flex justify-center items-center",children:i?w.jsx(Kt,{}):w.jsxs(w.Fragment,{children:[w.jsx(hZ,{})," ",w.jsx("span",{className:"ml-2",children:"Chp nh"})]})})]})})},pZ=({isOpen:t,onClose:e,violationCount:n,maxViolations:r})=>{if(!t)return null;const i=n>=r;return w.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[60] p-4",children:w.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-lg w-full text-center",children:[w.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-rose-100",children:w.jsx(Rp,{className:"h-8 w-8 text-rose-600"})}),w.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-4 mb-2",children:"Cnh bo vi phm"}),w.jsx("p",{className:"text-gray-600 mb-4",children:i?"Bn  vt qu s ln cho php ri khi mn hnh thi. Bi thi s c np t ng.":"H thng  pht hin bn ri khi mn hnh thi. Vui lng tp trung vo bi lm  trnh b hy kt qu."}),w.jsx("div",{className:"bg-gray-100 p-3 rounded-lg mb-6",children:w.jsxs("p",{className:"font-semibold text-gray-800",children:["S ln vi phm: ",w.jsxs("span",{className:"text-rose-600 font-bold text-lg",children:[n," / ",r]})]})}),!i&&w.jsx("button",{onClick:e,className:"w-full bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200",children:"Ti  hiu, quay li bi thi"})]})})},mZ=()=>w.jsxs("div",{className:"flex justify-center items-center h-[50vh]",children:[w.jsx(Kt,{}),w.jsx("p",{className:"ml-4 text-lg text-gray-600",children:"ang xo trn cu hi..."})]}),gZ=({status:t})=>{switch(t){case"saving":return w.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[w.jsx(Kt,{})," ",w.jsx("span",{className:"ml-2",children:"ang lu..."})]});case"success":return w.jsx("div",{className:"text-sm text-emerald-600",children:"  lu tt c thay i."});case"error":return w.jsx("div",{className:"text-sm text-rose-600",children:" Li khi lu. Hy kim tra kt ni mng."});default:return w.jsx("div",{className:"text-sm text-gray-500",children:"Thay i s c t ng lu."})}},xZ=({exam:t,attempt:e,questions:n,onSubmit:r})=>{const[i]=fe.useState(()=>{if(!n||n.length===0)return[];const X=G=>{const z=[...G];for(let K=z.length-1;K>0;K--){const ee=Math.floor(Math.random()*(K+1));[z[K],z[ee]]=[z[ee],z[K]]}return z},ge=JSON.parse(JSON.stringify(n));return ge.forEach(G=>{G.options&&(G.options=X(G.options))}),X(ge)}),[s,o]=fe.useState(0),[l,f]=fe.useState(e.answers),[c,d]=fe.useState(!1),[g,p]=fe.useState(!1),[x,_]=fe.useState(""),[b,C]=fe.useState("idle"),I=fe.useRef(0),[D,A]=fe.useState(!1),[P,M]=fe.useState(0),[U,N]=fe.useState(!1),k=fe.useRef(e);k.current={...e,answers:l};const R=fe.useRef([]),V=fe.useCallback(async X=>{if(!c){d(!0),console.log(`Np bi v: ${X}`);try{let ge=0;i.forEach(re=>{l[re.id]===re.answer_key&&ge++});const G=i.length,z=G>0?ge/G:0,K={...k.current,score:z,questions:i},ee=await uF(K);r(ee)}catch(ge){console.error("Failed to submit",ge),alert(" c li khi np bi thi ca bn. Vui lng kim tra kt ni."),d(!1)}}},[r,c,i,l]),L=fe.useCallback(()=>{c||V("Ht gi")},[c,V]),{timeLeft:F,startTimer:q}=uZ(t.duration*60,L),ce=fe.useCallback(async(X,ge)=>{if(console.warn(`Proctoring event: ${X}`,ge||""),await lF({attemptId:e.id,event:X,timestamp:Date.now(),metadata:ge}),X==="focus_lost"||X==="visibility_hidden"){I.current+=1;const G=I.current;M(G),A(!0),G>=wC&&setTimeout(()=>V("Vt qu s ln vi phm cho php"),3e3)}},[e.id,V]),{requestFullScreen:oe,isFullScreen:ae}=lZ(ce);fe.useEffect(()=>{q(),oe(),p(!0),_("Xc minh danh tnh ban u")},[t.id,q,oe]),fe.useEffect(()=>{const X=t.duration*60,G=(X-F)/X;oZ.forEach((z,K)=>{G>=z&&!R.current.includes(K)&&(R.current.push(K),p(!0),_(`Kim tra danh tnh ti ${Math.round(z*100)}% tin `))})},[F,t.duration]),fe.useEffect(()=>{const X=setInterval(async()=>{if(Object.keys(k.current.answers).length>0){C("saving");try{await oF(k.current.id,k.current.answers),C("success"),setTimeout(()=>C("idle"),3e3)}catch(ge){console.error("Li t ng lu:",ge),C("error")}}},aZ);return()=>clearInterval(X)},[]);const se=(X,ge)=>{f(G=>({...G,[X]:ge}))},me=()=>{p(!1),_("")};return ae?i.length===0?w.jsx(mZ,{}):w.jsxs("div",{className:"flex flex-col md:flex-row gap-8 max-w-7xl mx-auto",children:[w.jsx(Nv,{isOpen:U,onClose:()=>N(!1),onConfirm:()=>V("Ngi dng np bi"),title:"Xc nhn np bi",message:w.jsx("p",{children:"Bn c chc chn mun np bi thi khng? Hnh ng ny khng th hon tc."})}),w.jsx(pZ,{isOpen:D,onClose:()=>A(!1),violationCount:P,maxViolations:wC}),g&&w.jsx(dZ,{reason:x,onDone:me,onPhotoTaken:X=>ce("photo_taken",{size:X.length})}),w.jsx("div",{className:"flex-grow bg-white p-4 sm:p-8 rounded-xl shadow-xl border border-gray-200",children:w.jsx(cZ,{question:i[s],questionNumber:s+1,totalQuestions:i.length,selectedOption:l[i[s].id],onAnswer:se})}),w.jsx("div",{className:"w-full md:w-80 lg:w-96 flex-shrink-0",children:w.jsxs("div",{className:"sticky top-24 bg-white p-4 sm:p-6 rounded-xl shadow-xl border border-gray-200 space-y-6",children:[w.jsx(fZ,{timeLeft:F}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-bold text-lg mb-3 text-gray-900",children:"iu hng"}),w.jsx("div",{className:"overflow-x-auto pb-2",children:w.jsx("div",{className:"grid grid-flow-col auto-cols-max gap-2 sm:grid sm:grid-cols-5 md:grid-cols-4 lg:grid-cols-5",children:i.map((X,ge)=>w.jsx("button",{onClick:()=>o(ge),"aria-label":`i n cu ${ge+1}`,className:`h-10 w-10 rounded-full flex items-center justify-center font-bold transition-colors flex-shrink-0 text-sm border-2 border-transparent ${ge===s?"bg-indigo-600 text-white ring-2 ring-offset-2 ring-indigo-500":l[X.id]?"bg-emerald-100 text-emerald-800 hover:bg-emerald-200 border-emerald-200":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:ge+1},X.id))})})]}),w.jsxs("div",{className:"pt-6 border-t border-gray-200 space-y-4",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("button",{onClick:()=>o(X=>Math.max(0,X-1)),disabled:s===0,className:"bg-white hover:bg-gray-100 text-gray-800 font-bold py-2 px-4 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cu trc"}),s===i.length-1?w.jsx("button",{onClick:()=>N(!0),disabled:c,className:"bg-rose-600 hover:bg-rose-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center disabled:bg-rose-400 transition-colors",children:c?w.jsx(Kt,{}):"Np bi"}):w.jsx("button",{onClick:()=>o(X=>Math.min(i.length-1,X+1)),disabled:s===i.length-1,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Cu sau"})]}),w.jsx("div",{className:"text-center h-5",children:w.jsx(gZ,{status:b})})]})]})})]}):w.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex flex-col items-center justify-center z-50 text-white p-8 text-center",children:[w.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Yu cu ton mn hnh"}),w.jsx("p",{className:"text-lg mb-8 max-w-2xl",children:"V mc ch gim st, bi thi ny phi c thc hin  ch  ton mn hnh. iu ny gip m bo mt mi trng thi cng bng."}),w.jsx("button",{onClick:oe,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg text-xl",children:"Vo ch  ton mn hnh"})]})},yZ=({user:t,exam:e,attempt:n,questions:r})=>{const i=fe.useMemo(()=>{let s=0;r.forEach(c=>{n.answers[c.id]===c.answer_key&&s++});const o=r.length,l=o>0?s/o*100:0,f=l>=e.pass_threshold*100;return{correctCount:s,total:o,score:l,passed:f}},[n,r,e]);return w.jsxs("div",{className:"p-8 font-sans",children:[w.jsx("h1",{className:"text-3xl font-bold mb-2 text-center",children:"BO CO KT QU BI THI"}),w.jsxs("div",{className:"text-center mb-8 border-b pb-4",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"Bi thi:"})," ",e.title]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Hc vin:"})," ",t.name]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Ngy hon thnh:"})," ",new Date(n.completed_at).toLocaleString()]})]}),w.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8 text-center",children:[w.jsxs("div",{className:"p-4 bg-gray-100 rounded",children:[w.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"KT QU"}),w.jsx("p",{className:`text-2xl font-bold ${i.passed?"text-green-600":"text-red-600"}`,children:i.passed?"T":"KHNG T"})]}),w.jsxs("div",{className:"p-4 bg-gray-100 rounded",children:[w.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"IM S"}),w.jsxs("p",{className:"text-2xl font-bold",children:[i.score.toFixed(1),"%"]})]}),w.jsxs("div",{className:"p-4 bg-gray-100 rounded",children:[w.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"TR LI NG"}),w.jsxs("p",{className:"text-2xl font-bold",children:[i.correctCount," / ",i.total]})]})]}),w.jsx("h2",{className:"text-2xl font-bold mt-8 mb-4 border-b pb-2",children:"Chi tit cu tr li"}),w.jsx("div",{className:"space-y-6",children:r.map((s,o)=>{var g,p;const l=n.answers[s.id],f=l===s.answer_key,c=(g=s.options.find(x=>x.id===l))==null?void 0:g.text,d=(p=s.options.find(x=>x.id===s.answer_key))==null?void 0:p.text;return w.jsxs("div",{className:"p-4 border rounded-lg break-inside-avoid",children:[w.jsxs("p",{className:"font-bold text-gray-800",children:["Cu ",o+1,":"]}),w.jsx("div",{className:"prose prose-sm max-w-none mb-3",dangerouslySetInnerHTML:{__html:s.stem}}),w.jsxs("p",{className:`p-2 rounded text-sm ${f?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[w.jsx("strong",{children:"Cu tr li ca bn: "})," ",c||w.jsx("span",{className:"italic",children:"Cha tr li"})]}),!f&&w.jsxs("p",{className:"p-2 mt-2 rounded text-sm bg-green-100 text-green-800",children:[w.jsx("strong",{children:"p n ng: "})," ",d]})]},s.id)})})]})},vZ=({user:t,exam:e,attempt:n,questions:r,onBackToDashboard:i})=>{const[s,o]=fe.useState(!1),[l,f]=fe.useState(null),[c,d]=fe.useState(n.reviewRequested),[g,p]=fe.useState(!0),[x,_]=fe.useState(!1);fe.useEffect(()=>{const M=setTimeout(()=>{p(!1)},1500);return()=>clearTimeout(M)},[]);const b=fe.useMemo(()=>{let M=0;const U=new Set;r.forEach(L=>{n.answers[L.id]===L.answer_key?M++:U.add(L.topic)});const N=r.length,k=N>0?M/N:0,R=k>=e.pass_threshold,V=Array.from(U);return V.length===0&&!R&&N>0&&V.push("n tp chung"),n.score=k,{correctCount:M,total:N,score:k,passed:R,incorrectTopics:V}},[e,n,r]),C=async()=>{o(!0),f(null);try{const M=await RQ(b.incorrectTopics);f(M)}catch(M){console.error("Li khi to ghi ch n tp:",M),f("Xin li,  c li khi to ghi ch n tp. Vui lng th li sau.")}finally{o(!1)}},I=async()=>{try{await cF(n.id),d(!0)}catch(M){console.error("Li khi yu cu xem li:",M),alert("Khng th gi yu cu. Vui lng kim tra kt ni mng v th li.")}},D=()=>{window.print()},A=b.score*100,P=e.pass_threshold*100;return g?w.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-xl max-w-4xl mx-auto text-center border border-gray-200",children:[w.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"ang x l kt qu"}),w.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Bi lm ca bn  c np thnh cng. Vui lng i trong giy lt trong khi h thng chm im."}),w.jsx("div",{className:"flex justify-center items-center h-40",children:w.jsx(Kt,{})})]}):w.jsxs(w.Fragment,{children:[w.jsx("style",{children:`
             @media print {
                 body * {
                     visibility: hidden;
                 }
                 .printable-area, .printable-area * {
                     visibility: visible;
                 }
                 .printable-area {
                     position: absolute;
                     left: 0;
                     top: 0;
                     width: 100%;
                 }
                 .no-print {
                     display: none;
                 }
             }
    -    `}),w.jsx(Iv,{isOpen:x,onClose:()=>_(!1),onConfirm:I,title:"Yu cu xem li",message:w.jsx("p",{children:"Bn c chc chn mun yu cu xem li kt qu theo cch th cng khng?"})}),w.jsx("div",{className:"printable-area",children:w.jsx(fZ,{user:t,exam:e,attempt:n,questions:r})}),w.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-xl max-w-4xl mx-auto text-center border border-gray-200 no-print",children:[w.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Kt qu bi thi"}),w.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:["Dnh cho: ",e.title]}),w.jsx("div",{className:`inline-block px-8 py-3 rounded-full mb-6 ${b.passed?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:w.jsx("span",{className:"text-2xl font-bold",children:b.passed?"T":"KHNG T"})}),w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[w.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 rounded-lg",children:[w.jsx("p",{className:"text-sm text-gray-500",children:"im s"}),w.jsxs("p",{className:"text-4xl font-bold text-indigo-600",children:[A.toFixed(1),"%"]})]}),w.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 rounded-lg",children:[w.jsx("p",{className:"text-sm text-gray-500",children:"Cu tr li ng"}),w.jsxs("p",{className:"text-4xl font-bold text-gray-800",children:[b.correctCount," / ",b.total]})]}),w.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 rounded-lg",children:[w.jsx("p",{className:"text-sm text-gray-500",children:"im t"}),w.jsxs("p",{className:"text-4xl font-bold text-gray-800",children:[P,"%"]})]})]}),w.jsxs("div",{className:"mb-8 pt-6 border-t border-gray-200",children:[w.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"So snh im s"}),w.jsxs("div",{className:"w-full bg-gray-100 rounded-lg p-4 h-64 flex justify-center items-end gap-8 sm:gap-12","aria-label":"Biu  so snh im s",children:[w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsx("div",{className:`w-12 sm:w-16 rounded-t-lg transition-all duration-1000 ease-out ${b.passed?"bg-emerald-500":"bg-rose-500"}`,style:{height:`${A}%`},role:"progressbar","aria-valuenow":A,"aria-valuemin":0,"aria-valuemax":100}),w.jsx("p",{className:"mt-2 text-sm font-semibold text-gray-800",children:"im ca bn"}),w.jsxs("p",{className:"text-xs text-gray-500",children:[A.toFixed(1),"%"]})]}),w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsx("div",{className:"w-12 sm:w-16 bg-gray-300 rounded-t-lg transition-all duration-1000 ease-out",style:{height:`${P}%`},role:"progressbar","aria-valuenow":P,"aria-valuemin":0,"aria-valuemax":100}),w.jsx("p",{className:"mt-2 text-sm font-semibold text-gray-800",children:"im t"}),w.jsxs("p",{className:"text-xs text-gray-500",children:[P.toFixed(1),"%"]})]})]})]}),w.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[w.jsx("button",{onClick:i,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg transition-colors",children:"V trang ch"}),w.jsx("button",{onClick:()=>_(!0),disabled:c,className:"bg-white hover:bg-gray-100 text-gray-800 font-bold py-3 px-6 rounded-lg transition-colors border border-gray-300 disabled:bg-gray-200 disabled:cursor-not-allowed",children:c?" yu cu xem li":"Yu cu xem li"}),w.jsx("button",{onClick:M,className:"bg-white hover:bg-gray-100 text-gray-800 font-bold py-3 px-6 rounded-lg transition-colors border border-gray-300",children:" In bo co"}),b.incorrectTopics.length>0&&w.jsx("button",{onClick:C,disabled:s,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg transition-colors disabled:bg-purple-400",children:s?w.jsx(en,{}):" To ghi ch n tp bng AI"})]}),l&&w.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg text-left border border-gray-200",children:[w.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Hng dn n tp c nhn ca bn"}),w.jsx("div",{className:"prose prose-indigo max-w-none",dangerouslySetInnerHTML:{__html:l}})]})]})]})},dZ=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),pZ=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),mZ=({user:t,onLogout:e})=>w.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200 shadow-sm sticky top-0 z-40",children:w.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center",children:[w.jsx("h1",{className:"text-xl md:text-2xl font-bold text-indigo-600",children:"Thi trc tuyn ProctorFree"}),w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[w.jsx(dZ,{}),w.jsx("span",{className:"hidden sm:inline font-medium text-gray-800",children:t.name})]}),w.jsxs("button",{onClick:e,className:"flex items-center space-x-2 bg-white hover:bg-gray-100 text-gray-700 font-medium py-2 px-4 rounded-lg transition-colors duration-200 border border-gray-300","aria-label":"ng xut",children:[w.jsx(pZ,{}),w.jsx("span",{className:"hidden sm:inline",children:"ng xut"})]})]})]})}),gZ={focus_lost:{icon:"",label:"Mt tp trung",color:"text-yellow-600"},visibility_hidden:{icon:"",label:"Chuyn Tab",color:"text-red-600"},copy_paste_blocked:{icon:"",label:"Chn sao chp/dn",color:"text-orange-600"},photo_taken:{icon:"",label:" chp nh danh tnh",color:"text-blue-600"}},xZ=({attemptId:t,onBack:e})=>{const[n,r]=fe.useState([]),[i,s]=fe.useState(!0),[o,l]=fe.useState(!1),[f,c]=fe.useState(null);fe.useEffect(()=>{(async()=>{if(!t)return;s(!0);const p=await gF(t);r(p),s(!1)})()},[t]);const d=async()=>{l(!0);const g=await CQ(n);c(g),l(!1)};return w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsxs("div",{children:[w.jsx("button",{onClick:e,className:"text-indigo-600 hover:underline mb-2",children:" Quay li kt qu"}),w.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Bo co gim st"}),w.jsxs("p",{className:"text-gray-600",children:["Hin th nht k hot ng cho ln th: ",t]})]}),w.jsx("button",{onClick:d,disabled:o||n.length===0,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center disabled:bg-purple-300 transition-colors",children:o?w.jsx(en,{}):" Tm tt bng AI"})]}),i?w.jsxs("div",{className:"flex justify-center items-center h-64",children:[w.jsx(en,{})," ",w.jsx("span",{className:"ml-3",children:"ang ti nht k..."})]}):w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[w.jsx("h3",{className:"font-bold text-xl mb-4 text-gray-900",children:"Nht k s kin"}),w.jsx("div",{className:"space-y-3 max-h-[50vh] overflow-y-auto pr-2",children:n.length>0?n.map(g=>{const p=gZ[g.event]||{icon:"",label:g.event,color:"text-gray-600"};return w.jsxs("div",{className:"flex items-start p-2 bg-gray-100 rounded-md",children:[w.jsx("span",{className:"text-xl mr-3",children:p.icon}),w.jsxs("div",{children:[w.jsx("p",{className:`font-semibold ${p.color}`,children:p.label}),w.jsx("p",{className:"text-sm text-gray-500",children:new Date(g.timestamp).toLocaleString()})]})]},g.id)}):w.jsx("p",{className:"text-gray-500 text-center py-8",children:"Khng c s kin gim st no c ghi li cho ln th ny."})})]}),w.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[w.jsx("h3",{className:"font-bold text-xl mb-4 text-gray-900",children:"Tm tt bi AI"}),f?w.jsx("div",{className:"prose prose-indigo max-w-none",dangerouslySetInnerHTML:{__html:f}}):w.jsx("p",{className:"text-gray-500 text-center py-8",children:o?"ang to tm tt...":'Nhp vo nt "Tm tt bng AI"  to phn tch cc s kin.'})]})]})]})},yZ=()=>{const[t,e]=fe.useState(null),[n,r]=fe.useState("login"),[i,s]=fe.useState(null),[o,l]=fe.useState(null),[f,c]=fe.useState(null),[d,g]=fe.useState([]),[p,x]=fe.useState(!0),[_,b]=fe.useState(null),[C,I]=fe.useState("");fe.useEffect(()=>{const k=sM(Gf,async R=>{if(R)try{const L=(await R.getIdTokenResult()).claims.role==="admin";let U;if(L)U={id:R.uid,name:R.displayName||R.email,email:R.email,role:"admin"};else{const q=await aF(R.email);U={id:R.uid,name:q.name,email:q.email,role:"student",classIds:q.classIds}}e(U),r(U.role==="student"?"dashboard":"admin")}catch(O){console.error("Khng th ly h s ngi dng:",O),alert("Ti khon ca bn cha c gn vo lp hc no hoc c li khi xc thc. Vui lng lin h qun tr vin."),await Gf.signOut()}else e(null),r("login");x(!1)});return()=>k()},[]);const M=fe.useCallback(async()=>{await Gf.signOut(),e(null),s(null),l(null),c(null),g([]),I(""),r("login")},[]),A=fe.useCallback(async(k,R,O)=>{x(!0),I("");try{if(!t||!t.email)throw new Error("Khng tm thy thng tin ngi dng. Vui lng ng nhp li.");const L=await uF(k.id,t.email);if(!L||!L.url)throw new Error("Khng th ly c bin th  thi. Vui lng lin h qun tr vin.");const U=await tF(L.url);if(U.length===0)throw new Error("Khng th ti cu hi t URL c cung cp. File c th trng hoc khng hp l.");g(U),l(k),s(R),c(O),r("exam")}catch(L){const U=L instanceof Error?L.message:String(L);console.error("Li khi bt u bi thi:",U),I(`Khng th bt u bi thi: ${U}`),r("dashboard")}finally{x(!1)}},[t]),P=fe.useCallback(k=>{c(k),r("results")},[]),D=fe.useCallback(()=>{s(null),l(null),c(null),g([]),I(""),(t==null?void 0:t.role)==="admin"?r("admin"):r("dashboard")},[t]),V=fe.useCallback(k=>{b(k),r("proctor_report")},[]),N=()=>{if(p)return w.jsx("div",{className:"flex items-center justify-center h-screen",children:w.jsx(en,{})});if(!t)return w.jsx(Lw,{});switch(n){case"admin":return w.jsx(QQ,{onViewProctoringReport:V});case"proctor_report":return _?w.jsx(xZ,{attemptId:_,onBack:D}):(r("admin"),null);case"dashboard":return w.jsx(yF,{user:t,onStartExam:A,globalError:C,clearGlobalError:()=>I("")});case"exam":return o&&f&&d.length>0?w.jsx(cZ,{exam:o,attempt:f,questions:d,onSubmit:P}):(r("dashboard"),null);case"results":if(t&&o&&f){const k=f.questions||d;if(k.length>0)return w.jsx(hZ,{user:t,exam:o,attempt:f,questions:k,onBackToDashboard:D})}return r("dashboard"),null;default:return w.jsx(Lw,{})}};return w.jsxs("div",{className:"bg-gray-50 min-h-screen font-sans text-gray-800",children:[t&&w.jsx(mZ,{user:t,onLogout:M}),w.jsx("main",{className:"container mx-auto px-4 py-8 sm:px-6 lg:px-8",children:w.jsx("div",{className:"w-full",children:N()})})]})},IR=document.getElementById("root");if(!IR)throw new Error("Could not find root element to mount to");const vZ=v8.createRoot(IR);vZ.render(w.jsx(f8.StrictMode,{children:w.jsx(yZ,{})}));
    +    `}),w.jsx(Nv,{isOpen:x,onClose:()=>_(!1),onConfirm:I,title:"Yu cu xem li",message:w.jsx("p",{children:"Bn c chc chn mun yu cu xem li kt qu theo cch th cng khng?"})}),w.jsx("div",{className:"printable-area",children:w.jsx(yZ,{user:t,exam:e,attempt:n,questions:r})}),w.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-xl max-w-4xl mx-auto text-center border border-gray-200 no-print",children:[w.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Kt qu bi thi"}),w.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:["Dnh cho: ",e.title]}),w.jsx("div",{className:`inline-block px-8 py-3 rounded-full mb-6 ${b.passed?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:w.jsx("span",{className:"text-2xl font-bold",children:b.passed?"T":"KHNG T"})}),w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 mb-8",children:[w.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 rounded-lg",children:[w.jsx("p",{className:"text-sm text-gray-500",children:"im s"}),w.jsxs("p",{className:"text-4xl font-bold text-indigo-600",children:[A.toFixed(1),"%"]})]}),w.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 rounded-lg",children:[w.jsx("p",{className:"text-sm text-gray-500",children:"Cu tr li ng"}),w.jsxs("p",{className:"text-4xl font-bold text-gray-800",children:[b.correctCount," / ",b.total]})]}),w.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-4 rounded-lg",children:[w.jsx("p",{className:"text-sm text-gray-500",children:"im t"}),w.jsxs("p",{className:"text-4xl font-bold text-gray-800",children:[P,"%"]})]})]}),w.jsxs("div",{className:"mb-8 pt-6 border-t border-gray-200",children:[w.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"So snh im s"}),w.jsxs("div",{className:"w-full bg-gray-100 rounded-lg p-4 h-64 flex justify-center items-end gap-8 sm:gap-12","aria-label":"Biu  so snh im s",children:[w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsx("div",{className:`w-12 sm:w-16 rounded-t-lg transition-all duration-1000 ease-out ${b.passed?"bg-emerald-500":"bg-rose-500"}`,style:{height:`${A}%`},role:"progressbar","aria-valuenow":A,"aria-valuemin":0,"aria-valuemax":100}),w.jsx("p",{className:"mt-2 text-sm font-semibold text-gray-800",children:"im ca bn"}),w.jsxs("p",{className:"text-xs text-gray-500",children:[A.toFixed(1),"%"]})]}),w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsx("div",{className:"w-12 sm:w-16 bg-gray-300 rounded-t-lg transition-all duration-1000 ease-out",style:{height:`${P}%`},role:"progressbar","aria-valuenow":P,"aria-valuemin":0,"aria-valuemax":100}),w.jsx("p",{className:"mt-2 text-sm font-semibold text-gray-800",children:"im t"}),w.jsxs("p",{className:"text-xs text-gray-500",children:[P.toFixed(1),"%"]})]})]})]}),w.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[w.jsx("button",{onClick:i,className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-6 rounded-lg transition-colors",children:"V trang ch"}),w.jsx("button",{onClick:()=>_(!0),disabled:c,className:"bg-white hover:bg-gray-100 text-gray-800 font-bold py-3 px-6 rounded-lg transition-colors border border-gray-300 disabled:bg-gray-200 disabled:cursor-not-allowed",children:c?" yu cu xem li":"Yu cu xem li"}),w.jsx("button",{onClick:D,className:"bg-white hover:bg-gray-100 text-gray-800 font-bold py-3 px-6 rounded-lg transition-colors border border-gray-300",children:" In bo co"}),b.incorrectTopics.length>0&&w.jsx("button",{onClick:C,disabled:s,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg transition-colors disabled:bg-purple-400",children:s?w.jsx(Kt,{}):" To ghi ch n tp bng AI"})]}),l&&w.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg text-left border border-gray-200",children:[w.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Hng dn n tp c nhn ca bn"}),w.jsx("div",{className:"prose prose-indigo max-w-none",dangerouslySetInnerHTML:{__html:l}})]})]})]})},_Z=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),TZ=t=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,...t,children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),EZ=({user:t,onLogout:e})=>w.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200 shadow-sm sticky top-0 z-40",children:w.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center",children:[w.jsx("h1",{className:"text-xl md:text-2xl font-bold text-indigo-600",children:"Thi trc tuyn ProctorFree"}),w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[w.jsx(_Z,{}),w.jsx("span",{className:"hidden sm:inline font-medium text-gray-800",children:t.name})]}),w.jsxs("button",{onClick:e,className:"flex items-center space-x-2 bg-white hover:bg-gray-100 text-gray-700 font-medium py-2 px-4 rounded-lg transition-colors duration-200 border border-gray-300","aria-label":"ng xut",children:[w.jsx(TZ,{}),w.jsx("span",{className:"hidden sm:inline",children:"ng xut"})]})]})]})}),bZ={focus_lost:{icon:"",label:"Mt tp trung",color:"text-yellow-600"},visibility_hidden:{icon:"",label:"Chuyn Tab",color:"text-red-600"},copy_paste_blocked:{icon:"",label:"Chn sao chp/dn",color:"text-orange-600"},photo_taken:{icon:"",label:" chp nh danh tnh",color:"text-blue-600"}},wZ=({attemptId:t,onBack:e})=>{const[n,r]=fe.useState([]),[i,s]=fe.useState(!0),[o,l]=fe.useState(!1),[f,c]=fe.useState(null);fe.useEffect(()=>{(async()=>{if(!t)return;s(!0);const p=await TF(t);r(p),s(!1)})()},[t]);const d=async()=>{l(!0);const g=await DQ(n);c(g),l(!1)};return w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-center mb-6",children:[w.jsxs("div",{children:[w.jsx("button",{onClick:e,className:"text-indigo-600 hover:underline mb-2",children:" Quay li kt qu"}),w.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Bo co gim st"}),w.jsxs("p",{className:"text-gray-600",children:["Hin th nht k hot ng cho ln th: ",t]})]}),w.jsx("button",{onClick:d,disabled:o||n.length===0,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center disabled:bg-purple-300 transition-colors",children:o?w.jsx(Kt,{}):" Tm tt bng AI"})]}),i?w.jsxs("div",{className:"flex justify-center items-center h-64",children:[w.jsx(Kt,{})," ",w.jsx("span",{className:"ml-3",children:"ang ti nht k..."})]}):w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[w.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[w.jsx("h3",{className:"font-bold text-xl mb-4 text-gray-900",children:"Nht k s kin"}),w.jsx("div",{className:"space-y-3 max-h-[50vh] overflow-y-auto pr-2",children:n.length>0?n.map(g=>{const p=bZ[g.event]||{icon:"",label:g.event,color:"text-gray-600"};return w.jsxs("div",{className:"flex items-start p-2 bg-gray-100 rounded-md",children:[w.jsx("span",{className:"text-xl mr-3",children:p.icon}),w.jsxs("div",{children:[w.jsx("p",{className:`font-semibold ${p.color}`,children:p.label}),w.jsx("p",{className:"text-sm text-gray-500",children:new Date(g.timestamp).toLocaleString()})]})]},g.id)}):w.jsx("p",{className:"text-gray-500 text-center py-8",children:"Khng c s kin gim st no c ghi li cho ln th ny."})})]}),w.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[w.jsx("h3",{className:"font-bold text-xl mb-4 text-gray-900",children:"Tm tt bi AI"}),f?w.jsx("div",{className:"prose prose-indigo max-w-none",dangerouslySetInnerHTML:{__html:f}}):w.jsx("p",{className:"text-gray-500 text-center py-8",children:o?"ang to tm tt...":'Nhp vo nt "Tm tt bng AI"  to phn tch cc s kin.'})]})]})]})},SZ=()=>{const[t,e]=fe.useState(null),[n,r]=fe.useState("login"),[i,s]=fe.useState(null),[o,l]=fe.useState(null),[f,c]=fe.useState(null),[d,g]=fe.useState([]),[p,x]=fe.useState(!0),[_,b]=fe.useState(null),[C,I]=fe.useState("");fe.useEffect(()=>{const k=fM(jf,async R=>{if(R)try{const L=(await R.getIdTokenResult()).claims.role==="admin";let F;if(L)F={id:R.uid,name:R.displayName||R.email,email:R.email,role:"admin"};else{const q=await fF(R.email);F={id:R.uid,name:q.name,email:q.email,role:"student",classIds:q.classIds}}e(F),r(F.role==="student"?"dashboard":"admin")}catch(V){console.error("Khng th ly h s ngi dng:",V),alert("Ti khon ca bn cha c gn vo lp hc no hoc c li khi xc thc. Vui lng lin h qun tr vin."),await jf.signOut()}else e(null),r("login");x(!1)});return()=>k()},[]);const D=fe.useCallback(async()=>{await jf.signOut(),e(null),s(null),l(null),c(null),g([]),I(""),r("login")},[]),A=fe.useCallback(async(k,R,V)=>{x(!0),I("");try{if(!t||!t.email)throw new Error("Khng tm thy thng tin ngi dng. Vui lng ng nhp li.");const L=await dF(k.id,t.email);if(!L||!L.url)throw new Error("Khng th ly c bin th  thi. Vui lng lin h qun tr vin.");const F=await aF(L.url);if(F.length===0)throw new Error("Khng th ti cu hi t URL c cung cp. File c th trng hoc khng hp l.");g(F),l(k),s(R),c(V),r("exam")}catch(L){const F=L instanceof Error?L.message:String(L);console.error("Li khi bt u bi thi:",F),I(`Khng th bt u bi thi: ${F}`),r("dashboard")}finally{x(!1)}},[t]),P=fe.useCallback(k=>{c(k),r("results")},[]),M=fe.useCallback(()=>{s(null),l(null),c(null),g([]),I(""),(t==null?void 0:t.role)==="admin"?r("admin"):r("dashboard")},[t]),U=fe.useCallback(k=>{b(k),r("proctor_report")},[]),N=()=>{if(p)return w.jsx("div",{className:"flex items-center justify-center h-screen",children:w.jsx(Kt,{})});if(!t)return w.jsx(Fw,{});switch(n){case"admin":return w.jsx(sZ,{onViewProctoringReport:U});case"proctor_report":return _?w.jsx(wZ,{attemptId:_,onBack:M}):(r("admin"),null);case"dashboard":return w.jsx(bF,{user:t,onStartExam:A,globalError:C,clearGlobalError:()=>I("")});case"exam":return o&&f&&d.length>0?w.jsx(xZ,{exam:o,attempt:f,questions:d,onSubmit:P}):(r("dashboard"),null);case"results":if(t&&o&&f){const k=f.questions||d;if(k.length>0)return w.jsx(vZ,{user:t,exam:o,attempt:f,questions:k,onBackToDashboard:M})}return r("dashboard"),null;default:return w.jsx(Fw,{})}};return w.jsxs("div",{className:"bg-gray-50 min-h-screen font-sans text-gray-800",children:[t&&w.jsx(EZ,{user:t,onLogout:D}),w.jsx("main",{className:"container mx-auto px-4 py-8 sm:px-6 lg:px-8",children:w.jsx("div",{className:"w-full",children:N()})})]})},PR=document.getElementById("root");if(!PR)throw new Error("Could not find root element to mount to");const AZ=S8.createRoot(PR);AZ.render(w.jsx(x8.StrictMode,{children:w.jsx(SZ,{})}));
     
    EOF
    )